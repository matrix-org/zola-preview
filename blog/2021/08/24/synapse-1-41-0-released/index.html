<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Synapse 1.41.0 released</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "Synapse 1.41.0 released",
    "datePublished": "2021-08-24T00:00+00:00",
    
    "author": [
    
    {
        "@type": "Person",
        "name": "Dan Callahan",
        "url": "//authors/dan-callahan"
    }
    
    ]
}
</script>
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<article class="content post with-sidebar">
    <header>
        <h1>Synapse 1.41.0 released</h1>
        <span>24.08.2021 00:00 — <a
                href="/category/releases">Releases</a>
             — <a href="/author/dan-callahan">Dan Callahan</a>
        </span>
        
    </header>
    <div class="post-main">
        <div class="post-content">
            <p>Synapse 1.41.0 is out now!</p>
<blockquote>
<p><strong>NOTE:</strong> We anticipate publishing a <strong>security release</strong> next Tuesday, the 31st of August.</p>
<p>Synapse 1.41.1 will contain fixes for two moderate severity issues.</p>
</blockquote>
<p>Synapse 1.41 includes changes to forward proxies, template settings, and media workers which may require your attention. Please see the  <a href="https://matrix-org.github.io/synapse/v1.41/upgrade.html#upgrading-to-v1410">Upgrade Notes</a> for details.</p>
<p>Also, this release <strong>removes support for Ubuntu 20.10</strong> (Groovy Gorilla), which reached End of Life last month. Support for Ubuntu 18.04 LTS (Bionic Beaver) and Ubuntu 21.04 (Hirsute Hippo) will be withdrawn near the end of this year under our <a href="https://matrix-org.github.io/synapse/v1.41/deprecation_policy.html">platform deprecation policy</a>.</p>
<h2 id="promoting-restricted-rooms">Promoting Restricted Rooms</h2>
<p>Synapse 1.41 includes experimental support for <a href="https://github.com/matrix-org/matrix-doc/pull/3244">MSC3244: Room version capabilities</a>, which indicates to clients that they should use Room Version 8 when creating <a href="https://github.com/matrix-org/matrix-doc/pull/3083">restricted rooms</a>. For example, Element's clients will use the MSC3244 metadata, which is on by default in Synapse 1.41, to determine whether to show end users the UI for creating restricted rooms.</p>
<p>Room Version 6 will remain the default for newly created rooms which do not explicitly request the restricted room capabilities at creation time. This strikes a balance between the broad compatibility of an older default room version, while still making newer features available upon request.</p>
<h2 id="new-mscs">New MSCs</h2>
<p>This version of Synapse implements experimental support for:</p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/3266">MSC3266: Room summary API</a> which provides a simple way to obtain information about a specific room, such as its join rules, room type, etc.</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/3288">MSC3288: Add room type in store invite</a> which lets identity servers differentiate between invitations to rooms and invitations to Spaces.</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/3244">MSC3244: Room version capabilities</a> as described above.</li>
</ul>
<p>We've also added pagination to the Spaces Summary API based on updates to <a href="https://github.com/matrix-org/matrix-doc/pull/2946">MSC2946</a>.</p>
<p>Work towards implementing <a href="https://github.com/matrix-org/matrix-doc/pull/2716">MSC2716: Incrementally importing history into existing rooms</a> continues, with several related pull requests landing in this release.</p>
<h2 id="more-admin-apis">More Admin APIs</h2>
<p>Synapse now has an Admin APIs to:</p>
<ul>
<li><a href="https://matrix-org.github.io/synapse/v1.41/admin_api/user_admin_api.html#delete-media-uploaded-by-a-user">Delete media uploaded by a user</a> from your homeserver's local media storage.</li>
<li><a href="https://matrix-org.github.io/synapse/v1.41/admin_api/user_admin_api.html#create-or-modify-account">Edit the external ids</a> associated with a user by Single Sign-On / OpenID Connect providers.</li>
<li><a href="https://matrix-org.github.io/synapse/v1.41/admin_api/user_admin_api.html#check-username-availability">Check if a username is available</a>, which behaves similarly to the <a href="https://matrix.org/docs/spec/client_server/r0.6.0#get-matrix-client-r0-register-available">related client-server API</a> in the Matrix Spec, but the Admin API version works even when registration is disabled on a homeserver.</li>
</ul>
<h2 id="everything-else">Everything Else</h2>
<p>In addition to the usual boosts to performance and reliability like <a href="https://github.com/matrix-org/synapse/pull/10119">#10119</a> or <a href="https://github.com/matrix-org/synapse/pull/10513">#10513</a>, this release includes several notable improvements:</p>
<ul>
<li>The <code>/createRoom</code> endpoint can now be <a href="https://github.com/matrix-org/synapse/pull/10564">handled by workers</a>.</li>
<li>Synapse can now route outbound federation requests, remote media downloads, and public key fetches through a <a href="https://matrix-org.github.io/synapse/v1.41/setup/forward_proxy.html">forward proxy</a>.</li>
<li>Custom template configuration has now been centralized into a single <code>custom_templates_directory</code> <a href="https://matrix-org.github.io/synapse/v1.41/templates.html">configuration setting</a>.</li>
<li>Matrix clients which allow users to <a href="https://matrix.org/docs/spec/client_server/latest#id64">set a <code>status_msg</code> with their presence</a> will find that Synapse no longer arbitrarily unsets the message when a user goes offline. Instead, each user's <code>status_msg</code> will persist until it is deliberately cleared by their client.</li>
<li>The extension module API now exposes a function, <code>get_userinfo_by_id</code>, which accepts an MXID and returns a <code>UserInfo</code> object. This should simplify writing extension modules like spam checkers.</li>
</ul>
<p>These are just the highlights; please see the <a href="https://matrix-org.github.io/synapse/v1.41/upgrade.html#upgrading-to-v1410">Upgrade Notes</a> and <a href="https://github.com/matrix-org/synapse/blob/v1.41.0/CHANGES.md">Release Notes</a> for a complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our thanks to everyone who contributed to this release, including <a href="https://github.com/Bubu">Bubu</a>, <a href="https://github.com/dklimpel">dklimpel</a>, <a href="https://github.com/H-Shay">H-Shay</a>, <a href="https://github.com/ilmari">ilmari</a>, <a href="https://github.com/Kentokamoto">Kentokamoto</a>, <a href="https://github.com/SimonBrandner">SimonBrandner</a>, and <a href="https://github.com/warricksothr">warricksothr</a>.</p>

        </div>
        
        <aside>
            <h3>Post Contents</h3>

            <ul style="list-style: none; padding-left: 0px;">
                
                <li>
                    <a href="/blog/2021/08/24/synapse-1-41-0-released/#promoting-restricted-rooms">Promoting Restricted Rooms</a>
                    
                </li>
                
                <li>
                    <a href="/blog/2021/08/24/synapse-1-41-0-released/#new-mscs">New MSCs</a>
                    
                </li>
                
                <li>
                    <a href="/blog/2021/08/24/synapse-1-41-0-released/#more-admin-apis">More Admin APIs</a>
                    
                </li>
                
                <li>
                    <a href="/blog/2021/08/24/synapse-1-41-0-released/#everything-else">Everything Else</a>
                    
                </li>
                
            </ul>
        </aside>
        
    </div>
</article>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
