<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Synapse 1.48.0 released</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href="/style.css" />

    


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "Synapse 1.48.0 released",
    "datePublished": "2021-11-30T00:00+00:00",
    
    "author": [
    
    {
        "@type": "Person",
        "name": "Brendan Abolivier",
        "url": "//authors/brendan-abolivier"
    }
    
    ]
}
</script>
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<article class="content post with-sidebar">
    <header>
        <h1>Synapse 1.48.0 released</h1>
        <span>30.11.2021 00:00 — <a
                href="/category/releases">Releases</a>
             — <a href="/author/brendan-abolivier">Brendan Abolivier</a>
        </span>
        
    </header>
    <div class="post-main">
        <div class="post-content">
            <p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.48.0">Synapse 1.48.0</a> is out now!</p>
<blockquote>
<p><strong>NOTE:</strong> Synapse 1.49, due out on December 14th, will be the <strong>last release of Synapse to support Python 3.6 or PostgreSQL 9.6</strong> per our <a href="https://matrix-org.github.io/synapse/v1.48/deprecation_policy.html">platform dependency deprecation policy</a>. Accordingly, we will remove support for Ubuntu 18.04 LTS (Bionic) at the same date, as it ships with Python 3.6.</p>
</blockquote>
<h2 id="password-resets-and-identity-servers">Password resets and identity servers</h2>
<p>This release removes the long-deprecated <code>trust_identity_server_for_password_resets</code> configuration option. This option was initially deprecated in <a href="https://github.com/matrix-org/synapse/releases/tag/v1.4.0">Synapse 1.4.0</a> back in October 2019.</p>
<p>Admins of servers still using this configuration option will need to update their Synapse configuration to send password resets through an SMTP server directly rather than relying on identity servers to send them on their behalf.</p>
<h2 id="new-admin-apis-and-improved-alignment-with-matrix-1-1">New <a href="https://matrix-org.github.io/synapse/latest/usage/administration/admin_api/index.html">admin APIs</a> and improved alignment with Matrix 1.1</h2>
<p>This release also introduces a handful of new admin APIs, allowing administrators to <a href="https://matrix-org.github.io/synapse/latest/admin_api/user_admin_api.html#controlling-whether-a-user-is-shadow-banned">un-shadow-ban users</a>, <a href="https://matrix-org.github.io/synapse/latest/admin_api/rooms.html#block-room-api">block a room</a>, and <a href="https://matrix-org.github.io/synapse/latest/usage/administration/admin_api/background_updates.html#run">run specific background updates</a> (but we'll talk about this last one a bit later on). The <a href="https://matrix-org.github.io/synapse/latest/admin_api/rooms.html#delete-room-api">delete room API</a> has also been updated to be able to run in the background or to block a room pre-emptively, even if the server doesn't know about it yet.</p>
<p>This release also brings Synapse into greater alignment with version 1.1 of <a href="https://matrix.org/blog/2021/11/09/matrix-v-1-1-release">the Matrix specification</a> by adding support for API paths beginning <code>/_matrix/client/v3</code> and <code>/_matrix/media/v3</code>.</p>
<h2 id="background-updates">Background updates</h2>
<p>When Synapse updates from one version to another, it might need to run large scale updates on its database. In order to avoid blocking startup for too long while waiting for these updates to run, Synapse runs them in the background after starting.</p>
<p>Lately the Synapse team has been doing some work to improve the performance of these background updates. More specifically, this release includes a <a href="https://github.com/matrix-org/synapse/pull/11421">performance fix</a> for a background update introduced in Synapse 1.47.0, as well as a <a href="https://matrix-org.github.io/synapse/latest/usage/administration/admin_api/background_updates.html#run">new admin API</a> to let admins rerun specific updates.</p>
<p>Future Synapse updates will also include <a href="https://github.com/matrix-org/synapse/pull/11306">module capabilities</a> and <a href="https://github.com/matrix-org/synapse/issues/11260">more configuration options</a> for controlling background updates.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release also includes some improved support of <a href="https://github.com/matrix-org/matrix-doc/pull/3440">MSC3440</a> to help threading. It also adds support for the stable identifiers from <a href="https://github.com/matrix-org/matrix-doc/pull/2778">MSC2778</a>, bringing Synapse closer to supporting end-to-end (or end-to-bridge) encryption support for application services.</p>
<p>We also now publish a Docker image, <code>matrixdotorg/synapse:develop</code>, which tracks the development head of Synapse.</p>
<p>Please see the Synapse <a href="https://github.com/matrix-org/synapse/blob/v1.48.0/CHANGES.md">Release Notes</a> for a complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our thanks to everyone who contributed to this release, including <a href="https://github.com/dklimpel">Dirk Klimpel</a>, <a href="https://github.com/binarymaster">Stanislav Motylkov</a>, <a href="https://github.com/tulir">Tulir Asokan</a> and <a href="https://github.com/Neeeflix">Neeeflix</a>.</p>

        </div>
        
        <aside>
            <h3>Post Contents</h3>

            <ul style="list-style: none; padding-left: 0px;">
                
                <li>
                    <a href="/blog/2021/11/30/synapse-1-48-0-released/#password-resets-and-identity-servers">Password resets and identity servers</a>
                    
                </li>
                
                <li>
                    <a href="/blog/2021/11/30/synapse-1-48-0-released/#new-admin-apis-and-improved-alignment-with-matrix-1-1">New admin APIs and improved alignment with Matrix 1.1</a>
                    
                </li>
                
                <li>
                    <a href="/blog/2021/11/30/synapse-1-48-0-released/#background-updates">Background updates</a>
                    
                </li>
                
                <li>
                    <a href="/blog/2021/11/30/synapse-1-48-0-released/#everything-else">Everything else</a>
                    
                </li>
                
            </ul>
        </aside>
        
    </div>
</article>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
