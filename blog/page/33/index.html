<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href="/style.css" />

    

<meta name="description" content="The Matrix.org Foundation blod is where the Matrix Foundation and Community
post updates on their activity. Every Friday evening they publish This Week In
Matrix, a digest of the past week activity.
">

</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;integrations&#x2F;">Integrations</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;01&#x2F;24&#x2F;this-week-in-matrix-2020-01-24&#x2F;" title="This Week in Matrix 2020-01-24">This Week in Matrix 2020-01-24</a></h1>
            <span>
                24.01.2020 00:00
                ‚Äî
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                ‚Äî
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe src="https://www.youtube.com/embed/GiPE4EXTaVo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Half-Shot talks to Neil about his new(ish) project, <a href="https://github.com/Half-Shot/matrix-presents">matrix-presents</a></p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> reported:</p>
<blockquote>
<p>Here are your spec updates for this week!</p>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs currently in Final Comment Period</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2422">MSC2422: Allow color on font tag</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2416">MSC2416: Enhance m.login.token authentication type</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2414">MSC2414: Make reason optional for reporting content</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2413">MSC2413: Remove client_secret</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2425">MSC2425: Remove Authentication on /submitToken Identity Service API</a></li>
</ul>
<p>The Spec Core Team is still working on implementation, and likely will continue to be until after FOSDEM.</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite-p2p">Dendrite / P2P</h3>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> announced:</p>
<blockquote>
<p>A fairly big PR was merged into Dendrite yesterday (and some more fixes today) which gets <code>/sync</code> working better and adds the <code>/messages</code> endpoint, so it's now actually possible to paginate around in channels and to see room history. This massively improves the user experience when logging into a Dendrite homeserver.</p>
<p>In addition, another small PR was merged to fix Riot user login in the normal login workflow (not registration) and the public rooms API has been wired up for roomserver events.</p>
<p>A couple of changes have also been merged into <code>gomatrixserverlib</code>, mostly fixing the creation of <code>/backfill</code> requests and allowing the use of custom <code>http.Transport</code>s for federation traffic.</p>
<p>P2P work is continuing - stay tuned!</p>
</blockquote>
<h3 id="synapse-1-9-0">Synapse 1.9.0</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> said:</p>
<blockquote>
<p>This week we shipped <a href="https://matrix.org/blog/2020/01/23/synapse-1-9-0-released/">1.9.0</a> which contained new admin API endpoints as well as bug fixes for existing ones. Aside from that, we‚Äôve been continuing on our E2EE UX bug hunt and python3ing sydent.</p>
<p>Next week, we‚Äôll keep going on the e2ee ux bug hunt and sydent work. As well as dusting off MSCs <a href="https://github.com/matrix-org/matrix-doc/pull/2260">2260</a> <a href="https://github.com/matrix-org/matrix-doc/pull/2261">2261</a> to improve room aliases management.</p>
</blockquote>
<h4 id="deploying-synapse">Deploying Synapse</h4>
<p>Several packaging projects have been updated to deploy the new version:</p>
<ul>
<li><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/">matrix-docker-ansible-deploy</a> from <a href="https://matrix.to/#/@slavi:devture.com">Slavi</a></li>
<li><a href="https://hub.docker.com/r/avhost/docker-matrix">avhost/docker-matrix</a> and <a href="https://hub.docker.com/r/mvgorcum/docker-matrix">mvgorcum/docker-matrix</a> from <a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a></li>
<li><a href="https://github.com/ananace/matrix-synapse">Kubernetes</a> from <a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a></li>
<li><a href="https://hub.docker.com/r/black0/synapse">multi-arch synapse docker image</a> from <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a></li>
<li>also from the Debian repos thanks to <a href="https://matrix.to/#/@andrewsh:matrix.org">@andrewsh:matrix.org</a></li>
</ul>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="matrix-appservice-irc-hits-0-14-1">matrix-appservice-IRC hits 0.14.1</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> said:</p>
<blockquote>
<p>Hello wannabe IRC and Matrix users! Today the bridge team bring you the 0.14.X series of the irc bridge. This is the mammoth release featuring all the Typescript changes and postgres stuff. The Postgres changes aren't as essential as they are for Synapse, but useful if you run a ~20k Freenode bridge.</p>
<p>The highlights are:</p>
<ul>
<li>Typescript is now used everywhere across the project, bringing a range of refactors.</li>
<li>Postgresql support has landed, while still retaining NeDB support for the present.</li>
<li>Storing your password will now cause a seamless reconnect to the IRC network, allowing you to set a password without having to bother NickServ.</li>
<li>Sentry.io support has landed, to trace errors in the bridge.</li>
<li>Added a <code>reapUsers</code> API endpoint, which allows the bridge to automatically prune users who have not interacted with the bridge for a long time.</li>
</ul>
<p>Some of these features are still more experimental than others, so the next release hopes to clean up a lot of the outstanding bugs. That's all from us for now :)</p>
</blockquote>
<h3 id="mx-puppet-bridge">mx-puppet-bridge</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> said:</p>
<blockquote>
<p>A lot happened on the <a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a> front! Mostly documentation and code cleanup to make future development easier.</p>
<ul>
<li>Introduce better documentation and a sample config</li>
<li>Introduce a demonstration protocol implementation, <a href="https://github.com/Sorunome/mx-puppet-echo">mx-puppet-echo</a>, meant to help those out who want to write their own protocol implementation</li>
<li>Eliminate triple-usage of room/channel/chan, it's just called &quot;room&quot; everywhere now</li>
<li>Split matrix event handling and remote event handling into their own files/classes</li>
<li>Eliminate all usage of the <code>any</code> keyword, with the help of matrix-bot-sdk's event models</li>
<li>Start writing tests to, well, auto-test the library</li>
<li>Various small bugfixes</li>
</ul>
<p>As always, feel free to drop by the <a href="https://matrix.to/#/%5B#mx-puppet-bridge:sorunome.de%5D(https://matrix.to/#/#mx-puppet-bridge:sorunome.de)">support room</a> and please consider <a href="https://liberapay.com/Sorunome/donate">to donate</a>!</p>
</blockquote>
<h3 id="matrix-discord-parser">matrix-discord-parser</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> also added:</p>
<blockquote>
<p><a href="https://github.com/matrix-discord/matrix-discord-parser">matrix-discord-parser</a> is the joint matrix-&gt;discord and discord-&gt;matrix parser that both <a href="https://github.com/matrix-discord/mx-puppet-discord">mx-puppet-discord</a> and <a href="https://github.com/Half-Shot/matrix-appservice-discord">matrix-appservice-discord</a> use. For sending messages matrix-&gt;discord optional auto-detection of code language for code blocks using highlight.js has been implemented.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="riot-webext">Riot WebExt üß©</h3>
<p><a href="https://matrix.to/#/@stoically:matrix.org">stoic</a> announced this pretty cool project:</p>
<blockquote>
<p>Always wanted to host your own version of Riot Web locally but never came around doing it? Meet Riot WebExt, an unofficial proof of concept Browser Extension that bundles Riot Web, so everything is locally served with the click of a button. Available for Firefox and Chrome!</p>
<p>Firefox AMO: <a href="https://addons.mozilla.org/firefox/addon/riot">https://addons.mozilla.org/firefox/addon/riot</a>
Chrome Store: <a href="https://chrome.google.com/webstore/detail/lgpdpggoahhnlmaiompkgghldllldcjh">https://chrome.google.com/webstore/detail/lgpdpggoahhnlmaiompkgghldllldcjh</a>
GitHub: <a href="https://github.com/stoically/riot-webext">https://github.com/stoically/riot-webext</a>
Room: <a href="https://matrix.to/#/#riot-webext:matrix.org">#riot-webext:matrix.org</a></p>
</blockquote>
<h3 id="ditto-chat-v0-2-0-released">Ditto Chat [v0.2.0] released!</h3>
<p><a href="https://matrix.to/#/@annie:elequin.io">Annie</a> announced Ditto Chat v0.2.0!</p>
<p>Ditto Chat is a Matrix Client in React Native.</p>
<blockquote>
<h4 id="added">Added</h4>
<ul>
<li>Ability to Create a New Room &amp; Search for Users</li>
<li>Notifications for Android</li>
<li>Improved Timeline Rendering (support for m.notice)</li>
</ul>
<h4 id="changed">Changed</h4>
<ul>
<li>Color scheme is darker / night mode</li>
<li>Improved Direct Message vs Group Detection</li>
<li>Settings Screen Design (smaller, scrolls now)</li>
<li>Loads fewer events, thus initial sync is faster</li>
</ul>
<h4 id="fixed">Fixed</h4>
<ul>
<li>Various Visual Bugs</li>
</ul>
<p>Download Links: <a href="https://dittochat.org">https://dittochat.org</a><br />
Room: <a href="https://matrix.to/#/#ditto:elequin.io">#ditto:elequin.io</a></p>
</blockquote>
<h3 id="koma-and-continuum-kotlin-matrix-projects">koma and Continuum, Kotlin Matrix projects</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a> said:</p>
<blockquote>
<p><a href="https://github.com/koma-im/koma-library">koma</a>, Kotlin library for building clients:</p>
<ul>
<li>Responses of the <code>sync</code> API can be received continuously using <code>Flow</code> (async lazy sequence) now. Compared to previous method which used <code>Channel</code>, <code>Flow</code> can be transformed and combined in a much more flexible way, and <code>Flow</code> stops when it's no longer being consumed, so no coroutine will be left running accidentally.</li>
</ul>
<p><a href="https://github.com/koma-im/continuum-desktop">Continuum</a> desktop client based on Koma:</p>
<ul>
<li>Improve startup speed a bit more (Render more UI widgets without waiting for IO operations to finish).</li>
</ul>
</blockquote>
<h3 id="fluffychat-flutter-is-now-available-as-a-web-app">FluffyChat-Flutter is now available as a web app!</h3>
<p><a href="https://matrix.to/#/@MTRNord:matrix.ffslfl.net">MTRNord</a> reported:</p>
<blockquote>
<p>Check it out at: <a href="https://christianpauly.gitlab.io/fluffychat-flutter/">https://christianpauly.gitlab.io/fluffychat-flutter/</a></p>
<p>It includes everything that the Android App does except for currently notifications and file sharing.</p>
</blockquote>
<p><img src="/blog/img/2020-01-24-fluffy.png" alt="FluffyChat-Flutter" /></p>
<h3 id="riot-ios">Riot iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> told us:</p>
<blockquote>
<p>This week, in the cross-signing side, we updated e2e decoration, replacing padlocks with shields. We started working on the new device list in the room member screen.</p>
</blockquote>
<h3 id="riotx-rainbows-and-other-new-features">RiotX, rainbows and other new features</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> said:</p>
<blockquote>
<p>RiotX: We are making progress on cross-signing and verification by QRCode. Also we are working to improve the network detection and paused sync thread issue. But the most important is: &quot;/rainbow&quot; command will be available soon üåà !</p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<p><a href="https://github.com/turt2live">TravisR</a> told us:</p>
<blockquote>
<p>We've done a lot this week, and probably even more next week:</p>
<ul>
<li>Continuing on the cross-signing front with support for QR code verification, verification in the right panel, a bunch of shields to indicate trust, some bootstrapping in the secret store, and more!</li>
<li>A release candidate for 1.5.8-rc.2 (please give this a test on riot.im/staging)</li>
<li>An all-new invite dialog for creating DMs and bringing people into rooms.</li>
</ul>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞</h2>
<h3 id="tampere-hacklab-information-display-powered-by-matrix">Tampere Hacklab information display powered by Matrix</h3>
<p><a href="https://matrix.to/#/@cos:hacklab.fi">Cos</a> reported:</p>
<blockquote>
<p>tsw from Tampere Hacklab has made a read-only client for information displays. It's still in early development but can already be tried out. <a href="https://github.com/tswfi/matrix-viewer/">https://github.com/tswfi/matrix-viewer/</a></p>
</blockquote>
<p><img src="/blog/img/2020-01-24-viewer.png" alt="matrix-viewer" /></p>
<h2 id="dept-of-jobs-moneybag">Dept of Jobs üí∞</h2>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> announced:</p>
<blockquote>
<p>Are there any French speaking Sys Admins reading this? If that's you then I want you to know that <a href="https://apply.workable.com/new-vector/j/766008FB0D/">https://apply.workable.com/new-vector/j/766008FB0D/</a> exists and if you are interested to know more you should DM me. Remote is fine - though full time only.</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">maunium.net</td><td style="text-align: center">375</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">server.matrix4ulm.de</td><td style="text-align: center">453</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">481</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">nerdsin.space</td><td style="text-align: center">492</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">calamari.space</td><td style="text-align: center">538.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">gottliebtfreitag.de</td><td style="text-align: center">579.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">schwifty.net</td><td style="text-align: center">669</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">neko.dev</td><td style="text-align: center">679</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">matrix.kiwifarms.net</td><td style="text-align: center">687</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">finallycoffee.eu</td><td style="text-align: center">693</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;01&#x2F;23&#x2F;synapse-1-9-0-released&#x2F;" title="Synapse 1.9.0 released">Synapse 1.9.0 released</a></h1>
            <span>
                23.01.2020 00:00
                ‚Äî
                <a href="/category/releases">
                    Releases
                </a>
                ‚Äî
                
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Synapse 1.9.0 contains a bunch of new admin APIs as well as bug fixes to existing ones. In particular we have a new end point that allows admins to <a href="https://github.com/matrix-org/synapse/blob/master/docs/admin_api/rooms.md">query which rooms their server participates in</a>.</p>
<p>Aside from that it is worth noting that we have officially dropped support for SQLite versions &lt; 3.11. Though more generally we would recommend that all admins <a href="https://github.com/matrix-org/synapse/blob/release-v1.9.0/docs/postgres.md">migrate to Postgres</a> for anything other than test and evaluation purposes.</p>
<p>Get the new release from <a href="https://github.com/matrix-org/synapse/releases/tag/v1.9.0">github</a> or any of the sources mentioned at https://github.com/matrix-org/synapse/blob/master/INSTALL.md.</p>
<p>Changelog since Synapse 1.8.0</p>
<h1 id="synapse-1-9-0-2020-01-23">Synapse 1.9.0 (2020-01-23)</h1>
<p><strong>WARNING</strong>: As of this release, Synapse no longer supports versions of SQLite before 3.11, and will refuse to start when configured to use an older version. Administrators are recommended to migrate their database to Postgres (see instructions <a href="https://github.com/matrix-org/synapse/blob/release-v1.9.0/docs/postgres.md">here</a>).</p>
<p>If your Synapse deployment uses workers, note that the reverse-proxy configurations for the <code>synapse.app.media_repository</code>, <code>synapse.app.federation_reader</code> and <code>synapse.app.event_creator</code> workers have changed, with the addition of a few paths (see the updated configurations <a href="https://github.com/matrix-org/synapse/blob/release-v1.9.0/docs/workers.md#available-worker-applications">here</a>). Existing configurations will continue to work.</p>
<h2 id="improved-documentation">Improved Documentation</h2>
<ul>
<li>Fix endpoint documentation for the List Rooms admin API. (<a href="https://github.com/matrix-org/synapse/issues/6770">#6770</a>)</li>
</ul>
<h1 id="synapse-1-9-0rc1-2020-01-22">Synapse 1.9.0rc1 (2020-01-22)</h1>
<h2 id="features">Features</h2>
<ul>
<li>Allow admin to create or modify a user. Contributed by Awesome Technologies Innovationslabor GmbH. (<a href="https://github.com/matrix-org/synapse/issues/5742">#5742</a>)</li>
<li>Add new quarantine media admin APIs to quarantine by media ID or by user who uploaded the media. (<a href="https://github.com/matrix-org/synapse/issues/6681">#6681</a>, <a href="https://github.com/matrix-org/synapse/issues/6756">#6756</a>)</li>
<li>Add <code>org.matrix.e2e_cross_signing</code> to <code>unstable_features</code> in <code>/versions</code> as per <a href="https://github.com/matrix-org/matrix-doc/pull/1756">MSC1756</a>. (<a href="https://github.com/matrix-org/synapse/issues/6712">#6712</a>)</li>
<li>Add a new admin API to list and filter rooms on the server. (<a href="https://github.com/matrix-org/synapse/issues/6720">#6720</a>)</li>
</ul>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Correctly proxy HTTP errors due to API calls to remote group servers. (<a href="https://github.com/matrix-org/synapse/issues/6654">#6654</a>)</li>
<li>Fix media repo admin APIs when using a media worker. (<a href="https://github.com/matrix-org/synapse/issues/6664">#6664</a>)</li>
<li>Fix &quot;CRITICAL&quot; errors being logged when a request is received for a uri containing non-ascii characters. (<a href="https://github.com/matrix-org/synapse/issues/6682">#6682</a>)</li>
<li>Fix a bug where we would assign a numeric user ID if somebody tried registering with an empty username. (<a href="https://github.com/matrix-org/synapse/issues/6690">#6690</a>)</li>
<li>Fix <code>purge_room</code> admin API. (<a href="https://github.com/matrix-org/synapse/issues/6711">#6711</a>)</li>
<li>Fix a bug causing Synapse to not always purge quiet rooms with a low <code>max_lifetime</code> in their message retention policies when running the automated purge jobs. (<a href="https://github.com/matrix-org/synapse/issues/6714">#6714</a>)</li>
<li>Fix the <code>synapse_port_db</code> not correctly running background updates. Thanks @tadzik for reporting. (<a href="https://github.com/matrix-org/synapse/issues/6718">#6718</a>)</li>
<li>Fix changing password via user admin API. (<a href="https://github.com/matrix-org/synapse/issues/6730">#6730</a>)</li>
<li>Fix <code>/events/:event_id</code> deprecated API. (<a href="https://github.com/matrix-org/synapse/issues/6731">#6731</a>)</li>
<li>Fix monthly active user limiting support for worker mode, fixes <a href="https://github.com/matrix-org/synapse/issues/4639">#4639</a>. (<a href="https://github.com/matrix-org/synapse/issues/6742">#6742</a>)</li>
<li>Fix bug when setting <code>account_validity</code> to an empty block in the config. Thanks to @Sorunome for reporting. (<a href="https://github.com/matrix-org/synapse/issues/6747">#6747</a>)</li>
<li>Fix <code>AttributeError: 'NoneType' object has no attribute 'get'</code> in <code>hash_password</code> when configuration has an empty <code>password_config</code>. Contributed by @ivilata. (<a href="https://github.com/matrix-org/synapse/issues/6753">#6753</a>)</li>
<li>Fix the <code>docker-compose.yaml</code> overriding the entire <code>/etc</code> folder of the container. Contributed by Fabian Meyer. (<a href="https://github.com/matrix-org/synapse/issues/6656">#6656</a>)</li>
</ul>
<h2 id="improved-documentation-1">Improved Documentation</h2>
<ul>
<li>Fix a typo in the configuration example for purge jobs in the sample configuration file. (<a href="https://github.com/matrix-org/synapse/issues/6621">#6621</a>)</li>
<li>Add complete documentation of the message retention policies support. (<a href="https://github.com/matrix-org/synapse/issues/6624">#6624</a>, <a href="https://github.com/matrix-org/synapse/issues/6665">#6665</a>)</li>
<li>Add some helpful tips about changelog entries to the GitHub pull request template. (<a href="https://github.com/matrix-org/synapse/issues/6663">#6663</a>)</li>
<li>Clarify the <code>account_validity</code> and <code>email</code> sections of the sample configuration. (<a href="https://github.com/matrix-org/synapse/issues/6685">#6685</a>)</li>
<li>Add more endpoints to the documentation for Synapse workers. (<a href="https://github.com/matrix-org/synapse/issues/6698">#6698</a>)</li>
</ul>
<h2 id="deprecations-and-removals">Deprecations and Removals</h2>
<ul>
<li>Synapse no longer supports versions of SQLite before 3.11, and will refuse to start when configured to use an older version. Administrators are recommended to migrate their database to Postgres (see instructions <a href="https://matrix.turbo.fish/blog/2020/01/23/synapse-1-9-0-released/docs/postgres.md">here</a>). (<a href="https://github.com/matrix-org/synapse/issues/6675">#6675</a>)</li>
</ul>
<h2 id="internal-changes">Internal Changes</h2>
<ul>
<li>Add <code>local_current_membership</code> table for tracking local user membership state in rooms. (<a href="https://github.com/matrix-org/synapse/issues/6655">#6655</a>, <a href="https://github.com/matrix-org/synapse/issues/6728">#6728</a>)</li>
<li>Port <code>synapse.replication.tcp</code> to async/await. (<a href="https://github.com/matrix-org/synapse/issues/6666">#6666</a>)</li>
<li>Fixup <code>synapse.replication</code> to pass mypy checks. (<a href="https://github.com/matrix-org/synapse/issues/6667">#6667</a>)</li>
<li>Allow <code>additional_resources</code> to implement <code>IResource</code> directly. (<a href="https://github.com/matrix-org/synapse/issues/6686">#6686</a>)</li>
<li>Allow REST endpoint implementations to raise a <code>RedirectException</code>, which will redirect the user's browser to a given location. (<a href="https://github.com/matrix-org/synapse/issues/6687">#6687</a>)</li>
<li>Updates and extensions to the module API. (<a href="https://github.com/matrix-org/synapse/issues/6688">#6688</a>)</li>
<li>Updates to the SAML mapping provider API. (<a href="https://github.com/matrix-org/synapse/issues/6689">#6689</a>, <a href="https://github.com/matrix-org/synapse/issues/6723">#6723</a>)</li>
<li>Remove redundant <code>RegistrationError</code> class. (<a href="https://github.com/matrix-org/synapse/issues/6691">#6691</a>)</li>
<li>Don't block processing of incoming EDUs behind processing PDUs in the same transaction. (<a href="https://github.com/matrix-org/synapse/issues/6697">#6697</a>)</li>
<li>Remove duplicate check for the <code>session</code> query parameter on the <code>/auth/xxx/fallback/web</code> Client-Server endpoint. (<a href="https://github.com/matrix-org/synapse/issues/6702">#6702</a>)</li>
<li>Attempt to retry sending a transaction when we detect a remote server has come back online, rather than waiting for a transaction to be triggered by new data. (<a href="https://github.com/matrix-org/synapse/issues/6706">#6706</a>)</li>
<li>Add <code>StateMap</code> type alias to simplify types. (<a href="https://github.com/matrix-org/synapse/issues/6715">#6715</a>)</li>
<li>Add a <code>DeltaState</code> to track changes to be made to current state during event persistence. (<a href="https://github.com/matrix-org/synapse/issues/6716">#6716</a>)</li>
<li>Add more logging around message retention policies support. (<a href="https://github.com/matrix-org/synapse/issues/6717">#6717</a>)</li>
<li>When processing a SAML response, log the assertions for easier configuration. (<a href="https://github.com/matrix-org/synapse/issues/6724">#6724</a>)</li>
<li>Fixup <code>synapse.rest</code> to pass mypy. (<a href="https://github.com/matrix-org/synapse/issues/6732">#6732</a>, <a href="https://github.com/matrix-org/synapse/issues/6764">#6764</a>)</li>
<li>Fixup <code>synapse.api</code> to pass mypy. (<a href="https://github.com/matrix-org/synapse/issues/6733">#6733</a>)</li>
<li>Allow streaming cache 'invalidate all' to workers. (<a href="https://github.com/matrix-org/synapse/issues/6749">#6749</a>)</li>
<li>Remove unused CI docker compose files. (<a href="https://github.com/matrix-org/synapse/issues/6754">#6754</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;01&#x2F;17&#x2F;this-week-in-matrix-2020-01-17&#x2F;" title="This Week in Matrix 2020-01-17">This Week in Matrix 2020-01-17</a></h1>
            <span>
                17.01.2020 21:37
                ‚Äî
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                ‚Äî
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            <br>
            <small>Last update: 17.01.2020 19:46</small>
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe src="https://www.youtube.com/embed/OqR1wes06UA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°</h2>
<h3 id="google-summer-of-code-2020">Google Summer of Code 2020</h3>
<p>Sometimes it seems like existence is a constant loop. Cycles within cycles are replayed, with only minor differences to help us discern the current and the foregoing.<br />
How can we endure it?</p>
<p>It's not all bad though! Google have announced the return of the <strong>Summer of Code</strong> programme, and have <a href="https://summerofcode.withgoogle.com/">updated their website with the current year (2020)</a> and latest information.</p>
<p>Matrix will be applying to be a Mentoring Organisation, as we have for several years now. This year, we'd like to open the umbrella a little. If you think your (Matrix-related) project could help mentor a student, and that you could offer a meaningful project to that student, please contact me directly. For reference, there were <em>four</em> students under the Matrix heading last year, of which one was assigned to work with Kitsune on encryption support in libQuotient.</p>
<h3 id="fosdem-2020">FOSDEM 2020</h3>
<p>Will you be at FOSDEM this year? Matrix will be very well represented, so please come and see us at our stand, plus attend <em>all</em> of the three talks we'll be conducting. Many more details to follow!</p>
<h2 id="dept-of-services-rocket">Dept of Services üöÄ</h2>
<p>New from bit.nl, a public Matrix Homeserver focused on the Dutch market. <a href="https://www.bit.nl/news/2610/293/Riot-als-privacyvriendelijke-en-veilige-berichtenapp">Read the announcement</a> and <a href="https://riot.nltrix.net">sign up here</a>.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> offered:</p>
<blockquote>
<p>Here are this week's spec üêïÔ∏è updates!</p>
<p><strong>Merged MSCs:</strong></p>
<p><em>No MSCs were merged this week.</em></p>
<p><strong>MSCs in Final Comment Period:</strong></p>
<p><em>No MSCs are in Final Comment Period.</em></p>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2413">MSC2413: Remove client_secret</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2409">MSC2409: Proposal to send EDUs to appservices</a>
<ul>
<li>This is a continuation of <a href="https://github.com/matrix-org/matrix-doc/pull/1888">MSC1888</a></li>
</ul>
</li>
</ul>
<p>The Spec Core Team is still working on implementation, and likely will continue to be until after FOSDEM.</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite-p2p">Dendrite / P2P</h3>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> reported:</p>
<blockquote>
<p>I've spent some time this week experimenting with integrating libp2p into dendrite and gomatrixserverlib to understand if we can get link-local homeserver discovery working along with direct or indirect federation. It's still early at the moment but I have had success with early federation requests working over libp2p‚Äîhopefully I'll have something interesting to show soon!</p>
</blockquote>
<p><img src="/blog/img/2020-01-17-dendrite.png" alt="dendrite in riot" /></p>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> reported:</p>
<blockquote>
<p>This week we‚Äôve been continuing to work on migrating sydent to py3, improving admin tooling and working on fixing e2ee bugs. We‚Äôre also looking to make changes to allow admins the power to remove room aliases (MSCs 2260 2261).</p>
</blockquote>
<h2 id="dept-of-built-on-matrix">Dept of <em>Built on Matrix</em> üèó</h2>
<h3 id="matrix-presents">Matrix Presents üìΩÔ∏è</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> told us:</p>
<blockquote>
<p>What is it? Slideshows in Matrix, basically using the matrix room / event primitives to construct presentable federated slide shows.</p>
<p>What's new this week you ask? Well, it breaks less. It also does other neat things.</p>
<ul>
<li>Supports guests for viewing presentations, including the ability to specify a guest HS via the URL.</li>
<li>Supports code highlighting in the presentation.</li>
<li>Lots of CSS fixes to make slides line up properly.</li>
<li>A fullscreen mode, which is actually unobstructive and quite handy.</li>
<li>Presenter mode, which allows you to switch between following the presenters view of the room, and being able to view at your own leasure.</li>
<li>Room joins now actually work, so you can be linked to a slide and expect to be able to view it.</li>
</ul>
<p>Come check us out at <a href="https://matrix.to/#/#presents:half-shot.uk">#presents:half-shot.uk</a></p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="matrix-imposter-bot-interesting-relay-idea">matrix-imposter-bot, interesting relay idea</h3>
<p><a href="https://matrix.to/#/@mr_johnson22:matrix.org">@mr_johnson22:matrix.org</a> said:</p>
<blockquote>
<p><em>matrix-imposter-bot</em> - A bot that uses your account to repeat other people's messages. This gives relay-bot capabilities to puppet-only bridges. For more details, see <a href="https://github.com/mrjohnson22/matrix-imposter-bot">https://github.com/mrjohnson22/matrix-imposter-bot</a></p>
</blockquote>
<h3 id="mx-puppet-bridge-and-other-soru-adventures">mx-puppet-bridge and other soru adventures</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> told us:</p>
<blockquote>
<p>Will the development ever stop? Who knows! Here's the latest <a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a> updates:</p>
<ul>
<li>Fix unbridging of direct chats</li>
<li>Allow room-specific ghost avatar and name overrides</li>
<li>Enhanced logging config</li>
<li>Ability to configure name patterns for users/rooms/groups</li>
</ul>
</blockquote>
<h4 id="mx-puppet-discord">mx-puppet-discord</h4>
<blockquote>
<p>Of course <a href="https://github.com/matrix-discord/mx-puppet-discord">mx-puppet-discord</a> received some updates, too!</p>
<ul>
<li>Receive notification on friends request</li>
<li>Add optional profile syncing</li>
<li>Implement guild-specific nicknames</li>
<li>Implement variables for name patterns</li>
</ul>
</blockquote>
<h4 id="mx-puppet-slack">mx-puppet-slack</h4>
<blockquote>
<p>What, <a href="https://github.com/Sorunome/mx-puppet-slack">mx-puppet-slack</a> updates? Yay!</p>
<ul>
<li>Set external_url field</li>
<li>Implement variables for name patterns</li>
</ul>
<p>As always, if you have any questions, please drop by <a href="https://matrix.to/#/#mx-puppet-bridge:sorunome.de">the support chat</a> and consider to <a href="https://liberapay.com/Sorunome/donate">donate</a>! ü¶äü¶äü¶ä</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="nheko-replies-rendering">Nheko replies rendering</h3>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">@deepbluev7:neko.dev</a> said:</p>
<blockquote>
<p>I added pretty rendering of replies to <a href="https://github.com/Nheko-Reborn/nheko">nheko</a>. It uses the same rendering as for normal messages, so you will see an image being replied to and you can even play a replied to video. You can also click on the reply to navigate to that part of the history.</p>
</blockquote>
<h3 id="riotx-release-v0-13-0">RiotX: Release v0.13.0</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> said:</p>
<blockquote>
<p>RiotX: Release v0.13.0 has been uploaded today to the PlayStore and should follow in F-Droid store. It contains typing notification feature, and new screens for Room profile and room members list, and new screen for Room Member profile. Those new screens are still missing a lots of features, that will be implemented in the next weeks. For F-Droid version, it contains a fix on the broken background sync. We are also making big progress on cross-signing implementation, and we have started to write integration tests on the SDK.</p>
</blockquote>
<p><a href="https://matrix.to/#/@bubu:bubu1.eu">@bubu:bubu1.eu</a> told us:</p>
<blockquote>
<p>RiotX is now available via the f-droid.org repository here: <a href="https://f-droid.org/packages/im.vector.riotx/">https://f-droid.org/packages/im.vector.riotx/</a></p>
</blockquote>
<h3 id="riot-ios">Riot iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> announced:</p>
<blockquote>
<p>We are still working hard on the implementation of cross-signing.</p>
</blockquote>
<h3 id="riot-web-cross-signing-update">Riot Web Cross-signing update</h3>
<p>Thanks to Ryan from the team:</p>
<blockquote>
<p>All of this is part of cross-signing:</p>
<ul>
<li>Room shield decoration added</li>
<li>New post-login device verification flow</li>
<li>Toasts added to verify a new session</li>
<li>Will begin working on post-login / registration bootstrapping flows</li>
</ul>
</blockquote>
<h3 id="fractal">Fractal</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> reported:</p>
<blockquote>
<p>In the past month, a few things happened:</p>
<ul>
<li>When redacting messages, they get removed from history view.</li>
<li>Thumbnail for pasted images have been fixed.</li>
<li>A handful of languages got updated.</li>
<li>Moar refactoring.</li>
</ul>
</blockquote>
<h3 id="koma-continuum-kotlin-lib-and-client">koma + Continuum: kotlin lib and client</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a> told us:</p>
<blockquote>
<p><a href="https://github.com/koma-im/koma-library">koma</a>, Kotlin library for building clients:</p>
<ul>
<li>Update network library ktor to latest release 1.3.0</li>
<li>Add option to use authentication with <code>GET /_matrix/client/r0/publicRooms</code> to fix HTTP Unauthorized errors with newer Synapse versions which may have <code>allow_public_rooms_without_auth</code> set to False.</li>
</ul>
<p><a href="https://github.com/koma-im/continuum-desktop">Continuum</a> desktop client based on Koma:</p>
<ul>
<li>Fix empty room directory list by always using the authenticated API <code>POST /_matrix/client/r0/publicRooms</code></li>
</ul>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="matrix-docker-ansible-deploy-updates">matrix-docker-ansible-deploy updates</h3>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> told us:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> can now easily configure automatic Double Puppeting for all of its Mautrix bridges (Facebook, Hangouts, Whatsapp, Telegram). This is possible due to those bridges' integration with <a href="https://github.com/devture/matrix-synapse-shared-secret-auth">matrix-synapse-shared-secret-auth</a> - yet another component that the playbook can install. Our documentation page for each bridge provides relevant information on how to get it enabled.</p>
</blockquote>
<p>Also:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> can now install and configure <a href="https://github.com/turt2live/matrix-appservice-webhooks">matrix-appservice-webhooks</a>, thanks to a contribution from <a href="https://github.com/tripleawwy">Bj√∂rn Marten</a> from <a href="https://www.netresearch.de/">netresearch</a>. Our documentation page about <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/48402141935591130f06219f0c6c53e003f0633d/docs/configuring-playbook-bridge-appservice-webhooks.md">Appservice Webhooks</a> tells you how to get started.</p>
</blockquote>
<h3 id="auto-update-riot-web-script">auto-update Riot-Web script</h3>
<p><a href="https://matrix.to/#/@murz:ru-matrix.org">@murz:ru-matrix.org</a> said:</p>
<blockquote>
<p>I have created simple Bash script for auto-update Riot-Web to latest version. Because <a href="https://github.com/vector-im/riot-web">https://github.com/vector-im/riot-web</a> now have no public Wiki, I publish it as Gist here: <a href="https://gist.github.com/MurzNN/ee64f98ab2e71b886c41d55594e5dd9e">https://gist.github.com/MurzNN/ee64f98ab2e71b886c41d55594e5dd9e</a></p>
</blockquote>
<h3 id="ruby-grafana-matrix-ingress-updates">ruby-grafana-matrix ingress updates</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> said:</p>
<blockquote>
<p>My <a href="https://github.com/ananace/ruby-grafana-matrix">Grafana notification ingress</a> gem received the missing piece of functionality for configuring it for posting both <code>m.text</code> as well as the original <code>m.notice</code> messages (as well as defaulting to <code>m.text</code> now as the more common expectation) - for those that want the messages to also provide Matrix notifications instead of just acting as an added history/flow.
This can also be configured per-rule, so that you are able to have multiple notification ingresses configured with different message types.</p>
<p>It's always so lovely when people - other than myself - use my projects, especially when providing feedback on them. So many simple-to-implement features that get forgotten just because they weren't part of the original MVP.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="twim-bot-updated-for-opsdroid-0-17">TWIM bot updated for opsdroid 0.17</h3>
<p><a href="https://matrix.to/#/@cadair:cadair.com">@cadair:cadair.com</a> offered:</p>
<blockquote>
<p><a href="https://github.com/Cadair/skill-twim/blob/master/__init__.py">TWIM bot</a> has been updates to use all the new features of opsdroid 0.17 it now supports Edits, both in updating it's database and by editing messages which get posted to #twim_updates:cadair.com . Also it supports 'TWIMing' a post by the user who posted it reacting with ‚≠ïÔ∏è, this is mainly designed as an easy way to mark images as TWIM posts. üöÄ</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">bau-ha.us</td><td style="text-align: center">213.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">foodscience.rocks</td><td style="text-align: center">254</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">getflexedon.me</td><td style="text-align: center">298</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">kif.rocks</td><td style="text-align: center">375</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">maunium.net</td><td style="text-align: center">385</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">gottliebtfreitag.de</td><td style="text-align: center">405</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">netzgemeinde.eu</td><td style="text-align: center">408</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">deadgoldfish.party</td><td style="text-align: center">423</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">matrix.envs.net</td><td style="text-align: center">430</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">lyseo.edu.ouka.fi</td><td style="text-align: center">456</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;01&#x2F;10&#x2F;this-week-in-matrix-2020-01-10&#x2F;" title="This Week in Matrix 2020-01-10">This Week in Matrix 2020-01-10</a></h1>
            <span>
                10.01.2020 00:00
                ‚Äî
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                ‚Äî
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe src="https://www.youtube.com/embed/Q_UkTk4YSiQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> informed us:</p>
<blockquote>
<p>We've had a slight lull from people crawling out from winter holiday hibernation caves, but there's likely more to come as everyone gets back into the swing of things.</p>
<p><strong>Merged MSCs</strong></p>
<p><em>No MSCs were merged this week.</em></p>
<p><strong>MSCs in Final Comment Period</strong></p>
<p><em>No MSCs are currently in FCP.</em></p>
<p><strong>New MSCs</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2403">MSC2403: Add &quot;knock&quot; feature</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2399">MSC2399: Reporting that decryption keys are withheld</a></li>
</ul>
<p>The Spec Core Team is continuing to work on implementation of existing MSCs.</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="synapse-1-8-0-is-out-now">Synapse 1.8.0 is out now</h3>
<p>Get <a href="https://matrix.org/blog/2020/01/09/synapse-1-8-0-released/">the latest news here</a>!</p>
<blockquote>
<p>Synapse 1.8.0 has arrived, it contains a whole host of bug fixes and tweaks, most notably fixing some long standing problems with search.<br />
More generally we are spending a lot of time improving the e2ee experience ahead of switching on e2ee by default, so watch this space.</p>
</blockquote>
<h4 id="deploying-synapse">Deploying Synapse</h4>
<p>Several packaging projects have been updated to deploy the new version:</p>
<ul>
<li><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/">matrix-docker-ansible-deploy</a> from <a href="https://matrix.to/#/@slavi:devture.com">Slavi</a></li>
<li><a href="https://hub.docker.com/r/avhost/docker-matrix">avhost/docker-matrix</a> and <a href="https://hub.docker.com/r/mvgorcum/docker-matrix">mvgorcum/docker-matrix</a> from <a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a></li>
<li><a href="https://github.com/ananace/matrix-synapse">Kubernetes</a> from <a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a></li>
<li><a href="https://hub.docker.com/r/black0/synapse">multi-arch synapse docker image</a> from <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a></li>
<li>also from the Debian repos thanks to <a href="https://matrix.to/#/@andrewsh:matrix.org">@andrewsh:matrix.org</a></li>
</ul>
<h3 id="matrix-media-repo-v1-0-0-repeat-v1-0-0">matrix-media-repo v1.0.0 - repeat, v1.0.0!!</h3>
<p><a href="https://github.com/turt2live">TravisR</a> offered:</p>
<blockquote>
<p><a href="https://github.com/turt2live/matrix-media-repo/releases/tag/v1.0.0">matrix-media-repo v1.0.0</a> has been released! If it is suitable for your environment, please give it a go.</p>
</blockquote>
<h3 id="dendrite-federation-work">Dendrite federation work!</h3>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> announced:</p>
<blockquote>
<p>Federation fixes have been pushed to <code>gomatrixserverlib</code> and Dendrite's <code>master</code> branches, that include the following tweaks:</p>
<ul>
<li>Using the <code>v2</code> endpoints for <code>/send_join</code> and <code>/send_leave</code></li>
<li>Fixing the resolution of room aliases to room IDs in the Dendrite federation API</li>
<li>A rewrite of the auth chain functions which should be a bit smoother</li>
<li>A couple of other minor tweaks to some of the types</li>
</ul>
<p>In addition, I've spent the last few days working on Dendrite's storage backends, adding somewhat-hacky support for SQLite and investigating ORM modelling for some of the simpler components, as a part of getting Dendrite to run as a &quot;true monolith&quot; for the P2P work.</p>
</blockquote>
<h3 id="cortex-synapse-worker-in-rust-supports-e2ee-rooms">cortex (synapse worker in Rust) supports e2ee rooms</h3>
<p><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> offered:</p>
<blockquote>
<p><a href="https://gitlab.com/matrix-cortex/cortex">cortex</a>'s federation sender finally supports e2ee rooms! I'm testing its performance on an Intel Atom z8350 and it looks great.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="matrix-app-for-zapier">Matrix App for Zapier</h3>
<p><a href="https://matrix.to/#/@coppero1237:matrix.org">@coppero1237</a> appeared to us, then announced:</p>
<blockquote>
<p>The MVP is now available: <a href="https://zapier.com/developer/public-invite/77712/033209ffe96c0c0cdd618c8071355c01/">https://zapier.com/developer/public-invite/77712/033209ffe96c0c0cdd618c8071355c01/</a></p>
<p>Use the Zapier App to integrate your Matrix room with any of Zapier's 1500+ apps, including:</p>
<ul>
<li>Github</li>
<li>Trello</li>
<li>Pagerduty</li>
<li>Google calendar</li>
<li>Jira</li>
<li>Salesforce</li>
</ul>
<p>Currently the MVP supports sending messages to a room. Reading messages from a room is future work.</p>
<p>If you're interested providing feedback, requesting a feature, future development, or just understanding how it works, please join the matrix room, <a href="https://matrix.to/#/#zapier:matrix.org">#zapier:matrix.org</a></p>
<p>Source code: <a href="https://github.com/tyleradams/Zapier-Matrix">https://github.com/tyleradams/Zapier-Matrix</a></p>
</blockquote>
<h3 id="matrix-zammad-bridge">matrix-zammad bridge</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> offered:</p>
<blockquote>
<p><a href="https://github.com/half-shot/matrix-zammad">matrix-zammad</a> now supports reacting to tickets to close them, provided you've set up your puppeted token in the config. It's useful if you get a lot of spam tickets :p</p>
</blockquote>
<h3 id="mx-puppet-bridge">mx-puppet-bridge</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> reported:</p>
<blockquote>
<p>Lots of changes in <a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a>!</p>
<ul>
<li>Allow sending status messages into bridged rooms</li>
<li>add a bridgeChannel function for protocol implementations</li>
<li>add config options to set displayname and avatar url of the AS bot</li>
<li>leave the bridge bot of a bridged room, whenever possible</li>
<li>auto-leave a puppeted ghost after an hour inactivity (to prevent DMs having three users in them)</li>
<li>automatically dedupe media when uploading</li>
<li>matrix group to remote protocol group mapping</li>
</ul>
<h1 id="mx-puppet-discord">mx-puppet-discord</h1>
<p>Along with mx-puppet-bridge, things got implemented in <a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-discord</a>!</p>
<ul>
<li>allow bridging of single channels in a guild</li>
<li>display an error if sending a message to discord fails</li>
<li>add <code>joinentireguild</code> command</li>
<li>handle webhooks properly</li>
<li>map discord guilds to matrix groups</li>
</ul>
<p>If you enjoy this software, please consider to <a href="https://liberapay.com/Sorunome/donate">donate</a>, thank you! ü¶ä</p>
</blockquote>
<blockquote>
<p>And another mx-puppet-discord update!</p>
<ul>
<li>[User Tokens] Proper User-Agent spoofing - friends management now seems mostly safe! Leaving the warning thing in just-in-case, though</li>
</ul>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="matrix-presents">üìΩÔ∏è Matrix Presents!</h3>
<p>I'm adding this to the client section because it behaves like a client, but it's not what we'd normally think of...</p>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> reported:</p>
<blockquote>
<p>Work has resumed on <a href="https://github.com/Half-Shot/matrix-presents">matrix-presents</a>, newly rewritten in Vue.js! The project was first demoed back in Oggcamp 2018 where I gave a meta presentation on the virtues Matrix for other mediums. This time around, it's being brought back with:</p>
<ul>
<li>A user interface for managing, joining and creating slideshows.</li>
<li>Control over how slides are advanced (pinned to the presenters view, or unlocked)</li>
<li>Finer control over how slides are laid out, using a fragments system to build slides out of submessages.</li>
</ul>
<p>This is currently in heavy development and will debut at Fosdem 2020!</p>
<p>A regularly updated version of the app is hosted at <a href="https://presents.half-shot.uk/.">https://presents.half-shot.uk/.</a></p>
<p>(And for those of you expecting a form of table tennis, there is an easter egg in progress üòÉ)</p>
</blockquote>
<h3 id="continuum-desktop-client-in-kotlin">Continuum, desktop client in Kotlin</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a> offered:</p>
<blockquote>
<p><a href="https://github.com/koma-im/continuum-desktop">Continuum</a>, a desktop client in Kotlin:</p>
<ul>
<li>Update README to include information on building from source</li>
<li>Fix: database not updated after leaving a room</li>
<li>Move user's access token and list of joined rooms from database to more lightweight key-value storage</li>
</ul>
</blockquote>
<h3 id="riotx-v0-12-0">RiotX v0.12.0</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> reported:</p>
<blockquote>
<p>RiotX v0.12.0 has been released with some performance improvement, especially on initial sync and on timeline loading time. The release also contains bugfixes and a cleanup in the application settings. A new &quot;developer mode&quot; has been added to show advanced features only to power users. We are now working on the room profile screen, and we are making progress on the cross-signing implementation. Besides that, we are working to make RiotX available on the F-Droid store.</p>
</blockquote>
<p>I must say RiotX is getting a lot more stable and reliable recently!</p>
<h3 id="riot-ios">Riot iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> told us:</p>
<blockquote>
<p>We are still working on the implementation of cross-signing and verification by DM.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="k8s">K8s</h3>
<p>In addition to mentioning Synapse 1.8.0 support, <a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> said:</p>
<blockquote>
<p>Synapse 1.8.0 Kubernetes-optimized images are pushed, I've also updated the example manifests as part of some work on making it easier to deploy - expect a MVP of a Helm Chart some time Soon‚Ñ¢</p>
<p>Also, to add a bit of context/information to this;</p>
<p>Helm is the de-facto standard package manager for Kubernetes clusters, where a Chart is a package for an application that can be installed and configured. The Helm Chart I'm working on won't be a one-click install to begin with, for the Minimum Viable Product it will require manually generating and storing the Synapse signing key - though I have thoughts on how to later delegate that to a small one-time job that Helm can run if necessary</p>
</blockquote>
<h3 id="opsdroid-0-17">Opsdroid 0.17</h3>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> offered:</p>
<blockquote>
<p>Opsdroid 0.17 was released in December, it comes with <a href="https://medium.com/opsdroid/new-docs-mattermost-ibm-watson-and-more-in-v0-17-7f4d3c0c1ae2">many changes</a> but the main matrix improvements are support for extra event types like Replies, Edits, Reactions, Room Name changes, Room Topic changes, Alias changes, Room avatar changes, Power levels, and support for generic matrix state events. All these events are supported for both sending and implementing skills based on receiving them.</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Let's reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">getflexedon.me</td><td style="text-align: center">180.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">maclemon.at</td><td style="text-align: center">278</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">im.leptonics.com</td><td style="text-align: center">299</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">maunium.net</td><td style="text-align: center">327</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">lkas.cc</td><td style="text-align: center">339.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">services.pyrahex.com</td><td style="text-align: center">351</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">tx0.co</td><td style="text-align: center">361</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">381</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">nerdsin.space</td><td style="text-align: center">406</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">neko.dev</td><td style="text-align: center">442.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;01&#x2F;09&#x2F;synapse-1-8-0-released&#x2F;" title="Synapse 1.8.0 released">Synapse 1.8.0 released</a></h1>
            <span>
                09.01.2020 00:00
                ‚Äî
                <a href="/category/releases">
                    Releases
                </a>
                ‚Äî
                
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Synapse 1.8.0 has arrived, it contains a whole host of bug fixes and tweaks, most notably fixing some long standing problems with search.</p>
<p>More generally we are spending a lot of time  improving the e2ee experience ahead of switching on e2ee by default, so watch this space.</p>
<p>Get the new release from <a href="https://github.com/matrix-org/synapse/releases/tag/v1.8.0">github</a> or any of the sources mentioned at https://github.com/matrix-org/synapse/blob/master/INSTALL.md.</p>
<h1 id="synapse-1-8-0-2020-01-09">Synapse 1.8.0 (2020-01-09)</h1>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Fix <code>GET</code> request on <code>/_synapse/admin/v2/users</code> endpoint. Contributed by Awesome Technologies Innovationslabor GmbH. (<a href="https://github.com/matrix-org/synapse/issues/6563">#6563</a>)</li>
<li>Fix incorrect signing of responses from the key server implementation. (<a href="https://github.com/matrix-org/synapse/issues/6657">#6657</a>)</li>
</ul>
<h1 id="synapse-1-8-0rc1-2020-01-07">Synapse 1.8.0rc1 (2020-01-07)</h1>
<h2 id="features">Features</h2>
<ul>
<li>Add v2 APIs for the <code>send_join</code> and <code>send_leave</code> federation endpoints (as described in <a href="https://github.com/matrix-org/matrix-doc/pull/1802">MSC1802</a>). (<a href="https://github.com/matrix-org/synapse/issues/6349">#6349</a>)</li>
<li>Add a develop script to generate full SQL schemas. (<a href="https://github.com/matrix-org/synapse/issues/6394">#6394</a>)</li>
<li>Add custom SAML username mapping functionality through an external provider plugin. (<a href="https://github.com/matrix-org/synapse/issues/6411">#6411</a>)</li>
<li>Automatically delete empty groups/communities. (<a href="https://github.com/matrix-org/synapse/issues/6453">#6453</a>)</li>
<li>Add option <code>limit_profile_requests_to_users_who_share_rooms</code> to prevent requirement of a local user sharing a room with another user to query their profile information. (<a href="https://github.com/matrix-org/synapse/issues/6523">#6523</a>)</li>
<li>Add an <code>export_signing_key</code> script to extract the public part of signing keys when rotating them. (<a href="https://github.com/matrix-org/synapse/issues/6546">#6546</a>)</li>
<li>Add experimental config option to specify multiple databases. (<a href="https://github.com/matrix-org/synapse/issues/6580">#6580</a>)</li>
<li>Raise an error if someone tries to use the <code>log_file</code> config option. (<a href="https://github.com/matrix-org/synapse/issues/6626">#6626</a>)</li>
</ul>
<h2 id="bugfixes-1">Bugfixes</h2>
<ul>
<li>Prevent redacted events from being returned during message search. (<a href="https://github.com/matrix-org/synapse/issues/6377">#6377</a>, <a href="https://github.com/matrix-org/synapse/issues/6522">#6522</a>)</li>
<li>Prevent error on trying to search a upgraded room when the server is not in the predecessor room. (<a href="https://github.com/matrix-org/synapse/issues/6385">#6385</a>)</li>
<li>Improve performance of looking up cross-signing keys. (<a href="https://github.com/matrix-org/synapse/issues/6486">#6486</a>)</li>
<li>Fix race which occasionally caused deleted devices to reappear. (<a href="https://github.com/matrix-org/synapse/issues/6514">#6514</a>)</li>
<li>Fix missing row in <code>device_max_stream_id</code> that could cause unable to decrypt errors after server restart. (<a href="https://github.com/matrix-org/synapse/issues/6555">#6555</a>)</li>
<li>Fix a bug which meant that we did not send systemd notifications on startup if acme was enabled. (<a href="https://github.com/matrix-org/synapse/issues/6571">#6571</a>)</li>
<li>Fix exception when fetching the <code>matrix.org:ed25519:auto</code> key. (<a href="https://github.com/matrix-org/synapse/issues/6625">#6625</a>)</li>
<li>Fix bug where a moderator upgraded a room and became an admin in the new room. (<a href="https://github.com/matrix-org/synapse/issues/6633">#6633</a>)</li>
<li>Fix an error which was thrown by the <code>PresenceHandler</code> <code>_on_shutdown</code> handler. (<a href="https://github.com/matrix-org/synapse/issues/6640">#6640</a>)</li>
<li>Fix exceptions in the synchrotron worker log when events are rejected. (<a href="https://github.com/matrix-org/synapse/issues/6645">#6645</a>)</li>
<li>Ensure that upgraded rooms are removed from the directory. (<a href="https://github.com/matrix-org/synapse/issues/6648">#6648</a>)</li>
<li>Fix a bug causing Synapse not to fetch missing events when it believes it has every event in the room. (<a href="https://github.com/matrix-org/synapse/issues/6652">#6652</a>)</li>
</ul>
<h2 id="improved-documentation">Improved Documentation</h2>
<ul>
<li>Document the Room Shutdown Admin API. (<a href="https://github.com/matrix-org/synapse/issues/6541">#6541</a>)</li>
<li>Reword sections of <a href="https://matrix.turbo.fish/blog/2020/01/09/synapse-1-8-0-released/docs/federate.md">docs/federate.md</a> that explained delegation at time of Synapse 1.0 transition. (<a href="https://github.com/matrix-org/synapse/issues/6601">#6601</a>)</li>
<li>Added the section 'Configuration' in <a href="https://matrix.turbo.fish/blog/2020/01/09/synapse-1-8-0-released/docs/turn-howto.md">docs/turn-howto.md</a>. (<a href="https://github.com/matrix-org/synapse/issues/6614">#6614</a>)</li>
</ul>
<h2 id="deprecations-and-removals">Deprecations and Removals</h2>
<ul>
<li>Remove redundant code from event authorisation implementation. (<a href="https://github.com/matrix-org/synapse/issues/6502">#6502</a>)</li>
<li>Remove unused, undocumented <code>/_matrix/content</code> API. (<a href="https://github.com/matrix-org/synapse/issues/6628">#6628</a>)</li>
</ul>
<h2 id="internal-changes">Internal Changes</h2>
<ul>
<li>Add <em>experimental</em> support for multiple physical databases and split out state storage to separate data store. (<a href="https://github.com/matrix-org/synapse/issues/6245">#6245</a>, <a href="https://github.com/matrix-org/synapse/issues/6510">#6510</a>, <a href="https://github.com/matrix-org/synapse/issues/6511">#6511</a>, <a href="https://github.com/matrix-org/synapse/issues/6513">#6513</a>, <a href="https://github.com/matrix-org/synapse/issues/6564">#6564</a>, <a href="https://github.com/matrix-org/synapse/issues/6565">#6565</a>)</li>
<li>Port sections of code base to async/await. (<a href="https://github.com/matrix-org/synapse/issues/6496">#6496</a>, <a href="https://github.com/matrix-org/synapse/issues/6504">#6504</a>, <a href="https://github.com/matrix-org/synapse/issues/6505">#6505</a>, <a href="https://github.com/matrix-org/synapse/issues/6517">#6517</a>, <a href="https://github.com/matrix-org/synapse/issues/6559">#6559</a>, <a href="https://github.com/matrix-org/synapse/issues/6647">#6647</a>, <a href="https://github.com/matrix-org/synapse/issues/6653">#6653</a>)</li>
<li>Remove <code>SnapshotCache</code> in favour of <code>ResponseCache</code>. (<a href="https://github.com/matrix-org/synapse/issues/6506">#6506</a>)</li>
<li>Silence mypy errors for files outside those specified. (<a href="https://github.com/matrix-org/synapse/issues/6512">#6512</a>)</li>
<li>Clean up some logging when handling incoming events over federation. (<a href="https://github.com/matrix-org/synapse/issues/6515">#6515</a>)</li>
<li>Test more folders against mypy. (<a href="https://github.com/matrix-org/synapse/issues/6534">#6534</a>)</li>
<li>Update <code>mypy</code> to new version. (<a href="https://github.com/matrix-org/synapse/issues/6537">#6537</a>)</li>
<li>Adjust the sytest blacklist for worker mode. (<a href="https://github.com/matrix-org/synapse/issues/6538">#6538</a>)</li>
<li>Remove unused <code>get_pagination_rows</code> methods from <code>EventSource</code> classes. (<a href="https://github.com/matrix-org/synapse/issues/6557">#6557</a>)</li>
<li>Clean up logs from the push notifier at startup. (<a href="https://github.com/matrix-org/synapse/issues/6558">#6558</a>)</li>
<li>Improve diagnostics on database upgrade failure. (<a href="https://github.com/matrix-org/synapse/issues/6570">#6570</a>)</li>
<li>Reduce the reconnect time when worker replication fails, to make it easier to catch up. (<a href="https://github.com/matrix-org/synapse/issues/6617">#6617</a>)</li>
<li>Simplify http handling by removing redundant <code>SynapseRequestFactory</code>. (<a href="https://github.com/matrix-org/synapse/issues/6619">#6619</a>)</li>
<li>Add a workaround for synapse raising exceptions when fetching the notary's own key from the notary. (<a href="https://github.com/matrix-org/synapse/issues/6620">#6620</a>)</li>
<li>Automate generation of the sample log config. (<a href="https://github.com/matrix-org/synapse/issues/6627">#6627</a>)</li>
<li>Simplify event creation code by removing redundant queries on the <code>event_reference_hashes</code> table. (<a href="https://github.com/matrix-org/synapse/issues/6629">#6629</a>)</li>
<li>Fix errors when <code>frozen_dicts</code> are enabled. (<a href="https://github.com/matrix-org/synapse/issues/6642">#6642</a>)</li>
</ul>
<p>Get the new release from <a href="https://github.com/matrix-org/synapse/releases/tag/v1.8.0">github</a> or any of the sources mentioned at https://github.com/matrix-org/synapse/blob/master/INSTALL.md.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;01&#x2F;03&#x2F;this-week-in-matrix-2020-01-03&#x2F;" title="This Week in Matrix 2020-01-03">This Week in Matrix 2020-01-03</a></h1>
            <span>
                03.01.2020 00:00
                ‚Äî
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                ‚Äî
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe src="https://www.youtube.com/embed/rcpl6Spc6SI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°</h2>
<h3 id="responses-to-the-ecosystem-is-moving">Responses to <em>The Ecosystem is Moving</em></h3>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> wrote a response to <a href="https://signal.org/blog/the-ecosystem-is-moving/">https://signal.org/blog/the-ecosystem-is-moving/</a> : <a href="https://matrix.org/blog/2020/01/02/on-privacy-versus-freedom/">https://matrix.org/blog/2020/01/02/on-privacy-versus-freedom/</a>.</p>
<p>This is in response to a talk Moxie Marlinspike gave at 36c3. There is <a href="https://blog.jabberhead.tk/2019/12/29/re-the-ecosystem-is-moving/">another response here</a> from the XMPP community.</p>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite-and-gomatrixserverlib">Dendrite and gomatrixserverlib</h3>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> announced:</p>
<blockquote>
<p>My first TWIM update as a member of NV but I'm happy to announce that with some experimental changes to Dendrite and gomatrixserverlib, I've been able to get Dendrite-to-Dendrite federation working, which is a key component for the P2P work that we are planning!</p>
</blockquote>
<h3 id="matrix-media-repo-v1-0-0-rc-2">matrix-media-repo v1.0.0-rc.2</h3>
<p><a href="https://github.com/turt2live">TravisR</a> reported:</p>
<blockquote>
<p><a href="https://github.com/turt2live/matrix-media-repo">matrix-media-repo</a> has received its first ever release candidate (finally): <a href="https://github.com/turt2live/matrix-media-repo/releases/tag/v1.0.0-rc.1">v1.0.0-rc.1</a>. It's complicated to set up, but please do give it a go if it suites your environment and use case, and report any bugs along the way.</p>
</blockquote>
<p><a href="https://github.com/turt2live/matrix-media-repo/releases/tag/v1.0.0-rc.2">v1.0.0-rc.2</a> was released later in the week to fix a small bug with exports in v1.0.0-rc.1.</p>
<h3 id="synapse-1-7-3-released">Synapse 1.7.3 released</h3>
<p>Synapse 1.7.3 includes an <a href="https://github.com/matrix-org/synapse/releases/tag/v1.7.3">important bugfix</a>, hosts are encouraged to upgrade.</p>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> reported that the K8s optimized Synapse 1.7.3 images have been updated, but you should find that all distributors have the latest version now.</p>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="mx-puppet-bridge">mx-puppet-bridge</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> said:</p>
<blockquote>
<p><a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a> received some updates!</p>
<ul>
<li>Automatic Puppeting, thanks to <a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> <a href="https://github.com/Sorunome/mx-puppet-bridge/pull/12">PR</a>!</li>
<li>Allow protocol implementations to specify an <code>external_url</code> <a href="https://matrix.org/docs/spec/application_service/r0.1.2#referencing-messages-from-a-third-party-network">as per spec</a></li>
<li>Double Puppeting: Option to specify a custom homeserver -&gt; URL map for local setups where .well-known resolution isn't possible</li>
<li>Fix unbridging of rooms (remove alias correctly)</li>
<li>Set filename of uploaded avatars to circumvent a <a href="https://github.com/matrix-org/synapse/issues/6444#issuecomment-569973710">synapse bug</a></li>
<li>Update matrix-bot-sdk dependency to 0.4.0</li>
</ul>
</blockquote>
<h3 id="mx-puppet-discord-and-mx-puppet-slack">mx-puppet-discord and mx-puppet-slack</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> again:</p>
<blockquote>
<p>Both <a href="https://github.com/matrix-discord/mx-puppet-discord">mx-puppet-discord</a> and <a href="https://github.com/matrix-discord/mx-puppet-discord">mx-puppet-slack</a> updated to the newest library version and implemented the setting of an external URL.</p>
<p>If you like these projects, please check out the <a href="https://matrix.to/#/#mx-puppet-discord:sorunome.de">support chat</a> and consider to <a href="https://liberapay.com/Sorunome">donate</a>!</p>
</blockquote>
<h3 id="mautrix-telegram">mautrix-telegram</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> said:</p>
<blockquote>
<p>mautrix-telegram v0.7.0 was released.</p>
<p>Other than bugfixes, there were a few main changes since the first release candidate a month ago:</p>
<ul>
<li>Option for automatic custom puppeting using shared secret login</li>
<li><code>version</code> command to get the exact bridge version (also coming to my other bridges)</li>
<li>Config checks to make sure important fields like permissions aren't left unconfigured</li>
</ul>
<p>Full changelog available on GitHub: <a href="https://github.com/tulir/mautrix-telegram/releases/tag/v0.7.0">https://github.com/tulir/mautrix-telegram/releases/tag/v0.7.0</a></p>
</blockquote>
<h3 id="mautrix-whatsapp">mautrix-whatsapp</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> again:</p>
<blockquote>
<p>Sticker bridging works slightly better now and added automatic double puppeting here too.</p>
</blockquote>
<h3 id="mautrix-cookiemonster">mautrix-cookiemonster</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> again:</p>
<blockquote>
<p>To make the mautrix-facebook and mautrix-hangouts login flow simpler, I'm making a browser extension to eat cookies automatically rather than having the user go into the devtools. It's currently in development and should be ready by next week.</p>
</blockquote>
<h3 id="maubot">maubot</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a>, busiest fellow in the North, again:</p>
<blockquote>
<p>I finally got around to actually making the maubot <a href="https://github.com/maubot/github">github plugin</a>, which is now spamming commits and other github things in all my project rooms.</p>
<p>Next up is per-room config options for webhooks and more matrix -&gt; github actions (currently it's mostly just the github -&gt; matrix webhooks). I might also end up making a more advanced plugin configuration system that supports multiple files, since jinja2 templates in a yaml file isn't that nice.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="fluffychat-for-android-and-ios-in-flutter">FluffyChat for Android and iOS in Flutter</h3>
<p><a href="https://matrix.to/#/@krille:ubports.chat">@krille:ubports.chat</a> said:</p>
<blockquote>
<p>MTRNord and me are working on FluffyChat for Android and iOS based on Flutter. You can already check it out if you like. :-)
Install using F-Droid: <a href="https://mtrnord.gitlab.io/fluffychat-flutter-fdroid/fdroid/repo/">https://mtrnord.gitlab.io/fluffychat-flutter-fdroid/fdroid/repo/</a>
More info here: <a href="https://www.ko-fi.com/post/FluffyChat-for-Android-and-iOS-S6S71BMEY">https://www.ko-fi.com/post/FluffyChat-for-Android-and-iOS-S6S71BMEY</a></p>
</blockquote>
<h3 id="continuum">Continuum</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a> said:</p>
<blockquote>
<p><a href="https://github.com/koma-im/continuum-desktop">Continuum</a>, desktop client based in Kotlin, version 0.9.34:</p>
<ul>
<li>Perform database operations in an async way on IO dispatcher</li>
<li>Added loading indicator when loading messages from server</li>
</ul>
</blockquote>
<p><img src="/blog/img/2020-01-03-continuum.png" alt="continuum" /></p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Let's reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a>:</p>
<blockquote>
<p>The ping room was upgraded to v5 last weekend. People who joined early got some nice and low pings before everyone rejoined :D</p>
</blockquote>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">kif.rocks</td><td style="text-align: center">240</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">maunium.net</td><td style="text-align: center">260</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">eisfunke.com</td><td style="text-align: center">298</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">pixie.town</td><td style="text-align: center">311</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">hackerspaces.be</td><td style="text-align: center">336</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">synod.im</td><td style="text-align: center">376.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">383</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">flobob.ovh</td><td style="text-align: center">394</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">aryasenna.net</td><td style="text-align: center">407</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">lyseo.edu.ouka.fi</td><td style="text-align: center">418</td></tr>
</tbody></table>
<p>Also, <a href="https://matrix.to/#/@lub:imninja.net">@lub:imninja.net</a> told us:</p>
<blockquote>
<p>I created a <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> compatible bot in PowerShell <a href="https://gitea.lubiland.de/lub/pingposh/src/branch/master">https://gitea.lubiland.de/lub/pingposh/src/branch/master</a></p>
</blockquote>
<p>Very nice - we don't see a lot of PowerShell in this ecosystem.</p>
<h2 id="final-thoughts-thought-balloon">Final Thoughts üí≠</h2>
<p>Work is still happening on <strong>Cross Signing</strong>, patience will be rewarded sooner than you know.</p>
<p>Half-Shot is working on a fun and genuinely useful <strong>non-chat Matrix application</strong>, more on this soon.</p>
<p><strong>36c3 was exciting, exhausing and educational</strong>. Thanks to everyone who made the Matrix Assembly one of the liveliest places around. :D</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;01&#x2F;02&#x2F;on-privacy-versus-freedom&#x2F;" title="On Privacy versus Freedom">On Privacy versus Freedom</a></h1>
            <span>
                02.01.2020 00:00
                ‚Äî
                <a href="/category/thoughts">
                    Thoughts
                </a>
                ‚Äî
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>A few years ago, back when Matrix was originally implementing end-to-end encryption, we asked Moxie (the project lead for Signal) whether he‚Äôd ever consider connecting Signal (then TextSecure) to Matrix.  After all, one of Matrix‚Äôs goals is to be an interoperability layer between other communication silos, and one of the reasons for us using Signal‚Äôs Double Ratchet Algorithm for Matrix‚Äôs encryption was to increase our chances of one day connecting with other apps using the same algorithm (Signal, WhatsApp, Google Allo, Skype, etc).  Moxie politely declined, and then a few months later wrote ‚Äú<a href="https://signal.org/blog/the-ecosystem-is-moving/">The ecosystem is moving</a>‚Äù to elaborate his thoughts on why he feels he ‚Äúno longer believes that it is possible to build a competitive federated messenger at all.‚Äù</p>
<p>At the time we didn‚Äôt respond via a blog post; instead we ended up talking it through a few times in person to see how misaligned we really were. The conclusion was that we agreed to disagree and Moxie said he‚Äôd be happy to be proved wrong, and wished us good luck.  However, the subject has come up again thanks to <a href="https://fahrplan.events.ccc.de/congress/2019/Fahrplan/events/11086.html">Moxie‚Äôs talk on the same subject</a> at 36C3 last week, and we <a href="https://news.ycombinator.com/item?id=21933891">keep</a> <a href="https://news.ycombinator.com/item?id=21935219">getting</a> <a href="https://matrix.to/#/!OGEhHVWSdvArJzumhm:matrix.org/$SzdpeR_Hji5AMOkydnYzv5UN_UaGdN710ThF-lfAt9A?via=matrix.org&amp;via=t2bot.io&amp;via=privacytools.io">asked</a> to write a formal response on the Matrix side.  So, here‚Äôs an attempt to do so.  (Moxie didn‚Äôt want the 36C3 talk recorded, and I haven‚Äôt watched it, so this is responding to the original blog post).</p>
<p>From my perspective, the main points proposed in ‚ÄòThe ecosystem is moving‚Äô boil down to:</p>
<ul>
<li>
<p>Decentralised systems are harder to design and build than centralised ones, as coordination is harder if you don‚Äôt have a single authority to trust.</p>
</li>
<li>
<p>Decentralised systems are harder and slower to evolve than centralised ones, as you can‚Äôt force participants to rapidly roll out (or even agree on) new features.</p>
</li>
<li>
<p>Users in federated systems tend to coalesce around the best/biggest server that the bulk of people use - which means that server typically gets to see a disproportionate amount of communication metadata (who‚Äôs talking to who, and when), and has disproportionate power over the network, which could bully others away from running their own deployments.</p>
</li>
<li>
<p>If users don‚Äôt trust their app provider, they can always go switch apps, which gives them freedom.</p>
</li>
<li>
<p>Open systems are less secure because you have no control over the quality of the implementations - if anyone can bring their own client or server to the table, all it takes is one bad implementation to compromise everyone in the vicinity.</p>
</li>
</ul>
<p>Now, all of these points are valid to some extent.</p>
<p>It‚Äôs absolutely true that decentralised systems are harder than centralised ones.  Prior to Matrix we built centralised comms systems - we literally can do a side-by-side comparison for the same team to see how easily and fast we built our centralised comms system relative to Matrix.  Empirically It took us around 6 times longer to get to the same feature-set with Matrix.</p>
<p>It‚Äôs also true that decentralised systems are harder to evolve than centralised ones - you can‚Äôt just push out a given feature with a single app update, but you have to agree and publish a public spec, support incremental migration, and build governance processes and community dynamics which encourage everyone to implement and upgrade.  This is hard, but not impossible: we‚Äôve spent loads of time and money on Matrix‚Äôs <a href="https://matrix.org/foundation/">governance model</a> and <a href="https://matrix.org/docs/spec/proposals">spec process</a> to get it right.  It‚Äôs still not perfect, but we haven‚Äôt seen much fragmentation so far, and when we‚Äôre pushing out a feature empirically we can and do go just as fast as the centralised alternatives. (E2E by default is a bit of a special case because we‚Äôve had to go and reimplement many features users take for granted today in an E2E-capable manner, but we‚Äôre sprinting to get it done in the coming weeks).  A bigger problem is that there are hundreds of spec change proposals which folks would like to see in the protocol, and finding a way to manage expectations and parallelise spec progress is hard - something we‚Äôre looking to improve in 2020 (although still figuring out how!)</p>
<p>It‚Äôs also fair that in a multi-server federated model, users naturally tend to sign up on the most prominent server(s) (e.g. the matrix.org homeserver in the case of Matrix).  In practice, the matrix.org homeserver currently makes up about 35% of the visible Matrix network by active users.  It‚Äôs also true that Matrix servers currently store metadata about who‚Äôs talking to who, and when, as a side-effect of storing and relaying messages on behalf of their users.  And without an adequate protocol governance system in place, a large server could start pushing around smaller ones in terms of protocol behaviour.  In practice, we‚Äôre looking into solving metadata protection in Matrix by experimenting with hybrid P2P / Client Server models - letting users store their metadata purely clientside if they so desire, and potentially obfuscating who‚Äôs talking to who via mixnets of blinded store &amp; forward servers (more about this coming up at <a href="https://fosdem.org/2020/schedule/event/dip_p2p_matrix/">FOSDEM</a>). Combined with <a href="https://github.com/matrix-org/matrix-doc/blob/rav/proposal/remove_mxids_from_events/proposals/1228-removing-mxids-from-events.md">nomadic accounts</a>, this would let us eventually turn off the matrix.org server entirely and eliminate the pseudo-centralisation effect - the default ‚Äòserver‚Äô would be the one running on your client.</p>
<p>It‚Äôs true that if a user doesn‚Äôt trust (say) Telegram, they are free to go switch to Signal or WhatsApp or whatever instead‚Ä¶ at the massive expense of having to persuade all their friends to install yet another app, and fragmenting their conversation history across multiple apps.</p>
<p>Finally, it‚Äôs also true that because anyone can develop a Matrix client or server and connect to the global network, there‚Äôs a risk of bad quality implementations in the wild.  There are many forks of Riot on the app stores - we simply can‚Äôt vouch for whether they are secure.  Similarly there are Matrix clients whose E2E encryption is partial, missing, or unreviewed.  And there are a wide range of different Matrix servers run by different people with different agendas in different locations, which may be more or less trustworthy.</p>
<p><strong>HOWEVER: all of this completely ignores one critical thing - the value of freedom</strong>.  Freedom to select which server to use.  Freedom to run your own server (perhaps invisibly in your app, in a P2P world). Freedom to pick which country your server runs in. Freedom to select how much metadata and history to keep. Freedom to choose which apps to use - while still having the freedom to talk to anyone you like (without them necessarily installing yet another app).  Freedom to connect your own functionality - bots, bridges, integrations etc.  Freedom to select which identifiers (if any) to use to register your account.  Freedom to extend the protocol.  Freedom to write your own client, or build whole new as-yet-unimagined systems on top.</p>
<p>It‚Äôs true that if you‚Äôre writing a messaging app optimised for privacy at any cost, Moxie‚Äôs approach is one way to do it. However, this ends up being a perversely closed world - a closed network, where unofficial clients are banned, with no platform to build on, no open standards, and you end up thoroughly putting all your eggs in one basket, trusting past, present &amp; future Signal to retain its values, stay up and somehow dodge compromise &amp; censorship‚Ä¶ despite probably being the single highest value attack target on the ‚Äònet.</p>
<p>Quite simply, that isn‚Äôt a world I want to live in.</p>
<p>We owe the entire success of the Internet (let alone the Web) to openness, interoperability and decentralisation.  To declare that openness, interoperability and decentralisation is ‚Äòtoo hard‚Äô and not worth the effort when building a messaging solution is to throw away <em>all</em> the potential of the vibrancy, creativity and innovation that comes from an open network.  Sure, you may end up with a super-private messaging app - but one that starts to smell alarmingly like a walled garden like Facebook‚Äôs Internet.org initiative, or an AOL keyword, or Google‚Äôs AMP.</p>
<p>So, we continue to gladly take up Moxie‚Äôs challenge to prove him wrong - to show that it‚Äôs both possible and imperative to create an open decentralised messaging platform which (if you use reputable apps and servers) can be as secure and metadata-protecting as Signal‚Ä¶ and indeed more so, given you can run your server off the grid, and don‚Äôt need to register with a phone number, and in future may not even need a server at all.</p>
<p>--Matthew</p>
<p>(Comments over at <a href="https://news.ycombinator.com/item?id=21936929">HN</a>)</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2019&#x2F;12&#x2F;31&#x2F;synapse-1-7-3-released&#x2F;" title="Synapse 1.7.3 released">Synapse 1.7.3 released</a></h1>
            <span>
                31.12.2019 00:00
                ‚Äî
                <a href="/category/releases">
                    Releases
                </a>
                ‚Äî
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>We've just released Synapse 1.7.3 - an important bug fix to address a class of failures due to malformed events.  We've seen this in the wild over the last few days, so we'd recommend updating as soon as possible, especially if you are having problems federating.</p>
<p>Get the new release from <a href="https://github.com/matrix-org/synapse/releases/tag/v1.7.3">github</a> or any of the sources mentioned at https://github.com/matrix-org/synapse/blob/master/INSTALL.md.</p>
<p>The changelog since 1.7.2 is:</p>
<h1 id="synapse-1-7-3-2019-12-31">Synapse 1.7.3 (2019-12-31)</h1>
<p>This release fixes a long-standing bug in the state resolution algorithm.</p>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Fix exceptions caused by state resolution choking on malformed events. (<a href="https://github.com/matrix-org/synapse/issues/6608">#6608</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2019&#x2F;12&#x2F;27&#x2F;this-week-in-matrix-2019-12-27&#x2F;" title="This Week in Matrix 2019-12-27">This Week in Matrix 2019-12-27</a></h1>
            <span>
                27.12.2019 23:59
                ‚Äî
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                ‚Äî
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            <br>
            <small>Last update: 27.12.2019 23:52</small>
        </header>
        <div>
            <h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°</h2>
<h3 id="36c3-matrix-assembly-is-the-place-to-be">36c3: Matrix Assembly is the place to be</h3>
<p>If you're at 36c3 this weekend, come and find us! Use c3nav app to find our assembly, or just join <a href="https://matrix.to/#/#chaosevents:matrix.org">#chaosevents:matrix.org</a> to come chat</p>
<h3 id="bundeswehr-considering-matrix">Bundeswehr considering Matrix</h3>
<p><a href="https://matrix.to/#/@oleg:fiksel.info">Oleg</a> said:</p>
<blockquote>
<p>The German Army is considering using Matrix as &quot;secure WhatsApp&quot; for soldiers.
(In German)
<a href="https://www.heise.de/newsticker/meldung/Open-Source-Bundeswehr-baut-eigene-verschluesselte-Messenger-App-4623404.html">https://www.heise.de/newsticker/meldung/Open-Source-Bundeswehr-baut-eigene-verschluesselte-Messenger-App-4623404.html</a></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="matrix-oauth">matrix-oauth</h3>
<p><a href="https://github.com/turt2live">TravisR</a> reported:</p>
<blockquote>
<p>For those who want to integrate Matrix into their application with OAuth, there's now <a href="https://github.com/turt2live/matrix-oauth">matrix-oauth</a> ( <a href="https://matrix.to/#/#oauth:t2bot.io">#oauth:t2bot.io</a> ). Ideally useful for &quot;Login with Matrix&quot; buttons, this is a relatively easy OAuth 2.0 provider to set up in front of your homeserver. In future it'll support more granular scopes to avoid having to give a real access token to the third party application.</p>
<p>A demo of matrix-oauth in action is available at <a href="https://demo.oauth.t2host.io/">https://demo.oauth.t2host.io/</a></p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="amazon-alexa-skill">Amazon Alexa skill</h3>
<p><a href="https://github.com/turt2live">TravisR</a> offered:</p>
<blockquote>
<p>Yelling at your Amazon Alexa to send a message to your Matrix contacts is now possible with <a href="https://github.com/turt2live/matrix-alexa-skill">matrix-alexa-skill</a> ( <a href="https://matrix.to/#/#alexa:t2bot.io">#alexa:t2bot.io</a> ). A hosted version using matrix-oauth is coming soon, assuming I can get the privacy policy and such over to Amazon to review in a timely manner, though you're more than able to self-host in a matter of minutes. Check out the README for more info - some experience with setting up complicated things is required.</p>
</blockquote>
<h3 id="mx-puppet-bridge">mx-puppet-bridge</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> offered:</p>
<blockquote>
<p><a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a> got a new feature: protocol implementations can now specify custom commands that are invoked via the provisioning room!</p>
</blockquote>
<h3 id="mx-puppet-discord">mx-puppet-discord</h3>
<blockquote>
<p><a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-discord</a> received quite a few bug fixes and new features!</p>
<ul>
<li>Fix echo back of edits</li>
<li>[User Tokens] being friends is enough now to DM each other!</li>
<li>fix multi-edits</li>
<li>[User Tokens] support group DMs</li>
<li>Implement ability to bridge guilds!</li>
<li>[User Tokens] add friends management</li>
</ul>
<p>Description on how to use these features are found in the readme!</p>
<p>If you enjoy these projects, please consider to <a href="https://liberapay.com/Sorunome">donate</a>. Thank you!</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="spectral-gains-public-room-directory">Spectral gains public room directory</h3>
<p><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> reported:</p>
<blockquote>
<p>Public room directory and user directory support in Spectral is finally there!</p>
</blockquote>
<p><img src="/blog/img/2019-12-27-spectral.png" alt="spectral room directory" /></p>
<h3 id="continuum-plus-koma-library">Continuum, plus koma library</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a> offered:</p>
<blockquote>
<p><a href="https://github.com/koma-im/koma-library">koma</a>, a Kotlin library. Dominic Fischer (github: <a href="https://github.com/Dominaezzz">Dominaezzz</a>) started working on the project last week and so far:</p>
<ul>
<li>
<p>In preparation for multiplatform support, converted JVM code to agnostic Kotlin, using the library <code>atomicfu</code></p>
</li>
<li>
<p>Added Github Actions configuration to run builds automatically </p>
</li>
</ul>
<p><a href="https://github.com/koma-im/continuum-desktop">Continuum</a>, desktop client based on Koma:</p>
<ul>
<li>Generate room name from members when neither name nor aliases are configured</li>
</ul>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="ma1sd-2-2-2-released">ma1sd 2.2.2 released</h3>
<p><a href="https://matrix.to/#/@ma1uta:ru-matrix.org">ma1uta</a> announced:</p>
<blockquote>
<p>ma1sd (fork of the mxisd) 2.2.2 released: <a href="https://github.com/ma1uta/ma1sd/releases/tag/2.2.2">https://github.com/ma1uta/ma1sd/releases/tag/2.2.2</a>
Changes:</p>
<ul>
<li>bugfix</li>
<li>added hash lookup for the ldap provider.</li>
</ul>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services üöÄ</h2>
<h3 id="kapsi-fi-has-set-up-a-matrix-homeserver">kapsi.fi has set up a Matrix homeserver</h3>
<p><a href="https://matrix.to/#/@cos:hacklab.fi">Cos</a> reported:</p>
<blockquote>
<p>Finnish non-profit hosting service kapsi.fi has set up a Matrix homeserver for their members. Kapsi has around 5000 members and 20 volunteer administrators. Instructions for use (in FInnish) at <a href="https://www.kapsi.fi/palvelut/matrix.html">https://www.kapsi.fi/palvelut/matrix.html</a></p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="matrixvideo2oggbot">MatrixVideo2oggBot</h3>
<p><a href="https://matrix.to/#/@progserega:rsprim.ru">@progserega:rsprim.ru</a> reported:</p>
<blockquote>
<p>Matrix bot for converting youtube video to voice.</p>
<p>Bot <a href="https://github.com/progserega/MatrixVideo2oggBot">https://github.com/progserega/MatrixVideo2oggBot</a> get youtube URL, download video, convert to ogg-vorbis audio and send it to user.
Some times my friends give me youtube video-urls, but I do not have time for see it. But I have time when I go home in car. But on road network is not always good and  at end of day battery is low and phone may be hot (when I connect to charger and play video) and freeze...
Simple way for me - is convert youtube video to small size voice and download it to phone and play it as music in player playlist. Bot help to this.
May be it help anybody also. üôÇ</p>
</blockquote>
<h2 id="matrix-in-the-news-newspaper">Matrix in the News üì∞</h2>
<p><a href="https://matrix.to/#/@AndresCuccaro:matrix.org">Andres</a> offered:</p>
<blockquote>
<p>Matrix gets a mention alongside other four decentralized protocols in one of the biggest argentinian newspapers (regarding Twitter's iniciative of decentralization). <a href="https://www.lanacion.com.ar/tecnologia/cinco-iniciativas-descentralizar-redes-sociales-dejar-depender-nid2317548">https://www.lanacion.com.ar/tecnologia/cinco-iniciativas-descentralizar-redes-sociales-dejar-depender-nid2317548</a></p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">getflexedon.me</td><td style="text-align: center">211.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">thinker.eu.org</td><td style="text-align: center">306</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">maunium.net</td><td style="text-align: center">432</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">dodsorf.as</td><td style="text-align: center">438</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">lyseo.edu.ouka.fi</td><td style="text-align: center">455</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">562</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">uraziel.de</td><td style="text-align: center">626</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">tout.im</td><td style="text-align: center">640.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">kapsi.fi</td><td style="text-align: center">650</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">encom.eu.org</td><td style="text-align: center">862</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2019&#x2F;12&#x2F;24&#x2F;the-2019-matrix-holiday-update&#x2F;" title="The 2019 Matrix Holiday Update!">The 2019 Matrix Holiday Update!</a></h1>
            <span>
                24.12.2019 00:00
                ‚Äî
                <a href="/category/general">
                    General
                </a>
                ‚Äî
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>Every year we do an annual wrap-up and retrospective of all the things happening in the Matrix core team - if you‚Äôre feeling particularly curious or bored you can check out the <a href="https://matrix.org/blog/2015/12/25/the-matrix-holiday-special/">2015</a>, <a href="https://matrix.org/blog/2016/12/26/the-matrix-holiday-special-2016-edition/">2016</a>, <a href="https://matrix.org/blog/2017/12/25/the-matrix-holiday-mini-special-2017-edition/">2017</a> and <a href="https://matrix.org/blog/2018/12/25/the-2018-matrix-holiday-special/">2018</a> editions for context.  The idea is to look at the bigger picture trends in Matrix outside of the weekly <a href="https://matrix.org/blog/category/this-week-in-matrix/">TWIM</a> posts to get an idea of the stuff which we made progress on, and the stuff which still remains.</p>
<p>That said, it‚Äôs hard to know where to start - Matrix accelerated more than ever before in 2019, and there‚Äôs been progress on pretty much all battlefronts.  So as a different format, let‚Äôs take the <a href="https://matrix.org/blog/2018/12/25/the-2018-matrix-holiday-special#2019">stuff we said we had planned for 2019</a> from the end of last year‚Äôs update and see what we actually achieved...</p>
<h4 id="2019-the-immediate-priorities">2019: the immediate priorities</h4>
<p>So, our immediate priorities for 2019 were:</p>
<ul>
<li><em>r0 spec releases across the board (aka Matrix 1.0)</em></li>
<li><em>Implementing them in Synapse</em></li>
</ul>
<p>‚úÖ Well, unless you‚Äôve been floating in a sensory deprivation tank for the last year, hopefully you spotted that Matrix (as a protocol) finally exited beta - starting off with the announcement at FOSDEM in February of the <a href="https://matrix.org/blog/2019/02/04/matrix-at-fosdem-2019/">first stable release of the Server-Server API</a>, alongside the Synapse 0.99.x series as we began the process of migrating to the 1.0 APIs.</p>
<p>Specifically this meant killing off self-signed certificates, adding .well-known server discovery and implementing room version semantics so we could upgrade the underlying room version algorithm to fix the residual flaws.  This culminated in June with the <a href="https://matrix.org/blog/2019/06/11/introducing-matrix-1-0-and-the-matrix-org-foundation/">official release of Matrix 1.0</a> - now including the remaining APIs and a stable release of Synapse 1.0.  The emphasis was on addressing all the main pre-1.0 design flaws rather than adding features or performance, but with 1.0 out the door at last we‚Äôve been able to make progress there too.</p>
<ul>
<li><em>Landing the Riot redesign</em></li>
</ul>
<p>‚úÖ The full redesign of Riot‚Äôs UI on Web/Desktop landed shortly after FOSDEM in Feb with <a href="https://medium.com/@RiotChat/the-big-1-0-68fa7c6050be">The Big 1.0</a>. Cosmetically we got most of the new look &amp; feel in place, and have had very positive feedback overall - although some of the UX thinkos of the old app remain and coming up on the radar for fixing.</p>
<ul>
<li><em>Finalising the Matrix.org Foundation</em> </li>
</ul>
<p>‚úÖ This happened too, coincident with releasing Matrix 1.0 in June - read all about it at <a href="https://matrix.org/foundation">https://matrix.org/foundation</a>. So far the governance and legal infrastructure the Foundation provides has helped the project significantly, and while it was a mammoth task to organise, we‚Äôre very glad it‚Äôs here!  Huge thanks go out to Jon, Ross and Jutta for agreeing to join the foundation as Guardians - they have been excellent in patiently listening to the various dramas of the year and ensuring Matrix‚Äôs neutrality and that we keep an even keel.</p>
<ul>
<li><em>Landing all the new E2E encryption UX and features</em></li>
</ul>
<p>The good news on E2E encryption is that we‚Äôve been making solid progress throughout the year - the bad news is that we are still yet to turn it on by default.  Progress updates for the various pieces of the puzzle are as follows:</p>
<ul>
<li>
<p>‚úÖ The final UX is pretty much locked down (after several iterations as we try to tread the balance between trustworthiness and security) - here‚Äôs a <a href="https://www.figma.com/file/wwqBo5oAFfk8XKmtd2YaIs/Cross-signing">sneak preview</a> of what we‚Äôre aiming at.</p>
</li>
<li>
<p>üèó Cross-signing is the single biggest remaining piece of work in progress - letting users attest to the trustworthiness of their own devices, so you only ever have to trust a given user once rather than trusting all their devices individually. We gave a <a href="https://youtu.be/C2eE7rCUKlE?t=2974">very early demo</a> of an experimental implementation back at FOSDEM in Feb, inspired by some of the initial spec proposal at <a href="https://github.com/uhoreg/matrix-doc/blob/cross-signing/proposals/1680-cross-signing.md">MSC1680</a> (MSC = Matrix Spec Change, our <a href="https://matrix.org/docs/spec/proposals">process for evolving Matrix</a>).</p>
<p>However, having played with it a bit, MSC1680 turned out to be too generic and complicated (it worked by the user signing a device with any other of their devices, building a twisted maze of which device vouched for which) - and we replaced it with <a href="https://github.com/matrix-org/matrix-doc/pull/1756">MSC1756</a>, which shifts the model to be the simpler ‚Äúthe user has a key, which they use to sign their devices‚Äù. However, this in turn requires more infrastructure - you need somewhere secure to store your signing key, which prompted <a href="https://github.com/uhoreg/matrix-doc/blob/ssss/proposals/1946-secure_server-side_storage.md">MSC1946</a> - Secure Secret Storage &amp; Sharing (SSSS): the ability to sync your signing key between devices by storing it (encrypted, of course) on the server.</p>
<p>Meanwhile, it also became obvious that the primitives for key verification needed to be improved too: introducing verification by emoji comparison (<a href="https://github.com/matrix-org/matrix-doc/issues/1267">MSC1267</a>) and QR codes (<a href="https://github.com/matrix-org/matrix-doc/issues/1543">MSC1543</a>), and switching key verification to be performed in the context of a DM (<a href="https://github.com/matrix-org/matrix-doc/pull/2241">MSC2241</a>) so that you can see your verification history, find verifications, and easily dip in and out of verifying users as needed.</p>
<p>Whilst everyone else was panicking about Matrix 1.0 and associated baggage, Uhoreg was off in the wilderness plugging his way through all of this - iterating on the design, speccing it and implementing it in synapse and matrix-js-sdk, complete with a test jig to demonstrate it all working (<a href="https://scitech.video/videos/watch/1c8a0262-dee9-4927-b9e9-9856a7f4d8bf">part 1</a> and <a href="https://scitech.video/videos/watch/d1ef04a8-397a-4570-a9a9-cef143ea637c">part 2</a>).  Over the last few months the rest of the team has joined him though, and we‚Äôve been frantically working away implementing it all on both Riot/Web, iOS &amp; RiotX/Android.  For instance - here‚Äôs <a href="https://matrix.org/_matrix/media/r0/download/matrix.org/IoFfFRWTmRNTbNDzfmKFPvLq">verification happening in DM</a> between Riot/Web &amp; RiotX a few weeks ago, and here‚Äôs a very early (unskinned) cut of <a href="https://matrix.org/_matrix/media/r0/download/matrix.org/tAWxQKhrfiPxBvtAOQfMiGjW">verification</a> happening in Riot/Web‚Äôs RightPanel a few days ago.</p>
<p>We were hoping to get cross-signing ready for the end of 2019, but in practice we‚Äôre now sprinting to get it done by FOSDEM 2020 in Feb - not least because we have a main-stage talk proposed to tell everyone how we landed it and turned on E2E by default... ;)</p>
</li>
<li>
<p>‚úÖ Support for non-E2E clients.  The last thing we want is to make it impossible to write a simple Matrix client, or to suddenly excommunicate (hah) all the existing Matrix bots &amp; bridges which haven‚Äôt implemented E2E.  To this end, poljar created <a href="https://github.com/matrix-org/pantalaimon">pantalaimon</a> - our very own Matrix daemon, which can sit in the background and offload all your E2EE from your Matrix client by acting as a transparent Matrix proxy which magically encrypts everything.  Built on matrix-nio and asyncio python3, We use it in production today for running various bots and it works excellently.</p>
</li>
<li>
<p>‚úÖ Support for search in E2E rooms.  Hot off the heels of pantalaimon‚Äôs success, poljar also created <a href="https://github.com/matrix-org/seshat">seshat</a> - a native library for clientside indexing encrypted Matrix events written in Rust, powered by the <a href="https://github.com/tantivy-search/tantivy">tantivy</a> full-text search engine.  (pantalaimon also has support for indexing via tantivy, which involved contributing python bindings for tantivy, but we ended up going with Rust so we could embed it natively in as many Matrix clients as possible).  Seshat is particularly cool in that the indexes themselves are encrypted in on disk - and in future could even be synced between clients using <a href="https://github.com/uhoreg/matrix-doc/blob/ssss/proposals/1946-secure_server-side_storage.md">SSSS</a> so you don‚Äôt have to reindex your messages every time you log in on a new device.  Seshat is implemented behind a labs flag on Riot/Desktop and it will ship as soon Riot/Desktop‚Äôs build pipeline is fully updated to support native modules (which will also unlock other goodies, such as using faster/safer native E2E primitives, safer key storage, and Discord-style keyboard-shortcuts for VoIP).</p>
</li>
<li>
<p>üèó Fixing ‚Äúunable to decrypt‚Äù errors.  We‚Äôve done big sprint over the last month or so to track down the final straggling causes of unable to decrypt errors.  Some of these are legitimate bugs (e.g. <a href="https://github.com/matrix-org/synapse/issues/6399">https://github.com/matrix-org/synapse/issues/6399</a>) - but many are artefacts of the current architecture: for instance, if the sender has no way to know your device was in the room when it encrypted a message, you won‚Äôt be able to decrypt.  We‚Äôre addressing this by improving better error messages and feedback so the user isn‚Äôt surprised by what‚Äôs going on (aiming for Jan) - and in future we‚Äôll have to revisit E2E‚Äôs fundamentals to ensure that it‚Äôs impossible to receive a message without also receiving the key to decrypt it.</p>
</li>
<li>
<p>‚úÖ Support for push notifications in E2E rooms.  This is kinda solved right now by having all clients get (silently) pushed whenever they receive a message in an E2E room with push enabled, and relying on the client to be woken up by the push in order to decrypt the message in order to display the push notification.  However, this is battery intensive, and we could probably do better - but this isn‚Äôt a blocker for going live.</p>
</li>
<li>
<p>üèó Support for FilePanel and NotifPanel in E2E rooms.  Seshat should fix this by indexing all your messages (and so tracking whether they contain pushes or files, and populating up your local view of your file &amp; notif panels respectively) - just need to ensure it‚Äôs hooked up.</p>
</li>
</ul>
<p>...and that‚Äôs where things stand right now on E2E by default.  We‚Äôll start turning it on by default for private rooms as soon as the UX has landed (probably starting first with new DMs and private rooms, prompting the user in case they want to opt out - and then migrating existing ones).  It‚Äôs worth noting that we have poured a <em>lot</em> of work into E2E encryption now - often to the detriment of the rest of Matrix; our rich featureset and decentralisation has combined to make this a tough nut to crack, but the end is in sight.  Thanks to all for your patience and support while we‚Äôve been working through this.</p>
<p>That takes us to the end of the stuff we planned to prioritise in 2019 - but what about the more speculative medium-term stuff which was on the menu this time last year?</p>
<h4 id="2019-the-medium-term-priorities">2019: the medium-term priorities</h4>
<ul>
<li><em>Reworking and improving Communities/Groups.</em></li>
</ul>
<p>We have some really promising UX work and a fairly early spec proposal (<a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc1772/proposals/1772-groups-as-rooms.md">MSC1772</a>), but work in earnest hasn‚Äôt kicked off yet. It‚Äôs going to be one of the next big projects though. </p>
<ul>
<li><em>Reactions.</em></li>
</ul>
<p>‚úÖ Riot now has Reactions! üéâüéâüéâ  The only remaining work is to finish the remaining rough edges of the spec proposal (<a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc1849/proposals/1849-aggregations.md">MSC1849</a>) and actually land them in the Matrix spec proper.</p>
<ul>
<li><em>E2E-encrypted Search</em></li>
</ul>
<p>‚úÖ <a href="https://github.com/matrix-org/seshat">Seshat</a> exists! (see above)</p>
<ul>
<li><em>Filtering. (empowering users to filter out rooms &amp; content they're not interested in).</em></li>
</ul>
<p>‚úÖ We‚Äôve ended up thinking lots in 2019 about empowering users to filter content.  The main impetus has been to ensure that users and communities can filter out abuse (on their own terms), and also to start building infrastructure which can be used for folks to share their own filters.  Over the last few months, this has started to take concrete form - with the arrival of <a href="https://github.com/matrix-org/matrix-doc/blob/msc2313/proposals/2313-moderation-policy-rooms.md">MSC2313</a> ‚ÄúModeration policies as rooms‚Äù, and <a href="https://github.com/matrix-org/mjolnir">Mjolnir</a> - a bot you can run to enforce moderation policies on your rooms.  It‚Äôs all quite early, but we expect a lot more work in this space over the coming year (and it‚Äôs wryly amusing that <a href="https://twitter.com/jack/status/1204766078468911106">Twitter has also woken up</a> to it being an interesting problem needing to be solved.)</p>
<ul>
<li><em>Extensible events</em> </li>
</ul>
<p>Sorry folks; no progress here since a flurry of spec work (<a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc1767/proposals/1767-extensible-events.md">MSC1767</a>) back in Jan 2019. The good news is that the spec proposal seems to be relatively well received. The bad news is that we haven‚Äôt had bandwidth to finish reviewing it, implementing it and migrating it anywhere. It blocks a bunch of really useful stuff in Matrix, and there are users willing to pay for it (via New Vector) - we‚Äôll get to it as soon as we can.</p>
<ul>
<li><em>Editable messages.</em></li>
</ul>
<p>‚úÖ These landed too and are a thing of joy!  Just need to merge <a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc1849/proposals/1849-aggregations.md">MSC1849</a>.</p>
<ul>
<li><em>Extensible Profiles (we've actually been experimenting with this already).</em></li>
</ul>
<p>Similar to Extensible Events, there was a flurry of spec work (<a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc1769/proposals/1769-extensible-profiles-as-rooms.md">MSC1769</a>) back in Jan, but little progress since.  This will also unlock a lot of really useful features - e.g. custom status, custom profile data, social timeline rooms etc.  We‚Äôll likely get to it shortly after communities work.</p>
<ul>
<li><em>Threading.</em></li>
</ul>
<p>üèó So we actually landed label-based threading (<a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc2326/proposals/2326-label-based-filtering.md">MSC2326</a>) in Synapse 1.6, but it‚Äôs not exposed in Riot yet (or elsewhere).  It doesn‚Äôt have quite the same semantics as Slack-style threading; the idea is to filter down your room based on which messages are tagged as part of a given topic.  However, it‚Äôs very powerful, and it‚Äôll be fun to add it to Riot at some point in 2020.  Meanwhile, better-than-label-based-threading is also on the cards, although slightly lower priority than some of the other stuff in this section.</p>
<ul>
<li><em>Landing the Riot/Android rewrite</em></li>
</ul>
<p>üèó As you probably know, RiotX is a full rewrite of Riot/Android in Kotlin using modern AndroidX and Jetpack idioms - and it entered beta <a href="https://medium.com/@RiotChat/introducing-the-riotx-beta-for-android-b17952e8f771">back in June</a>.  Since then we‚Äôve been frantically working away on both playing catch-up with the old app‚Ä¶ as well as implementing all the new stuff (reactions, edits, new E2E verification, cross-signing etc) which makes no sense to waste time adding in Riot/Android, but also pushes out the timeline on RiotX itself.</p>
<p>We‚Äôre currently sprinting to try to get RiotX ready for FOSDEM in February - hopefully users will have felt the app starting to really stabilise over the last few months (it even supports breadcrumbs now!)</p>
<ul>
<li><em>Considering whether to do a similar overhaul of Riot/iOS</em></li>
</ul>
<p>üèó It‚Äôs cheating a bit, but Manu (the lead developer on Riot/iOS and delivery manager of Riot/Mobile in general) has been hacking on an entirely new client called <a href="https://github.com/manuroe/messagerie">Messagerie</a> in his spare time, using SwiftUI.  The idea of throwing away the whole UI layer and replacing it with the latest best practices sounds suspiciously like RiotX - it‚Äôll be interesting to see how RiotX/iOS takes shape next year! </p>
<ul>
<li><em>Scaling synapse via sharding the master process</em></li>
</ul>
<p>We ended up bottlenecked on IO rather than CPU in 2019, and as a result we worked on splitting synapse‚Äôs database across multiple database instances on a per-table granularity.  However, the master process itself doesn‚Äôt shard yet; so we‚Äôre now bottlenecked on CPU and need to get on and do this asap to unlock further Synapse scalability for mega-monolithic-deployments like the Matrix.org homeserver. </p>
<ul>
<li><em>Bridge UI for discovery of users/rooms and bridge status</em> </li>
</ul>
<p>üèó There‚Äôs been a bit of movement in the last few weeks on this, but nothing concrete yet. </p>
<ul>
<li><em>Bandwidth-efficient transports</em> </li>
</ul>
<p>‚úÖ We finished the 100bps CoAP transport proof-of-concept for Matrix, demoed it at FOSDEM and <a href="https://matrix.org/blog/2019/03/12/breaking-the-100-bps-barrier-with-matrix-meshsim-coap-proxy">shipped it in March</a>. However, we haven‚Äôt progressed it much further; it really needs a corporate sponsor who wants to fund work to finish it off and bake it properly into Matrix. <strong>If you‚Äôre interested, please <a href="https://matrix.to/#/@matthew:matrix.org">get in touch</a>.</strong></p>
<ul>
<li><em>Bandwidth-efficient routing</em> </li>
</ul>
<p>üèó We also did a bunch of related work on bandwidth-efficient routing, which sadly hasn‚Äôt been released yet.  However, it‚Äôs interesting to note that the <a href="https://dsn.tm.kit.edu/english/">Decentralized Systems and Network Services Research Group</a> at Karlsruhe Institute of Technology‚Äôs Institute of Telematics has been looking into this space too - c.f. their <a href="https://publikationen.bibliothek.kit.edu/1000100364">A Glimpse of the Matrix</a> paper, which ponders very similar problems. </p>
<ul>
<li><em>Getting Dendrite to production.</em> </li>
</ul>
<p>üèó Dendrite work has been bubbling away in the background thanks to Anoa, Brendan, cnly (our GSoC dendrite contributor) and others.  Inevitably most of our bandwidth has gone into getting Synapse to 1.0 and making sure it‚Äôs fit for purpose, but we want and need to keep Dendrite alive for next-generation purposes - and in fact New Vector is hiring new people to work on it in 2020. </p>
<ul>
<li><em>Inline widgets (polls etc)</em></li>
</ul>
<p>üèó We have an MSC (<a href="https://github.com/matrix-org/matrix-doc/pull/2192">MSC2192</a>), but not an implementation. </p>
<ul>
<li><em>Improving VoIP over Matrix.</em> </li>
</ul>
<p>Very little progress here, frustratingly.  Jitsi has been upgraded and conference calls should kick ass these days (let us know if they don‚Äôt), but 1:1 needs a lot of love.  Hopefully we‚Äôll get to it in 2020. </p>
<ul>
<li><em>Adding more bridges, and improving the current ones.</em> </li>
</ul>
<p>Lots of bridging progress in 2020 - all new puppeting Slack support; huge fixes to the IRC bridge (including shifting to Postgres at last); Bifrost (the XMPP bridge) progressed too, and there‚Äôs been loads of community bridging work around WhatsApp, Discord and others. </p>
<ul>
<li><em>Account portability</em></li>
<li><em>Replacing MXIDs with public keys</em></li>
</ul>
<p>We‚Äôve just started looking at implementing these seriously via <a href="https://github.com/matrix-org/matrix-doc/blob/rav/proposal/remove_mxids_from_events/proposals/1228-removing-mxids-from-events.md">MSC1228</a> (as of last week) - expect progress in 2020.</p>
<p>So that sums up progress on the medium term menu - as you can see, a bunch actually happened; a bunch made progress; a few didn‚Äôt happen at all.</p>
<h4 id="2019-the-longer-term-priorities">2019: the longer-term priorities</h4>
<p>Finally, on the longer term radar:</p>
<ul>
<li><em>Shared-code cross-platform client SDKs (e.g. sharing a native core library between matrix-{js,ios,android}-sdk)</em> </li>
</ul>
<p>No progress here.  Instead, all three main platforms have continued to write and maintain their own platform-specific SDKs for now.  <a href="https://github.com/matrix-org/seshat">Seshat</a> however will be the first piece of native rust code shared across all 3 platforms - let‚Äôs see how that goes first... </p>
<ul>
<li><em>Matrix daemons (e.g. running an always-on client as a background process in your OS which apps can connect to via a lightweight CS API)</em></li>
</ul>
<p>‚úÖ <a href="https://github.com/matrix-org/pantalaimon">Pantalaimon</a> lives!</p>
<ul>
<li><em>Push notifications via Matrix (using a daemon-style architecture)</em> </li>
</ul>
<p>No progress here, unless you count the CoAP low-bandwidth work.  However, Bubu (also Riot/Android Fdroid maintainer) has been working on a project called <a href="https://bubu1.eu/openpush/">OpenPush</a> which looks to help in this space (albeit not built on Matrix, but could be used by Matrix).  There are a few other related projects.  If someone wants to build this on top of Matrix + CoAP please get in touch asap! </p>
<ul>
<li><em>Clientside homeservers (i.e. p2p matrix) - e.g. compiling Dendrite to WASM and running it in a service worker.</em></li>
</ul>
<p>üèó Work is actually happening on this currently.  Dendrite has successfully compiled to WASM and runs, and we‚Äôve had it (almost) talking HTTP tunnelled over libp2p as part of P2P Matrix experiments.  In 2020 we‚Äôre going to be investing a lot in P2P Matrix - to give users full control of their communication without even having to run a server, and also to simplify onboarding and account portability enormously.  We have a talk about this accepted for FOSDEM 2020 (<a href="https://fosdem.org/2020/schedule/event/dip_p2p_matrix/">The Path to P2P Matrix</a>) and we‚Äôre actively (frantically) hacking on Dendrite to make it happen - keep an eye out for how things develop!</p>
<ul>
<li><em>Experimenting with MLS for E2E Encryption</em></li>
</ul>
<p>üèó Now that E2E-by-default has entered the ‚Äúit works! let‚Äôs land it in Riot asap‚Äù phase, Uhoreg has had some time to start thinking about the longer term future of encryption in Matrix.  <a href="https://datatracker.ietf.org/wg/mls/charter/">MLS (Messaging Layer Security)</a> is the IETF‚Äôs initiative to define a standard mechanism for end-to-end-encrypted group chats, which has some major algorithmic improvements over Olm/Megolm and the Double Ratchet Algorithm as used by Signal.  The catch is that it doesn‚Äôt work at all well with decentralisation - however, we‚Äôve been <a href="https://mailarchive.ietf.org/arch/msg/mls/MnLJkbJ_Mwe8Oz0Ll6delGJLPz4">working with them</a> to try to ensure MLS can work in a decentralised world.  More recently, uhoreg has had a chance to think a lot more about this and we‚Äôre working on a proposal for Decentralised MLS which builds on plain MLS while also giving the semantics needed for Matrix.  It‚Äôs all very experimental at this point (and the proof-of-concept implementation is written in <a href="https://julialang.org/">Julia</a>!) - but looks promising.  We‚Äôll share more asap, and will certainly be investing more time in this in 2020.. </p>
<ul>
<li><em>Storing and querying more generic data structures in Matrix (e.g. object trees; scene graphs)</em> </li>
</ul>
<p>Sadly no progress here :( </p>
<ul>
<li><em>Alternate use cases for VR, IoT, etc.</em> </li>
</ul>
<p>...and none here either.</p>
<p>So, of all the myriad things on our radar for 2019 (as of Dec 2018), hopefully this gives some idea of where we hit the mark.</p>
<h4 id="2019-the-unpredictable-bits">2019: the unpredictable bits</h4>
<p>However, there‚Äôs also a tonne of other stuff which happened which wasn‚Äôt explicitly on the radar.  On the synapse side, we finished fully migrating from Python 2 to Python 3, and started using asyncio and all the latest Python 3 goodies!  We finally <a href="https://github.com/matrix-org/synapse/pull/6358">implemented configurable history retention</a> for servers and rooms! We even implemented <a href="https://github.com/matrix-org/synapse/pull/6409">self-destructing messages</a> in Synapse (not that Riot exposes them yet). And there has been loads of optimisation and performance work since 1.0 landed in June.</p>
<p>On the ops side, we overhauled all our ops processes and security after the Matrix.org <a href="https://matrix.org/blog/2019/05/08/post-mortem-and-remediations-for-apr-11-security-incident/">datacenter breach</a> in April, throwing away our legacy infrastructure and rebuilding it properly - and subsequently have been expanding our ops team from one dedicated ops person to four.  We also found ourselves having to do another emergency datacenter migration back in November when the old one was unable to reliably service IO for our database cluster. </p>
<p>We also spent a bunch time after shipping Matrix 1.0 working on tightening up Matrix‚Äôs privacy model - particularly around third party identity servers, integration managers, and making sure that folks self-hosting Matrix don‚Äôt accidentally depend on use 3rd party services without realising it.  If you missed out on the fun at the time, you can read all about it <a href="https://matrix.org/blog/2019/06/30/tightening-up-privacy-in-matrix/">here</a> and <a href="https://matrix.org/blog/2019/09/27/privacy-improvements-in-synapse-1-4-and-riot-1-4/">here</a>.  This ended up being way more work than we expected, but we‚Äôre very glad to have sorted it out now. </p>
<p>Meanwhile, mainstream uptake of Matrix has properly taken off, with the French Government launching Tchap (their fork of Riot), now with hundreds of thousands of daily active users.  The <a href="https://www.heise.de/newsticker/meldung/Open-Source-Bundeswehr-baut-eigene-verschluesselte-Messenger-App-4623404.html">German Government revealed today</a> that they are also formally trialling Matrix, starting with the Bundeswehr (Ministry of Defense); we‚Äôve been helping them out with the deployment too. It is not an exaggeration to suggest that we could end up with an official cross-government Matrix network, publicly federated with the wider Internet, for self-hosted encrypted decentralised instant messaging.  In fact Ulrich Kelber, the Bundesdatenschutzbeauftragte (Federal Data Protection Commissioner) for Germany <a href="https://www.golem.de/news/whatsapp-matrix-oder-xmpp-bmi-sucht-einen-messenger-fuer-bundesbehoerden-1912-145326.html">pointed out</a>: ‚ÄúYou could even set up a privacy-friendly messenger service in cooperation with France, which in the medium term could represent a real alternative to existing products on the market as a pan-European solution‚Äù. </p>
<p>Alongside all this, <a href="https://matrix.org/blog/2019/12/19/welcoming-mozilla-to-matrix/">Mozilla announced</a> they are replacing the Moznet IRC network with Matrix; <a href="https://matrix.org/blog/2019/02/20/welcome-to-matrix-kde/">KDE joined Matrix</a> in Feb, <a href="https://phabricator.wikimedia.org/T230531">Wikimedia</a> is getting set up on their server, and more and more massive players (including the largest in the world) keep getting in touch to find out how they can best get onboard Matrix - it‚Äôs incredibly exciting.  It also means that we were able to <a href="https://matrix.org/blog/2019/10/10/new-vector-raises-8-5-m-to-accelerate-matrix-riot-modular/">raise capital</a> to keep folks employed to work on Matrix fulltime via <a href="https://vector.im">New Vector</a> and scale up <a href="https://modular.im">Modular.im</a> as a paid hosting platform - which massively helps support core Matrix development.</p>
<h4 id="2020">2020</h4>
<p>All that remains now is to make some predictions for 2020.  Our main priorities are:</p>
<ul>
<li>
<p>Get E2E enabled for private rooms by default (see above). </p>
</li>
<li>
<p>Riot First-time User Experience (FTUE).  While we redesigned Riot‚Äôs UI in 2019, there are still far too many weird gotchas which trip over new users.  Starting in October we began a shift to completely change how Riot development works - transitioning the project to being led by the UX design team rather than the dev team, and ensuring that the design team considers the app holistically across all 3 platforms.  Above all else, our priority is to make it kick ass for normal non-technical mainstream users - not just for opensourcey wizards.  This is a tough ask, but we believe it‚Äôs literally make-or-break for the project in the long term if Matrix is ever to become as prevalent as Slack or WhatsApp, and we are throwing everything we have at it.  The second that E2E is on by default, the entirety of the Riot teams will be focusing on the mission to clear our <a href="https://github.com/vector-im/riot-web/issues?q=is%3Aopen+is%3Aissue+label%3Aproject%3Aftue">FTUE backlog</a>. </p>
</li>
<li>
<p>RiotX. We‚Äôre shipping RiotX on Android as fast as we can - currently users on Riot/Android are left high and dry and we need to do everything we can to finish RiotX and get them upgraded as rapidly as possible. </p>
</li>
<li>
<p>Communities.  Off the back of FTUE comes the importance of grouping rooms &amp; users together into communities in a much better way than we have today.  This will be up next. </p>
</li>
<li>
<p>Synapse: shard the master by user/room to avoid being it being bottlenecked on CPU.  We also need to apply smarter queue management on federation traffic to better reduce the memory footprint (and so eliminate complexity limits on small-footprint hosted servers!) - and we also desperately need to speed up joins. </p>
</li>
<li>
<p>Dendrite &amp; P2P Matrix: the plan currently is to use Dendrite as the basis for our P2P Matrix experiments.  In practice this means making it federate using <a href="https://github.com/matrix-org/matrix-doc/blob/rav/proposal/remove_mxids_from_events/proposals/1228-removing-mxids-from-events.md">MSC1228</a>-semantics (no point in wasting time implementing the ‚Äòlegacy‚Äô key management), and then experiment with hooking it up to various P2P transports (e.g. our low-bandwidth CoAP transport) and discovery systems (e.g. mDNS; libp2p; etc).  How we go about actually getting it into production depends entirely on how well the experiment goes; we could evolve Matrix to be hybrid CS/P2P; we could treat it as a new protocol and bridge to it; who knows.  Watch this space...</p>
</li>
<li>
<p>MLS: figure out our plan for next-generation E2E - for better scaling, and better reliability, and what (if anything) we should do with <a href="https://datatracker.ietf.org/wg/mls/charter/">MLS</a>. </p>
</li>
<li>
<p>Bridges: loads of work on the horizon to put a better UX on Bridging.  Bridge stability has improved enormously over the last year (thanks Half-Shot!) but we need to transition from being robust but ugly to being robust and polished... </p>
</li>
<li>
<p>Spec: we need to work out how to go faster on reviewing MSCs (both our own and from the wider community).  While the governance process in general feels healthier than it‚Äôs ever been, empirically we‚Äôre not exactly burning through the MSC backlog - and this is in part that MSC work is squeezed in alongside the other dayjob stuff everyone‚Äôs working on. Finding the right balance between sculpting spec and sculpting code is tough, but we‚Äôre going to try to improve it in 2020. </p>
</li>
<li>
<p>Abuse / Reputation: we want to empower users to make their own minds up about what content they want to see and not see on Matrix (or what they want to host or not host on their servers / communities / rooms).  <a href="https://github.com/matrix-org/mjolnir">Mjolnir</a> is a good start, but we‚Äôll be continuing to work on this throughout the year.</p>
</li>
</ul>
<p>Meanwhile, all the things listed above that we didn‚Äôt get to in 2019 are of course still options on the menu too.</p>
<p>So there you have it.  I‚Äôve not even tried to talk about the amazing stuff that the wider Matrix community has been up to - whether that‚Äôs amazing new clients like <a href="https://dittochat.org/">Ditto</a> (React Native!) or <a href="https://github.com/kiliankoe/nio">Nio!</a> (SwiftUI), or new bridges like <a href="https://github.com/tulir/mautrix-facebook">mautrix-facebook</a> and <a href="https://github.com/tulir/mautrix-hangouts">mautrix-hangouts</a>, or even poljar‚Äôs secret rewrite of <a href="https://github.com/poljar/weechat-matrix-rs">weechat-matrix in Rust</a>; your best bet there is to skim through <a href="https://matrix.org/blog/category/this-week-in-matrix/">TWIM</a>.  Huge undying thanks go out though to everyone who builds on Matrix and keeps the ecosystem maturing and growing (especially while we‚Äôre scurrying around shoring up the foundations) - there‚Äôs simply no point in Matrix as a protocol without the vibrant community building on top.</p>
<p>All told, it‚Äôs been a bit of an epic year (both in terms of wins and fails), and all that remains is to thank <em>everyone</em> who continues to use Matrix (particularly our <a href="https://www.patreon.com/matrixdotorg">Patreon</a> supporters) for their ongoing support and for helping the project accelerate forwards.  More than ever before, the world needs free and open communication open to all; the age of proprietary communication silos may be coming to an end - consigned to live alongside AOL CDs and Compuserve IDs in the history books.  With your support, Matrix can provide a decent mainstream yet decentralised alternative - and we‚Äôll do everything we can to make that happen in 2020.</p>
<p>Happy holidays!</p>
<p>Matthew, Amandine &amp; the whole Matrix.org team.</p>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;page&#x2F;32&#x2F;">‚Äπ Previous</a>
        
    </div>
    <span class="page-number">33 / 68</span>
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;page&#x2F;34&#x2F;">Next ‚Ä∫</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p><a href="/legal/copyright-notice">Copyright Notice</a></p>
</footer>

</body>

</html>
