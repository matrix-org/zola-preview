<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href="/style.css" />

    

<meta name="description" content="The Matrix.org Foundation blod is where the Matrix Foundation and Community
post updates on their activity. Every Friday evening they publish This Week In
Matrix, a digest of the past week activity.
">

</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;integrations&#x2F;">Integrations</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2016&#x2F;03&#x2F;26&#x2F;the-matrix-spring-special&#x2F;" title="The Matrix Spring Special!">The Matrix Spring Special!</a></h1>
            <span>
                26.03.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>It's been 3 months since the <a href="/blog/2015/12/25/the-matrix-holiday-special/">Matrix Holiday Special</a> and once again we've all been too busy writing code to put anything that detailed on the blog.  So without further a do here's a quick overview of how things have progressed so far in 2016!</p>
<h3 id="home-servers">Home servers</h3>
<br/>
<h4 id="synapse">Synapse</h4>
<p>Work on <a href="http://github.com/matrix-org/synapse">Synapse</a> (our reference homeserver) has been primarily focused on improving performance.  This may sound boring, but there's been a huge amount of improvement here since synapse 0.12 was released on Jan 4. Synapse 0.13 on Feb 10 brought huge CPU savings thanks to a whole fleet of caching and other optimisation work - the best way of seeing the difference here is to look at the load graph of the server that hosts matrix.org's synapse+postgres over the last few months:</p>
<img src="/blog/wp-content/uploads/2016/03/matrix-org-load.png" alt="matrix-org-load" width="497" height="173" class="aligncenter size-full wp-image-1563" />
<p>Ignoring the unrelated blip during March, you can see an enormous step change in system load (which had a matching decrease in actual CPU usage) at the beginning of Feb when the 0.13 optimisations landed on matrix.org :)</p>
<p>Meanwhile, Synapse 0.14 is due any day now with <a href="https://github.com/matrix-org/synapse/releases/tag/v0.14.0-rc2">0.14.0-rc2</a> released on Wednesday.  Here, the focus has been all about memory optimisation - anyone who's run a Synapse seriously will be aware that it can be a memory hog thanks to aggressively caching as much state and history in RAM as possible to avoid hitting the database and keeping everything responsive.  0.14 should improve memory usage just as dramatically as 0.13 improved CPU utilisation - introducing a quick-and-dirty SYNAPSE_CACHE_FACTOR environment variable that lets admins dial down the aggressiveness of the caching (at the expense of performance), but more interestingly implementing string interning and ensuring that events are cached by ID rather than duplicated across multiple caches in order to make memory usage more efficient.  It's too early to have impressive looking graphs, and there are still a few memory spikes being tracked down before we release 0.14, but we're hoping for at least a 50% reduction in memory footprint.</p>
<p>Featurewise the highlights include: server-generated unread notification &amp; highlight counts and push badge support, lots of support and refinements for guest access and 3rd party ID invites.  Meanwhile we've finally fixed some of the most embarrassing long-standing missing features such as letting folks logout serverside(!), delete aliases and determine whether rooms should be published in the room directory or not. </p>
<p>Finally, Synapse is now part of <a href="http://www.freshports.org/net/py-matrix-synapse/">FreeBSD Ports</a> thanks to Brendan Molloy, and <a href="https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/services/misc/matrix-synapse.nix">NixOS</a> thanks to Robin Lambertz!  Huge thanks to them for contributing the packages to the respective OSes and to all the other synapse package maintainers out there!</p>
<p>It's incredibly exciting to see Synapse's maturity improving and hitting the optimisation stage of its life; huge kudos to Erik for spearheading the optimisation work.  We strongly recommend folks upgrade to 0.14 when it's available; it's never been a better time to run a homeserver! :D</p>
<br/>
<h4 id="dendron">Dendron</h4>
<p>Meanwhile, <a href="https://github.com/matrix-org/dendron">Dendron</a> (our next generation homeserver) development has been progressing interestingly: we finished an initial spike to get a Golang skeleton server in place, albeit one that delegates most of the endpoints through to Synapse.  In fact, matrix.org itself has been running via Dendron since February!</p>
<p>The whole point of Dendron is to provide an architecture where we can split apart the various endpoints that Synapse provides today, re-implementing them where appropriate in Golang, and critically letting the endpoints scale horizontally with clusters of backend servers abstracted by the single Dendron API facade.  As a result, most of the Dendron work has actually ended up going into restructuring Synapse such that multiple Synapses can be run in a cluster behind a single Dendron, allowing us to horizontally scale API endpoints at last.  This takes the form of adding <a href="https://github.com/matrix-org/synapse/commit/1acc319070c0390d2330003bdc1e71cc66383dbb">cluster replication support</a> to Synapse.  This is still work-in-progress as we go through fixing up more and more state to be replicable (replicatable?) between synapses - hopefully it should land in the Synapse 0.15 timeframe.  And then we enter a very very interesting new world of horizontally scalable homeservers...</p>
<br/>
<h4 id="ruma">Ruma</h4>
<p><a href="https://www.ruma.io/">Ruma</a> has also seen some progress over the last few months - Ruma is an independent Rust language homeserver project led by Jimmy Cuadra, and whilst in early development still (currently focusing on the user login and registration system) shows a lot of promise.  Lots of work has ended up going into the required Rust dependencies rather than the Matrix code itself, but if you're interested in Rust then please drop by <a href="https://vector.im/beta/#/room/#ruma:matrix.org">#ruma:matrix.org</a> or #ruma on Freenode and say hi!</p>
<br/>
<h3 id="clients">Clients</h3>
<p>Whilst homeserver development is mainly all about performance and scaling work currently, the client side of the Matrix ecosystem is the polar opposite - with lots of rapid progress on exciting new clients happening from all over the community.</p>
<br/>
<h4 id="perpetually-talking-online-pto">Perpetually Talking Online (PTO)</h4>
<p><a href="http://pto.im/">PTO</a> has evolved enormously since Torrie Fischer first revealed it at the end of 2015.  PTO is an independent project that acts as a Matrix client that exposes an IRC server interface - effectively turning any Matrix homeserver into an ircd; letting folks hook their favourite IRC clients directly into Matrix and use it as an enormous decentralised IRC network.  (N.B. this is not to be confused with <a href="https://github.com/matrix-org/matrix-appservice-irc">matrix-appservice-irc</a>, which acts as a server-side bridge between Matrix rooms and IRC channels.)  Obviously you lose some of the Matrix specific features (read receipts, typing notifs, VoIP, etc) but there's clearly a huge benefit for the IRC community to be able to use Matrix as if it were an IRC network.</p>
<p>There have been three releases so far, with the <a href="https://github.com/tdfischer/pto/releases">v0.3.0 (&quot;Carburetor&quot;) release</a> in March being tantalisingly close to being usable for everyday purposes.  We actually have pto.matrix.org all set up and ready to go as an IRC frontend for the matrix.org homeserver and once <a href="https://github.com/tdfischer/pto/issues/60">issue #60</a> is resolved we'll be turning it on :)</p>
<p>There's one catch though - XChat was never quite built to handle the hundreds of rooms that we've got used to Matrix supporting... :D</p>
<img src="/blog/wp-content/uploads/2016/03/Screen-Shot-2016-03-26-at-00.17.08-988x1024.png" alt="Screen Shot 2016-03-26 at 00.17.08" width="988" height="1024" class="aligncenter size-large wp-image-1565" />
<p>Come hang out in <a href="https://vector.im/beta/#/room/#pto:oob.systems">#pto:oob.systems</a> if you're interested in PTO!</p>
<br/>
<h4 id="quaternion">Quaternion</h4>
<p><a href="https://github.com/Fxrh/Quaternion">Quaternion</a> is a new Qt/QML/C++ desktop client created by Felix Rohrbach.  It's a fairly early alpha but still quite usable and in very active development. <a href="https://vector.im/beta/#/room/#quaternion:matrix.org">#quaternion:matrix.org</a> is the place to talk all things Quaternion :)</p>
<img src="/blog/wp-content/uploads/2016/03/quaternion-1024x702.png" alt="quaternion" width="1024" height="702" class="aligncenter size-large wp-image-1566" />
<br/>
<h4 id="matrix-glib-sdk">matrix-glib-sdk</h4>
<p>Meanwhile, over on the GTK side of the world, Gergely Polonkai has been been making great progress on his <a href="https://github.com/gergelypolonkai/matrix-glib-sdk">matrix-glib-sdk</a> Glib client SDK for Matrix.  The end goal here is to implement a full <a href="https://telepathy.freedesktop.org">Telepathy</a> plugin for Matrix on top of the SDK.  Originally written in C, but now shifted to Vala, the SDK is in very active development and now implements all(?) of the Matrix client-server API - a snapshot of the work-in-progress SDK API docs can be found at <a href="http://gergely.polonkai.eu/matrix-glib-sdk/">http://gergely.polonkai.eu/matrix-glib-sdk</a>.  Next up is a formal release and building out clients on top!</p>
<br/>
<h4 id="matrix-react-sdk-matrix-ios-sdk-matrix-android-sdk-and-vector">matrix-react-sdk, matrix-ios-sdk, matrix-android-sdk and Vector</h4>
<p>Finally, huge amounts of time and effort have continued to be pumped into the official <a href="http://github.com/matrix-org/matrix-react-sdk">matrix-react-sdk</a>, <a href="http://github.com/matrix-org/matrix-ios-sdk">matrix-ios-sdk</a> and <a href="http://github.com/matrix-org/matrix-android-sdk">matrix-android-sdk</a> - driven substantially by requirements for <a href="http://vector.im">Vector</a>, the <a href="http://github.com/vector-im">FOSS</a> Matrix-powered collaboration app that we've been helping with:</p>
<br/>
<img src="/blog/wp-content/uploads/2016/03/Screen-Shot-2016-03-21-at-14.39.16-1024x753.png" alt="Screen Shot 2016-03-21 at 14.39.16" width="1024" height="753" class="aligncenter size-large wp-image-1567" />
<p style="text-align: center">
<img src="/blog/wp-content/uploads/2016/03/android-vector.png" alt="android-vector" width="330" height="640" class="size-full wp-image-1568" /><img src="/blog/wp-content/uploads/2016/03/Screen-Shot-2016-03-26-at-00.58.48-505x1024.png" alt="Screen Shot 2016-03-26 at 00.58.48" width="316" height="640" class="size-large wp-image-1569" />
</p>
<br/>
<p>The best way of seeing what's been going on here is probably by considering Vector itself, which is currently in formal beta (0.4.1 for web, 0.1.2 for iOS and #116 on Android).  The big news includes:</p>
<ul>
<li>Beta iOS and Android apps.  These are early beta but feedback is very much appreciated - the Android beta can be downloaded from <a href="http://matrix.org/jenkins/job/VectorAndroidDevelop/">Jenkins</a>; if you want to help beta iOS via TestFlight, come ask on <a href="https://vector.im/beta/#/room/#ios:matrix.org">#ios:matrix.org</a>.</li>
<li>Guest access.  Anyone can jump straight into Matrix by going to http://vector.im without even having to sign up for an account.  Guests are quite restricted on what they can do (and can only join rooms which explicitly have guest access enabled), but this is a *huge* improvement in getting folks using Matrix.</li>
<li>Ability to jump to any message ever - e.g. when clicking through search results or when permalinking a message... using precisely the same UI that you use when chatting.  Permalinks are awesome.  If you want to <a href="https://vector.im/develop/#/room/#matrix:matrix.org/$1416420724004tADpi:matrix.org">randomly jump back in time</a> to the first weeks of #matrix:matrix.org, now you can...</li>
<li>Read Markers, scrolling that remembers the scroll offset per-room, and the ability to jump to unread messages</li>
<li>Synchronised missed notification and missed highlighted notification information per-room</li>
<li>Badge counts for unread notifications</li>
<li>Entirely reworked Room Settings</li>
<li>Entirely reworked User Settings, including push notification configuration</li>
<li>Entirely reworked Room Directory</li>
<li>Lots of performance improvements</li>
<li>Much improved inviting by email</li>
<li>Much improved reliability on video conferencing</li>
<li>Closing literally <a href="https://github.com/vector-im/vector-web/issues?q=is%3Aissue+is%3Aclosed">hundreds and hundreds of bugs</a>...</li>
</ul>
<p>All that remains right now is yet more bugfixing and incorporating feedback from the current betas!  Please give as much feedback as possible in <a href="https://vector.im/beta/#/room/#vector:matrix.org">#vector:matrix.org</a> :)</p>
<br/>
<h3 id="bridges-bots">Bridges &amp; Bots</h3>
<p>Bridges, bots, and other integrations and application services have inevitably taken slightly lower priority whilst we've been focusing on the core server and client bits of the ecosystem.  However, as of March we've started a major new project to get these moving again, starting with a big update to the <a href="https://github.com/matrix-org/matrix-appservice-irc">IRC Bridge</a>.  This is due to be released next week, but you can get a sneak peek at what's going into the release at the <a href="https://github.com/matrix-org/matrix-appservice-irc/commits/develop">commit log</a>.  Highlights include the ability to persist nicks; connect via IPv6; improve formatted message handling; actually feed error messages from IRC back to Matrix; and much much more.</p>
<p><a href="https://github.com/matrix-org/matrix-appservice-verto">matrix-appservice-verto</a> also got some love, which means that multiway video conferencing powered by FreeSWITCH now works reliably.  The quality still could be improved, but the unreliable call setup that plagued earlier versions is now fixed.</p>
<p>In the next few months we're expecting to see a lot more activity on bridges &amp; bots... watch this space :)</p>
<p><b>Update Sat March 26:</b></p>
<p>Totally forgot to mention a few of the key new bridges which have been contributed by the community this year - particularly interesting are the <a href="https://github.com/RocketChat/Rocket.Chat.Federation">Rocket.Chat&lt;-&gt;Matrix bridge</a> written by Sing-Li over at Rocket.Chat which provides basic bridging between the awesome <a href="http://rocket.chat">Rocket.Chat</a> collaboration app and the wider Matrix ecosystem.  It's early days, but this is incredibly promising for 'hardcoded' bridging between specific rooms - it just needs Rocket.Chat to support 'virtual' users and will then be seamless federation.</p>
<p>Similarly, <a href="https://github.com/matrix-org/matrix-appservice-gitter">matrix-appservice-gitter</a> is a Gitter&lt;-&gt;Matrix bridge built by Leonerd on top of the <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> Node library.  Again, it's early days but is working well for 'hardcoded' bridging - supporting dynamic rooms and users is next on the todo list :)</p>
<br/>
<h3 id="the-spec">The Spec</h3>
<p>We started our formal release process for the spec just before Christmas with r0.0.0 - and released <a href="http://matrix.org/docs/spec/r0.0.1">r0.0.1</a> in January with <a href="http://matrix.org/docs/spec/r0.0.1/client_server.html#changelog">minor clarifications and updates</a>.  In practice the spec feels quite stable right now, although things have moved on a bit since January and r0.0.2 is definitely overdue at this point.</p>
<p>In the meantime, you can always get the very latest bleeding edge copy of the spec via <a href="http://matrix.org/speculator">the speculator</a>.  We've also added an initial cut at a spec for the <a href="http://matrix.org/speculator/spec/HEAD/identity_service.html">Identity Service</a> at last.</p>
<br/>
<h3 id="events">Events</h3>
<p>We've been focusing on writing code than evangelising Matrix recently, although we did get out to <a href="/blog/2016/02/03/fosdem-16-retrospective/">FOSDEM 2016</a> and <a href="/blog/2016/02/09/matrix-in-japan/">TADHack Mini Japan and WebRTC Conference</a> and <a href="https://twitter.com/matrixdotorg/status/706916982960967680">Enterprise Connect 2016</a> where we showed off Matrix &amp; Vector in the WebRTC Real World Innovation showcase.</p>
<br/>
<h3 id="gsoc">GSoC</h3>
<p>We are incredibly grateful to have been accepted as an organisation into Google Summer of Code 2016!  The last two weeks have been the window for students to propose projects to us that they could work on over the course of the summer, and it's been fascinating to meet the GSoCers and see a whole new community pop up on Matrix and advise and mentor applicants through their proposals.  At the last count we've received 35 proposals, many inspired by <a href="https://github.com/matrix-org/GSoC/blob/master/IDEAS.md">our list of ideas</a>, including some really impressive candidates - many thanks to all the students who have applied to us.  We don't know yet how many slots Google will allocate to us, but one way or another we're really looking forward to helping the GSoCers make the most out of their summer of Matrix!  All GSoC discussion is happening in <a href="https://vector.im/beta/#/room/#gsoc:matrix.org">#gsoc:matrix.org</a>.</p>
<br/>
<h3 id="what-s-next">What's next?</h3>
<p>In no particular order, the urgent stuff that still remains includes:</p>
<ul>
<li>Continuing to polish synapse and build out dendron-based clustering</li>
<li>Building as many bridges, bots and other integrations as possible</li>
<li>The matrix.to URL-handler service: having client-agnostic https://matrix.to/#matrix:matrix.org URLs to help with sharing matrix room aliases etc</li>
<li>End-to-end crypto.  No progress since December; we need to get back to it asap.</li>
<li>Exiting Vector from beta</li>
<li>Finishing the server-to-server API specification</li>
<li>Improving the security model for access_tokens</li>
<li>Editable messages</li>
<li>Pinned, tagged, and 'liked' messages</li>
<li>Threading</li>
<li>Decentralised accounts</li>
<li>Decentralised reputation</li>
</ul>
<p>In practice, Bridging and E2E crypto is likely to get the most attention first (beyond the standard ongoing polishing).  There's obviously a significant amount of work there, but we expect to see benefits pretty quickly throughout Matrix - especially from bridging.  Hopefully it's true to say that the next few months should be quite transformational :D</p>
<p>Anyway, thanks for reading this sprawling update and for supporting Matrix.  And please come say hi in <a href="https://vector.im/beta/#/room/#matrix:matrix.org">#matrix:matrix.org</a> if you have any questions :)</p>
<ul>
<li>Matthew, Amandine &amp; the Matrix.org team.</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2016&#x2F;03&#x2F;08&#x2F;matrix-in-google-summer-of-code&#x2F;" title="Matrix in Google Summer of Code!">Matrix in Google Summer of Code!</a></h1>
            <span>
                08.03.2016 00:00
                —
                <a href="/category/gsoc">
                    GSOC
                </a>
                —
                
                <a href="/author/oddvar-lovaas">
                    Oddvar Lovaas
                </a>
                
            </span>
            
        </header>
        <div>
            <img src="/blog/wp-content/uploads/2016/03/GSoC2016Logo.jpg" alt="GSoC2016Logo" width="920" height="147" class="aligncenter size-full wp-image-1555" />
<p>We are very happy to be one of the companies selected for <a href="https://summerofcode.withgoogle.com/organizations/?sp-page=2">Google Summer of Code (GSoC) 2016</a>!</p>
<p>GSoC is a great, global opportunity for students to work on open source projects during their university summer break. The idea is for students to propose a project for any of the open source organisations picked by Google, and - if accepted - receive a stipend for working on it. We are very eager to see what projects students will propose - we have written up some ideas <a href="https://github.com/matrix-org/GSoC/blob/master/IDEAS.md">here</a>, but students are expected to do some research and come up with projects themselves.</p>
<p>If you are a student wanting to participate in GSoC for Matrix, please come talk to us in <a href="https://vector.im/beta/#/room/#gsoc:matrix.org">#gsoc:matrix.org</a> - we are happy to discuss project ideas and review application drafts. We have also added some general tips on what to include in the application <a href="https://github.com/matrix-org/GSoC#how-do-i-write-my-gsoc-application">here</a>.</p>
<p>Applications can be submitted starting <a href="https://developers.google.com/open-source/gsoc/timeline">next Monday</a>, so there's still plenty of time to have a play with Matrix and come up with a cool project idea.</p>
<p>Good luck!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2016&#x2F;02&#x2F;25&#x2F;add-your-matrix-project&#x2F;" title="Add Your Matrix Project">Add Your Matrix Project</a></h1>
            <span>
                25.02.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/oddvar-lovaas">
                    Oddvar Lovaas
                </a>
                
            </span>
            
        </header>
        <div>
            <p>The <a href="http://matrix.org/docs/projects/try-matrix-now.html">try-matrix-now</a> page is now being generated by <a href="https://jekyllrb.com/">jekyll</a> and all the project pages have been moved to the <a href="https://github.com/matrix-org/matrix-doc/tree/master/supporting-docs/projects">matrix-doc</a> project on github. </p>
<p>The idea is to make it very easy for anyone to add or update a project entry. All you need to do is to submit a PR with the project details; feel free to start with the <a href="https://github.com/matrix-org/matrix-doc/blob/master/supporting-docs/projects/template.md">template</a>, and you can also add images (thumbnail and/or a main picture for the project page) to the images subfolder (just use the same relative URL that is in the template). Any kind of project using Matrix is welcome; if you are unsure which category to use, just use &quot;other&quot;.</p>
<p>Jekyll requires a date in the project filename; we use the date to sort the various project lists (newest projects first). It might be best to submit new entries with a date like 2015-01-01.</p>
<p>Any questions or comments? Come talk to us in <a href="https://vector.im/beta/#/room/#matrix:matrix.org">#matrix:matrix.org</a>!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2016&#x2F;02&#x2F;16&#x2F;android-matrix-console-0-5-3&#x2F;" title="Android Matrix Console 0.5.3">Android Matrix Console 0.5.3</a></h1>
            <span>
                16.02.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/oddvar-lovaas">
                    Oddvar Lovaas
                </a>
                
            </span>
            
        </header>
        <div>
            <p>We have put an updated version of the Android Matrix Console app (v0.5.3) on the Play store!</p>
<p>This release mainly includes performance improvements, such as using the new &quot;V2&quot; sync API, and other optimisations which should make your user experience a lot nicer. There's also a few new features in the SDK (e.g. tags support) - these will be added to the app hopefully soon.</p>
<p>For the full list of changes, look at the CHANGES files in the android <a href="https://github.com/matrix-org/matrix-android-console/blob/master/CHANGES.rst">console</a> and <a href="https://github.com/matrix-org/matrix-android-sdk/blob/master/CHANGES.rst">SDK</a> projects</p>
<p>Get it from the <a href="https://play.google.com/store/apps/details?id=org.matrix.androidsdk.alpha">Google play store</a>!</p>
<p>Enjoy! And please do let us know your feedback in <a href="https://vector.im/beta/#/room/#matrix:matrix.org">#matrix:matrix.org</a> or <a href="https://vector.im/beta/#/room/#android:matrix.org">#android:matrix.org</a>!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2016&#x2F;02&#x2F;10&#x2F;advanced-synapse-setup-with-let-s-encrypt&#x2F;" title="Advanced Synapse setup with Let&#x27;s Encrypt">Advanced Synapse setup with Let&#x27;s Encrypt</a></h1>
            <span>
                10.02.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/david-baker">
                    David Baker
                </a>
                
            </span>
            
        </header>
        <div>
            <p>So, you've installed an configured synapse and started chatting from your very own Matrix home server? What's the next step? Well, right now you're probably accessing your new home server over plaintext HTTP, which is bad, particularly because you'll be sending your password over this connection when you log in. You could connect to Synapse's secure HTTP port, but your browser won't trust it by default because you'd normally need to pay for a certificate that your browser would recognise. That is, until recently!</p>
<p><a href="https://letsencrypt.org/" target="_blank">Let's Encrypt</a> is a new initiative that issues SSL certificates free of charge, in an effort to make SSL universal on the Internet. In this blog post, we'll be walking through an example of how we can use this service to get ourselves a securely hosted Synapse.</p>
<p>We're going to assume you have a Synapse installed and listening on the standard ports, 8008 and 8448. If not, follow the <a href="https://github.com/matrix-org/synapse/blob/master/README.rst" target="_blank">Synapse README</a> and come back here when you're done. Everybody ready? Okay, good.</p>
<p>So, in order to get a certificate from Let's Encrypt, we need to prove that we own our domain. The simplest way to do this is to host some special files on our web server. Now, Synapse won't do this. We could use a separate web server, but then we'd have to stop Synapse and start the other web server every time we renewed our certificate, and that means downtime. Instead, let's put our Synapse behind a proper web server and let that serve the files. This has added advantages, including that we can host our Matrix home server on the standard port 443 without having to run Synapse as root.</p>
<p>For this example, we're going to use NGINX, so start by installing NGINX in whatever way your Linux distribution of choice recommends.</p>
<p>Now, you should have a webroot for your new web server somewhere. Hopefully your helpful Linux distribution has started you off with a config file - let's see:</p>
<pre># nano /etc/nginx/nginx.conf
</pre>
<p>We're looking for the 'server' section of that file. We need to make it look something like this:</p>
<pre>    server {'{'}
        # Make sure this is 0.0.0.0: no use listening on 127.0.0.1 or we'll only be
        # serving to ourselves! There's no port here, which means we'll listen on
        # port 80
        listen 0.0.0.0;

        server_name example.com www.example.com;

        access_log /var/log/nginx/example.com.access_log main;
        error_log /var/log/nginx/example.com info;

        # This is where we put the files we want on our site
        root /var/www/examplecom/htdocs;

        # Here's where it gets interesting: This will send any path that starts
        # with /_matrix to our Synapse!

        location /_matrix {'{'}
            proxy_pass http://localhost:8008;
        {'}'}
    {'}'}
</pre>
<p>When you're happy with the look of that file, let's restart the server:</p>
<pre># nginx -s reload
</pre>
<p class="p1">Before we go any further, let's test our new configuration:</p>
<pre>$ curl http://example.com/_matrix/key/v2/server/auto
{'{'}"old_verify_keys":{'{'}{'}'},"server_name":"example.com","signatures":{'{'}"example.com":{'{'}"ed25519:auto":"RWb+w6vHUUokoDgElwG6Cg50ezZvBrzXtJmJIH8jEwI5x0JQ7prn3FwjhbgKTH5jE7J8Ily3HEc4COn4JCCvCA"{'}'}{'}'},"tls_fingerprints":[{'{'}"sha256":"DMbzSZ5Uj7/6p/RT/UtQYJLHm5o0TwBSVYXsqpDdVDs"{'}'}],"valid_until_ts":1455203001035,"verify_keys":{'{'}"ed25519:auto":{'{'}"key":"1YiTDjmE86AlmrbIYE2lyqauV9wPo8jw2kxZAZFfl/Q"{'}'}{'}'}{'}'}
</pre>
<p class="p1">Those are your server's public keys! Now we have a web server running, we can get our SSL certificate. Let's Encrypt have their own client which will automate everything including rewriting your NGINX config file, however that means it has a large number of dependencies and needs to be run as root. For this example, we're going to use the much simpler <a href="https://github.com/diafygi/acme-tiny" target="_blank">acme_tiny.py</a>. I'm going to assume you have a user called, 'letsencrypt', so, as root, let's set up the place for it to write its challenge files:</p>
<pre># mkdir /var/www/examplecom/htdocs/.well-known/acme-challenge
# chown letsencrypt:users /var/www/examplecom/htdocs/.well-known/acme-challenge
</pre>
<p class="p1">Now let's switch to our letsencrypt user:</p>
<pre>$ ssh letsencrypt@example.com
</pre>
<p class="p1">We'll start by getting ourselves a copy of acme_tiny.py:</p>
<pre>$ git clone https://github.com/diafygi/acme-tiny.git
</pre>
<p class="p1">Now let's set up a directory structure (let's say we might want to manage more than one domain someday):</p>
<pre>$ mkdir examplecom
$ cd examplecom
$ ln -s /var/www/examplecom/htdocs/.well-known/acme-challenge challenges
</pre>
<p class="p1">Now, we'll need to generate two keys for Let's Encrypt, and account key and a domain key. The former is what we use to identify ourselves to Let's Encrypt and the latter is the key we use to do the actual SSL.</p>
<pre>$ openssl genrsa 4096 &gt; letsencrypt_examplecom_account.key
Generating RSA private key, 4096 bit long modulus
..++
.................................................................................................................................................................................................................................................................................................................................................................................................................++
e is 65537 (0x10001)
$ chmod 600 letsencrypt_examplecom_account.key
$ openssl genrsa 4096 &gt; letsencrypt_examplecom_domain.key
Generating RSA private key, 4096 bit long modulus
.............++
.............................................................................................................................................................................................++
e is 65537 (0x10001)
$ chmod 600 letsencrypt_examplecom_domain.key
</pre>
<p class="p1">Now, store those keys somewhere safe! After you've done that, let's generate a certificate request for our domain. Note that we're requesting one for both example.com and www.example.com: this isn't strictly necessary for Matrix but could be useful if we want to host a website too.</p>
<pre>$ openssl req -new -sha256 -key letsencrypt_examplecom_domain.key -subj "/" -reqexts SAN -config &lt;(cat /etc/ssl/openssl.cnf &lt;(printf "[SAN]\\nsubjectAltName=DNS:example.com,DNS:www.example.com")) &gt; examplecom.csr
</pre>
<p class="p1">Okay, we have our keys, our certificate request, and somewhere to host our challenge files, so we're ready to request a certificate! Be careful about this part and make sure you've got everything right, because Let's Encrypt enforce strict rate limits on the number of certificates you can request for one domain. Here we go:</p>
<pre>$ python ~/acme-tiny/acme_tiny.py --account letsencrypt_examplecom_account.key --csr examplecom.csr --acme-dir challenges/ &gt; examplecom.crt
Parsing account key...
Parsing CSR...
Registering account...
Registered!
Verifying example.com...
example.com verified!
Verifying www.example.com...
www.example.com verified!
Signing certificate...
Certificate signed!
</pre>
<p class="p1">Is that it, did it work? Well, let's see:</p>
<pre>$ openssl x509 -in examplecom.crt -noout -text
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            01:02:22:77:02:1b:eb:d5:3d:c3:14:6d:87:43:22:3d:fc:0f
    Signature Algorithm: sha256WithRSAEncryption
        Issuer: C=US, O=Let's Encrypt, CN=Let's Encrypt Authority X3
        Validity
            Not Before: Feb  6 21:37:00 2016 GMT
            Not After : May  6 21:37:00 2016 GMT
        Subject: CN=example.com
        Subject Public Key Info:
[etc]
</pre>
<p class="p1">Congratulations, you have an official, signed certificate for your domain! Now, before we can use it, we need to add the Let's Encrypt certificate to it, because our web server needs to send both:</p>
<pre>$ wget https://letsencrypt.org/certs/lets-encrypt-x3-cross-signed.pem
--2016-02-06 23:38:55--  https://letsencrypt.org/certs/lets-encrypt-x3-cross-signed.pem
Resolving letsencrypt.org... 23.66.17.98, 2a02:26f0:60:489::2a1f, 2a02:26f0:60:481::2a1f
Connecting to letsencrypt.org|23.66.17.98|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 1675 (1.6K) [application/x-x509-ca-cert]
Saving to: ‘lets-encrypt-x3-cross-signed.pem'
lets-encrypt-x3-cross-signed.pe 100%[======================================================&gt;]   1.64K  --.-KB/s   in 0s
2016-02-06 23:38:55 (61.5 MB/s) - ‘lets-encrypt-x3-cross-signed.pem' saved [1675/1675]
$ cat examplecom/examplecom.crt lets-encrypt-x3-cross-signed.pem &gt;examplecom/examplecom_cert_chain.crt
</pre>
<p class="p1">Now's let's symlink it in place, along with the domain key, so we can renew it easily later. We'll need to be root again for this:</p>
<pre>$ ssh root@example.com
# ln -s /home/letsencrypt/examplecom/examplecom_cert_chain.crt /etc/ssl/nginx/examplecom_cert.pem
# ln -s /home/letsencrypt/examplecom/letsencrypt_examplecom_domain.key /etc/ssl/nginx/examplecom_key.pem
</pre>
<p class="p1">Now, one more crucial thing we have to do before using our SSL is to give NGINX some Diffie Hellman parameters. This is a good thing to do for any SSL configuration (it will increase your score on <a href="https://www.ssllabs.com/ssltest/" target="_blank">SSL Labs</a>) but it's absolutely crucial for us because Synapse will only negotiate forward secret connections, so otherwise other Matrix home servers will refuse to talk to us! (Technically, Synapse also support elliptic curve Diffie Hellman, which doesn't need DH parameters, but not all Synapses will support this.) You'll already have some Diffie Hellman parameters from you existing Synapse, so you could use them:</p>
<pre># cp /home/synapse/synapse/matrix.example.com.tls.dh /etc/ssl/nginx/examplecom_dhparams.pem
</pre>
<p class="p1">...or you can generate your own. You'll probably want to do this on your desktop or laptop if you have OpenSSL installed, it will be much faster:</p>
<pre>$ openssl dhparam -out examplecom_dhparams.pem 2048
Generating DH parameters, 2048 bit long safe prime, generator 2
This is going to take a long time
........................................................+................[etc, etc]
$ scp examplecom_dhparams.pem root@example.com:/etc/ssl/nginx/examplecom_dhparams.pem
</pre>
<p class="p1">Now, let's get our new certificate in action! Open up your NGINX config file again, and add another server block that look like this:</p>
<pre>    server {'{'}
        listen 0.0.0.0:443;
        server_name example.com www.example.com;
        ssl on;
        ssl_certificate /etc/ssl/nginx/examplecom_crt.pem;
        ssl_certificate_key /etc/ssl/nginx/examplecom_key.pem;
        ssl_dhparam /etc/ssl/nginx/examplecom_dhparams.pem;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_prefer_server_ciphers on;
        # mozilla intermediate list, jan 2016
        ssl_ciphers "ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:ECDHE-RSA-DES-CBC3-SHA:ECDHE-ECDSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA";
        ssl_session_cache shared:SSL:50m;
        access_log /var/log/nginx/examplecom.ssl_access_log main;
        error_log /var/log/nginx/examplecom.ssl_error_log info;
        root /var/www/examplecom/htdocs;
        location /_matrix {'{'}
            proxy_pass http://localhost:8008;
        {'}'}
    {'}'}
</pre>
<p class="p2">It looks pretty similar to our previous server block, except for all that stuff about SSL in the middle. We're pointing NGINX at our certificate, key and Diffie Hellman parameter files and specifying what protocols and ciphers we want our server to talk. The long list here is taken from <a href="https://wiki.mozilla.org/Security/Server_Side_TLS" target="_blank">Mozilla's Server Side TLS guidelines</a> and is their 'Intermediate' list. See that page for more information on what that means, and choose a different list of ciphers if you prefer: just remember we must support at least the ephemeral Diffie Hellman ciphers, or other home servers won't talk to us!</p>
<p class="p2">Now let's restart our NGINX and see if it works:</p>
<pre># nginx -s reload
</pre>
<p class="p2">...and that command again, this time with https:</p>
<pre>$ curl https://example.com/_matrix/key/v2/server/auto
{'{'}"old_verify_keys":{'{'}{'}'},"server_name":"example.com","signatures":{'{'}"example.com":{'{'}"ed25519:auto":"RWb+w6vHUUokoDgElwG6Cg50ezZvBrzXtJmJIH8jEwI5x0JQ7prn3FwjhbgKTH5jE7J8Ily3HEc4COn4JCCvCA"{'}'}{'}'},"tls_fingerprints":[{'{'}"sha256":"DMbzSZ5Uj7/6p/RT/UtQYJLHm5o0TwBSVYXsqpDdVDs"{'}'}],"valid_until_ts":1455203001035,"verify_keys":{'{'}"ed25519:auto":{'{'}"key":"1YiTDjmE86AlmrbIYE2lyqauV9wPo8jw2kxZAZFfl/Q"{'}'}{'}'}{'}'}
</pre>
<p class="p1">Hooray! You should now be able to open a browser to https://example.com/matrix/ and log in securely over SSL!</p>
<h2 id="renewing-your-certificate">Renewing Your Certificate</h2>
<p class="p1">Now, there's one important step left, and that's to set up renewal for the certificate, otherwise we'll find our shiny new SSL will stop working in three months time. We can use the same acme_tiny command to do this:</p>
<pre>$ python ~/acme-tiny/acme_tiny.py --account letsencrypt_examplecom_account.key --csr examplecom.csr --acme-dir challenges/ &gt; examplecom.crt
Parsing account key...
Parsing CSR...
Registering account...
Already registered!
Verifying example.com...
example.com verified!
Verifying www.example.com...
www.example.com verified!
Signing certificate...
Certificate signed!
$ wget https://letsencrypt.org/certs/lets-encrypt-x3-cross-signed.pem
--2016-02-06 23:38:55--  https://letsencrypt.org/certs/lets-encrypt-x3-cross-signed.pem
Resolving letsencrypt.org... 23.66.17.98, 2a02:26f0:60:489::2a1f, 2a02:26f0:60:481::2a1f
Connecting to letsencrypt.org|23.66.17.98|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 1675 (1.6K) [application/x-x509-ca-cert]
Saving to: ‘lets-encrypt-x3-cross-signed.pem'
lets-encrypt-x3-cross-signed.pe 100%[======================================================&gt;]   1.64K  --.-KB/s   in 0s
2016-02-06 23:38:55 (61.5 MB/s) - ‘lets-encrypt-x3-cross-signed.pem' saved [1675/1675]
$ cat examplecom/examplecom.crt lets-encrypt-x3-cross-signed.pem &gt;examplecom/examplecom_cert_chain.crt
</pre>
<p class="p1">Synapse will automatically pick up the new certificate, but we'll need to tell NGINX to reload:</p>
<pre># nginx -s reload
</pre>
<p class="p1">Setting up a cronjob to automate this is left as an exercise to the reader!</p>
<h2 id="federation-behind-the-http-proxy">Federation behind the HTTP Proxy</h2>
<p class="p1">If you like, you can stop reading now: our clients can access our home server securely but other home server are still talking to our Synapse directly on port 8448. This is fine, and if you're happy with this, you can stop reading now. But remember how we made sure other Synapses could talk to our NGINX? Well, why not put federation behind our new web server too?</p>
<p class="p1">Now, we need to do a couple of things to make this work: were you looking carefully at the JSON those curl commands returned? If you were, you might have noticed a key called, 'tls_fingerprints'. Our home server serves up a fingerprint of the TLS certificate its using from this API, and we've just given our web server a different certificate, so we need to give Synapse our new certificate.</p>
<p class="p1">How are we going to tell other home servers to talk to our NGINX instead? Well, ultimately we're going to change our DNS SRV record to point at port 443 instead of port 8448, but that change could take a while to propagate through caches, so let's test it by having our NGINX listen on port 8448 temporarily. We can do this by copying that same block from above, but with a different port:</p>
<pre>    server {'{'}
        listen 0.0.0.0:8448;
        server_name example.com www.example.com;
    [etc]
</pre>
<p class="p2">Don't restart NGINX just yet: we need to tell our Synapse to stop listening on that port first, so lets do that and give it our new certificate:</p>
<pre>$ nano /home/synapse/synapse/homeserver.yaml
</pre>
<p class="p2">Now we'll want to find and edit the following lines:</p>
<pre>tls_certificate_path: "/etc/ssl/nginx/examplecom_crt.pem"
# We can comment this out, as long as we set no_tls to true below
# tls_private_key_path: "/whatever/path/synapse/generated"
# PEM dh parameters for ephemeral keys
tls_dh_params_path: "/whatever/path/synapse/generated"
# Turn off TLS everywhere (this overrides the listeners section below)
no_tls: True
  - port: 8008
    tls: false
    # We can bind to only localhost since only the local nginx needs to hit this
    bind_address: '127.0.0.1'
    type: http
    # Set this so that Synapse obeys nginx's X-Forwarded-For headers, then IP addresses will be correct in Synapse's logs
    x_forwarded: true
    resources:
      - names: [client, webclient]
        compress: true
      - names: [federation]
        compress: false
</pre>
<p class="p2">Note: if you have an old enough config file that you have 'bind_host' and 'bind_port' directives, now is the time to remove them.</p>
<p class="p2">Now let's restart Synapse and our web server to swap over what's listening on our port 8448:</p>
<pre>$ synctl restart
# nginx -s reload
</pre>
<p class="p2">Now let's try that test again on port 8448:</p>
<pre>$ curl https://example.com:8448/_matrix/key/v2/server/auto
{'{'}"old_verify_keys":{'{'}{'}'},"server_name":"example.com","signatures":{'{'}"example.com":{'{'}"ed25519:auto":"bdca31805e4209f6ff4d644251a29d0cb1dc828a4d6131c57cf8305288f337c0"{'}'}{'}'},"tls_fingerprints":[{'{'}"sha256":"1d9ec66599e229654a79f28e26675fdeb585027553af6d581926e821a6b6527c"{'}'}],"valid_until_ts":1455203001035,"verify_keys":{'{'}"ed25519:auto":{'{'}"key":"1YiTDjmE86AlmrbIYE2lyqauV9wPo8jw2kxZAZFfl/Q"{'}'}{'}'}{'}'}
</pre>
<p class="p1">Notice anything different? The tls_fingerprints part has changed because we now have a different certificate. The signatures/example.com/ed25519:auto value has changed too: that's because that part is a signature of the rest of JSON object, so changing the tls_fingerprints has caused this to change too.</p>
<p class="p1">And that's it! If you're happy everything is working, you can then change your DNS SRV record to point at port 443 instead of 8448, then after leaving a few days for the change to propagate through caches, remove the extra server block from your nginx.conf and restart to stop your nginx listening on port 8448.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2016&#x2F;02&#x2F;10&#x2F;synapse-0-13-released&#x2F;" title="Synapse 0.13 released!">Synapse 0.13 released!</a></h1>
            <span>
                10.02.2016 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>Synapse 0.13 was released this afternoon, bringing a new wave of features, bug fixes and performance fixes.  The main headlines include: huge performance increases (big catchup /syncs that were taking 20s now take 0.3s!), support for server-side per-room unread message and notification badge counts, ability for guest accounts to upgrade into fully-fledged accounts, change default push rules back to notifying for group chats, and loads of bug fixes.  This release incorporates what-was 0.12.1-rc1.</p>
<p><b>Please note that on first launch after upgrading a pre-0.13 server to 0.13 or later, synapse will add a large database index which may take several minutes to complete.  Whilst the index is added the service will be unresponsive.</b></p>
<p>Please get the new release from <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a> and have fun!</p>
<p>Matthew</p>
<p>Full release notes:</p>
<code>
Changes in synapse v0.13.1 (2016-02-10)
=======================================
<ul>
<li>Bump matrix-angular-sdk (matrix web console) dependency to 0.6.8 to
pull in the fix for SYWEB-361 so that the default client can display
HTML messages again(!)</li>
</ul>
<h1 id="changes-in-synapse-v0-13-0-2016-02-10">Changes in synapse v0.13.0 (2016-02-10)</h1>
<p>This version includes an upgrade of the schema, specifically adding an index to
the <code>events</code> table. This may cause synapse to pause for several minutes the
first time it is started after the upgrade.</p>
<p>Changes:</p>
<ul>
<li>Improve general performance (PR #540, #543. #544, #54, #549, #567)</li>
<li>Change guest user ids to be incrementing integers (PR #550)</li>
<li>Improve performance of public room list API (PR #552)</li>
<li>Change profile API to omit keys rather than return null (PR #557)</li>
<li>Add <code>/media/r0</code> endpoint prefix, which is equivalent to <code>/media/v1/</code>
(PR #595)</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Fix bug with upgrading guest accounts where it would fail if you opened the
registration email on a different device (PR #547)</li>
<li>Fix bug where unread count could be wrong (PR #568)</li>
</ul>
<h1 id="changes-in-synapse-v0-12-1-rc1-2016-01-29">Changes in synapse v0.12.1-rc1 (2016-01-29)</h1>
<p>Features:</p>
<ul>
<li>Add unread notification counts in <code>/sync</code> (PR #456)</li>
<li>Add support for inviting 3pids in <code>/createRoom</code> (PR #460)</li>
<li>Add ability for guest accounts to upgrade (PR #462)</li>
<li>Add <code>/versions</code> API (PR #468)</li>
<li>Add <code>event</code> to <code>/context</code> API (PR #492)</li>
<li>Add specific error code for invalid user names in <code>/register</code> (PR #499)</li>
<li>Add support for push badge counts (PR #507)</li>
<li>Add support for non-guest users to peek in rooms using <code>/events</code> (PR #510)</li>
</ul>
<p>Changes:</p>
<ul>
<li>Change <code>/sync</code> so that guest users only get rooms they've joined (PR #469)</li>
<li>Change to require unbanning before other membership changes (PR #501)</li>
<li>Change default push rules to notify for all messages (PR #486)</li>
<li>Change default push rules to not notify on membership changes (PR #514)</li>
<li>Change default push rules in one to one rooms to only notify for events that
are messages (PR #529)</li>
<li>Change <code>/sync</code> to reject requests with a <code>from</code> query param (PR #512)</li>
<li>Change server manhole to use SSH rather than telnet (PR #473)</li>
<li>Change server to require AS users to be registered before use (PR #487)</li>
<li>Change server not to start when ASes are invalidly configured (PR #494)</li>
<li>Change server to require ID and <code>as_token</code> to be unique for AS's (PR #496)</li>
<li>Change maximum pagination limit to 1000 (PR #497)</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Fix bug where <code>/sync</code> didn't return when something under the leave key
changed (PR #461)</li>
<li>Fix bug where we returned smaller rather than larger than requested
thumbnails when <code>method=crop</code> (PR #464)</li>
<li>Fix thumbnails API to only return cropped thumbnails when asking for a
cropped thumbnail (PR #475)</li>
<li>Fix bug where we occasionally still logged access tokens (PR #477)</li>
<li>Fix bug where <code>/events</code> would always return immediately for guest users
(PR #480)</li>
<li>Fix bug where <code>/sync</code> unexpectedly returned old left rooms (PR #481)</li>
<li>Fix enabling and disabling push rules (PR #498)</li>
<li>Fix bug where <code>/register</code> returned 500 when given unicode username
(PR #513)</li>
</ul>
</code>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2016&#x2F;02&#x2F;09&#x2F;matrix-in-japan&#x2F;" title="Matrix in Japan!">Matrix in Japan!</a></h1>
            <span>
                09.02.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/oddvar-lovaas">
                    Oddvar Lovaas
                </a>
                
            </span>
            
        </header>
        <div>
            <p>こんにちは </p>
<p>Matrix is on its way to Japan where Kegan is attending the <a href="http://tadhack.com/2016/mini-japan/">TADHack-mini</a> (Feb 13th and 14th) and <a href="http://webrtcconference.jp/">WebRTC Conference</a> (Feb 16th and 17th).</p>
<p>Kegan will help hackers with their projects during the TADHack, but first, he will give a talk on Matrix and how it can be used. We are again awarding a <a href="http://www.trossenrobotics.com/">trossen robot</a> to the best hack using Matrix, and we are as always curious to see what kind of cool and crazy ideas people will come up with!</p>
<p>A couple of days later, Kegan will be giving a talk during the <a href="http://webrtcconference.jp/session/#">WebRTC Conference</a>: &quot;The missing signalling layer for WebRTC&quot;. </p>
<p>Both of the talks will be live-translated, and there will also be a translator available during the events, so please come and say hello to Kegan-san! As always, we are also available in the Matrix HQ room, via a client like <a href="https://vector.im/beta/#/room/#matrix:matrix.org">Vector</a> or <a href="http://matrix.org/blog/try-matrix-now/">any other client</a>!</p>
<img src="/blog/wp-content/uploads/2016/02/Item_A_150x100.jpg" alt="Item_A_150x100" width="425" height="283" class="aligncenter size-full wp-image-1512" />

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2016&#x2F;02&#x2F;03&#x2F;fosdem-16-retrospective&#x2F;" title="FOSDEM &#x27;16 retrospective">FOSDEM &#x27;16 retrospective</a></h1>
            <span>
                03.02.2016 00:00
                —
                <a href="/category/events">
                    Events
                </a>
                —
                
                <a href="/author/oddvar-lovaas">
                    Oddvar Lovaas
                </a>
                
            </span>
            
        </header>
        <div>
            <img src="/blog/wp-content/uploads/2016/02/stand.jpg" alt="stand" width="1024" height="576" class="aligncenter size-full wp-image-1493" />
<p>The Matrix team had a very successful trip to FOSDEM '16 last weekend. Many, many words were exchanged, and at times there was a queue of people just waiting to have a chat! We spoke to a whole lot of interested and interesting people, some of which had heard of Matrix already, and some who hadn't. The nice thing with the crowd at FOSDEM is that they very quickly &quot;get&quot; what we're trying to do with Matrix - and then start thinking aloud about how they might want to use it or extend it - which means we have many great conversations!</p>
<p>At the beginning of FOSDEM, I think we had around 2000 people &quot;currently&quot; in the <a href="https://vector.im/beta/#/room/#matrix:matrix.org">Matrix HQ room</a> - the next day, that number had increased by a hundred (and now it's even bigger due to a hackernews post where we mentioned Matrix)!</p>
<p>Our <a href="https://fosdem.org/2016/schedule/event/deviot15/">talk in the IoT dev room</a> was very popular; unfortunately a lot of people that were queueing to get in never made it due to the limited space. However, the talk was recorded, and it's already been made available:</p>
<video width="853" height="480" controls>
  <source src="http://matrix.org/video/build-an-iot-platform-on-matrix.mp4" type="video/mp4" />
Your browser does not support the video tag.
</video>
<em>(Click <a href="http://matrix.org/video/build-an-iot-platform-on-matrix.mp4" title="here">here</a> to download the video)</em>
<p>You can also look at <a href="/blog/wp-content/uploads/2016/02/2016-01-29-Matrix-IOT-FOSDEM.pdf">the slides</a> from the talk. Note that due to technical problems, the first half of the talk was not recorded.</p>
<p>We also did a <a href="https://fosdem.org/2016/schedule/event/matrix/">talk in the Real Time dev room</a>, which was equally popular. Hopefully the video from this talk will also be available shortly (you can keep an eye on <a href="http://video.fosdem.org/2016/k3401/">the video repository for this dev room</a>) - once it is, I will add it to this post.</p>
<p>For now, you can look at <a href="/blog/wp-content/uploads/2016/02/2016-01-29-Matrix-FOSDEM.pdf">the slides</a> from the talk.</p>
<p>Another interesting talk where Matrix ended up being represented, was Daniel Pocock's <a href="https://fosdem.org/2016/schedule/event/improving_telepathy/">Improving Telepathy</a> talk. I'll add the video from that too, once it's available.</p>
<p>Finally, thanks to everyone who came to say hello and have a chat - and to everyone who has since set up their own homeserver. Please do join the <a href="https://vector.im/beta/#/room/#matrix:matrix.org">Matrix HQ room</a> (using <a href="/blog/try-matrix-now">any of these clients</a>) and let us know how your Matrix experience is going!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2016&#x2F;01&#x2F;18&#x2F;fosdem-16&#x2F;" title="FOSDEM &#x27;16">FOSDEM &#x27;16</a></h1>
            <span>
                18.01.2016 00:00
                —
                <a href="/category/events">
                    Events
                </a>
                —
                
                <a href="/author/oddvar-lovaas">
                    Oddvar Lovaas
                </a>
                
            </span>
            
        </header>
        <div>
            <img src="http://matrix.org/blog/wp-content/uploads/2016/01/wide.png" alt="wide" width="468" height="60" class="alignleft size-full wp-image-1466" />
<p>Matrix will again be represented at FOSDEM (Free and Open Source Software Developers' European Meeting) in Brussels, Belgium, January 30th and 31st. This year, we have two talks scheduled: <a href="https://fosdem.org/2016/schedule/event/deviot15/">one in the IoT devroom on Saturday at noon</a>, and <a href="https://fosdem.org/2016/schedule/event/matrix/">one in the Real Time devroom at 3.10pm the same day</a>.</p>
<p>We also have a <a href="https://fosdem.org/2016/stands/">stand on the 2nd floor of the K building</a> - next to the Real Time lounge (potentially same spot as last year). If you're going to FOSDEM, please come and say hi to us at the stand or at the talks!</p>
<p>Our trip to <a href="http://matrix.org/blog/2015/02/04/back-from-fosdem/">FOSDEM '15</a> was very enjoyable; we met a lot of smart people and learnt about a lot of interesting technologies and projects. Hopefully we made a few people enthusiastic about Matrix as well!</p>
<p>As always, for any questions or comments, please come talk to us in the official <a href="https://vector.im/beta/#/room/#matrix:matrix.org" title="Matrix HQ room">Matrix HQ room</a> - you can join <a href="http://matrix.org/blog/try-matrix-now/">via any of these clients </a> (or <a href="http://matrix.org/docs/howtos/client-server.html">write your own</a>!).</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2016&#x2F;01&#x2F;04&#x2F;synapse-0-12-released&#x2F;" title="Synapse 0.12 released!">Synapse 0.12 released!</a></h1>
            <span>
                04.01.2016 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Happy 2016 everyone!</p>
<p>To greet the new year, we bring you all new Synapse 0.12. The focus here has been a wide range of polishing, bugfixes, performance improvements and feature tweaks. The biggest news are that the 'v2' sync APIs are now production ready; the search APIs now work much better; 3rd party ID invites now work; and we now mount the whole client-server API under the <code>/_matrix/client/r0</code> URI prefix, as per the <a href="/docs/spec/r0.0.0/client_server.html">r0.0.0 release of the Client Server API</a> from a few weeks ago. The <code>r0</code> release unifies what were previously the somewhat confusing mix of 'v1' and 'v2' APIs as a single set of endpoints which play nice together.</p>
<p>We highly recommend all homeservers upgrading to v0.12.0 as soon as possible. Get it now from <a href="https://github.com/matrix-org/synapse/">https://github.com/matrix-org/synapse/</a> or via our shiny new Debian packages at <a href="/packages/debian/">https://matrix.org/packages/debian/</a>.</p>
<p>Full changelog follows:</p>
<h3 id="changes-in-synapse-v0-12-0-2016-01-04">Changes in synapse v0.12.0 (2016-01-04)</h3>
<ul>
    <li>Expose <code>/login</code> under <code>r0</code> (PR #459)</li>
</ul>
<a name="user-content-changes-in-synapse-v0-12-0-rc3-2015-12-23"></a>
<h3 id="changes-in-synapse-v0-12-0-rc3-2015-12-23">Changes in synapse v0.12.0-rc3 (2015-12-23)</h3>
<ul>
    <li>Allow guest accounts access to <code>/sync</code> (PR #455)</li>
    <li>Allow filters to include/exclude rooms at the room level rather than just from the components of the sync for each room. (PR #454)</li>
    <li>Include urls for room avatars in the response to <code>/publicRooms</code> (PR #453)</li>
    <li>Don't set a identicon as the avatar for a user when they register (PR #450)</li>
    <li>Add a <code>display_name</code> to third-party invites (PR #449)</li>
    <li>Send more information to the identity server for third-party invites so that it can send richer messages to the invitee (PR #446)</li>
    <li>Cache the responses to <code>/initialSync</code> for 5 minutes. If a client retries a request to <code>/initialSync</code> before the a response was computed to the first request then the same response is used for both requests (PR #457)</li>
    <li>Fix a bug where synapse would always request the signing keys of remote servers even when the key was cached locally (PR #452)</li>
    <li>Fix 500 when pagination search results (PR #447)</li>
    <li>Fix a bug where synapse was leaking raw email address in third-party invites (PR #448)</li>
</ul>
<a name="user-content-changes-in-synapse-v0-12-0-rc2-2015-12-14"></a>
<h3 id="changes-in-synapse-v0-12-0-rc2-2015-12-14">Changes in synapse v0.12.0-rc2 (2015-12-14)</h3>
<ul>
    <li>Add caches for whether rooms have been forgotten by a user (PR #434)</li>
    <li>Remove instructions to use <code>--process-dependency-link</code> since all of the dependencies of synapse are on PyPI (PR #436)</li>
    <li>Parallelise the processing of <code>/sync</code> requests (PR #437)</li>
    <li>Fix race updating presence in <code>/events</code> (PR #444)</li>
    <li>Fix bug back-populating search results (PR #441)</li>
    <li>Fix bug calculating state in <code>/sync</code> requests (PR #442)</li>
</ul>
<a name="user-content-changes-in-synapse-v0-12-0-rc1-2015-12-10"></a>
<h3 id="changes-in-synapse-v0-12-0-rc1-2015-12-10">Changes in synapse v0.12.0-rc1 (2015-12-10)</h3>
<ul>
    <li>Host the client APIs released as r0 by <a href="/docs/spec/r0.0.0/client_server.html">https://matrix.org/docs/spec/r0.0.0/client_server.html</a> on paths prefixed by<code>/_matrix/client/r0</code>. (PR #430, PR #415, PR #400)</li>
    <li>Updates the client APIs to match r0 of the matrix specification.
<ul>
    <li>All APIs return events in the new event format, old APIs also include the fields needed to parse the event using the old format for compatibility. (PR #402)</li>
    <li>Search results are now given as a JSON array rather than a JSON object (PR #405)</li>
    <li>Miscellaneous changes to search (PR #403, PR #406, PR #412)</li>
    <li>Filter JSON objects may now be passed as query parameters to <code>/sync</code> (PR #431)</li>
    <li>Fix implementation of <code>/admin/whois</code> (PR #418)</li>
    <li>Only include the rooms that user has left in <code>/sync</code> if the client requests them in the filter (PR #423)</li>
    <li>Don't push for <code>m.room.message</code> by default (PR #411)</li>
    <li>Add API for setting per account user data (PR #392)</li>
    <li>Allow users to forget rooms (PR #385)</li>
</ul>
</li>
    <li>Performance improvements and monitoring:
<ul>
    <li>Add per-request counters for CPU time spent on the main python thread. (PR #421, PR #420)</li>
    <li>Add per-request counters for time spent in the database (PR #429)</li>
    <li>Make state updates in the C+S API idempotent (PR #416)</li>
    <li>Only fire <code>user_joined_room</code> if the user has actually joined. (PR #410)</li>
    <li>Reuse a single http client, rather than creating new ones (PR #413)</li>
</ul>
</li>
    <li>Fixed a bug upgrading from older versions of synapse on postgresql (PR #417)</li>
</ul>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;page&#x2F;58&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">59 / 68</span>
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;page&#x2F;60&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p><a href="/legal/copyright-notice">Copyright Notice</a></p>
</footer>

</body>

</html>
