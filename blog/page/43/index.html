<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    </head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;01&#x2F;25&#x2F;this-week-in-matrix-2019-01-25&#x2F;" title="This Week in Matrix 2019-01-25">This Week in Matrix 2019-01-25</a></h1>
            <span>
                25.01.2019 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live-s03e12-modular-im">Matrix Live S03E12 - Modular.im</h2>
<iframe src="https://www.youtube.com/embed/Z7bz4fAJyVE" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe>
<p>This week I chatted to Rick about the release of <a href="https://www.modular.im/">Modular</a>, Hosted Homeservers and more. We're pleased to be able to announce the availability of a <a href="https://www.modular.im/hipchat">HipChat migration tool</a> to get people into Matrix.</p>
<h2 id="latest-msc-updates-from-anoa-s-msc-bot">Latest MSC updates (from anoa's MSC bot)</h2>
<h3 id="approved-mscs">Approved MSCs</h3>
<ul>
 	<li><a href="https://github.com/matrix-org/matrix-doc/issues/1339">[MSC 1339]: Proposal to add a GET method to read account data</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/issues/1229">[MSC 1229]: Mitigating abuse of the event depth parameter over federation</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1779">[MSC 1779]: MSC1779: Proposal for Open Governance for Matrix.org (v2)</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/issues/1354">[MSC 1354]: Widget API extension: Always-on-screen</a></li>
</ul>
<h3 id="final-comment-period">Final Comment Period</h3>
<ul>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1813">[MSC 1813]: MSC 1813 - Federation Make Membership Room Version</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1659">[MSC 1659]: MSC 1659 Proposal: Change Event IDs to Hashes</a></li>
</ul>
<h3 id="in-progress-mscs">In Progress MSCs</h3>
<ul>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1544">[MSC 1544]: [WIP] MSC1543: Key verification using QR codes</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1538">[MSC 1538]: MSC1219: storing megolm keys serverside</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1796">[MSC 1796]: MSC1796: improved e2e notifications</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1797">[MSC 1797]: MSC1797: Proposal for more granular profile error codes</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1767">[MSC 1767]: MSC1767: Extensible event types & fallback in Matrix (v2)</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1768">[MSC 1768]: [WIP] MSC1768: Proposal to authenticate with public keys</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1769">[MSC 1769]: WIPish: MSC1769: Extensible profiles as rooms</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1802">[MSC 1802]: MSC1802: Standardised federation response formats</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1607">[MSC 1607]: MSC1608: Proposal for room alias grammar</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1772">[MSC 1772]: WIPish: MSC1772: Groups as rooms (v2)</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1776">[MSC 1776]: [WIPish] MSC1776: Implementing peeking via /sync</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-doc/pull/1777">[MSC 1777]: [WIPish] MSC1777: peeking over federation</a></li>
</ul>
<h2 id="synapse">Synapse</h2>
<ul>
 	<li>Working furiously towards an r0 spec release. Event ids as hashes (MSC 1659) and S2S API certificates (MSC 1659 ) are very close now - see <a href="https://github.com/orgs/matrix-org/projects/8">https://github.com/orgs/matrix-org/projects/8</a> to track our progress.</li>
 	<li>Since <a href="https://github.com/matrix-org/matrix-doc/pull/1711">MSC1711</a> is a breaking change, we will initially ship our next release (v0.35.0) with ACME support to make it easy to provision and renew certificates. The give everyone a month to upgrade and install a cert before we ship Synapse v1.0 which will require that servers have certificates in order to federate. Don't worry, there will be plenty of details on the steps necessary for admins when v0.35.0 lands - watch this space.</li>
 	<li>Finally a raft of db performance improvements, room version upgrade bug fixes, as well taking a look at room directory and user directory efficiency.</li>
</ul>
<h2 id="matrix-puppet-slack">matrix-puppet-slack</h2>
<p><a href="https://matrix.to/#/@root:thomasprofitt.com">tom</a> reports that:</p>
<blockquote>
<p><a href="https://github.com/matrix-hacks/matrix-puppet-slack">matrix-puppet-slack</a> version 1.10.1 has been released, thanks again to <a href="https://github.com/matrix-hacks/matrix-puppet-slack/commits?author=twouters">@twouters</a></p>
<ul>
 	<li>The bridge could not create new Matrix rooms on versions of Synapse after a certain change, because it did not reserve the room alias prefix it used. That's been fixed, but anyone currently running matrix-puppet-slack will need to edit their slack_registration.yaml and restart Synapse. See <a href="https://github.com/matrix-hacks/matrix-puppet-slack/releases/tag/1.10.1">the Release</a> for instructions on doing so.</li>
 	<li>The bridge will no longer send "Edit: " events when Slack sends it a "message_changed" message, if the message text has not actually changed (Slack sends these events for URL previews, for example, but this just causes duplicate bridged messages). This fix has been a long time coming.</li>
</ul>
</blockquote>
<h2 id="matrix-corporal">matrix-corporal</h2>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> reports that:</p>
<blockquote>
<p><a href="https://github.com/devture/matrix-corporal">matrix-corporal</a> <a href="https://github.com/devture/matrix-corporal/releases/tag/1.3.0">1.3.0</a> was released.<br />It uses a new Matrix API for fetching account data (Synapse &gt;0.34.1 is required), so it performs reconciliation quicker than before.</p>
</blockquote>
<p>From the notes:</p>
<blockquote>
<p>Reconciliation is now much faster, due to the way we retrieve account data from the Matrix server (no longer doing <code>/sync</code>).<br />From now on, the minimum requirement for running matrix-corporal is Synapse v0.34.1, as it's the first Synapse release which contains the new API we require (<code>GET /user/{'{'}user_id{'}'}/account_data/{'{'}account_dataType{'}'}</code>).</p>
</blockquote>
<h2 id="journal">journal</h2>
<p><a href="https://github.com/lukebarnard1/">lukebarnard</a> disappeared from our screens <a href="/blog/2018/06/29/this-week-in-matrix-2018-06-29/#andso">some time ago</a>, but he's back with this news on <a href="https://github.com/lukebarnard1/journal">journal</a>:</p>
<blockquote>
<p>I have an update on <a href="https://github.com/lukebarnard1/journal">journal</a> (finally). I've pushed the redesign branch that I've been working on. It contains the web view component of the new architecture and can be used as a generic blog-hosting site (I'll be doing this personally). Feel free to check it out here: <a href="https://journal.lukebarnard.co.uk/journal/1-jan-2019">https://journal.lukebarnard.co.uk/journal/1-jan-2019</a></p>
</blockquote>
<h2 id="riot-web">Riot-web</h2>
<ul>
 	<li>Redesign</li>
 	<li>Typing notifications don't make timeline jump anymore</li>
 	<li>Jump to bottom button is overlay now, so we can finally hide the room status bar again most of the time</li>
 	<li>Working on room sublist resizing</li>
 	<li>Work on authentication flow</li>
 	<li>Work on settings</li>
</ul>
<h2 id="riot-android-and-ios">Riot Android and iOS</h2>
<ul>
 	<li>Reskin of Riot is nearly finished. Last known issues have been fixed.</li>
 	<li>Keys backup screen development well underway! We're working to fit everything nicely on mobile platforms - there are some UX/UI specificities to consider.</li>
 	<li>Riotx (new version of riot for Android, built using the upcoming kotlin SDK): more and more event types supported in timeline.</li>
</ul>
<h2 id="quaternion">Quaternion</h2>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> reports that:</p>
<blockquote>
<p>the macOS build for <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> 0.0.9.3 turned out to be not complete and fails if the user doesn't have Qt installed. Thanks to <a href="https://matrix.to/#/@aaron:raim.ist">Aaron Raimist</a> the build has been now includes a snapshot of Qt 5.11 - if you tried and failed to run the .dmg from <a href="https://github.com/QMatrixClient/Quaternion/releases">https://github.com/QMatrixClient/Quaternion/releases</a>, you can try to use it again.</p>
</blockquote>
<p>Thanks also to Aaron for helping populate homebrew with Matrix goodness. Mac users may be interested to know that <a href="https://github.com/neilalexander/seaglass">Seaglass</a> and <a href="https://gitlab.com/spectral-im/spectral">Spectral</a> are both available in homebrew now.</p>
<h2 id="neo-client">Neo client</h2>
<p><a href="https://matrix.to/#/@f0x:lain.haus">f0x</a> reports that:</p>
<blockquote>
<p><a href="https://git.lain.haus/f0x/iris">Neo</a> is still in the GUI component design stage (the best stage to get involved with feedback!). I have implemented the jdenticon library for avatars, autoscrolling when there are new events, and I've added the Rust code of conduct. <a href="https://git.lain.haus/f0x/iris">https://git.lain.haus/f0x/iris</a><br />General vision for this project is to first get as much gui done as possible, before diving in the backend. This will be split into a separate module, with the gui component being as protocol-agnostic as possible, to allow different backend modules for XMPP or IRC as well.</p>
</blockquote>
<p><a href="/blog/wp-content/uploads/2019/01/neo-2019-01-25.png"><img class="alignnone size-large wp-image-3933" src="/blog/wp-content/uploads/2019/01/neo-2019-01-25-1024x586.png" alt="" width="1024" height="586" /></a></p>
<h2 id="fractal-client">Fractal client</h2>
<p>Backend refactoring by <a href="https://matrix.to/#/@iamjsparber:matrix.org">Julian Sparber</a> and <a href="https://matrix.to/#/@aledomu:matrix.org">Alejandro Domínguez</a>. They also got progressed with tag handling, spell checking and lazy loading.</p>
<h2 id="matrix-bot-sdk">matrix-bot-sdk</h2>
<p><a href="https://github.com/turt2live">TravisR</a> reports that:</p>
<blockquote>
<p>the <a href="https://github.com/turt2live/matrix-bot-sdk">matrix-bot-sdk</a> has received a bunch of updates currently residing on the develop branch. Changes include unit tests covering most of the library, appservice support improvements, handling of room version upgrades, and a bunch of bug fixes.</p>
</blockquote>
<p><a href="https://github.com/turt2live/matrix-bot-sdk">matrix-bot-sdk</a> was recently updated to have support for Application Services, and is a lighter alternative to the <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>.</p>
<h2 id="cl-matrix">cl-matrix</h2>
<p><a href="https://matrix.to/#/@gnu_ponut:matrix.org">Gnuxie</a> reports that:</p>
<blockquote>
<p>I've been working on <a href="https://gitlab.com/Gnuxie/cl-matrix">cl-matrix</a> and I think now it might be in a good condition to talk about it.
<a href="https://gitlab.com/Gnuxie/cl-matrix">cl-matrix</a> is a WIP client library written in common lisp, most of the API endpoints have been covered using macros that allow you to copy straight from the spec, here is an example using the send event endpoint:</p>
<pre><code class="lisp language-lisp">(define-matrix-endpoint room-send-event (:put)
  ("rooms" room-id "send" event-type txn-id))
</code></pre>
<p>this will expand into a function with the signature:</p>
<pre><code class="lisp language-lisp">(PUT-ROOM-SEND-EVENT AUTHENTICATION ROOM-ID EVENT-TYPE TXN-ID CONTENT &KEY PARAMETERS)
</code></pre>
<p>it also has some basic events defined using <a href="http://shinmera.github.io/deeds/">deeds</a> that can be issued using the sync endpoint.</p>
</blockquote>
<h2 id="informo">Informo</h2>
<p>The unknown individual from <a href="https://github.com/Informo">Informo</a>, <a href="https://matrix.to/#/@vabd:weu.informo.network">vabd</a> told us:</p>
<blockquote>
<p>Not much news this week in <a href="https://github.com/Informo">Informo</a> land, though we have a <a href="https://github.com/Informo/specs/pulls?q=is%3Apr+is%3Aopen+label%3Ascsp%3Areview">few specs proposals that are still open for public review</a>, including <a href="https://github.com/Informo/specs/pull/19">SCS #19</a> (<a href="https://github.com/Informo/specs/blob/vabd/intro/content/introduction/_index.md">rendered version here</a>) which rewrites the specs website's introduction to make it more newcomer-friendly and feature a brief introduction on what Informo is about.<br />People who either never had a look at the project, or got fed up trying to because of the difficulty to easily understand what we're building, we'd love to read your opinion on this! ?</p>
</blockquote>
<p>This is much, much appreciated. For those interested but confused, please take a look.</p>
<h2 id="matrix-autoinvite">matrix-autoinvite</h2>
<p><a href="https://matrix.to/#/@CromFr:matrix.org">CromFr</a> (Thibaut CHARLES) reports that:</p>
<blockquote>
<p><a href="https://gitlab.com/CromFr/matrix-autoinvite">matrix-autoinvite</a> is a very basic service that synchronizes joined rooms between users from different servers, by inviting missing users to the room.<br />I'm using it to invite <code>@CromFr:matrix.org</code> to each Facebook Messenger rooms on my personal homeserver (that has very limited resources) hosting the matrix-puppet-facebook bridge. This way I can chat with people on facebook from a matrix.org account :)</p>
</blockquote>
<p>Some relevant news from today: <em><a href="https://www.nytimes.com/2019/01/25/technology/facebook-instagram-whatsapp-messenger.html">Zuckerberg Plans to Integrate WhatsApp, Instagram and Facebook Messenger</a></em></p>
<h2 id="matrix-register-bot">matrix-register-bot</h2>
<p><a href="https://matrix.to/#/@krombel:msg-net.de">krombel</a> reports that:</p>
<blockquote>
<p>A long time ago I started writing <a href="https://github.com/krombel/matrix-register-bot">matrix-register-bot</a>. Now as there is a new requestor of it I finally implemented the <a href="https://github.com/krombel/matrix-register-bot/milestone/1?closed=1">planned features</a> and released <a href="https://github.com/krombel/matrix-register-bot/releases/tag/0.1-rc1">0.1-rc1</a><br />Feel free to test it and ask questions or provide feedback in <a href="https://matrix.to/#/#matrix-register-bot:msg-net.de">#matrix-register-bot:msg-net.de</a></p>
</blockquote>
<h2 id="other-thoughts">Other thoughts</h2>
<p>Did you know about <strong><a href="https://status.matrix.org/">status.matrix.org</a></strong>? This handy site lets you know about the status of the matrix.org homeserver. That URL again: <strong><a href="https://status.matrix.org/">status.matrix.org</a></strong>.</p>
<p><a href="https://linux.conf.au/">linux.conf.au</a> is happening right now in Christchurch, New Zealand <em>(editor's note: is this right? .au or .nz?)</em>, and they've been <a href="https://www.jerrykan.com/lca_chat_stats/2019/">partly using Matrix for their comms</a>.</p>
<p>FOSDEM is in a week! Come chat in <a href="https://matrix.to/#/#matrix-fosdem:matrix.org">#matrix-fosdem:matrix.org</a>. Be there and be square. I'll be there with Matrix swag so <a href="https://matrix.to/#/@benpa:matrix.org">ping me</a> if you'll be attending.</p>
<h2 id="when-will-i-see-you-again">When will I see you… again?</h2>
<p>I might adjust the schedule a little next week since it's FOSDEM (see above), but as always, stay tuned into <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> for all the biggest news!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;01&#x2F;18&#x2F;this-week-in-matrix-2019-01-18&#x2F;" title="This Week in Matrix 2019-01-18">This Week in Matrix 2019-01-18</a></h1>
            <span>
                18.01.2019 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h3 id="matrix-live-s3e11">Matrix Live S3E11</h3>
<p>This week I chatted with Jason Robinson about all things decentralisation, especially his projects <a href="https://github.com/jaywink/socialhome">socialhome</a>, <a href="https://the-federation.info/">the-federation.info</a>, and <a href="https://feneas.org">feneas.org</a>. Jason has been interested in decentralisation for many years, and had a lot to say about how we can look forward to a more decentralised Internet.</p>
<iframe src="https://www.youtube.com/embed/xPoMre1DKjQ" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe>
<h3 id="latest-msc-updates-from-anoa-s-msc-bot">Latest MSC updates (from anoa's MSC bot)</h3>
<p><strong>Approved MSCs</strong></p>
<p><a href="https://github.com/matrix-org/matrix-doc/issues/1229">[MSC 1229]: Mitigating abuse of the event depth parameter over federation</a>
<a href="https://github.com/matrix-org/matrix-doc/issues/1497">[MSC 1497]: MSC1497: Advertising support of experimental features in the CS API</a>
<a href="https://github.com/matrix-org/matrix-doc/issues/1501">[MSC 1501]: Room version upgrades</a>
<a href="https://github.com/matrix-org/matrix-doc/issues/1354">[MSC 1354]: Widget API extension: Always-on-screen</a>
<a href="https://github.com/matrix-org/matrix-doc/issues/1339">[MSC 1339]: Proposal to add a GET method to read account data</a></p>
<p><strong>Final Comment Period</strong></p>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/1794">MSC 1794: Federation v2 Invite API</a></p>
<p><strong>In Progress MSCs</strong></p>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/1796">[MSC 1796]: improved e2e notifications</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1797">[MSC 1797]: Proposal for more granular profile error codes</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1607">[MSC 1607]: Proposal for room alias grammar</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1544">[MSC 1544]: Key verification using QR codes</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1802">[MSC 1802]: Standardised federation response formats</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1804">[MSC 1804]: Advertising capable room versions to clients</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1538">[MSC 1538]: storing megolm keys serverside</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1681">[MSC 1681]: cross-signing</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1659">[MSC 1659]: Proposal: Change Event IDs to Hashes</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1767">[MSC 1767]: Extensible event types &amp; fallback in Matrix (v2)</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1768">[MSC 1768]: Proposal to authenticate with public keys</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1769">[MSC 1769]: Extensible profiles as rooms</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1772">[MSC 1772]: Groups as rooms (v2)</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1776">[MSC 1776]: Implementing peeking via /sync</a>
<a href="https://github.com/matrix-org/matrix-doc/issues/1640">[MSC 1640]: MSC: Replace event IDs with hashes</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1777">[MSC 1777]: peeking over federation</a></p>
<h3 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h3>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$154773871684rLCxo:devture.com">reports that</a>:</p>
<blockquote>
<p>It's a New Year and there have been a lot of improvements to the <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> playbook:</p>
<ul>
 	<li>there's now support for <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/fef6c052c34404a15985a87ad9593596c349cd04/docs/importing-postgres.md">importing an existing Postgres database</a>, which should make it easier for people with another setup to migrate over.</li>
 	<li>there's now support for <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/fef6c052c34404a15985a87ad9593596c349cd04/docs/configuring-playbook-ssl-certificates.md">manually-managed and self-signed certificates</a>, in addition to the Let's Encrypt support we've always had</li>
 	<li>the playbook now uses a much better (20x smaller, faster) riot-web Docker image (<a href="https://hub.docker.com/r/avhost/docker-matrix-riot/">avhost/docker-matrix-riot</a> -&gt; <a href="https://hub.docker.com/r/bubuntux/riot-web/">bubuntux/riot-web</a>). At least until <a href="https://github.com/vector-im/riot-web/pull/7771">vector-im/riot-web#7771</a> gets merged and official images become available.</li>
 	<li><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/fef6c052c34404a15985a87ad9593596c349cd04/CHANGELOG.md#bc-break-mxisd-configuration-changes">completely redone</a> way of generating mxisd configuration, letting people unleash the full power of mxisd without us having to explicitly add support for new features</li>
 	<li>mxisd 1.3.0-ready. We default to a stable mxisd release still (1.2.2), but people can try the much-improved 1.3.0 alpha releases even now (e.g. <code>matrix_mxisd_docker_image: "kamax/mxisd:1.3.0-alpha.2"</code>).</li>
 	<li>we now utilize <a href="https://github.com/kamax-matrix/mxisd/blob/4185b644b7b69af36bb1fdc81976a36590b1b97f/docs/features/directory.md">mxisd's User Directory Search feature</a> to augment the results coming from Synapse</li>
 	<li>the playbook has been <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/fef6c052c34404a15985a87ad9593596c349cd04/CHANGELOG.md#splitting-the-playbook-into-multiple-roles">split into multiple roles</a> (one role per component) and the <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/fef6c052c34404a15985a87ad9593596c349cd04/CHANGELOG.md#bc-break-making-the-playbooks-roles-more-independent-of-one-another">roles have been made independent of one another</a>. People who want to re-use our roles in their own playbooks can now more-easily do so.</li>
 	<li>even more components have become optional and can now be turned off completely (coturn, mailer)</li>
</ul>
Lots of thanks go to Maximus, jcgruenhage and Cadair for helping out!
</blockquote>
<h3 id="libqmatrixclient-and-quaternion">libQMatrixClient and Quaternion</h3>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$1547372159502087lVDqI:matrix.org">reports that</a>:</p>
<blockquote>
<p>libQMatrixClient 0.4.2 has been released, fixing a security issue (the library could be tricked into altering the local room state by fake state events - those without state_key). The master branch of the library is updated as well - it is strongly recommended to update to either 0.4.2 or master, depending on which branch you live on.</p>
</blockquote>
<blockquote>
<p>For those who want to help testing Quaternion or just can't wait to the next release, we now have CI builds collected at bintray: <a href="https://bintray.com/qmatrixclient/ci/Quaternion">https://bintray.com/qmatrixclient/ci/Quaternion</a>. Linux and macOS are already there, and Windows binaries will also be available any day soon.</p>
</blockquote>
<h3 id="matrix-client-el">matrix-client.el</h3>
<p><a href="https://matrix.to/#/@alphapapa:matrix.org">alphapapa</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$1547472348798423INfaD:matrix.org">reports that</a>:</p>
<blockquote>
<p>matrix-client.el can now send typing notifications.</p>
</blockquote>
<h3 id="matrix-puppet-slack">matrix-puppet-slack</h3>
<p><a href="https://matrix.to/#/@root:thomasprofitt.com">tom</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$154752330618986viSAk:thomasprofitt.com">reports that</a>:</p>
<blockquote>
<p><a href="https://github.com/matrix-hacks/matrix-puppet-slack">matrix-puppet-slack v1.10.0</a> has been released, thanks to <a href="https://github.com/Cadair">Cadair</a> and (once again!) <a href="https://github.com/d3m3vilurr">d3m3vilurr</a>!</p>
<p>v1.10.0 fixes Matrix-to-Slack image upload, and no longer sends markdown-formatted @-mention links in the plaintext body of Matrix events; instead, it uses plaintext username the way text-only clients traditionally have it.</p>
</blockquote>
<blockquote>
<p>The version bump is also the project's 100th commit, and I've updated the supported feature checklist in the README to paint a more comprehensive picture of what is and isn't supported, and link out to the GitHub Issues for some of the unsupported features, in hopes of making life easier for users and encouraging contributions.</p>
</blockquote>
<h3 id="opsdroid">opsdroid</h3>
<p><a href="https://matrix.to/#/@SolarDrew:matrix.org">SolarDrew</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$1547653505205271kEVTV:matrix.org">reports that</a>:</p>
<blockquote>
<p><a href="https://opsdroid.readthedocs.io/en/stable/">opsdroid</a>'s Matrix connector is now a core part of the library rather than an external addition. This should open up a lot of cool possibilities for doing fancy stuff with bots on matrix. Many thanks to Cadair for helping with this.</p>
</blockquote>
<h3 id="mxisd">mxisd</h3>
<p><a href="https://matrix.to/#/@max:kamax.io">Maximus</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$15477209272657DusTE:kamax.io">reports that</a>:</p>
<blockquote>
<p><a href="https://github.com/kamax-matrix/mxisd">mxisd</a> has a new alpha release: <a href="https://github.com/kamax-matrix/mxisd/releases/tag/v1.3.0-alpha.2">v1.3.0-alpha.2</a> - Fixes a set of issues from <code>alpha.1</code> and is now close to <code>v1.2.2</code> stability. If you are already on <code>alpha.1</code>, update is highly recommended.</p>
</blockquote>
<h3 id="continuum-previously-koma">continuum (previously, &quot;koma&quot;)</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">uforia</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$1547794230713503hGkcK:matrix.org">reports that</a>:</p>
<blockquote>
<p>made some minor changes to <a href="https://github.com/koma-im/continuum-desktop">continuum</a> to make the GUI more intuitive. Now when there are no joined rooms, buttons for joining or creating rooms are shown instead of an empty list. And when there are issues with syncing or syncing takes longer than usual, a status bar with options is shown.</p>
</blockquote>
<h3 id="mauview">mauview</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$154780910215898ndotw:maunium.net">reports that</a>:</p>
<blockquote>
<p>I've been working on a new Go TUI library for gomuks: <a href="https://github.com/tulir/mauview">https://github.com/tulir/mauview</a></p>
<p>Still not quite sure if it's a good idea, but at least the input area component is very nice. It should also make it easier to add more fancy stuff like html tables and selecting messages (for replying/redacting)</p>
</blockquote>
<h3 id="riot-ios">Riot iOS</h3>
<blockquote>
<p>We are still working on the key backup screens. The last bit on the SDK side, the passphrase support, has been implemented this week.</p>
<p>Reskin is almost done. It just needs some small adjustments. We will release a beta soon so that we can gather users feedback.</p>
<p>This week, we have also fixed small but boring UX issues in Riot and we will continue to do so up to the end of the month and FOSDEM!</p>
</blockquote>
<h3 id="riot-android">Riot Android</h3>
<blockquote>
<p>Reskin is almost done too and available on develop builds.</p>
<p>Benoit has started to implement the key backup passphrase management in the SDK. Valere is still improving push notifications at the code level but also at the display level.</p>
<p>We are working hard to polish the app for FOSDEM.</p>
</blockquote>
<h3 id="modular">Modular</h3>
<p>Rick reports:</p>
<blockquote>
<p>We now have a <b> HipChat migration tool - </b><a href="https://www.modular.im/tools/hipchat-migration">https://www.modular.im/tools/hipchat-migration</a><b>. </b>This tool helps migrate a HipChat workspace to your very own Modular Hosted Homeserver. Migration is performed by uploading an exported copy of an existing HipChat workspace so that the tool can automatically re-create all of the users and rooms (including messages and attachments) on your new Matrix homeserver. Once the migration is complete all of the migrated users will be emailed with login instructions, so that they can seamlessly continue chatting where they left off in HipChat. If your organisation (or if you know of an organisation that) has not yet decided what to do when Stride &amp; HipChat is discontinued next month, come and try Modular!</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<blockquote>
<p>The Synapse gang are working flat out towards r0 and a v1.0 release - you can track our progress here (<a href="https://github.com/orgs/matrix-org/projects/8">https://github.com/orgs/matrix-org/projects/8</a>). Aside from that if you haven't already done please please upgrade to v0.34.1.1 (<a href="/blog/2019/01/15/further-details-on-critical-security-update-in-synapse-affecting-all-versions-prior-to-0-34-1-cve-2019-5885/">https://matrix.org/blog/2019/01/15/further-details-on-critical-security-update-in-synapse-affecting-all-versions-prior-to-0-34-1-cve-2019-5885/</a>)</p>
</blockquote>
<h3 id="dendrite">Dendrite</h3>
<p><a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a> reports:</p>
<blockquote>
<p>People have been generally happy about the flood of new issues following the completion of the internal audit last week, and a few folks have been opening PRs addressing some of the “good-first-issues” labeled ones, which has been amazing to see, including fixing room joins and a couple of default variables. Thanks a lot to <a href="https://matrix.to/#/@cnly:matrix.org">Cnly</a> and <a href="https://matrix.to/#/@manasseh:matrix.org">Behouba</a> for these!</p>
<p>On my end, this week mainly consisted in reviewing most of these PRs (and merging them when that was possible), while <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> worked on making Dendrite's CI more complete and reliable, especially by configuring it to run <a href="https://github.com/matrix-org/sytest">sytest</a> against Dendrite which will allow us to better track its compliance to the Matrix specification.</p>
<p>If you're interested in contributing on Dendrite, there's still some <a href="https://github.com/matrix-org/dendrite/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">“good first issues”</a> open, and we'll be happy to chat and help in <a href="https://matrix.to/#/#dendrite-dev:matrix.org">#dendrite-dev:matrix.org</a> ?</p>
</blockquote>
<h3 id="synapse-in-debian">Synapse in Debian</h3>
<p><a href="https://matrix.to/#/@andrewsh:matrix.org">andrewsh</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$1547811410764148ueMlL:matrix.org">reports that</a>:</p>
<blockquote>
<p>the most recent synapse, using Python 3, is available in both stretch-backports and Debian testing</p>
</blockquote>
<h3 id="discord-bridge">Discord Bridge</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$15478126461343dzUVV:half-shot.uk">reports that</a>:</p>
<blockquote>
<p>Discord bridge v0.4.0 is out now, nothing new since rc1 because it was <strong>that good</strong>. There have been no changes since rc1 because either <a href="https://matrix.to/#/@sorunome:sorunome.de">Sorunome</a> did a stellar job of keeping things stable, or nobody spoke up out of fear :p. Thanks one and all for continuing to run the bridge.</p>
</blockquote>
<h3 id="new-dart-flutter-matrix-sdk">New Dart/Flutter Matrix SDK</h3>
<p><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$1547818996124dKXHQ:encom.eu.org">reports that</a>:</p>
<blockquote>
<p>I am prototyping a Matrix client SDK in Dart. It will target Flutter (Android, Fuchsia and iOS), web (AngularDart or other) and Dart VM.</p>
</blockquote>
<h3 id="f0x-returns-to-neo">f0x returns to Neo</h3>
<p><a href="https://matrix.to/#/@f0x:lain.haus">f0x</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$15478279713767eylAY:lain.haus">reports that</a>:</p>
<blockquote>
<p>Neo v4: Iris is coming up, focusing on design first. It will be based on React, and the matrix js sdk<br />I didn't plan ahead enough with old Neo (v3), so it became a bit of a clobbered togeather mess, which I'm trying to prevent this time around<br /><a href="https://git.lain.haus/f0x/iris">https://git.lain.haus/f0x/iris</a></p>
</blockquote>
<p><a href="/blog/wp-content/uploads/2019/01/neo.png"><img class="alignnone size-large wp-image-3918" src="/blog/wp-content/uploads/2019/01/neo-1024x446.png" alt="" width="1024" height="446" /></a></p>
<h3 id="that-s-all-for-now">That's all for now</h3>
<p>Come chat in <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> to discuss what's happening, and especially come and share what YOU'VE been working on!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;01&#x2F;17&#x2F;ben-s-favourite-projects-2018&#x2F;" title="Ben&#x27;s favourite projects 2018">Ben&#x27;s favourite projects 2018</a></h1>
            <span>
                17.01.2019 00:00
                —
                <a href="/category/thoughts">
                    Thoughts
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi all, Ben here.</p>
<p>Since joining the core team as Developer Advocate last year it's been quite a ride. One of the best things about the job is getting the chance to talk to so many people about their projects and what they would like to see happen in the matrix ecosystem. With so much going on, I just want to say thanks to everyone who has been so welcoming to me and share some of my personal highlights, as I recall them, from 2018!</p>
<h2 id="clients">Clients</h2>
<p><strong><a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a></strong> was featured in the very first TWIM, announcing v1.26. Since then, the team have hosted two IRL hackfest events (Strasbourg and Seville - where to next, Stockholm? Salisbury?), engaged two GSOC students and continued to push out releases. At this point, Fractal is a full-featured Matrix client for GNOME.</p>
<p>Matrique became <strong><a href="https://gitlab.com/spectral-im/spectral">Spectral</a></strong>, and is generally awesome. Apparently the name &quot;Matrique&quot; was chosen because it sounds French, but those who speak the language well revealed that this name was not ideal! The project was re-named &quot;Spectral&quot;, and is going strong. I really appreciate the multi-user facility! It's a great looking client, and runs great on macOS too (protip: get more attention from <code>/me</code> by providing a macOS build…)</p>
<p>On which subject, <strong><a href="https://github.com/neilalexander/seaglass">Seaglass</a></strong> is a native macOS client. First announced in June, this client supports E2EE rooms (via <a href="https://github.com/matrix-org/matrix-ios-sdk">matrix-ios-sdk</a>), and is also available on homebrew.</p>
<p>Ubuntu Touch has the most Matrix clients per-user of any platform. UT epitomises the resilience and collaborative spirit of Open Source. It's a true community maintenance effort, and is as friendly a community as you might meet. <a href="https://github.com/uMatriks/uMatriks">uMatriks</a> came first, but it's <strong><a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a></strong> that prompted me to install it on my battered old OnePlus One. FluffyChat is now extremely full-featured, with E2EE support being actively discussed.</p>
<p>In the command line, <strong><a href="https://github.com/tulir/gomuks">gomuks</a></strong> appeared and quickly became a competent client, but in terms of sheer enthusiasm and momentum, I must give commendation to <strong><a href="https://github.com/jgkamat/matrix-client-el">matrix-client.el</a></strong>, a newly revived mode for Emacs which turns your editor/OS into a great Matrix Client. I enjoyed using it enough that it began to change my mind about using emacs. Laptops have more than 8mb memory these days anyway.</p>
<h2 id="a-culture-of-bots">A culture of bots</h2>
<p>There is a tendency in the community to build a bot for everything and anything. This has reached the point where there are multiple flairs available depending on what bots you like to make (silly vs serious.)</p>
<p><a href="https://github.com/turt2live">TravisR</a> was perhaps the first person I saw to get the obsession, creating</p>
<ul>
 	<li><a href="https://github.com/turt2live/matrix-monitor-bot">matrix-monitor-bot</a></li>
 	<li><a href="https://github.com/turt2live/matrix-trello-bot">matrix-trello-bot</a></li>
 	<li><a href="https://github.com/turt2live/matrix-alias-bot">matrix-alias-bot</a></li>
 	<li><a href="https://github.com/turt2live/matrix-hashtag-bot">hashtag bot</a> (perhaps the most absurd!)</li>
</ul>
and more…
<p>Cadair even made <a href="https://github.com/Cadair/skill-twim">twimbot</a>, designed to make it easier to consume and produce <a href="/twim">This Week in Matrix</a> itself.</p>
<p>In June <a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> started <a href="https://github.com/maubot/maubot">maubot</a>, a plugin-based bot system built in Python, which now also has a management UI.</p>
<h2 id="all-bridges-lead-to-matrix">All bridges lead to Matrix</h2>
<p>Or from Matrix, depending on which way you want to send the message.</p>
<p>Around May, I started to notice another obsession brewing in the community. Bridging is a core part of the Matrix mission, but it was around this time I started seeing it in the wild.</p>
<p>Summer 2018 <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> began working in the Matrix core team, and was <em>hugely</em> productive in maintaining and developing the bridge infrastructure for matrix.org. IRC bridging is far more stable and reliable now than it was a year ago. And yet there are still more bridges - too many to list, so I'm picking the ones I've used and enjoyed.</p>
<p>Discord is bridged by <a href="https://github.com/Half-Shot/matrix-appservice-discord">matrix-appservice-discord</a>, handled by <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>, aided and abetted by <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> but with a new maintainer this year, <a href="https://matrix.to/#/@sorunome:sorunome.de">Sorunome</a>. This bridge is now feature-rich and sits at v0.3.1.</p>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>'s suite of bridges including <strong><a href="https://github.com/tulir/mautrix-telegram">mautrix-telegram</a></strong> and <strong><a href="https://github.com/tulir/mautrix-whatsapp">mautrix-whatsapp</a></strong> are extremely stable and useful - big thank you to <a href="https://github.com/turt2live">TravisR</a> for maintaining <a href="https://t2bot.io/">t2bot.io</a> and hosting the Telegram bridge too.</p>
<p><strong><a href="https://github.com/tijder/SmsMatrix">SMSMatrix</a></strong>, a phone-hosted bridge is simple and works great for SMS bridging.</p>
<h2 id="libraries-sdks-frameworks">Libraries, SDKs, Frameworks</h2>
<p>I enjoyed using <strong><a href="https://github.com/turt2live/matrix-bot-sdk">matrix-bot-sdk</a></strong> for building <a href="https://github.com/benparsons/elizabot">elizabot</a> (more coverage needed for that!), and the SDK recently received support for application services.</p>
<p>In April, <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> announced v0.2 of <strong><a href="https://github.com/QMatrixClient/libqmatrixclient">libqmatrixclient</a></strong> describing it as “the first one more or less functional and stable&quot; - confidence! This library now powers both Quaternion and Spectral. QMatrixClient has continued to get updates, plus features including lazy loading and VoIP signalling.</p>
<p>There are a few libs I want to pay more attention to this year, starting with <a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>'s <strong><a href="https://github.com/maubot/maubot">maubot</a></strong> now that it has been rewritten in Python. I'm also excited to see <strong><a href="https://github.com/ma1uta/jmsdk">jmsdk</a></strong>, part of <a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a>'s broader ecosystem of Matrix tooling - a Java-based SDK.</p>
<h2 id="ruma-resurrection">Ruma Resurrection</h2>
<p>Until around June, <strong>Ruma</strong> was receiving regular updates. There was a pause as the team waited for Rust async/await to land, and also to get some stability in the Matrix Spec. Still waiting on Rust, but now that the Matrix Spec is stabilising, Ruma is showing signs of life too. I have also been watching other homeserver projects begin to restart, which makes for a great start to 2019.</p>
<h2 id="dsn-traveller-by-florian">DSN Traveller by Florian</h2>
<p>Matrix was featured as part of a Master's thesis by Florian Jacob.</p>
<blockquote>
<p><a href="https://dsn-traveller.dsn.scc.kit.edu/">DSN Traveller</a> tries to get a rough overview of how the Matrix network is structured today. It records how many rooms it finds, how many users and servers take part in those rooms, and how they relate to each other, meaning how many users a server has and of how many rooms it is part of.</p>
</blockquote>
<p>Florian's thesis was handed in last August. <a href="https://github.com/florianjacob/dsn-traveller">Source code is available</a>.</p>
<blockquote>
<p>All details at <a href="https://dsn-traveller.dsn.scc.kit.edu/">https://dsn-traveller.dsn.scc.kit.edu/</a>, room at <a href="https://matrix.to/#/#dsn-traveller:dsn-traveller.dsn.scc.kit.edu">#dsn-traveller:dsn-traveller.dsn.scc.kit.edu</a>.</p>
</blockquote>
<h2 id="still-more">Still more</h2>
<p>Synapse dominates the homeserver space right now, so if you want to host your own homeserver today it's the obvious choice. Too great a variety of installation guides was doing more harm than good, so <a href="https://matrix.to/#/@natrius:matrix.org">Stefan</a> took the initiative to create a <strong>definitive community-driven Synapse installation guide</strong>, including a room to discuss and improve the text. Find the <a href="/docs/guides/installing-synapse">guide linked from here</a>, and chat about the guide in <a href="https://matrix.to/#/synapseguide:matrix.org">#synapseguide:matrix.org</a>.</p>
<p>I want to use Matrix, and I want to host my own homeserver. As such, <strong><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a></strong> is a project I absolutely love. It uses Synapse docker images from the Matrix core team, and combines them with Ansible playbooks written and organised by <a href="https://matrix.to/#/@slavi:devture.com">Slavi</a>. It lets you quickly deploy everything needed for a Synapse homeserver, and it's simple enough that even I can use it.</p>
<p><strong><a href="https://github.com/matrix-construct/construct">Construct</a></strong>, a homeserver implementation in C++ began successfully federating with Matrix, work progressed <a href="/blog/2018/05/18/this-week-in-matrix-2018-05-18/">from around April/May</a>.</p>
<p>Having a <strong><a href="https://shields.io/#/examples/chat">Matrix-native mode for shields.io</a></strong> (those counter/indicator images you often see at the top of repos) seems like something petty at first, but it's actually a great indicator of the importance of Matrix from the outside. Plus, I love seeing the images at the top of different repos. Thanks <a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a> for helping this along.</p>
<p>Two students worked on Matrix-related projects during <strong><a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a></strong>.</p>
<ul>
 	<li><a href="https://matrix.to/#/@Zil0:matrix.org">Zil0</a> created E2EE bindings for <a href="https://github.com/matrix-org/matrix-python-sdk">matrix-python-sdk</a></li>
 	<li><a href="@apwhitehat:matrix.org">APwhitehat</a> worked on the federation APIs in Dendrite</li>
</ul>
Something which came in super-helpful for me when testing homeserver installations was <strong><a href="https://neo.lain.haus/fed-tester/">f0x's fed-tester</a></strong>. <a href="https://github.com/f0x52/fed-tester/">Source code available</a> (obv.)
<h2 id="thanks-for-all-the-projects">Thanks for all the projects</h2>
<p>Thanks for a great 2018. There was so much to learn about, so much to write about, and so many great community members to meet and chat to! If I didn't mention your project, I'm sorry to have been either forgetful or to not be able to include everything.</p>
<p>If you think I've missed something, or if there's a project I should have included rather than another, or even if you just disagree with my choices, let's discuss it in <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a>. See you there, and let's all parade ahead to a productive, open, interoperable 2019!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;01&#x2F;15&#x2F;further-details-on-critical-security-update-in-synapse-affecting-all-versions-prior-to-0-34-1-cve-2019-5885&#x2F;" title="Further details on Critical Security Update in Synapse affecting all versions prior to 0.34.1 (CVE-2019-5885)">Further details on Critical Security Update in Synapse affecting all versions prior to 0.34.1 (CVE-2019-5885)</a></h1>
            <span>
                15.01.2019 00:00
                —
                <a href="/category/security">
                    Security
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>On <a href="/blog/2019/01/10/critical-security-update-synapse-0-34-0-1-synapse-0-34-1-1/">Thursday Jan 10th we released a Critical Security Update (Synapse 0.34.0.1/0.34.1.1)</a>, which fixes a serious security bug in Synapse 0.34.0 and earlier. Many deployments have now upgraded to 0.34.0.1 or 0.34.1.1, and we now consider it appropriate to disclose more information about the issue, to provide context and <b>encourage the remaining affected servers to upgrade as soon as possible</b>.</p>
<p>In Synapse 0.11 (Nov 2015) we added a configuration parameter called “macaroon_secret_key” which relates to our use of <a href="https://ai.google/research/pubs/pub41892">macaroons</a> in authentication. Macaroons are authentication tokens which must be signed by the server which generates them, to prevent them being forged by attackers. “macaroon_secret_key” defines the key which is used for this signature, and it must therefore be kept secret to preserve the security of the server.</p>
<p>If the option is not set, Synapse will attempt to derive a secret key from other secrets specified in the configuration file. However, in all versions of Synapse up to and including 0.34.0, this process was faulty and a predictable value was used instead.</p>
<p><b>So if, your homeserver.yaml does not contain a macaroon_secret_key, you need to upgrade to 0.34.1.1 or 0.34.0.1 or Debian 0.34.0-3~bpo9+2 immediately to prevent the risk of account hijacking.</b></p>
<p>The vulnerability affects any Synapse installation which does not have a macaroon_secret_key setting. <b>For example, the Debian and Ubuntu packages from Matrix.org, Debian and Ubuntu include a configuration file without an explicit macaroon_secret_key and must upgrade. </b>Anyone who hasn't updated their config since Nov 2015 or who grandfathered their config from the Debian/Ubuntu packages will likely also be affected.</p>
<p>We are not aware of this vulnerability being exploited in the wild, but if you are running an affected server it may still be wise to check your synapse's user_ips database table for any unexpected access to your server's accounts. You could also check your accounts' device lists (shown under Settings in Riot) for unexpected devices, although this is not as reliable as an attacker could cover their tracks to remove unexpected devices.</p>
<p>We'll publish a full post-mortem of the issue once we are confident that most affected servers have been upgraded.</p>
<p>We'd like to apologise for the inconvenience caused by this - especially to folks who upgraded since Friday who were in practice not affected. Due to the nature of the issue we wanted to minimise details about the issue until people had a chance to upgrade. We also did not follow a planned disclosure procedure because Synapse 0.34.1 already unintentionally disclosed the existence of the bug by fixing it (causing the logout bug for affected users which led us to pull the original Synapse 0.34.1 release).</p>
<p>On the plus side, we are approaching the end of beta for Synapse, and going forwards hope to see much better stability and security across the board.</p>
<p>Thanks again for your patience,</p>
<p>The Matrix.org Team</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;01&#x2F;11&#x2F;this-week-in-matrix-2019-01-11&#x2F;" title="This Week in Matrix 2019-01-11">This Week in Matrix 2019-01-11</a></h1>
            <span>
                11.01.2019 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="welcome">Welcome!</h2>
<p>Do not panic, Benpa is away, I repeat, Benpa is away. Nonetheless TWIM lives on!</p>
<h2 id="spec">Spec</h2>
<p>Lots of spec work this week, and a shout out to <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> for his magical <a href="https://matrix.to/#/@mscbot:matrix.org">mscbot </a>that provides pokes, nudges and updates on all things spec. Here's what <a href="https://matrix.to/#/@mscbot:matrix.org">mscbot</a> had to say about the past week.</p>
<p><strong>Approved MSCs</strong></p>
<p><a href="https://github.com/matrix-org/matrix-doc/issues/1497">[MSC 1497]: Advertising support of experimental features in the CS API</a>
<a href="https://github.com/matrix-org/matrix-doc/issues/1339">[MSC 1339]: Proposal to add a GET method to read account data</a>
<a href="https://github.com/matrix-org/matrix-doc/issues/1501">[MSC 1501]: Room version upgrades</a></p>
<p><strong>Final Comment Period</strong></p>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/1708">MSC 1708: .well-known support for server name resolution</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1711">MSC 1711: X.509 certificate verification for federation connections</a></p>
<p><strong>New and In Progress MSCs</strong></p>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/1794">[MSC 1794]: Federation v2 Invite API</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1796">[MSC 1796]: Improved e2e notifications</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1797">[MSC 1797]: Proposal for more granular profile error codes</a>
<a href="https://github.com/matrix-org/matrix-doc/issues/1640">[MSC 1640]: Replace event IDs with hashes</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1776">[MSC 1776]: Implementing peeking via /sync</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1777">[MSC 1777]: peeking over federation</a>
<a href="https://github.com/matrix-org/matrix-doc/pull/1779">[MSC 1779]: Proposal for Open Governance for Matrix.org (v2)</a></p>
<p>(A few may be missing as we're still tweaking mscbot :)</p>
<h2 id="dendrite">Dendrite</h2>
<p><a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a> had this to say:-</p>
<blockquote>
<p>The Dendrite audit is over! A bunch of issues have been created on the Dendrite GitHub repository, as well as a project board in order to keep track of everything: <a href="https://github.com/matrix-org/dendrite/projects/2">https://github.com/matrix-org/dendrite/projects/2
</a>There's a fair amount of issues that have been labeled as “good first issue”, so feel free to pick them up and open pull requests if you're looking into hacking on Dendrite! :)</p>
</blockquote>
<p>And whilst we have your attention - here's Brendan &amp; Matthew talking through the audit in this week's Matrix Live!</p>
<iframe src="https://www.youtube.com/embed/NaxL-jNvcSA" width="1280" height="720" frameBorder="0" allowFullScreen="allowfullscreen"></iframe>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> says:-</p>
<blockquote>
<p><b>both contain critical security updates </b><b>so please update asap</b> for more details, we'll be able to share a bit more about the vuln once admins have had a chance to upgrade.</p>
<p>Meanwhile Hawkowl has been cranking out bug fixes and perf improvements and in particular taking a look at taming the user_ips table.</p>
</blockquote>
<p>While Debian packager Andrewsh adds:-</p>
<blockquote>
<p>latest synapse (0.34.1.1, Python 3) <a href="https://tracker.debian.org/news/1019454/accepted-matrix-synapse-03411-1-source-into-unstable/" target="_blank" rel="noopener">in Debian</a>, fixing <a href="https://security-tracker.debian.org/tracker/CVE-2019-5885" target="_blank" rel="noopener">CVE-2019-5885</a>; an update to a previous release fixing this CVE <a href="https://tracker.debian.org/news/1019458/accepted-matrix-synapse-0340-3bpo92-source-into-stretch-backports/" target="_blank" rel="noopener">uploaded</a> to stretch-backports, using Python 2. Dependencies for a Python 3 upload <a href="https://tracker.debian.org/news/1019728/accepted-python-treq-1860-01bpo91-all-source-into-stretch-backports-stretch-backports/" target="_blank" rel="noopener">approved</a> in <a href="https://tracker.debian.org/news/1019734/accepted-python-frozendict-12-1bpo91-all-source-into-stretch-backports-stretch-backports/" target="_blank" rel="noopener">stretch-backports</a>, a Python 3 upload of 0.34.1.1 will be following later this week</p>
</blockquote>
<h2 id="riot-ios">Riot/iOS</h2>
<blockquote>
<p>Riot-iOS 0.7.11 has been released, with lots of bug fixes.</p>
<p>We have been working on e2e new screens (like key backup setup) and the re-skinning of the app.</p>
</blockquote>
<h2 id="riot-android">Riot/Android</h2>
<blockquote>
<p>Working to improve notifications style.</p>
<p>Split screen mode will be supported on next release!</p>
<p>Continuous autofocus on the Camera has been enabled.</p>
<p>Also fighting bugs on registration.</p>
</blockquote>
<h2 id="bridges">Bridges</h2>
<p><a href="https://matrix.to/#/@@Half-Shot:half-shot.uk">Halfshot</a> has this to say:</p>
<blockquote>
<p>Matrix-appservice-purple is being renamed to matrix-<a href="https://en.wikipedia.org/wiki/Bifr%C3%B6st" target="_blank" rel="noopener">bifröst</a>, on the basis that we now bridge to things and &quot;burning rainbow bridge&quot; seemed like a good description.</p>
<p>Other things that have happened: <em>Performance improvements, as always. </em>XMPP -&gt; Matrix typing notifications <em>XMPP -&gt; Matrix avatars </em>XMPP -&gt; Matrix uploads * Matrix -&gt; XMPP uploads (via oob)</p>
</blockquote>
<p>and then follows up with this:-</p>
<blockquote>
<p>As promised, we've got a discord bridge release out today. v0.4.0-rc1 has landed! See the change notes <a class="linkified" href="https://github.com/Half-Shot/matrix-appservice-discord/releases/tag/v0.4.0-rc1" target="_blank" rel="noopener">https://github.com/Half-Shot/matrix-appservice-discord/releases/tag/v0.4.0-rc1</a> . Thank you to Sorunome for doing a huge amount of work on this!<br /><a class="mx_UserPill" title="@swedneck:swedneck.xyz" data-reactroot="">@swedneck</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$154722932544963VxLcM:swedneck.xyz" rel="noopener">reports that</a>:</p>
</blockquote>
<blockquote>
<p><a class="linkified" href="http://linuxgaming.life/" target="_blank" rel="noopener">linuxgaming.life</a> is now running matrix-appservice-discord v0.4.0-rc1.</p>
</blockquote>
<h2 id="matrix-org-foundation">Matrix.org Foundation</h2>
<p>Matthew has a final draft of the Matrix.org Foundation governance document ready: <a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc1779/proposals/1779-open-governance.md">https://github.com/matrix-org/matrix-doc/blob/matthew/msc1779/proposals/1779-open-governance.md</a>. Comments on <a href="https://github.com/matrix-org/matrix-doc/pull/1779">https://github.com/matrix-org/matrix-doc/pull/1779</a> would be much appreciated!  We expect to propose merging it next week, and then incorporating it into the final Articles of the foundation.</p>
<h2 id="riot-web">Riot Web</h2>
<p>Loads and loads of work happening on <a href="https://riot.im/experimental">https://riot.im/experimental</a> which is now where all new development is happening as we race towards launching the new design.  Highlights include:</p>
<ul>
 	<li>All new key verification is implemented! (in olm & matrix-js-sdk).  We're currently hooking up the UX.</li>
 	<li>Online key backup is pretty much finished.</li>
 	<li>Cross-signing is up next.</li>
 	<li>Redesign backlog is progressing (slightly stuck on making the RoomList resizing work nicely, but almost there)</li>
 	<li>Finalising the all new registration/login screens</li>
 	<li>...and loads of other stuff too.</li>
</ul>
<h2 id="meanwhile">Meanwhile...</h2>
<p><a class="mx_UserPill" title="@kitsune:matrix.org" data-reactroot="">kitsune</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$15467525032230233Dzybl:matrix.org" rel="noopener">reports that</a>:</p>
<blockquote>
<p>Sending files landed in master branches of libQMatrixClient and Quaternion. Finally you can send your Quaternion screenshots (as any other images, jingles, cat videos etc.) to Matrix using Quaternion ;)</p>
<p>Also, libQMatrixClient is available as a Conan repository, for developers who'd like to use Conan to track dependencies.</p>
</blockquote>
<p><a class="mx_UserPill" title="@progserega:rsprim.ru" data-reactroot="">progserega</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$1546773191109249XkFRT:rsprim.ru" rel="noopener">reports that</a>:</p>
<blockquote>
<p>Hello to all! I am write matrix bot for bridge messages between matrix and social network <a class="linkified" href="http://vk.com/" target="_blank" rel="noopener">vk.com</a> (russian analog of facebook). <a class="linkified" href="https://github.com/progserega/MatrixVkBot" target="_blank" rel="noopener">https://github.com/progserega/MatrixVkBot</a></p>
</blockquote>
<p><a class="mx_UserPill" title="@alphapapa:matrix.org" data-reactroot="">alphapapa</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$154695472523162AwgHe:matrix.org" rel="noopener">reports that</a>:</p>
<blockquote>
<p>matrix-client.el gained a room-list buffer, which can be sorted by unread status, name, number of members, etc, and has a right-click context menu like the room-list sidebar.</p>
<p>matrix-client.el gained right-click context menus in the room sidebar, allowing to set room priority, notifications, etc.</p>
<p>The matrix-client.el git repository has moved to: <a class="linkified" href="https://github.com/alphapapa/matrix-client.el" target="_blank" rel="noopener">https://github.com/alphapapa/matrix-client.el</a></p>
</blockquote>
<blockquote>
<img src="/_matrix/media/v1/thumbnail/matrix.org/pazISIZUgGDcnjDoNVsesfcK?width=800&height=600" alt="" />
</blockquote>
<p><a class="mx_UserPill" title="@pztrn:pztrn.name" data-reactroot="">Stanislav N. aka pztrn</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$1546968693283SdOAl:pztrn.name" rel="noopener">reports that</a>:</p>
<blockquote>
<p>Hey guys, joined here to post another thing that works in Matrix <a class="linkified" href="https://gitlab.com/pztrn/check_mk_matrix_notifications" target="_blank" rel="noopener">https://gitlab.com/pztrn/check_mk_matrix_notifications </a>it is a script that sends check_mk notifications to Matrix. Check_mk is a &quot;plugin&quot; for Nagios NMS.</p>
</blockquote>
<p><a class="mx_UserPill" title="@cadair:cadair.com" data-reactroot="">Cadair</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$15470473371239VXjIe:cadair.com" rel="noopener">reports that</a>:</p>
<blockquote>
<p>It's not my update but I saw this HomeAssistant addon for matrix (<a class="linkified" href="https://github.com/hassio-addons/addon-matrix" target="_blank" rel="noopener">https://github.com/hassio-addons/addon-matrix</a>) and wanted to make sure it got a shoutout on TWIM. [Seeing how nobody else has posted it in here, just on twitter etc.]</p>
</blockquote>
<p><a class="mx_UserPill" title="@thrrgilag:monkeystew.net" data-reactroot="">Morgan McMillian (thrrgilag)</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$1547094717202jRnpX:monkeystew.net" rel="noopener">reports that</a>:</p>
<blockquote>
<p>I published v1.0.1 of the pnut-matrix bridge this week which brings public <a class="linkified" href="http://pnut.io/" target="_blank" rel="noopener">pnut.io</a> chat rooms to the matrix network. Features include syncing of <a class="linkified" href="http://pnut.io/" target="_blank" rel="noopener">pnut.io</a> names and avatars, matrix users ability to authorize their <a class="linkified" href="http://pnut.io/" target="_blank" rel="noopener">pnut.io</a> accounts, and administrative controls for managing linked rooms. Project can be found at <a class="linkified" href="https://gitlab.dreamfall.space/thrrgilag/pnut-matrix" target="_blank" rel="noopener">https://gitlab.dreamfall.space/thrrgilag/pnut-matrix</a> and discussion is at <a class="linkified" href="https://matrix.to/#/#pnut-matrix:monkeystew.net" rel="noopener">#pnut-matrix:monkeystew.net</a></p>
</blockquote>
<p><a class="mx_UserPill" title="@MilkManzJourDaddy:matrix.org" data-reactroot="">MMJD reports that</a>:</p>
<blockquote>
<p>ma1uta's <a href="https://github.com/ma1uta/mxtoot" target="_blank" rel="noopener">MXToot</a> deserves mention in the blog, and in <a class="linkified" href="/docs/projects/try-matrix-now.html" target="_blank" rel="noopener">https://matrix.org/docs/projects/try-matrix-now.html</a> . People should not be wanting of Twitter over Decentralized-Federated F(L)OSS feeds in their Matrix room.</p>
</blockquote>
<p><a class="mx_UserPill" title="@uforia:matrix.org" data-reactroot="">uforia</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$1547186475565850IXaEN:matrix.org" rel="noopener">reports that</a>:</p>
<blockquote>
<p>in the <a href="https://github.com/koma-im/" target="_blank" rel="noopener">koma</a> project, the desktop client <a href="https://github.com/koma-im/continuum-desktop" target="_blank" rel="noopener">continuum</a> now does a full sync when the user account doesn't seem to have joined any chat rooms, this way, it can recover from some disk IO errors, or more commonly, unclean shutdowns. A ca-certificates issue with Java 11 on Debian stable was found while running a bot on a headless server, more details and the solution is in the <a href="https://github.com/koma-im/kotlin-matrix-userbots" target="_blank" rel="noopener">README</a></p>
</blockquote>
<p><a class="mx_UserPill" title="@vabd:weu.informo.network" data-reactroot="">vabd</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$1547200800194qJslv:weu.informo.network" rel="noopener">reports that</a>:</p>
<blockquote>
<p>Our first specs proposal of 2019 just landed in the form of <a href="https://github.com/Informo/specs/pull/16" target="_blank" rel="noopener">SCS #16</a>, which specifies the data/event structure for trust authorities. This is a big step as TAs play a key role in Informo's trust/reputation system!</p>
<p>In the meantime, we've also opened <a href="https://github.com/Informo/specs/pull/19" target="_blank" rel="noopener">SCS #19</a>, which proposes a rework of the specs' introduction with the idea to give newcomers a more accessible and immediate way to figure out what Informo is about, and give them some starting points so they can dive deeper into it if interested. It's a rather small one and we'd love people to give it a look so we can aim for the most newcomer-friendly version possible</p>
</blockquote>
<blockquote>
<p>We've also just opened <a href="https://github.com/Informo/specs/pull/21" target="_blank" rel="noopener">SCS #21</a> which specifies a way for a source to change the Matrix user it uses to publish articles (e.g. if it was previously using a server managed by non trustworthy people). As with all of our proposals introducing changes in behaviour, it's open for people to share their comments on it for the next 7 days.</p>
</blockquote>
<p><a class="mx_UserPill" title="@max:kamax.io" data-reactroot="">Maximus</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$154722612268rqIxJ:kamax.io" rel="noopener">reports that</a>:</p>
<blockquote>
<p>The <a href="https://github.com/kamax-matrix/mxisd/releases/tag/v1.3.0-alpha.1" target="_blank" rel="noopener">first alpha release</a> for <a href="https://github.com/kamax-matrix/mxisd" target="_blank" rel="noopener">mxisd</a> v1.3.0 has been released with already major performance improvements. Early testing and reporting about success/failure would be very much appreciated as v1.3.0 will break backward compatibility. We have been running it on our own servers for about a week now and feels really good and stable.</p>
</blockquote>
<p><a class="mx_UserPill" title="@friedger:matrix.org" data-reactroot="">Friedger Müffke</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$1547227403100378dwHlJ:matrix.org" rel="noopener">reports that</a>:</p>
<blockquote>
<p>I just launched <a href="https://chat.openintents.org">OI Chat</a>, a matrix service dedicated to Blockstack users (<a class="linkified" href="https://www.producthunt.com/posts/oi-chat" target="_blank" rel="noopener">https://www.producthunt.com/posts/oi-chat</a>).</p>
<p>It is a home server that does not rely on any passwords but on cryptography and user-owned storage.</p>
<p>OI Chat uses one-time logins to verify the ownership of a username that can only be created by the user if they control the blockstack account.</p>
</blockquote>
<p>...and that's all this week, folks!  Your normal hand-crafted artisanal benpa confectionery will be back next week.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;01&#x2F;10&#x2F;critical-security-update-synapse-0-34-0-1-synapse-0-34-1-1&#x2F;" title="Critical Security Update: Synapse 0.34.0.1&#x2F;Synapse 0.34.1.1">Critical Security Update: Synapse 0.34.0.1&#x2F;Synapse 0.34.1.1</a></h1>
            <span>
                10.01.2019 00:00
                —
                <a href="/category/security">
                    Security
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>After releasing Synapse v0.34.1, we have become aware of a security vulnerability affecting all previous versions (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-5885">CVE-2019-5885</a>). v0.34.1 closed the vulnerability but, in some cases, caused users to be logged out of their clients, so we do not recommend v0.34.1 for production use.</p>
<p><b>Today we release two mitigating versions v0.34.0.1 and v0.34.1.1</b>. Both versions close the vulnerability and will not cause users to be logged out. <b>All installations should be upgraded to one or other immediately.</b></p>
<ul>
 	<li style="font-weight: 400;">Admins who would otherwise upgrade to v0.34.1 (or those that have already done so) should upgrade to v0.34.1.1. 
</li>
 	<li style="font-weight: 400;">Admins on v0.34.0, who do not wish to bring in new non-security related behaviour, should upgrade to v0.34.0.1.
</li>
</ul>
<p>You can get the new updates for <a href="https://github.com/matrix-org/synapse/releases/tag/v0.34.0.1">v0.34.0.1</a> and <a href="https://github.com/matrix-org/synapse/releases/tag/v0.34.1.1">v0.34.1.1</a> here or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>. See also our <a href="/docs/guides/installing-synapse">Synapse installation guide page.</a></p>
<p>We will publish more details of the vulnerability once admins have had a chance to upgrade. To our knowledge the vulnerability has not been exploited in the wild.</p>
<p>Many thanks for your patience, we are moving ever closer to Synapse reaching v1.0, and fixes like this one edge us ever closer.</p>
<p>Thanks also to the package maintainers who have coordinated with us to ensure distro packages are available for a speedy upgrade!</p>
<ul>
 	<li><a href="https://github.com/matrix-org/synapse/releases/tag/v0.34.0.1">Synapse v0.34.0.1 Changelog</a></li>
 	<li><a href="https://github.com/matrix-org/synapse/releases/tag/v0.34.1.1">Synapse v0.34.1.1 Changelog</a></li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;01&#x2F;04&#x2F;this-week-in-matrix-2019-01-04&#x2F;" title="This Week in Matrix 2019-01-04">This Week in Matrix 2019-01-04</a></h1>
            <span>
                04.01.2019 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="welcome-to-2019">Welcome to 2019</h2>
<p>It's been 2019 for several days now, plenty of time to get used to it! Let's get started with the first TWIM of the year!</p>
<h2 id="matrix-live-s3e09-from-35c3">Matrix Live S3E09 from 35C3</h2>
<p>Several Matrix-ers attended 35C3 in Leipzig last month, you can check out Matrix Live recorded from the conference below (also includes some screenshots and other clips of the event), and also watch a talk given by this author titled <em><a href="https://media.ccc.de/v/35c3-9400-matrix_the_current_status_and_year_to_date">Matrix, the current status and year to date</a></em>.</p>
<iframe src="https://www.youtube.com/embed/FWlKomAY5PM" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe>
<h2 id="welcoming-jason-robinson-to-new-vector">Welcoming Jason Robinson to New Vector</h2>
<p>Decentralisation lover and Python fan Jason Robinson <a href="https://jasonrobinson.me/content/2585070/ive-always-had-a-clear-goal-with-where-i-want-to/">joins New Vector</a>!</p>
<blockquote>
<p>one of my dreams of working for a company that is a driver and leader in open source and open standards is coming true</p>
</blockquote>
<h2 id="matrix-appservice-purple">matrix-appservice-purple</h2>
<p>Hey <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>, what bridges have you worked on this week?</p>
<blockquote>
<p><a href="https://github.com/matrix-org/matrix-appservice-purple">matrix-appservice-purple</a> got soft launched on matrix.org and is happily bridging XMPP and matrix communities together. I am on full bug and feature fixing duty for it and the consensus from both sides is that it's looking pretty awesome.<br />The matrix-appservice-purple bridge is coming along leaps and bounds, with formatting fixes, presence handling and speedier message delivey both ways. Also a shoutout to the XMPP community for guidling me through the XEP landscape and giving the bridge a thorough testing. :)</p>
</blockquote>
<h2 id="riot-web-experimental">Riot Web Experimental</h2>
<p><a href="http://riot.im/experimental">Riot Web Experimental</a> was <a href="https://medium.com/@RiotChat/redesign-experimenters-needed-afa7c2d4c858">announced in a blog post last month</a>, and is ready to get some more testing! Note that the name is still &quot;experimental&quot;, but to get an image of where things are going, please give it a try!</p>
<p><strong><a href="http://riot.im/experimental">http://riot.im/experimental</a></strong></p>
<h2 id="riot-ios">Riot iOS</h2>
<blockquote>
<p>Photo sharing via the app share extension has been fixed this week.<br />At the time of writing, a new Riot iOS is baking with all bug fixes made the last month.</p>
</blockquote>
<h2 id="riot-android">Riot Android</h2>
<blockquote>
<p>Riot 0.8.21 has been released on 01/02 on the PlayStore and on F-Droid.</p>
<p>This version contains:</p>
<ul>
 	<li>A new notification troubleshoot screen with the possibility to run a diagnostic and to submit bug report. Feedbacks are already coming and we improve this screen incrementally to help users.</li>
 	<li>A new invitations counter on the group icon in the home screen</li>
 	<li>Other bug fixes</li>
</ul>
We are still working on push/notification reliability.
Riot Play Store resources have been translated into 8 languages so far: Basque, Bulgarian, Chinese (Traditional), French, German, Hungarian, Italian and Portuguese (Brazil).
</blockquote>
<h2 id="matrix-client-el-s-many-updates">matrix-client.el's many updates</h2>
<p><img src="matrix-client.el.2.png" alt="" /><a href="/blog/wp-content/uploads/2019/01/matrix-client.el_.2.png"><img class="alignnone size-full wp-image-3872" src="/blog/wp-content/uploads/2019/01/matrix-client.el_.2.png" alt="" width="960" height="527" /></a></p>
<p><a href="https://matrix.to/#/@alphapapa:matrix.org">alphapapa</a> provided many updates for <a href="https://github.com/jgkamat/matrix-client-el">matrix-client.el</a> this week, I recommend chatting in <a href="https://matrix.to/#/#matrix-client.el:matrix.org">#matrix-client.el:matrix.org</a> where the <del>cultists</del> Emacs users and client devs hang out.</p>
<blockquote>
<p>matrix-client.el gained more room sorting options and a /priority command to set room priority. It also includes a workaround for a Google Chrome drag-and-drop bug on Linux, so now Chrome users can drag-and-drop URLs, files, and images directly into room buffers to upload them.</p>
<p>matrix-client.el gained a new notifications-buffer feature that shows notifications from multiple rooms in a single list, allowing you to easily monitor multiple rooms at once and jump to events in them.<br />e.g. I can see messages from #matrix and #twim in the same window, and reply to messages in both rooms from the same prompt</p>
</blockquote>
<h2 id="koma-project-now-continuum-desktop-client-and-koma-library">koma project: now continuum-desktop (client) and koma library</h2>
<p><a href="/blog/wp-content/uploads/2019/01/continuum-desktop-1.png"><img class="alignnone size-large wp-image-3871" src="/blog/wp-content/uploads/2019/01/continuum-desktop-1-1024x670.png" alt="" width="1024" height="670" /></a>
<a href="https://matrix.to/#/@uforia:matrix.org">uforia</a> from <a href="https://github.com/koma-im">koma</a> announced that the client formerly known as koma is now <a href="https://github.com/koma-im/continuum-desktop">continuum-desktop</a>:</p>
<blockquote>
<p>in the <a href="https://github.com/koma-im">koma</a> project, the <a href="https://github.com/koma-im/continuum-desktop">desktop client</a> now has continuous integration and prebuilt packages for Mac and Linux; and you can click on image messages to <a href="https://continuum.link/screenshots/primary-preview.png">zoom in</a>. A <a href="https://github.com/koma-im/kotlin-matrix-userbots">simple weather bot</a> is created reusing the same implementation of matrix client api. Send it the name of a city, and it will fetch the current weather using openweathermap</p>
</blockquote>
<h2 id="mxisd">mxisd</h2>
<p><a href="https://matrix.to/#/@max:kamax.io">Max</a>, creator of mxisd, announced:</p>
<blockquote>
<p>All versions of <a href="https://github.com/kamax-matrix/mxisd">mxisd</a> dropped support for Riot v0.17.8, introducing <a href="https://github.com/vector-im/riot-web/issues/7922">a bug</a> affecting many of its features. Any new release integrating this PR will also be dropped of support. mxisd users are strongly encouraged to roll back to v0.17.7</p>
</blockquote>
<p>This design concern is noted by the riot-web team and is under investigation.</p>
<h2 id="dendrite-audit-progress">Dendrite audit progress</h2>
<p>Brendan on the progress of the Dendrite audit:</p>
<blockquote>
<p>Dendrite's audit is finally coming to an end! I'm happy to say I just finished the “data collection” phase, in which I looked at everything that needs to be either fixed or implemented in Dendrite. This represents 90% of the work and around 3 weeks of full-time work. All that's left to do now is some triaging in the data (<a href="https://cloud.abolivier.bzh/index.php/s/qXi2KFjCQk2c6eG">which is available here</a>, by the way), into order to have a clear view on what's left to do in the audit. Expect a lot of new issues and a shiny project board appearing on the Dendrite repository next week ?</p>
</blockquote>
<h2 id="informo-news">Informo news</h2>
<p>Informo is a project intended to enable information sharing, especially for vulnerable activists. It is enabled by Matrix. <a href="https://matrix.to/#/@vabd:weu.informo.network">vabd</a>, the mystery individual behind the project announced:</p>
<blockquote>
<p>Our <a href="https://github.com/Informo/specs-bot">specs bot</a>, which shouts in Matrix rooms when the state of a proposal to a specs project changes, got an upgrade: it now handles concurrency better, and can now send multiple messages if multiple matching labels are added to the proposal in the same action (before, it just wouldn't know what to do in such an event and would fail silently).</p>
</blockquote>
<h2 id="msc-chatbot">msc-chatbot</h2>
<p>The MSC process is <a href="/docs/spec/proposals">the formal process by which changes are submitted</a> to become part of the Matrix specification. <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> has been working on a bot to help with the process:</p>
<blockquote>
<p><a href="https://github.com/matrix-org/msc-chatbot">msc-chatbot</a> now exists. It has commands that let you view the status of current MSCs, as well as a daily summary of MSCs to keep people up to date.</p>
</blockquote>
<h2 id="matrix-minecraft-bridge">Matrix-Minecraft bridge</h2>
<p><a href="https://github.com/turt2live">TravisR</a>, as if he has time to be working on such things, has announced the revival of his Matrix-Minecraft bridge:</p>
<blockquote>
<p>I've brought my Matrix&lt;--&gt;Minecraft bridge back to life in the form of a Bukkit plugin. It's still in the very early stages of development and requires you to compile it yourself to get it, but it is a thing. Check it out on GitHub: <a href="https://github.com/turt2live/matrix-minecraft">https://github.com/turt2live/matrix-minecraft</a><br />It'll be designed to work as a public hosted bridge, so someone could use t2bot.io to bridge their minecraft server (for example)</p>
</blockquote>
<h2 id="stickerpack-dimension-migration-tool">stickerpack dimension migration tool</h2>
<p><a href="https://matrix.to/#/@dandellion:dodsorf.as">Dandellion</a> has created a tool for stickerpack creators:</p>
<blockquote>
<p>I've finished <a href="https://dali99.github.io/stickerpack-dimension-migration-tool/">https://dali99.github.io/stickerpack-dimension-migration-tool/</a> for a niceish way to make migrations files for custom stickerpacks in dimension</p>
</blockquote>
<h2 id="xmpp-as-jabber-turns-20">XMPP (as Jabber) turns 20</h2>
<p>As noted in <a href="https://xmpp.org/2019/01/the-xmpp-newsletter-4-january-2019/">The XMPP Newsletter</a>:</p>
<blockquote>
<p>Today is Jabber's 20th anniversary! Jabber would later be standardized and renamed to XMPP.</p>
</blockquote>
<p>On this subject, it's always worth thinking about the importance of openness and interoperability in messaging. This <a href="https://www.linuxjournal.com/content/lessons-vendor-lock-messaging">recent article in Linux Journal</a> is a reminder of the need to avoid proprietary vendor lock in, and mentions both XMPP and Matrix.</p>
<h2 id="we-ll-meet-again">We'll meet again…</h2>
<p>Come chat in <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your Matrix news to be featured in this post. Next Friday there will be another weekly edition, but before then expect to see an edition to the effect &quot;benpa's best-of-the-community 2018&quot;.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;12&#x2F;28&#x2F;this-week-in-matrix-2018-12-28&#x2F;" title="This Week in Matrix 2018-12-28">This Week in Matrix 2018-12-28</a></h1>
            <span>
                28.12.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="welcome-to-the-last-twim-of-the-year">Welcome to the last TWIM of the year</h2>
<p>It's the 28th of December as I write this, and I hope you had a good year. Long as it is, I recommend reading <a href="/blog/2018/12/25/the-2018-matrix-holiday-special/">Matthew's write-up of the year</a>, as it covers a lot of ground!</p>
<p>Many of the core team have been out of the office this week, but there are still plenty of updates to share from the Matrix ecosystem!</p>
<h2 id="mxisd-v1-2-2">mxisd v1.2.2</h2>
<p><a href="https://matrix.to/#/@max:kamax.io">Max</a> released mxisd v1.2.2:</p>
<blockquote>
<p><a href="https://github.com/kamax-matrix/mxisd">mxisd</a> had a Holiday-special release: <a href="https://github.com/kamax-matrix/mxisd/releases/tag/v1.2.2">v1.2.2</a> before v1.3.0.</p>
<p>This release introduces two new big features:</p>
<ul>
 	<li>Username login rewriting via 3PID to allow advanced flows, like bypassing the synapse restriction of having numerical usernames for non-guest users</li>
 	<li>Support for multiple Base DNs for LDAP backends</li>
</ul>
Work has started on v1.3.0 so this is definitely the last release before a non-backward compatible release.
</blockquote>
<h2 id="scylla">Scylla</h2>
<p><a href="https://matrix.to/#/@daniel:riot.danilafe.com">VaNilLa</a> has started a new client, a web app build in Elm:</p>
<blockquote>
<p>Hi all! I am working on a Matrix client in Elm, and I was recommended to share it here: <a href="https://github.com/DanilaFe/Scylla">Scylla</a></p>
</blockquote>
<h2 id="koma-desktop">koma-desktop</h2>
<p><a href="https://matrix.to/#/@druig:matrix.org">druig</a>:</p>
<blockquote>
<p><a href="https://github.com/koma-im/koma-desktop">koma-desktop</a> is updated to JavaFx 11 and installation is simplified. Dependencies, including native modules can be packaged into one single file, which only needs to be downloaded and run. Java Runtime 11 is the only runtime dependency. Now it's just cross-compilation that needs to be set up before packaged releases can be provided for Mac, Windows, and Linux users.</p>
</blockquote>
<h2 id="prometheus-alertmanager-bot-for-matrix">Prometheus Alertmanager bot for Matrix</h2>
<p><a href="https://matrix.to/#/@jaywink:feneas.org">Jason Robinson</a>:</p>
<blockquote>
<p>I started work on a Prometheus Alertmanager bot for Matrix. The basic idea is that Alertmanager can send webhook alert events to the bot which will then send the formatted events to configured rooms based on the alert receiver. It works, but is still early work in progress. See code and info here: <a href="https://git.feneas.org/jaywink/matrix-alertmanager">https://git.feneas.org/jaywink/matrix-alertmanager</a>.</p>
</blockquote>
<p>Also mirrored on GitHub: <a href="https://github.com/jaywink/matrix-alertmanager">https://github.com/jaywink/matrix-alertmanager</a></p>
<h2 id="fractal-4-0">Fractal 4.0</h2>
<p><a href="@afranke:matrix.org">Alexandre Franke</a>:</p>
<blockquote>
<p>As expected the Fractal team released 4.0 and is already hard at work on the next micro version. We recommend <a href="https://flathub.org/apps/details/org.gnome.Fractal">getting it from Flathub</a> like we usually do.</p>
</blockquote>
<p>From the release notes:</p>
<blockquote>
<p>New features:</p>
<ul>
 	<li>Enhanced history view with adaptive layout, day divider</li>
 	<li>Reorganised headerbar, app menu merged with user menu</li>
 	<li>Larger display of emoji-only messages</li>
 	<li>Some performance improvements</li>
 	<li>Opening a room jumps to first unread message</li>
</ul>
Bugfixes:
<ul>
 	<li>More reliable notifications</li>
 	<li>Fixed display bug for avatars</li>
</ul>
Under the hood:
<ul>
 	<li>Large code refactor</li>
 	<li>Logging infrastructure</li>
 	<li>Continuous integration</li>
 	<li>More informative build output</li>
</ul>
</blockquote>
<h2 id="maubot">maubot</h2>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> working on <a href="https://github.com/maubot/maubot">maubot</a>:</p>
<blockquote>
<p>The new command handling system in maubot is ready. The new system should be much nicer to use when developing plugins.</p>
<p>Previously <a href="https://github.com/maubot/maubot">maubot</a> had a system that was designed after the improved bot support spec proposal, but it wasn't very nice or pythonic. If/when the proposal or something similar goes through, I'll probably add support for it in the new command handling system.</p>
<p>Next I'll make some developer docs so that other people could actually make their own plugins.</p>
<p>The code is at <a href="https://github.com/maubot/maubot">https://github.com/maubot/maubot</a> and you can ask about maubot in <a href="https://matrix.to/#/#maubot:maunium.net">#maubot:maunium.net</a>.</p>
</blockquote>
<h2 id="matrix-client-el-new-features">matrix-client.el new features</h2>
<p><a href="https://matrix.to/#/@alphapapa:matrix.org">alphapapa</a>:</p>
<blockquote>
<p>Emacs makes it so easy to integrate things. Now you can send <code>org-mode</code> syntax messages with the <code>/org</code> command in <a href="https://github.com/jgkamat/matrix-client-el">matrix-client.el</a>.</p>
<p>Tab-completion of usernames and IDs was added to matrix-client.el.</p>
</blockquote>
<h2 id="matrix-to-github-app">matrix-to GitHub app</h2>
<p><a href="https://matrix.to/#/@x:riot.ovh">t3chguy</a> has come out of hiding to announce:</p>
<blockquote>
<p><a href="https://github.com/apps/matrix-to">https://github.com/apps/matrix-to</a> is a Github App which makes use of their shiny and new Content Attachments API/Webhook. When a <code>matrix.to</code> or <code>view.matrix.org</code> URL is used this app is activated. It adds a little snippet with the Room Title and Topic (if the room is peekable from matrix.org). In future it'll work for event permalinks, but currently there is no support for peeking context/event in Matrix API.</p>
<p>Example can be seen at <a href="https://github.com/matrix-org/matrix.to/issues/52#issuecomment-449878490">https://github.com/matrix-org/matrix.to/issues/52#issuecomment-449878490</a>. Idea courtesy of <a href="https://github.com/turt2live">TravisR</a>.</p>
</blockquote>
<h2 id="see-you-next-year">See you next year</h2>
<p>So there you have it.</p>
<p>I'm at 35c3 with some known characters from the Matrix world (as well as 15,000 others.) If you're here too, come visit us in our assembly, and also make sure to come to Dijkstra tomorrow to watch me present a look back at on the last year: <a href="https://fahrplan.events.ccc.de/congress/2018/Fahrplan/events/9400.html">https://fahrplan.events.ccc.de/congress/2018/Fahrplan/events/9400.html</a>. We have recorded a message for Matrix Live from 35c3, but will post tomorrow with some more footage from the event.</p>
<p>Otherwise, see you next year Matrix fan!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;12&#x2F;25&#x2F;the-2018-matrix-holiday-special&#x2F;" title="The 2018 Matrix Holiday Special!">The 2018 Matrix Holiday Special!</a></h1>
            <span>
                25.12.2018 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>It's that time again where we break out the mince pies and brandy butter (at least for those of us in the UK) and look back on the year to see how far Matrix has come, as well as anticipate what 2019 may bring!</p>
<h3 id="overview">Overview</h3>
<p>It's fair to say that 2018 has been a pretty crazy year.  We have had one overriding goal: to take the <a href="/blog/2018/01/29/status-partners-up-with-new-vector-fueling-decentralised-comms-and-the-matrix-ecosystem/">funding</a> we received in January, stabilise and freeze the protocol and get it and the reference implementations out of beta and to a 1.0 - to provide a genuinely open and decentralised mainstream alternative to the likes of Slack, Discord, WhatsApp etc.  What's so crazy about that, you might ask?</p>
<p>Well, in parallel with this we've also seen adoption of Matrix accelerating ahead of our dev plan at an unprecedented speed: with France selecting Matrix to power the communication infrastructure of its whole public sector - first <a href="/blog/2018/04/26/matrix-and-riot-confirmed-as-the-basis-for-frances-secure-instant-messenger-app/">trialling over the summer</a>, and now <a href="https://twitter.com/matrixdotorg/status/1070392608801910784">confirmed for full roll-out</a> as of a few weeks ago.  Meanwhile there are several other similar-sized projects on the horizon which we can't talk about yet.  We've had the growing pains of establishing <a href="https://vector.im">New Vector</a> as a startup in order to hire the core team and support these projects.  We've launched <a href="https://modular.im">Modular</a> to provide professional-quality SaaS Matrix hosting for the wider community and help fund the team.  And most importantly, we've also been establishing the non-profit <a href="/blog/2018/10/29/introducing-the-matrix-org-foundation-part-1-of-2/">Matrix.org Foundation</a> to formalise the open governance of the Matrix protocol and protect and isolate it from any of the for-profit work.</p>
<p>However: things have just about come together.  Almost all the spec work for 1.0 is done and we are now aiming to get a 1.0 released in time by the end of January (in time for FOSDEM).  Meanwhile Synapse has improved massively in terms of performance and stability (not least having migrated over to <a href="/blog/2018/12/21/porting-synapse-to-python-3/">Python 3</a>); Riot's spectacular redesign is now <a href="https://medium.com/@RiotChat/redesign-experimenters-needed-afa7c2d4c858">available for testing</a> right now; E2E encryption is more stable than ever with the usability rework <a href="https://github.com/matrix-org/matrix-js-sdk/compare/develop...uhoreg:e2e_cross-signing">landing</a> as we speak.  And we've even got a full rewrite of Riot/Android in the wings.</p>
<p>But it's certainly been an interesting ride.  Longer-term spec work has been delayed by needing to apply band-aids to mitigate abuse of the outstanding issues.  Riot redesign was pushed back considerably due to prioritising Riot performance over UX. The E2E UX work has forced us to consider E2E holistically… which does not always interact well with structuring the dev work into bite-sized chunks.  Dendrite has generally been idling whilst we instead pour most of our effort into getting to 1.0 on Synapse (rather than diluting 1.0 work across both projects). These tradeoffs have been hard to make, but hopefully we have chosen the correct path in the end.</p>
<p>Overall, as we approach 1.0, the project is looking better than ever - hopefully everyone has seen both Riot and Synapse using less RAM and being more responsive and stable, E2E being more reliable, and anyone who has played with the <a href="https://riot.im/experimental">Riot redesign</a> beta should agree that it is light-years ahead of yesterday's Riot and something which can genuinely surpass today's centralised proprietary incumbents. And that is unbelievably exciting :D</p>
<p>We'd like to thank everyone for continuing to support Matrix - especially our <a href="http://patreon.com/matrixdotorg">Patreon</a> &amp; <a href="http://liberapay.com/matrixdotorg">Liberapay</a> supporters, whose donations continue to be critical for helping fund the core dev team, and also those who are supporting the project indirectly by hosting homeservers with <a href="https://modular.im">Modular</a>.  We are going to do everything humanly possible to ship 1.0 over the coming weeks, and then the sky will be the limit!</p>
<p>Before going into what else 2019 will hold, however, let's take the opportunity to give a bit more detail on the various core team projects which landed in 2018…</p>
<h2 id="france">France</h2>
<p>DINSIC (France's Ministry of Digital, IT &amp; Comms) have been busy building out their massive cross-government Matrix deployment and custom Matrix client throughout most of the year.  After the <a href="/blog/2018/04/26/matrix-and-riot-confirmed-as-the-basis-for-frances-secure-instant-messenger-app/">announcement in April</a>, this started off with an initial deployment over the summer, and is now moving towards the full production rollout, as confirmed at the Paris Open Source Summit a few weeks ago by Mounir Mahjoubi, the Secretary of State of Digital.  All the press coverage about this ended up in French, with the biggest writeup being at <a href="https://www.cio-online.com/actualites/lire-mounir-mahjoubi%C2%A0-%C2%A0le-libre-n-est-pas-toujours-moins-cher-mais-c-est-toujours-plus-transparent%C2%A0-10842.html">CIO Online</a>, but the main mention of Matrix (badly translated from French) is:</p>
<p style="padding-left: 30px;"><i>Denouncing the use of tools such as WhatsApp; a practice that has become commonplace within ministerial offices, Mounir Mahjoubi announced the launch in production of Tchap, based on Matrix and Riot: an instant messaging tool that will be provided throughout the administrations. So, certainly, developing a product can have a certain cost. Integrating it too. "Free is not always cheaper but it's always more transparent," admitted the Secretary of State.
</i></p>
The project really shows off Matrix at its best, with up to 60 different deployments spread over different ministries and departments; multiple clusters per Ministry; end-to-end encryption enabled by default (complete with e2e-aware antivirus scanning); multiple networks for different classes of traffic; and the hope of federating with the public Matrix network once the S2S API is finalised and suitable border gateways are available.  It's not really our project to talk about, but we'll try to share as much info as we can as roll-out continues.
<h2 id="the-matrix-specification">The Matrix Specification</h2>
<p>A major theme throughout the year has been polishing the <a href="/docs/spec">Matrix Spec</a> itself for its first full stable release, having had more than enough time to see which bits work in practice now and which bits need rethinking.  This all kicked off with the <a href="/blog/2018/05/17/introducing-matrix-specification-changes/">creation of the Matrix Spec Change process</a> back in May, which provides a formal process for reviewing and accepting contributions from anyone into the spec.  Getting the balance right between agility and robustness has been quite tough here, especially pre-1.0 where we've needed to move rapidly to resolve the remaining long-lived sticking points.  However, a process like this risks encouraging the classic “<a href="https://en.wikipedia.org/wiki/Perfect_is_the_enemy_of_good">Perfect is the Enemy of Good</a>” problem, as all and sundry jump in to apply their particular brand of perfectionism to the spec (and/or the process around it) and risk smothering it to death with enthusiasm.  So we've ended up iterating a few times on the process and hopefully now converged on an approach which will work for 1.0 and beyond. If you haven't checked out the current <a href="/docs/spec/proposals">proposals guide</a> please give it a look, and feel free to marvel at all the MSCs in flight.  You can also see a <a href="/~richardv/proposal_news.html">quick and dirty timeline of all the MSC status changes</a> since we introduced the process, to get an idea of how it's all been progressing.</p>
<p>In August we had a big sprint to cut <a href="/blog/2018/09/03/matrix-spec-update-august-2018/">stable “r0” releases of all the APIs</a> of the spec which had not yet reached a stable release (i.e. all apart from the Client-Server API, which has been stable since Dec 2015 - hence in part the large number of usable independent Matrix clients relative to the other bits of the ecosystem).  In practice, we managed to release 3 out of the 4 remaining APIs - but needed more time to solve the remaining blocking issues with the Server-Server API. So since August (modulo operational and project distractions) we've been plugging away on the S2S API.  </p>
<p>The main blocking issue for a stable S2S API has been State Resolution. This is the fundamental algorithm used to determine the state of a given room whenever a race or partition happens between the servers participating in it.  For instance: if Alice kicks Bob on her server at the same time as Charlie ops Bob on his server, who should win? It's vital that all servers reach the same conclusion as to the state of the room, and we don't want servers to have to replicate a full copy of the room's history (which could be massive) to reach a consistent conclusion.  Matrix's original state resolution algorithm dates back to the initial usable S2S implementation at the beginning of 2015 - but over time deficiencies in the algorithm became increasingly apparent. The most obvious issue is the “<a href="https://github.com/matrix-org/synapse/issues/2432">Hotel California</a>” bug, where users can be spontaneously re-joined to a room they've previously left if the room's current state is merged with an older copy of the room on another server and the ‘wrong' version wins the conflict - a so-called state-reset.</p>
<p>After a lot of thought we ended up proposing an <a href="https://github.com/matrix-org/matrix-doc/blob/erikj/state_res_rejections/proposals/1442-state-resolution.md">all new State Resolution algorithm</a> in July 2018, nicknamed State Resolution Reloaded.  This extends the original algorithm to consider the ‘auth chain' of state events when performing state resolution (i.e. the sequence of events that a given state event cites as evidence of its validity) - as well as addressing a bunch of other issues.  For those wishing to understand in more detail, there's <a href="https://github.com/matrix-org/matrix-doc/blob/erikj/state_res_rejections/proposals/1442-state-resolution.md">the MSC</a> itself, the formal terse description of the algorithm now merged into the <a href="/docs/spec/server_server/unstable.html#state-resolution-algorithm-for-version-2-rooms">unstable S2S spec</a> - or alternatively there's an excellent <a href="https://matrix.uhoreg.ca/stateres/reloaded.html">step-by-step explanation and guided example</a> from uhoreg (warning: contains Haskell :)  Or you can watch Erik and Matthew try to explain it all on <a href="https://youtu.be/f6ZdmPSUUBA">Matrix Live</a> back in July.</p>
<p>Since the initial proposal in July, the algorithm has been proofed out in a <a href="https://github.com/matrix-org/matrix-test-state-resolution-ideas">test jig</a>, iterated on some more to better specify <a href="https://github.com/matrix-org/matrix-doc/pull/1693">how to handle rejected events</a>, <a href="https://github.com/matrix-org/synapse/pull/4040">implemented in Synapse</a>, and is now ready to roll.  The only catch is that to upgrade to it we've had to introduce the concept of <a href="https://github.com/matrix-org/matrix-doc/pull/1516/files">room versioning</a>, and to flush out historical issues we require you to <a href="https://github.com/matrix-org/matrix-doc/blob/rav/room_upgrades/proposals/1501-room-version-upgrades.md">re-create rooms to upgrade them</a> to the new resolution algorithm. Getting the logistics in place for this is a massive pain, but we've got an approach now which should be sufficient. Clients will be free to smooth over the transition in the UI as gracefully as possible (and in fact Riot has this already hooked up).  So: watch this space as v2 rooms with all-new state resolution in the coming weeks!</p>
<p>Otherwise, there are a bunch of other issues in the S2S API which we are still working through (e.g. <a href="https://github.com/matrix-org/matrix-doc/blob/erikj/event_id_hashes/proposals/1640-event-id-as-hashes.md">changing event IDs to be hashes</a> of event contents to avoid lying about IDs, <a href="https://github.com/matrix-org/matrix-doc/pull/1711">switching to use normal X.509 certificates for federation</a> and so resolve problems with Perspectives, etc).  </p>
<p>Once these land and are implemented in Synapse over the coming weeks, we will be able to finally declare a 1.0!</p>
<p>Also on the spec side of things, it's worth noting that a lot of effort went into improving performance for clients in the form of the <a href="https://github.com/matrix-org/matrix-doc/issues/1227">Lazy Loading Members MSC</a>.  This ended up consuming a lot of time over the summer as we updated Synapse and the various matrix-*-sdks (and thus Riot) to only calculate and send details to the clients about members who are currently talking in a room, whereas previously we sent the entire state of the room to the client (even including users who had left). The end result however is a 3-5x reduction in RAM on Riot, and a 3-5x speedup on initial sync.  The current MSC is currently being <a href="https://github.com/matrix-org/matrix-doc/pull/1758">merged as we speak</a> into the main spec (thanks Kitsune!) for inclusion in upcoming CS API 0.5.</p>
<h2 id="the-matrix-org-foundation-cic">The Matrix.org Foundation (CIC!)</h2>
<p>Alongside getting the open spec process up and running, we've been establishing The Matrix.org Foundation as an independent non-profit legal entity responsible for neutrally safeguarding the Matrix spec and evolution of the protocol.  This kicked off in June with the “<a href="/blog/2018/06/20/towards-open-governance-for-matrix-org/">Towards Open Governance</a>” blog post, and continued with the <a href="/blog/2018/10/29/introducing-the-matrix-org-foundation-part-1-of-2/">formal incorporation</a> of The Matrix.org Foundation in October.  Since then, we've spent a lot of time with the non-profit lawyers evolving <a href="https://github.com/matrix-org/matrix-doc/issues/1318">MSC1318</a> into the final Articles of Association (and other guidelines) for the Foundation.  This work is basically solved now; it just needs MSC1318 to be updated with the conclusions (which we're running late on, but is top of Matthew's MSC todo list).</p>
<p>In other news, we have confirmation that the <a href="https://en.wikipedia.org/wiki/Community_interest_company">Community Interest Company</a> (CIC) status for The Matrix.org Foundation has been approved - this means that the CIC Regulator has independently reviewed the initial Articles of Association and approved that they indeed lock the mission of the Foundation to be non-profit and to act solely for the good of the wider online community.  In practice, this means that the Foundation will be formally renamed The Matrix.org Foundation C.I.C, and provides a useful independent safeguard to ensure the Foundation remains on track.</p>
<p>The remaining work on the Foundation is:</p>
<ul>
 	<li style="font-weight: 400;">Update and land MSC1318, particularly on clarifying the relationship between the legal Guardians (Directors) of the Foundation and the technical members of the core spec team, and how funds of the Foundation will be handled.
</li>
 	<li style="font-weight: 400;">Update the Articles of Association of the Foundation based on the end result of MSC1318
</li>
 	<li style="font-weight: 400;">Transfer any Matrix.org assets over from New Vector to the Foundation.  Given Matrix's code is all open source, there isn't much in the way of assets - we're basically talking about the matrix.org domain and website itself.
</li>
 	<li style="font-weight: 400;">Introduce the final Guardians for the Foundation.
</li>
</ul>
We'll keep you posted with progress as this lands over the coming months.
<h2 id="riot">Riot</h2>
<p>2018 has been a bit of a chrysalis year for Riot: the vast majority of work has been going into the <a href="https://medium.com/@RiotChat/a-sneak-peek-at-a-whole-new-riot-im-1114df653782">massive redesign</a> we started in May to improve usability &amp; cosmetics, performance, stability, and E2E encryption usability improvements.  We've consciously spent most of the year feature frozen in order to polish what we already have, as we've certainly been guilty in the past of landing way too many features without necessarily applying the needed amount of UX polish.</p>
<p>However, as of today, we're super-excited to announce that Riot's redesign is at the point where the intrepid can start experimenting with it - in fact, internally most of the team has switched over to dogfooding (testing) the redesign as of a week or so ago.  Just shut down your current copy of Riot/Web or Desktop and go to <a href="https://riot.im/experimental">https://riot.im/experimental</a> instead if you want to experiment (we don't recommend running both at the same time).  Please note that it is still work-in-progress and there's a lot of polish still to land and some cosmetic bugs still hanging around, but it's definitely at the point of feeling better than the old app.  Most importantly, please provide feedback (by hitting the lifesaver-ring button at the bottom left) to let us know how you get on. See the <a href="https://medium.com/@RiotChat/redesign-experimenters-needed-afa7c2d4c858">Riot blog</a> for more details!</p>
<p><a href="/blog/wp-content/uploads/2018/12/Screenshot-2018-12-25-at-04.00.44.png"><img class="aligncenter size-large wp-image-3854" src="/blog/wp-content/uploads/2018/12/Screenshot-2018-12-25-at-04.00.44-1024x578.png" alt="" width="1024" height="578" /></a></p>
<p>Meanwhile, on the performance and stability side of things - Lazy Loading (see above) made a <a href="https://medium.com/@RiotChat/riot-im-web-0-17-and-ios-0-7-6-smaller-footprint-faster-launch-5ddd18a65abb">massive difference</a> to performance on all platforms; shrinking RAM usage by 3-5x and similarly speeding up launch and initial sync times.  Ironically, this ended up pushing back the redesign work, but hopefully the performance improvements will have been noticeable in the interim.  We also <a href="https://github.com/vector-im/riot-web/issues/6477">switched</a> the entire rich text composer from using Facebook's <a href="https://draftjs.org/">Draft.js</a> library to instead use <a href="https://www.slatejs.org">Slate.js</a> (which has generally been a massive improvement for stability and maintainability, although took <em><a href="https://github.com/matrix-org/matrix-react-sdk/pull/1890">ages</a></em> to land - huge thanks to t3chguy for getting it over the line). Meanwhile Travis has been blitzing through a massive list of key “<a href="https://github.com/vector-im/riot-web/projects/12">First Impression</a>” bugs to ensure that as many of Riot's most glaring usability gotchas are solved.</p>
<p>We also welcomed ever-popular <a href="https://medium.com/@RiotChat/stickers-are-here-introducing-riot-im-0-15-for-web-desktop-284c32b93acc">Stickers</a> to the fold - the first instance of per-account rather than per-room widgets, which ended up requiring a lot of new infrastructure in both Riot and the underlying integration manager responsible for hosting the widgets.  But judging by how popular they are, the effort seems to be worth it - and paves the way for much more exciting interactive widgets and integrations in future!</p>
<p>An unexpectedly large detour/distraction came in the form of GDPR back in May - we spent a month or so running around ensuring that both Riot and Matrix are GDPR compliant (including the necessary legal legwork to establish how GDPR even applies to a decentralised technology like Matrix).  If you missed all that fun, you can <a href="/blog/2018/05/08/gdpr-compliance-in-matrix/">read about it here</a>.  Hopefully we won't have to do anything like that again any time soon...</p>
<p>And finally: on the mobile side, much of the team has been distracted helping out France with their Matrix deployment.  However, we've been plugging away on Riot/Mobile, keeping pace with the development on Riot/Web - but most excitingly, we've also found time to experiment with a <a href="https://github.com/vector-im/riot-android-redesign-PoC/tree/develop">complete rewrite of Riot/Android</a> in Kotlin, using Realm and Rx (currently nicknamed Riot X).  The rewrite was originally intended as a test-jig for experimenting with the redesign on mobile, but it's increasingly becoming a fully fledged Matrix client… which launches and syncs over 5x faster than today's Riot/Android.  If you're particularly intrepid you should be able to run the app by checking out the project in Android Studio and hitting ‘run'. We expect the rewrite to land properly in the coming months - watch this space for progress!</p>
<h2 id="e2e-encryption">E2E Encryption</h2>
<p>One of the biggest projects this year has been to get E2E encryption out of beta and <a href="https://github.com/vector-im/riot-web/issues/6779">turned on by default</a>.  Now, whilst the encryption itself in Matrix has been <a href="/blog/2016/11/21/matrixs-olm-end-to-end-encryption-security-assessment-released-and-implemented-cross-platform-on-riot-at-last/">cryptographically robust</a> since 2016 - its usability has been minimal at best, and we'd been running around polishing the underlying implementation rather than addressing the UX.  However, this year that changed, as we opened a war on about 6 concurrent battlefronts to address the remaining issues. These are:</p>
<ul>
 	<li style="font-weight: 400;">Holistic UX.  Designing a coherent, design-led UX across all of the encryption and key-management functionality.  Nad (who joined Matrix as a fulltime Lead UI/UX designer in August) has been leading the charge on this - you can see a <a href="/blog/2018/11/02/user-experience-preview-end-to-end-encryption-by-default/">preview of the end result</a><span style="font-weight: 400;"> here.  Meanwhile, Dave and Ryan are working through implementing it as we speak.
</span>
</li>
 	<li style="font-weight: 400;">Decryption failures (UISIs).  Whenever something goes wrong with E2E encryption, the symptoms are generally the same: you find yourself unable to decrypt other people's messages.  We've been plugging away chasing these down - for instance, <a href="https://github.com/matrix-org/matrix-js-sdk/pull/597">switching from localStorage to IndexedDB</a> in Riot/Web for storing encryption state (to make it harder for multiple tabs to collide and corrupt your encryption state); providing mechanisms to <a href="https://github.com/matrix-org/matrix-js-sdk/pull/780">unwedge Olm sessions</a><span style="font-weight: 400;"> which have got corrupted (e.g. by restoring from backup); and many others.  We also added full telemetry to track the number of UISIs people are seeing in practice - and the good news is that over the course of the year their occurrence has been steadily reducing.  The bad news is that there are still some edge cases left: so please, whenever you fail to decrypt a message, please make sure you submit a bug report and debug logs from *both* the sender and receiving device.  The end is definitely in sight on these, however, and good news is other battlefronts will also help mitigate UISIs.
</span>
</li>
 	<li style="font-weight: 400;">Incremental Key Backup.  Previously, if you only used one device (e.g. your phone) and you lost that phone, you would lose all your E2E history unless you were in the habit of explicitly manually backing up your keys.  Nowadays, we have the ability to optionally let users encrypt their keys with a passphrase (or recovery key) and <a href="https://github.com/matrix-org/matrix-doc/pull/1703">constantly upload them to the server</a> for safe keeping.  This was a significant chunk of work, but has actually <a href="https://github.com/matrix-org/matrix-react-sdk/pull/2169">landed already</a><span style="font-weight: 400;"> in Riot/Web and Riot/iOS, but is hidden behind a “Labs” feature flag in Settings whilst we test it and sort out the final UX.
</span>
</li>
 	<li style="font-weight: 400;">Cross-signing Keys. Previously, the only way to check whether you were talking to a legitimate user or an imposter was to independently compare the fingerprints of the keys of the device they claim to be using.  In the near future, we will let users prove that they own their devices by <a href="https://github.com/matrix-org/matrix-doc/pull/1756">signing them with a per-user identity key</a>, so you only have to do this check once. We've actually <a href="https://github.com/matrix-org/matrix-js-sdk/pull/795">already implemented</a> one iteration of cross-signing, but this <a href="https://github.com/matrix-org/matrix-doc/issues/1680">allowed arbitrary devices for a given user to attest each other</a><span style="font-weight: 400;"> (which creates a directed graph of attestations, and associated problems with revocations), hence switching to a simpler approach.
</span>
</li>
 	<li style="font-weight: 400;">Improved Verification. Verifying keys by manually comparing elliptic key fingerprints is incredibly cumbersome and tedious.  Instead, we have proposals for using <a href="https://github.com/matrix-org/matrix-doc/issues/1267">Short Authentication String</a> comparisons and <a href="https://github.com/matrix-org/matrix-doc/issues/1543">QR-code scanning</a><span style="font-weight: 400;"><span style="font-weight: 400;"> to simplify the process.  uhoreg is currently implementing these as we speak :)
</span>
</span>
</li>
 	<li style="font-weight: 400;">Search.  Solving encrypted search is Hard, but t3chguy did a lot of work earlier in the year to build out <a href="https://github.com/matrix-org/matrix-search">matrix-search</a>: essentially a js-sdk bot which you can host, hand your keys to, and will archive your history using a golang full-text search engine (bleve) and expose a search interface that replaces Synapse's default one.  Of all the battlefronts this one is progressing the least right now, but the hope is to integrate it into Riot/Desktop or other clients so that folks who want to index all their conversations have the means to do so.  On the plus side, all the necessary building blocks are available thanks to t3chguy's hacking.
</li>
</ul>
So, TL;DR: E2E is hard, but the end is in sight thanks to a lot of blood, sweat and tears.  It's possible that we may have opened up too many battlefronts in finishing it off rather than landing stuff gradually.  But it should be transformative when it all lands - and we'll finally be able to turn it on by default for private conversations.  Again, we're aiming to pull this together by the end of January.
<p>Separately, we've been keeping a close eye on <a href="https://datatracker.ietf.org/wg/mls/about/">MLS</a> - the IETF's activity around standardising scalable group E2E encryption.  MLS has a lot of potential and could provide algorithmic improvements over Olm &amp; Megolm (whist paving the way for interop with other MLS-encrypted comms systems).  But it's also quite complicated, and is at risk of designing out support of decentralised environments. For now, we're obviously focusing on ensuring that Matrix is rock solid with Olm &amp; Megolm, but once we hit that 1.0 we'll certainly be experimenting a bit with MLS too.</p>
<h2 id="homeservers">Homeservers</h2>
<p>The story of the Synapse team in 2018 has been one of alternating between solving scaling and performance issues to support the ever-growing network (especially the massive matrix.org server)... and dealing with S2S API issues; both in terms of fixing the design of State Resolution, Room Versioning etc (see the Spec section above) and doing stop-gap fixes to the current implementation.</p>
<p>Focusing on the performance side of things, the main wins have been:</p>
<ul>
 	<li style="font-weight: 400;"><span style="font-weight: 400;">Splitting yet more functionality out into worker processes which can scale independently of the master Synapse process.
</span>
</li>
 	<li style="font-weight: 400;"><span style="font-weight: 400;"><span style="font-weight: 400;">Yet more profiling and optimisation (particularly caching).  Between this and the worker split-out we were able to resolve the performance ceiling that we hit over the summer, and as of right now matrix.org feels relatively snappy.
</span>
</span>
</li>
 	<li style="font-weight: 400;"><span style="font-weight: 400;">Lazy Loading Members.
</span>
</li>
 	<li style="font-weight: 400;"><a href="/blog/2018/12/21/porting-synapse-to-python-3/">Python 3</a>.  As everyone should have seen by now, Synapse is now Python 3 by default as of 0.34, which provides significant RAM and CPU improvements across the board as well as a path forwards given Python 2's planned demise at the end of 2019.  If you're not running your Synapse on Python 3 today, you are officially doing it wrong.
</li>
</ul>
There are also some major improvements which haven't fully landed yet:
<span style="font-weight: 400;">
</span>
<ul>
 	<li style="font-weight: 400;">State compression.  We have a new algorithm for storing room state which is ~10x more efficient than the current one.  We'll be migrating to it in by default in future. If you're feeling particularly intrepid you can actually <a href="https://github.com/matrix-org/rust-synapse-compress-state">manually use it today</a><span style="font-weight: 400;"> (but we don't recommend it yet).
</span>
</li>
 	<li style="font-weight: 400;">Incremental state resolution.  Before we got sucked into redesigning state resolution in general, Erik came up with a <a href="/_matrix/media/v1/download/jki.re/ubNfLtrmXZMmlGjJZYPnlHHy">proof that it's possible to memoize state resolution</a><span style="font-weight: 400;"> and incrementally calculate it whenever state is resolved in a room rather than recalculate it from scratch each time (as is the current implementation).  This would be a significant performance improvement, given non-incremental state res can consume a lot of CPU (making everything slow down when there are lots of room extremities to resolve), and can consume a lot of RAM and has been one of the reasons that synapse's RAM usage can sometimes spike badly. The good news is that the new state res algorithm was designed to also work in this manner.  The bad news is that we haven't yet got back to implementing it yet, given the new algorithm is only just being rolled out now.
</span>
</li>
 	<li style="font-weight: 400;"><a href="https://github.com/matrix-org/matrix-doc/issues/1229">Chunks</a>.  Currently, Synapse models all events in a room as being part of a single DAG, which can be problematic if you can see lots of disconnected sections of the DAG (e.g. due to intermittent connectivity somewhere in the network), as Synapse will frantically try to resolve all these disconnected sections of DAG together.  Instead, a better solution is to explicitly model these sections of DAG as separate entities called Chunks, and not try to resolve state between disconnected Chunks but instead consider them independent fragments of the room - and thus simplify state resolution calculations significantly. It also fixes an S2S API design flaw where previously we trusted the server to state the ordering (depth) of events they provided; with chunks, the receiving server can keep track of that itself by tracking a DAG of chunks (as well as the normal event DAG within the chunks).  Now, most of the work for this happened already, but is <a href="https://github.com/matrix-org/synapse/issues/3785">currently parked</a> until new state res has landed.
</li>
</ul>
Meanwhile, over on Dendrite, we made the conscious decision to get 1.0 out the door on Synapse first rather than trying to implement and iterate on the stuff needed for 1.0 on both Synapse & Dendrite simultaneously.  However, Dendrite has been ticking along thanks to work from Brendan, Anoa and APWhitehat - and the plan is to use it for more niche homeserver work at first; e.g. constrained resource devices (Dendrite uses 5-10x less RAM than Synapse on Py3), clientside homeservers, experimental routing deployments, etc.  In the longer term we expect it to grow into a fully fledged HS though!
<h2 id="bridging">Bridging</h2>
<p>2018 was a bit of a renaissance for Bridging, largely thanks to Half-Shot coming on board in the Summer to work on IRC bridging and finally get to the bottom of the stability issues which plagued Freenode for the previous, uh, few years.  Meanwhile the Slack bridge got its first ever release - and more recently there's some Really Exciting Stuff happening with <a href="https://github.com/matrix-org/matrix-appservice-purple">matrix-appservice-purple</a>; a properly usable bridge through to any protocol that libpurple can speak… and as of a few days ago also supports <em>native</em> XMPP bridging via XMPP.js.  There'll probably be a dedicated blogpost about all of this in the new year, especially when we deploy it all on Matrix.org. Until then, the best bet is to learn more is to watch <a href="https://youtu.be/B0faoVdw0ak">last week's Matrix Live</a> and hear it all first hand.</p>
<h2 id="modular">Modular</h2>
<p>One of the biggest newcomers of 2018 was the launch of <a href="https://modular.im">Modular.im</a> in October - the world's first commercial Matrix hosting service.  Whilst (like Riot), Modular isn't strictly-speaking a Matrix.org project - it feels appropriate to mention it here, not least because it's helping directly fund the core Matrix dev team.</p>
<p>So far Modular has seen a lot of interest from folks who want to spin up a super-speedy dedicated homeserver run by us rather than having to spend the time to build one themselves - or folks who have yet to migrate from IRC and want a better-than-IRC experience which still bridges well.  One of the nice bits is that the servers are still decentralised and completely operationally independent of one another, and there have been a bunch of really nice refinements since launch, including the ability to point your own DNS at the server; matrix-&gt;matrix migration tools; with custom branding and other goodness coming soon.  If you want one-click Matrix hosting, please give Modular a go :) </p>
<p>Right now we're promoting Modular mainly to existing Matrix users, but once the Riot redesign is finished you should expect to see some very familiar names popping up on the platform :D</p>
<h2 id="twim">TWIM</h2>
<p>Unless you were living under a rock, you'll hopefully have also realised that 2018 was the year that brought us <a href="/blog/category/general/this-week-in-matrix/">This Week In Matrix</a> (TWIM) - our very own blog tracking all the action across the whole Matrix community on a weekly basis.  Thank you to everyone who contributes updates, and to Ben for editing it each week. Go flip through the archives to find out what's been going on in the wider community over the course of the year!  (This blog post is already way too long without trying to cover the rest of the ecosystem too :)</p>
<h2 id="shapes-of-things-to-come">Shapes of Things to Come</h2>
<p>Finally, a little Easter egg (it is Christmas, after all) for anyone crazy enough to have read this far: The eagle-eyed amongst you might have noticed that one of our accepted talks for FOSDEM 2019 is “<a href="https://fosdem.org/2019/schedule/event/matrix/">Breaking the 100bps barrier with Matrix</a>” in the Real Time Communications devroom.  We don't want to spoil the full surprise, but here's a quick preview of some of the more exotic <a href="https://en.wikipedia.org/wiki/Skunkworks_project">skunkworks</a> we've been doing on low-bandwidth routing and transports recently.  Right now it shamelessly assumes that you're running within a trusted network, but once we solve that it will of course be be proposed as an MSC for Matrix proper.  A full write-up and code will follow, but for now, here's a mysterious video…</p>
<div><iframe src="https://www.youtube.com/embed/vimXuCTxV6k" frameBorder="0" allowFullScreen="allowfullscreen"></iframe></div>
<p>(If you're interested in running Matrix over low-bandwidth networks, please <a href="https://matrix.to/#/@matthew:matrix.org">get in touch</a> - we'd love to hear from you...)</p>
<h2 id="2019">2019</h2>
<p>So, what will 2019 bring?</p>
<p>In the short term, as should be obvious from the above, our focus is on:</p>
<ul>
 	<li style="font-weight: 400;">r0 spec releases across the board (aka Matrix 1.0)
</li>
 	<li style="font-weight: 400;">Implementing them in Synapse
</li>
 	<li style="font-weight: 400;">Landing the Riot redesign
</li>
 	<li style="font-weight: 400;">Landing all the new E2E encryption UX and features
</li>
 	<li style="font-weight: 400;">Finalising the Matrix.org Foundation
</li>
</ul>
However, beyond that, there's a lot of possible options on the table in the medium term:
<ul>
 	<li style="font-weight: 400;">Reworking and improving Communities/Groups.
</li>
 	<li style="font-weight: 400;">Reactions.
</li>
 	<li style="font-weight: 400;">E2E-encrypted Search
</li>
 	<li style="font-weight: 400;">Filtering. (empowering users to filter out rooms & content they're not interested in).
</li>
 	<li style="font-weight: 400;">Extensible events.
</li>
 	<li style="font-weight: 400;">Editable messages.
</li>
 	<li style="font-weight: 400;">Extensible Profiles (we've actually been experimenting with this already).
</li>
 	<li style="font-weight: 400;">Threading.
</li>
 	<li style="font-weight: 400;">Landing the Riot/Android rewrite
</li>
 	<li style="font-weight: 400;">Scaling synapse via sharding the master process
</li>
 	<li style="font-weight: 400;">Bridge UI for discovery of users/rooms and bridge status
</li>
 	<li style="font-weight: 400;">Considering whether to do a similar overhaul of Riot/iOS
</li>
 	<li style="font-weight: 400;">Bandwidth-efficient transports
</li>
 	<li style="font-weight: 400;">Bandwidth-efficient routing
</li>
 	<li style="font-weight: 400;">Getting Dendrite to production.
</li>
 	<li style="font-weight: 400;">Inline widgets (polls etc)
</li>
</ul>
<ul>
 	<li style="font-weight: 400;">Improving VoIP over Matrix.
</li>
</ul>
<ul>
 	<li style="font-weight: 400;">Adding more bridges, and improving the current ones..
</li>
 	<li style="font-weight: 400;">Account portability
</li>
 	<li style="font-weight: 400;">Replacing MXIDs with public keys
</li>
</ul>
In the longer term, options include:
<ul>
 	<li style="font-weight: 400;">Shared-code cross-platform client SDKs (e.g. sharing a native core library between matrix-{'{'}js,ios,android{'}'}-sdk)
</li>
 	<li style="font-weight: 400;">Matrix daemons (e.g. running an always-on client as a background process in your OS which apps can connect to via a lightweight CS API)
</li>
 	<li style="font-weight: 400;">Push notifications via Matrix (using a daemon-style architecture)
</li>
 	<li style="font-weight: 400;">Clientside homeservers (i.e. p2p matrix) - e.g. compiling Dendrite to WASM and running it in a service worker.
</li>
 	<li style="font-weight: 400;">Experimenting with MLS for E2E Encryption
</li>
 	<li style="font-weight: 400;">Storing and querying more generic data structures in Matrix (e.g. object trees; scene graphs)
</li>
 	<li style="font-weight: 400;">Alternate use cases for VR, IoT, etc.
</li>
</ul>
Obviously we're not remotely going to do all of that in 2019, but this serves to give a taste of the possibilities on the menu post-1.0; we'll endeavour to publish a more solid roadmap when we get to that point.
<p>And on that note, it's time to call this blogpost to a close. Thanks to anyone who read this far, and thank you, as always, for flying Matrix and continuing to support the project.  The next few months should be particularly fun; all the preparation of 2018 will finally pay off :)</p>
<p>Happy holidays,</p>
<p>Matthew, Amandine &amp; the whole Matrix.org team.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;12&#x2F;21&#x2F;porting-synapse-to-python-3&#x2F;" title="Porting Synapse to Python 3">Porting Synapse to Python 3</a></h1>
            <span>
                21.12.2018 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>Matrix's reference homeserver, Synapse, is written in Python and uses the Twisted networking framework to power its bitslinging across the Internet. The Python version used has been strictly Python 2.7, the last supported version of Python 2, but as of this week that changes! Since Twisted and our other upstream dependencies now support the newest version of Python, Python 3, we are now able to finish the jump and port Synapse to use it by default. The port has been done in a backwards compatible way, written in a subset of Python that is usable in both Python 2 and Python 3, meaning your existing Synapse installs still work on Python 2, while preparing us for a Python 3 future.</p>
<h2 id="why-port">Why port?</h2>
<p>Porting Synapse to Python 3 prepares Synapse for a post-Python 2 world, currently scheduled for 2020. After the 1st of January in 2020, Python 2 will no longer be supported by the core Python developers and no bugfixes (even critical security ones) will be issued. As the security of software depends very much on the runtime and libraries it is running on top of, this means that by then all Python 2 software in use should have moved to Python 3 or other runtimes.</p>
<p>The Python 3 port has benefits other than just preparing for the End of Life of Python 2.7. Successive versions of Python 3 have improved the standard library, provided newer and clearer syntax for asynchronous code, added opt-in static typing to reduce bugs, and contained incremental performance and memory management improvements. These features, once Synapse stops supporting Python 2, can then be fully utilised to make Synapse's codebase clearer and more performant. One bonus that we get immediately, though, is Python 3's memory compaction of Unicode strings. Rather than storing as UCS-2/UTF-16 or UCS-4/UTF-32, it will instead store it in the smallest possible representation giving a 50%-75% memory improvement for strings only containing Latin-1 characters, such as nearly all dictionary keys, hashes, IDs, and a large proportion of messages being processed from English speaking countries. Non-English text will also see a memory improvement, as it can be commonly stored in only two bytes instead of the four in a UCS-4 “wide” Python 2 build.</p>
<p><i>Editor's note: If you were wondering how this fits in with Dendrite (the next-gen golang homeserver): our plan is to use Synapse as the reference homeserver for all the current work going on with landing a 1.0 release of the Matrix spec: it makes no sense to try to iterate and converge on 1.0 on both Synapse and Dendrite in parallel. In order to prove that the 1.0 spec is indeed fit for purpose we then also need Synapse to exit beta and hit a 1.0 too, hence the investment to get it there. It's worth noting that over the last year we've been plugging away solidly improving Synapse in general (especially given the increasing number of high-profile deployments out there), so we're committed to getting Synapse to a formal production grade release and supporting it in the long term. Meanwhile, Dendrite development is still progressing - currently acting as a place to experiment with more radical blue-sky architectural changes, especially in low-footprint or even clientside homeservers. We expect it to catch up with Synapse once 1.0 is out the door; and meanwhile Synapse is increasingly benefiting from performance work inspired by Dendrite.
</i></p>
<h2 id="when-will-the-port-be-released">When will the port be released?</h2>
<p>The port is has been released in a “production ready” form in <a href="/blog/2018/12/20/synapse-0-34-0-released/">Synapse 0.34.0</a>, supporting Python 3.5, 3.6, and 3.7. This will work on installations with and without workers.</p>
<h2 id="what-s-it-like-in-the-real-world">What's it like in the real world?</h2>
<p>Beta testers of the Python 3 port have reported lower memory usage, including lower memory “spikes” and slower memory growth. You can see this demonstrated on matrix.org:</p>
<p><a href="/blog/wp-content/uploads/2018/12/image3.png"><img class="alignnone size-large wp-image-3830" src="/blog/wp-content/uploads/2018/12/image3-1024x223.png" alt="" width="1024" height="223" /></a></p>
<p>See 10/15, ~20:00 for the Python 3 migration. This is on some of the Synchrotrons on matrix.org.</p>
<p><a href="/blog/wp-content/uploads/2018/12/image1.png"><img class="alignnone size-large wp-image-3824" src="/blog/wp-content/uploads/2018/12/image1-1024x237.png" alt="" width="1024" height="237" /></a></p>
<p>See ~11/8 for the Python 3 migration. This is on the Synapse master on matrix.org.</p>
<p>We have also noticed some better CPU utilisation:</p>
<p><span style="font-weight: 400;"><a href="/blog/wp-content/uploads/2018/12/image2.png"><img class="alignnone size-large wp-image-3822" src="/blog/wp-content/uploads/2018/12/image2-1024x296.png" alt="" width="1024" height="296" /></a>
</span>
See 21:30 for the migration of federation reader 1, and 21:55 for the others. The federation reader is a particular pathological case, where the replacement of lists with iterators internally on Python 3 has given us some big boosts.</p>
<p><a href="/blog/wp-content/uploads/2018/12/image4.png"><img class="alignnone size-large wp-image-3829" src="/blog/wp-content/uploads/2018/12/image4-1024x296.png" alt="" width="1024" height="296" /></a></p>
<p>See 10/15, 4:00.The CPU utilisation has gone down on synchrotron 1 after the Python 3 migration, but not as dramatically as the federation reader. Synchrotron 3 was migrated a few days later.</p>
<p>As some extra data-points, my personal HS consumes about 300MB now at initial start, and grows to approximately 800MB -- under Python 2 the growth would be near-immediate to roughly 1.4GB.</p>
<h2 id="where-to-from-here">Where to from here?</h2>
<p>Python 2 is still a supported platform for running Synapse for the time being. We plan on ending mainstream support on 1st April 2019, where upon Python 3.5+ will be the only officially supported platform. Additionally, we will give notice ahead of time once we are ready to remove Python 2.7 compatibility from the codebase (which will be no sooner than 1st April). Although slightly inconvenient, we hope that this gives our users and integrators adequate time to migrate, whilst giving us the flexibility to use modern Python features and make Synapse a better piece of software to help power the Matrix community.</p>
<h2 id="how-can-i-try-it">How can I try it?</h2>
<p>The port is compatible with existing homeservers and configurations, so if you install Synapse inside a Python 3 virtualenv, you can run it from there. Of course, this differs based on your installation method, operating system, and what version of Python 3 you wish to use. Full upgrade notes live <a href="https://github.com/matrix-org/synapse/blob/release-v0.34.0/UPGRADE.rst#upgrading-to-v0340">here</a> but if you're having problems or want to discuss specific packagings of Synapse please come ask in <a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a>.</p>
<h2 id="thanks">Thanks</h2>
<p>Many thanks go to fellow Synapse developers Erik and Rich for code review, as well as community contributors such as notafile and krombel for laying the foundations many months ago allowing this port to happen. Without them, this wouldn't have happened.</p>
<p>Happy Matrixing,</p>
<p>Amber Brown (hawkowl)</p>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;42&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">43 / 67</span>
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;44&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
