<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href="/style.css" />

    

<meta name="description" content="The Matrix.org Foundation blod is where the Matrix Foundation and Community
post updates on their activity. Every Friday evening they publish This Week In
Matrix, a digest of the past week activity.
">

</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;integrations&#x2F;">Integrations</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;05&#x2F;19&#x2F;synapse-1-13-0-released&#x2F;" title="Synapse 1.13.0 released">Synapse 1.13.0 released</a></h1>
            <span>
                19.05.2020 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Synapse 1.13.0 is here and it's a whopper!</p>
<p>Highlights include new support for User Interactive Authentication (UIA) for Single Sign-on (SSO) installations. This means that for the first time features that require the user to re-authenticate are available for servers that authenticate by SSO. Notably this means that these servers now support cross signing!</p>
<p>SSO admins should take a look at the SSO notes in the changelog.</p>
<p>We have been working hard on performance for large scale installations. Anyone supporting more than a few thousand users is probably running Synapse in worker mode. This means splitting out functionality from the master process and making use of multiple cores (or machines) to spread the load. Cross process communication was previously handled by a home grown TCP based replication protocol. As part of our ongoing efforts to improve performance we have replaced this replication system with Redis and have been running Redis in production on matrix.org for the past 2 weeks.</p>
<p>Redis itself does not provide a significant performance win directly but it means that it is much less expensive to add new workers to a cluster. The topology of the old system meant that every additional worker carried a small but not insignificant overhead to the master process. Since moving to Redis we have doubled the number of workers backing matrix.org.</p>
<p>We still consider Redis to be experimental and admins should not feel obliged to upgrade. However it looks very promising and we are likely to deprecate the old replication system in future. So watch this space - Redis is the future.</p>
<p>Finally we've seen lots of improvements to our documentation and many thanks for those in the community making contributions in this area.</p>
<p>It is also worth noting for those of you contributing to Synapse that the <code>develop</code> branch is now the default. More details in the changelog, so take a look.</p>
<p>Get 1.13.0 from <a href="https://github.com/matrix-org/synapse/releases/tag/v1.13.0">github</a> or any of the sources mentioned at https://github.com/matrix-org/synapse/blob/master/INSTALL.md.</p>
<p>Changelog since v1.12.4</p>
<h1 id="synapse-1-13-0-2020-05-19">Synapse 1.13.0 (2020-05-19)</h1>
<p>This release brings some potential changes necessary for certain configurations of Synapse:</p>
<ul>
<li>If your Synapse is configured to use SSO and have a custom <code>sso_redirect_confirm_template_dir</code> configuration option set, you will need to duplicate the new <code>sso_auth_confirm.html</code>, <code>sso_auth_success.html</code> and <code>sso_account_deactivated.html</code> templates into that directory.</li>
<li>Synapse plugins using the <code>complete_sso_login</code> method of <code>synapse.module_api.ModuleApi</code> should instead switch to the async/await version, <code>complete_sso_login_async</code>, which includes additional checks. The former version is now deprecated.</li>
<li>A bug was introduced in Synapse 1.4.0 which could cause the room directory to be incomplete or empty if Synapse was upgraded directly from v1.2.1 or earlier, to versions between v1.4.0 and v1.12.x.</li>
</ul>
<p>Please review <a href="https://github.com/matrix-org/synapse/blob/master/UPGRADE.rst">UPGRADE.rst</a> for more details on these changes and for general upgrade guidance.</p>
<h2 id="notice-of-change-to-the-default-git-branch-for-synapse">Notice of change to the default <code>git</code> branch for Synapse</h2>
<p>With the release of Synapse 1.13.0, the default <code>git</code> branch for Synapse has changed to <code>develop</code>, which is the development tip. This is more consistent with common practice and modern <code>git</code> usage.</p>
<p>The <code>master</code> branch, which tracks the latest release, is still available. It is recommended that developers and distributors who have scripts which run builds using the default branch of Synapse should therefore consider pinning their scripts to <code>master</code>.</p>
<h2 id="features">Features</h2>
<ul>
<li>Extend the <code>web_client_location</code> option to accept an absolute URL to use as a redirect. Adds a warning when running the web client on the same hostname as homeserver. Contributed by Martin Milata. (<a href="https://github.com/matrix-org/synapse/issues/7006">#7006</a>)</li>
<li>Set <code>Referrer-Policy</code> header to <code>no-referrer</code> on media downloads. (<a href="https://github.com/matrix-org/synapse/issues/7009">#7009</a>)</li>
<li>Add support for running replication over Redis when using workers. (<a href="https://github.com/matrix-org/synapse/issues/7040">#7040</a>, <a href="https://github.com/matrix-org/synapse/issues/7325">#7325</a>, <a href="https://github.com/matrix-org/synapse/issues/7352">#7352</a>, <a href="https://github.com/matrix-org/synapse/issues/7401">#7401</a>, <a href="https://github.com/matrix-org/synapse/issues/7427">#7427</a>, <a href="https://github.com/matrix-org/synapse/issues/7439">#7439</a>, <a href="https://github.com/matrix-org/synapse/issues/7446">#7446</a>, <a href="https://github.com/matrix-org/synapse/issues/7450">#7450</a>, <a href="https://github.com/matrix-org/synapse/issues/7454">#7454</a>)</li>
<li>Admin API <code>POST /_synapse/admin/v1/join/&lt;roomIdOrAlias&gt;</code> to join users to a room like <code>auto_join_rooms</code> for creation of users. (<a href="https://github.com/matrix-org/synapse/issues/7051">#7051</a>)</li>
<li>Add options to prevent users from changing their profile or associated 3PIDs. (<a href="https://github.com/matrix-org/synapse/issues/7096">#7096</a>)</li>
<li>Support SSO in the user interactive authentication workflow. (<a href="https://github.com/matrix-org/synapse/issues/7102">#7102</a>, <a href="https://github.com/matrix-org/synapse/issues/7186">#7186</a>, <a href="https://github.com/matrix-org/synapse/issues/7279">#7279</a>, <a href="https://github.com/matrix-org/synapse/issues/7343">#7343</a>)</li>
<li>Allow server admins to define and enforce a password policy (<a href="https://github.com/matrix-org/matrix-doc/issues/2000">MSC2000</a>). (<a href="https://github.com/matrix-org/synapse/issues/7118">#7118</a>)</li>
<li>Improve the support for SSO authentication on the login fallback page. (<a href="https://github.com/matrix-org/synapse/issues/7152">#7152</a>, <a href="https://github.com/matrix-org/synapse/issues/7235">#7235</a>)</li>
<li>Always whitelist the login fallback in the SSO configuration if <code>public_baseurl</code> is set. (<a href="https://github.com/matrix-org/synapse/issues/7153">#7153</a>)</li>
<li>Admin users are no longer required to be in a room to create an alias for it. (<a href="https://github.com/matrix-org/synapse/issues/7191">#7191</a>)</li>
<li>Require admin privileges to enable room encryption by default. This does not affect existing rooms. (<a href="https://github.com/matrix-org/synapse/issues/7230">#7230</a>)</li>
<li>Add a config option for specifying the value of the Accept-Language HTTP header when generating URL previews. (<a href="https://github.com/matrix-org/synapse/issues/7265">#7265</a>)</li>
<li>Allow <code>/requestToken</code> endpoints to hide the existence (or lack thereof) of 3PID associations on the homeserver. (<a href="https://github.com/matrix-org/synapse/issues/7315">#7315</a>)</li>
<li>Add a configuration setting to tweak the threshold for dummy events. (<a href="https://github.com/matrix-org/synapse/issues/7422">#7422</a>)</li>
</ul>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Don't attempt to use an invalid sqlite config if no database configuration is provided. Contributed by @nekatak. (<a href="https://github.com/matrix-org/synapse/issues/6573">#6573</a>)</li>
<li>Fix single-sign on with CAS systems: pass the same service URL when requesting the CAS ticket and when calling the <code>proxyValidate</code> URL. Contributed by @Naugrimm. (<a href="https://github.com/matrix-org/synapse/issues/6634">#6634</a>)</li>
<li>Fix missing field <code>default</code> when fetching user-defined push rules. (<a href="https://github.com/matrix-org/synapse/issues/6639">#6639</a>)</li>
<li>Improve error responses when accessing remote public room lists. (<a href="https://github.com/matrix-org/synapse/issues/6899">#6899</a>, <a href="https://github.com/matrix-org/synapse/issues/7368">#7368</a>)</li>
<li>Transfer alias mappings on room upgrade. (<a href="https://github.com/matrix-org/synapse/issues/6946">#6946</a>)</li>
<li>Ensure that a user interactive authentication session is tied to a single request. (<a href="https://github.com/matrix-org/synapse/issues/7068">#7068</a>, <a href="https://github.com/matrix-org/synapse/issues/7455">#7455</a>)</li>
<li>Fix a bug in the federation API which could cause occasional &quot;Failed to get PDU&quot; errors. (<a href="https://github.com/matrix-org/synapse/issues/7089">#7089</a>)</li>
<li>Return the proper error (<code>M_BAD_ALIAS</code>) when a non-existent canonical alias is provided. (<a href="https://github.com/matrix-org/synapse/issues/7109">#7109</a>)</li>
<li>Fix a bug which meant that groups updates were not correctly replicated between workers. (<a href="https://github.com/matrix-org/synapse/issues/7117">#7117</a>)</li>
<li>Fix starting workers when federation sending not split out. (<a href="https://github.com/matrix-org/synapse/issues/7133">#7133</a>)</li>
<li>Ensure <code>is_verified</code> is a boolean in responses to <code>GET /_matrix/client/r0/room_keys/keys</code>. Also warn the user if they forgot the <code>version</code> query param. (<a href="https://github.com/matrix-org/synapse/issues/7150">#7150</a>)</li>
<li>Fix error page being shown when a custom SAML handler attempted to redirect when processing an auth response. (<a href="https://github.com/matrix-org/synapse/issues/7151">#7151</a>)</li>
<li>Avoid importing <code>sqlite3</code> when using the postgres backend. Contributed by David Vo. (<a href="https://github.com/matrix-org/synapse/issues/7155">#7155</a>)</li>
<li>Fix excessive CPU usage by <code>prune_old_outbound_device_pokes</code> job. (<a href="https://github.com/matrix-org/synapse/issues/7159">#7159</a>)</li>
<li>Fix a bug which could cause outbound federation traffic to stop working if a client uploaded an incorrect e2e device signature. (<a href="https://github.com/matrix-org/synapse/issues/7177">#7177</a>)</li>
<li>Fix a bug which could cause incorrect 'cyclic dependency' error. (<a href="https://github.com/matrix-org/synapse/issues/7178">#7178</a>)</li>
<li>Fix a bug that could cause a user to be invited to a server notices (aka System Alerts) room without any notice being sent. (<a href="https://github.com/matrix-org/synapse/issues/7199">#7199</a>)</li>
<li>Fix some worker-mode replication handling not being correctly recorded in CPU usage stats. (<a href="https://github.com/matrix-org/synapse/issues/7203">#7203</a>)</li>
<li>Do not allow a deactivated user to login via SSO. (<a href="https://github.com/matrix-org/synapse/issues/7240">#7240</a>, <a href="https://github.com/matrix-org/synapse/issues/7259">#7259</a>)</li>
<li>Fix --help command-line argument. (<a href="https://github.com/matrix-org/synapse/issues/7249">#7249</a>)</li>
<li>Fix room publish permissions not being checked on room creation. (<a href="https://github.com/matrix-org/synapse/issues/7260">#7260</a>)</li>
<li>Reject unknown session IDs during user interactive authentication instead of silently creating a new session. (<a href="https://github.com/matrix-org/synapse/issues/7268">#7268</a>)</li>
<li>Fix a SQL query introduced in Synapse 1.12.0 which could cause large amounts of logging to the postgres slow-query log. (<a href="https://github.com/matrix-org/synapse/issues/7274">#7274</a>)</li>
<li>Persist user interactive authentication sessions across workers and Synapse restarts. (<a href="https://github.com/matrix-org/synapse/issues/7302">#7302</a>)</li>
<li>Fixed backwards compatibility logic of the first value of <code>trusted_third_party_id_servers</code> being used for <code>account_threepid_delegates.email</code>, which occurs when the former, deprecated option is set and the latter is not. (<a href="https://github.com/matrix-org/synapse/issues/7316">#7316</a>)</li>
<li>Fix a bug where event updates might not be sent over replication to worker processes after the stream falls behind. (<a href="https://github.com/matrix-org/synapse/issues/7337">#7337</a>, <a href="https://github.com/matrix-org/synapse/issues/7358">#7358</a>)</li>
<li>Fix bad error handling that would cause Synapse to crash if it's provided with a YAML configuration file that's either empty or doesn't parse into a key-value map. (<a href="https://github.com/matrix-org/synapse/issues/7341">#7341</a>)</li>
<li>Fix incorrect metrics reporting for <code>renew_attestations</code> background task. (<a href="https://github.com/matrix-org/synapse/issues/7344">#7344</a>)</li>
<li>Prevent non-federating rooms from appearing in responses to federated <code>POST /publicRoom</code> requests when a filter was included. (<a href="https://github.com/matrix-org/synapse/issues/7367">#7367</a>)</li>
<li>Fix a bug which would cause the room directory to be incorrectly populated if Synapse was upgraded directly from v1.2.1 or earlier to v1.4.0 or later. Note that this fix does not apply retrospectively; see the <a href="https://matrix.turbo.fish/blog/2020/05/19/synapse-1-13-0-released/UPGRADE.rst#upgrading-to-v1130">upgrade notes</a> for more information. (<a href="https://github.com/matrix-org/synapse/issues/7387">#7387</a>)</li>
<li>Fix bug in <code>EventContext.deserialize</code>. (<a href="https://github.com/matrix-org/synapse/issues/7393">#7393</a>)</li>
<li>Fix a long-standing bug which could cause messages not to be sent over federation, when state events with state keys matching user IDs (such as custom user statuses) were received. (<a href="https://github.com/matrix-org/synapse/issues/7376">#7376</a>)</li>
<li>Restore compatibility with non-compliant clients during the user interactive authentication process, fixing a problem introduced in v1.13.0rc1. (<a href="https://github.com/matrix-org/synapse/issues/7483">#7483</a>)</li>
<li>Hash passwords as early as possible during registration. (<a href="https://github.com/matrix-org/synapse/issues/7523">#7523</a>)</li>
</ul>
<h2 id="improved-documentation">Improved Documentation</h2>
<ul>
<li>Update Debian installation instructions to recommend installing the <code>virtualenv</code> package instead of <code>python3-virtualenv</code>. (<a href="https://github.com/matrix-org/synapse/issues/6892">#6892</a>)</li>
<li>Improve the documentation for database configuration. (<a href="https://github.com/matrix-org/synapse/issues/6988">#6988</a>)</li>
<li>Improve the documentation of application service configuration files. (<a href="https://github.com/matrix-org/synapse/issues/7091">#7091</a>)</li>
<li>Update pre-built package name for FreeBSD. (<a href="https://github.com/matrix-org/synapse/issues/7107">#7107</a>)</li>
<li>Update postgres docs with login troubleshooting information. (<a href="https://github.com/matrix-org/synapse/issues/7119">#7119</a>)</li>
<li>Clean up INSTALL.md a bit. (<a href="https://github.com/matrix-org/synapse/issues/7141">#7141</a>)</li>
<li>Add documentation for running a local CAS server for testing. (<a href="https://github.com/matrix-org/synapse/issues/7147">#7147</a>)</li>
<li>Improve README.md by being explicit about public IP recommendation for TURN relaying. (<a href="https://github.com/matrix-org/synapse/issues/7167">#7167</a>)</li>
<li>Fix a small typo in the <code>metrics_flags</code> config option. (<a href="https://github.com/matrix-org/synapse/issues/7171">#7171</a>)</li>
<li>Update the contributed documentation on managing synapse workers with systemd, and bring it into the core distribution. (<a href="https://github.com/matrix-org/synapse/issues/7234">#7234</a>)</li>
<li>Add documentation to the <code>password_providers</code> config option. Add known password provider implementations to docs. (<a href="https://github.com/matrix-org/synapse/issues/7238">#7238</a>, <a href="https://github.com/matrix-org/synapse/issues/7248">#7248</a>)</li>
<li>Modify suggested nginx reverse proxy configuration to match Synapse's default file upload size. Contributed by @ProCycleDev. (<a href="https://github.com/matrix-org/synapse/issues/7251">#7251</a>)</li>
<li>Documentation of media_storage_providers options updated to avoid misunderstandings. Contributed by Tristan Lins. (<a href="https://github.com/matrix-org/synapse/issues/7272">#7272</a>)</li>
<li>Add documentation on monitoring workers with Prometheus. (<a href="https://github.com/matrix-org/synapse/issues/7357">#7357</a>)</li>
<li>Clarify endpoint usage in the users admin api documentation. (<a href="https://github.com/matrix-org/synapse/issues/7361">#7361</a>)</li>
</ul>
<h2 id="deprecations-and-removals">Deprecations and Removals</h2>
<ul>
<li>Remove nonfunctional <code>captcha_bypass_secret</code> option from <code>homeserver.yaml</code>. (<a href="https://github.com/matrix-org/synapse/issues/7137">#7137</a>)</li>
</ul>
<h2 id="internal-changes">Internal Changes</h2>
<ul>
<li>Add benchmarks for LruCache. (<a href="https://github.com/matrix-org/synapse/issues/6446">#6446</a>)</li>
<li>Return total number of users and profile attributes in admin users endpoint. Contributed by Awesome Technologies Innovationslabor GmbH. (<a href="https://github.com/matrix-org/synapse/issues/6881">#6881</a>)</li>
<li>Change device list streams to have one row per ID. (<a href="https://github.com/matrix-org/synapse/issues/7010">#7010</a>)</li>
<li>Remove concept of a non-limited stream. (<a href="https://github.com/matrix-org/synapse/issues/7011">#7011</a>)</li>
<li>Move catchup of replication streams logic to worker. (<a href="https://github.com/matrix-org/synapse/issues/7024">#7024</a>, <a href="https://github.com/matrix-org/synapse/issues/7195">#7195</a>, <a href="https://github.com/matrix-org/synapse/issues/7226">#7226</a>, <a href="https://github.com/matrix-org/synapse/issues/7239">#7239</a>, <a href="https://github.com/matrix-org/synapse/issues/7286">#7286</a>, <a href="https://github.com/matrix-org/synapse/issues/7290">#7290</a>, <a href="https://github.com/matrix-org/synapse/issues/7318">#7318</a>, <a href="https://github.com/matrix-org/synapse/issues/7326">#7326</a>, <a href="https://github.com/matrix-org/synapse/issues/7378">#7378</a>, <a href="https://github.com/matrix-org/synapse/issues/7421">#7421</a>)</li>
<li>Convert some of synapse.rest.media to async/await. (<a href="https://github.com/matrix-org/synapse/issues/7110">#7110</a>, <a href="https://github.com/matrix-org/synapse/issues/7184">#7184</a>, <a href="https://github.com/matrix-org/synapse/issues/7241">#7241</a>)</li>
<li>De-duplicate / remove unused REST code for login and auth. (<a href="https://github.com/matrix-org/synapse/issues/7115">#7115</a>)</li>
<li>Convert <code>*StreamRow</code> classes to inner classes. (<a href="https://github.com/matrix-org/synapse/issues/7116">#7116</a>)</li>
<li>Clean up some LoggingContext code. (<a href="https://github.com/matrix-org/synapse/issues/7120">#7120</a>, <a href="https://github.com/matrix-org/synapse/issues/7181">#7181</a>, <a href="https://github.com/matrix-org/synapse/issues/7183">#7183</a>, <a href="https://github.com/matrix-org/synapse/issues/7408">#7408</a>, <a href="https://github.com/matrix-org/synapse/issues/7426">#7426</a>)</li>
<li>Add explicit <code>instance_id</code> for USER_SYNC commands and remove implicit <code>conn_id</code> usage. (<a href="https://github.com/matrix-org/synapse/issues/7128">#7128</a>)</li>
<li>Refactored the CAS authentication logic to a separate class. (<a href="https://github.com/matrix-org/synapse/issues/7136">#7136</a>)</li>
<li>Run replication streamers on workers. (<a href="https://github.com/matrix-org/synapse/issues/7146">#7146</a>)</li>
<li>Add tests for outbound device pokes. (<a href="https://github.com/matrix-org/synapse/issues/7157">#7157</a>)</li>
<li>Fix device list update stream ids going backward. (<a href="https://github.com/matrix-org/synapse/issues/7158">#7158</a>)</li>
<li>Use <code>stream.current_token()</code> and remove <code>stream_positions()</code>. (<a href="https://github.com/matrix-org/synapse/issues/7172">#7172</a>)</li>
<li>Move client command handling out of TCP protocol. (<a href="https://github.com/matrix-org/synapse/issues/7185">#7185</a>)</li>
<li>Move server command handling out of TCP protocol. (<a href="https://github.com/matrix-org/synapse/issues/7187">#7187</a>)</li>
<li>Fix consistency of HTTP status codes reported in log lines. (<a href="https://github.com/matrix-org/synapse/issues/7188">#7188</a>)</li>
<li>Only run one background database update at a time. (<a href="https://github.com/matrix-org/synapse/issues/7190">#7190</a>)</li>
<li>Remove sent outbound device list pokes from the database. (<a href="https://github.com/matrix-org/synapse/issues/7192">#7192</a>)</li>
<li>Add a background database update job to clear out duplicate <code>device_lists_outbound_pokes</code>. (<a href="https://github.com/matrix-org/synapse/issues/7193">#7193</a>)</li>
<li>Remove some extraneous debugging log lines. (<a href="https://github.com/matrix-org/synapse/issues/7207">#7207</a>)</li>
<li>Add explicit Python build tooling as dependencies for the snapcraft build. (<a href="https://github.com/matrix-org/synapse/issues/7213">#7213</a>)</li>
<li>Add typing information to federation server code. (<a href="https://github.com/matrix-org/synapse/issues/7219">#7219</a>)</li>
<li>Extend room admin api (<code>GET /_synapse/admin/v1/rooms</code>) with additional attributes. (<a href="https://github.com/matrix-org/synapse/issues/7225">#7225</a>)</li>
<li>Unblacklist '/upgrade creates a new room' sytest for workers. (<a href="https://github.com/matrix-org/synapse/issues/7228">#7228</a>)</li>
<li>Remove redundant checks on <code>daemonize</code> from synctl. (<a href="https://github.com/matrix-org/synapse/issues/7233">#7233</a>)</li>
<li>Upgrade jQuery to v3.4.1 on fallback login/registration pages. (<a href="https://github.com/matrix-org/synapse/issues/7236">#7236</a>)</li>
<li>Change log line that told user to implement onLogin/onRegister fallback js functions to a warning, instead of an info, so it's more visible. (<a href="https://github.com/matrix-org/synapse/issues/7237">#7237</a>)</li>
<li>Correct the parameters of a test fixture. Contributed by Isaiah Singletary. (<a href="https://github.com/matrix-org/synapse/issues/7243">#7243</a>)</li>
<li>Convert auth handler to async/await. (<a href="https://github.com/matrix-org/synapse/issues/7261">#7261</a>)</li>
<li>Add some unit tests for replication. (<a href="https://github.com/matrix-org/synapse/issues/7278">#7278</a>)</li>
<li>Improve typing annotations in <code>synapse.replication.tcp.streams.Stream</code>. (<a href="https://github.com/matrix-org/synapse/issues/7291">#7291</a>)</li>
<li>Reduce log verbosity of url cache cleanup tasks. (<a href="https://github.com/matrix-org/synapse/issues/7295">#7295</a>)</li>
<li>Fix sample SAML Service Provider configuration. Contributed by @frcl. (<a href="https://github.com/matrix-org/synapse/issues/7300">#7300</a>)</li>
<li>Fix StreamChangeCache to work with multiple entities changing on the same stream id. (<a href="https://github.com/matrix-org/synapse/issues/7303">#7303</a>)</li>
<li>Fix an incorrect import in IdentityHandler. (<a href="https://github.com/matrix-org/synapse/issues/7319">#7319</a>)</li>
<li>Reduce logging verbosity for successful federation requests. (<a href="https://github.com/matrix-org/synapse/issues/7321">#7321</a>)</li>
<li>Convert some federation handler code to async/await. (<a href="https://github.com/matrix-org/synapse/issues/7338">#7338</a>)</li>
<li>Fix collation for postgres for unit tests. (<a href="https://github.com/matrix-org/synapse/issues/7359">#7359</a>)</li>
<li>Convert RegistrationWorkerStore.is_server_admin and dependent code to async/await. (<a href="https://github.com/matrix-org/synapse/issues/7363">#7363</a>)</li>
<li>Add an <code>instance_name</code> to <code>RDATA</code> and <code>POSITION</code> replication commands. (<a href="https://github.com/matrix-org/synapse/issues/7364">#7364</a>)</li>
<li>Thread through instance name to replication client. (<a href="https://github.com/matrix-org/synapse/issues/7369">#7369</a>)</li>
<li>Convert synapse.server_notices to async/await. (<a href="https://github.com/matrix-org/synapse/issues/7394">#7394</a>)</li>
<li>Convert synapse.notifier to async/await. (<a href="https://github.com/matrix-org/synapse/issues/7395">#7395</a>)</li>
<li>Fix issues with the Python package manifest. (<a href="https://github.com/matrix-org/synapse/issues/7404">#7404</a>)</li>
<li>Prevent methods in <code>synapse.handlers.auth</code> from polling the homeserver config every request. (<a href="https://github.com/matrix-org/synapse/issues/7420">#7420</a>)</li>
<li>Speed up fetching device lists changes when handling <code>/sync</code> requests. (<a href="https://github.com/matrix-org/synapse/issues/7423">#7423</a>)</li>
<li>Run group attestation renewal in series rather than parallel for performance. (<a href="https://github.com/matrix-org/synapse/issues/7442">#7442</a>)</li>
<li>Fix linting errors in new version of Flake8. (<a href="https://github.com/matrix-org/synapse/issues/7470">#7470</a>)</li>
<li>Update the version of dh-virtualenv we use to build debs, and add focal to the list of target distributions. (<a href="https://github.com/matrix-org/synapse/issues/7526">#7526</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;05&#x2F;15&#x2F;this-week-in-matrix-2020-05-15&#x2F;" title="This Week in Matrix 2020-05-15">This Week in Matrix 2020-05-15</a></h1>
            <span>
                15.05.2020 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="open-tech-will-save-us">Open Tech Will Save Us 🎙</h2>
<iframe title="O3YP1TU-L_8" src="https://www.youtube.com/embed/O3YP1TU-L_8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Second edition of OTWSU took place this week! Chance to watch it if you haven't already, or (pro-tip), watch it again. </p>
<ul>
<li><a href="http://exple.tive.org/blarg/">Mike Hoye</a> from Mozilla talks about &quot;Verbs in the fediverse&quot;</li>
<li>Eugen (<a href="https://mastodon.social/@Gargron">@Gargron@mastodon.social</a>) discusses &quot;how we keep mastodon.social running at scale&quot; as a Q&amp;A</li>
<li>... and a new VIP tour of Dendrite, the next-gen Matrix Homeserver, from our own neilalexander and Kegan!</li>
</ul>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> 🌡</h2>
<h3 id="bundeswehr-switching-to-matrix">Bundeswehr switching to Matrix</h3>
<p><a href="https://matrix.to/#/@oleg:fiksel.info">Oleg</a> said:</p>
<blockquote>
<p>German army <a href="https://matrix.org/blog/category/this-week-in-matrix/4#bundeswehr-considering-matrix">reported</a> in December 2019 their intentions for Matrix.</p>
<p>Now they decided to replace Stashcat with Matrix in this autumn.</p>
<p>Around 50'000 account are planned.</p>
<p>Riot will be used as a Matrix client. The E2EE by default and device Cross-Signing will be extensively used.</p>
<p>Full article (in German): <a href="https://www.heise.de/newsticker/meldung/Bundeswehr-setzt-kuenftig-auf-Matrix-als-Messenger-4719474.html">https://www.heise.de/newsticker/meldung/Bundeswehr-setzt-kuenftig-auf-Matrix-als-Messenger-4719474.html</a></p>
</blockquote>
<h3 id="mozilla-are-happy-with-their-deployment">Mozilla are happy with their deployment!</h3>
<blockquote>
<p lang="en" dir="ltr">About a year after this tweet, four months after deployment of our open source <a href="https://twitter.com/matrixdotorg?ref_src=twsrc%5Etfw">@matrixdotorg</a> instance, community participation in the Mozilla project has increased from 4x to 10x across all the projects that previously relied on IRC.<a href="https://t.co/E5HRsfHkzk">https://t.co/E5HRsfHkzk</a></p>&mdash; mhoye (@mhoye) <a href="https://twitter.com/mhoye/status/1260229475540914177?ref_src=twsrc%5Etfw">May 12, 2020</a>
</blockquote>
<p>For more from Mike check out the OTSWU recording above, he's on first.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> announced:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals.">https://matrix.org/docs/spec/proposals.</a></p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2526">MSC2526: Add ability to delete key backups</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2390">MSC2390: On the EDU-to-PDU transition.</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2389">MSC2389: Toward the EDU-to-PDU transition: Typing.</a></p>
</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2545">[WIP] MSC2545: Emotes</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2540">MSC2540: Stricter event validation: JSON compliance</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, <a href="https://github.com/matrix-org/matrix-doc/pull/2526">MSC2526</a> has entered FCP. We'd like to keep the E2E MSCs in flight in focus, but are also conscious that room v6 is coming up. We're sticking the MSCs for the latter alongside the existing E2E ones in the focus queue, for a total of 5. Those MSCs are: <a href="https://github.com/matrix-org/matrix-doc/issues/2366">MSC2366</a> (verification flows), <a href="https://github.com/matrix-org/matrix-doc/issues/2399">MSC2399</a> (UISI messaging), <a href="https://github.com/matrix-org/matrix-doc/issues/2540">MSC2540</a> (canonical JSON validation), <a href="https://github.com/matrix-org/matrix-doc/issues/2209">MSC2209</a> (notifications auth rules), and <a href="https://github.com/matrix-org/matrix-doc/issues/2240">MSC2240</a> (room version 6).</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> announced:</p>
<blockquote>
<ul>
<li>
<p>Dendrite now implements <code>/get_missing_events</code>, which improves inbound federation reliability significantly</p>
</li>
<li>
<p>State resolution v2 implementation in gomatrixserverlib now uses significantly less overall memory and performs far fewer allocations</p>
</li>
<li>
<p>A skeleton keyserver component has been added - it returns no keys for now but that is enough to satisfy Riot when creating DMs</p>
</li>
<li>
<p>Canonical alias is now set if needed when the room is created</p>
</li>
<li>
<p>Reduced the number of HTTP 500s returned by the media API</p>
</li>
<li>
<p>Sync API topology logic and tokens have been reworked</p>
</li>
<li>
<p>Server keys are now cached in memory using an LRU cache, regardless of database or fetchers used</p>
</li>
<li>
<p>Federated joins now attempt all listed servers more reliably</p>
</li>
<li>
<p>Federated joins in response to an incoming invite should now work, particularly in cases where the room had previously been joined and left</p>
</li>
<li>
<p>Some Prometheus statistics are now available for the LRU caches</p>
</li>
<li>
<p>Sync API storage layer has been deduplicated quite a bit</p>
</li>
<li>
<p>Display name and avatar URL are now sent in join content again after a regression</p>
</li>
<li>
<p>Fixed a bug in the membership updater when matching added and removed state</p>
</li>
<li>
<p>Fixed a bug where a response to a federated device query would not contain all required fields</p>
</li>
<li>
<p>Fixed a bug where <code>/sync</code> could panic after joining a room</p>
</li>
</ul>
</blockquote>
<p>Get a real demo of Dendrite from <a href="https://youtu.be/O3YP1TU-L_8?t=5039">Open Tech Will Save Us #2</a></p>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> said:</p>
<blockquote>
<p>This week I worked on presence and end to end encryption, but they are not working yet.</p>
<p>Meanwhile, Valkum got sytest integration working! This means each time a new commit is pushed to a branch, CI automatically picks up on that and lets a lot of tests run on the homeserver - the same tests that synapse uses. Currently we have 8% of all tests positive on Conduit.</p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>
</span><span>Client-Server APIs: 8% (56/667 tests)
</span><span>
</span><span>*------------------
</span><span>
</span><span>  Registration             :  53% (17/32 tests)
</span><span>  Login                    :  26% (5/19 tests)
</span><span>
</span><span>  V1 CS APIs               :  10% (3/30 tests)
</span><span>  Misc CS APIs             : 100% (1/1 tests)
</span><span>
</span><span>  Profile                  :  33% (2/6 tests)
</span><span>  Devices                  :  17% (2/12 tests)
</span><span>
</span><span>  Presence                 :   0% (0/10 tests)
</span><span>  Create Room              :  31% (4/13 tests)
</span><span>
</span><span>  Sync API                 :   1% (1/85 tests)
</span><span>  Room Membership          :   0% (0/15 tests)
</span><span>
</span><span>  Room State APIs          :   0% (0/14 tests)
</span><span>  Public Room APIs         :   0% (0/7 tests)
</span><span>
</span><span>  Room Aliases             :   0% (0/15 tests)
</span></code></pre>
<p>At the same time, MTRNord tried to integrate opentracing into Conduit and Paul worked on a docker file to make installation easier.</p>
<p>Thanks to my supporters on <a href="https://liberapay.com/timokoesters">Liberapay</a>.</p>
</blockquote>
<p>See the bottom of this post for some more interesting numbers!</p>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> offered:</p>
<blockquote>
<p>Synapse <a href="https://github.com/matrix-org/synapse/releases/tag/v1.13.0rc2">v1.13.0rc2</a> shipped this week with the following notable improvements:</p>
<ul>
<li>
<p>SSO support in User-Interactive Authentication sessions</p>
</li>
<li>
<p>Cross-signing device list bug fixes</p>
</li>
<li>
<p>The ability to run in worker mode using redis as a backend (which will soon be considered the default transport for Synapse workers)</p>
</li>
<li>
<p>Some admin api improvements and additions</p>
</li>
</ul>
<p>...as well as all the usual bug fixes and especially performance improvements. See the <a href="https://github.com/matrix-org/synapse/blob/release-v1.13.0/CHANGES.md">changelog</a> for the full details and please test if you can! A full release is expected early next week.</p>
<p>Speaking of next week: work will involve getting room version 6 ready to ship, alongside even more performance work - especially moving event processing off the master process (the code for which is already running successfully on Half-Shot's own homeserver)!</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="mx-puppet-steam">mx-puppet-steam</h3>
<p><a href="https://matrix.to/#/@robin:icewind.nl">Icewind</a> told us:</p>
<blockquote>
<p>I've been working on a new puppet bridge for steam chat <a href="https://github.com/icewind1991/mx-puppet-steam">mx-puppet-steam</a>, while I would still consider it to be in alpha state, most of the things needed for day to day chatting are functional.</p>
<p>It bridges both one on one and group messages, shows the proper name, avatar and online status of your frends and handles embedded images in one on one chats.</p>
<p>I have a docker image for it if that helps: <a href="https://hub.docker.com/r/icewind1991/mx-puppet-steam">https://hub.docker.com/r/icewind1991/mx-puppet-steam</a></p>
</blockquote>
<h3 id="mautrix-whatsapp">mautrix-whatsapp</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> reported:</p>
<blockquote>
<p>As promised last week, mautrix-whatsapp now has end-to-bridge encryption (currently on the <code>e2be</code> branch, will be merged to master soon™). It works mostly the same way as the other bridges.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<p>It's a big, big week for client news! We must take a deeper look at some of these projects soon!</p>
<h3 id="ditto-v0-4-1-released">Ditto v0.4.1 Released!</h3>
<p><a href="https://matrix.to/#/@annie:ditto.chat">Annie</a> offered:</p>
<blockquote>
<h4 id="what-is-ditto">What is Ditto?</h4>
<p>Ditto is a mobile client for iOS and Android! It's available on TestFlight and Google Play (beta) - download link available on the website below.</p>
<h4 id="what-s-new">What's New?</h4>
<h4 id="added">Added</h4>
<ul>
<li>
<p>Reactions support! 😄🎉</p>
</li>
<li>
<p>Add a visual hint if a message is sending or could not be sent</p>
</li>
<li>
<p>Send pending messages when the connection to the homeserver is back</p>
</li>
</ul>
<h4 id="changed">Changed</h4>
<ul>
<li>
<p>Update to React Native 0.62.2</p>
</li>
<li>
<p>Major performance improvements!</p>
</li>
</ul>
<h4 id="fixed">Fixed</h4>
<ul>
<li>
<p>Redacted events have a proper message</p>
</li>
<li>
<p>Switched push gateway to https</p>
</li>
</ul>
<h4 id="links">Links</h4>
<ul>
<li><a href="https://matrix.to/#/#ditto:ditto.chat">Matrix Room (#ditto:ditto.chat)</a></li>
<li><a href="https://dittochat.org">Website (https://dittochat.org)</a></li>
</ul>
</blockquote>
<h3 id="matrix-tv">Matrix-TV</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> said:</p>
<blockquote>
<p>Link: <a href="https://github.com/Half-Shot/matrix-tv">https://github.com/Half-Shot/matrix-tv</a></p>
<p>I got really bored in lockdown, as we all have. I stared at my TV, and it stared back at me. While it's definitely a privacy nightmare to start developing apps for these things, I couldn't help myself. I got stuck in, and secured myself a LG Developer Account.</p>
<p>The LG set of smart TVs use WebOS, as like the name suggests, runs apps in it's special variant of Chromium. I was lucky to be running a recent OS and had access to Chromium 53! And NodeJS 0.12!! Sarcasm aside, there are some very troubling versions of WebOS with much older versions of the browser, so I was happy to be developing against something with strong ES6 support. Despite the absolutely <a href="https://twitter.com/Half_Shot/status/1259471146308775943">awful</a> onboarding experience, the WebOS SDK itself was pretty good. <code>matrix-tv</code> was written to be a general large screen matrix client, so it talks to the TV's own libraries through an abstraction layer :)</p>
<p>Anyway, this client is the culmination of a lazy Sunday afternoon's work. It features very basic support for viewing a room, but I hope to expand it at some point. It  supports running in a web browser and the aforementioned OS, but support for more variants is easy to add. I'm looking into how to design for the large screen beyond making fonts bigger, because the unique constraints on memory and UI are fun challenge.</p>
</blockquote>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> announced:</p>
<blockquote>
<ul>
<li>
<p>Nheko now supports SSO. If your server uses SSO, you may want to test that, if it works for you, but I did successfully sign into the Mozilla homeserver.</p>
</li>
<li>
<p>We improved hinting on the login and registration pages, so it should be easier to enter correct credentials.</p>
</li>
<li>
<p>Replies now have a max height by default. If you want to see the full reply, you need to click on it to navigate to the reply.</p>
</li>
<li>
<p>Nheko now has a red unlocked padlock, when an unencrypted message is sent in an encrypted room.</p>
</li>
<li>
<p>red_sky has been hacking along on reactions. Displaying them is now in master, for sending he is currently reworking the emoji picker, so that it can be attached to the timeline more easily and it is easier to search, etc.</p>
</li>
</ul>
</blockquote>
<iframe src="https://www.youtube.com/embed/T7TcRTfaClc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<blockquote>
<p>Nheko has it's own weblate btw, if anyone feels like translating a bit of stuff: <a href="https://weblate.nheko.im/engage/nheko/?utm_source=widget">https://weblate.nheko.im/engage/nheko/?utm_source=widget</a></p>
</blockquote>
<h3 id="pattle-version-0-16-0">Pattle: version 0.16.0</h3>
<p>Pattle is a client written for Flutter using Dart</p>
<p><a href="https://matrix.to/#/@wilko:pattle.im">Wilko</a> said:</p>
<blockquote>
<p>A new version has been made available and will become available on Google Play and TestFlight!</p>
<p>Because of corona this might take longer than usual.</p>
<h4 id="changes">Changes</h4>
<ul>
<li>
<p>Huge performance improvements! All SDK processing now happens in a different isolate (comparable to a thread)!</p>
</li>
<li>
<p>Also huge start up time improvement! When opening the app you should see your chats in <em>less than or equal to a second</em>! (will vary per device)</p>
</li>
<li>
<p>You'll now see two checkmarks when a message is read!</p>
</li>
<li>
<p>Add Dutch translations! (thanks to Louis!)</p>
</li>
<li>
<p>You can logout now!</p>
</li>
<li>
<p>An error along with a stack trace is now shown when the initial sync fails.
You can use it to inform me and make an issue!</p>
</li>
<li>
<p>For the launcher icons vectors are now used on Android when it's supported</p>
</li>
<li>
<p>Contributing is now easier, you don't have to sign a CLA anymore!</p>
</li>
</ul>
<h4 id="get-pattle">Get Pattle</h4>
<ul>
<li><strong>Android</strong>
<ul>
<li><strong><a href="https://f-droid.org/en/packages/im.pattle.app/">F-Droid</a></strong></li>
<li><strong><a href="https://play.google.com/store/apps/details?id=im.pattle.app">Google Play</a></strong></li>
</ul>
</li>
<li><strong><a href="https://testflight.apple.com/join/uTytydST">iOS (TestFlight)</a></strong></li>
</ul>
<h4 id="issues-or-suggestions">Issues or suggestions</h4>
<p>If you stumble upon any issues or would like to suggest features, <a href="https://git.pattle.im/pattle/app/issues">please do so here</a>!</p>
<p>You can <a href="https://git.pattle.im/users/sign_in">login via GitHub and Gitlab.com</a>!</p>
<h4 id="follow-development">Follow development</h4>
<p>Follow development in <a href="https://matrix.to/#/#app:pattle.im">#app:pattle.im</a>!</p>
</blockquote>
<h3 id="riotx">RiotX</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> reported:</p>
<blockquote>
<p>We are making progress on Identity server feature implementation (PR in review). Also we are working to integrated call with WebRTC, integration manager (widget, Jitsi, sticker) and we are stabilizing the application, especially on the cross-signing part.</p>
<p>Expect a new corrective release at the end of the day!</p>
</blockquote>
<h3 id="gomuks">gomuks</h3>
<p><a href="https://maunium.net/go/gomuks">gomuks</a> is a terminal based Matrix client written in Go. <a href="https://github.com/tulir/gomuks">Source on GitHub</a></p>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> offered:</p>
<blockquote>
<p>I was able to solve a few annoying bugs like message history disappearing and switching rooms taking time (it turned out that read receipts were being sent synchronously), so I decided to release gomuks <a href="https://github.com/tulir/gomuks/releases/tag/v0.1.0">v0.1.0</a>.</p>
</blockquote>
<h3 id="fluffychat">fluffychat</h3>
<p><a href="https://matrix.to/#/@krille:ubports.chat">krille</a> said:</p>
<blockquote>
<p>FluffyChat 0.13.1 is out with:</p>
<ul>
<li>
<p>New status feature</p>
</li>
<li>
<p>HTML rendering of messages</p>
</li>
<li>
<p>Markdown support</p>
</li>
<li>
<p>Enhanced chat list design</p>
</li>
<li>
<p>New translations (Polish, Hungarian)</p>
</li>
<li>
<p>Lots of minor fixes and refactoring</p>
</li>
</ul>
</blockquote>
<p><img src="/blog/img/2020-05-15-vsWn8-img_1589450046798.png" alt="2020-05-15-vsWn8-img_1589450046798.png" /></p>
<h3 id="nio">Nio</h3>
<p><a href="https://nio.chat">Nio</a> is a client written with SwiftUI</p>
<p><a href="https://matrix.to/#/@kilian:nio.chat">kilian</a> told us:</p>
<blockquote>
<p>Since the last updates, there's been a few cool new features and changes added to <a href="https://nio.chat/">Nio</a>:</p>
<ul>
<li>
<p>message text field supports multiple lines of input</p>
</li>
<li>
<p>edit badges instead of &quot;(edited)&quot;</p>
</li>
<li>
<p><strong>markdown message rendering</strong></p>
</li>
<li>
<p>spanish translation</p>
</li>
<li>
<p>blurhash support for incoming images (so find some Nheko-using friends! 😄)</p>
</li>
<li>
<p><strong>sending images</strong></p>
</li>
<li>
<p>and a few minor and internal fixes</p>
</li>
</ul>
<p>Join us in <a href="https://matrix.to/#/#niochat:matrix.org">#niochat:matrix.org</a> for discussion and more fun 😊</p>
</blockquote>
<h3 id="riot-android-0-9-11">Riot-Android 0.9.11</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> reported:</p>
<blockquote>
<p>Riot-Android: Version 0.9.11 (with Matrix SDK 0.9.34) has been released on the PlayStore, and should be available for all during the week-end. It contains fixes on the identity server feature (the &quot;missing token&quot; thing), and also support Jitsi call with configured domain.</p>
</blockquote>
<h3 id="riot-ios">Riot-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> offered:</p>
<blockquote>
<p>On the cross-signing side, we have been working on the implementation of SSSS (to recover all private keys from the HS) and on UI polishments.</p>
<p>On the maintenance side, the new push mechanism from Apple has been implemented but it needs more work to work properly.</p>
</blockquote>
<h3 id="riot-integration-with-nextcloud">Riot integration with NextCloud</h3>
<p><a href="https://apps.nextcloud.com/apps/riotchat">Riot-web integration with NextCloud</a> exists! Source at <a href="https://github.com/gary-kim/riotchat">https://github.com/gary-kim/riotchat</a>.</p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="matrix-spring-boot-sdk">matrix-spring-boot-sdk</h3>
<p><a href="https://matrix.to/#/@benedict:imbitbu.de">Benedict</a> offered:</p>
<blockquote>
<p>This SDK is now on maven central. I also introduced support for implementing Application Services. The project can be found here: <a href="https://github.com/benkuly/matrix-spring-boot-sdk">https://github.com/benkuly/matrix-spring-boot-sdk</a> . It will be used by Matrix-SMS-Bridge, which only needs one telephone number. The latter will be released next week, when everything works fine (https://github.com/benkuly/matrix-sms-bridge).</p>
</blockquote>
<h3 id="matrix-dart-sdk-v0-31-0">Matrix Dart SDK: v0.31.0</h3>
<p><a href="https://matrix.to/#/@wilko:pattle.im">Wilko</a> said:</p>
<blockquote>
<ul>
<li>
<p>Add the ability to defer all processing to a different isolate</p>
<p>When you use <code>isolated: true</code> on <code>Homeserver.login</code> or <code>MyUser.fromStore</code>, everything will be handled for you and the SDK works the same.</p>
<p>This only works on platforms with the Dart VM (not web).</p>
</li>
<li>
<p><code>Updater</code>s are now globally registered per <code>MyUser</code> <code>id</code>.</p>
<p>This means for now only one <code>Updater</code> per <code>MyUser</code> is allowed. <code>Updater</code>s are created when a <code>MyUser</code> instance is retrieved via <code>Homeserver.login</code> or <code>MyUser.fromStore</code></p>
</li>
<li>
<p>Add ability to specify what rooms to load from store when retrieving user</p>
</li>
<li>
<p>The <code>previousBatch</code> param from <code>Room.copyWith</code> is removed (wasn't used)</p>
</li>
<li>
<p>Add ability to override context in <code>MyUser.copyWith</code> and <code>MyUser.merge</code></p>
</li>
<li>
<p><code>Updater</code> and <code>Homeserver</code> are less coupled now</p>
</li>
<li>
<p>When a <code>Context</code> is changed with <code>copyWith</code>, all child objects' <code>context</code>s are also changed</p>
</li>
<li>
<p>Fix bug in read receipt parsing (thanks to MatMaul!)</p>
</li>
<li>
<p>Sync errors are now pushed to the <code>updates</code> stream</p>
</li>
<li>
<p>Fix access token not being passed to logout API</p>
</li>
<li>
<p>Add <code>type</code> to <code>RequestUpdate</code>, so you can see which type of call</p>
<p>the update was caused by</p>
</li>
<li>
<p>Moor has been updated</p>
</li>
<li>
<p>And other minor fixes!</p>
</li>
</ul>
<p>Get it on <a href="https://pub.dev/packages/matrix_sdk">pub</a>, and see the source <a href="https://git.pattle.im/pattle/library/matrix-dart-sdk">here</a>!</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="jupybot-first-proof-of-concept">JupyBot - First proof of concept</h3>
<p><a href="https://matrix.to/#/@rdi:matrix.alkemata.com">rdi</a> said:</p>
<blockquote>
<h4 id="what-is-jupybot">What is JupyBot</h4>
<p>The purpose of the bot is to provide a link with Jupyter kernels running either on your local computer or somewhere else on a server. You can access your kernels through the bot with the chat interface. The kernels will answer to your commands through the same interface.</p>
<p>Since this is still a proof of concepts, the number of features is limited (command line text, string and pictures are the only output formats supported. No widget, no funny javascript) and they are few safeguards against infinite loops and other entertaining bugs.</p>
<h4 id="todo">TODO</h4>
<p>This is right now just a proof of concept. We want to see if such a bot can be useful for people and how. What features would be interesting, what can be integrated in the present clients,... Therefore, in the short term, we want to focus on the possibility of easy testing for users and easy contributions for people who want to add their ideas. On the mid- and long term, a lot of ideas can be realized; it will depend on the feedback. These are just some examples. Short term:</p>
<ul>
<li>
<p>proper error catching</p>
</li>
<li>
<p>fallback for non supported Jupyter formats on riot.im (i.e. a lot)</p>
</li>
<li>
<p>testing on termux on a tablet or smartphone</p>
</li>
<li>
<p>solve the problem with nio-matrix and upload in chunks of images.</p>
</li>
<li>
<p>Dockerized version</p>
</li>
</ul>
<p>Middle term:</p>
<ul>
<li>use of opsdroid as a framework</li>
</ul>
<p>Longer term:</p>
<ul>
<li>
<p>local server integrated to locally command the bot service.</p>
</li>
<li>
<p>make full use of jupyter capabilities with a client suited for it (for instance a Jupyterlab plugin)</p>
</li>
</ul>
<h4 id="links-1">Links</h4>
<ul>
<li>
<p>room for testing: #jupybot1:matrix.alkemata.com</p>
</li>
<li>
<p>room for discussing: <a href="https://matrix.to/#/#jupybot:matrix.alkemata.com">#jupybot:matrix.alkemata.com</a></p>
</li>
<li>
<p>github repository: <a href="https://github.com/albanatita/JupyBot">https://github.com/albanatita/JupyBot</a></p>
</li>
</ul>
</blockquote>
<p><img src="/blog/img/2020-05-15--q5mx-screenshot1.png" alt="2020-05-15--q5mx-screenshot1.png" /></p>
<p><img src="/blog/img/2020-05-15-0k1yx-screenshot2.png" alt="2020-05-15-0k1yx-screenshot2.png" /></p>
<h3 id="snowstorm-matrix">snowstorm-matrix</h3>
<p><a href="https://matrix.to/#/@lub:imninja.net">lub</a> reported:</p>
<blockquote>
<p>I made a little bot that scrapes <a href="https://news.blizzard.com/en-us">https://news.blizzard.com/en-us</a> , because they've disabled their RSS feeds for some time now. It regularly scrapes all posts of a configured category and sends messages for new articles to all rooms the bot is a member of. It works like a RSS bot, except the source is a website instead of a RSS feed.</p>
<p>In the readme there are also some public instances, which you can just invite instead of hosting your own bot.</p>
<p><a href="https://gitea.lubiland.de/lub/snowstorm-matrix">https://gitea.lubiland.de/lub/snowstorm-matrix</a></p>
</blockquote>
<h3 id="midori-jabbot-matrix-org">midori jabbot matrix.org</h3>
<p><a href="https://matrix.to/#/@tsearle:hackerspaces.be">Torrey Searle</a> told us:</p>
<blockquote>
<p>I've added matrix support into a chat bot, you can see the chat bot in action at <a href="https://matrix.to/#/#midori-dev:hackerspaces.be">#midori-dev:hackerspaces.be</a> and it's project page is here <a href="https://github.com/midoricorp/jabbot">https://github.com/midoricorp/jabbot</a>.<br />
it's main highlight is anybody can add new commands to it in chat using its scripting language<br />
any any existing bot command can be used as a function in new scripts you write<br />
The scripting language to add new commands can be found here <a href="https://github.com/midoricorp/script">https://github.com/midoricorp/script</a><br />
you can do things like<br />
<code>!script print &quot;HELLO world&quot;;</code><br />
or make a new command<br />
<code>!script sub hello { print &quot;HELLO World&quot;; }</code><br />
that would result in a new command !hello being made<br />
print also has 2 output stream, one for rich format and one for basic formatting<br />
<code>!script print &quot;Hello World!&quot;; print HTML &quot;Hello &lt;b&gt;World&lt;/b&gt;&quot;</code>;</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks 🗣</h2>
<p><a href="https://www.meetup.com/Rust-London-User-Group/events/270526235/">Matrix will be featured in a Rust London meetup</a> on the 27th May 2020.</p>
<h2 id="new-public-rooms-stadium">New Public Rooms 🏟</h2>
<p><a href="https://matrix.to/#/@ludwig:disko.media">Ludwig</a> offered:</p>
<blockquote>
<p>Hey, I have created a room for designers workin on matrix stuff to join: <a href="https://matrix.to/#/#matrix-design:disko.media">#matrix-design:disko.media</a></p>
<p>The goal is to improve cohesion and collaboration for all things design (UI, UX, interaction...)
Over time, it should become a place for people to</p>
<ul>
<li>
<p>ask design-specific questions</p>
</li>
<li>
<p>share cool stuff and be praised for all the good work you're doing</p>
</li>
<li>
<p>develop and document a common understanding of the semantics of matrix</p>
</li>
<li>
<p>make sure the user experience is amazing, even as we all figure out how to federate.
Probably most designers work on single clients right now, but there are important UX questions that can only be answered ecosystem-wide. Maybe we'll end up with a design guide for people to use alongside the spec.</p>
</li>
</ul>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final Thoughts 💭</h2>
<p>Let's test homeservers against <a href="https://github.com/matrix-org/sytest">sytest</a>, then unfairly pit them against one another! This week we're comparing Conduit and Dendrite - let's see the results!</p>
<table><thead><tr><th>Name</th><th>Conduit</th><th>Dendrite</th></tr></thead><tbody>
<tr><td><strong>Federation APIs</strong></td><td><strong>1% (1/103 tests)</strong></td><td><strong>27% (28/103 tests)</strong></td></tr>
<tr><td>State APIs</td><td>0% (0/13 tests)</td><td>46% (6/13 tests)</td></tr>
<tr><td>Key API</td><td>17% (1/6 tests)</td><td>33% (2/6 tests)</td></tr>
<tr><td>Query API</td><td>0% (0/5 tests)</td><td>80% (4/5 tests)</td></tr>
<tr><td>send_join API</td><td>0% (0/8 tests)</td><td>38% (3/8 tests)</td></tr>
<tr><td>make_join API</td><td>0% (0/2 tests)</td><td>50% (1/2 tests)</td></tr>
<tr><td>Auth</td><td>0% (0/19 tests)</td><td>5% (1/19 tests)</td></tr>
<tr><td>room versions</td><td>0% (0/7 tests)</td><td>29% (2/7 tests)</td></tr>
<tr><td>Federation API</td><td>0% (0/14 tests)</td><td>36% (5/14 tests)</td></tr>
<tr><td>get_missing_events API</td><td>0% (0/6 tests)</td><td>33% (2/6 tests)</td></tr>
<tr><td>Backfill API</td><td>0% (0/4 tests)</td><td>0% (0/4 tests)</td></tr>
<tr><td>Invite API</td><td>0% (0/10 tests)</td><td>10% (1/10 tests)</td></tr>
<tr><td>send_leave API</td><td>0% (0/1 tests)</td><td>0% (0/1 tests)</td></tr>
<tr><td>Public Room API</td><td>0% (0/1 tests)</td><td>100% (1/1 tests)</td></tr>
<tr><td>Device Key APIs</td><td>0% (0/7 tests)</td><td>0% (0/7 tests)</td></tr>
<tr><td>Non-Spec API</td><td>0% (0/50 tests)</td><td>0% (0/50 tests)</td></tr>
<tr><td><strong>Client-Server APIs</strong></td><td><strong>8% (56/667 tests)</strong></td><td><strong>33% (225/672 tests)</strong></td></tr>
<tr><td>Registration</td><td>53% (17/32 tests)</td><td>62% (20/32 tests)</td></tr>
<tr><td>Login</td><td>26% (5/19 tests)</td><td>32% (6/19 tests)</td></tr>
<tr><td>V1 CS APIs</td><td>10% (3/30 tests)</td><td>10% (3/30 tests)</td></tr>
<tr><td>Misc CS APIs</td><td>100% (1/1 tests)</td><td>100% (1/1 tests)</td></tr>
<tr><td>Profile</td><td>33% (2/6 tests)</td><td>100% (6/6 tests)</td></tr>
<tr><td>Devices</td><td>17% (2/12 tests)</td><td>17% (2/12 tests)</td></tr>
<tr><td>Presence</td><td>0% (0/10 tests)</td><td>0% (0/10 tests)</td></tr>
<tr><td>Create Room</td><td>31% (4/13 tests)</td><td>92% (12/13 tests)</td></tr>
<tr><td>Sync API</td><td>1% (1/85 tests)</td><td>40% (34/85 tests)</td></tr>
<tr><td>Room Membership</td><td>0% (0/15 tests)</td><td>47% (7/15 tests)</td></tr>
<tr><td>Room State APIs</td><td>0% (0/14 tests)</td><td>36% (5/14 tests)</td></tr>
<tr><td>Public Room APIs</td><td>0% (0/7 tests)</td><td>14% (1/7 tests)</td></tr>
<tr><td>Room Aliases</td><td>0% (0/15 tests)</td><td>67% (10/15 tests)</td></tr>
<tr><td>Joining Rooms</td><td>0% (0/8 tests)</td><td>75% (6/8 tests)</td></tr>
<tr><td>Leaving Rooms</td><td>0% (0/1 tests)</td><td>100% (1/1 tests)</td></tr>
<tr><td>Inviting users to Rooms</td><td>0% (0/14 tests)</td><td>7% (1/14 tests)</td></tr>
<tr><td>Banning users</td><td>0% (0/5 tests)</td><td>20% (1/5 tests)</td></tr>
<tr><td>Sending events</td><td>0% (0/3 tests)</td><td>100% (3/3 tests)</td></tr>
<tr><td>Getting events for Rooms</td><td>0% (0/10 tests)</td><td>60% (6/10 tests)</td></tr>
<tr><td>Typing API</td><td>0% (0/5 tests)</td><td>0% (0/5 tests)</td></tr>
<tr><td>Receipts</td><td>0% (0/4 tests)</td><td>0% (0/4 tests)</td></tr>
<tr><td>Read markers</td><td>0% (0/1 tests)</td><td>100% (1/1 tests)</td></tr>
<tr><td>Media APIs</td><td>10% (2/21 tests)</td><td>24% (5/21 tests)</td></tr>
<tr><td>Capabilities API</td><td>0% (0/2 tests)</td><td>50% (1/2 tests)</td></tr>
<tr><td>Logout</td><td>0% (0/4 tests)</td><td>75% (3/4 tests)</td></tr>
<tr><td>Push APIs</td><td>21% (12/58 tests)</td><td>8% (5/59 tests)</td></tr>
<tr><td>Account APIs</td><td>20% (2/10 tests)</td><td>40% (4/10 tests)</td></tr>
<tr><td>Ephemeral Events</td><td>0% (0/1 tests)</td><td>0% (0/1 tests)</td></tr>
<tr><td>Power Levels</td><td>0% (0/2 tests)</td><td>83% (5/6 tests)</td></tr>
<tr><td>Redaction</td><td>0% (0/5 tests)</td><td>0% (0/5 tests)</td></tr>
<tr><td>Third-Party ID APIs</td><td>16% (3/19 tests)</td><td>16% (3/19 tests)</td></tr>
<tr><td>Guest APIs</td><td>0% (0/35 tests)</td><td>49% (17/35 tests)</td></tr>
<tr><td>Room Auth</td><td>0% (0/25 tests)</td><td>52% (13/25 tests)</td></tr>
<tr><td>Forget APIs</td><td>0% (0/4 tests)</td><td>25% (1/4 tests)</td></tr>
<tr><td>Context APIs</td><td>0% (0/4 tests)</td><td>0% (0/4 tests)</td></tr>
<tr><td>Room Upgrade APIs</td><td>0% (0/21 tests)</td><td>0% (0/21 tests)</td></tr>
<tr><td>Room Versions</td><td>0% (0/40 tests)</td><td>75% (30/40 tests)</td></tr>
<tr><td>Device Keys</td><td>3% (1/37 tests)</td><td>3% (1/37 tests)</td></tr>
<tr><td>Tagging APIs</td><td>0% (0/8 tests)</td><td>75% (6/8 tests)</td></tr>
<tr><td>Search APIs</td><td>0% (0/6 tests)</td><td>0% (0/6 tests)</td></tr>
<tr><td>OpenID API</td><td>0% (0/3 tests)</td><td>0% (0/3 tests)</td></tr>
<tr><td>Send-to-Device APIs</td><td>0% (0/12 tests)</td><td>0% (0/12 tests)</td></tr>
<tr><td>Server Admin API</td><td>0% (0/1 tests)</td><td>0% (0/1 tests)</td></tr>
<tr><td>Ignore Users</td><td>0% (0/3 tests)</td><td>0% (0/3 tests)</td></tr>
<tr><td>User Directory APIs</td><td>0% (0/11 tests)</td><td>0% (0/11 tests)</td></tr>
<tr><td>Application Services API</td><td>4% (1/25 tests)</td><td>20% (5/25 tests)</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;05&#x2F;11&#x2F;announcing-gsoc-2020-participants&#x2F;" title="Announcing GSOC 2020 Participants!">Announcing GSOC 2020 Participants!</a></h1>
            <span>
                11.05.2020 00:00
                —
                <a href="/category/gsoc">
                    GSOC
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <p><img src="/blog/img/gsoc.png" alt="GSOC Logo" /></p>
<p><a href="https://summerofcode.withgoogle.com/">Google Summer of Code</a> participants were announced last week. <strong><a href="https://summerofcode.withgoogle.com/organizations/6060943798173696/">This year Matrix was assigned SIX students!</a></strong></p>
<p>This is the most students we've have taken on in a single year, made possible by Matrix now acting as an umbrella organisation for multiple projects - this year that's Ruma, Nheko and OpsDroid. There are also students working on projects from the core team: go-neb, matrix-js-sdk and matrix-ircd.</p>
<p>We received dozens of applications this year, which made narrowing our focus to six students difficult, but we are proud to announce:</p>
<p><strong>Devin Ragotzy</strong>, who has been involved with the Ruma project in the past, will work on <em><a href="https://summerofcode.withgoogle.com/projects/#4756651216732160">Ruma procedural macro refactoring and more</a></em></p>
<p><strong>Arnav Tiwari</strong> will work with Travis and myself to create <em><a href="https://summerofcode.withgoogle.com/projects/#5751467312414720">HTML Embeddable Matrix Chat Rooms</a></em></p>
<p><strong>Nikolaos Filippakis</strong> will work to support <em><a href="https://summerofcode.withgoogle.com/projects/#5910277670830080">E2E encryption for go-neb</a></em>. Kegan, one of the original go-neb authors is particularly excited about this one</p>
<p><strong>Brooks Karlik</strong> will update matrix-ircd: <em><a href="https://summerofcode.withgoogle.com/projects/#5911643604647936">Move matrix-ircd to async/await</a></em>. This will be a welcome upgrade for anyone using that project!</p>
<p><strong>Tyagdit</strong> will work with Cadair and the <a href="/blog/2020/05/01/this-week-in-matrix-2020-05-01">OpsDroid team</a> on <em><a href="https://summerofcode.withgoogle.com/projects/#6107552447725568">Enabling E2EE in Opsdroid Matrix Connector</a></em></p>
<p><strong>Chethan Reddy</strong>, last but not least, will work with Nico and the Nheko gang on <em><a href="https://summerofcode.withgoogle.com/projects/#6274781747347456">Adding Features in End-to-End encryption for Nheko-Reborn</a></em></p>
<p>Congratulations all, and also congratulations and thank you to the projects the students will be working on!</p>
<p>Find out all about <a href="https://summerofcode.withgoogle.com/organizations/6060943798173696/">Matrix @ GSoC on Google's dedicated site</a>, and keep reading the Matrix blog where we'll have updates from the students.</p>
<hr />
<p>PS <strong>Alejandro Domínguez</strong> has a Matrix related project too: they'll be working under the GNOME organisation to <em><a href="https://summerofcode.withgoogle.com/projects/#6726209787920384">add Multi account support to Fractal</a></em>.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;05&#x2F;07&#x2F;this-week-in-matrix-2020-05-07&#x2F;" title="This Week in Matrix 2020-05-07">This Week in Matrix 2020-05-07</a></h1>
            <span>
                07.05.2020 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/l8Pj9_Q4VQs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Matthew and Amandine discuss the week, including E2EE by default!</p>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> 🌡</h2>
<p><em>What a week!!</em></p>
<p>Lots happening this week! <a href="https://matrix.org/blog/2020/05/06/cross-signing-and-end-to-end-encryption-by-default-is-here">Cross-signing landed</a> - this is a massive achievement for the team, and will go a long way to helping the user experience for new users especially. <a href="https://blog.riot.im/e2e-encryption-by-default-cross-signing-is-here/">Read more in the major Riot blog post here</a>. Time to start getting less-technical friends on Matrix!</p>
<p>Google announced their Summer of Code programme acceptees: <a href="https://summerofcode.withgoogle.com/organizations/6060943798173696/">Matrix have six students this year</a>, our most ever! We'll make a new blog post next week welcoming the students!</p>
<p>Last month we hosted <a href="https://www.youtube.com/watch?v=APVp-20ATLk">Open Tech Will Save Us meetup 1</a>, so hold on to your keyboard as we announce <a href="https://matrix.org/open-tech-meetup/">Open Tech Will Save Us meetup 2</a>!</p>
<p>Meetup 2 will feature:</p>
<ul>
<li><a href="http://exple.tive.org/blarg/">Mike Hoye</a> from Mozilla talking about &quot;Verbs in the fediverse&quot;</li>
<li>Eugen (<a href="https://mastodon.social/@Gargron">@Gargron@mastodon.social</a>) will talk about &quot;how we keep mastodon.social running at scale&quot; as a Q&amp;A</li>
<li>+MORE</li>
</ul>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> offered:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals.">https://matrix.org/docs/spec/proposals.</a></p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2454">MSC2454: Support UI auth for SSO</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2457">MSC2457: Invalidating devices during password modification</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2472">MSC2472: Symmetric SSSS</a></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2529">MSC2529: Proposal to use existing events as captions for images</a> <em>(sounds great! - bp)</em></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2526">MSC2526: Add ability to delete key backups</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2530">MSC2530: Body field as media caption</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, <a href="https://github.com/matrix-org/matrix-doc/pull/2474">MSC2474</a> has entered FCP. Keeping with the E2EE theme, we've switched focus to <a href="https://github.com/matrix-org/matrix-doc/pull/2526">MSC2526</a>. So the new list of MSCs for next week is: <a href="https://github.com/matrix-org/matrix-doc/pull/2366">MSC2366</a> (verification flows), <a href="https://github.com/matrix-org/matrix-doc/pull/2399">MSC2399</a> (UISI messaging), and <a href="https://github.com/matrix-org/matrix-doc/pull/2526">MSC2526</a> (deleting key backups).</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> said:</p>
<blockquote>
<ul>
<li>
<p>Some of the work for <code>/get_missing_events</code> has been done now for filling gaps in the room DAG</p>
</li>
<li>
<p>Federation sender performance and parallelisation have been dramatically improved, which helps a lot in big rooms</p>
</li>
<li>
<p>Retries, backoff and blacklisting have also been implemented in the federation sender to handle cases where remote homeservers are unavailable much more gracefully</p>
</li>
<li>
<p>Retrieving missing state when receiving incoming events over federation is a bit more robust now</p>
</li>
<li>
<p>Creating direct chats now works</p>
</li>
<li>
<p>Invites are mostly working now overall, both locally and over federation</p>
</li>
<li>
<p><code>RespState</code> and <code>RespStateJoin</code> have been fixed in gomatrixserverlib</p>
</li>
<li>
<p>Room joins and leaves are now handled by new code across the roomserver and federation server perform APIs, which reduces complexity significantly</p>
</li>
</ul>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> offered:</p>
<blockquote>
<ul>
<li>
<p>Redis live in production for m.org! We did not expect this to translate into a significant improvement in performance directly, but it means that we can add new workers without any extra overhead on the master process which has been <em>very</em> useful in supporting cross signing.</p>
</li>
<li>
<p>Fixing bugs leading to messages getting stuck at the bottom of the timeline as well as messages not making it to sync at all. </p>
</li>
<li>
<p>Lots of improvements to deal with the extra load generated by cross signing.</p>
</li>
</ul>
<p>All of these changes will be available in v1.13.0 which should have a release candidate ready rsn.</p>
<p>Next week, we continue to work on sharding changes, further SSO support and ensuring that cross signing adoption is as smooth as possible.</p>
</blockquote>
<h3 id="architect">architect</h3>
<p><a href="https://matrix.to/#/@gnu_ponut:matrix.org">Gnuxie</a> said:</p>
<blockquote>
<p><a href="https://gitlab.com/cal-coop/architect">Architect</a> is a homeserver project written in <a href="https://common-lisp.net">Common Lisp</a>. We intend to create a high performance homeserver using the meta-programming features of Common Lisp to reduce the amount of redundant and timely code that needs to be written and maintained.</p>
<h4 id="architect-events">architect events</h4>
<p>I created a <a href="https://gitlab.com/Gnuxie/json-schema2">json-schema</a> library, to generate class definitions directly from the Matrix specification. These classes also have information attached to them to allow for serialisation, using a metaclass from <a href="https://gitlab.com/Gnuxie/json-clos">json-clos</a>.</p>
<p>This is done entirely dynamically without writing to source files. <a href="https://gitlab.com/cal-coop/architect/architect.events">The invocation</a> of json-schema that creates classes for the <code>client-server</code>, <code>server-server</code> and <code>application-service</code> protocols is only about 20 lines.</p>
</blockquote>
<p>I definitely approve of separating out the event library and generating it from the spec - Ruma also has this approach.</p>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> told us:</p>
<blockquote>
<p>This week I refactored most of the data handling code to make it both more efficient and easier to read. I started by splitting a file called &quot;data.rs&quot; into multiple smaller files that handle just one part of the database, like &quot;users.rs&quot;, &quot;rooms.rs&quot; or &quot;edus.rs&quot;. I continued improving the code by making methods return iterators instead of vectors and propagating errors instead of crashing directly. Lastly, I added a few comments here and there and made sure everything works.</p>
<p>Meanwhile, @Valkum experimented with CI and @MTRNord is working on FluffyChat Flutter support.</p>
<p>Finally, I want to thank my supporters on <a href="https://liberapay.com/timokoesters">Liberapay</a>.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="matrix-signal-bridge">matrix-signal bridge</h3>
<p><a href="https://matrix.to/#/@witchent:matrix.org">witchent</a> told us:</p>
<blockquote>
<p>After a few weeks of work the matrix-signal bridge is now functional again. In the process I also added the possibility to send audio and video files among other things.</p>
<p>If you want to try it out go to <a href="https://github.com/witchent/matrix-puppet-signal.">https://github.com/witchent/matrix-puppet-signal.</a></p>
</blockquote>
<h3 id="mx-puppet-bridge">mx-puppet-bridge</h3>
<p><a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a> is a general bridging library that supports (double)bridging and relays. The goal is to make it as easy as possible for others to bridge new third-party protocols to matrix. <a href="https://matrix.to/#/#mx-puppet-bridge:sorunome.de">Support room</a> <a href="https://liberapay.com/Sorunome">Donate</a></p>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> reported:</p>
<blockquote>
<p>mx-puppet-bridge now supports emote synchronising using revolution's custom emotes! The discord protocol implementation (mx-puppet-discord) already utilizes this</p>
</blockquote>
<h3 id="easybridge-is-a-multi-user-bridge-for-small-matrix-servers">Easybridge is a multi-user bridge for small Matrix servers</h3>
<p><a href="https://matrix.to/#/@lx:deuxfleurs.fr">LX</a> reported:</p>
<blockquote>
<p>Easybridge is a multi-user bridge for small Matrix servers, with the idea of making it easy for non-technical users to bridge their external accounts into Matrix. Once configured next to a server, users can just go to a dedicated web page and add their accounts with a simple form. Currently supported protocols include IRC (buggy), XMPP (basic feature only), Mattermost (quite in good shape) and Facebook Messenger (has issues with disconnections). Available at the following link: <a href="https://git.deuxfleurs.fr/lx/easybridge">https://git.deuxfleurs.fr/lx/easybridge</a></p>
</blockquote>
<h3 id="matrix-appservice-slack">matrix-appservice-slack</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> offered:</p>
<blockquote>
<p>Hello one and all. Today we're releasing the <a href="https://github.com/matrix-org/matrix-appservice-slack/releases/tag/1.2.0">1.2.0</a> of the slack bridge. No notable changes from the last RC this time, but another release should follow this one soon to make changes to the provisioning system :)</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="gomuks">gomuks</h3>
<p><a href="https://maunium.net/go/gomuks">gomuks</a> is a terminal based Matrix client written in Go. <a href="https://github.com/tulir/gomuks">Source on GitHub</a></p>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> offered:</p>
<blockquote>
<p>gomuks's e2ee support is now on the master branch. The basic olm/megolm things like key distribution work fine, but no advanced stuff like key import/export or device verification yet.</p>
<p>I'll probably add e2be to mautrix-whatsapp next and then add some of the advanced e2ee stuff to gomuks. I'll also make a v0.1.0 release in gomuks after I figure out some bugs in message history loading.</p>
</blockquote>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> reported:</p>
<blockquote>
<p>Apart from some further speedups, we've been working on reactions. Nheko can now display them and sending them should be done soon too. We also fixed a few bugs, when people reported them and you can now select, who you want to reply to by using a keyboard shortcut (Alt+Arrow keys for now). We will probably release a new version once reactions are done.</p>
</blockquote>
<p><img src="/blog/img/2020-05-07-koLge-clipboard(1).png" alt="2020-05-07-koLge-clipboard(1).png" /></p>
<h3 id="riotx-v0-19-0">RiotX v0.19.0</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> said:</p>
<blockquote>
<p>We have released RiotX v0.19.0 on the PlayStore on Tuesday! This is a pretty huge release, including all the work on cross-signing, but also other features like changing account password, deactivating account, saving media to Gallery, etc., without forgetting a lot of bug fixes. More detailed change log can be found here: <a href="https://github.com/vector-im/riotX-android/releases/tag/v0.19.0.">https://github.com/vector-im/riotX-android/releases/tag/v0.19.0.</a></p>
<p>We are now working to implement the main missing features compare to Riot-Android, with the target to upgrade Riot-Android with RiotX codebase in a few weeks.</p>
</blockquote>
<h3 id="riot-ios">Riot-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> offered:</p>
<blockquote>
<p>This week has mostly been another cross-signing week to improve it and to fix bugs. We released 0.11.2 on Monday. We are going to release 0.11.3 with the work we made this week. It should be available in the App Store tomorrow.</p>
<p>We also released MatrixSDK 0.16.4 with the last version of AFNetworking. That means apps using the MatrixSDK should be able to publish to the App Store again. There is no more usage of <code>UIWebView</code>.</p>
</blockquote>
<h3 id="radical-native">Radical Native</h3>
<p><a href="https://matrix.to/#/@stoically:matrix.org">stoic</a> offered:</p>
<blockquote>
<p>Your favorite way of electron-free searching through encrypted rooms in Riot Web was just updated to v0.1beta11, featuring:</p>
<ul>
<li>
<p>Windows support</p>
</li>
<li>
<p>Packages for Ubuntu/Debian (.deb), MacOS (.pkg) and Windows (.exe) to make  installation a whole lot easier</p>
</li>
<li>
<p>Updated to latest seshat (1.3.3)</p>
</li>
<li>
<p>Get it here: <a href="https://github.com/stoically/radical-native">https://github.com/stoically/radical-native</a></p>
</li>
</ul>
</blockquote>
<h3 id="new-translation-projects-for-riotx-and-nio">New translation projects for RiotX and Nio</h3>
<p>Take a look at <a href="https://translate.riot.im/projects/riot-android/">https://translate.riot.im/projects/riot-android/</a> and see if you can help with translation there.</p>
<p><a href="https://nio.chat">Nio (client)</a> translations are also now available on  Weblate - go forth, translate and help Kilian out. Or, &quot;aushelfen&quot; him, as he might say.</p>
<h3 id="revolution">Revolution</h3>
<blockquote>
<p>Revolution is a riot-web fork that has things like custom emotes. Have you heard of it before? Well, it's been around for about two years already!</p>
<p>You can try it out on <a href="https://ponies.im/_matrix/client/develop">https://ponies.im/_matrix/client/develop</a> or build it yourself from the repos at <a href="https://gitlab.com/ponies-im">https://gitlab.com/ponies-im</a></p>
<pre data-lang="bash" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-bash "><code class="language-bash" data-lang="bash"><span>
</span><span>git clone &lt;https://gitlab.com/ponies-im/matrix-js-sdk.git&gt;
</span><span>cd matrix-js-sdk
</span><span>
</span><span>yarn install
</span><span>yarn build
</span><span>
</span><span>yarn link
</span><span>cd ..
</span><span>
</span><span>git clone &lt;https://gitlab.com/ponies-im/matrix-react-sdk.git&gt;
</span><span>cd matrix-react-sdk
</span><span>
</span><span>yarn link matrix-js-sdk
</span><span>yarn install
</span><span>
</span><span>yarn build
</span><span>yarn link
</span><span>
</span><span>cd ..
</span><span>git clone &lt;https://gitlab.com/ponies-im/riot-web.git&gt;
</span><span>
</span><span>cd riot-web
</span><span>yarn link matrix-js-sdk
</span><span>
</span><span>yarn link matrix-react-sdk
</span><span>yarn install
</span><span>
</span><span>yarn build
</span><span>yarn electron </span><span style="color:#608b4e;"># this also launches the app
</span><span>
</span></code></pre>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="ruma">Ruma</h3>
<p>Ruma is a Rust project to create a comprehensive set of APIs for Matrix. Previously there was a Ruma homeserver project.</p>
<p><a href="https://matrix.to/#/@jplatte:matrix.org">jplatte</a> offered:</p>
<blockquote>
<p>Things are progressing at a fast pace, and after a few weeks of mostly pre-releases, we've now got</p>
<h4 id="ruma-events-0-21-0"><a href="https://github.com/ruma/ruma-events/blob/master/CHANGELOG.md#0210">ruma-events 0.21.0</a></h4>
<p>With this release, it is now easier than ever to work with malformed and / or custom events. Some <a href="https://github.com/ruma/ruma-events/issues/82">big changes</a> are already being planned for the next release.</p>
<h4 id="ruma-api-0-16-0"><a href="https://github.com/ruma/ruma-api/blob/master/CHANGELOG.md#0160">ruma-api 0.16.0</a></h4>
<p>We basically just deleted lots of code that is no longer needed with ruma-events 0.21.0. We also got rid of the dependency on the <code>url</code> crate, which really didn't have a very good reasont o be there.</p>
<h4 id="ruma-client-api-0-8-0"><a href="https://github.com/ruma/ruma-client-api/blob/master/CHANGELOG.md#080">ruma-client-api 0.8.0</a></h4>
<p>With this release, ruma-client-api is basically up-to-date with r0.6.0 of the matrix specification. Special thanks to @iinuwa for updating a bunch of those endpoints, and for adding support for the user-interactive authentication API!</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="opsdroid-home-assistant-bot">Opsdroid home-assistant bot</h3>
<p><a href="https://matrix.to/#/@oleg:fiksel.info">Oleg</a> reported:</p>
<blockquote>
<p>After seeing the fabulous <a href="https://matrix.org/blog/2020/05/01/this-week-in-matrix-2020-05-01">matrix live opsdroid party</a> I decided to release my home-assistant bot.</p>
<p>I use this bot for triggering home-assistant automations via matrix.
All commands and actions can be configured using just a config file.</p>
<ul>
<li>
<p>Get it : <a href="https://gitlab.com/olegfiksel/home-assistant-bot">https://gitlab.com/olegfiksel/home-assistant-bot</a></p>
</li>
<li>
<p>Talk about it: <a href="https://matrix.to/#/#home-assistant-bot:fiksel.info">#home-assistant-bot:fiksel.info</a> </p>
</li>
</ul>
<p>P.S: Thanks for Opsdroid! ❤︎</p>
</blockquote>
<p><img src="/blog/img/2020-05-07-VqcJC-screenshot01.png" alt="2020-05-07-VqcJC-screenshot01.png" /></p>
<p>Awesome example of life imitating art! After we recorded the Matrix Live last week I resolved to get Opsdroid and Home Assistant running!</p>
<h2 id="new-public-rooms-stadium">New Public Rooms 🏟</h2>
<h3 id="r-av1-discord-bridged-to-matrix">/r/AV1 discord bridged to Matrix</h3>
<p><a href="https://matrix.to/#/@dandellion:dodsorf.as">dandellion</a> reported:</p>
<blockquote>
<p>Anyone here is interested in AV1 (the new open video codec) and related modern codecs?</p>
<p>I have bridged the /r/AV1 discord to <a href="https://matrix.to/#/+av1:dodsorf.as">+av1:dodsorf.as</a></p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰</h2>
<h3 id="doctor-who-watchalongs">Doctor Who watchalongs</h3>
<p><a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a> said:</p>
<blockquote>
<p>The Matrix community editions of the Doctor Who watchalongs continue! Next up on our line-up is another two-parter on Sunday (May 10th), we'll be pressing play on The Zygon Invasion at 7PM BST, then on The Zygon Inversion at 8PM BST! Joining us on Twitter will be Peter Harness (writer) &amp; Ingrid Oliver (Petronella Osgood aka The Osgoods™︎), and maybe more 🙂</p>
<p>As always, to join the fun or know first-hand when the next event will happen, head over to <a href="https://matrix.to/#/#doctor-who-watchalong:abolivier.bzh">#doctor-who-watchalong:abolivier.bzh</a></p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">352.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">phys.ethz.ch</td><td style="text-align: center">394</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">maunium.net</td><td style="text-align: center">458.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">envs.net</td><td style="text-align: center">560</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">fab.network</td><td style="text-align: center">601.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">asra.gr</td><td style="text-align: center">659</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">2gather.community</td><td style="text-align: center">675</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">701.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">gottliebtfreitag.de</td><td style="text-align: center">726</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">danielvinci.com</td><td style="text-align: center">749</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;05&#x2F;06&#x2F;cross-signing-and-end-to-end-encryption-by-default-is-here&#x2F;" title="Cross-signing and End-to-end Encryption by Default is HERE!!!">Cross-signing and End-to-end Encryption by Default is HERE!!!</a></h1>
            <span>
                06.05.2020 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>As of today, Matrix is end-to-end encrypted <strong>by default</strong> for private conversations.</p>
<p>Three years have passed since we <a href="https://matrix.org/blog/2016/11/21/matrixs-olm-end-to-end-encryption-security-assessment-released-and-implemented-cross-platform-on-riot-at-last">first announced End-to-end Encryption in
Matrix</a>
and started to beta test it in Riot - and after an enormous amount of
polishing and refinement on its user experience, we are finally declaring it
out of beta and enabling it by default for all new private conversations in
Riot.  As Riot is currently the most common Matrix client, this means that
Matrix as a whole should now be considered end-to-end encrypted by default for
DMs and invite-only rooms.</p>
<p>Work on E2EE in Matrix has progressed in waves since we first shipped it - including:</p>
<ul>
<li>adding keysharing (letting you share encryption keys between your devices to improve reliability)</li>
<li>making Riot Web's encryption resilient to running concurrently in multiple tabs</li>
<li>adding online key backup (so you don't lose all your history if you lose all your devices)</li>
<li>making encryption resilient to restoring the app from a backup</li>
<li>adding interactive key verification via emoji to make the verification process easier.</li>
</ul>
<p>However, our goal was always to enable E2EE by default for all private rooms,
which means having feature parity between unencrypted and E2EE Matrix so that
we can enable encryption without <em>any</em> negative impact on usability.  The
high-level remaining items were significant:</p>
<ul>
<li>Cross-signing: verifying your own logins so others don’t have to.</li>
<li>Adding QR codes for even better verification UX, to make cross-signing as painless as possible.</li>
<li>Replacing the old prototype UI for E2EE with final polished UI/UX.</li>
<li>Ability to support non-E2EE clients.</li>
<li>Ability to search encrypted rooms.</li>
<li>Ability to view file indexes in encrypted rooms.</li>
<li>Fixing the remaining “Unable to decrypt” errors.</li>
</ul>
<p>Over the last few months the Riot team has been almost entirely focused on
implementing solutions to these items - and we're finally at the point where
the switch can be flipped and as of Riot Web/Desktop 1.6, Riot iOS 0.11.1 and
RiotX Android 0.19, all new private rooms will be encrypted by default;
completing the transition we began at <a href="https://fosdem.org/2020/schedule/event/matrix/">FOSDEM
2020</a> when we landed
cross-signing E2E-by-default in the development branches of Riot.</p>
<p><strong>For full details, please go check out the <a href="https://blog.riot.im/e2e-encryption-by-default-cross-signing-is-here/">massive deep dive over at the Riot
blog</a></strong> - also featuring all the other recent progress in Riot!</p>
<p>Heads up that encrypted traffic is slightly heavier on the server than
unencrypted (due to exchanging keys, verification traffic, and keybackup
traffic), and so there is a risk that the already-over-popular Matrix.org
server instance may feel a little hugged to death.  However, unprecedented
Synapse performance breakthroughs are on the horizon in the coming weeks which
will fix this - and, of course, you can (and should!) be using your own
instance anyway.</p>
<p>Thanks everyone for helping us test encryption over the years and getting us
to this point: cross-signing provides a more secure way of tracking device
trust than almost any other comms system out there, and we hope that you'll
agree the improved UX has been worth the wait.</p>
<p>Next stop: Synapse performance, and rebuilding Riot's first time user experience!</p>
<p>thanks,</p>
<p>Matthew, Amandine &amp; the Matrix Team.</p>
<p>(Comments over at <a href="https://news.ycombinator.com/item?id=23107564">HN</a>)</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;05&#x2F;01&#x2F;this-week-in-matrix-2020-05-01&#x2F;" title="This Week in Matrix 2020-05-01">This Week in Matrix 2020-05-01</a></h1>
            <span>
                01.05.2020 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/mQTCYe0xcKs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> 🌡</h2>
<h3 id="cross-signing-is-close-please-test-https-riot-im-staging">Cross-Signing is close, please test <a href="https://riot.im/staging">https://riot.im/staging</a></h3>
<p>Next week, Cross-Signing is planned for release!</p>
<p>Please test <a href="https://riot.im/staging">https://riot.im/staging</a> this weekend, and report any issues you may find!</p>
<h3 id="t2bot-io-passes-3-million-bridged-users">t2bot.io passes 3 Million bridged users</h3>
<p><a href="https://github.com/turt2live">TravisR</a> said:</p>
<blockquote>
<p>Over 3 million people from Telegram and Discord have now been brought into the Matrix universe through t2bot.io. Of those people, around 230 thousand are active each month and 15 thousand are dedicated users of the bridges daily.</p>
<p>While this is a huge milestone for t2bot.io,it underlines the importance of self-hosting: having a couple giant bridges is great for accessibility, though where possible it’s heavily encouraged that people self-host. Hosting the bridges yourself on your own homeserver gives you better control of what passes through your server, reduces your dependence on third parties like t2bot.io, and gives you better performance.</p>
<p>During peak periods, t2bot.io sees about 10 messages per second passing through it. Half of those messages are generated by the Telegram bridge alone. The other half is dealing with federation and the various other bridges and bots on t2bot.io. In terms of media, a new image is uploaded every 2 seconds, leading to 5.8 TB of media being stored. The database is 3 TB and holds 236 Million events - roughly 131 Million of which are sent by t2bot.io.</p>
<p>Thank you to everyone who has used t2bot.io in the past 3 years - it’s been more successful than ever imagined. Here’s to another year and a bunch of self-hosting. :)</p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> said:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are currently in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2516">MSC2516: Add a new message type for voice messages</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, <a href="https://github.com/matrix-org/matrix-doc/pull/2454">MSC2454</a>  has entered FCP, and as such we've decided to instead focus on <a href="https://github.com/matrix-org/matrix-doc/pull/2399">MSC2399</a>. So the new list of MSCs for next week is: <a href="https://github.com/matrix-org/matrix-doc/pull/2366">MSC2366</a> (verification flows), <a href="https://github.com/matrix-org/matrix-doc/pull/2399">MSC2399</a> (UISI messaging), and <a href="https://github.com/matrix-org/matrix-doc/pull/2472">MSC2472</a> (Symmetric SSSS).</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> announced:</p>
<blockquote>
<ul>
<li>
<p>Room version 5 support added - Dendrite now supports all current room versions!</p>
</li>
<li>
<p>Room version 5 will now be used by default when creating new rooms.</p>
</li>
<li>
<p>Backfill over federation has been implemented and it honours <code>history_visibility</code> correctly.</p>
</li>
<li>
<p>Strict key validity checking has been fully implemented in gomatrixserverlib in support of room version 5. Some key expiry bugs have also been fixed.</p>
</li>
<li>
<p>Back-pagination tokens are now generated correctly for events that have the same depth.</p>
</li>
<li>
<p>It's now possible to limit the number of Postgres connections - thanks <a href="https://github.com/tomasji">tomasji</a>!</p>
</li>
<li>
<p>Some progress towards working invites has been made.</p>
</li>
<li>
<p>Federated room joins are now performed by the federation sender as a part of an on-going remodelling.</p>
</li>
<li>
<p>Some bugs with URL query vs. path escaping have been fixed in gomatrixserverlib.</p>
</li>
<li>
<p>A number of internal APIs have been merged together.</p>
</li>
<li>
<p>Some new tests have been added to the sync API.</p>
</li>
</ul>
</blockquote>
<p>v5 rooms! this is a sign of huge progress in Dendrite!</p>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> offered:</p>
<blockquote>
<p>We’ve spent time this week working with the Riot teams to tweak matrix.org performance for cross signing. We’ve also fixed a few performance regressions ahead of next week's 1.13.0 release (which will be a big one, more details when it lands).</p>
<p>With any luck we’ll have Redis in production on matrix.org next week, we don’t think this will give us a huge performance win, but there is certainly overhead in having so many workers using the previous replication streaming method.</p>
<p>Our sharding project continues, and Erik has been trying to move the event stream entirely away from the master process which in itself could be significant for overall perf once ready for production.</p>
<p>Aside from that we continue to improve SSO support and we have a really great community PR from <a href="https://github.com/sandhose">sandhose</a> that <a href="https://github.com/matrix-org/synapse/pull/7256">implements OpenID Connect support</a>. We are really looking forward to getting that merged. The admin API is also getting plenty of community love with <a href="https://github.com/matrix-org/synapse/pull/6881">awesome-manual</a> and <a href="https://github.com/matrix-org/synapse/pulls/dklimpel">dklimpel</a> leading the charge.</p>
<p>Next week, look out for 1.13.0 and hopefully some more good news on sharding.</p>
</blockquote>
<h3 id="p2p-matrix">P2P Matrix</h3>
<p><a href="https://matrix.to/#/@kegan:matrix.org">kegan</a> told us:</p>
<blockquote>
<p>Version 0.0.6 has been released on <a href="https://p2p.riot.im">https://p2p.riot.im</a> which has the following changes:</p>
<ul>
<li>
<p>Room version 5 is supported by default.</p>
</li>
<li>
<p>Backfill is much more reliable.</p>
</li>
<li>
<p>Backfill now does <em>all</em> PDU checks required of it</p>
</li>
</ul>
<p>You might get kicked out a few times whilst the service worker shifts around, you can force things by going to <code>chrome:serviceworker-internals</code> or <code>about:debugging#/runtime/this-firefox</code> to unregister the worker manually. Logs will state version 0.0.6 on update.</p>
</blockquote>
<p>All the benefits from Dendrite (above) will feed into this.</p>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> said:</p>
<blockquote>
<p>There was a lot of progress this week!</p>
<ul>
<li>
<p>First server-server communication by requesting a remote public room list</p>
</li>
<li>
<p>Paginated message loading</p>
</li>
<li>
<p>Message notifications</p>
</li>
<li>
<p>RiotX support</p>
</li>
<li>
<p>Changing the nickname works properly now</p>
</li>
<li>
<p>Forget rooms</p>
</li>
</ul>
<p>Thanks to my supporters on <a href="https://liberapay.com/timokoesters">Liberapay</a>.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="matrix-appservice-irc">matrix-appservice-irc</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> announced:</p>
<blockquote>
<p>Hey all, the IRC bridge has reached another milestone, 0.17.0. This is a medium sized release, containing a few nice to have features like predicting nickname conflicts and some work around user deactivation. Importantly, this release <strong>authenticates</strong> the provisioning endpoint so if you run an integration manager or script that makes use of it, ensure that it handles requests appropriately. You can see the changelog in <a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.17.0">https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.17.0</a></p>
</blockquote>
<h3 id="mx-puppet-bridge">mx-puppet-bridge</h3>
<p><a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a> is a general bridging library that supports (double)bridging and relays. The goal is to make it as easy as possible for others to bridge new third-party protocols to matrix. <a href="https://matrix.to/#/#mx-puppet-bridge:sorunome.de">Support room</a> <a href="https://liberapay.com/Sorunome">Donate</a></p>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> told us:</p>
<blockquote>
<ul>
<li>
<p>event syncing/storage is now properly handled on a per-room basis, rather than a global one</p>
</li>
<li>
<p>automatically renew double-puppeting if shared secret auth is enabled</p>
</li>
<li>
<p>Enhance reply support matrix-&gt;remote: The remote protocol gets in the callback now proper information on the event replied to</p>
</li>
<li>
<p>Add remote-&gt;matrix reply fallback</p>
</li>
</ul>
<h4 id="mx-puppet-skype">mx-puppet-skype</h4>
<ul>
<li>
<p>Implement skype quotes / matrix replies</p>
</li>
<li>
<p>various stability fixes</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="pattle-version-0-15-0">Pattle: version 0.15.0</h3>
<p>Pattle is a client written for Flutter using Dart</p>
<p><a href="https://matrix.to/#/@wilko:pattle.im">Wilko</a> told us:</p>
<blockquote>
<p>A new version has been made available and will become available on Google Play and TestFlight!</p>
<p>Because of corona this might take longer than usual.</p>
<h4 id="changes">Changes</h4>
<ul>
<li>
<p>A <em>lot</em> has changed internally, expect to have a smoother experience!</p>
<p>(See also the Matrix Dart SDK release)</p>
</li>
<li>
<p>A new logo is here!</p>
<p>Designed by <a href="https://en.99designs.pt/profiles/borad">bo_rad</a>!</p>
</li>
<li>
<p>Logging in has completely been revamped</p>
</li>
<li>
<p>For the initial sync (after login) a splash screen is shown</p>
</li>
<li>
<p>Chats in the overview are now separated by two tabs: Chats and channels</p>
</li>
<li>
<p>There's now a navigation drawer, which will be filled with useful actions in the future. For now it's just a place to go to Settings</p>
</li>
<li>
<p>Message times are now shown on the same line, if possible</p>
</li>
<li>
<p>Replies have been redesigned</p>
</li>
<li>
<p>Buttons or list tiles that didn't do anything have been removed to avoid confusion</p>
</li>
<li>
<p>Image sending has been improved, the image is now shown immediately in the timeline</p>
</li>
<li>
<p>Push notifications don't popup when the respectful chat is opened</p>
</li>
<li>
<p>Push notifications are now grouped by chat</p>
</li>
<li>
<p>Push notifications are hidden when opening the respective chat</p>
</li>
<li>
<p>Messages are immediately marked as read, previously was after 2 seconds of having it opened</p>
</li>
<li>
<p>Some colors in the dark theme have been altered</p>
</li>
<li>
<p>Ability to create a chat has temporarily been removed, it wasn't functioning well and will be completely redone</p>
</li>
</ul>
<h4 id="get-pattle">Get Pattle</h4>
<ul>
<li><strong>Android</strong>
<ul>
<li><strong><a href="https://f-droid.org/en/packages/im.pattle.app/">F-Droid</a></strong></li>
<li><strong><a href="https://play.google.com/store/apps/details?id=im.pattle.app">Google Play</a></strong></li>
</ul>
</li>
<li><strong><a href="https://testflight.apple.com/join/uTytydST">iOS (TestFlight)</a></strong></li>
</ul>
<h4 id="issues-or-suggestions">Issues or suggestions</h4>
<p>If you stumble upon any issues or would like to suggest features, <a href="https://git.pattle.im/pattle/app/issues">please do so here</a>!</p>
<p>You can <a href="https://git.pattle.im/users/sign_in">login via GitHub and Gitlab.com</a>!</p>
<h4 id="follow-development">Follow development</h4>
<p>Follow development in <a href="https://matrix.to/#/#app:pattle.im">#app:pattle.im</a>!</p>
</blockquote>
<p><img src="/blog/img/2020-05-01-pPDBS-0.15.0.png" alt="2020-05-01-pPDBS-0.15.0.png" /></p>
<h3 id="gomuks">gomuks</h3>
<p><a href="https://maunium.net/go/gomuks">gomuks</a> is a terminal based Matrix client written in Go. <a href="https://github.com/tulir/gomuks">Source on GitHub</a></p>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> announced:</p>
<blockquote>
<p>gomuks now has experimental support for end-to-end encryption on the <a href="https://github.com/tulir/gomuks/tree/e2ee"><code>e2ee</code> branch</a>. It supports both text messages and media downloads. The majority of the work happened in mautrix-go (also on the <a href="https://github.com/tulir/mautrix-go/tree/e2ee"><code>e2ee</code> branch</a>). This also means that mautrix-whatsapp will get support for end-to-bridge encryption in the near future.</p>
</blockquote>
<iframe src="https://www.youtube.com/embed/JDGuZiu0fHE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>What megolm implementation are you using?</p>
<blockquote>
<p>My own based on matrix-nio, <a href="https://matrix.org/docs/guides/end-to-end-encryption-implementation-guide">the e2ee implementation guide</a> and the spec.
libolm bindings stolen from <a href="https://github.com/Dhole/go-olm">https://github.com/Dhole/go-olm</a></p>
</blockquote>
<h3 id="nio">Nio</h3>
<p><a href="https://nio.chat">Nio</a> is a client written with SwiftUI</p>
<p><a href="https://matrix.to/#/@kilian:nio.chat">kilian</a> told us:</p>
<blockquote>
<p><a href="https://nio.chat/">Nio</a> received some cool new features this week.</p>
<ul>
<li>
<p>New Dutch and Chinese (simplified) translations (besides English &amp; German)!</p>
</li>
<li>
<p>Edited messages are now displayed correctly.</p>
</li>
<li>
<p>An edit action has been added to the event context menu, long press a sent message to go into edit mode (looks cool as well!).</p>
</li>
<li>
<p>When entering a full MXID into the username field on logging in, Nio will automagically prefill the homeserver URL (if a well-known config is present server-side).</p>
</li>
<li>
<p>Rich text markdown message display including clickable links detection is now in the works!</p>
</li>
</ul>
<p>Best part about <em>all</em> of these changes: They were contributed by others, I did nothing but merge the PRs! Open-Source ❤️ Shout out to @stefan:stefanhofman.nl, @thomas:mustelo.de, @captain-yukinoshita-hachiaman:matrix.org and @regexident:matrix.org.</p>
</blockquote>
<p><img src="/blog/img/2020-05-01-wellknown.gif" alt="Nio well known" /></p>
<h3 id="riotx">RiotX</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> announced:</p>
<blockquote>
<p>RiotX will finally be an update of Riot-Android on the PlayStore and RiotX beta will then be removed from the PlayStore. We will implement everything to let users upgrade their application without being forced to log in again.</p>
<p>While we are finalizing cross-signing, quadS, bootstrap, etc. on RiotX, we have started studying and implementing the main missing features: identity server and related functionality (terms of service consent, invite by email, search in contact list, bind emails and phone numbers, etc.), integration manager (terms of service consent,widgets, send stickers), WebRTC audio and video calls, Jitsi conference integration, and other important missing features like UI and UX to invite people to a room, etc. We are also fighting an annoying bug related to the navigation inside a timeline.</p>
<p>It's also now possible to deactivate your account using RiotX.</p>
<p>It's worth noting that people can contribute to translate RiotX by using new dedicated <a href="https://translate.riot.im/projects/riot-android/">Weblate projects</a>. Thanks!</p>
</blockquote>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> announced:</p>
<blockquote>
<ul>
<li>
<p>fernie contributed a smoother scroll behaviour and a loading indicator for individual rooms</p>
</li>
<li>
<p>We fixed some readability and styling issues</p>
</li>
<li>
<p>We fixed a major bug in 0.7.1, where you couldn't accept invites</p>
</li>
<li>
<p>We fixed a bug, where nheko would pin a core to 100% CPU on highdpi screens, because it tried to resize avatars all the time...</p>
</li>
<li>
<p>We also reduced CPU usage by a lot. Nheko now only uses 0.7% CPU on my system again and that's just the presence updates I get every 100ms or so...</p>
</li>
</ul>
<p>There will probably be a release in the near future to get those fixes to people not running master.</p>
</blockquote>
<blockquote>
<p>The reduced CPU usage is mostly not resorting the whole room list all the time, but keeping the partially sorted room list around and not storing pending read receipts in the database but just applying them all the time without checking, if we are waiting on a receipt :D</p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<p>A glossy Matrix collaboration client for the web. <a href="https://riot.im">https://riot.im</a></p>
<p><a href="https://matrix.to/#/@jryans:matrix.org">Ryan</a> told us:</p>
<blockquote>
<p>Several more RCs this week have brought us ever closer to the release of cross-signing! A variety of verification, login, and toast issues related to cross-signing have been fixed in the RCs this week. Please do test <a href="https://riot.im/staging">https://riot.im/staging</a> over the weekend, as we're planning to release early next week if no issues are found.</p>
</blockquote>
<h4 id="luxury-dark-theme-for-riot">Luxury Dark Theme for Riot</h4>
<p><a href="https://matrix.to/#/@dhmf:dhdf.dev">Dylan</a> said:</p>
<blockquote>
<ul>
<li>
<p><a href="https://github.com/aaronraimist/riot-web-themes#luxury-dark-theme">https://github.com/aaronraimist/riot-web-themes#luxury-dark-theme</a></p>
</li>
<li>
<p>Join us in <a href="https://matrix.to/#/#riot-web-themes:dhdf.dev">#riot-web-themes:dhdf.dev</a></p>
</li>
</ul>
</blockquote>
<p><img src="/blog/img/2020-05-01-gJYz1-image.png" alt="2020-05-01-gJYz1-image.png" /></p>
<h3 id="ocrcc-embeddable-matrix-chatbox">OCRCC embeddable Matrix chatbox</h3>
<p><a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a> told us:</p>
<blockquote>
<p><a href="https://www.nomadiclabs.ca/">Nomadic Labs</a> have built an open-source embeddable chatbox using Matrix for the <a href="http://www.ocrcc.ca/">OCRCC</a> (Ontario Coalition of Rape Crisis Centres) to allow survivors of sexual violence to communicate and seek help safely with OCRCC facilitators. This chatbox lives at <a href="https://github.com/nomadic-labs/ocrcc-chatbox">https://github.com/nomadic-labs/ocrcc-chatbox</a> - and it has a pretty nice feature set, including end-to-end encryption support.</p>
<p>They've also built a E2EE-capable bot to connect people with facilitators, which can be found here: <a href="https://github.com/nomadic-labs/ocrcc-bot">https://github.com/nomadic-labs/ocrcc-bot</a></p>
</blockquote>
<p>This is a really exciting project! Very stylish design and great to see people using Matrix for something so practical and positive. 👍</p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="matrix-dart-sdk-version-0-30-0">Matrix Dart SDK: version 0.30.0</h3>
<p><a href="https://matrix.to/#/@wilko:pattle.im">Wilko</a> told us:</p>
<blockquote>
<p>The whole SDK has been refactored!</p>
<ul>
<li>
<p>All data objects such as <code>MyUser</code>, <code>Room</code>, etc. are now immutable</p>
</li>
<li>
<p>Add <code>MoorStore</code>, which uses <a href="https://pub.dev/packages/moor">moor</a>
(thanks to MatMaul for the idea and initial implementation!)</p>
</li>
<li>
<p>The <code>SqfliteStore</code> (was in a separate package) is now deprecated</p>
</li>
<li>
<p><code>LocalUser</code> has been renamed to <code>MyUser</code></p>
</li>
</ul>
<p>And a <em>lot</em> of other changes!</p>
<h4 id="how-it-works">How it works</h4>
<p>The user has a stream of <code>Update</code>s, <code>user.updates</code>. An <code>Update</code> contains the latest 'snapshot' of data associated with the user. It also contains a <code>delta</code> <code>MyUser</code>, where all properties are <code>null</code>, except those that are changed. For example, if a user started typing in a certain room, and we're syncing, there will be an <code>Update</code> in <code>user.updates</code>, where <code>delta</code> has 1 <code>Room</code> in <code>delta.rooms</code>, with only the room where the user started typing, reflected in <code>room.typingUserIds</code>. All other properties of the <code>Room</code> will be null. This is all assuming that this is the only change in the sync. If more happened, it will be reflected in <code>delta</code>.</p>
<p>For more info, see the <a href="https://git.pattle.im/pattle/library/matrix-dart-sdk/-/blob/master/README.md">README</a></p>
<p>Some features previously present may not have been added yet again.</p>
<p>They will be added in the future!</p>
<p>Get it on <a href="https://pub.dev/packages/matrix_sdk">pub</a>!</p>
</blockquote>
<p>Join <a href="https://matrix.to/#/#sdk:pattle.im">#sdk:pattle.im</a> to learn more!</p>
<h3 id="mage-polyjuice-client">🧙 Polyjuice Client</h3>
<p><a href="https://hex.pm/packages/polyjuice_client">Polyjuice Client</a> is a Matrix library for Elixir</p>
<p><a href="https://matrix.to/#/@hubert:uhoreg.ca">uhoreg</a> announced:</p>
<blockquote>
<p>To better serve the wizarding community's transformation needs, I have released <a href="https://hex.pm/packages/polyjuice_client/0.2.2">v0.2.2 of Polyjuice Client</a>, a Matrix library for Elixir.  This release adds support for some more Matrix endpoints, and allows paginating through room history using Elixir's streams.</p>
</blockquote>
<h3 id="ruma">Ruma</h3>
<p><a href="https://matrix.to/#/@jplatte:matrix.org">jplatte</a> and <a href="https://matrix.to/#/@iinuwa:matrix.org">iinuwa</a> offered:</p>
<blockquote>
<p>We've iterated through a few new pre-releases of our libraries to bring some usability improvements. Here are a few highlights:</p>
<ul>
<li>
<p>Implemented User-Interactive Authentication API and some other endpoints to bring us very close to full r0.6.0 compatibility</p>
</li>
<li>
<p>Updated the representation of events to allow preserving original JSON alongside typed event structs</p>
</li>
<li>
<p>Tidied up some our repositories, improved CI build times</p>
</li>
<li>
<p>Began work on Server-Server API in ruma-federation-api</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="matrix-chart-v1-1-1">matrix-chart v1.1.1</h3>
<p><a href="https://matrix.to/#/@david:typokign.com">Typo Kign</a> announced:</p>
<blockquote>
<p>v1.1.1 of <a href="https://github.com/dacruz21/matrix-chart/">dacruz21/matrix-chart</a> is out and now supports the matrix.org IRC bridge! dacruz21/matrix-chart is a secure, scalable way to deploy a complete Matrix homeserver stack, complete with bridges and useful services, into Kubernetes. As always, come visit <a href="https://matrix.to/#/#matrix-chart:typokign.com">#matrix-chart:typokign.com</a>  if you have any questions or need support!</p>
</blockquote>
<h3 id="buildbot-matrix-plugin-available">buildbot-matrix plugin available</h3>
<p><a href="https://matrix.to/#/@haywo:nct08.de">haywo</a> said:</p>
<blockquote>
<p><a href="https://github.com/HayWo/buildbot-matrix">buildbot-matrix</a> v0.0.1 released:</p>
<ul>
<li>
<p>A plugin for the <a href="https://www.buildbot.net/">Buildbot</a> CI framework</p>
</li>
<li>
<p>It sends build status notifications to a specified matrix room</p>
</li>
<li>
<p>available on <a href="https://pypi.org/project/buildbot-matrix/">PyPi</a>, install with <code>pip install buildbot-matrix</code></p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="opsdroid">Opsdroid</h3>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> said:</p>
<blockquote>
<p>Opsdroid has released v0.18 this week, which contains <a href="https://github.com/opsdroid/opsdroid/releases/tag/v0.18.0">a load of stuff</a>. The main matrix related changes are:</p>
<ul>
<li>
<p>A generic event type for all unsupported matrix events, so you can now react to and send any custom events.</p>
</li>
<li>
<p>Implementation of the join room event in the matrix connector so you can react to users joining a matrix room.</p>
</li>
<li>
<p>A fix for mxc urls in messages, so inline images etc work.</p>
</li>
<li>
<p>A fix for the opsdroid memory to allow per-room matrix room state databases. This will hopefully be merged into core for the next release.</p>
</li>
</ul>
<h4 id="picard-opsdroid-skill">Picard Opsdroid Skill</h4>
<p>Related to this release the <a href="https://github.com/SolarDrew/skill-picard">picard</a> skill for bridged slack/matrix community management has been updated, and now (for the first time) works with a release version of opsdroid rather than some random branch 🤣. This involved adding support for lots of different events to the slack connector in opsdroid.</p>
</blockquote>
<p>See Matrix Live this week for a neat introduction to OpsDroid</p>
<h3 id="new-bot-to-share-jitsi-call-urls">New bot to share Jitsi call URLs</h3>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> reported:</p>
<blockquote>
<p>I wrote a bot to share Jitsi call URLs. The main objective is to allow people on the other side of bridges to get the URL for a jitsi call. When a jitsi widget is added to a room (v2 widget from riot-web) it will post a message with the plain jitsi URL. It also provides a !jitsi command which allows people to create a jitsi call with a custom URL, and if the bot has permission it will be added as a widget in the matrix room. It has a bunch of other config options you can tweak it with. The main thing you might find it useful for if you are not in a bridged room is you can use it to quickly add a jitsi widget for any conference URL. The bot can be found here: <a href="https://github.com/Cadair/skill-jitsi/">https://github.com/Cadair/skill-jitsi/</a> and it uses the opsdroid framework. I have also hosted a version @jitsibot:cadair.com</p>
</blockquote>
<h3 id="covbot-v0-1-5">CovBot  v0.1.5</h3>
<p><a href="https://matrix.to/#/@pwr22:shortestpath.dev">Peter Roberts</a> said:</p>
<blockquote>
<ul>
<li>
<p>Add regional data for Findland, Wales, Northern Ireland and Scotland with thanks to @bertieb:matrix.bertieb.org.</p>
</li>
<li>
<p>Get UK and England regions from a new source as Public Health England stopped providing their CSV data, again thanks to @bertieb:matrix.bertieb.org.</p>
</li>
<li>
<p>Send <code>m.notice</code> by default but use <code>m.text</code> in IRC bridged rooms to avoid annoying IRC users.</p>
</li>
<li>
<p>Make logging more consistent which helps with debugging.</p>
</li>
</ul>
<p>MIT licensed on <a href="https://github.com/pwr22/covbot">GitHub</a>.</p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰</h2>
<h3 id="doctor-who-watchalongs">Doctor Who watchalongs</h3>
<p><a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a> offered:</p>
<blockquote>
<p>We're still having a great time watching Doctor Who with folks from the wider Matrix community. The next one scheduled is happening on Wednesday (May 6th) at 7PM, and we'll gather to watch The Girl in the Fireplace (series 2 episode 4) together, with tweets from Steven Moffat (writer) and Sophia Myles (Madame de Pompadour) bridged to the room 🙂</p>
<p>As always, if folks want to tag along and join the fun, feel free to join <a href="https://matrix.to/#/#doctor-who-watchalong:abolivier.bzh">#doctor-who-watchalong:abolivier.bzh</a> !</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">333</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">lo.hn</td><td style="text-align: center">567.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">maescool.be</td><td style="text-align: center">655.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">sibnsk.net</td><td style="text-align: center">790.5</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">nct08.de</td><td style="text-align: center">817.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">matrix.un-hack-bar.de</td><td style="text-align: center">952</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">mtx.liftm.de</td><td style="text-align: center">1073.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">federator.dev</td><td style="text-align: center">1268</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">1510</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">shortestpath.dev</td><td style="text-align: center">1571.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;04&#x2F;29&#x2F;new-categories-for-matrix-spec-changes&#x2F;" title="New Categories for Matrix Spec Changes">New Categories for Matrix Spec Changes</a></h1>
            <span>
                29.04.2020 22:37
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/andrew-morgan">
                    Andrew Morgan
                </a>
                
            </span>
            <br>
            <small>Last update: 29.04.2020 20:50</small>
        </header>
        <div>
            <p>On April 14th, the Spec Core Team conducted a long-overdue retrospective
about the things that were working in the
<a href="https://matrix.org/docs/spec/proposals">Matrix Spec Proposal process</a>,
and those that were not.</p>
<p>The most glaring item on the list was the sluggish pace that many Matrix
Spec Changes (MSCs) take throughout the proposal process, as well as the
general lack of activity from the Spec Core Team members on proposals that
have not yet started a Final Comment Period.</p>
<p>We deeply apologize for the frustration this has likely caused many MSC
authors, and want to shed some light on the reasoning behind it, and what we
plan to do to prevent leaving authors in the dark about why there may be no
Spec Core Team activity on their proposal.</p>
<h2 id="proposal-triaging">Proposal Triaging</h2>
<p>There are currently 136 open MSCs that have yet to undergo Final Comment
Period (FCP), 75 of which are marked as proposal-in-review, and 20 that have
a FCP proposed. Relative to the 65 MSCs that have ever been closed, this is a
lot of outstanding ideas, features and maintenance changes.</p>
<p>The Spec Core Team itself is made up of 8 members, each of which have
separate full-time jobs. All team members are well-placed to be on the team
given their wide breadth of knowledge across the Matrix ecosystem,
however the majority are some of the most busy pushing forward Matrix's
reference implementations - without which, Matrix will unquestionably fail.
This limits the amount of MSCs that the team can effectively work on at a
given time.</p>
<p>The team understands that there are MSCs that provide incredibly useful
features, such as
<a href="https://github.com/matrix-org/matrix-doc/pull/2191">support for LaTeX in messages</a>
or
<a href="https://github.com/matrix-org/matrix-doc/pull/2403">the ability to &quot;knock&quot; on rooms</a>,
and would undoubtedly like to see them land at some point.</p>
<p>But there is also a large backlog of MSCs that provide even more fundamental
fixes and additions to the protocol that the team needs to prioritise. These
include things like
<a href="https://github.com/matrix-org/matrix-doc/pull/2472">cross-signing devices</a>,
<a href="https://github.com/matrix-org/matrix-doc/pull/1772">the communities rewrite</a> and
finally merging
<a href="https://github.com/matrix-org/matrix-doc/pull/1849">reactions and edits</a> into the spec.</p>
<p>While we announce what MSCs we're focusing on during a given week during
<a href="https://matrix.org/twim">TWIM</a>, it's not as clear which items we're looking
to pull from the backlog next. To help tackle this, and to help keep us
honest, we've begun putting each MSC into either &quot;feature&quot;, &quot;maintenance&quot;, or
&quot;core&quot; buckets. This materialises in the form of github tags, which can be
used to filter the list of MSCs like so:
<a href="https://github.com/matrix-org/matrix-doc/issues?q=is%3Aopen+label%3Akind%3Afeature">feature</a>,
<a href="https://github.com/matrix-org/matrix-doc/issues?q=is%3Aopen+label%3Akind%3Amaintenance">maintenance</a>,
<a href="https://github.com/matrix-org/matrix-doc/issues?q=is%3Aopen+label%3Akind%3Acore">core</a>.
For a given timespan, we’ll pick a track and pull MSCs out of that category
when possible. More information about MSC categories are now detailed on
<a href="https://matrix.org/docs/spec/proposals#categories">the proposals page</a>.</p>
<p>As for the next 6 to 12 months, we plan to work on items from the “core”
category. We need to get Matrix to a point where it can compete with other,
proprietary chat protocols and items in &quot;core&quot; are decidedly the proposals
that will take us the furthest in that direction. This doesn't mean we won't
occasionally look at an MSC in a different category, but it will heavily
influence our prioritisation.</p>
<h2 id="future">Future</h2>
<p>We'll try this approach out over the next few months and see how it goes. The
next Spec Core Team retro will occur in the middle of May, where we will
review the process once again.</p>
<p>For now, if you have any feedback please come and chat with us in
<a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> :)</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;04&#x2F;24&#x2F;this-week-in-matrix-2020-04-24&#x2F;" title="This Week in Matrix 2020-04-24">This Week in Matrix 2020-04-24</a></h1>
            <span>
                24.04.2020 19:39
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            <br>
            <small>Last update: 24.04.2020 19:23</small>
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/IwOSQ9X4_I8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Some snapshots of what the team has been working on. Look out for a clear explanation from Erik about Synapse performance (and what will be done about it!), and lots of other goodies</p>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> 🌡</h2>
<h3 id="tchap-used-by-french-fire-and-rescue-services">Tchap used by French fire and rescue services</h3>
<p><a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a> announced:</p>
<blockquote>
<p>Tchap, the Matrix deployment in the French government, recently opened to French fire and rescue services: <a href="https://twitter.com/_DINUM/status/1243595481449717761">https://twitter.com/_DINUM/status/1243595481449717761</a></p>
<p>Rescue18 (a French non-governmental news website for emergency services) <a href="https://rescue18.fr/actu/tchap-lapplication-de-messagerie-de-letat-maintenant-disponible-pour-les-sapeurs-pompiers/">echoed this announcement</a> earlier this month, praising the security aspect of the platform and the possibility it offers to improve social and professional exchanges throughout the hierarchy as well as the rest of the government and public services.</p>
</blockquote>
<p>Article is all in some other language - thanks Brendan for providing this summary.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> said:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is <a href="https://matrix.org/docs/spec">the specification</a> - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals.">https://matrix.org/docs/spec/proposals.</a></p>
<h3 id="msc-status">MSC Status</h3>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are currently in FCP</em></li>
</ul>
<p>Well, <a href="https://github.com/matrix-org/matrix-doc/pull/2457">MSC2457</a> should be. It's waiting for a redeployment of <a href="https://github.com/mscbot">mscbot</a>.</p>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2513">MSC2513: On membership event content properties.</a></li>
</ul>
<h3 id="spec-core-team">Spec Core Team</h3>
<p>We've switched up our focus to the following MSCs:  <a href="https://github.com/matrix-org/matrix-doc/pull/2366">MSC2366</a> (verification flows), <a href="https://github.com/matrix-org/matrix-doc/pull/2454">MSC2454</a> (SSO UI Auth), and <a href="https://github.com/matrix-org/matrix-doc/pull/2472">MSC2472</a> (Symmetric SSSS). Expect a blog post next week describing the new <a href="https://github.com/matrix-org/matrix-doc/pull/2507">MSC categories</a>.</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> said:</p>
<blockquote>
<p>Last week</p>
<ul>
<li>
<p>Shipped <a href="https://matrix.org/blog/2020/04/23/synapse-1-12-4-released">1.12.4</a> a patch release to fix some cross signing related bugs. </p>
</li>
<li>
<p>Redis support to replace our existing cross replication system, merged to develop. This is a precursor to the sharding project. We have a PR to support cache invalidation across workers which, once merged should make it relatively easy to pull off event persistence from the master process. Just removing event persistence could give some decent perf wins, but the prize is then splitting persistence to run across across multiple workers.</p>
</li>
<li>
<p>A final PR to support SSO for user interactive auth will merge imminently, thereby freeing up full cross signing support for worker installs. </p>
</li>
<li>
<p>Aside from that we’ve been working on fixing a weird bug where rooms can end up with zero forward extremities and generally showing Sygnal some love. </p>
</li>
</ul>
<p>Upcoming</p>
<ul>
<li>
<p>Put Redis into production</p>
</li>
<li>
<p>Ship 1.13.0 which will contain Redis support as well as a host of SSO bug fixes.</p>
</li>
<li>
<p>Merge our new caching config logic to give finer granularity on cache settings.</p>
</li>
<li>
<p>Merge cache invalidation and try to get events persistence running in its own worker.</p>
</li>
</ul>
</blockquote>
<p>Ben added:</p>
<blockquote>
<p>Cross signing, oh cross signing! Can you believe it‽ Cross signing!!!</p>
</blockquote>
<h3 id="matrix-corporal">Matrix Corporal</h3>
<p><a href="https://github.com/devture/matrix-corporal">matrix-corporal</a> manages your Matrix server according to a configuration policy</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> reported:</p>
<blockquote>
<p><a href="https://github.com/devture/matrix-corporal">matrix-corporal</a> v1.9.0 has been released. It adds support for preventing certain users from creating rooms (that is, from using the <code>/createRoom</code> API). I've been thinking about developing this feature for a while now, as people have been requesting it frequently.</p>
</blockquote>
<h3 id="matrix-media-repo">matrix-media-repo</h3>
<p><a href="https://github.com/turt2live/matrix-media-repo">matrix-media-repo</a> is a highly customizable multi-domain media repository for Matrix</p>
<p><a href="https://github.com/turt2live">TravisR</a> announced:</p>
<blockquote>
<p>v1.1.2 is out with a bunch of fixes to the Docker image. Check out <a href="https://github.com/turt2live/matrix-media-repo/releases/tag/v1.1.2">https://github.com/turt2live/matrix-media-repo/releases/tag/v1.1.2</a> for details, and #media-repo:t2bot.io for support.</p>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> told us:</p>
<blockquote>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p>This week I worked a lot on getting the first bit of federation working. My goal was to query the public room list of another server and forward it to a client.</p>
<p>This involved setting up a keypair to sign the json I send to the server and putting authorization headers into my requests. Most of the work is already done and <a href="https://federationtester.matrix.org/">https://federationtester.matrix.org/</a> reports it's all good.</p>
</blockquote>
<p><img src="/blog/img/2020-04-24-I3XIM-image.png" alt="2020-04-24-I3XIM-image.png" /></p>
<blockquote>
<p>Sadly there seems to be a problem with the signing, because other homeservers reject requests: <code>Unable to verify signature: &lt;class 'nacl.exceptions.BadSignatureError'&gt; Signature was forged or corrupt</code>. I'll continue to work on this in the next week(s).</p>
<p>Thanks to my supporters on <a href="https://liberapay.com/timokoesters">Liberapay</a>.</p>
</blockquote>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> said:</p>
<blockquote>
<ul>
<li>
<p>Dendrite now supports perspective key fetching as a configurable option, and will automatically attempt to use the perspective key servers for keys that couldn't be fetched directly</p>
</li>
<li>
<p>Dendrite now uses a newer version of the Sarama library</p>
</li>
<li>
<p>Some caching has been added to the roomserver API for room versions, which should help quite a bit with performance over federation and handling transactions</p>
</li>
<li>
<p>Auth checks for <code>/send_join</code> are now quite a bit more robust</p>
</li>
<li>
<p>A bug has been fixed where the default state filter limited the amount of room state that was visible after a join</p>
</li>
<li>
<p>gomatrixserverlib has quite a bit of new support for backfilling now, which will be wired into Dendrite soon</p>
</li>
<li>
<p>gomatrixserverlib has new primitives for v2 invite responses and <code>/get_missing_events</code> requests</p>
</li>
<li>
<p>Invite support is being worked on currently, which should also enable support for creating DMs in Riot</p>
</li>
</ul>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment 📥</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> told us:</p>
<blockquote>
<p>A bit late to the party - was rebuilding my cluster at home to EL8 - but pushed the <a href="https://github.com/ananace/matrix-synapse">Kubernetes-optimized docker images</a> for Synapse 1.12.4</p>
</blockquote>
<h3 id="docker-matrix">Docker-matrix</h3>
<p><a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a> reported:</p>
<blockquote>
<p>The image for synapse v1.12.4 including jemalloc and mjolnir anti-spam has been released to <a href="https://hub.docker.com/r/avhost/docker-matrix">avhost/docker-matrix:v1.12.4</a>.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="telepathy-tank">telepathy-tank</h3>
<p><a href="https://matrix.to/#/@aa13q:matrix.org">aa13q</a> told us:</p>
<blockquote>
<p>Matrix native integration for the Sailfish OS, KDE and other linux systems called <a href="https://github.com/TelepathyIM/telepathy-tank">telepathy-tank</a> got attertion from the community this week and @aa13q updated it a bit thanks to @Kaffeine. Writing the post for the TWIM has grown into the small blog post, so @aa13q shared it sepatetely: <a href="https://hackmd.io/@aa13q/telepathy-tank">https://hackmd.io/@aa13q/telepathy-tank</a></p>
</blockquote>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> offered:</p>
<blockquote>
<p>Nheko released two new version, 0.7.0 and 0.7.1. The second one mostly fixes some minor issues in the 0.7.0 release, which we got from all the people trying it out. Thanks for reporting them!</p>
<p>Since 0.7.0 is pretty big, please read the release notes on github: <a href="https://github.com/Nheko-Reborn/nheko/releases/tag/v0.7.0">https://github.com/Nheko-Reborn/nheko/releases/tag/v0.7.0</a></p>
<p>Some of the highlights:</p>
<ul>
<li>
<p>Support for rich replies</p>
</li>
<li>
<p>Support for encrypted media</p>
</li>
<li>
<p>.well-known support</p>
</li>
<li>
<p>Mute/Unmute rooms</p>
</li>
<li>
<p>Key import compatibility fixes for Riot</p>
</li>
<li>
<p>Reduced memory usage, performance optimizations and fixes for some nasty memory corruption and crashes</p>
</li>
</ul>
<p>You can get the latest release on <a href="https://github.com/Nheko-Reborn/nheko/releases">github</a> or maybe someone actually <a href="https://repology.org/project/nheko/versions">packaged it already for your distro</a>.</p>
<p>We hope you will try it out and have a good experience! If you don't, you can complain to us in <a href="https://matrix.to/#/#nheko-reborn:matrix.org">#nheko-reborn:matrix.org</a> or open an issue in our <a href="https://github.com/Nheko-Reborn/nheko/issues">bugtracker</a>.</p>
</blockquote>
<h3 id="gomuks">gomuks</h3>
<p><a href="https://maunium.net/go/gomuks">gomuks</a> is a terminal based Matrix client written in Go. <a href="https://github.com/tulir/gomuks">Source on GitHub</a></p>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> announced:</p>
<blockquote>
<p>gomuks got a fancy initial sync loading bar so it no longer looks like it's broken after you log in. Implementing end-to-end encryption in mautrix-go has also been slowly progressing, might have something working in a few weeks.</p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<p>A glossy Matrix collaboration client for the web. <a href="https://riot.im">https://riot.im</a></p>
<p><a href="https://matrix.to/#/@jryans:matrix.org">Ryan</a> offered:</p>
<blockquote>
<p>This week we released a fourth RC for Riot Web 1.6, the upcoming release with cross-signing, addressing a few issues found through everyone's testing and feedback. Please do continue to test <a href="https://riot.im/develop">https://riot.im/develop</a>, the <a href="https://buildkite.com/organizations/matrix-dot-org/pipelines/riotx-android/builds/2460/jobs/4f4af0b6-6cde-4ddd-b25a-0c4f1db40eb3/artifacts/1c8e1db0-46fb-4cb9-a96f-297b9523f219">latest RiotX build</a>, and also E2EE search in <a href="https://packages.riot.im/nightly/install/">Riot Desktop Nightly</a>.</p>
</blockquote>
<p>CROSS-SIGNING!</p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="matrix-spring-boot-sdk">matrix-spring-boot-sdk</h3>
<p><a href="https://matrix.to/#/@benedict:imbitbu.de">Benedict</a> told us:</p>
<blockquote>
<p>I created an client-sdk to interact with matrix in Spring Boot. It is written in kotlin and should also work with Java. You can find the repo here: <a href="https://github.com/benkuly/matrix-spring-boot-sdk">https://github.com/benkuly/matrix-spring-boot-sdk</a></p>
<p>It contains also a bot-sdk to write bots by adding a dependency and a few lines of code only.
It is tested with unit-tests, but integration-tests against a real matrix-server are currently missing. A simple ping bot works and is also integrated in the repo as example.</p>
<p>Currently I'm working on getting this to Maven Central.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h3>
<p>This <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">Ansible playbook</a> is meant to easily let you run your own Matrix homeserver.</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> told us:</p>
<blockquote>
<p>Thanks to <a href="https://github.com/rbelem">Rodrigo Belem</a>'s efforts, <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> now supports bridging to <a href="https://slack.com">Slack</a> via the <a href="https://github.com/Sorunome/mx-puppet-slack">mx-puppet-slack</a> bridge. See our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bridge-mx-puppet-slack.md">Setting up MX Puppet Slack bridging</a> documentation page for getting started.</p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰</h2>
<h3 id="doctor-who-watchalongs">Doctor Who watchalongs</h3>
<p><a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a> offered:</p>
<blockquote>
<p>As per the <a href="https://matrix.org/blog/2020/04/17/this-week-in-matrix-2020-04-17#doctor-who-confinement-watchalongs">previous edition of TWIM</a>, we had a blast on Sunday watching and reacting to Doctor Who episodes The Stolen Earth and Journey's End.</p>
<p>The next watchalong will be this Friday (Apr 24th), and we'll be watching another two-parter together, Human Nature &amp; The Family of Blood, starting from 7PM BST! Guests such as Paul Cornell (writer), Charles Palmer (director) &amp; Lor Wilson (Lucy Cartwright aka Daughter of Mine) will also be discussing the episode along for even more fun and behind the scenes!</p>
<p>This means that if you're reading this when this edition of TWIM goes out, and you fancy watching some Doctor Who this evening, join the fun at <a href="https://matrix.to/#/#doctor-who-watchalong:abolivier.bzh">#doctor-who-watchalong:abolivier.bzh</a> 😀</p>
<p>And if not, feel free to join the room anyway to find out when the next watchalong is happening 🙂</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">321</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">envs.net</td><td style="text-align: center">363</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">maunium.net</td><td style="text-align: center">420</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">nerdsin.space</td><td style="text-align: center">421</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">maescool.be</td><td style="text-align: center">470</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">lyseo.edu.ouka.fi</td><td style="text-align: center">773</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">mjdsystems.ca</td><td style="text-align: center">820</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">fab.network</td><td style="text-align: center">832.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">eisfunke.com</td><td style="text-align: center">1048</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">matrix.nilux.be</td><td style="text-align: center">1275</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;04&#x2F;23&#x2F;synapse-1-12-4-released&#x2F;" title="Synapse 1.12.4 released">Synapse 1.12.4 released</a></h1>
            <span>
                23.04.2020 19:04
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>A small patch release containing features and bugs to support the upcoming launch of cross signing. We are very close now :)</p>
<p>Get 1.12.4 from <a href="https://github.com/matrix-org/synapse/releases/tag/v1.12.4">github</a> or any of the sources mentioned at https://github.com/matrix-org/synapse/blob/master/INSTALL.md.</p>
<p>Changelog since v1.12.3</p>
<h1 id="synapse-1-12-4-2020-04-23">Synapse 1.12.4 (2020-04-23)</h1>
<p>No significant changes.</p>
<h1 id="synapse-1-12-4rc1-2020-04-22">Synapse 1.12.4rc1 (2020-04-22)</h1>
<h2 id="features">Features</h2>
<ul>
<li>Always send users their own device updates. (<a href="https://github.com/matrix-org/synapse/issues/7160">#7160</a>)</li>
<li>Add support for handling GET requests for <code>account_data</code> on a worker. (<a href="https://github.com/matrix-org/synapse/issues/7311">#7311</a>)</li>
</ul>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Fix a bug that prevented cross-signing with users on worker-mode synapses. (<a href="https://github.com/matrix-org/synapse/issues/7255">#7255</a>)</li>
<li>Do not treat display names as globs in push rules. (<a href="https://github.com/matrix-org/synapse/issues/7271">#7271</a>)</li>
<li>Fix a bug with cross-signing devices belonging to remote users who did not share a room with any user on the local homeserver. (<a href="https://github.com/matrix-org/synapse/issues/7289">#7289</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2020&#x2F;04&#x2F;17&#x2F;this-week-in-matrix-2020-04-17&#x2F;" title="This Week in Matrix 2020-04-17">This Week in Matrix 2020-04-17</a></h1>
            <span>
                17.04.2020 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/NdqG24PEVcU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Matthew &amp; Amandine update on cross-signing</p>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> offered:</p>
<blockquote>
<p>Here's your weekly spec update!</p>
<h2 id="msc-status">MSC Status</h2>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are currently in FCP</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2499">MSC2499: Fixes for Client Well-known URI</a></li>
</ul>
<h2 id="spec-core-team">Spec Core Team</h2>
<p>We had our first Spec Core Team retro in a very long time this week, with a new regular schedule of every month. It ran about an hour overtime - there was a lot to talk about. We'll post the conclusion in a separate blog post soon.</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> reported:</p>
<blockquote>
<ul>
<li>
<p>Rooms now default to version 4</p>
</li>
<li>
<p>Backfill messages are now topologically ordered</p>
</li>
<li>
<p>Searching for backward extremities when backfilling is now improved by preventing duplicate prev events</p>
</li>
<li>
<p>HTTP tracing and SQL tracing environment variables have now been added</p>
</li>
<li>
<p>Direct key requests are now parallelised (which can help to speed up room joins substantially)</p>
</li>
<li>
<p>Events in <code>/messages</code> responses are now topologically ordered</p>
</li>
<li>
<p>gomatrixserverlib can now perform signature checks with strict validity checking as optional</p>
</li>
<li>
<p>We now return far less 500 errors over federation which helps federation with Synapse</p>
</li>
</ul>
</blockquote>
<h3 id="p2p-riot-im">p2p.riot.im</h3>
<p><a href="https://matrix.to/#/@kegan:matrix.org">kegan</a> announced:</p>
<blockquote>
<p>New version released which supports v4 rooms as well as improvements in how we publish rooms into directories of local nodes.</p>
</blockquote>
<h3 id="conduit-rust-homeserver">Conduit (Rust Homeserver)</h3>
<p>A Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> announced:</p>
<blockquote>
<p>This week I spent some time improving Riot support. Now there should be a lot less warnings and some new features: typing events, read receipts, better room directory, invites, user search.</p>
<p>The only bigger bug that exists currently is that the message history is not automatically loaded when you join a room.  Sometimes reloading the page helps, but not always. The reason for that is that Riot calls the deprecated /initialSync endpoint, which I do not support (I hope someone works on Riot to fix that).</p>
<p>In the next few weeks I plan to improve the single-homeserver experience further and add permission management, while also working on federation.</p>
<p>Check out the repository on <a href="https://git.koesters.xyz/timo/conduit">https://git.koesters.xyz/timo/conduit</a> and our Matrix room on <a href="https://matrix.to/#/#conduit:koesters.xyz">#conduit:koesters.xyz</a>. If you want to try out the server yourself, you can try to connect to it using <a href="https://riot.nordgedanken.de/#/register">https://riot.nordgedanken.de/#/register</a> (though it might be offline when you read this).</p>
<p>I also want to thank my supporters on <a href="https://liberapay.com/timokoesters">Liberapay</a> for their kindness 😊.</p>
</blockquote>
<iframe src="https://www.youtube.com/embed/807buqaaeI8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<blockquote>
<p>I tested the performance of Conduit yesterday by running a ruma client that sends a /send request in a for loop 10k times, which took ~46.8 seconds (all locally on my pc). This means the server can handle ~210 /sends per second under these circumstances.</p>
</blockquote>
<p><img src="/blog/img/2020-04-17--SKJd-flamegraph.svg" alt="2020-04-17--SKJd-flamegraph.svg" /></p>
<blockquote>
<p>The flamegraph shows what the cpu is spending most of its time doing. Plateaus are things that take time. You can see most of the time is used for a function in sled::io (I spoke with one of the devs and they said this is expected, but will be improved in the next release)</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> told us:</p>
<blockquote>
<p>We continue to focus on performance and spent a good chunk of time improving worker replication test coverage to build confidence that our upcoming changes will work as expected. Erik has been working on how to how to factor out cache invalidation which is now starting to take good shape. Once we have that, factoring out things like event persistence are next on the horizon. </p>
<p>Aside from that we’ve been working with the Riot client teams as they near release for cross signing, fixing bugs and improving performance on key actions.</p>
<p>SSO support continues to improve, and more fixes for user inactive auth for worker'd installs will land next week. Poor old Rich has been banging his head against a <a href="https://github.com/matrix-org/synapse/issues/7206">sync bug</a> blocking develop, but hopefully he has broken its back now, and we'll get that merged asap.</p>
<p>Finally we experienced some operational issues with push over the weekend, so we spent some time cleaning up and figuring out how to make things more resilient. </p>
<p>Coming up, performance, cross signing support, SSO improvements.</p>
</blockquote>
<h3 id="the-construct">The Construct</h3>
<p>Construct is a performance-focused homeserver written in C++</p>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> reported:</p>
<blockquote>
<p><strong>Update from Jason:</strong></p>
<p>The Construct server made significant progress this week with end-to-end encryption, client compatibility, application services support, and build-related enhancements. I'd like to thank <a href="https://matrix.to/#/@yan:yetanothernerd.xyz">Yan Minari</a> for contributing spec-compliant code paths for application services in the user registration system. Special thanks this week to <a href="https://matrix.to/#/@qy:cs.xa0.uk">Tony O.</a> for continued work on the NixOS (<a href="https://matrix.to/#/#nix:matrix.org">#nix:matrix.org</a>) derivation for reproducible builds, in addition to contributing fixes to Nio for optimal compatibility with Construct. I'd also like to thank <a href="https://matrix.to/#/@weebl:matrix.weebl.me">Wessel</a> for contributing a much needed reorganization of the Dockerfiles in preparation for Construct operating on many more platforms. Many thanks to <a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> for working with the team this week in <a href="https://matrix.to/#/#test:zemos.net">#test:zemos.net</a> on various compatibility fixes to mtxclient and Nheko; the responsiveness when using Nheko with Construct is mind-blowing. I'd also like to thank <a href="https://matrix.to/#/@david:vovo.id.au">David Vo (a.k.a. auscompgeek)</a> for also contributing to Nio toward Construct compatibility.</p>
<p>Finally, I owe much appreciation to tulir, jochen, qy and others for setting up brand new installations this week and providing feedback in <a href="https://matrix.to/#/#test:zemos.net">#test:zemos.net</a>. Construct is the first and only federating alternative to Synapse. It is written in C++ for maximum performance, the lowest possible TCO, and designed for horizontal scaling with Construct Cluster. If you are interested in starting a low-cost Matrix hosting service, Construct may be your ideal choice. To stay informed and show your support please visit us in <a href="https://matrix.to/#/#test:zemos.net">#test:zemos.net</a> today!</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="matrix-org-bridges-bumper-pack-edition">Matrix.org bridges bumper pack edition</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> announced:</p>
<blockquote>
<p>Hello, this week has been busy for us over in bridge corner. We've released:</p>
<h4 id="matrix-appservice-bridge-1-12-2"><a href="https://github.com/matrix-org/matrix-appservice-bridge/releases/tag/1.12.2">matrix-appservice-bridge 1.12.2</a></h4>
<p>Which includes a bunch of small fixes, including a performance improvement to <code>StateLookup</code> hits. Apparently it's bad to hit the homeserver with 1000s of concurrent /state requests on startup. <strong>Most importantly</strong> it also includes a critical fix to the <code>addAppServicePath</code> function, which previously did not authenticate requests, see the CHANGELOG for more information on that.</p>
<h4 id="matrix-appservice-irc-0-17-0-rc3"><a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.17.0-rc3">matrix-appservice-irc 0.17.0-rc3</a></h4>
<p>We're still working on the RCs for this release, having discovered and fixed a bunch of failures that can happen around getting connected to IRC. Be aware that the above security fix is applied in this release, which means provisioning requests will now be authenticated.</p>
<h4 id="matrix-appservice-slack-1-2-0-rc1"><a href="https://github.com/matrix-org/matrix-appservice-slack/releases/tag/1.2.0-rc1">matrix-appservice-slack 1.2.0-rc1</a></h4>
<p>This is another big load of bug fixes, with many thanks to our new bridge crew member, Christian!. This release includes the above security fixes, as well as some metrics improvements to track activity on the bridge.</p>
<h4 id="matrix-appservice-gitter-0-1-1"><a href="https://github.com/matrix-org/matrix-appservice-gitter/releases/tag/0.1.1">matrix-appservice-gitter 0.1.1</a></h4>
<p>The gitter bridge has been updated to include the changes from the <code>matrix-appservice-bridge</code> releases, as well as updating some dependencies.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="rumatui">rumatui</h3>
<p>WIP Command line Matrix client using matrix-rust-sdk</p>
<p><a href="https://matrix.to/#/@devinr528:matrix.org">devinr528</a> announced:</p>
<blockquote>
<p>A clickable command-line client Matrix written in Rust. Although, still in the early stages, enough has been implemented to show a working demo. <code>rumatui</code> uses <a href="https://github.com/fdehau/tui-rs">tui</a> to power the UI and <a href="https://github.com/matrix-org/matrix-rust-sdk">matrix-rust-sdk</a> for all communication with the server. So far the message formatting has been the most visually satisfying feature, although implementing it was not much fun. The goal of the project is to have a UI driven command-line client, useable from either keyboard and/or mouse.</p>
<p>Big thanks to @poljar for allowing me to work on matrix-rust-sdk, @jplatte for the opportunity to work with the <a href="https://github.com/ruma">ruma</a> crates and everyone in the Matrix community for being so helpful!</p>
<p>Check it out <a href="https://github.com/DevinR528/RumaTui">https://github.com/DevinR528/RumaTui</a>! Help is welcome, although as <code>matrix-rust-sdk</code> develops the design and structure of <code>rumatui</code> will evolve quickly.</p>
</blockquote>
<p><a href="https://matrix.to/#/#rumatui:matrix.org">#rumatui:matrix.org</a> is the room to join.</p>
<p><img src="/blog/img/2020-04-17-0VcOE-rumatui.gif" alt="2020-04-17-0VcOE-rumatui.gif" /></p>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> reported:</p>
<blockquote>
<p>Nheko is preparing for the 0.7.0 release! You can find the first release candidate here: <a href="https://github.com/Nheko-Reborn/nheko/releases/tag/v0.7.0-rc1">https://github.com/Nheko-Reborn/nheko/releases/tag/v0.7.0-rc1</a></p>
<p>0.7.0 will contain a lot of work, including replies, e2ee attachments and a completely rewritten timeline (the full changelog is too big for TWIM, but you can find it in the github releases). It also fixes a lot of issues. We should probably released it a lot earlier, but we always had one more feature we wanted to finish... For the future we plan to do smaller, more regular releases!</p>
<p>If you want to see Nheko translated to your language, you can translate it here: <a href="https://weblate.nheko.im/engage/nheko/">https://weblate.nheko.im/engage/nheko/</a></p>
<p>If you are a packager, it would be awesome if you can check, that you don't have any build issues. If you need support, just message us in <a href="https://matrix.to/#/#nheko-reborn:matrix.org">#nheko-reborn:matrix.org</a> !</p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<p><a href="https://matrix.to/#/@jryans:matrix.org">Ryan</a> reported:</p>
<blockquote>
<p>Cross-signing and E2EE by default for private rooms is nearly here! 🎉 It would be great to have more people testing this, as we're very close to release, and extra testing will help reveal those last issues. Please help test cross-signing on <a href="https://riot.im/develop">https://riot.im/develop</a> (suggesting develop since there's already some fixes there beyond the RC on staging) and the <a href="https://buildkite.com/organizations/matrix-dot-org/pipelines/riotx-android/builds/2395/jobs/46abcbac-5745-4e81-b859-5d9b1faead17/artifacts/c4d7c0d5-8367-442f-9f21-1ea21a438151">latest RiotX build</a>. It would also be great to test E2EE search in <a href="https://packages.riot.im/nightly/install/">Riot Desktop Nightly</a>.</p>
</blockquote>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> added:</p>
<blockquote>
<p>e2ee by default and cross signing and encrypted search is almost here - please test the release candidates! (urls at <a href="https://twitter.com/RiotChat/status/1250881462066446336)">https://twitter.com/RiotChat/status/1250881462066446336)</a></p>
</blockquote>
<h3 id="riotx">RiotX</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> announced:</p>
<blockquote>
<p>We are finalizing cross-signing, QuadS and bootstrap. We will release a new version next week. We are still working on migration of the database from Realm to sqldelight solution.</p>
</blockquote>
<h3 id="riot-ios">Riot-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> reported:</p>
<blockquote>
<p>Let me copy Riot-Web and RiotX-Android: Cross-signing and E2EE by default for private rooms is nearly here! 🎉.</p>
<p>A TestFlight will be available over the  weekend. Here is the <a href="https://testflight.apple.com/join/lCeTuDKM">link</a> if you want to join the program. This release candidate still needs some polish but a new release will be definitely available on the AppStore next week.</p>
<p>In parallel of that, the maintenance work is going well. We are erasing our technical debt as much as possible. The new Apple Push API raises some privacy concerns. We may no longer be able to offer CallKit as it requires events to go in clear between servers.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="ruma">Ruma</h3>
<p>Ruma is a Rust project to create a comprehensive set of APIs for Matrix. Previously there was a Ruma homeserver project.</p>
<p><a href="https://matrix.to/#/@jplatte:matrix.org">jplatte</a> said:</p>
<blockquote>
<p>Many of you will probably have heard already, but <a href="https://www.ruma.io/news/ruma-is-dead-long-live-ruma-2020-04-10/">Ruma is now officially dead</a>. The homeserver, that is. Outside of that, the API definitions in <a href="https://github.com/ruma/ruma-client-api">ruma-client-api</a> have seen some work and our first two endpoints in <a href="https://github.com/ruma/ruma-federation-api">ruma-federation-api</a> have been written! <a href="https://github.com/ruma/ruma-api">ruma-api</a> and <a href="https://github.com/ruma/ruma-identifiers">ruma-identifiers</a> are also being worked on, with the following new releases being published in the past week:</p>
<ul>
<li>
<p><a href="https://github.com/ruma/ruma-api/releases/tag/0.15.1">ruma-api 0.15.1</a> was released with a small bugfix</p>
</li>
<li>
<p><a href="https://github.com/ruma/ruma-identifiers/releases/tag/0.15.0">ruma-identifiers 0.15.0</a> was released with loads of changes; this might be the last 0.x release!</p>
</li>
<li>
<p>identifiers are now stored as strings (with minimal additional data)</p>
</li>
<li>
<p>before, we would parse the server name into a <code>url::Host</code></p>
</li>
<li>
<p>this means that parsing now doesn't allocate at all under some circumstances, and obtaining the string representation of one of our identifier types is essentially a no-op</p>
</li>
<li>
<p>there no longer is a single non-optional dependency, everything that requires them is now behind a feature flag</p>
</li>
<li>
<p>some new helper functions have been made available, mostly around user IDs</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="covbot-v0-1-4">CovBot v0.1.4</h3>
<p><a href="https://matrix.to/#/@pwr22:shortestpath.dev">Peter Roberts</a> reported:</p>
<blockquote>
<ul>
<li>
<p>When there are a lot of matches ask the user to be more specific rather than sending a huge list.</p>
</li>
<li>
<p>Let user know if we can't make sense of the age given to <code>!risk</code>.</p>
</li>
<li>
<p>Fix formatting of <code>!compare</code> tables on old Riot for android.</p>
</li>
<li>
<p>Refactor into separate files for bot and data sourcing.</p>
</li>
</ul>
<p><a href="https://github.com/pwr22/covbot">GitHub</a></p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰</h2>
<h3 id="doctor-who-confinement-watchalongs">Doctor Who confinement watchalongs</h3>
<p><a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a> offered:</p>
<blockquote>
<p>We've been doing Matrix editions of <a href="https://twitter.com/Emily_Rosina">Emily Cook</a>'s Doctor Who watchalongs since confinement started around Europe. The concept is pretty simple: on a given day, at a given time, everyone presses play on the same episode. Folks are then free to then watch it on their own, or discuss the episode as they watch it in the Matrix room and/or in the Jitsi call. We're also bridging tweets sent from directors, writers, comedians, etc. watching the episode at the same time to Matrix.</p>
<p>If folks are interested in joining in, head over to <a href="https://matrix.to/#/#doctor-who-watchalong:abolivier.bzh">#doctor-who-watchalong:abolivier.bzh</a>!</p>
<p>The next watchalong is planned for next Sunday (Apr 19th) at 7PM BST; and we'll be watching the epic two-episode long season finale &quot;The Stolen Earth&quot; &amp; &quot;Journey's End&quot;, with Russell T Davies (writer), Graeme Harper (director), David Tennant (The Doctor) and Catherine Tate (Donna Noble) tweeting along (and possibly more to come) 😀</p>
</blockquote>
<h3 id="tweetalong-bot">Tweetalong bot</h3>
<p><a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a> reported:</p>
<blockquote>
<p>To relay the tweets from guests during Doctor Who watchalongs, I've written a simple bot that reads the timeline of a Twitter list, optionally filters it by a hashtag, and posts the tweet to a Matrix room.</p>
<p>The code is available at <a href="https://github.com/babolivier/matrix-tweetalong-bot">https://github.com/babolivier/matrix-tweetalong-bot</a>, and there's already an instance running in <a href="https://matrix.to/#/#doctor-who-watchalong:abolivier.bzh">#doctor-who-watchalong:abolivier.bzh</a> if folks want to see it live.</p>
</blockquote>
<h2 id="dept-of-guides">Dept of Guides 🧭</h2>
<p>Lots of new guides this week! I particularly encourage you to read neilalexander's guide to state resolution - I found it very approachable.</p>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> said:</p>
<blockquote>
<p>neilalexander wrote a kickass guide to how state resolution works and should be implemented: <a href="https://matrix.org/docs/guides/implementing-stateres">https://matrix.org/docs/guides/implementing-stateres</a></p>
</blockquote>
<p>and then</p>
<blockquote>
<p>Kaushik Chakraborty wrote an awesome NixOS tutorial for setting up Synapse+Riot+Jitsi as a response to my Debian one! <a href="https://kaushikc.org/posts/matrix-jitsi-nixos.html">https://kaushikc.org/posts/matrix-jitsi-nixos.html</a></p>
</blockquote>
<p>suddenly</p>
<blockquote>
<p>...and Pablo Fredrikson recorded a fantastic video run-through in Spanish of setting up Synapse on Docker! <a href="https://www.youtube.com/watch?v=ZiVQalt5xhk">https://www.youtube.com/watch?v=ZiVQalt5xhk</a></p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">envs.net</td><td style="text-align: center">394</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">maunium.net</td><td style="text-align: center">437</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">472</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">maescool.be</td><td style="text-align: center">493</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">dodsorf.as</td><td style="text-align: center">495</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">nerdsin.space</td><td style="text-align: center">540</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">c.mau.dev</td><td style="text-align: center">569</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">571</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">digi.co.hu</td><td style="text-align: center">623.5</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">elcyb.org</td><td style="text-align: center">716</td></tr>
</tbody></table>
<h2 id="final-thoughts-thought-balloon">Final Thoughts 💭</h2>
<p>While discussing the use of QML in Nheko, <a href="https://matrix.to/#/@aa13q:matrix.org">aa13q</a> became extremely energised, so I'm including this piece:</p>
<blockquote>
<p>Qt/QML fanboy here, feel free to skip, just a love letter to the framework :D</p>
<p>Qt/QML is super-awesome, it's hard to describe how pretty declarative syntax is and how beautiful MVC approach with native Qt C++ side integration %) It is very hard to contribute to HTML/CSS/JS projects when you have seen QML once.</p>
<p>Talking about resources, there are even projects for very low-level embedded boards with arm cortex m7 core [1,2]</p>
<p>I'm actually thinking Qt is the bright future of very wide development areas. I'm both frightened and intrigued looking at relatively low popularity of the project. Since I want it to live and prosper even more but afraid of the possible mistakes for even harder tasks. The better popularity of the project will be harder to coordinate and the future tasks will be even harder. Similar to other cool projects (like matrix! :) I guess it's very challenging to balance between running as hard as you can and not to &quot;die&quot; from exhaustion %)</p>
<p>I don't even know is there something similar comparing to the Qt project, that's also why I'm worried about the future of the project %) </p>
<p>So-called software crisis (the late 60s – mid-80s [3,4]) was successfully overcome by introducing Object-Oriented Programming (it's always funny to see some people who are more into functional programming hates OOP in that context [5]) And notably Alan Kay is not only OOP pioneer (Smalltalk language) but also a first GUI applications developer. While the current OOP languages like Java and C++ are quite imperative, OOP is not only about the objects but also about the messages between them (Smalltalk is probably a nice example here too).</p>
<p>Qt in that context restores interesting balance to quite imperative C++ introducing the so-called meta-object system (for the messaging between objects). After that in ~Qt5, the declarative QML approach was introduced to develop these ideas even more. Not only GUI subject matter could be expressed with QML (like Qt Quick), but the others too (for example, QBS build system).</p>
<p>Sorry for typos and poor style, not a native speaker :) And I could be wrong in my views.</p>
<p>[1]: <a href="https://www.youtube.com/watch?v=p9_Qy3kw1wc">https://www.youtube.com/watch?v=p9_Qy3kw1wc</a><br />
[2]: <a href="https://github.com/siili-auto/respirator-qt-for-mcu">https://github.com/siili-auto/respirator-qt-for-mcu</a><br />
[3]: Cox, Brad J. There Is a Silver Bullet // BYTE Magazine, October 1990.<br />
[4]: Dahl, Ole-Johan. The Birth of Object Orientation: the Simula Languages / Owe, Olaf; Krogdahl, Stein; Lyche, Tom (eds.). From Object-Orientation to Formal Methods. Essays in Memory of Ole-Johan Dahl. New York: Springer, 2004.<br />
[5]: <a href="https://i.imgur.com/49Vajzh.png">https://i.imgur.com/49Vajzh.png</a></p>
</blockquote>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;page&#x2F;29&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">30 / 68</span>
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;page&#x2F;31&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p><a href="/legal/copyright-notice">Copyright Notice</a></p>
</footer>

</body>

</html>
