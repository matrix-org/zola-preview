<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    </head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;06&#x2F;30&#x2F;tightening-up-privacy-in-matrix&#x2F;" title="Tightening up privacy in Matrix">Tightening up privacy in Matrix</a></h1>
            <span>
                30.06.2019 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>A few weeks ago there was <a href="https://news.ycombinator.com/item?id=20178267">some
discussion</a> around the privacy
of typical Matrix configurations, particularly how Riot's default config uses
vector.im as an Identity Server (for discovering users on Matrix by their email
address or phone number) and scalar.vector.im as an Integration Manager (i.e.
the mechanism for adding hosted bots/bridges/widgets into rooms). This means
that Riot, even if using a custom homeserver and running from a custom Riot
deployment, will try to talk to *.vector.im (run  by New Vector; the company formed by the core
Matrix team in 2017) for some operations unless an alternative IS or IM has
been specified in the config.</p>
<p>We haven't done as good a job at explaining this as we could have, and this
blog post is a progress update on how we're fixing that and improving other
privacy considerations in general.</p>
<p>Firstly, the reason Riot is configured like this is for the user's convenience:
in general, we believe most users just want to discover other people on Matrix
as easily as possible, and a logically-centralised server for looking up user
matrix IDs by email/phone number (called third party IDs, or 3PIDs) is the only
comprehensive way of doing so.  Decentralising this data while protecting the
privacy of the 3PIDs and their matrix IDs is a Hard Problem which we're unaware
of anyone having solved yet.  Alternatively, you could run a local identity
server, but it will end up having to delegate to a centralised identity server
anyway for IDs it has no other way to know about. Similarly, providing a
default integration server that just works out of the box (rather than
mandating the user configures their own) is a matter of trying to keep Riot's
UX simple, especially when onboarding users, and especially given Riot's
reputation for complexity at the best of times.</p>
<p>That said, the discussion highlighted some areas for improvement.
Specifically:</p>
<ol>
<li>When doing work on making Matrix <a href="https://matrix.org/blog/2018/05/08/gdpr-compliance-in-matrix">GDPR
compliant</a>
back in May 2018, we set up a single <a href="https://github.com/vector-im/policies/blob/master/docs/matrix-org/privacy_notice.md">privacy
policy</a>
for the services we run, and got users to agree to it by locking them out of
the matrix.org homeserver until they did.  However, we missed that users not
on the matrix.org homeserver might still be using our Identity Service (IS)
&amp; Integration Manager (IM) without accepting the privacy policy.  Over the
last few weeks we've been working on addressing this - it turns out that
it's a pain to fix, given the Identity Service doesn't have the concept of
users, so tracking which users have agreed to the policy policy or not means
some fairly major changes. The current proposal is to change the Identity
Service to use a form of OpenID to authenticate users against their
homeserver in order to check they've accepted the IS's terms of use - see
<a href="https://github.com/matrix-org/matrix-doc/pull/2140">MSC2140</a> for the gory
details.</li>
</ol>
<p>Meanwhile, Riot is being updated to prompt the user to accept the IS &amp; IM terms
of use (if different to the HS's), and thus make it crystal clear to the user
that they are using an IS &amp; IM and that they have the option not to if desired - see https://github.com/vector-im/riot-web/issues/10167 and associated
<a href="https://github.com/vector-im/riot-web/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+label%3Ap1+label%3Aprivacy+label%3Aphase%3A1+identity">issues</a>.
This includes also explicitly prompting the user as to whether they want
3PIDs they provide at registration to be discoverable, as per
https://github.com/vector-im/riot-web/issues/10091.</p>
<ol start="2">
<li>
<p>Riot on iOS &amp; Android gives the option of scanning your local addressbook to
discover which of your contacts are on Matrix.  The wording explaining this
wasn't clear enough on Android - which we <a href="https://news.ycombinator.com/item?id=20181515">promptly
fixed</a>.  Separately, the
contact details sent to the server are currently not obfuscated.  This is
partially because we hadn't got to it, and partially because obfuscating
them doesn't actually help much with privacy, given an attacker can just
scan through possible obfuscated phone numbers and email addresses to
deobfuscate them.  However, we've been working through obfuscating the
contact details anyway by hashing as per
<a href="https://github.com/matrix-org/matrix-doc/pull/2134">MSC2134</a>, which has all
the details.  We're also adding an explicit lookup warning in Riot/Web, as
per https://github.com/vector-im/riot-web/issues/10093.</p>
</li>
<li>
<p>There was a bug where Riot/Web was querying the Integration Manager every
time you opened a room, even if that room had no integrations (actually, it
did it 3 times in a row).  This got <a href="https://github.com/matrix-org/matrix-react-sdk/pull/3115">fixed and
released</a> in
Riot/Web 1.2.2 back on June 19th.</p>
</li>
<li>
<p>Matrix needs to authenticate whether events were actually sent by the server
that claimed to send them.  We do this by having servers sign their events
when they create them, and publishing the public half of their signing keys
for anyone to query.  However, this poses problems if you receive an event
which is signed by a server which isn't currently online.  To solve this, we
have the concept of <code>trusted_key_servers</code> (aka notary servers), which your
server can query to see if they know about the missing server's keys.  By
default, matrix.org is configured as Synapse's trusted notary, but you can
of course change this. If you choose an unreliable server as the notary
(e.g. by not setting one at all) then there's a risk that you won't be able
to look up signing keys, and a splitbrain will result where your server
can't receive certain events, but other servers in the room can.  This can
then result in your server being unable to participate in the room entirely,
if it's missing key events in the room's lifetime.</p>
<p>Our plan here is to get rid of notaries entirely by changing how event
signing works as per
<a href="https://github.com/matrix-org/matrix-doc/issues/1228">MSC1228</a>, but this is
going to take a while.  Meanwhile we're going to check Synapse's code to
ensure it doesn't talk to the notary server unnecessarily.  (E.g. it should
be caching the signing keys locally, and it should only use the notary
server if the remote server is down.)</p>
</li>
<li>
<p>When doing VoIP in Matrix, clients need to use a TURN server to discover
their network conditions and perform firewall traversal.  The TURN server
should be specified by your homeserver (and each homeserver deployment
should ideally include a TURN server).  However, for users who have not
configured a TURN server, Riot (on all 3 platforms) defaulted to use
Google's public STUN service (<code>stun.l.google.com</code>).  STUN is a subset of
TURN which provides firewall discovery, but not traffic relaying.  This
slightly increased the chances of calls working for users without a proper
TURN server, but not by much - and rather than fall back to Google, we've
decided to simply remove it from Riot (e.g.
https://github.com/matrix-org/matrix-ios-sdk/commit/24832a2b14fb72ae6f051d5aba40262d11eef65d).
This means that VoIP might get less reliable for users who were relying on
this fallback, but you really should be running your own TURN server anyway
if you want VoIP to work reliably on your homeserver.</p>
</li>
<li>
<p>We should make it clearer in Riot that device names are world-readable, and
not just for the user's own personal reference. This is
https://github.com/vector-im/riot-web/issues/10216</p>
</li>
</ol>
<p>As you can see, much of the work on improving these issues is still in full
swing, although some has already shipped.  As should also be obvious, these
issues are categorically not malicious: Matrix (and Riot) literally exists to give users full control and autonomy over their communication, and privacy is a key part of that. These are avoidable issues which can and will be solved.  It's worth noting that we have to prioritise privacy issues alongside all the other development in Matrix however: there's no point in having excellent privacy if there are other bugs stopping the platform from being usable.</p>
<p>We'll do another blog post to confirm once most of the fixes here have landed -
meanwhile, hopefully this post provides some useful visibility on how we're
going about improving things.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;06&#x2F;28&#x2F;this-week-in-matrix-2019-06-28&#x2F;" title="This Week in Matrix 2019-06-28">This Week in Matrix 2019-06-28</a></h1>
            <span>
                28.06.2019 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<p>Matthew &amp; Amandine talk to Ross Schulman; new Matrix.org Foundation Guardian!</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/eUA7nPEy0ig" frameBorder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> 🌡</h2>
<h3 id="hottest-govtech-startup-in-europe-at-the-europas-tech-awards">Hottest GovTech Startup in Europe at The Europas tech awards</h3>
<p>New Vector won <a href="https://theeuropas2019.thepathfounder.com/page/1409435/finalists">Hottest GovTech Startup in Europe</a> at The Europas tech awards last night for work on rolling out Matrix for France and elsewhere!</p>
<p>It was mainly judge-based, but public votes were used to filter.</p>
<blockquote className="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">We&#39;re super proud to have won the hottest Gov/Reg/Civic Tech startup at <a href="https://twitter.com/TheEuropas?ref_src=twsrc%5Etfw">@TheEuropas</a> for creating self-sovereign secure communications on top of <a href="https://twitter.com/matrixdotorg?ref_src=twsrc%5Etfw">@matrixdotorg</a> for the Public Sector - particularly with <a href="https://twitter.com/_DINSIC?ref_src=twsrc%5Etfw">@_DINSIC</a> and <a href="https://twitter.com/tchap_dinsic?ref_src=twsrc%5Etfw">@tchap_dinsic</a>! (So proud we created a twitter account at last :D) <a href="https://t.co/PGqoHx007T">pic.twitter.com/PGqoHx007T</a></p>&mdash; New Vector (@NewVectorHQ) <a href="https://twitter.com/NewVectorHQ/status/1144383786303524869?ref_src=twsrc%5Etfw">June 27, 2019</a></blockquote>
<h3 id="rust-embedded-community-is-moving-to-matrix">Rust Embedded community is moving to Matrix</h3>
<p>They held a public vote, and Matrix won <a href="https://github.com/rust-embedded/wg/issues/357">very convincingly</a>.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<blockquote>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2134">MSC2134</a> Identity Hash Lookups is making steady progress
<ul>
<li>Readers who like crypto/hashing are encouraged to join in the fun</li>
</ul>
</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2140">MSC2140</a> Terms of Service for ISes and IMs is nearing a conclusion</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2108">MSC2108</a> Sync over Server Sent Events hopes to add an alternative sync method to long-polling
<ul>
<li>Finally servers pushing events!</li>
</ul>
</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2010">MSC2010</a> Adding client-side spoilers is a small feature but requires a lot of thought to integrate it seamlessly
<ul>
<li>Sorunome thought this would be easy</li>
</ul>
</li>
<li>Lots of small fixes across the board.</li>
</ul>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse">Synapse</h3>
<p>Here's Neil:</p>
<blockquote>
<p>With 1.0 shipped we are now starting to take a closer look at Synapse performance more generally and this will be a theme for us over the coming months. We want to improve not only large scale deployments such as Matrix.org but also optimise for smaller instances.</p>
<p>You may have seen a few trial servers run by core team members in matrix.org community rooms popping up and this is a precursor for a broader effort to make synapse more manageable on less powerful infrastructure. My own instance has been sat at a pretty steady 256MB of RAM.</p>
<p>Other than that, based on 1.0 feedback, we have been working on improving the Synapse upgrade path and expect to put out a new release next week containing the tweaks. Specifically this means improving configuration for Docker installs, and configuration management for sending emails.</p>
<p>We’re also implementing open tracing into Synapse, initially to help with e2ee debugging, but it will make tracking down strange behaviour easier more generally.</p>
<p>Finally we’re bringing our push server Sygnal kicking and screaming into 2019 and will upgrade to Python 3, drop gevent for twisted and update our vendor specific libraries, not mention improving the monitoring and alerting. We’ll also add in open tracing which will help hunt down push failures.</p>
<p>Finally finally, look out for a DAG visualisation tool written by GSOCer Eisha referenced elsewhere in TWIM  - we consider this to be seriously cool, and can’t wait to start using it in anger.</p>
<p>Note: 1.0 is the last release to support python 2 and postgres 9.4, the next Synapse release will drop support for both, see <a href="https://matrix.org/blog/2019/04/08/synapse-deprecating-postgres-9-4-and-python-2-x">https://matrix.org/blog/2019/04/08/synapse-deprecating-postgres-9-4-and-python-2-x</a> for more.</p>
</blockquote>
<h3 id="dendrite">Dendrite</h3>
<blockquote>
<p>Dendrite received a few updates this week. Notably:</p>
<ul>
<li><a href="https://matrix.to/#/@cnly:matrix.org">Cnly</a> has been implementing typing notifications support in <a href="https://github.com/matrix-org/dendrite/pull/718/">#718</a></li>
<li><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> has been fixing up the flaky sytests in <a href="https://github.com/matrix-org/sytest/pull/631">#631</a>. The team is considering moving from CircleCI to BuildKite for tests in the future.</li>
<li><a href="https://matrix.to/#/@cnly:matrix.org">Cnly</a> has added a few issues for odd bits and bobs they’ve found around the codebase. This is much appreciated!</li>
</ul>
</blockquote>
<h3 id="construct">Construct</h3>
<blockquote>
<ul>
<li>We now support building with Clang, and also GCC-9</li>
<li>Work on version 3/4/5 rooms has been underway.</li>
</ul>
</blockquote>
<h3 id="ruma">Ruma</h3>
<p>This Week in Ruma: <a href="https://www.ruma.io/news/this-week-in-ruma-2019-06-23/">https://www.ruma.io/news/this-week-in-ruma-2019-06-23/</a></p>
<blockquote>
<p>This week was spent working on a big revamp of <a href="https://github.com/ruma/ruma-events">ruma-events</a>, the library that defines Rust types for the &quot;events&quot; used in Matrix.
After some discussion in <a href="https://matrix.to/#/#ruma:matrix.org">#ruma:matrix.org</a>, I decided to make a move towards treating ruma-events as a higher-level library. Previously, ruma-events has more or less offered Rust types that are exact representations of the JSON structures used by Matrix. However, by representing events this way, it would be possible for users to easily create values that, while valid JSON, would be invalid events according to the specification.
The way we're approaching this problem is by separating serialization/deserialization of JSON from validation of events.</p>
</blockquote>
<h3 id="jeon-jeonserver">Jeon/JeonServer</h3>
<p><a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a>:</p>
<blockquote>
<p><a href="https://gitlab.com/ma1uta/jeon">Jeon</a> 0.9.0 release. It is a release candidate for Jeon 1.0.0 which complies with the Matrix stable release 1.0.
Not a lot changes, just added missing endpoints and events.
Also I started to work on <a href="https://gitlab.com/ma1uta/jeonserver">JeonServer</a>, a Matrix server written on java.</p>
</blockquote>
<p><a href="https://gitlab.com/ma1uta/jeon">Jeon</a> is a set of Java interfaces to Matrix APIs, <a href="https://gitlab.com/ma1uta/jeonserver">JeonServer</a> is a proposed homeserver.</p>
<h3 id="matrix-media-repo">matrix-media-repo</h3>
<p><a href="https://github.com/turt2live">TravisR</a>:</p>
<blockquote>
<p><a href="https://github.com/turt2live/matrix-media-repo">matrix-media-repo</a> has received some speed improvements and is generally nicer to memory when using the s3 datastore. Give it a try and leave feedback in <a href="https://matrix.to/#/#media-repo:t2bot.io">#media-repo:t2bot.io</a>.</p>
</blockquote>
<h3 id="gsoc-project-matrix-visualisations-mortar-board">GSOC project: Matrix Visualisations 🎓</h3>
<p><a href="https://matrix.to/#/@eisha:matrix.org">Eisha</a> appeared with this terrific GSOC update:</p>
<blockquote>
<p>The GSoC project “Matrix Visualisations” has made good progress during this first period:</p>
<ul>
<li>The implementation of the CS API backend has been completed to properly retrieve events from a room in real time.</li>
<li>Many features have been added to the UI, here are some of them:
<ul>
<li>The DAG is displayed vertically, every node of the same “depth” are on the same level in the graph and each node has outgoing arcs for each of its previous events (if they have already been retrieved).</li>
<li>The node at the top of the DAG allows to fetch earlier events by selecting it.</li>
<li>Each node can have two different colors whether its “origin” is the HS the application is currently talking to or not.</li>
<li>The full JSON body of an event can be displayed by double clicking on its node.</li>
<li>It is possible to select which fields of the events will be directly included in the labels of the nodes.</li>
</ul>
</li>
<li>A (server-side) backend has been implemented so that the application can directly talk to the PostgreSQL database of Synapse. You can find it on <a href="https://github.com/Kagamihime/matrix-visualisations-backend">this repo</a>.</li>
</ul>
<p>Note that the support of the Federation API has been postponed so I could work on this Synapse database backend.
The UI of the application isn’t very beautiful or well-organised yet, as the effort is focused on the backends and core functionalities for now, but improvements will be made once these functionalities will be completed.</p>
</blockquote>
<p>Remember you can <a href="https://matrix.org/blog/2019/06/21/this-week-in-matrix-2019-06-21">check TWIM from last week</a> to get a reference on the other three GSOC projects.</p>
<p><img src="/blog/img/2019-06-28-vis.png" alt="Matrix Visualisations" /></p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🏗</h2>
<h3 id="matrix-bot-sdk">matrix-bot-sdk</h3>
<p><a href="https://github.com/turt2live">TravisR</a>:</p>
<blockquote>
<p><a href="https://www.npmjs.com/package/matrix-bot-sdk">matrix-bot-sdk</a> v0.4.0-beta.1 has been published with a bunch of improvements for appservices. There's still more planned before the final v0.4.0 release, however live testing is always better than unit tests. If you use the library, try <code>npm install matrix-bot-sdk@0.4.0-beta.1</code> and report any issues to <a href="https://matrix.to/#/#matrix-bot-sdk:t2bot.io">#matrix-bot-sdk:t2bot.io</a>.</p>
</blockquote>
<h3 id="libquotient-now-with-encryptionmanager">libQuotient, now with EncryptionManager</h3>
<p><a href="https://github.com/quotient-im/libQuotient">libQuotient</a> introduces EncryptionManager, check out <a href="https://github.com/quotient-im/libQuotient/pull/329">the PR for more info</a>, and also review <a href="https://matrix.to/#/@aa13q:matrix.org">aa13q</a>'s <a href="https://matrix.org/blog/category/this-week-in-matrix#quotient-former-qmatrixclient">GSOC update from last week</a>.</p>
<h3 id="ruby-sdk">Ruby SDK</h3>
<p><a href="https://github.com/ananace/">Ananace</a>:</p>
<blockquote>
<p>Just cut a 1.2.0 release of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby SDK</a>, including fixes for timeout handling, some general code cleanup and documentation work, and a collection of getters and setters for most of the specced room state types</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="freenode-irc-bridge-restarted">freenode IRC bridge restarted</h3>
<blockquote>
<p>The freenode IRC bridge was restarted with the following fixes:</p>
<ul>
<li>Some characters in IRC usernames (such as “|”) would cause IRC user’s messages to not appear on the Matrix side.</li>
<li>Room upgrades are now handled a bit more cleanly</li>
</ul>
</blockquote>
<h3 id="mx-puppet-bridge-platform">mx-puppet-bridge platform</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">Sorunome</a> has been working on her all-new bridge platform, <a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a>:</p>
<blockquote>
<p>This week soru has been working more on <a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a>, together with <a href="https://github.com/Sorunome/mx-puppet-slack">mx-puppet-slack</a> and the now-new <a href="https://github.com/Sorunome/mx-puppet-tox">mx-puppet-tox</a>.</p>
</blockquote>
<h4 id="mx-puppet-bridge">mx-puppet-bridge</h4>
<blockquote>
<p>This is work on the underlying bridge, protocol implementations still have to do their thing</p>
<ul>
<li>room name, icon and topic (was already implemented but untested)</li>
<li>ghost name and icon (was already implemented, but untested)</li>
<li>file sending in both directions (image, audio, video, file, autodetect) (was already implemented, but untested)</li>
<li>have own ghosts create rooms --&gt; appservice bot is not needed, more invisible bridging (especially nice for 1:1 rooms!)</li>
<li>implemented 1:1 room bridging</li>
<li>implemented provisioning interface via appservice bot</li>
<li>remote -&gt; matrix presence handling</li>
<li>remote -&gt; matrix typing notifications</li>
<li>matrix -&gt; remote puppet name tracking</li>
<li>matrix -&gt; remote puppet avatar tracking</li>
<li>mx-puppet-bridge uses caching for better performance</li>
<li>Added linting</li>
</ul>
</blockquote>
<h4 id="mx-puppet-slack">mx-puppet-slack</h4>
<blockquote>
<p>Lots of work here, smoothening things out</p>
<ul>
<li>room name, icon and topic bridging</li>
<li>ghost name and icon bridging</li>
<li>file sending in both directions</li>
<li>presence and typing notifs</li>
</ul>
</blockquote>
<h4 id="mx-puppet-tox">mx-puppet-tox</h4>
<blockquote>
<p>This is a new one! It bridges <a href="https://tox.chat/">tox</a> over to matrix...or, well, more acts like a client (as tox doesn't have multidevice). Basic chatting was already functioning with only around 300 lines of code! The <a href="https://github.com/TokTok/js-toxcore-c/">node toxcore bindings</a> seem to only include support for 1:1 chats (and not the new group chats), so only that is implemented.</p>
<ul>
<li>ghost name and icon bridging</li>
<li>file senidng in both directions</li>
<li>presence and typing notifs</li>
<li>matrix -&gt; tox name and avatar syncing</li>
</ul>
</blockquote>
<p>There is already <a href="https://github.com/Sorunome/mx-puppet-bridge/blob/master/bridge.md">substantial documentation available</a>, and a Matrix room at <a href="https://matrix.to/#/#mx-puppet-bridge:sorunome.de">#mx-puppet-bridge:sorunome.de</a>.</p>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="riotx-android">RiotX (Android)</h3>
<blockquote>
<ul>
<li>We are finalizing the MVP of RiotX. Many new features, along with many bug fixes this week:
<ul>
<li>Notifications for version with or without Firebase Cloud Messaging</li>
<li>Reply in e2e rooms</li>
<li>Change of DI tool (We are now using dagger2)</li>
<li>New settings, split into categories</li>
<li>New set of Emojis for quick reactions</li>
<li>New application icon</li>
<li>And many other little features</li>
<li>New disclaimer screen, displayed at first startup</li>
<li>New suggestion screen (based on bug report screen)</li>
<li>Min SDK version has been set to API 19 (Kitkat), mainly for security reasons, but also because we are using MotionLayout which is available only on API 18+.</li>
</ul>
</li>
<li>Remaining work to do before we can release the first beta version on the PlayStore:
<ul>
<li>Encrypt/Decrypt attachment in e2e rooms</li>
<li>Last event display in the room list</li>
<li>Test, test, test, and fix, fix, fix :)</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="integration-of-matrix-into-delphus">Integration of Matrix into Delphus</h3>
<p><a href="https://matrix.to/#/@kevin:potatofrom.space">Pneumaticat</a>:</p>
<blockquote>
<p>Our company, Scintillating, has integrated Riot as an end-to-end encrypted chat, video, and voice call provider for our decentralized scientific study management system <a href="https://delph.us/">Delphus</a>. We have created a method of linking Matrix IDs with Ethereum addresses to allow scientific researchers to look up participants and create chat rooms to talk with individuals in a privacy-preserving manner.</p>
</blockquote>
<h3 id="spectral">Spectral</h3>
<p>We didn't get a <a href="https://gitlab.com/spectral-im/spectral">Spectral</a> update for a few weeks! <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> reported:</p>
<blockquote>
<p>Quite a few changes in <a href="https://gitlab.com/spectral-im/spectral">Spectral</a> in the past few weeks. The room list filter is improved, and it only shows rooms with unread notifications by default. User can optionally hide join/leave events. Empty avatar in direct chats is fixed. Each user now has a unique message bubble background color in the timeline.</p>
</blockquote>
<h3 id="pattle-version-0-8-0">Pattle: version 0.8.0</h3>
<p><a href="https://matrix.to/#/@wilko:pattle.im">Wilko</a>, chief Pattler:</p>
<blockquote>
<p>A new version of Pattle has been pushed to F-droid!</p>
<p>Although this isn't the biggest release, it's still a big step: the first release of iOS will be available! The build is currently still in review by Apple.</p>
<p>You can download the iOS app via TestFlight soon, join <a href="https://matrix.to/#/#app:pattle.im">#app:pattle.im</a> to get the link immediately when it's available!</p>
<h4 id="other-changes">Other changes</h4>
<ul>
<li>Add <code>.well-known</code> support!</li>
<li>Automatically update homeserver property in 'Advanced' while typing username</li>
<li>Fix messages being wrongly grouped by sender</li>
<li>Fix direct chats staying marked as direct when someone else joins</li>
</ul>
<h4 id="install-this-release">Install this release</h4>
<p>F-Droid:</p>
<ol>
<li>Add the following repo in F-droid:
<a href="https://fdroid.pattle.im/?fingerprint=E91F63CA6AE04F8E7EA53E52242EAF8779559209B8A342F152F9E7265E3EA729">https://fdroid.pattle.im/?fingerprint=E91F63CA6AE04F8E7EA53E52242EAF8779559209B8A342F152F9E7265E3EA729</a></li>
<li>Install 'Pattle'</li>
</ol>
<p>APK: Download from the assets of this release</p>
<h4 id="issues">Issues</h4>
<p>If you stumble upon any issues, <a href="https://git.pattle.im/pattle/app/issues">please report them</a>!
You can <a href="https://git.pattle.im/users/sign_in">login via GitHub and Gitlab.com</a>, so it's really easy to do!</p>
<h4 id="follow-pattle">Follow Pattle</h4>
<p>Follow development in <a href="https://matrix.to/#/#app:pattle.im">#app:pattle.im</a>!</p>
<h4 id="support-me">Support me</h4>
<p>If you would like to support me, you can now do so
via <a href="https://liberapay.com/wilko/">Liberapay</a> and <a href="https://www.patreon.com/pattle_app">Patreon</a>.</p>
<p>I've invested a lot of money in making Pattle happen on iOS: MacBook, Apple Developer Program, and an iPhone.
Pretty costly, so any donations will be greatly appreciated!</p>
</blockquote>
<h3 id="continuum-updates-placeholder-avatars">continuum updates placeholder avatars</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>:</p>
<blockquote>
<p><a href="https://github.com/koma-im/continuum-desktop">continuum</a> tweaked the appearance of placeholder avatars. To make most users appear visually distinct, continuum has always used colors based on checksums and usernames to generate placeholders if any user doesn't have an image as avatar. In previous versions, it always used two characters of the name. In the new version, if the username contains ideographic (usually east-asian) characters, a single character would be used. The reason is that the number of ideographic characters is vast and duplicates are less common, and most of them are close to a square or circle in shape so a single one would fit the GUI component better.</p>
</blockquote>
<h3 id="fluffychat-edges-closer-to-e2e">FluffyChat edges closer to E2E</h3>
<p><a href="https://matrix.to/#/@krille:chat.regionetz.net">Krille</a>:</p>
<blockquote>
<p>Last weekend hummlbach (from the UBports community) visited me and we worked 18 hours on implementing end2end encryption. We are now able to send encrypted messages. Key sharing and decrypting will follow.</p>
</blockquote>
<p>Not available in the released version yet, but join <a href="https://matrix.to/#/#fluffychat:matrix.org">#fluffychat:matrix.org</a> for more info. Also: 18 hours! Woah.</p>
<h3 id="quaternion">Quaternion</h3>
<p><a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> received several updates recently, check out <a href="https://matrix.to/#/#quaternion:matrix.org">#quaternion:matrix.org</a> for more info.</p>
<h3 id="fractal-released-4-1-dev-version">Fractal released 4.1 dev version</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a>:</p>
<blockquote>
<p><a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> released a 4.1 development version, which was added to the beta channel of flathub. <a href="https://matrix.to/#/@danigm:matrix.org">danigm</a> is eager to get 4.2 out soon and is trying to fix the last few bugs we want to see gone before then. He already opened a few merge requests.</p>
</blockquote>
<h3 id="riot-web">riot-web</h3>
<blockquote>
<ul>
<li>Updated the reactions UX with a new tooltip-style interaction</li>
<li>Added edit history dialogue and other small editing tweaks</li>
<li>Riot Desktop config options (such as default HS, theme, etc.) can now be overridden for easy customisation</li>
</ul>
</blockquote>
<h3 id="riot-ios">riot-iOS</h3>
<blockquote>
<ul>
<li>New reactions in the event contextual menu</li>
<li>Edits in e2e rooms</li>
<li>Still refining reactions and edits</li>
</ul>
</blockquote>
<h3 id="matrix-enact-read-only-client-which-performs-the-contents-of-rooms-with-web-audio-api">matrix-enact, read-only client which performs the contents of rooms with Web Audio API</h3>
<p>Some time ago I made a toy: <a href="https://play.matrix.org/matrix-enact/">https://play.matrix.org/matrix-enact/</a></p>
<p>This is a read-only Matrix client, which takes the contents of a public room and &quot;enacts&quot; it, that is, it performs it using the Web Audio API in your browser</p>
<p>The original intention was to be a demonstration of what can be done with /context endpoint, but the project scope expanded a little. Hopefully people find it fun!</p>
<p>Get the source code here: <a href="https://github.com/benparsons/matrix-enact">https://github.com/benparsons/matrix-enact</a></p>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h3>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> and his many helpers have been working on <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a>:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> has seen a lot of work on bridging lately.
All currently existing bridges (Discord, Facebook, IRC, Telegram, Whatsapp) have been redone in a way that makes their configuration completely playbook-managed, as well as extensible.
Besides this, with Synapse v1.0 already out, we've taken the opportunity to simplify the installation instructions a bit.
If you haven't upgraded recently, now would be a great time. As always, be sure to take a look at the CHANGELOG before doing so.</p>
</blockquote>
<h3 id="update-from-the-matrix-on-debian-team">Update from the <em>Matrix on Debian</em> team</h3>
<p><a href="https://matrix-team.pages.debian.net/blogue/2019/06/26/june-2019-matrix-on-debian-update/">https://matrix-team.pages.debian.net/blogue/2019/06/26/june-2019-matrix-on-debian-update/</a></p>
<blockquote>
<p>This is an update on the state of Matrix-related software in Debian</p>
</blockquote>
<h2 id="dept-of-identity-passport-control">Dept of Identity 🛂</h2>
<h3 id="mxisd-forked">mxisd forked</h3>
<p>Following the announcement that <a href="https://github.com/kamax-matrix/mxisd/blob/master/EOL.md">mxisd would not longer be worked on</a>, <a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> has stepped up to provide support:</p>
<blockquote>
<p>I forked mxisd (<a href="https://github.com/ma1uta/mxisd">https://github.com/ma1uta/mxisd</a>) and will provide support this project. You can ask about help in a new room <a href="https://matrix.to/#/#ma1sd:ru-matrix.org">#ma1sd:ru-matrix.org</a>
A new temporary name will be <code>ma1sd</code> (thanks <a href="https://matrix.to/#/@dandellion:dodsorf.as">Dandellion</a> ).
Due to changing maintainers I start to prepare the new 2.0.0 release and should audit code and dependencies.
Also I forked matrix-synapse-rest-password-provider (<a href="https://github.com/ma1uta/matrix-synapse-rest-password-provider">https://github.com/ma1uta/matrix-synapse-rest-password-provider</a>) because it often uses with mxisd.
Docker image, ansible support, debian, nixos and archlinux packages are temporary unavailable due to code auditing and changing maintainers.</p>
</blockquote>
<h3 id="link-existing-unix-accounts-with-accounts-on-a-synapse-homeserver">Link existing unix accounts with accounts on a Synapse homeserver</h3>
<p>Cos created an article <a href="https://coshacks.blogspot.com/2019/06/matrix-synapse-authentication-from-unix.html">detailing how to link existing unix accounts with accounts on a Synapse homeserver</a>.</p>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="poll-bot">poll-bot</h3>
<p><a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a>:</p>
<blockquote>
<p>I made a Matrix bot that uses reactions to do polls! The code is available at <a href="https://github.com/babolivier/matrix-poll-bot">https://github.com/babolivier/matrix-poll-bot</a> (with a screenshot of how it works) and you can invite <a href="https://matrix.to/#/@poll-bot:abolivier.bzh">@poll-bot:abolivier.bzh</a> in your room if you want to try it out 🙂</p>
</blockquote>
<p>Bot works by taking a list of emoji + responses from a user, then makes a new message event with those emojis each voted for once. In this way, you can quickly make a reaction-based poll.</p>
<h3 id="reactbot-a-maubot">reactbot, a maubot</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>, never enough <a href="https://github.com/maubot/maubot">maubots</a>:</p>
<blockquote>
<p>The <a href="https://github.com/maubot/reactbot">reactbot</a> I announced last week has been updated to support arbitrary response content instead of just reactions. As examples, the repo now has a stallman interjection bot (ported from <a href="https://github.com/interwho/stallman-bot">this</a> and a replacement for <a href="https://github.com/maubot/jesaribot">jesaribot</a>. Reactions as responses are still supported and the repo still has the TWIM cookie bot example too.</p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final thoughts 💭</h2>
<p><a href="https://github.com/ananace/">Ananace</a> has been looking again at a release tracker they'd previously been working on.</p>
<p>kernel.org have set up an ActivityPub instance (see <a href="https://people.kernel.org/about">https://people.kernel.org/about</a>.) Not strictly Matrix but interesting that they decided to move to a federated platform.</p>
<p>First GSOC evaluation submissions were due this week, all four Matrix projects are proceeding well. See Eisha's update above, and <a href="https://matrix.org/blog/2019/06/21/this-week-in-matrix-2019-06-21">the other three last week</a>.</p>
<p><a href="https://matrix.to/#/@red_sky:ocean.joedonofry.com">red_sky</a>, nheko maintainer, was seen to say: &quot;I know there hasn't been much activity from me lately. I was on vacation last week. I'll be getting back to work on 0.7.0 today&quot;</p>
<p>The Europas awards ceremony was held at a venue next to my old flat. Small world! Small flat too.</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;06&#x2F;21&#x2F;this-week-in-matrix-2019-06-21&#x2F;" title="This Week in Matrix 2019-06-21">This Week in Matrix 2019-06-21</a></h1>
            <span>
                21.06.2019 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<p>Matthew and Amandine talk about what we're hoping to ship in June</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RyoCPT_ZvIU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="dendrite">Dendrite</h3>
<p>We have a whole lot of <a href="https://github.com/matrix-org/dendrite">Dendrite</a> news this week! First, from <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a>, on the Matrix team:</p>
<blockquote>
<p>Progress has been picking up this week with some of <a href="https://matrix.to/#/@cnly:matrix.org">Cnly</a>’s <a href="https://github.com/matrix-org/dendrite/pulls/Cnly">many</a> <a href="https://github.com/matrix-org/gomatrixserverlib/pulls/Cnly">PRs</a> finally getting merged! <a href="https://matrix.to/#/@cnly:matrix.org">Cnly</a> is our resident <a href="https://www.matrix.org/blog/2019/05/07/welcome-to-the-2019-g-so-c-participants">Google Summer of Code</a> student this Summer and has been making strides ever since. We also finally fully migrated to BuildKite for Continuous Integration (which is much quicker than TravisCI) and have implemented golangci-lint as the project’s opinionated linter (catching some bugs in the process).</p>
<p>As part of CI, we’ve set up <a href="https://github.com/matrix-org/sytest/">Sytest</a> for Dendrite, which grants us a loose method of keeping track of progress as we go along. Currently the only way to do so is to take a look at the <a href="https://github.com/matrix-org/dendrite/blob/master/testfile">testfile</a> which holds all the tests we know Dendrite to be passing, and cross-referencing that with the list of all sytests (which isn’t actually available anywhere). We’re hoping to make some nice way of visualizing progress over time with this data (and possibly break it down into Federation/Client/Application Service categories), but this will take some time.</p>
<p>We’d also like to thank some new contributors that have shown up since Matrix 1.0’s release. <a href="https://matrix.to/#/@jump_spider:matrix.spider.ink">serra-allgood</a> contributed <a href="https://github.com/matrix-org/dendrite/pull/702">a fix</a> for querying aliases when using at least one application service, while <a href="https://matrix.to/#/@drglitch:matrix.org">DrGlitchMX</a> sent a PR in for some database fixes. <a href="https://matrix.to/#/@peekay_46:matrix.org">SUMUKHA-PK</a>’s <a href="https://github.com/matrix-org/dendrite/pull/694">PR</a> to add room tags is still around and should see some love very shortly.</p>
<p>As far as the current goals of the project, we’re looking to primarily make Dendrite federate with Synapse, which will allow it to actually be usable for testing/basic day-to-day usage. We intend to have it done so in the next few months, so stay tuned!</p>
</blockquote>
<p>Next, from <a href="https://matrix.to/#/@cnly:matrix.org">Cnly</a>, who is doing GSOC🎓 on Dendrite:</p>
<blockquote>
<p>For Dendrite, the first phase of GSoC has primarily seen improvements for the existing code including bug fixes, refinements for testing, and some refactoring that prepares Dendrite for later feature implementation. Among the changes, two important ones will be the initial support for EDUs in /sync responses as well as a federation destination cache that allows for more effective federation.</p>
<p>In the next phase, more focus will be put into feature completion, mainly for the Client/Server API component. Since this part of work covers various still-under-construction areas in Dendrite, it is foreseeable that more progress will actually be made than proposed.</p>
</blockquote>
<h3 id="ruma">Ruma</h3>
<p>This Week in Ruma: <a href="https://www.ruma.io/news/this-week-in-ruma-2019-06-16/">https://www.ruma.io/news/this-week-in-ruma-2019-06-16/</a></p>
<blockquote>
<p>Work is underway to bring Ruma up to date with version r0.5.0 of the Matrix specification. Starting with the most foundational libraries and working up towards the higher-level ruma-client, this work should be done in the next week or two. The bulk of the work since the last update has been on ruma-events, adding all of the events that were previously missing, and doing a full pass through existing events to make sure our definitions match the specification.</p>
</blockquote>
<p>I can't wait to see more updates out of Ruma!</p>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="matrix-appservice-discord-0-5-1">matrix-appservice-discord 0.5.1</h3>
<p>This announcement is nearly a week old from <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>, coming in right after the previous TWIM was published:</p>
<blockquote>
<p>We've released v0.5.1 of the discord bridge today. It's mostly comprised of small bugfixes and features, but contains metrics support for tracking performance on the bridge. <a href="https://github.com/Half-Shot/matrix-appservice-discord/releases/tag/0.5.1">https://github.com/Half-Shot/matrix-appservice-discord/releases/tag/0.5.1</a></p>
</blockquote>
<h3 id="mautrix-telegram">mautrix-telegram</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>:</p>
<blockquote>
<p>mautrix-telegram got some bugs fixed and minor features:</p>
<ul>
<li>Updated to <a href="https://github.com/LonamiWebs/Telethon/compare/v1.8.0...master">Telethon 1.8</a></li>
<li>Option to limit maximum document size when bridging so it wouldn't download 1.5gb files and run out of ram</li>
<li>Made the state cache get updated when sending state events. Not doing this was causing some problems on t2bot.io, which has disabled echoing state events (probably for performance reasons)</li>
</ul>
</blockquote>
<h3 id="reliable-bridges-gsoc-mortar-board"><em>Reliable Bridges</em> GSOC 🎓</h3>
<p><a href="https://matrix.to/#/@kai:nasnotfound.de">Kai</a> is working on bridging in Matrix, mentored by <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>:</p>
<blockquote>
<p>The first phase of GSoC is nearing its end and progress has been made on the <em>Reliable Bridges</em> project.<br />
The main focus of the work was on delivering a running implementation for the signaling of permanent errors. Work has been done on <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> together with <a href="https://github.com/Half-Shot/matrix-appservice-discord">matrix-appservice-discord</a>. An internal version of the Discord bridge with the new feature is already running and the related <a href="https://github.com/matrix-org/matrix-appservice-bridge/pull/111">PR for the bridge SDK</a> is in the state of being completed.<br />
The next phase of GSOC comes with new goals. First, the preparation of a MSC for the signaling of bridge errors, so that the feature can be discussed in the community and can become a part of The Spec. The second goal will be the modification of Riot Web, so that the user is notified when an error condition occurred.<br />
There also has been a slight change of plan: The work on notifying clients when parts of the system are temporarily unavailable needs reconsideration as not even the core Matrix network itself has this capability. The way forward here should probably be a <a href="https://github.com/matrix-org/matrix-doc/issues/2094">unified solution</a>.</p>
</blockquote>
<h3 id="new-typescript-puppeting-lib-mx-puppet-bridge">New TypeScript puppeting lib: mx-puppet-bridge</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">Soru</a>, who you probably know from her work on <a href="https://github.com/Half-Shot/matrix-appservice-discord/">matrix-appservice-discord</a>, has started a new library:</p>
<blockquote>
<p>Soru started working on a new puppeting library, for a lack of a better name it is currently called <a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a>.<br />
Unlike the existing puppet bridge, the focus of this one is to handle multiple users at once, all dynamically without needing to edit the configuration file over and over. Additionally the new codebase results in quite a few things smoothened out for easier protocol implementations.<br />
Furthermore mx-puppet-bridge is written in typescript and based on travis' <a href="https://github.com/turt2live/matrix-bot-sdk">matrix-bot-sdk</a>.<br />
As protocol implementation for testing, soru also wrote <a href="https://github.com/Sorunome/mx-puppet-slack">mx-puppet-slack</a> (again, for the lack of a better name). Basic message sending in both directions is already fully functional.</p>
</blockquote>
<p>Exciting stuff! And all the more so for the third-person announcement style!</p>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="gomuks">gomuks</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>:</p>
<blockquote>
<p>Gomuks had a bunch of changes:</p>
<ul>
<li>Added support for rendering redactions and edits (rendering reactions coming up next)</li>
<li>Added commands to create rooms, start private chats and edit room tags</li>
<li>Rendered images now don't take up the whole width</li>
<li>Improved memory usage slightly</li>
<li>Broke everyones existing caches (<code>rm -rf ~/.cache/gomuks</code> should help if it panics at startup)</li>
</ul>
<p>The command for creating rooms and the image resolution limit were added by a new contributor, <a href="https://matrix.to/#/@jrswab:matrix.org">J. R.</a>, who is currently working on adding .well-known discovery support.</p>
</blockquote>
<p>I've been having a good play with this and like it at lot!</p>
<p><img src="/blog/img/2019-06-21-gomuks.png" alt="gomuks" /></p>
<h3 id="continuum-javafx-client">continuum, JavaFX client</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>:</p>
<blockquote>
<p>Improved support for more types of events in
<a href="https://github.com/koma-im/continuum-desktop">continuum</a> this week:</p>
<ul>
<li>invitation events are supported</li>
<li>support for events that typically appear when a room is being set up is in progress</li>
<li>events that are not yet supported are displayed with a fallback view. Blank rows in previous versions are now fixed. You could always right-click on any event to view the source, of course</li>
</ul>
</blockquote>
<p><img src="/blog/img/2019-06-21-continuum.png" alt="continuum" /></p>
<h3 id="pattle-dart-client">Pattle, Dart client</h3>
<p><a href="https://matrix.to/#/@wilko:pattle.im">Wilko</a> came in with this thorough update, <a href="https://pattle.im/">Pattle</a> development is MOTORING:</p>
<blockquote>
<p>A new version of Pattle has been pushed to F-droid!</p>
<p>This release is mostly focused on bug fixing and bug reporting! This is why I urge <strong>all users who have been having problems before to try Pattle again!</strong> Chances are that your problem has been fixed, and if not, it will be reported with more information so I can fix it!</p>
<p>When an error is reported, this data is sent:</p>
<ul>
<li>Operating system version</li>
<li>Device model, brand, manufacturer and whether it's a simulator</li>
<li>A unique ID based on your device</li>
</ul>
<p>In some errors the homeserver domain is logged, I will try to prevent this in the future.</p>
<p>This release also includes preparation for an iOS release next week!</p>
<p>Fixes and other changes:</p>
<ul>
<li>Handle rooms that the user has left (a notice is shown that you can't send any messages)</li>
<li>Show a date header above the chat creation event (not the first known event in the list as before)</li>
<li>When an error occurs during sync, show a message, including the Exception name</li>
<li>Fix replies causing an error if the <code>formattedBody</code> does not adhere to the spec (thanks to Mathieu!)</li>
<li>Fix errors not showing when logging in</li>
<li>Fix loading spinner showing when checking username or logging in even if loading took less than 3 seconds</li>
<li>Fix direct chats not detected when adder after the initial sync</li>
<li>Some general syncing issues have been fixed (causing the dreaded infinite loading spinner).</li>
</ul>
<p>To install this release, add the following repo in F-droid:</p>
<p><a href="https://fdroid.pattle.im/?fingerprint=E91F63CA6AE04F8E7EA53E52242EAF8779559209B8A342F152F9E7265E3EA729">https://fdroid.pattle.im/?fingerprint=E91F63CA6AE04F8E7EA53E52242EAF8779559209B8A342F152F9E7265E3EA729</a></p>
<p>And install 'Pattle'.</p>
<p>Or <a href="https://git.pattle.im/pattle/app/releases">download the APK</a>.</p>
<p>If you stumble upon any issues, <a href="https://git.pattle.im/pattle/app/issues">please report them</a>!<br />
You can <a href="https://git.pattle.im/users/sign_in">login via GitHub and Gitlab.com</a>, so it's really easy to do! (Logging in via GitHub did not seem to work previously, but it will now!)</p>
<p>Follow development here: <a href="https://matrix.to/#/#app:pattle.im">#app:pattle.im</a>!</p>
<p>If you would like to support me, you can now do so via <a href="https://liberapay.com/wilko/">Liberapay</a> and <a href="https://www.patreon.com/pattle_app">Patreon</a>. I actually need money for the Apple Developer program, which costs 100 euros per year to release Pattle on the App Store and Testflight.</p>
</blockquote>
<h2 id="dept-of-encryption-closed-lock-with-key">Dept of Encryption 🔐</h2>
<h3 id="quotient-former-qmatrixclient">Quotient (former QMatrixClient)</h3>
<p><a href="https://matrix.to/#/@aa13q:matrix.org">aa13q</a> is a GSOC 🎓 student, working on E2EE and mentored by <a href="https://matrix.to/#/@kitsune:matrix.org">Kitsune</a>:</p>
<blockquote>
<p>I'm working on my E2EE GSoC task: <a href="https://matrix.org/blog/2019/05/07/welcome-to-the-2019-g-so-c-participants">https://matrix.org/blog/2019/05/07/welcome-to-the-2019-g-so-c-participants</a>
One-time keys uploading part is implementing currently. Draft device keys uploading is also here. The implementation follows E2EE guide: <a href="https://matrix.org/docs/guides/end-to-end-encryption-implementation-guide">https://matrix.org/docs/guides/end-to-end-encryption-implementation-guide</a><br />
My contribution and reports are currently here: <a href="https://github.com/a-andreyev/libQuotient/wiki/GSoC-2019-reports">https://github.com/a-andreyev/libQuotient/wiki/GSoC-2019-reports</a>. Also, feel free to reach me via Quotient group <a href="https://matrix.to/#/#quotient:matrix.org">https://matrix.to/#/#quotient:matrix.org</a>.<br />
I'm trying to reuse <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>'s qtolm project: <a href="https://gitlab.com/b0/libqtolm">https://gitlab.com/b0/libqtolm</a> -- added CMake files to include to libQuotient project, special thanks to Black Hat for his work.<br />
Thanks to my GSoC mentors and Matrix and Quotient communities for support and solid groundwork. Long term goal is to provide modern Qt-based library to support full-featured matrix clients like Quaternion, Spectral or even to revive Telepathy IM connection manager <a href="https://github.com/TelepathyIM/telepathy-tank">https://github.com/TelepathyIM/telepathy-tank</a>! %)</p>
<p>P.S.: Maybe somebody reading this is brave enough to play with Qt-based server implementation too? :)</p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<blockquote>
<ul>
<li>Updating reactions UX to match new designs</li>
<li>Continued refinements to editing
*Tweaked SAS verification dialogs to behave more nicely</li>
</ul>
</blockquote>
<p>Also: <a href="https://snapcraft.io/riot-web">Riot Desktop was updated on the Snap Store</a>.</p>
<h3 id="riot-ios">Riot iOS</h3>
<blockquote>
<p>On the aggregation side, we have started to work on the phase:2 sprint (<a href="https://vector-im.github.io/feature-dashboard/#/summary?repo=vector-im/riot-web&amp;repo=vector-im/riotX-android&amp;repo=vector-im/riot-ios&amp;label=feature:aggregations&amp;label=phase:2">https://vector-im.github.io/feature-dashboard/#/summary?repo=vector-im/riot-web&amp;repo=vector-im/riotX-android&amp;repo=vector-im/riot-ios&amp;label=feature:aggregations&amp;label=phase:2</a>):</p>
<ul>
<li>Updating reactions UX to match new designs</li>
<li>Support edition of event being sent</li>
</ul>
</blockquote>
<h3 id="riot-android">Riot Android</h3>
<blockquote>
<ul>
<li>Sync with Weblate</li>
<li>PlayStore assets has been translated to Spanish</li>
</ul>
</blockquote>
<h3 id="riotx-android">RiotX (Android)</h3>
<blockquote>
<ul>
<li>Implementation of notifications is progressing well</li>
<li>Migration from Koin to Dagger2 is nearly finished</li>
<li>Many other tasks have been done to try to close ambitious phase 1:
<ul>
<li>encrypt/decrypt attachments in e2e rooms</li>
<li>Display redacted events properly in e2e rooms</li>
<li>Permalink navigation</li>
<li>Display version of app and Matrix sdk in settings</li>
<li>Disambiguation of display names</li>
<li>Many other bug fixes...</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="avhost-docker-matrix">avhost/docker-matrix</h3>
<p><a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a>:</p>
<blockquote>
<p>My PR to the avhost/docker-matrix image (formerly the silviof) adding jemalloc support has just been merged. The image will now run synapse using jemalloc by default, which has been shown to reduce memory usage.<br />
The first image is tagged as avhost/docker-matrix:jemalloc if all goes well the next synapse release will include jemalloc by default</p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services 🚀</h2>
<h3 id="new-web-forum-from-federated-networks-association">New (web) forum from Federated Networks Association</h3>
<p><a href="https://matrix.to/#/@jaywink:feneas.org">jaywink</a>:</p>
<blockquote>
<p>Feneas (short for Federated Networks Association) just launched a new discussion forum aimed at creating a collaboration space for the federated web folk. Of course there is a category for Matrix as well. Have a peek! More info here: <a href="https://feneas.org/federated-networks-forum/">https://feneas.org/federated-networks-forum/</a></p>
</blockquote>
<h3 id="diaspora-mirror-of-this-blog-meta">Diaspora mirror of this blog (meta)</h3>
<p><a href="https://matrix.to/#/@jaywink:feneas.org">jaywink</a>:</p>
<blockquote>
<p>Should you want to follow the Matrix.org blog using your Diaspora protocol compatible account, there is an unofficial mirror of the blog at matrixorg@social.gibberfish.org. (disclaimer: I'm not affiliated with the account, just found it and reporting)</p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final thoughts 💭</h2>
<p>🤔 A company named &quot;Slack&quot; <a href="https://text.npr.org/s.php?sId=734095998">had an IPO</a>, in which the share price <a href="https://www.theguardian.com/technology/2019/jun/20/slack-ipo-stocks-app-public-latest-share-prices-beat-expectations">closed up 50%</a>. Slack are involved in &quot;Instant Messaging&quot; software and their product is known for the ability to connect to other services.</p>
<p>⏰ It's the first GSOC assessment NEXT WEEK. We'll get updates from all four projects, but notice that three of the projects have already provided updates above.</p>
<p>🤖 <a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> created TWO new maubot plugins, one for translating things: <a href="https://github.com/maubot/translate">https://github.com/maubot/translate</a>. Check out <a href="https://matrix.org/#/@translate:maunium.net">the bot user</a>. The other is a &quot;react bot&quot;, <a href="https://github.com/maubot/reactbot">https://github.com/maubot/reactbot</a>, &quot;that reacts to messages that match predefined rules&quot;.</p>
<p>⁉️ <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> (from <a href="https://gitlab.com/spectral-im/spectral">Spectral</a> and more) is &quot;experimenting with ruma-client-api and plans to create something awesome with it&quot;, <a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> (from <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>) got a new laptop. <a href="https://matrix.to/#/@f0x:pixie.town">Fox</a> &quot;just did [their] last java uni exercise ever and am now free from this curse, will have time to work on <a href="https://github.com/f0x52/neo/">Neo</a>&quot;.</p>
<p>🔨 This website has had a lot of polish over the last couple of weeks. We'll be focusing on the incremental improvements still needed, and also on adding new documentation. <a href="https://matrix.to/#/#matrix.org-website:matrix.org">Let us know</a> what you think we should do next.</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;06&#x2F;14&#x2F;this-week-in-matrix-2019-06-14&#x2F;" title="This Week in Matrix 2019-06-14">This Week in Matrix 2019-06-14</a></h1>
            <span>
                14.06.2019 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live-prof-jon-crowcroft-foundation-guardian">Matrix Live - Prof. Jon Crowcroft, Foundation Guardian 🎙</h2>
<p>Matthew &amp; Amandine talk with Prof. Jon Crowcroft, one of the new Matrix.org Foundation Guardians!</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/a4L94Rsg_nM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="matrix-1-0">Matrix 1.0</h2>
<p>The big news this week is that we declared ourselves to be out of beta. You'll want the <a href="https://matrix.org/blog/2019/06/11/introducing-matrix-1-0-and-the-matrix-org-foundation">full post</a> for all details, but here's a taste:</p>
<blockquote>
<p>We are very excited to announce the first fully stable release of the Matrix protocol and specification across all APIs - as well as the Synapse 1.0 reference implementation which implements the full Matrix 1.0 API surface.</p>
<p>This means that after just over 5 years since the initial work on Matrix began, we are proud to have finally exited beta!! This is the conclusion of the work which we announced at <a href="https://matrix.org/blog/2019/02/04/matrix-at-fosdem-2019">FOSDEM 2019</a> when we cut the first stable release of the Server-Server API and began the Synapse 0.99 release series in anticipation of releasing a 1.0.</p>
</blockquote>
<p>As part of the 1.0 we also announced the Matrix.org Foundation.</p>
<blockquote>
<p>For the full update on the Foundation, please check out the new website content at <a href="https://matrix.org/foundation">https://matrix.org/foundation</a> which should tell you everything you could possibly want to know about the Foundation, the Guardians, the Foundation’s legal Articles of Association, and the day-to-day Rules which define the Open Governance process.</p>
</blockquote>
<p>Thanks to everyone who has stuck with us along the way to make this possible.</p>
<h2 id="synapse">Synapse</h2>
<p>We released Synapse 1.0.0 this week to coincide with Matrix 1.0. As a release Synapse 1.0.0 focuses on security and stability which in turn builds a firm foundation for the performance improvements that you can expect to see over the Summer. Read all about it <a href="https://matrix.org/blog/2019/06/11/synapse-1-0-0-released">here</a>.</p>
<h2 id="crypto">Crypto</h2>
<p>We have not one but two working end to end demos of device cross signing! This is going to be huge and is key step towards being able to make Matrix e2ee by default.</p>
<p>Cross Signing Demo</p>
<iframe width="480" height="315" sandbox="allow-same-origin allow-scripts" src="https://scitech.video/videos/embed/1c8a0262-dee9-4927-b9e9-9856a7f4d8bf" frameborder="0" allowfullscreen></iframe>
<p>Additional Treats</p>
<iframe width="560" height="315" sandbox="allow-same-origin allow-scripts" src="https://scitech.video/videos/embed/d1ef04a8-397a-4570-a9a9-cef143ea637c" frameborder="0" allowfullscreen></iframe>
<p>But wait there's more! Pantalaimon not only provides a way for clients and bots to participate in e2ee rooms, it now provides the ability to search. Checkout this (relgious themed) <a href="http://s1.webmshare.com/1ZOvM.webm">demo</a>.</p>
<h2 id="pattle">Pattle</h2>
<p>Pattle is going great guns at the moment. Here's <a href="https://matrix.to/#/@wilko:pattle.im">Wilko</a>:-</p>
<blockquote>
<p>A new version of Pattle has been pushed to F-droid!</p>
<ul>
<li>Add ability to create group chats!</li>
<li>Show chat creation events ('Wilko has created this group')!</li>
<li>Show emote messages correctly!</li>
<li>Handle display name changes! Display names of messages will now be as they were at time of sending.</li>
<li>Don't show invite and join events in direct chats This is only happens for the two initial users in the direct chat. If someone invites someone else to the direct chat (trough another client), the invitation will show up in the timeline.</li>
<li>Use the timeout parameter while syncing. This means that receiving new messages should be way quicker! (Thanks Mathieu!)</li>
<li>Store messages retrieved remotely (thanks Mathieu!) This means that scrolling up in a chat will be faster now, because the messages are cached.</li>
<li>Always show a date header above the oldest event</li>
<li>Show replies correctly in chat overview</li>
<li>Show sent state icon next to own message in chat overview</li>
<li>Show newly joined rooms at the top in the chat overview</li>
<li>Use a bit bolder font for chat names in overview
To install this release, add the following repo in F-droid:</li>
</ul>
<p>https://fdroid.pattle.im/?fingerprint=E91F63CA6AE04F8E7EA53E52242EAF8779559209B8A342F152F9E7265E3EA729</p>
<p>And install 'Pattle'.</p>
<p>Or download the APK from the link.</p>
<p>If you stumble upon any <a href="https://git.pattle.im/pattle/app/issues">issues</a>, please report them! You can now login via <a href="https://git.pattle.im/users/sign_in">GitHub and Gitlab.com</a> , so it's really easy to do!</p>
<p>Follow development here: <a href="https://matrix.to/#/#app:pattle.im">#app:pattle.im</a>!</p>
<p>There is now also a room for the Matrix Dart SDK (which is being developed for Pattle): <a href="https://matrix.to/#/#sdk:pattle.im">#sdk:pattle.im</a></p>
<p>If you would like to support me, you can now do so via <a href="https://liberapay.com/wilko/">Liberapay</a> and <a href="https://www.patreon.com/pattle_app">Patreon</a>.</p>
</blockquote>
<table><thead><tr><th style="text-align: center">Pattle</th><th style="text-align: center">Pattle</th></tr></thead><tbody>
<tr><td style="text-align: center"><img src="/blog/img/2019-06-14-pattle-1.png" alt="" /></td><td style="text-align: center"><img src="/blog/img/2019-06-14-pattle-2.png" alt="" /></td></tr>
</tbody></table>
<h2 id="riotx-android">RiotX (Android)</h2>
<ul>
<li>Crypto has been merged to develop \o/. We are still working on the feature, for the remaining actions: delete device, export and import keys, keys backup / SAS UI polishing, cleanup keys when signing out, and also fixing bugs…</li>
<li>A new screen has been added to create Rooms.</li>
<li>Animation of the Floating Action Button on the catchup screen has been improved.</li>
<li>Valere has started to work on notifications.</li>
<li>François is working on migration to Dagger2 (instead of Koin). It should improve performance and will allow us to implement multi-account support(!)</li>
<li>Copyright, Term and conditions, privacy policy and third party license screens are coming soon.</li>
<li>Progress indicator on Home for initial/catchup sync is coming soon as well.</li>
</ul>
<h2 id="riot-android">Riot Android</h2>
<ul>
<li>Fix issue on SAS, to allow cross-signing.</li>
</ul>
<h2 id="riot-ios">Riot iOS</h2>
<ul>
<li>Work continues on edits and reactions - we'll have something for you very soon ...</li>
</ul>
<h2 id="riot-web">Riot Web</h2>
<ul>
<li>Editing now supports editing unsent messages(!!), editing emotes, and lots of polish</li>
<li>Reactions now instantly cancel when you redact them</li>
<li>Redactions now instantly redact when you send them</li>
<li>Released v1.2.2-rc1 (up for testing at https://riot.im/staging/) - this release includes room breadcrumbs being out of labs, some fixes for inviting by email, fixes uploads in chrome canary / firefox nightly, config file validation, some fixes for the new emoji font and lots of other bug fixes.</li>
</ul>
<h2 id="ruma">Ruma</h2>
<p><a href="%22https://matrix.to/#/@jimmycuadra:matrix.org%22">Jimmy</a> reports that</p>
<blockquote>
<p>New versions of the ruma-api and ruma-api-macros libraries were released, and work is underway to bring ruma-events up to date with client-server spec r0.5.0</p>
</blockquote>
<h2 id="media">Media</h2>
<p><a href="https://github.com/turt2live">TravisR</a> has this to say:
&gt;Both matrix-media-repo and Dimension have been updated to handle federation certificates. Please update, as you would for Synapse 1.0.0</p>
<h2 id="fractal">Fractal</h2>
<blockquote>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> has <a href="https://gitlab.gnome.org/GNOME/fractal/commit/98d8a82e7da7691bcd7782175680f05311c56d4f">fixed</a> <a href="https://matrix.org/blog/2019/06/07/this-week-in-matrix-2019-06-07#fractal">the regression he found last week</a>. The team also did a bit of housekeeping with a few dependency updates.</p>
</blockquote>
<h2 id="misc">Misc</h2>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> reports that:</p>
<blockquote>
<p>I wrote a bot to control ansible playbooks https://github.com/Half-Shot/matrix-ansible-bot. I'm informed such a thing already exists as an ansible module, but I failed to realise that and wrote a independent one in TypeScript.</p>
</blockquote>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> reports that:</p>
<blockquote>
<p>I made a simple reminder maubot: https://github.com/maubot/reminder It's available at https://matrix.to/#/@reminder:maunium.net</p>
<p>For room admins wondering if they can upgrade their rooms to v5, I made a bash script that checks all the servers in a room and prints a nice summary of the number of servers and members on each version: https://gist.github.com/tulir/aa2df287a0d192b86e5b675687791d16</p>
</blockquote>
<p><a href="https://matrix.to/#/@atreatis:novaim.com">Atreatis</a> reports that:</p>
<blockquote>
<p>Currently <a href="https://matrix.to/#/@grin:grin.hu">grin</a> is building a backend for matrixservers.net that will collect data and push statistics every hour to our website. Next to that I wanted to push forward that me and several others are looking into building a Code of Conduct that should help every new and existing home server. This code of conduct will be build and curated from scratch in-order to help and support the network or any general project.</p>
</blockquote>
<p><a href="https://matrix.to/#/@kevin:potatofrom.space">Pneumaticat</a> has this to say:-
&gt;My homeserver (potatofrom.space) is open for some public registration! Also on <a href="https://matrix.to/#/@atreatis:novaim.com">Atreatis</a>'s matrixservers.net.</p>
<p>They promise 'One nine of uptime guaranteed, or your money back' which sounds pretty like a bargain.</p>
<p>So that's it folks, until next week. Come and say hi at <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a></p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;06&#x2F;11&#x2F;introducing-matrix-1-0-and-the-matrix-org-foundation&#x2F;" title="Introducing Matrix 1.0 and the Matrix.org Foundation">Introducing Matrix 1.0 and the Matrix.org Foundation</a></h1>
            <span>
                11.06.2019 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-1-0">Matrix 1.0</h2>
<p>Hi all,</p>
<p>We are very excited to announce the first fully stable release of the Matrix protocol and specification across **all **APIs - as well as the Synapse 1.0 reference implementation which implements the full Matrix 1.0 API surface.</p>
<p>This means that after just over 5 years since the initial work on Matrix began, we are proud to have finally <strong>exited beta</strong>!!  This is the conclusion of the work which we announced at <a href="https://matrix.org/blog/2019/02/04/matrix-at-fosdem-2019">FOSDEM 2019</a> when we cut the first stable release of the Server-Server API and began the Synapse 0.99 release series in anticipation of releasing a 1.0.</p>
<p>Now, before you get too excited, it’s critical to understand that Matrix 1.0 is all about providing a <strong>stable, self-consistent, self-contained and secure version of the standard</strong> which anyone should be able to use to independently implement production-grade Matrix clients, servers, bots and bridges etc.  It does <strong>not</strong> mean that all planned or possible features in Matrix are now specified and implemented, but that the most important core of the protocol is a well-defined stable platform for everyone to build on.</p>
<p>On the Synapse side, our focus has been exclusively on ensuring that Synapse correctly implements Matrix 1.0, to provide a stable and secure basis for participating in Matrix without risk of room corruption or other nastinesses.  However, we have deliberately <strong>not</strong> focused on performance or features in the 1.0 release - so I’m afraid that synapse’s RAM footprint will not have got significantly better, and your favourite long-awaited features (automatically defragmenting rooms with lots of forward extremities, configurable message retention, admin management web-interface etc) have not yet landed.  In other words, this is the opposite of the <a href="https://medium.com/@RiotChat/the-big-1-0-68fa7c6050be">Riot 1.0 release</a> (where the entire app was redesigned and radically improved its performance and UX) - instead, we have adopted the mantra to <a href="http://wiki.c2.com/?MakeItWorkMakeItRightMakeItFast">make it work, make it work right, and then (finally) make it fast</a>.  You can read the <a href="/blog/2019/06/11/synapse-1-0-0-released">full release notes</a> here.  It’s also worth looking at the <a href="https://github.com/matrix-org/synapse/blob/release-v1.0.0/CHANGES.md">full changelog</a> through the Synapse 0.99 release series to see the massive amount of polishing that’s been going on here.</p>
<p>All this means that the main headline features which land in Matrix 1.0 are vitally important but relatively dry:</p>
<ul>
<li>Using X.509 certificates to trust servers rather than perspective notaries, to simplify and improve server-side trust.  This is a <strong>breaking change</strong> across Matrix, and we’ve given the community several months now to ensure their homeservers run a valid TLS certificate.  See <a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md">MSC1711</a> for full details, and the <a href="https://matrix.org/blog/2019/05/24/final-countdown-to-1-0">2 week warning</a> we gave.  As of ~9am UTC today, the matrix.org homeserver is running Synapse 1.0 and enforcing valid TLS certificates - the transition has begun (and so far we haven’t spotted any major breakage :).  Thank you to everyone who <a href="https://arewereadyyet.com">got ready</a> in advance!</li>
<li>Using .well-known URIs to discover servers, in case you can’t get a valid TLS certificate for your server’s domain.</li>
<li>Switching to <strong><a href="https://matrix.org/docs/spec/rooms/v4.html">room version 4</a> by default</strong> for creating new rooms.  This fixes the most important defects that the core room algorithm has historically encountered, particularly:
<ul>
<li>The new State Resolution algorithm to fix the <a href="https://github.com/matrix-org/synapse/issues/2432">Hotel California bug</a> and many others: <a href="https://github.com/matrix-org/matrix-doc/issues/1442">State Resolution Reloaded</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/1659">Collision resistant event IDs</a></li>
</ul>
</li>
<li>Specifying the ability to upgrade between room versions</li>
<li>Full specification of lazy loading room members</li>
<li><a href="https://github.com/matrix-org/matrix-doc/issues/1267">Short Authentication String</a> (Emoji!) interactive verification of E2EE devices</li>
<li>...and lots and lots and lots of bugfixes and spec omission fixes.</li>
</ul>
<p>That said, there is a <em>lot</em> of really exciting stuff in flight right now which sadly didn’t stabilise in time for Matrix 1.0, but will be landing as fast as we can finalise it now that 1.0 is at last out the door.  This includes:</p>
<ul>
<li>Editable messages!  (These are in Synapse 1.0 and Riot already, but still stabilising so not enabled by default)</li>
<li>Reactions! (Similarly these are in develop)</li>
<li>Threading!! (We’ve planted the seeds for this in the new ‘aggregations’ support which powers edits &amp; reactions - but full thread support is still a bit further out).</li>
<li><a href="https://github.com/uhoreg/matrix-doc/blob/cross-signing2/proposals/1756-cross-signing.md">Cross-signed verification for end-to-end encryption</a> (This is on a branch, but due to land any day now).  We’ve also held off merging E2E backups into the Matrix 1.0 spec until cross-signing lands, given it may change the backup behaviour a bit.  Once this is done, we can seriously talk about turning on E2E by default everywhere.</li>
<li>Live-tracking of room statistics and state in Synapse!  (This is in Synapse 1.0 already if you check out the new room_stats and room_state tables, but we need to provide a nice admin interface for it).</li>
<li>Support for smaller footprint homeservers by reducing memory usage and stopping them from joining overly complex rooms.</li>
</ul>
<p>Then stuff which we haven’t yet started, but is now unlocked by the 1.0 release:</p>
<ul>
<li>Fixing extremities build-up (and so massively improving performance)</li>
<li>Rewriting Communities.  Groups/Communities deliberately didn’t land in Matrix 1.0 as the current implementation has issues we want to fix first.  <a href="https://github.com/matrix-org/matrix-doc/pull/1772">MSC1772</a> has the details.</li>
<li>Rewritten room directory using the new room stats/state tables to be super-speedy.</li>
<li>Super-speedy <a href="https://github.com/matrix-org/synapse/pull/3122">incremental state resolution</a></li>
<li>Removing MXIDs from events (<a href="https://github.com/matrix-org/matrix-doc/issues/1228">MSC1228</a>)</li>
</ul>
<p>Just to give a quick taster of the shape of things to come, here’s RiotX/Android, the all-new Riot client for Android, showing off Edits &amp; Reactions in the wild…
<br/></p>
<div style="text-align: center">
<img src="/blog/img/edits.jpg" style="height: 640px;"/>
</div>
<br/>
...and here’s a screenshot of the final test jig for cross-signing devices in end-to-end encryption, so you will never have to manually verify new devices for a trusted user ever again!  We demoed a *very* early version of this at FOSDEM, but this here is the testing harness for real deal, after several iterations of the spec and implementation to nail down the model. + means the device/user's cross-signing key is trusted, T means it's TOFU:
<br/><br/>
<div style="text-align: center">
<img src="/blog/img/cross-signing.png" style="height: 480px; margin: auto"/>
</div>
<br/>
So, there you have it - welcome to Matrix 1.0, and we look forward to our backlog of feature work now landing!
<p>Massive massive thanks to everyone who has stuck with the project over the years and helped support and grow Matrix - little did we think back in May 2014 that it’d take us this long to exit beta, but hopefully you’ll agree that it’s been worth it :)</p>
<p>Talking of which, we were looking through the photos we took from the first ever session hacking on Matrix back in May 2014…</p>
<p><img src="/blog/img/nightmare.jpg" alt="Whiteboard 1" /></p>
<p>...suffice it to say that of the architectural options, we went with #3 in the end...</p>
<p><img src="/blog/img/pl.jpg" alt="Whiteboard 2" /></p>
<p>...and that nowadays we actually know how power levels work, in excruciating and (hopefully) well-specified detail :)</p>
<p>There has been an absolutely enormous amount of work to pull Matrix 1.0 together - both on the spec side (thanks to the Spec Core Team for corralling proposals, and everyone who's contributed proposals, and particularly to Travis for editing it all) and the implementation side (thanks to the whole Synapse team for the tedious task of cleaning up everything that was needed for 1.0).  And of course, huge thanks go to everyone who has been helping test and debug the Synapse 1.0 release candidates, or just supporting the project to get to this point :)</p>
<h2 id="the-matrix-org-foundation">The Matrix.org Foundation</h2>
<p>Finally, as promised, alongside Matrix 1.0, we are very happy to announce the official launch of the finalised Matrix.org Foundation!</p>
<p>This has been a long-running project to ensure that Matrix’s future is governed by a neutral non-profit custodian for the benefit of everyone in the Matrix ecosystem.  We started the process nearly a year ago back with the initial proposal <a href="https://matrix.org/blog/2018/06/20/towards-open-governance-for-matrix-org">Towards Open Governance of Matrix.org</a>, and then legally <a href="https://matrix.org/blog/2018/10/29/introducing-the-matrix-org-foundation-part-1-of-2">incorporated the Foundation</a> in October, and published the <a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc1779/proposals/1779-open-governance.md">final governance proposal</a> in January.</p>
<p>As of today the Foundation is finalised and operational, and all the assets for Matrix.org have been transferred from <a href="https://vector.im">New Vector</a> (the startup we formed in 2017 to hire the core Matrix team).  In fact you may already have seen Matrix.org Foundation notices popping up all over the Matrix codebase (as all of New Vector’s work on the public Matrix codebase for the foreseeable is being assigned to the Matrix.org Foundation).</p>
<p>Most importantly, we’re excited to introduce the <strong>Guardians of the Matrix.org Foundation</strong>.  The Guardians are the legal directors of the non-profit Foundation, and are responsible for ensuring that the Foundation (and by extension the Spec Core Team) keeps on mission and neutrally protects the development of Matrix. Guardians are typically independent of the commercial Matrix ecosystem and may even not be members of today’s Matrix community, but are deeply aligned with the mission of the project. Guardians are selected to be respected and trusted by the wider community to uphold the guiding principles of the Foundation and keep the other Guardians honest.</p>
<p>We have started the Foundation with five Guardians - two being the original founders of the Matrix project (Matthew and Amandine) and three being entirely independent, thus ensuring the original Matrix team forms a minority which can be kept in check by the rest of the Guardians. The new Guardians are:</p>
<ul>
<li>
<p>Prof. Jon Crowcroft - Marconi Professor of Communications Systems in the Computer Lab at the University of Cambridge and the Turing Institute. Jon is a pioneer in the field of decentralised communication, and a fellow of the Royal Society, the ACM, the British Computer Society, the Institution of Engineering and Technology, the Royal Academy of Engineering and the Institute of Electrical and Electronics Engineers.<br/><br/>Jon is a global expert in decentralisation and data privacy, and is excellently placed to help ensure Matrix stays true to its ideals.</p>
</li>
<li>
<p>Ross Schulman - Ross is a senior counsel and senior policy technologist at New America’s Open Technology Institute, where he focuses on internet measurement, emerging technologies, surveillance, and decentralization. Prior to joining OTI, Ross worked for Google.<br/><br/>Ross brings a unique perspective as a tech- and decentralisation-savvy lawyer to the Foundation, as well as being one of the first non-developers in the Matrix community to run his own homeserver. Ross has been known to walk around Mozfest clutching a battery-powered Synapse in a box, promoting decentralised communication for all.</p>
</li>
<li>
<p>Dr. Jutta Steiner - As co-founder and CEO of Parity Technologies, Jutta is dedicated to building a better internet - Web 3.0 - where users’ privacy &amp; control come first. Parity Technologies is a leader in the blockchain space – known to many as the creator of one of the most popular Ethereum clients, it is also the creator of two ambitious new blockchain technlogies, Polkadot and Substrate, that make it easier to experiment and innovate on scalability, encryption and governance.<br/><br/>Parity has been pioneering Matrix enterprise use since the moment they decided to rely on Matrix for their internal and external communication back in 2016, and now run their own high-volume deployment, with end-to-end encryption enabled by default. Jutta represents organisations who are professionally dependent on Matrix day-to-day, as well as bringing her unique experiences around decentralisation and ensuring that Web 3.0 will be a fair web for all.</p>
</li>
</ul>
<p>We’d like to offer a very warm welcome to the new Guardians, and thank them profusely for giving up their time to join the Foundation and help ensure Matrix stays on course for the years to come.</p>
<p>For the full update on the Foundation, please check out the new website content at <a href="https://matrix.org/foundation">https://matrix.org/foundation</a> which should tell you everything you could possibly want to know about the Foundation, the Guardians, the Foundation’s legal Articles of Association, and the day-to-day Rules which define the Open Governance process.</p>
<h2 id="and-finally">And finally…</h2>
<p>Matrix 1.0 has been a bit of an epic to release, but puts us on a much stronger footing for the future.</p>
<p>However, it’s very unlikely that we’d have made it this far if most of the core dev team wasn’t able to work on Matrix as their day job.  Right now we are actively looking for large-scale donations to the Matrix.org Foundation (and/or investment in <a href="https://vector.im">New Vector</a>) to ensure that the team can maintain as tight a focus on core Matrix work as possible, and to ensure the project realises its full potential.  While Matrix is growing faster than ever, this perversely means we have more and more distractions - whether that’s keeping the Matrix.org server safe and operational, or handling support requests from the community, or helping new members of the ecosystem get up and running.  If you would like Matrix to succeed, please <a href="mailto:funding@matrix.org">get in touch</a> if you’d like to sponsor work, prioritise features, get support contracts, or otherwise support the project.  We’re particularly interested in sponsorship around decentralised reputation work (e.g. publishing a global room directory which users can filter based on their preferences).</p>
<p>Finally, huge thanks to everyone who has continued to support us through thick and thin on <a href="https://patreon.com/matrixdotorg">Patreon</a>, <a href="https://liberapay.com/matrixdotorg">Liberapay</a> or other platforms.  Every little helps here, both in terms of practically keeping the lights on, and also inspiring larger donations &amp; financial support.</p>
<p>So: thank you once again for flying Matrix.  We hope you enjoy 1.0, and we look forward to everything else landing on the horizon!</p>
<p>- Matthew, Amandine &amp; the whole Matrix.org Team.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;06&#x2F;11&#x2F;synapse-1-0-0-released&#x2F;" title="Synapse 1.0.0 released">Synapse 1.0.0 released</a></h1>
            <span>
                11.06.2019 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>Well here it is: Synapse 1.0.</p>
<p>Synapse 1.0 is the reference implementation of the <a href="https://matrix.org/docs/spec">Matrix 1.0 spec</a>. The goal of the release overall has been to focus on security and stability, such that we can officially declare Synapse (and Matrix) out of beta and recommended for production use. This means changing the default room protocol version used for new rooms to be <a href="https://github.com/matrix-org/matrix-doc/blob/37871106c6fc6013c17b5711fb93853fff140267/proposals/2002-rooms-v4.md">v4</a>, which includes the new <a href="https://github.com/matrix-org/matrix-doc/blob/f714aaadd011ac736d779f8460202a8d95799123/proposals/1442-state-resolution.md">state resolution algorithm</a>, as well as <a href="https://github.com/matrix-org/matrix-doc/blob/erikj/event_id_hashes/proposals/1659-event-id-as-hashes.md">collision-resistant event IDs</a>, which are now formatted to be <a href="https://github.com/matrix-org/matrix-doc/blob/rav/proposal/no_slash_in_event_id/proposals/1884-replace-slashes-in-event_ids.md">URL safe</a>.</p>
<p>Synapse 1.0 also ships with support for the upcoming <a href="https://matrix.org/docs/spec/rooms/v5.html">v5 room protocol</a> (which enforces honouring server key validity periods), but this will not be used as the default for new rooms until a sufficient number of servers support it.</p>
<p>Please note that Synapse 1.0 does <strong>not</strong> include significant performance work or new features - our focus has been almost exclusively on providing a reference implementation of the Matrix 1.0 protocol. But having cleared our backlog on security/stability issues we will finally be now unblocked to pursue work around reducing RAM footprint, eliminating forward-extremity build up, and shipping new features like Edits, Reactions &amp; E2E cross-signing support.</p>
<p>As part of the security work, Synapse 1.0 contains a <a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md#it-used-to-work-just-fine-why-are-you-breaking-everything">breaking change</a> that requires a valid TLS certificate on the federation API endpoint. <strong>Servers that do not configure their certificate will no longer be able to federate post 1.0.</strong></p>
<p>It is also worth noting that Synapse 1.0.0 is the last release that will support Python 2.x and Postgres 9.4. For more information see <a href="/blog/2019/04/08/synapse-deprecating-postgres-9-4-and-python-2-x">here</a> but the TL;DR is that you should upgrade asap.</p>
<p>This release has been a long time coming. Many thanks indeed to everyone who helped test the release candidates and provided feedback along the way.</p>
<p>Synapse 1.0 is just one component of a larger Matrix 1.0 release, which you can <a href="/blog/2019/06/11/introducing-matrix-1-0-and-the-matrix-org-foundation">read all about here</a>.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v1.0.0">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>. Also, check out our <a href="https://matrix.org/docs/guides/installing-synapse">Synapse installation guide page</a></p>
<p>The changelog since 0.99.5 follows:</p>
<h1 id="synapse-1-0-0-2019-06-11">Synapse 1.0.0 (2019-06-11)</h1>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Fix bug where attempting to send transactions with large number of EDUs can fail. (<a href="https://github.com/matrix-org/synapse/issues/5418">#5418</a>)</li>
</ul>
<h2 id="improved-documentation">Improved Documentation</h2>
<ul>
<li>Expand the federation guide to include relevant content from the MSC1711 FAQ (<a href="https://github.com/matrix-org/synapse/issues/5419">#5419</a>)</li>
</ul>
<h2 id="internal-changes">Internal Changes</h2>
<ul>
<li>Move password reset links to /_matrix/client/unstable namespace. (<a href="https://github.com/matrix-org/synapse/issues/5424">#5424</a>)</li>
</ul>
<h1 id="synapse-1-0-0rc3-2019-06-10">Synapse 1.0.0rc3 (2019-06-10)</h1>
<p>Security: Fix authentication bug introduced in 1.0.0rc1. Please upgrade to rc3 immediately</p>
<h1 id="synapse-1-0-0rc2-2019-06-10">Synapse 1.0.0rc2 (2019-06-10)</h1>
<h2 id="bugfixes-1">Bugfixes</h2>
<ul>
<li>Remove redundant warning about key server response validation. (<a href="https://github.com/matrix-org/synapse/issues/5392">#5392</a>)</li>
<li>Fix bug where old keys stored in the database with a null valid until timestamp caused all verification requests for that key to fail. (<a href="https://github.com/matrix-org/synapse/issues/5415">#5415</a>)</li>
<li>Fix excessive memory using with default <code>federation_verify_certificates: true</code> configuration. (<a href="https://github.com/matrix-org/synapse/issues/5417">#5417</a>)</li>
</ul>
<h1 id="synapse-1-0-0rc1-2019-06-07">Synapse 1.0.0rc1 (2019-06-07)</h1>
<h2 id="features">Features</h2>
<ul>
<li>Synapse now more efficiently collates room statistics. (<a href="https://github.com/matrix-org/synapse/issues/4338">#4338</a>, <a href="https://github.com/matrix-org/synapse/issues/5260">#5260</a>, <a href="https://github.com/matrix-org/synapse/issues/5324">#5324</a>)</li>
<li>Add experimental support for relations (aka reactions and edits). (<a href="https://github.com/matrix-org/synapse/issues/5220">#5220</a>)</li>
<li>Ability to configure default room version. (<a href="https://github.com/matrix-org/synapse/issues/5223">#5223</a>, <a href="https://github.com/matrix-org/synapse/issues/5249">#5249</a>)</li>
<li>Allow configuring a range for the account validity startup job. (<a href="https://github.com/matrix-org/synapse/issues/5276">#5276</a>)</li>
<li>CAS login will now hit the r0 API, not the deprecated v1 one. (<a href="https://github.com/matrix-org/synapse/issues/5286">#5286</a>)</li>
<li>Validate federation server TLS certificates by default (implements <a href="https://github.com/matrix-org/matrix-doc/blob/master/proposals/1711-x509-for-federation.md">MSC1711</a>). (<a href="https://github.com/matrix-org/synapse/issues/5359">#5359</a>)</li>
<li>Update /_matrix/client/versions to reference support for r0.5.0. (<a href="https://github.com/matrix-org/synapse/issues/5360">#5360</a>)</li>
<li>Add a script to generate new signing-key files. (<a href="https://github.com/matrix-org/synapse/issues/5361">#5361</a>)</li>
<li>Update upgrade and installation guides ahead of 1.0. (<a href="https://github.com/matrix-org/synapse/issues/5371">#5371</a>)</li>
<li>Replace the <code>perspectives</code> configuration section with <code>trusted_key_servers</code>, and make validating the signatures on responses optional (since TLS will do this job for us). (<a href="https://github.com/matrix-org/synapse/issues/5374">#5374</a>)</li>
<li>Add ability to perform password reset via email without trusting the identity server. (<a href="https://github.com/matrix-org/synapse/issues/5377">#5377</a>)</li>
<li>Set default room version to v4. (<a href="https://github.com/matrix-org/synapse/issues/5379">#5379</a>)</li>
</ul>
<h2 id="bugfixes-2">Bugfixes</h2>
<ul>
<li>Fixes client-server API not sending &quot;m.heroes&quot; to lazy-load /sync requests when a rooms name or its canonical alias are empty. Thanks to @dnaf for this work! (<a href="https://github.com/matrix-org/synapse/issues/5089">#5089</a>)</li>
<li>Prevent federation device list updates breaking when processing multiple updates at once. (<a href="https://github.com/matrix-org/synapse/issues/5156">#5156</a>)</li>
<li>Fix worker registration bug caused by ClientReaderSlavedStore being unable to see get_profileinfo. (<a href="https://github.com/matrix-org/synapse/issues/5200">#5200</a>)</li>
<li>Fix race when backfilling in rooms with worker mode. (<a href="https://github.com/matrix-org/synapse/issues/5221">#5221</a>)</li>
<li>Fix appservice timestamp massaging. (<a href="https://github.com/matrix-org/synapse/issues/5233">#5233</a>)</li>
<li>Ensure that server_keys fetched via a notary server are correctly signed. (<a href="https://github.com/matrix-org/synapse/issues/5251">#5251</a>)</li>
<li>Show the correct error when logging out and access token is missing. (<a href="https://github.com/matrix-org/synapse/issues/5256">#5256</a>)</li>
<li>Fix error code when there is an invalid parameter on /_matrix/client/r0/publicRooms (<a href="https://github.com/matrix-org/synapse/issues/5257">#5257</a>)</li>
<li>Fix error when downloading thumbnail with missing width/height parameter. (<a href="https://github.com/matrix-org/synapse/issues/5258">#5258</a>)</li>
<li>Fix schema update for account validity. (<a href="https://github.com/matrix-org/synapse/issues/5268">#5268</a>)</li>
<li>Fix bug where we leaked extremities when we soft failed events, leading to performance degradation. (<a href="https://github.com/matrix-org/synapse/issues/5274">#5274</a>, <a href="https://github.com/matrix-org/synapse/issues/5278">#5278</a>, <a href="https://github.com/matrix-org/synapse/issues/5291">#5291</a>)</li>
<li>Fix &quot;db txn 'update_presence' from sentinel context&quot; log messages. (<a href="https://github.com/matrix-org/synapse/issues/5275">#5275</a>)</li>
<li>Fix dropped logcontexts during high outbound traffic. (<a href="https://github.com/matrix-org/synapse/issues/5277">#5277</a>)</li>
<li>Fix a bug where it is not possible to get events in the federation format with the request <code>GET /_matrix/client/r0/rooms/{roomId}/messages</code>. (<a href="https://github.com/matrix-org/synapse/issues/5293">#5293</a>)</li>
<li>Fix performance problems with the rooms stats background update. (<a href="https://github.com/matrix-org/synapse/issues/5294">#5294</a>)</li>
<li>Fix noisy 'no key for server' logs. (<a href="https://github.com/matrix-org/synapse/issues/5300">#5300</a>)</li>
<li>Fix bug where a notary server would sometimes forget old keys. (<a href="https://github.com/matrix-org/synapse/issues/5307">#5307</a>)</li>
<li>Prevent users from setting huge displaynames and avatar URLs. (<a href="https://github.com/matrix-org/synapse/issues/5309">#5309</a>)</li>
<li>Fix handling of failures when processing incoming events where calling <code>/event_auth</code> on remote server fails. (<a href="https://github.com/matrix-org/synapse/issues/5317">#5317</a>)</li>
<li>Ensure that we have an up-to-date copy of the signing key when validating incoming federation requests. (<a href="https://github.com/matrix-org/synapse/issues/5321">#5321</a>)</li>
<li>Fix various problems which made the signing-key notary server time out for some requests. (<a href="https://github.com/matrix-org/synapse/issues/5333">#5333</a>)</li>
<li>Fix bug which would make certain operations (such as room joins) block for 20 minutes while attemoting to fetch verification keys. (<a href="https://github.com/matrix-org/synapse/issues/5334">#5334</a>)</li>
<li>Fix a bug where we could rapidly mark a server as unreachable even though it was only down for a few minutes. (<a href="https://github.com/matrix-org/synapse/issues/5335">#5335</a>, <a href="https://github.com/matrix-org/synapse/issues/5340">#5340</a>)</li>
<li>Fix a bug where account validity renewal emails could only be sent when email notifs were enabled. (<a href="https://github.com/matrix-org/synapse/issues/5341">#5341</a>)</li>
<li>Fix failure when fetching batches of events during backfill, etc. (<a href="https://github.com/matrix-org/synapse/issues/5342">#5342</a>)</li>
<li>Add a new room version where the timestamps on events are checked against the validity periods on signing keys. (<a href="https://github.com/matrix-org/synapse/issues/5348">#5348</a>, <a href="https://github.com/matrix-org/synapse/issues/5354">#5354</a>)</li>
<li>Fix room stats and presence background updates to correctly handle missing events. (<a href="https://github.com/matrix-org/synapse/issues/5352">#5352</a>)</li>
<li>Include left members in room summaries' heroes. (<a href="https://github.com/matrix-org/synapse/issues/5355">#5355</a>)</li>
<li>Fix <code>federation_custom_ca_list</code> configuration option. (<a href="https://github.com/matrix-org/synapse/issues/5362">#5362</a>)</li>
<li>Fix missing logcontext warnings on shutdown. (<a href="https://github.com/matrix-org/synapse/issues/5369">#5369</a>)</li>
</ul>
<h2 id="improved-documentation-1">Improved Documentation</h2>
<ul>
<li>Fix docs on resetting the user directory. (<a href="https://github.com/matrix-org/synapse/issues/5282">#5282</a>)</li>
<li>Fix notes about ACME in the MSC1711 faq. (<a href="https://github.com/matrix-org/synapse/issues/5357">#5357</a>)</li>
</ul>
<h2 id="internal-changes-1">Internal Changes</h2>
<ul>
<li>Synapse will now serve the experimental &quot;room complexity&quot; API endpoint. (<a href="https://github.com/matrix-org/synapse/issues/5216">#5216</a>)</li>
<li>The base classes for the v1 and v2_alpha REST APIs have been unified. (<a href="https://github.com/matrix-org/synapse/issues/5226">#5226</a>, <a href="https://github.com/matrix-org/synapse/issues/5328">#5328</a>)</li>
<li>Simplifications and comments in do_auth. (<a href="https://github.com/matrix-org/synapse/issues/5227">#5227</a>)</li>
<li>Remove urllib3 pin as requests 2.22.0 has been released supporting urllib3 1.25.2. (<a href="https://github.com/matrix-org/synapse/issues/5230">#5230</a>)</li>
<li>Preparatory work for key-validity features. (<a href="https://github.com/matrix-org/synapse/issues/5232">#5232</a>, <a href="https://github.com/matrix-org/synapse/issues/5234">#5234</a>, <a href="https://github.com/matrix-org/synapse/issues/5235">#5235</a>, <a href="https://github.com/matrix-org/synapse/issues/5236">#5236</a>, <a href="https://github.com/matrix-org/synapse/issues/5237">#5237</a>, <a href="https://github.com/matrix-org/synapse/issues/5244">#5244</a>, <a href="https://github.com/matrix-org/synapse/issues/5250">#5250</a>, <a href="https://github.com/matrix-org/synapse/issues/5296">#5296</a>, <a href="https://github.com/matrix-org/synapse/issues/5299">#5299</a>, <a href="https://github.com/matrix-org/synapse/issues/5343">#5343</a>, <a href="https://github.com/matrix-org/synapse/issues/5347">#5347</a>, <a href="https://github.com/matrix-org/synapse/issues/5356">#5356</a>)</li>
<li>Specify the type of reCAPTCHA key to use. (<a href="https://github.com/matrix-org/synapse/issues/5283">#5283</a>)</li>
<li>Improve sample config for monthly active user blocking. (<a href="https://github.com/matrix-org/synapse/issues/5284">#5284</a>)</li>
<li>Remove spurious debug from MatrixFederationHttpClient.get_json. (<a href="https://github.com/matrix-org/synapse/issues/5287">#5287</a>)</li>
<li>Improve logging for logcontext leaks. (<a href="https://github.com/matrix-org/synapse/issues/5288">#5288</a>)</li>
<li>Clarify that the admin change password API logs the user out. (<a href="https://github.com/matrix-org/synapse/issues/5303">#5303</a>)</li>
<li>New installs will now use the v54 full schema, rather than the full schema v14 and applying incremental updates to v54. (<a href="https://github.com/matrix-org/synapse/issues/5320">#5320</a>)</li>
<li>Improve docstrings on MatrixFederationClient. (<a href="https://github.com/matrix-org/synapse/issues/5332">#5332</a>)</li>
<li>Clean up FederationClient.get_events for clarity. (<a href="https://github.com/matrix-org/synapse/issues/5344">#5344</a>)</li>
<li>Various improvements to debug logging. (<a href="https://github.com/matrix-org/synapse/issues/5353">#5353</a>)</li>
<li>Don't run CI build checks until sample config check has passed. (<a href="https://github.com/matrix-org/synapse/issues/5370">#5370</a>)</li>
<li>Automatically retry buildkite builds (max twice) when an agent is lost. (<a href="https://github.com/matrix-org/synapse/issues/5380">#5380</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;06&#x2F;07&#x2F;this-week-in-matrix-2019-06-07&#x2F;" title="This Week in Matrix 2019-06-07">This Week in Matrix 2019-06-07</a></h1>
            <span>
                07.06.2019 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p>We are <em>sooo</em> close to Matrix 1.0. So close! The PR which announces the arrival of v1.0 <a href="https://github.com/matrix-org/matrix-doc/pull/2099">exists already</a>.</p>
<p><a href="https://github.com/turt2live">TravisR</a> said:</p>
<blockquote>
<p>Work towards 1.0 is progressing nicely - still on track for a Monday release! View our progress at <a href="https://github.com/matrix-org/matrix-doc/projects/2?fullscreen=true">https://github.com/matrix-org/matrix-doc/projects/2?fullscreen=true</a></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse">Synapse</h3>
<p>Neil, who oversees the creation of <a href="https://github.com/matrix-org/synapse">Synapse</a>:</p>
<blockquote>
<p>Quiet week, not much happening, the only real progress has been shipping a Synapse 1.0 release candidate :) Joking aside we’d really appreciate your help in testing it ahead of the full release next week. Get the RC here <a href="https://github.com/matrix-org/synapse/releases/tag/v1.0.0rc1">https://github.com/matrix-org/synapse/releases/tag/v1.0.0rc1</a></p>
<p>Also friends don’t let friends operate a Synapse install without a valid certificate on the federation API. Post 1.0, servers that are not compliant will be locked out of the federation. While the copy needs updating to reflect 1.0’s imminent release, our handy FAQ (<a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md">https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md</a>) has all the details.</p>
</blockquote>
<h3 id="construct">Construct</h3>
<p><a href="https://github.com/matrix-construct/construct/">Construct</a>, a C++ homeserver has been doing testing this week:</p>
<blockquote>
<p>I'd like to give special thanks to Ddanyspin97 (Danilo Spinella) for working on building construct with the musl C library so we can enjoy extremely small VM images, as well as <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> for building on Alpine linux also using muslc and Thomas Lewis for starting work on the FreeBSD build.</p>
</blockquote>
<h3 id="ruma">Ruma</h3>
<p><a href="https://github.com/ruma/ruma">Ruma</a>, a homeserver written in Rust, has a new surge of activity following the <a href="https://areweasyncyet.rs/">Rust language syntax developments</a> last week. <a href="https://www.ruma.io/news/this-week-in-ruma-2019-06-02/">This Week in Ruma</a> received it's first edition in ~6 months!</p>
<p>Jimmy, project lead:</p>
<blockquote>
<p>the ruma homeserver is now targeting stable rust, which means the entire project is now on stable rust</p>
</blockquote>
<h3 id="new-project-load-balancer-for-synchrotron-workers">New project: load balancer for synchrotron workers</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">Soru</a>:</p>
<blockquote>
<p>[I] wrote a proof-of-concept load balancer for synchrotron workers....well, proof-of-concept because it isn't tested much, yet!</p>
<p>It routes users to synchrotrons based on their user ID to maximize performance, as per <a href="https://github.com/matrix-org/synapse/blob/master/docs/workers.rst#synapseappsynchrotron">worker docs</a> and, if a synchrotron catches fire it'll also automatically start shuffling workers around.<br />
The <a href="https://github.com/Sorunome/matrix-synchrotron-balancer">repo can be found here</a>, for support just poke soru wherever she is</p>
<p>Contributions are welcome!</p>
</blockquote>
<p>Join the newly created room at <a href="https://matrix.to/#/#matrix-synchrotron-balancer:sorunome.de">#matrix-synchrotron-balancer:sorunome.de</a> to discuss.</p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="ruby-sdk">Ruby SDK</h3>
<p><a href="https://github.com/ananace/">Ananace</a>:</p>
<blockquote>
<p>Just released version 1.1.0 of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby SDK</a>, which includes a few more and improved CS API endpoints, better room alias handling, lazy loading of join rules and guest access, and the forgotten - oops - handling of room avatars.</p>
</blockquote>
<blockquote>
<p>And released version 1.1.1 of the Ruby SDK too, fixing another embarrassing mistake with not including the S2S API methods correctly, which lost the server version retrieval method (The only currently implemented part of the S2S API)</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="riotx">RiotX</h3>
<p>Are you in the know about Matrix? If not, prepare to learn about <a href="https://github.com/vector-im/riotX-android/">RiotX</a>, a <em>completely re-written</em> Matrix client for Android. This new version has a Kotlin SDK.</p>
<p>Benoit, from the team:</p>
<blockquote>
<p>Many things to announce this week on RiotX:</p>
<ul>
<li>Crypto is starting to work! We can now decrypt message and send encrypted messages. The whole feature is not implemented yet, but we will merge the PR at the beginning next week before going further. Thanks François for the great work!</li>
<li>On the timeline, message composed by only emoji are now displayed bigger (as in other Riot clients)</li>
<li>We can now see details and actions of each message, including state event.</li>
<li>We can also see the detailed list of reactions for a particular message, and reaction display rendering has been improved. More details of what has been improved by Valere can be found in this PR description: <a href="https://github.com/vector-im/riotX-android/pull/168">https://github.com/vector-im/riotX-android/pull/168</a>.</li>
<li>Local echo on message edition has been improved</li>
<li>The 3 main themes has been implemented (Light, Dark Black). Status theme is still there but has not been tested yet. There are still some little issues which will be fixed in the next coming days.</li>
<li>The new Home is on develop, composed by a catchup tab, a direct message tab and a group room tab. The drawer is now used to display the groups hierarchy.</li>
<li>A debug signature has been added to the git repository, so the APK built by buildkite can now be installed and replace a previously installed APK.</li>
</ul>
<p>There is still lots of work to do, but we are quite confident to deliver a first alpha version of RiotX to a larger audience at the end of June.</p>
</blockquote>
<h3 id="famedly-talk">famedly talk</h3>
<p>We've <a href="https://matrix.org/blog/2019/04/12/this-week-in-matrix-2019-04-12#famedlystartupwithinvestmentmakinguseofmatrix">heard about Famedly before</a>, and here they are with an announcement about their new client:</p>
<blockquote>
<p>After some months of work our app 'famedly talk' is now able to send and receive messages. We are now concentrating on implementing the most important functions in a stable manner.</p>
</blockquote>
<p><img src="/blog/img/2019-06-07-famedly.png" alt="famedly talk screenshot" /></p>
<h3 id="continuum">continuum</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>:</p>
<blockquote>
<p>fix some missing avatars and names of rooms. Normally continuum saves all useful data to disk when syncing, but the previous version missed some of it, the newer version will query the server for the missing pieces</p>
</blockquote>
<h3 id="fractal">Fractal</h3>
<p>This week in <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>: <a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> noticed  nightly was broken on all three of the computers he was using it on. He bisected and found out when the regression was introduced, but still needs to figure out why it broke and how to fix it.</p>
<blockquote>
<p>The symptom is syncing forever on startup and never actually syncing. The commit introducing the borkage is <a href="https://gitlab.gnome.org/GNOME/fractal/commit/250376a7bd953d480d0d50eabb39ed0e891f9d84">this one</a>.</p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<ul>
<li>Working on polish for reactions and edits</li>
<li>Improving configuration of the default homeserver</li>
<li>Added Albanian and West Flemish languages thanks to translation contributors</li>
</ul>
<h3 id="riot-ios">Riot iOS</h3>
<ul>
<li>Working on reaction local echo.</li>
<li>Working on message edition.</li>
<li>Restrict reactions to room messages.</li>
</ul>
<h3 id="riot-android">Riot Android</h3>
<p>Nothing special this week.</p>
<p><em>DID YOU SEE THE RIOTX UPDATE ABOVE?</em></p>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="matrix-appservice-irc-0-12-0-released">matrix-appservice-irc 0.12.0 released</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>:</p>
<blockquote>
<p><a href="https://github.com/matrix-org/matrix-appservice-irc/">matrix-appservice-irc</a> got a release 0.12.0. This is a smaller release, as it's based upon 0.12.0-rc2 which was released back in March (when exams hit). In the meantime, working towards a speedy 0.13.0 release :)</p>
</blockquote>
<p>Changelog for 0.12.0:</p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>The bridge now supports upgrading rooms, and will follow room upgrades to the new room.
</span><span>Added support for the RoomLinkValidator, which allows admins to manually configure rules about plumbing rooms.
</span><span>A dockerfile is now included.
</span><span>Add support for &quot;feature flags&quot;, allowing users to dynamically enable/disable bridge features for their account.
</span><span>Add command &quot;!bridgeversion&quot;
</span></code></pre>
<p>High-level plan for 0.13.0:</p>
<blockquote>
<p>Fix the most serious P1 bugs like not dropping messages, handling PARTs better, dropping support for older versions of node, and generally better UX.</p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services 🚀</h2>
<h3 id="matrixservers-net">matrixservers.net</h3>
<p><a href="https://matrix.to/#/@atreatis:novaim.com">Atreatis</a> provided an update to matrixservers.net:</p>
<blockquote>
<p>I've open sourced the website of <a href="https://matrixservers.net">https://matrixservers.net</a> and I am open to contributions towards the website through the github repository: <a href="https://github.com/Atreatis/matrixservers">https://github.com/Atreatis/matrixservers</a><br />
Currently I have refactored matrixservers.net from Hugo to Jekyll which was totally worth it at all times</p>
</blockquote>
<p>Join <a href="https://matrix.to/#/#matrixservers:novaim.com">#matrixservers:novaim.com</a> for more.</p>
<h3 id="www-matrix-wiki-org">www.matrix-wiki.org</h3>
<p><a href="https://matrix.to/#/@sanlox:matrix.org">sanlox</a>:</p>
<blockquote>
<p>I launched <a href="https://www.matrix-wiki.org">https://www.matrix-wiki.org</a> as a place to collect information, lists, guides and manuals related to matrix. I hope as a community we can work together on this to create a central knowledge base for the matrix protocol.</p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final thoughts 💭</h2>
<p>I spent so much of my week migrating matrix.org to a great new design (from Nad), and am really happy with the result. I'm also really happy with Gatsby, the SSG we've chosen. All these things have flaws but overall it works well.</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;05&#x2F;31&#x2F;this-week-in-matrix-2019-05-31&#x2F;" title="This Week in Matrix 2019-05-31">This Week in Matrix 2019-05-31</a></h1>
            <span>
                31.05.2019 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live-half-shot-and-sorunome-discuss-the-discord-matrix-bridge">Matrix Live - Half-Shot and Sorunome discuss the Discord-Matrix Bridge 🎙</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uXVci8AkEKE" frameBorder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://github.com/turt2live">TravisR</a>:</p>
<blockquote>
<p>Alongside Synapse’s 1.0 release, the Matrix Specification is also getting a 1.0 on June 10th. In practice this means a fresh release of the Client-Server, Server-Server, Application Service, and Identity Service specifications. The Push Specification is just so simple it hasn’t needed an update yet.</p>
<p>Work has been happening to get all the specs in shape for 1.0 - follow along at <a href="https://github.com/matrix-org/matrix-doc/projects/2?fullscreen=true">https://github.com/matrix-org/matrix-doc/projects/2?fullscreen=true</a></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse">Synapse</h3>
<blockquote>
<p>Main news in synapse-land this week is that we released Synapse v0.99.5.2, which fixes a big performance regression which was introduced v0.99.5. Folks who are currently on v0.99.5/v0.99.5.1 are advised to upgrade asap.</p>
<p>Otherwise, work has been continuing apace towards a v1.0 release on 10th June.</p>
</blockquote>
<h3 id="construct">Construct</h3>
<p><a href="https://github.com/matrix-construct/construct/">Construct</a> is a homeserver implementation in C++:</p>
<blockquote>
<ul>
<li>Construct has added support for Server Access Control Lists (m.room.server_acl). The exact behavior of the implementation is configurable by the server administrator, and is even more comprehensive than Synapse. In Construct, ACLs can be configured to cover incoming EDUs, outgoing events, and indirectly fetched events.</li>
<li>The GraphicsMagick library has been utilized to implement the media thumbnailing feature called for by the specification. This is an optional dependency written in C and offers a rich API which as been extremely fun to work with. In the future, expect your Construct to be capable of things like annotating images with the Server Command Line which can be used to generate memes in your chatroom or write custom text on top of stickers!</li>
<li>On the backend we have devoted significant effort to getting the most out of dynamic-linking to simplify the architecture of a large and modular free-software project. This effort makes adding features and contributions to Construct extremely straightforward. I will enumerate the basics for those familiar with developing C software: We are now loading all modules at runtime with the flags <code>RTLD_GLOBAL|RTLD_DEEPBIND|RTLD_LAZY</code> and we build with the flag <code>--weak-unresolved-symbols</code>; during execution we hook the error handling in <code>ld.so</code> to throw our own C++ exception directly from the PLT slot of a missing symbol. In summary this allows features to be added to Construct by simply creating an interface in a header and definitions in a loadable module, while still enjoying optional loading and unloading of the module at runtime. This is a significant feat that remains unrealized in most existing projects around the free software ecosystem!</li>
</ul>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="nheko-0-6-4-and-0-7-0-roadmap">nheko 0.6.4 and 0.7.0 roadmap</h3>
<p><a href="https://matrix.to/#/@red_sky:ocean.joedonofry.com">red_sky</a> updated us on <a href="https://github.com/Nheko-Reborn/nheko/">nheko</a>:</p>
<blockquote>
<p>Just wanted to pop in and mention that 0.6.4 is out this week.  It comes with a decent number of bug fixes.</p>
</blockquote>
<p>And then:</p>
<blockquote>
<p>Nheko 0.7.0 roadmap is out:
<a href="https://github.com/Nheko-Reborn/nheko/milestone/2">https://github.com/Nheko-Reborn/nheko/milestone/2</a><br />
Also, Nheko-Reborn has a new team member, with MonokelPinguin joining the team : <a href="https://github.com/MonokelPinguin">https://github.com/MonokelPinguin</a>. (goes by Nico in the <a href="https://matrix.to/#/#nheko-reborn:matrix.org">#nheko-reborn</a> room)</p>
</blockquote>
<p><a href="https://matrix.to/#/@l0phty1:privacytools.io">el0</a> pointed out that nheko is available on flathub: <a href="https://flathub.org/apps/details/io.github.NhekoReborn.Nheko">https://flathub.org/apps/details/io.github.NhekoReborn.Nheko</a></p>
<h3 id="continuum-javafx-client">continuum, JavaFX client</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>:</p>
<p><a href="https://github.com/koma-im/continuum-desktop">continuum</a> modified the JSON parser to save a copy of the source. Now fields that are not standard or not yet supported are displayed when you right-click to view the source. For example, &quot;age&quot; and &quot;transaction_id&quot; are not used by the app, but are available when viewing the raw JSON</p>
<p><img src="/blog/img/2019-05-31-continuum.png" alt="continuum screenshot" /></p>
<h3 id="neo">Neo</h3>
<p><a href="https://matrix.to/#/@f0x:pixie.town">f0x</a> has been working on Neo:</p>
<blockquote>
<p>Neo can now finally fetch old backlog, with a fancy css loading animation</p>
<p>The Neo room has moved to <a href="https://matrix.to/#/#neo:pixie.town">#neo:pixie.town</a>, and the site+deployment are being moved to <a href="https://neo.pixie.town">https://neo.pixie.town</a></p>
</blockquote>
<h3 id="fractal">Fractal 🦶</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a>:</p>
<blockquote>
<p><a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> got initial support for being kicked, implemented by first time contributor Isaac Curtis.</p>
<p>We also joined the new call at <a href="https://stopthemingmy.app">https://stopthemingmy.app</a></p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<blockquote>
<p>Continued work on edits and reactions. Also ongoing work on sdk-level support for cross-signing. Released Riot 1.2.0 (and 1.2.1).</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="mautrix-telegram-mautrix-facebook-mautrix-hangouts-mautrix-whatsapp">mautrix-telegram, mautrix-facebook, mautrix-hangouts, mautrix-whatsapp</h3>
<p>Can you believe it, <a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> had a busy week working on his various bridges:</p>
<blockquote>
<p><a href="https://github.com/tulir/mautrix-telegram">mautrix-telegram</a> now has native Matrix edit support in both directions and basic Prometheus metrics. I'll probably start making 0.6.0 RCs after improving the metrics a bit.</p>
<p><a href="https://github.com/tulir/mautrix-facebook">mautrix-facebook</a> and <a href="https://github.com/tulir/mautrix-hangouts">mautrix-hangouts</a> got some bugfixes and options to configure the displaynames of the ghost users on Matrix (like adding <code>(FB)</code> or <code>(Hangouts)</code> suffixes).</p>
<p><a href="https://github.com/tulir/mautrix-whatsapp">mautrix-whatsapp</a>'s Matrix puppeting was finished (meaning typing notifs, read receipts and presence updates can now be bridged to WhatsApp) and unexpected disconnection handling was fixed (automatic reconnections should now usually work again).
Backfilling needed some hacks to work with Matrix puppeting. The problem is that the real Matrix users have rate limits and can't send timestamp-massaged messages. I decided to just invite the default ghost user to the room while backfilling and make it leave afterwards so that private chat room names and such would stay intact. Some clients like Riot Android/iOS sometimes do weird things, such as moving the room out of &quot;People&quot;, but that shouldn't be too bad.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="matrix-docker-ansible-deploy-makes-synapse-optional">matrix-docker-ansible-deploy makes Synapse optional</h3>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a>:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> has seen some work in becoming more flexible.</p>
<p>Synapse is not a requirement anymore. People can now use the playbook to install any of the other services, wiring them to a Synapse instance installed in another way.
This is mostly useful for installing bridges or other auxiliary services without going &quot;all in&quot; on the playbook.
Not having Synapse as a fixed requirement also opens the door for installing alternative homeservers, when such become available in the future.</p>
<p>On a similar note, to ease maintanability, all bridges have been moved to separate Ansible roles (outside of the <code>matrix-synapse</code> role).
There have been lots of improvements related to bridge configuration with even more likely to come soon.</p>
</blockquote>
<h3 id="0-99-5-2-kubernetes-optimized-images">0.99.5.2 kubernetes-optimized images</h3>
<p><a href="https://github.com/ananace/">Ananace</a> had <a href="https://github.com/ananace/matrix-synapse">0.99.5.2 kubernetes-optimized images</a> ready to go very quickly.</p>
<h2 id="dept-of-services-rocket">Dept of Services 🚀</h2>
<h3 id="matrix-user-documentation-launches-tada">Matrix User Documentation launches 🎉</h3>
<p><a href="https://matrix.to/#/@aaron:raim.ist">Aaron</a> (formerly known as Aaron Raimist) has been a major help to the Matrix project, and has recently launched something new:</p>
<blockquote>
<p>I have started another Matrix documentation project, Matrix User Documentation. I know, there are several however none of them aim to actually be a handbook for using Riot or any other clients. I would like for this to become a place where you can find &quot;The (unofficial) Riot Handbook&quot; or &quot;The (unofficial) Quaternion Handbook&quot; as well as a place where you can find answers to more of your FAQs.</p>
<p>It's still very early, only a few answers are written so far and none of the handbooks have been started but I would welcome any community assistance. You can view what I have so far at: <a href="http://mud.raim.ist/en/latest/">http://mud.raim.ist/en/latest/</a></p>
<p>You can contribute some documentation at: <a href="https://github.com/aaronraimist/matrix-user-documentation">https://github.com/aaronraimist/matrix-user-documentation</a> and join our room: <a href="https://matrix.to/#/#matrix-user-documentation:raim.ist">#matrix-user-documentation:raim.ist</a></p>
</blockquote>
<h3 id="matrixservers-net">matrixservers.net</h3>
<p>We welcomed <a href="https://matrix.to/#/@atreatis:novaim.com">Atreatis</a> to Matrix recently. They are creating a new directory service:</p>
<blockquote>
<p>Someone mentioned earlier that there is a need for a list of public servers on Github so people can find and add their public matrix servers. Which combines well with what I am building at the moment. Hopefully you guys don't mind helping me out on creating the list and spreading the word. The repository can be found here: <a href="https://github.com/Atreatis/matrix-servers">https://github.com/Atreatis/matrix-servers</a></p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final thoughts 💭</h2>
<p><a href="https://gitlab.com/darnir/matrix-shell-suite">Matrix Shell Suite</a> is a promising looking project which could deserve more attention.</p>
<p>Thank You to <a href="https://pyconweb.com/">PyConWeb</a> and especially to <a href="https://matrix.to/#/@hardy:netspectrum.de">Hardy</a> for letting richvdh and myself host TWO Matrix sessions at your event last weekend - was a great time and I hope everyone enjoyed the presentations and workshops.</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;05&#x2F;30&#x2F;synapse-0-99-5-2-released&#x2F;" title="Synapse 0.99.5.2 released">Synapse 0.99.5.2 released</a></h1>
            <span>
                30.05.2019 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>0.99.5.2 contains a critical performance fix following a regression that was introduced in 0.99.5. Affected servers will have experienced increased CPU and RAM usage with a knock on effect of generally sluggish performance.</p>
<p>Separately, we are also looking into reports relating to further performance degradations that may have been introduced as part of 0.99.5, though consider the 0.99.5.2 fix to be a significant improvement on previous 0.99.5.x releases.</p>
<p>Please upgrade asap.</p>
<p>You can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.99.5.2">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>. Also, check out our <a href="https://matrix.org/docs/guides/installing-synapse">Synapse installation guide page</a>.</p>
<h1 id="synapse-v0-99-5-2-changelog">Synapse v0.99.5.2 Changelog</h1>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Fix bug where we leaked extremities when we soft failed events, leading to performance degradation. (<a href="https://github.com/matrix-org/synapse/issues/5274">#5274</a>, <a href="https://github.com/matrix-org/synapse/issues/5278">#5278</a>, <a href="https://github.com/matrix-org/synapse/issues/5291">#5291</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2019&#x2F;05&#x2F;24&#x2F;final-countdown-to-1-0&#x2F;" title="Final countdown to 1.0">Final countdown to 1.0</a></h1>
            <span>
                24.05.2019 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>After lots of refinements, polishing and a few distractions we’re finally at the point of announcing the final timeline for both Matrix 1.0 and Synapse 1.0! We are targeting <strong>Monday 10th June</strong> as our release date - please consider this your two week warning!</p>
<p>This is the end game of the process we began back in February when we released the <a href="https://matrix.org/blog/2019/02/04/matrix-at-fosdem-2019">first stable release of the Server-Server API</a> at FOSDEM, and started the <a href="https://matrix.org/blog/2019/02/05/synapse-0-99-0">Synapse 0.99</a> release series to prepare for 1.0.</p>
<p>Matrix 1.0 refers to the upcoming set of API releases which provides a matched set of stable and secure APIs across all of Matrix - at which point the project (at last) exits beta! In practice, this will be Client-Server API 0.5 (including final membership lazy loading, E2E backups and interactive verification and lots more), SS API 0.2 (including server key validity period fixes and associated v5 room protocol) and any other spec updates. The next 2 weeks will see a flurry of spec activity as we get everything together - you can see the full list and track the progress for the CS 0.5 spec release at https://github.com/matrix-org/matrix-doc/projects/2.</p>
<p>Meanwhile, Synapse 1.0 will be the reference implementation of Matrix 1.0, and so makes the changes required to implement Matrix 1.0 and close all currently known security and stability issues and thus exit beta. This means changing the default room protocol version used for new rooms to be <a href="https://github.com/matrix-org/matrix-doc/blob/37871106c6fc6013c17b5711fb93853fff140267/proposals/2002-rooms-v4.md">v4</a>, which includes the new <a href="https://github.com/matrix-org/matrix-doc/blob/f714aaadd011ac736d779f8460202a8d95799123/proposals/1442-state-resolution.md">state resolution algorithm</a>, as well as <a href="https://github.com/matrix-org/matrix-doc/blob/erikj/event_id_hashes/proposals/1659-event-id-as-hashes.md">collision-resistant event IDs</a>, which are now formatted to be <a href="https://github.com/matrix-org/matrix-doc/blob/rav/proposal/no_slash_in_event_id/proposals/1884-replace-slashes-in-event_ids.md">URL safe</a>. <strong>Support for v4 rooms shipped in <a href="https://matrix.org/blog/2019/05/21/synapse-0-99-5-1-released">Synapse 0.99.5.1</a>, so please upgrade asap to 0.99.5.1 before 1.0 is released to ease the transition.</strong>. Synapse 1.0 will also ship with support for the upcoming v5 room protocol (which enforces honouring server key validity periods), but this will not used as the default for new rooms until sufficient servers are speaking Matrix 1.0.</p>
<p>As part of the security work, Matrix 1.0 and Synapse 1.0 also contains a <a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md#it-used-to-work-just-fine-why-are-you-breaking-everything">breaking change</a> that requires a valid TLS certificate on the federation API endpoint. <strong>Servers that do not configure their certificate will no longer be able to federate post 1.0</strong></p>
<p>You can check that your server has been correctly configured <a href="https://federationtester.matrix.org/">here</a> and see <a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md">here</a> for more info on what you need to do. If in doubt head to <a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a>.</p>
<p>We've been tracking readiness for the certificate change at https://arewereadyyet.com, at the time of writing 68% of active <em>servers</em> on the federation have valid certificates. We obviously would want that number to be higher, however since the largest installations <em>have</em> upgraded the total number of <em>users</em> who are ready for 1.0 stands at 96%, which we consider to be high enough to release 1.0.</p>
<p><img src="/blog/img/awry.2019-05-24.png" alt="" /></p>
<p><strong>This is not a drill</strong>, from here until 10th June we need everyone to not only ensure that their own server is ready, but also to encourage their fellow admins to update as well. With your help we can get everyone over the line!</p>
<p>Thanks everyone for your help to date, especially those providing support in <a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a>.</p>
<p>Onwards!</p>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;28&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">29 / 57</span>
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;30&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
