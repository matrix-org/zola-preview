<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    </head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;22&#x2F;modular-the-world-s-first-matrix-homeserver-hosting-provider&#x2F;" title="Modular: the world’s first Matrix homeserver hosting provider!">Modular: the world’s first Matrix homeserver hosting provider!</a></h1>
            <span>
                22.10.2018 00:00
                —
                <a href="/category/in-the-news">
                    In the News
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi folks,</p>
<p>Today is one of those pivotal days for the Matrix ecosystem: we're incredibly excited to announce that the world's first ever dedicated homeserver hosting service is now fully available over at <a href="https://modular.im">https://modular.im</a>!  This really is a massive step for Matrix towards being a mature ecosystem, and we look forward to Modular being the first of many hosting providers in the years to come :D</p>
<p>Modular lets anyone spin up a dedicated homeserver and Riot via a super-simple web interface, rather than having to run and admin their own server.  It's built by New Vector (the startup who makes Riot and hires many of the Matrix core team), and comes from taking the various custom homeserver deployments for people like Status and TADHack and turning them into a paid service available to everyone.  You can even point your own DNS at it to get a fully branded dedicated homeserver for your own domain!</p>
<p><a href="https://modular.im"><img class="aligncenter wp-image-3662 size-full" src="/blog/wp-content/uploads/2018/10/181022-Modular-featured.png" alt="" width="800" height="241" /></a></p>
<p>Anyway, for full details, check out the <a href="https://medium.com/@RiotChat/introducing-modular-awesome-hosting-for-riot-matrix-665a7a0c616">announcement over at the Riot blog</a>.  We're particularly excited that Modular helps increase Matrix's decentralisation, and is really forcing us to ensure that the Federation API is getting the attention it deserves.  Hopefully it'll also reduce some load from the Matrix.org homeserver! Modular will also help Matrix by directly funding Matrix development by the folks working at New Vector, which should in turn of course benefit the whole ecosystem.</p>
<p>Many people reading this likely already run their own servers, and obviously they aren't the target audience for Modular.  But for organisations who don't have a sysadmin or don't want to spend the time to run their own server, hopefully Modular gives a very cost-effective way of running your own dedicated reliable Matrix server without having to pay for a sysadmin :)</p>
<p>We're looking forward to see more of these kind of services popping up in the future from everywhere in the ecosystem, and have started a <a href="/hosting/">Matrix Hosting page</a> on the Matrix website so that everyone can advertise their own: don't hesitate to get in touch if you have a service to be featured!</p>
<p>If you're interested, please swing by <a href="https://matrix.to/#/#modular:matrix.org">#modular:matrix.org</a> or feel free to shoot questions to <a href="mailto:support@modular.im">support@modular.im</a>.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;19&#x2F;this-week-in-matrix-2018-10-19&#x2F;" title="This Week in Matrix 2018-10-19">This Week in Matrix 2018-10-19</a></h1>
            <span>
                19.10.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="bridgesandsdks">Bridges and SDKs</h2>
<h3 id="slackbridge020rc1">Slack Bridge 0.2.0-rc1</h3>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>, master of the bridge, has been working with <a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> to produce a new RC for <a href="https://github.com/matrix-org/matrix-appservice-slack">bridging Matrix and Slack</a>.
<blockquote>We've got a Slack RC out at long last! Rejoice! It's absolutely massive and full of features.</blockquote>
Half-Shot even provided this explanation of how it works:
<blockquote>Integrations manager &gt; sign into slack &gt; click your channel &gt; ??? &gt; channel bridged :)</blockquote>
See <a href="https://github.com/matrix-org/matrix-appservice-slack/releases/tag/0.2.0-rc1">release notes</a>:
<blockquote>This is the first release of the Slack bridge. 0.1.0 has been the version number for previous efforts but was never an official release.</blockquote>
To test this integration, use Riot on <a href="https://riot.im/develop">https://riot.im/develop</a> and select the "Event Bridging" when adding the integration.
<h3 id="maubotpython">maubot Python</h3>
<a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>'s maubot bot system:
<blockquote>The <a href="https://github.com/maubot/maubot">maubot</a> Python rewrite I <a href="/blog/2018/10/05/this-week-in-matrix-2018-10-05/#sdks">twimmed two weeks ago</a> is now complete. The plugin system seems to work well and I'm pretty sure I'll be able to implement proper plugin reloading now.
Next I'll implement plugin config storage and some way to manage maubot and plugins (maybe a plugin to manage plugins?)</blockquote>
<h2 id="clients">Clients</h2>
<h3 id="riotweb017riotandroid0818lazyloading">Riot Web 0.17, Riot Android 0.8.18: Lazy Loading</h3>
This week saw the launch of Riot Web 0.17, and two bug-release updates (0.17.1 and 0.17.2) to fix issues on the Windows desktop app. This version is substantially faster due to its use of Lazy Loading room members. <a href="https://medium.com/@RiotChat/riot-im-web-0-17-and-ios-0-7-6-smaller-footprint-faster-launch-5ddd18a65abb">Read more here</a>.   Meanwhile, Travis continues his foray into 'first impressions' bugs - including an initial implementation of .well-known URI support!
<p>Riot Android 0.8.18 is also available from the <a href="https://play.google.com/store/apps/details?id=im.vector.app">Play Store</a> and <a href="https://f-droid.org/en/packages/im.vector.alpha/">F-Droid</a>, with Lazy Loading option available in the Labs menu (but still has a few bugs left).</p>
<p>Riot iOS meanwhile is busy implementing incremental server-side E2E key backups, and there's generally been a huge amount of work on E2E encryption UX across the board in preparation for all-new E2E on Web and iOS.  More details will be coming soon!</p>
<p>With this done, Riot is now getting a lot more attention on the <a href="https://medium.com/@RiotChat/a-sneak-peek-at-a-whole-new-riot-im-1114df653782">impending redesign</a>, with Bruno <a href="https://github.com/matrix-org/matrix-react-sdk/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+redesign+author%3Abwindels">starting to merge</a> code to the experimental branch.</p>
<h3 id="quaternion0093">Quaternion 0.0.9.3</h3>
<blockquote>After being in RC for a week, Quaternion 0.0.9.3 is ready and will be released over the weekend. Most importantly, you can now translate it into your language! Just head over to <a href="https://lokalise.co/public/730769035bbc328c31e863.62506391/">https://lokalise.co/public/730769035bbc328c31e863.62506391/</a>, register (you can optionally reuse your GitHub account), ask in #qmatrixclient:matrix.org to add your language to the list (if it's not there yet) and start translating!</blockquote>
<h3 id="coffeeonmatrixconsoleforandroid">Coffee on Matrix Console for Android</h3>
<a href="https://github.com/Matrixcoffee">Coffee</a> rolled a natural twenty for bravery this week.
<blockquote>I have decided to take up maintainership of the <a href="https://github.com/matrix-org/matrix-android-console">Matrix Console for Android</a> client. This is still the only multi-account capable Android client, but it is unmaintained and growing long in tooth. In particular, the API endpoints it uses may be removed from Synapse soon.
I will not be developing new features for it, but I will integrate reasonable patches if others want to take that on.
My own goals are to remove GCM and analytics, and get it added to F-Droid. And of course to switch to the latest API.
As part of this work, I have been fighting Gradle and its bugs to get <a href="https://github.com/matrix-org/matrix-android-sdk">matrix-android-sdk</a> to build together with <a href="https://github.com/matrix-org/matrix-android-console">matrix-android-console</a> as a git submodule, so it's no longer necessary to inject the precompiled sdk into the source code. I did not win yet.</blockquote>
<h3 id="fluffychatstablereleasecreepscloser">FluffyChat stable release creeps closer</h3>
Ubuntu Touch fans will know that <a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a> has been progressing rapidly, and the project is approaching a first stable release. You can find current features being tested as part of the release <a href="https://github.com/ChristianPauly/fluffychat/blob/master/CHANGELOG.md">here</a>.
<h3 id="nheko">nheko</h3>
<a href="https://matrix.to/#/@mujx:matrix.org">mujx</a> has decided to stop maintaining <a href="https://github.com/mujx/nheko">nheko</a>. Since many people are using it, we hope that someone will step in to continue his work. Thanks to mujx for his work so far.
<h2 id="featuredonmozillahacksblog">Featured on Mozilla Hacks blog</h2>
If you like blog posts about Matrix (and if you're reading this, you may well do), then you'll be interested to see that Matrix was featured on the <a href="https://hacks.mozilla.org/">Mozilla Hacks</a> blog: <a href="https://hacks.mozilla.org/2018/10/dweb-decentralised-real-time-interoperable-communication-with-matrix/">Decentralised, Real-Time, Interoperable Communication with Matrix</a>. The article was also picked up by <a href="https://news.ycombinator.com/item?id=18240253">Hacker News</a>.
<h2 id="raidennetworkusesmatrixfortransportthisarticleexplainsit">Raiden Network uses Matrix for transport - this article explains it</h2>
The Raiden Network enables fast payments for Ethereum. From <a href="https://raiden.network/">their website</a>:
<blockquote>The Raiden Network is an off-chain scaling solution, enabling near-instant, low-fee and scalable payments. It's complementary to the Ethereum blockchain and works with any ERC20 compatible token.</blockquote>
To help explain their use of Matrix in their solution, they have prepared an article: <a href="https://medium.com/raiden-network/raiden-transport-explained-939d7741b6f4">Raiden Transport Explained</a>.
<h2 id="synapse0337">Synapse 0.33.7</h2>
Soon, so soon, there will be a full Python 3 release for those running Synapse in worker configuration, but this one is not it. Check out <a href="/blog/2018/10/18/synapse-0-33-7-released/">Synapse 0.33.7 changes here</a>.
<h2 id="synapseonkubernetesupdate">Synapse on kubernetes update</h2>
<a href="https://github.com/ananace/">Ananace</a>:
<blockquote>tracking the latest synapse release on my <a href="https://github.com/ananace/matrix-synapse">K8s optimized image</a>. Got no real time to work on things due to deadlines at work, but that should end come November, so expect more odd Ruby stuff after that point.</blockquote>
"Odd Ruby stuff" will hopefully include a return to the <a href="https://github.com/ananace/ruby-matrix-sdk">Matrix Ruby SDK</a>!
<h2 id="mxisdv120beta2">mxisd v1.2.0-beta.2</h2>
<a href="https://matrix.to/#/@max:kamax.io">Max</a> continues work on <a href="https://github.com/kamax-io/mxisd">mxisd</a>:
<blockquote><a href="https://github.com/kamax-matrix/mxisd">mxisd</a> <a href="https://github.com/kamax-matrix/mxisd/releases/tag/v1.2.0-beta.2">v1.2.0-beta.2</a> is out, fixing bugs found during beta.1</blockquote>
<h2 id="cadairatgsoc">Cadair at GSOC</h2>
<a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> was at the <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> Mentors Summit in Mountain View last week:
<blockquote>I attended the GSOC mentor summit. I had some great conversations with people who are using matrix and with people about bridging in different chat services. A lot of matrix stickers all vanished off the overloaded sticker table. I have lots of ideas for GSOC next year, and plan to try and get many more community projects involved. Finally, I dont need to eat chocolate for a month.</blockquote>
<a style="font-weight: bold;" href="/blog/wp-content/uploads/2018/10/gsoc-chocolate.jpg"><img class="alignnone wp-image-3650 size-medium" src="/blog/wp-content/uploads/2018/10/gsoc-chocolate-300x289.jpg" alt="" width="300" height="289" /></a>
<p>GSOC chocolate: GCHOC</p>
<h2 id="untilnextweek">Until next week</h2>
Next Friday <code>/me</code> is going to be at <a href="https://mozillafestival.org/">MozFest 2018</a>, promoting Matrix, Open Source, decentralisation etc. (all the stuff we know and love), so I may change the schedule a little next week.  We're also going to reboot Matrix Live, so consider this a hiatus before Season 3 begins next week!!

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;18&#x2F;synapse-0-33-7-released&#x2F;" title="Synapse 0.33.7 released!">Synapse 0.33.7 released!</a></h1>
            <span>
                18.10.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hey ho, let's go. Synapse 0.33.7 has arrived.</p>
<p>Regular readers will know how close we are to a full python 3 release. We are not quite there yet but 0.33.7 has support for Synapse under worker mode and we've running it on matrix.org this week. We need more time to conclusively gauge performance improvements but the Synchrotron workers are running with 33% less RAM. Thanks to everyone who has been running their servers under py3, if you do spot anything unusual just let us know. Once we've been running it a bit longer on matrix.org, we'll cut a 0.34.0 release with a recommendation that one and all upgrade to python 3.</p>
<p>Aside from that this release contains support for server side end to end key backups, paving the way for client side support in Riot and Rich continues his long running federation bug squash-a-thon which should help with a whole host of federation snafus.</p>
<p>Up next on the horizon is returning in earnest to getting the server to server r0 spec out starting with shipping our brand new super shiny state resolution algorithm.</p>
<p>As a final point, for those of you that deploy from git checkout or a snapshot url and have email notifications enabled please take a look warning in the change log.</p>
<p>As a final final point #synapse:matrix.org is now an officially supported room, aimed at Synapse admins. If you've not done so already please do drop by and say Hi.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.7">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>.</p>
<p>Onwards!</p>
<h3>Synapse 0.33.7 Change Log</h3>
<strong>Warning</strong>: This release removes the example email notification templates from <code>res/templates</code> (they are now internal to the python package). This should only affect you if you (a) deploy your Synapse instance from a git checkout or a github snapshot URL, and (b) have email notifications enabled.
<p>If you have email notifications enabled, you should ensure that <code>email.template_dir</code> is either configured to point at a directory where you have installed customised templates, or leave it unset to use the default templates.</p>
<p>The configuration parser will try to detect the situation where <code>email.template_dir</code> is incorrectly set to <code>res/templates</code> and do the right thing, but will warn about this.</p>
<h4>Features</h4>
<ul>
 	<li>Ship the example email templates as part of the package (<a href="https://github.com/matrix-org/synapse/issues/4052" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4052/hovercard" aria-describedby="hovercard-aria-description">#4052</a>)</li>
 	<li>Add support for end-to-end key backup (MSC1687) (<a href="https://github.com/matrix-org/synapse/issues/4019" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4019/hovercard" aria-describedby="hovercard-aria-description">#4019</a>)</li>
</ul>
<h4>Bugfixes</h4>
<ul>
 	<li>Fix bug which made get_missing_events return too few events (<a href="https://github.com/matrix-org/synapse/issues/4045" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4045/hovercard" aria-describedby="hovercard-aria-description">#4045</a>)</li>
 	<li>Fix bug in event persistence logic which caused 'NoneType is not iterable' (<a href="https://github.com/matrix-org/synapse/issues/3995" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3995/hovercard" aria-describedby="hovercard-aria-description">#3995</a>)</li>
 	<li>Fix exception in background metrics collection (<a href="https://github.com/matrix-org/synapse/issues/3996" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3996/hovercard" aria-describedby="hovercard-aria-description">#3996</a>)</li>
 	<li>Fix exception handling in fetching remote profiles (<a href="https://github.com/matrix-org/synapse/issues/3997" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3997/hovercard" aria-describedby="hovercard-aria-description">#3997</a>)</li>
 	<li>Fix handling of rejected threepid invites (<a href="https://github.com/matrix-org/synapse/issues/3999" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3999/hovercard" aria-describedby="hovercard-aria-description">#3999</a>)</li>
 	<li>Workers now start on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/4027" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4027/hovercard" aria-describedby="hovercard-aria-description">#4027</a>)</li>
 	<li>Synapse now starts on Python 3.7. (<a href="https://github.com/matrix-org/synapse/issues/4033" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4033/hovercard" aria-describedby="hovercard-aria-description">#4033</a>)</li>
</ul>
<h3>Internal Changes</h3>
<ul>
 	<li>Log exceptions in looping calls (<a href="https://github.com/matrix-org/synapse/issues/4008" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4008/hovercard" aria-describedby="hovercard-aria-description">#4008</a>)</li>
 	<li>Optimisation for serving federation requests (<a href="https://github.com/matrix-org/synapse/issues/4017" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4017/hovercard" aria-describedby="hovercard-aria-description">#4017</a>)</li>
 	<li>Add metric to count number of non-empty sync responses (<a href="https://github.com/matrix-org/synapse/issues/4022" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4022/hovercard" aria-describedby="hovercard-aria-description">#4022</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;16&#x2F;usage-of-the-matrix-js-sdk&#x2F;" title="Usage of the matrix-js-sdk">Usage of the matrix-js-sdk</a></h1>
            <span>
                16.10.2018 00:00
                —
                <a href="/category/tutorials">
                    Tutorials
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <p>We have a brand new, exciting guide page offering an introduction to <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>. This guide will live with the documentation at <a href="/docs/guides/usage-of-the-matrix-js-sdk">https://matrix.org/docs/guides/usage-of-the-matrix-js-sdk</a>,  but you can find the text below.</p>
<hr />
<p>Matrix allows open real-time communications over the Internet using HTTP and JSON. This makes developing clients to connect to Matrix servers really easy! Because it's open, and uses simple syntax for messages, you can connect Matrix to anything that communicates over a standard HTTP interface - later projects in this series will explore ideas such as building bots, performing machine learning on message content, and connecting IoT devices such as Philips Hue lights.</p>
<h2 id="making-a-matrix-client">Making a Matrix Client</h2>
Let's explore how we would make a very simple Matrix client, with only the ability to perform an initial sync, and to get member lists and the timeline for rooms of our choice.
<p>This article will explore the <a href="/docs/spec/client_server/latest.html">Matrix Client-Server API</a>, making use of the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a>. Later articles may discuss making the underlying calls. Specifically we will cover:</p>
<ul>
 	<li>login</li>
 	<li>simple syncing</li>
 	<li>listening for timeline events</li>
 	<li>access the <code class="highlighter-rouge">MatrixInMemoryStore</code></li>
 	<li>sending messages to rooms</li>
 	<li>how to respond to specific messages, as a bot would</li>
</ul>
We'll use Node.js as our environment, though the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a> can also be used directly in the browser.
<p>Before we start, make sure you have Node.js and NPM installed: follow instructions at <a href="https://nodejs.org/">nodejs.org</a> for your platform. Then create a new directory to work in:</p>
<pre><code class="language-unix">mkdir my-first-matrix-client
cd my-first-matrix-client
</code></pre>
<h2 id="lets-write-javascript">Let's write JavaScript</h2>
Once you're ready, the first thing to do is install the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a> from NPM:
<pre><code class="language-unix">npm install matrix-js-sdk
</code></pre>
We include the SDK in our source exactly as expected:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="k" style="font-weight: bold;">import</span>
 <span class="nx">sdk</span>
 <span class="k" style="font-weight: bold;">from</span>
 <span class="s1" style="color: #d14;">'matrix-js-sdk'</span>
<span class="p">;</span>
<p></code></pre></p>
</div>
</div>
<h2 id="login-with-an-access-token">Login with an access token</h2>
Instantiate a new client object and use an <code class="highlighter-rouge">access token</code> to login:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">const</span>
 <span class="nx">client</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="nx">sdk</span>
<span class="p">.</span>
<span class="nx">createClient</span>
<span class="p">({'{'}</span>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;na&quot; style=&quot;color: #008080;&quot;&gt;baseUrl&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;https://matrix.org&quot;</span>
<span class="p">,</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;na&quot; style=&quot;color: #008080;&quot;&gt;accessToken&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;....MDAxM2lkZW50aWZpZXIga2V5CjAwMTBjaWQgZ2Vu....&quot;</span>
<span class="p">,</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;na&quot; style=&quot;color: #008080;&quot;&gt;userId&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;@USERID:matrix.org&quot;</span></p>
<p><span class="p">{'}'});</span></p>
<p><span class="c1" style="color: #998; font-style: italic;">// note that we use the full MXID for the userId value</span></p>
<p></code></pre></p>
</div>
</div>
<small>(<a href="http://matrix-org.github.io/matrix-js-sdk/0.11.1/global.html#createClient">jsdoc for <code class="highlighter-rouge">createClient</code></a>)</small>
<p>If you are logged into Riot, you can find an <code class="highlighter-rouge">access token</code> for the logged-in user on the Settings page.</p>
<p>If the homeserver you're logging in to supports logging in with a password, you can also retrieve an <code class="highlighter-rouge">access token</code> programmatically using the API. To do this, create a new <code class="highlighter-rouge">client</code> with no authentication parameters, then call <code class="highlighter-rouge">client.login()</code> with <code class="highlighter-rouge">&quot;m.login.password&quot;</code>:</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">const</span>
 <span class="nx">client</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="nx">sdk</span>
<span class="p">.</span>
<span class="nx">createClient</span>
<span class="p">(</span>
<span class="s2" style="color: #d14;">"https://matrix.org"</span>
<span class="p">);</span>
<p><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">login</span>
<span class="p">(</span>
<span class="s2" style="color: #d14;">&quot;m.login.password&quot;</span>
<span class="p">,</span>
<span class="p">{'{'}</span>
<span class="s2" style="color: #d14;">&quot;user&quot;</span>
<span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;USERID&quot;</span>
<span class="p">,</span>
<span class="s2" style="color: #d14;">&quot;password&quot;</span>
<span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;hunter2&quot;</span>
<span class="p">{'}'}).</span>
<span class="nx">then</span>
<span class="p">((</span>
<span class="nx">response</span>
<span class="p">)</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">response</span>
<span class="p">.</span>
<span class="nx">access_token</span>
<span class="p">);</span></p>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
In any case, once logged in either with a password or an access token, the client can get the current access token via:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="nx">console</span>
<span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">client</span>
<span class="p">.</span>
<span class="nx">getAccessToken</span>
<span class="p">());</span>
<p></code></pre></p>
</div>
</div>
<strong>Note:</strong> it is essential to keep this access token safe, as it allows complete access to your Matrix account!
<h2 id="sync-and-listen">Sync and Listen</h2>
Next we start the client, this sets up the connection to the server and allows us to begin syncing:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">startClient</span>
<span class="p">();</span>
<p></code></pre></p>
</div>
</div>
Perform a first sync, and listen for the response, to get the latest state from the homeserver:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">once</span>
<span class="p">(</span>
<span class="s1" style="color: #d14;">'sync'</span>
<span class="p">,</span>
 <span class="kd" style="font-weight: bold;">function</span>
<span class="p">(</span>
<span class="nx">state</span>
<span class="p">,</span>
 <span class="nx">prevState</span>
<span class="p">,</span>
 <span class="nx">res</span>
<span class="p">)</span>
 <span class="p">{'{'}</span>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">state</span>
<span class="p">);</span>
<span class="c1" style="color: #998; font-style: italic;">// state will be 'PREPARED' when the client is ready to use</span></p>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
Once the sync is complete, we can add listeners for events. We could listen to ALL incoming events, but that would be a lot of traffic, and too much for our simple example. If you want to listen to all events, you can add a listen as follows:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">on</span>
<span class="p">(</span>
<span class="s2" style="color: #d14;">"event"</span>
<span class="p">,</span>
 <span class="kd" style="font-weight: bold;">function</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">){'{'}</span>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">getType</span>
<span class="p">());</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">);</span></p>
<p><span class="p">{'}'})</span></p>
<p></code></pre></p>
</div>
</div>
Instead, let's just listen to events happening on the timeline of rooms for which our user is a member:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">on</span>
<span class="p">(</span>
<span class="s2" style="color: #d14;">"Room.timeline"</span>
<span class="p">,</span>
 <span class="kd" style="font-weight: bold;">function</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">,</span>
 <span class="nx">room</span>
<span class="p">,</span>
 <span class="nx">toStartOfTimeline</span>
<span class="p">)</span>
 <span class="p">{'{'}</span>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">event</span>
<span class="p">);</span></p>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
<h2 id="access-the-store">Access the Store</h2>
When we created a new client with <code class="highlighter-rouge">sdk.createClient()</code>, an instance of the default store, <code class="highlighter-rouge">MatrixInMemoryStore</code> was created and enabled. When we sync, or instruct otherwise our client to fetch data, the data is automatically added to the store.
<p>To access the store, we use accessor methods. For example, to get a list of rooms in which our user is joined:</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="c1" style="color: #998; font-style: italic;">// client.client.getRooms() returns an array of room objects</span>
<p><span class="kd" style="font-weight: bold;">var</span>
<span class="nx">rooms</span>
<span class="o" style="font-weight: bold;">=</span>
<span class="nx">client</span>
<span class="p">.</span>
<span class="nx">getRooms</span>
<span class="p">();</span></p>
<p><span class="nx">rooms</span>
<span class="p">.</span>
<span class="nx">forEach</span>
<span class="p">(</span>
<span class="nx">room</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">room</span>
<span class="p">.</span>
<span class="nx">roomId</span>
<span class="p">);</span></p>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
<small>(<a href="http://matrix-org.github.io/matrix-js-sdk/0.11.1/module-client-MatrixClient.html#getRooms">jsdoc for <code class="highlighter-rouge">client.getRooms</code></a>)</small>
<p>More usefully, we could get a list of members for each of these rooms:</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">var</span>
 <span class="nx">rooms</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="nx">client</span>
<span class="p">.</span>
<span class="nx">getRooms</span>
<span class="p">();</span>
<p><span class="nx">rooms</span>
<span class="p">.</span>
<span class="nx">forEach</span>
<span class="p">(</span>
<span class="nx">room</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;kd&quot; style=&quot;font-weight: bold;&quot;&gt;var&lt;/span&gt;
</span></code></pre>
<p><span class="nx">members</span>
<span class="o" style="font-weight: bold;">=</span>
<span class="nx">room</span>
<span class="p">.</span>
<span class="nx">getJoinedMembers</span>
<span class="p">();</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;members&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">forEach</span>
<span class="p">(</span>
<span class="nx">member</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">member</span>
<span class="p">.</span>
<span class="nx">name</span>
<span class="p">);</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;});&lt;/span&gt;
</span></code></pre>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
For each room, we can inspect the timeline in the store:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">var</span>
 <span class="nx">rooms</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="nx">client</span>
<span class="p">.</span>
<span class="nx">getRooms</span>
<span class="p">();</span>
<p><span class="nx">rooms</span>
<span class="p">.</span>
<span class="nx">forEach</span>
<span class="p">(</span>
<span class="nx">room</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;room&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">timeline</span>
<span class="p">.</span>
<span class="nx">forEach</span>
<span class="p">(</span>
<span class="nx">t</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">JSON</span>
<span class="p">.</span>
<span class="nx">stringify</span>
<span class="p">(</span>
<span class="nx">t</span>
<span class="p">.</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">content</span>
<span class="p">));</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;});&lt;/span&gt;
</span></code></pre>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
<h2 id="send-messages-to-rooms">Send messages to rooms</h2>
To send a message, we create a content object, and specify a room to send to. In this case, I've taken the room ID of <code class="highlighter-rouge">#test:matrix.org</code>, and used it as an example:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">var</span>
 <span class="nx">testRoomId</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="s2" style="color: #d14;">"!jhpZBTbckszblMYjMK:matrix.org"</span>
<span class="p">;</span>
<p><span class="kd" style="font-weight: bold;">var</span>
<span class="nx">content</span>
<span class="o" style="font-weight: bold;">=</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;s2&quot; style=&quot;color: #d14;&quot;&gt;&quot;body&quot;&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;Hello World&quot;</span>
<span class="p">,</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;s2&quot; style=&quot;color: #d14;&quot;&gt;&quot;msgtype&quot;&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;m.text&quot;</span></p>
<p><span class="p">{'}'};</span></p>
<p><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">sendEvent</span>
<span class="p">(</span>
<span class="nx">testRoomId</span>
<span class="p">,</span>
<span class="s2" style="color: #d14;">&quot;m.room.message&quot;</span>
<span class="p">,</span>
<span class="nx">content</span>
<span class="p">,</span>
<span class="s2" style="color: #d14;">&quot;&quot;</span>
<span class="p">).</span>
<span class="nx">then</span>
<span class="p">((</span>
<span class="nx">res</span>
<span class="p">)</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<p><span class="c1" style="color: #998; font-style: italic;">// message sent successfully</span></p>
<p><span class="p">{'}'}).</span>
<span class="k" style="font-weight: bold;">catch</span>
<span class="p">((</span>
<span class="nx">err</span>
<span class="p">)</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">err</span>
<span class="p">);</span></p>
<p><span class="p">{'}'}</span></p>
<p></code></pre></p>
</div>
</div>
<small>(<a href="http://matrix-org.github.io/matrix-js-sdk/0.11.1/module-client-MatrixClient.html#sendEvent">jsdoc for <code class="highlighter-rouge">client.sendEvent</code></a>)</small>
<p>Knowing this, we can put together message listening and message sending, to build a bot which just echos back any message starting with a &quot;!&quot;:</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">var</span>
 <span class="nx">testRoomId</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="s2" style="color: #d14;">"!jhpZBTbckszblMYjMK:matrix.org"</span>
<span class="p">;</span>
<p><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">on</span>
<span class="p">(</span>
<span class="s2" style="color: #d14;">&quot;Room.timeline&quot;</span>
<span class="p">,</span>
<span class="kd" style="font-weight: bold;">function</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">,</span>
<span class="nx">room</span>
<span class="p">,</span>
<span class="nx">toStartOfTimeline</span>
<span class="p">)</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;c1&quot; style=&quot;color: #998; font-style: italic;&quot;&gt;// we know we only want to respond to messages&lt;/span&gt;
</span><span>
</span><span>&lt;span class=&quot;k&quot; style=&quot;font-weight: bold;&quot;&gt;if&lt;/span&gt;
</span></code></pre>
<p><span class="p">(</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">getType</span>
<span class="p">()</span>
<span class="o" style="font-weight: bold;">!==</span>
<span class="s2" style="color: #d14;">&quot;m.room.message&quot;</span>
<span class="p">)</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;k&quot; style=&quot;font-weight: bold;&quot;&gt;return&lt;/span&gt;
</span></code></pre>
<p><span class="p">;</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;}&lt;/span&gt;
</span><span>
</span><span>
</span><span>&lt;span class=&quot;c1&quot; style=&quot;color: #998; font-style: italic;&quot;&gt;// we are only interested in messages from the test room, which start with &quot;!&quot;&lt;/span&gt;
</span><span>
</span><span>&lt;span class=&quot;k&quot; style=&quot;font-weight: bold;&quot;&gt;if&lt;/span&gt;
</span></code></pre>
<p><span class="p">(</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">getRoomId</span>
<span class="p">()</span>
<span class="o" style="font-weight: bold;">===</span>
<span class="nx">testRoomId</span>
<span class="o" style="font-weight: bold;">&amp;&amp;</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">getContent</span>
<span class="p">().</span>
<span class="nx">body</span>
<span class="p">[</span>
<span class="mi" style="color: #099;">0</span>
<span class="p">]</span>
<span class="o" style="font-weight: bold;">===</span>
<span class="s1" style="color: #d14;">'!'</span>
<span class="p">)</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;nx&quot;&gt;sendNotice&lt;/span&gt;
</span></code></pre>
<p><span class="p">(</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">content</span>
<span class="p">.</span>
<span class="nx">body</span>
<span class="p">);</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;}&lt;/span&gt;
</span></code></pre>
<p><span class="p">{'}'});</span></p>
<p><span class="kd" style="font-weight: bold;">function</span>
<span class="nx">sendNotice</span>
<span class="p">(</span>
<span class="nx">body</span>
<span class="p">)</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;kd&quot; style=&quot;font-weight: bold;&quot;&gt;var&lt;/span&gt;
</span></code></pre>
<p><span class="nx">content</span>
<span class="o" style="font-weight: bold;">=</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;s2&quot; style=&quot;color: #d14;&quot;&gt;&quot;body&quot;&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="nx">body</span>
<span class="p">.</span>
<span class="nx">substring</span>
<span class="p">(</span>
<span class="mi" style="color: #099;">1</span>
<span class="p">),</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;s2&quot; style=&quot;color: #d14;&quot;&gt;&quot;msgtype&quot;&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;m.notice&quot;</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;};&lt;/span&gt;
</span><span>
</span><span>&lt;span class=&quot;nx&quot;&gt;client&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">sendEvent</span>
<span class="p">(</span>
<span class="nx">testRoomId</span>
<span class="p">,</span>
<span class="s2" style="color: #d14;">&quot;m.room.message&quot;</span>
<span class="p">,</span>
<span class="nx">content</span>
<span class="p">,</span>
<span class="s2" style="color: #d14;">&quot;&quot;</span>
<span class="p">,</span>
<span class="p">(</span>
<span class="nx">err</span>
<span class="p">,</span>
<span class="nx">res</span>
<span class="p">)</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">err</span>
<span class="p">);</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;});&lt;/span&gt;
</span></code></pre>
<p><span class="p">{'}'}</span></p>
<p></code></pre></p>
</div>
</div>
Take a look at the <code class="highlighter-rouge">msgtype</code> in the object above. In the previous example, we used "m.text" for this field, but now we're using "m.notice". Bots will often use "m.notice" to differentiate their messages. This allows the client to render notices differently, for example Riot, the most popular client, renders notices with a more pale text colour.
<h2 id="further">Further</h2>
There is much, much more to Matrix, the Client-Server API and the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a>, but this guide should give some understanding of simple usage. In subsequent guides we'll cover more detail and also explore projects you can build on top, such as IoT controls and chatbot interfaces. For now you can take a look at <a href="https://github.com/matrix-org/matrix-js-sdk/tree/master/examples">other examples in the matrix-js-sdk itself</a>, and also the <a href="/docs/spec/client_server/latest.html">Matrix Client-Server API</a> which it implements.

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;12&#x2F;this-week-in-matrix-2018-10-12&#x2F;" title="This Week in Matrix 2018-10-12">This Week in Matrix 2018-10-12</a></h1>
            <span>
                12.10.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrixspecupdates">Matrix Spec updates</h2>
<ul>
 	<li><strong><a href="https://github.com/matrix-org/matrix-doc/pull/1695">MSC1695</a></strong> <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> has a newly released proposal relating to Message Edits:
<em>"The key difference to this proposal is that it's only the event schema which is based off the relates stuff. It does NOT do any kind of aggregations but simply is a format to allow bridges/clients to specify edits in the metadata."</em></li>
 	<li><strong><a href="https://github.com/matrix-org/matrix-doc/pull/1693">MSC1693</a></strong> Erik has been thinking about state res v2 in the case of rejected events</li>
</ul>
<h2 id="libqmatrixclient040">libQMatrixClient 0.4.0</h2>
We mentioned libQMatrixClient progress last week, but this week <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> reports:
<blockquote><a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a> 0.4.0 has just been released: CS API 0.4.0, local echo, caching avatars to disk and more - check the release notes at <a href="https://github.com/QMatrixClient/libqmatrixclient/releases/v0.4.0">https://github.com/QMatrixClient/libqmatrixclient/releases/v0.4.0</a>!</blockquote>
Thanks for the work also go to <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> (who is using libQMatrixClient to author <a href="https://gitlab.com/spectral-im/spectral">Spectral</a>) and <a href="https://github.com/delijati">delijati</a>.
<h2 id="informo">Informo</h2>
<a href="https://matrix.to/#/@vabd:weu.informo.network">vadb</a>, back again with news about <a href="https://github.com/Informo">Informo</a>:
<blockquote>The Informo specifications documentation is out! ? It now lives right here: <a href="https://specs.informo.network">https://specs.informo.network</a><br />As a reminder, we were working on "phase 1" of this documentation, which goal was to outline how Informo was going to work. This is basically the foundation for a more complete technical documentation, which shall come later.<br />The idea is to enable people to give it a look as soon as possible, and to enable them to contribute to Informo as early in the design process as possible. The spec is entirely open, with a <a href="https://specs.informo.network/introduction/scsp/">process for contributions</a> documented and all its source files available on GitHub here: <a href="https://github.com/Informo/specs">https://github.com/Informo/specs</a><br />The online version I initially linked is a live version from the repo's <code>master</code> branch, which is updated each time commits are pushed to it (including on merging a PR).<br />If people have any question or remark regarding the specs, or Informo in a general manner, we'll gladly answer them in <a href="https://matrix.to/#/#discuss:weu.informo.network">#discuss:weu.informo.network</a> (or on the #informo IRC channel on Freenode, which is bridged to the Matrix room)! ?</blockquote>
<h2 id="mxisdv120beta1betarelease">mxisd v1.2.0-beta.1 (beta release)</h2>
<a href="https://matrix.to/#/@max:kamax.io">Max</a> has continued work on <a href="https://github.com/kamax-io/mxisd">mxisd</a>, an Identity Server:
<blockquote><a href="https://github.com/kamax-matrix/mxisd">mxisd</a> got a new beta release <a href="https://github.com/kamax-matrix/mxisd/releases/tag/v1.2.0-beta.1">v1.2.0-beta.1</a>.<br />It adds the ability to send email notification about room invites to existing accounts in Identity store that might not have been provisioned in the homeserver yet as users never logged in, or for users' profile that are not auto-populated with 3PIDs. This is especially targeted for onboarding/enrolling times when adopoting Matrix in groups/corporations or for custom setups.<br />We would love to hear about your experience with it!</blockquote>
<h2 id="matrixtrellobot">matrix-trello-bot</h2>
<a href="https://github.com/turt2live">TravisR</a> has been working on <a href="https://github.com/turt2live/matrix-trello-bot">matrix-trello-bot</a>:
<blockquote><a href="https://github.com/turt2live/matrix-trello-bot">matrix-trello-bot</a> has received quite the overhaul. It's gone from a small bot that had pre-determined notifications for board activity to a much more capable bot. The bot now supports managing boards (yes, you can create a board from within Matrix!), lists, and cards including creating, moving, archiving, assigning, and querying.<br /><br />On top of all that, the bot respects that not every room will want to receive every possible notification and offers commands to pick and choose which events it should notify about on a per-board basis. Feel free to <a href="https://t2bot.io/trellobot/">give it a spin</a> and check out the massive help menu with <code>!trello help</code>. Please send bugs and suggestions to GitHub :)</blockquote>
The help menu really is massive! Travis provided an image to highlight the scope of functionality provided (click for larger version):
<p><a href="/blog/wp-content/uploads/2018/10/matrix-trello-bot-2018-10-12.png"><img class="alignnone wp-image-3634 size-medium" src="/blog/wp-content/uploads/2018/10/matrix-trello-bot-2018-10-12-234x300.png" alt="" width="234" height="300" /></a></p>
<h2 id="clients">Clients</h2>
<h3 id="riot0166released">Riot 0.16.6 Released</h3>
<blockquote>Fixes only these two issues:
<ul>
 	<li>Firefox private mode being broken &gt; (https://github.com/matrix-org/matrix-react-sdk/pull/2195)</li>
 	<li>Breakage when mixing /app and /develop use (issue #7432)</li>
</ul>
As both fixes are not relevant for electron, we didn't release 0.16.6 as the electron app, but rest assured 0.17 will of course be released as electron.</blockquote>
<h3 id="fluffychat">Fluffychat</h3>
We missed this last week, but <a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a> (client for Ubuntu Touch) v0.6.0 was released, with LOTS of new features:
<ul>
 	<li>User profiles</li>
 	<li>Design improvements</li>
 	<li>Audioplayer in chat</li>
 	<li>Videoplayer in chat (only audio at the moment)</li>
 	<li>Imageviewer</li>
 	<li>Edit chat aliases</li>
 	<li>Edit chat settings and permissions</li>
 	<li>Kick, ban and unban users</li>
 	<li>Edit user permissions</li>
 	<li>New invite page</li>
 	<li>Display and edit chat topics</li>
 	<li>Change chat avatar</li>
 	<li>Change user avatar</li>
 	<li>Edit phone numbers</li>
 	<li>Edit email addresses</li>
 	<li>Display and edit archived chats</li>
 	<li>New add-chat and add-contact pages</li>
 	<li>Display contacts and find contacts with their phone number or email address</li>
 	<li>Discover public chats on the user's homeserver</li>
 	<li>Registration (currently only working with ubports.chat and NOT with matrix.org due captchas)</li>
 	<li>Register and login with phone number</li>
 	<li>Edit identity-server</li>
 	<li>Add in-app viewer for the privacy policy</li>
</ul>
<img src="../fluffychat-2018-10-12.png" alt="" /><a href="/blog/wp-content/uploads/2018/10/fluffychat-2018-10-12.png"><img class="alignnone size-full wp-image-3633" src="/blog/wp-content/uploads/2018/10/fluffychat-2018-10-12.png" alt="" width="540" height="960" /></a>
<h2 id="constructdockerimage">Construct Docker image</h2>
<a href="https://matrix.to/#/@mujx:matrix.org">mujx</a> has created a new Docker image for Construct, the C++ homeserver:
<blockquote>Construct has a new docker image (<a href="https://github.com/matrix-construct/docker-construct">https://github.com/matrix-construct/docker-construct</a>) which will ease the process of deployment</blockquote><br /><h2>Translations for Quaternion</h2><br />If it didn't seem that <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> was busy enough, he also announced translations for <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> (the original client based on <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>):<br /><blockquote><a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> is now localisable! The web platform for translation will be set up in the nearest days; meanwhile those who can't wait can <a href="https://github.com/QMatrixClient/Quaternion/">just take the repo</a>, look how the German translation is made and copy!</blockquote>
<h2 id="thatsallwecantellyou">That's all we can tell you!</h2>
Safe travels to <a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a>, who is off to represent Matrix at the <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> mentors summit. Check out Matrix Live below:
<div class="video-container"><iframe src="https://www.youtube.com/embed/hu6fgPlpqok?rel=0" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe></div>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;11&#x2F;the-story-of-giveth-s-new-matrix-chatbot&#x2F;" title="The story of Giveth’s new Matrix chatbot">The story of Giveth’s new Matrix chatbot</a></h1>
            <span>
                11.10.2018 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/eli-etzioni">
                    Eli Etzioni
                </a>
            </span>
            
        </header>
        <div>
            <p>Guest post today from <a href="https://giveth.io/">Giveth</a>: <em>Giveth is re-engineering charitable giving, by creating an entirely free, open-source platform, built on the Ethereum Blockchain. Our system cuts out bureaucracy and enables nonprofits to create a high level of transparency and accountability towards Givers.</em></p>
<hr />
<p><a href="/blog/wp-content/uploads/2018/10/giveth1.png"><img class="alignnone size-full wp-image-3629" src="/blog/wp-content/uploads/2018/10/giveth1.png" alt="" width="901" height="253" /></a></p>
<p><i>Giveth's new chatbot in action!
</i></p>
<p>Online or offline, joining a new community always requires some adjustment. Even the most open, inclusive communities have shared knowledge and shared practices which new members learn as they participate. </p>
<p>I recently joined <a href="https://giveth.io">Giveth's</a> Riot community, where the majority of Giveth's communication occurs. Immediately upon joining, I received the message pictured above from the Giveth Bot, kindly encouraging me to download Riot mobile and change my notifications to mention-only. The bot shortened my adjustment period by giving me key tidbits of information that everyone in Giveth's community knows, but that may have taken me time to pick up on my own. This blog post will cover how the Giveth Bot came to be, what it is capable of, and where the project is headed in the future. </p>
<p>The Giveth Bot actually started out as an attempt to solve a completely different problem: helping Giveth efficiently distribute internal reward points. Giveth's system for rewarding people who meaningfully contribute to the project is called RewardDAO. “If someone contributes in a meaningful way, a core contributor from each of the Giveth Campaigns can dish them points to recognize the contribution”, describes <a href="https://medium.com/@cle0">Cleo</a> in an article explaining <a href="https://medium.com/giveth/how-rewarddao-works-aka-what-are-points-7388f70269a">how RewardDAO works</a>. At the end of each month, contributors receive Ether based on how many points they have earned.</p>
<p><a href="/blog/wp-content/uploads/2018/10/giveth2.png"><img class="alignnone size-large wp-image-3626" src="/blog/wp-content/uploads/2018/10/giveth2-1024x246.png" alt="" width="1024" height="246" /></a></p>
<p><i>The Giveth RewardDAO motto. Photo from https://medium.com/giveth.
</i></p>
<p>However, any time that a core contributor dished points to someone, they had to record who received the points, and how many, on a spreadsheet. In search of a better way, Giveth opened up the project of automating this system to the <a href="https://medium.com/giveth/what-is-social-coding-fa81feacfa32">social coding hub</a>, a community of altruistic developers looking to tackle impactful and interesting projects, offering a 2 eth bounty for a solution.</p>
<p>A lot of great work was submitted, and ultimately Deam's (
<a href="https://twitter.com/deamlabs">@deamlabs</a>) code was chosen to power the bot and the code for the pointsbot itself was further developed and refined by <a href="https://github.com/FrederikBolding">Frederik Bolding</a>. Now, by using a command of the form “!dish [number] [type] points to [contributor] for [contribution]”, Giveth core contributors can distribute points as needed, and the bot will automatically update the spreadsheet accordingly.</p>
<p><a href="/blog/wp-content/uploads/2018/10/giveth3.png"><img class="alignnone size-full wp-image-3628" src="/blog/wp-content/uploads/2018/10/giveth3.png" alt="" width="918" height="520" /></a></p>
<p><i>The Giveth Bot dishing points like a champion! 
</i></p>
<p>Once the bot's framework was established, chatbot features were added. In addition to the welcome message I received, the bot gives custom welcome messages in each of Giveth's different rooms, allows Matrix users to have 1-on-1 chats with it, and listens for keywords and sentences it recognizes in rooms and private chats. Riot is built on top of an open-source protocol called Matrix. Matrix has a javascript standard development kit (SDK), which the bot uses to detect events occurring in each of the Riot rooms and chats that it is a part of.</p>
<p>Giveth began by using Slack, but switched to Riot to support Matrix's decentralized, open-source model, which which aligns far more with Giveth's own business model and values. The Giveth Bot is a great example of how Matrix enables users to build their own solutions to problems. In the future, we hope that the Giveth Bot will be able to interact directly with the Ethereum Blockchain, and that more analytics and measurement tools can be incorporated. And of course, we welcome any and all feedback on the Giveth Bot!</p>
<p><i>Giveth is an open-source platform for building decentralized altruistic communities. Anyone interested in getting involved should head to 
</i><a href="https://giveth.io/join/"><i>join.giveth.io
</i></a></p>
<p><i>Interested in checking out the Giveth Bot's inner workings? All code is available at 
</i><a href="https://github.com/Giveth/giveth-bot"><i>https://github.com/Giveth/giveth-bot
</i></a><i>. 
</i></p>
<p><i>Interested in learning DApp development or helping out with cool projects like the Giveth Bot? Check out the 
</i><a href="https://riot.im/app/#/room/#giveth-social-coding:matrix.org"><i>social_coding Riot channel
</i></a><i>, tell us what you're interested in, and help build awesome stuff!
</i></p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;05&#x2F;this-week-in-matrix-2018-10-05&#x2F;" title="This Week in Matrix 2018-10-05">This Week in Matrix 2018-10-05</a></h1>
            <span>
                05.10.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="bridges">Bridges</h2>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> is supposedly back at university, but he's productive enough to have THREE updates this week (delivered in ascending order of interestingness):
<p><strong><a href="https://github.com/matrix-org/matrix-appservice-irc">matrix-appservice-irc</a> 0.11.2:</strong></p>
<blockquote><a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.11.2">https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.11.2</a> is just a hotfix release containing a few things we fixed in develop so yay.</blockquote><br /><strong><a href="https://github.com/matrix-org/matrix-appservice-node">matrix-appservice-node</a> v0.3.5:</strong><br /><blockquote><a href="https://github.com/matrix-org/matrix-appservice-node/blob/master/CHANGELOG.md#v035">https://github.com/matrix-org/matrix-appservice-node/blob/master/CHANGELOG.md#v035</a> is a long overdue update that just updates dependencies so we are no longer exposing lots of vulnerabilities<br />Updated <code>body-parser</code>, <code>express</code>, <code>morgan</code> and <code>request</code> packages to fix security vulnerabilities.</blockquote><br /><strong><a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> 1.7.0 released:</strong><br /><blockquote><a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> is out! Bundled in this version are major updates to dependencies (to stop the warnings), a logging component for quick setup of pretty winston logs and a provisoner "validator" to allow bridge admins to curate which bridges can be linked into the same room to stop the dreaded double bridge issue.<br />More details can be found at <a href="https://github.com/matrix-org/matrix-appservice-bridge/releases/tag/1.7.0">https://github.com/matrix-org/matrix-appservice-bridge/releases/tag/1.7.0</a></blockquote>
<h2 id="informonewsproject">Informo news project</h2>
<strong>Informo</strong> is an ambitious project hoping to be a "decentralised news network, making information accessible". The project lives at <a href="https://github.com/Informo">https://github.com/Informo</a>, but for now you can join <a href="https://matrix.to/#/#discuss:weu.informo.network">#discuss:weu.informo.network</a> to get their latest news.
<p><strong><a href="https://matrix.to/#/@vabd:weu.informo.network">vadb</a> provided an update:</strong></p>
<blockquote>Hey there, here's a quick update to let you know that we're making great progress towards the completion of phase 1 of Informo's specifications' documentation (i.e. general outline without going to much in depth into the technical specifications)! I've also updated the board to cut the big "Basic spec" task down into smaller tasks to give a more precise insight of our current progress<br />Once that phase 1 is done we'll publish the whole thing and migrate our work to a public GitHub repository so people can get to know Informo a bit better and contribute towards making the doc better if they want</blockquote>
<h2 id="riot">Riot</h2>
<strong><a href="https://github.com/vector-im/riot-web">riot-web</a> 16.5 released, with <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a> 0.11.1:</strong>
<p>Go see the <a href="https://github.com/matrix-org/matrix-js-sdk/blob/master/CHANGELOG.md">latest changes</a> and make sure to start using room member Lazy Loading with the latest <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>.</p>
<h2 id="libraries">Libraries</h2>
<strong><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> is writing an Olm wrapper for Qt:</strong>
<blockquote>I am writing a Qt <strong>wrapper</strong> for Olm. It has APIs similar to python-olm</blockquote><br /><strong><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> and <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> are working on <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>:</strong><br /><blockquote><a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a> is nearing its release 0.4.0, with low-level support of CS API (coincidentally) 0.4.0 added this week. Another very useful addition is caching avatar images to the disk, not only in memory, relieving the network from dozens of extra requests when a client powered by the library is restarted. All thanks for the avatar caching PR go to Black Hat!</blockquote><br /><h2 id="sdks">SDKs</h2><br /><strong><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> on mautrix-go and mautrix-python:</strong><br /><blockquote>My gomatrix fork is now <a href="https://github.com/tulir/mautrix-go">mautrix-go</a> and the basic client API stuff in <a href="https://github.com/tulir/mautrix-python/tree/matrix-restructure">mautrix-python</a> is starting to be usable enough for me to start the rewrite of <a href="https://github.com/maubot/maubot">maubot</a> in Python.<br />For a bit of background, maubot is a dynamic plugin-based bot system. It's currently written in Go, but due to many limitations in the Go plugin system, I decided to rewrite it in Python. matrix-python-sdk doesn't have asyncio or a maintainer, so I decided to make a new framework that combines my existing mautrix-appservice-python framework with a more generic client API layer. (<a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>)</blockquote>
<h2 id="homeservers">Homeservers</h2>
<strong><a href="https://matrix.to/#/@max:kamax.io">Max</a> introduces his new server, <a href="https://github.com/kamax-grid/gridepo">Gridepo</a>:</strong>
<blockquote>mxhsd work has resumed via a new project, <a href="https://github.com/kamax-grid/gridepo">Gridepo</a>, which will be a Matrix/Grid dual-stack server. While mxhsd focused on researching the protocol and reverse-engineering the spec, <a href="https://github.com/kamax-grid/gridepo">Gridepo</a> will follow whatever is specced in its Matrix compatible mode.</blockquote><br /><strong>Synapse 0.33.6 released:</strong><br /><br />It's <a href="/blog/2018/10/04/synapse-0-33-6-released/">literally the previous blog post</a>!<br /><blockquote>we've been focusing on fixing a whole host of federation bugs to improve reliability and latency. Additionally we've squashed some py3 bugs, improved lazy loading and been working hard in the background to improve our CI infrastructure. Finally, we cleaned up the Docker file, the image is now half the size of 0.33.5.1's standing at 58 MB.<br /><br />As ever, you can <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.6">get the new update here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, <a href="https://pypi.org/project/matrix-synapse/">Synapse is now available from PyPI</a>.</blockquote><br /><h2 id="devopsandhosting">DevOps and Hosting</h2><br /><strong><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> on <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a>:</strong><br /><blockquote><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> has received some more improvements lately. They're mostly about the ability to tweak things affecting performance: Synapse cache factor configuration, the ability to enable/disable user presence tracking. The logging situation has also been improved for all Docker containers, so that their output would not get logged twice (once by systemd's journal, once by Docker) - something which was previously causing unpredictably-high disk usage for long-running containers.</blockquote><br /><strong><a href="https://github.com/ananace/">ananace</a>, Synapse for kubernetes:</strong><br /><blockquote>Updated the K8s tweaked packaging for Synapse 0.33.6 (And added a preliminary Python 3 version there as well)</blockquote>
<strong><a href="https://matrix.to/#/@swedneck:swedneck.xyz">swedneck</a> (literally) on IPFS:</strong>
<p><a href="https://matrix.to/#/@swedneck:swedneck.xyz">swedneck</a> is hosting riot on IPFS: <a href="https://riot.swedneck.xyz">https://riot.swedneck.xyz</a>, see also <a href="https://riot-all.swedneck.xyz">https://riot-all.swedneck.xyz</a> for all the versions currently hosted there.</p>
<h2 id="bots">Bots</h2>
<strong><a href="https://github.com/turt2live">TravisR</a>, always working on bots:</strong>
<blockquote>Through use of the <a href="https://emoncms.org">https://emoncms.org</a> API, the makerspace I help run now has power monitoring statistics available from within matrix.</blockquote><br /><h2 id="rooms">Rooms</h2><br /><strong><a href="https://github.com/Matrixcoffee">Coffee</a>, maintaining <a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a>:</strong><br /><blockquote><a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a> became an official Matrix room! It also had a small face lift, changing from "Synapse Community" to "Synapse Admins", hopefully making its purpose and intended audience clearer.</blockquote>
<h2 id="thatsallfornow">That's all for now</h2>
That's all for now. No Matrix Live this week, but we'll be back next week with more Matrix news and another episode of Matrix Live!

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;04&#x2F;synapse-0-33-6-released&#x2F;" title="Synapse 0.33.6 released!">Synapse 0.33.6 released!</a></h1>
            <span>
                04.10.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>Right folks, time for Synapse 0.33.6.</p>
<p>These past few weeks we've been focusing on fixing a whole host of federation bugs to improve reliability and latency. Additionally we've squashed some py3 bugs, improved lazy loading and been working hard in the background to improve our CI infrastructure. Finally, we cleaned up the Docker file, the image is now half the size of 0.33.5.1's standing at 58 MB.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.6">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>.</p>
<p> </p>
<h3>Synapse 0.33.6</h3>
<h4>Features</h4>
<ul>
 	<li>Adding the ability to change MAX_UPLOAD_SIZE for the docker container variables. (<a href="https://github.com/matrix-org/synapse/issues/3883">#3883</a>)</li>
 	<li>Report "python_version" in the phone home stats (<a href="https://github.com/matrix-org/synapse/issues/3894">#3894</a>)</li>
 	<li>Always LL ourselves if we're in a room (<a href="https://github.com/matrix-org/synapse/issues/3916">#3916</a>)</li>
 	<li>Include eventid in log lines when processing incoming federation transactions (<a href="https://github.com/matrix-org/synapse/issues/3959">#3959</a>)</li>
 	<li>Remove spurious check which made 'localhost' servers not work (<a href="https://github.com/matrix-org/synapse/issues/3964">#3964</a>)</li>
</ul>
<h4>Bugfixes</h4>
<ul>
 	<li>Fix problem when playing media from Chrome using direct URL (thanks <a class="user-mention" href="https://github.com/remjey" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=13684203" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@remjey</a>!) (<a href="https://github.com/matrix-org/synapse/issues/3578">#3578</a>)</li>
 	<li>support registering regular users non-interactively with register_new_matrix_user script (<a href="https://github.com/matrix-org/synapse/issues/3836">#3836</a>)</li>
 	<li>Fix broken invite email links for self hosted riots (<a href="https://github.com/matrix-org/synapse/issues/3868">#3868</a>)</li>
 	<li>Don't ratelimit autojoins (<a href="https://github.com/matrix-org/synapse/issues/3879">#3879</a>)</li>
 	<li>Fix 500 error when deleting unknown room alias (<a href="https://github.com/matrix-org/synapse/issues/3889">#3889</a>)</li>
 	<li>Fix some b'abcd' noise in logs and metrics (<a href="https://github.com/matrix-org/synapse/issues/3892">#3892</a>, <a href="https://github.com/matrix-org/synapse/issues/3895">#3895</a>)</li>
 	<li>When we join a room, always try the server we used for the alias lookup first, to avoid unresponsive and out-of-date servers. (<a href="https://github.com/matrix-org/synapse/issues/3899">#3899</a>)</li>
 	<li>Fix incorrect server-name indication for outgoing federation requests (<a href="https://github.com/matrix-org/synapse/issues/3907">#3907</a>)</li>
 	<li>Fix adding client IPs to the database failing on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3908">#3908</a>)</li>
 	<li>Fix bug where things occasionally were not being timed out correctly. (<a href="https://github.com/matrix-org/synapse/issues/3910">#3910</a>)</li>
 	<li>Fix bug where outbound federation would stop talking to some servers when using workers (<a href="https://github.com/matrix-org/synapse/issues/3914">#3914</a>)</li>
 	<li>Fix some instances of ExpiringCache not expiring cache items (<a href="https://github.com/matrix-org/synapse/issues/3932">#3932</a>, <a href="https://github.com/matrix-org/synapse/issues/3980">#3980</a>)</li>
 	<li>Fix out-of-bounds error when LLing yourself (<a href="https://github.com/matrix-org/synapse/issues/3936">#3936</a>)</li>
 	<li>Sending server notices regarding user consent now works on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3938">#3938</a>)</li>
 	<li>Fix exceptions from metrics handler (<a href="https://github.com/matrix-org/synapse/issues/3956">#3956</a>)</li>
 	<li>Fix error message for events with m.room.create missing from auth_events (<a href="https://github.com/matrix-org/synapse/issues/3960">#3960</a>)</li>
 	<li>Fix errors due to concurrent monthly_active_user upserts (<a href="https://github.com/matrix-org/synapse/issues/3961">#3961</a>)</li>
 	<li>Fix exceptions when processing incoming events over federation (<a href="https://github.com/matrix-org/synapse/issues/3968">#3968</a>)</li>
 	<li>Replaced all occurrences of e.message with str(e). Contributed by Schnuffle (<a href="https://github.com/matrix-org/synapse/issues/3970">#3970</a>)</li>
 	<li>Fix lazy loaded sync in the presence of rejected state events (<a href="https://github.com/matrix-org/synapse/issues/3986">#3986</a>)</li>
 	<li>Fix error when logging incomplete HTTP requests (<a href="https://github.com/matrix-org/synapse/issues/3990">#3990</a>)</li>
</ul>
<h4>Internal Changes</h4>
<ul>
 	<li>Unit tests can now be run under PostgreSQL in Docker using <code>test_postgresql.sh</code>. (<a href="https://github.com/matrix-org/synapse/issues/3699">#3699</a>)</li>
 	<li>Speed up calculation of typing updates for replication (<a href="https://github.com/matrix-org/synapse/issues/3794">#3794</a>)</li>
 	<li>Remove documentation regarding installation on Cygwin, the use of WSL is recommended instead. (<a href="https://github.com/matrix-org/synapse/issues/3873">#3873</a>)</li>
 	<li>Fix typo in README, synaspse -&gt; synapse (<a href="https://github.com/matrix-org/synapse/issues/3897">#3897</a>)</li>
 	<li>Increase the timeout when filling missing events in federation requests (<a href="https://github.com/matrix-org/synapse/issues/3903">#3903</a>)</li>
 	<li>Improve the logging when handling a federation transaction (<a href="https://github.com/matrix-org/synapse/issues/3904">#3904</a>, <a href="https://github.com/matrix-org/synapse/issues/3966">#3966</a>)</li>
 	<li>Improve logging of outbound federation requests (<a href="https://github.com/matrix-org/synapse/issues/3906">#3906</a>, <a href="https://github.com/matrix-org/synapse/issues/3909">#3909</a>)</li>
 	<li>Fix the docker image building on python 3 (<a href="https://github.com/matrix-org/synapse/issues/3911">#3911</a>)</li>
 	<li>Add a regression test for logging failed HTTP requests on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3912">#3912</a>)</li>
 	<li>Comments and interface cleanup for on_receive_pdu (<a href="https://github.com/matrix-org/synapse/issues/3924">#3924</a>)</li>
 	<li>Fix spurious exceptions when remote http client closes connection (<a href="https://github.com/matrix-org/synapse/issues/3925">#3925</a>)</li>
 	<li>Log exceptions thrown by background tasks (<a href="https://github.com/matrix-org/synapse/issues/3927">#3927</a>)</li>
 	<li>Add a cache to get_destination_retry_timings (<a href="https://github.com/matrix-org/synapse/issues/3933">#3933</a>, <a href="https://github.com/matrix-org/synapse/issues/3991">#3991</a>)</li>
 	<li>Automate pushes to docker hub (<a href="https://github.com/matrix-org/synapse/issues/3946">#3946</a>)</li>
 	<li>Require attrs 16.0.0 or later (<a href="https://github.com/matrix-org/synapse/issues/3947">#3947</a>)</li>
 	<li>Fix incompatibility with python3 on alpine (<a href="https://github.com/matrix-org/synapse/issues/3948">#3948</a>)</li>
 	<li>Run the test suite on the oldest supported versions of our dependencies in CI. (<a href="https://github.com/matrix-org/synapse/issues/3952">#3952</a>)</li>
 	<li>CircleCI now only runs merged jobs on PRs, and commit jobs on develop, master, and release branches. (<a href="https://github.com/matrix-org/synapse/issues/3957">#3957</a>)</li>
 	<li>Fix docstrings and add tests for state store methods (<a href="https://github.com/matrix-org/synapse/issues/3958">#3958</a>)</li>
 	<li>fix docstring for FederationClient.get_state_for_room (<a href="https://github.com/matrix-org/synapse/issues/3963">#3963</a>)</li>
 	<li>Run notify_app_services as a bg process (<a href="https://github.com/matrix-org/synapse/issues/3965">#3965</a>)</li>
 	<li>Clarifications in FederationHandler (<a href="https://github.com/matrix-org/synapse/issues/3967">#3967</a>)</li>
 	<li>Further reduce the docker image size (<a href="https://github.com/matrix-org/synapse/issues/3972">#3972</a>)</li>
 	<li>Build py3 docker images for docker hub too (<a href="https://github.com/matrix-org/synapse/issues/3976">#3976</a>)</li>
 	<li>Updated the installation instructions to point to the matrix-synapse package on PyPI. (<a href="https://github.com/matrix-org/synapse/issues/3985">#3985</a>)</li>
 	<li>Disable USE_FROZEN_DICTS for unittests by default. (<a href="https://github.com/matrix-org/synapse/issues/3987">#3987</a>)</li>
 	<li>Remove unused Jenkins and development related files from the repo. (<a href="https://github.com/matrix-org/synapse/issues/3988">#3988</a>)</li>
 	<li>Improve stacktraces in certain exceptions in the logs (<a href="https://github.com/matrix-org/synapse/issues/3989">#3989</a>)</li>
 	<li>Pin to prometheus_client&lt;0.4 to avoid renaming all of our metrics (<a href="https://github.com/matrix-org/synapse/issues/4002">#4002</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;28&#x2F;this-week-in-matrix-2018-09-28&#x2F;" title="This Week in Matrix 2018-09-28">This Week in Matrix 2018-09-28</a></h1>
            <span>
                28.09.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="dsntraveller">DSN Traveller</h2>
If you've spent any time using Matrix public rooms, you've probably seen the bot <code>DSN Traveller</code>. This is a post-grad project from Florian Jacob, an informatics student at the <a href="https://kit.edu/">Karlsruhe Institute for Technology</a>. This week, Florian handed in his thesis on Matrix!
<blockquote>In summary, I could show that Matrix has few large but many small servers. Large servers reduce the overall network load, but a significant fraction of the load is concentrated in them. Introducing more small servers would further increase the load concentration. The Matrix event graph as a Conflict-Free Replicated Data Type showed to be well-suited for reliable messaging and history synchronization, and is applicable beyond Matrix.<br />I'm now working on a scientific paper on the results, which will boil down the more than 80 pages of the thesis to something much more digestible. ? You'll hear it in TWIM when that is finished!<br /><br />Room for discussions: <a href="https://matrix.to/#/#dsn-traveller:matrix.org">#dsn-traveller:matrix.org</a><br />Website with more information on the DSN Traveller: <a href="https://dsn-traveller.dsn.scc.kit.edu/">https://dsn-traveller.dsn.scc.kit.edu/</a></blockquote><br />This really is exciting stuff! The thesis will be made available online in the future (we'll post it here.) Florian is also hoping to continue his work into Matrix research:<br /><blockquote>I'm currently in the process of trying to secure funding for a doctorate with Matrix as the topic, as that's where I can proof experience.</blockquote>
<a href="/blog/wp-content/uploads/2018/09/dsn_logo.png"><img class="alignnone size-full wp-image-3604" src="/blog/wp-content/uploads/2018/09/dsn_logo.png" alt="" width="136" height="128" /></a>
<h3 id="opensciencematrixvgorcumcom">#open-science:matrix.vgorcum.com</h3>
All this talk of academia led <a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a> and <a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> to create <a href="https://matrix.to/#/#open-science:matrix.vgorcum.com">#open-science:matrix.vgorcum.com</a>, room for discussion of Open Science topics.
<h2 id="halfshotircconnectiontracker">Half-Shot IRC Connection Tracker</h2>
As you may know, although he's now back studying for the final year of his Computer Science degree, <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> will continue to dedicate some time to bridge maintenance. He's been working on <a href="https://github.com/Half-Shot/irc-conntrack/">IRC Connection Tracker</a>, the next gen bridge for Matrix-IRC:
<blockquote>The IRC connection tracker has had yet more code and love applied to it. The headline changes are:
<ul>
 	<li>We now have a fully working IRC client that can connect to an IRCd, join channels and chat. These client's persist over &gt; the lifetime of the service.</li>
 	<li>There is a tool included with the service <code>ircctl</code> which allows you to spawn and use connections en masse. It also lets &gt; you list the state of the currently connected clients.</li>
 	<li>Work has just begun on a client library for connecting this up to the bridge, but should be swiftly completed thanks to…</li>
 	<li>A brand new spec website in the works for describing the protocol (thanks Brendan for pointing me in the right direction)</li>
</ul>
</blockquote>
Spec docs: <a href="https://half-shot.github.io/irc-conntrack/">https://half-shot.github.io/irc-conntrack/</a>
Repo: <a href="https://github.com/Half-Shot/irc-conntrack/">https://github.com/Half-Shot/irc-conntrack/</a>
Room: <a href="https://matrix.to/#/#irc-conntrack:half-shot.uk">#irc-conntrack:half-shot.uk</a>
<h2 id="fractal">Fractal</h2>
<a href="@afranke:matrix.org">Alexandre Franke</a> has the handle on <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>, the Matrix client for GNOME:
<blockquote>This week in Fractal, more refactoring and small bugfixes. About 50 commits by 5 people, one of which made their first contributions this week (congrats Rasmus!).</blockquote><br /><a href="https://matrix.to/#/@iamjsparber:matrix.org">Julian Sparber</a>, who was part of <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> on the Fractal team, has been working on Room History:<br /><blockquote>The room history refactor I was working on for fractal is upstream, now we can start to improve how messages are displayed and make the loading of older messages better.</blockquote><br />Julian is also pleased to still be heavily involved with Fractal outside GSOC.<br /><h2 id="synapse03351releasedplusdockerimagesavailable">Synapse</h2><br /><a href="/blog/2018/09/24/synapse-0-33-5-released/">Synapse 0.33.5.1</a> was released with Py3 beta support:<br /><blockquote>0.33.5.1 is an interesting release. On the one hand it contains the usual bug fixes and performance improvements of a point release, but it also our first versioned release where monolith installs can be run under Python 3.5 and 3.6! Python 3 support is very much in beta, so please be cautious but if you would like to try running under a py3 environment we'd love to get your feedback.</blockquote><br />Check out <a href="https://hub.docker.com/r/avhost/docker-matrix/tags/">https://hub.docker.com/r/avhost/docker-matrix/tags/</a> for Python 3 docker images of Synapse, look for the <code>v0.33.5.1.dev.py3</code> tag.<br />Says <a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a>:<br /><blockquote>it is functional, but much like python3 support it is still a work in progress, hence the larger size</blockquote>
<h2 id="matrixonhyperboria">Matrix on Hyperboria</h2>
<a href="https://matrix.to/#/@jan.christian:gruenhage.xyz">jcg</a> has set up hypertrix.ovh:
<blockquote>I spent last night setting up hypertrix.ovh, a matrix server only listening on <a href="https://docs.meshwith.me/">Hyperboria</a>, a cjdns based end-to-end encrypted IPv6 overlay mesh network. I'd be glad if someone could be found to peer and federate with me there! Registration is open, but your client needs to be connected to Hyperboria to be able to talk to the server.</blockquote>
If you are currently using Hyperboria, go join hypertrix.ovh, or start your matrix server listening on it, and go chat to JC!
<h2 id="seaglass">Seaglass</h2>
Lots of discussion about this project, specifically the question of how to efficiently render Rich Text. macOS does not make this easy, so a solution being considered is to use a WebKit for room rendering:
<blockquote>WebKit has the advantage of being super super fast on macOS, and also very low overheads<br />The current approach uses Cocoa NSTableViews and it's horrible because Apple clearly couldn't decide how they wanted them to work and therefore it's not very optimised<br />Moving to WebKit only adds about 16mb to the RAM usage and redraws far faster than the NSTableViews can when resizing etc, and we'll save a lot on the text formatting too which currently is a bit of a mess</blockquote>
<h2 id="cadairandhalfshotontheslackbridge">Cadair and Half-Shot on the Slack Bridge</h2>
<a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> has been helping <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> with bridge maintenance, specifically by <a href="https://github.com/matrix-org/matrix-appservice-slack/pull/91">contributing to matrix-appservice-slack</a>.
<p><a href="https://github.com/matrix-org/matrix-appservice-slack">matrix-appservice-slack</a> is a Node project, built on <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a>, which is designed to bridge messages and metadata between Slack and Matrix. These updates:</p>
<ul>
 	<li>Improves pills substitutions to use the new slack mentions</li>
 	<li>Add Gitter style edit bridging</li>
 	<li>Adds a config option to specify the directory the user-store.db and room-store.db files go in</li>
 	<li>Converts slack snippets to inline code dumps in matrix</li>
</ul>
<h2 id="ma1utatestsforclient">ma1uta tests for client</h2>
<a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> has been adding tests to <a href="https://github.com/ma1uta/jmsdk">jmsdk</a>.
<h2 id="spectral">Spectral</h2>
<a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> has been working on the client formerly-known-as-Matrique: <a href="https://gitlab.com/spectral-im/spectral">Spectral</a>:
<blockquote>I added elevation shadows for some components, such as message bubble, panels, etc.</blockquote>
<a href="/blog/wp-content/uploads/2018/09/spectral-raised.png"><img class="alignnone size-full wp-image-3603" src="/blog/wp-content/uploads/2018/09/spectral-raised.png" alt="" width="960" height="674" /></a>
<h2 id="nativetoronionserviceenabledformatrixorgandriotim">Native Tor onion service enabled for matrix.org and riot.im</h2>
Cloudflare now provide Onion routing, this service has been enabled for matrix.org and riot.im. Cloudflare have a thorough explanation which is worth reading: <a href="https://blog.cloudflare.com/cloudflare-onion-service/">https://blog.cloudflare.com/cloudflare-onion-service/</a>.
<blockquote class="twitter-tweet" data-lang="en">
<p dir="ltr" lang="en">We just turned on the new native Tor onion service support for <a href="https://t.co/vidAnPoIo2">https://t.co/vidAnPoIo2</a> &amp; <a href="https://t.co/UIjS6gDkvf">https://t.co/UIjS6gDkvf</a> in cloudflare; feedback welcome! <a href="https://t.co/keXC4bjo5F">https://t.co/keXC4bjo5F</a> <a href="https://t.co/nTRmGHCt8P">pic.twitter.com/nTRmGHCt8P</a></p>
— Matrix (@matrixdotorg) <a href="https://twitter.com/matrixdotorg/status/1045612532038344704?ref_src=twsrc%5Etfw">September 28, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<h2>Spec</h2>
September was mainly spent cleaning up loose ends on the Spec after <a href="/blog/2018/09/03/matrix-spec-update-august-2018/">all the releases at the end of August</a>, and catching up on the never-ending maintenance burden of improving Synapse.  However, in October the plan is to to go back again to working full out on the S2S r0 release. Wish us luck...
<h2>Riot</h2>
<ul>
 	<li>Lazy loading members is now on by default on riot.im/develop - reducing Riot's RAM by 3-5x.  Please give it a go and test it before we ship it in Riot 0.17 (probably next week) so we can iron out any last bugs (which will probably look like user profiles going missing)</li>
 	<li>Lazy loading also ships by default in Riot/iOS in Testflight 0.7.4 - if you want in on Testflight let us know in #riot-ios:matrix.org and we'll share an invite link!</li>
 	<li>Lazy loading in Riot/Android coming real soon now; it's behind a labs flag on the develop branch if you want to experiment.</li>
 	<li>Travis has started attacking the Riot/Web '<a href="https://github.com/vector-im/riot-web/projects/12">First Impressions</a>' project (starting with unbreaking onboarding in Riot/Web when GDPR consent is enabled)</li>
 	<li>Lots and lots of UX work from Nad on E2E, Communities, Onboarding and the overall redesign, complete with a <a href="https://twitter.com/RiotChat/status/1044609832609861632">redesign workshop</a> with Jouni.</li>
 	<li>Aiming for end of Oct for first cut of redesign to be live as an experimental branch on riot.im.</li>
 	<li>Lots and lots of E2E implementation work in general; backups, cross-signing, and verification.</li>
</ul>
<h2>The end is nigh!</h2>
But only for this blog post! Check out Matrix Live below, and we'll see you back here next week. :D
<p>https://youtu.be/zo4IH4nUQ9w</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;24&#x2F;synapse-0-33-5-released&#x2F;" title="Synapse 0.33.5.1 released!">Synapse 0.33.5.1 released!</a></h1>
            <span>
                24.09.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>Folks, Synapse 0.33.5.1 is here.</p>
<p>0.33.5.1 is an interesting release. On the one hand it contains the usual bug fixes and performance improvements of a point release, but it also our first versioned release where monolith installs can be run under Python 3.5 and 3.6! Python 3 support is very much in beta, so please be cautious but if you would like to try running under a py3 environment we'd love to get your feedback.</p>
<p>We've been running it ourselves for the past few weeks, and feel pretty good about it, not least the 2-3x improvement in RAM usage.</p>
<p>Currently the only way to run under python 3 is to download via github, there is no deb support as yet, though this will come as soon as we are confident to recommend python 3 as the default version.</p>
<p>We'll be blogging about our porting project in more detail in the future, so watch this space - exciting times!</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.5.1">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, for the first time, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>.</p>
<h3></h3>
<h2>Synapse 0.33.5.1</h2>
&nbsp;
<h3>Internal Changes</h3>
<ul>
 	<li>Fix incompatibility with older Twisted version in tests. Thanks <a class="user-mention" href="https://github.com/OlegGirko" data-hovercard-user-id="6013515" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@OlegGirko</a>! (<a href="https://github.com/matrix-org/synapse/issues/3940">#3940</a>)</li>
</ul>
<h2>Synapse 0.33.5</h2>
&nbsp;
<h3>Features</h3>
<ul>
 	<li>Python 3.5 and 3.6 support is now in beta. (<a href="https://github.com/matrix-org/synapse/issues/3576">#3576</a>)</li>
 	<li>Implement <code>event_format</code> filter param in <code>/sync</code> (<a href="https://github.com/matrix-org/synapse/issues/3790">#3790</a>)</li>
 	<li>Add synapse_admin_mau:registered_reserved_users metric to expose number of real reaserved users (<a href="https://github.com/matrix-org/synapse/issues/3846">#3846</a>)</li>
</ul>
<h3>Bugfixes</h3>
<ul>
 	<li>Remove connection ID for replication prometheus metrics, as it creates a large number of new series. (<a href="https://github.com/matrix-org/synapse/issues/3788">#3788</a>)</li>
 	<li>guest users should not be part of mau total (<a href="https://github.com/matrix-org/synapse/issues/3800">#3800</a>)</li>
 	<li>Bump dependency on pyopenssl 16.x, to avoid incompatibility with recent Twisted. (<a href="https://github.com/matrix-org/synapse/issues/3804">#3804</a>)</li>
 	<li>Fix existing room tags not coming down sync when joining a room (<a href="https://github.com/matrix-org/synapse/issues/3810">#3810</a>)</li>
 	<li>Fix jwt import check (<a href="https://github.com/matrix-org/synapse/issues/3824">#3824</a>)</li>
 	<li>fix VOIP crashes under Python 3 (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/issues/3821" data-error-text="Failed to load issue title" data-id="358016305" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3821">#3821</a>) (<a href="https://github.com/matrix-org/synapse/issues/3835">#3835</a>)</li>
 	<li>Fix manhole so that it works with latest openssh clients (<a href="https://github.com/matrix-org/synapse/issues/3841">#3841</a>)</li>
 	<li>Fix outbound requests occasionally wedging, which can result in federation breaking between servers. (<a href="https://github.com/matrix-org/synapse/issues/3845">#3845</a>)</li>
 	<li>Show heroes if room name/canonical alias has been deleted (<a href="https://github.com/matrix-org/synapse/issues/3851">#3851</a>)</li>
 	<li>Fix handling of redacted events from federation (<a href="https://github.com/matrix-org/synapse/issues/3859">#3859</a>)</li>
 	<li>(<a href="https://github.com/matrix-org/synapse/issues/3874">#3874</a>)</li>
 	<li>Mitigate outbound federation randomly becoming wedged (<a href="https://github.com/matrix-org/synapse/issues/3875">#3875</a>)</li>
</ul>
<h3>Internal Changes</h3>
<ul>
 	<li>CircleCI tests now run on the potential merge of a PR. (<a href="https://github.com/matrix-org/synapse/issues/3704">#3704</a>)</li>
 	<li>http/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3771">#3771</a>)</li>
 	<li>Improve human readable error messages for threepid registration/account update (<a href="https://github.com/matrix-org/synapse/issues/3789">#3789</a>)</li>
 	<li>Make /sync slightly faster by avoiding needless copies (<a href="https://github.com/matrix-org/synapse/issues/3795">#3795</a>)</li>
 	<li>handlers/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3803">#3803</a>)</li>
 	<li>Limit the number of PDUs/EDUs per federation transaction (<a href="https://github.com/matrix-org/synapse/issues/3805">#3805</a>)</li>
 	<li>Only start postgres instance for postgres tests on Travis CI (<a href="https://github.com/matrix-org/synapse/issues/3806">#3806</a>)</li>
 	<li>tests/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3808">#3808</a>)</li>
 	<li>crypto/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3822">#3822</a>)</li>
 	<li>rest/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3823">#3823</a>)</li>
 	<li>add some logging for the keyring queue (<a href="https://github.com/matrix-org/synapse/issues/3826">#3826</a>)</li>
 	<li>speed up lazy loading by 2-3x (<a href="https://github.com/matrix-org/synapse/issues/3827">#3827</a>)</li>
 	<li>Improved Dockerfile to remove build requirements after building reducing the image size. (<a href="https://github.com/matrix-org/synapse/issues/3834">#3834</a>)</li>
 	<li>Disable lazy loading for incremental syncs for now (<a href="https://github.com/matrix-org/synapse/issues/3840">#3840</a>)</li>
 	<li>federation/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3847">#3847</a>)</li>
 	<li>Log when we retry outbound requests (<a href="https://github.com/matrix-org/synapse/issues/3853">#3853</a>)</li>
 	<li>Removed some excess logging messages. (<a href="https://github.com/matrix-org/synapse/issues/3855">#3855</a>)</li>
 	<li>Speed up purge history for rooms that have been previously purged (<a href="https://github.com/matrix-org/synapse/issues/3856">#3856</a>)</li>
 	<li>Refactor some HTTP timeout code. (<a href="https://github.com/matrix-org/synapse/issues/3857">#3857</a>)</li>
 	<li>Fix running merged builds on CircleCI (<a href="https://github.com/matrix-org/synapse/issues/3858">#3858</a>)</li>
 	<li>Fix typo in replication stream exception. (<a href="https://github.com/matrix-org/synapse/issues/3860">#3860</a>)</li>
 	<li>Add in flight real time metrics for Measure blocks (<a href="https://github.com/matrix-org/synapse/issues/3871">#3871</a>)</li>
 	<li>Disable buffering and automatic retrying in treq requests to prevent timeouts. (<a href="https://github.com/matrix-org/synapse/issues/3872">#3872</a>)</li>
 	<li>mention jemalloc in the README (<a href="https://github.com/matrix-org/synapse/issues/3877">#3877</a>)</li>
 	<li>Remove unmaintained "nuke-room-from-db.sh" script (<a href="https://github.com/matrix-org/synapse/issues/3888">#3888</a>)</li>
</ul>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;35&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">36 / 57</span>
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;37&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
