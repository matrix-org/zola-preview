<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    </head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;13&#x2F;security-release-of-matrix-appservice-irc-0-35-0-high-severity&#x2F;" title="Security release of matrix-appservice-irc 0.35.0 (High severity)">Security release of matrix-appservice-irc 0.35.0 (High severity)</a></h1>
            <span>
                13.09.2022 16:56
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/denis-kasak-dkasak">
                    Denis Kasak (dkasak)
                </a>
            </span>
            
        </header>
        <div>
            <p>We've released a new version of matrix.org's node-irc 1.3.0 and
matrix-appservice-irc 0.35.0, to patch several security issues:</p>
<ul>
<li>IRC mode operator confusion (Low, <a href="https://github.com/matrix-org/matrix-appservice-irc/security/advisories/GHSA-cq7q-5c67-w39w">GHSA-cq7q-5c67-w39w</a>)</li>
<li>Parsing issue leading to room takeovers (High, <a href="https://github.com/matrix-org/matrix-appservice-irc/security/advisories/GHSA-xvqg-mv25-rwvw">GHSA-xvqg-mv25-rwvw</a>)</li>
<li>Undisclosed issue (Moderate, <a href="https://github.com/matrix-org/matrix-appservice-irc/security/advisories/GHSA-r3p6-cg2c-c4qw">GHSA-r3p6-cg2c-c4qw</a>)</li>
</ul>
<p>The details of the final vulnerability will be released at a later date,
pending an audit of the codebase to ensure it's not affected by other similar
vulnerabilities.</p>
<p>The vulnerabilities have been patched in node-irc version 1.3.0 and
matrix-appservice-irc 0.35.0. You can get the release on
<a href="https://github.com/matrix-org/matrix-appservice-irc/releases">Github</a>.</p>
<p>The bridges running on the Libera Chat, OFTC and other networks bridged by the
Matrix.org Foundation have been patched.</p>
<p><strong>Please upgrade your IRC bridge as soon as possible.</strong></p>
<p>The above vulnerabilities were reported by <a href="https://valentin-lorentz.fr/">Val
Lorentz</a>. Thank you!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;09&#x2F;this-week-in-matrix-2022-09-09&#x2F;" title="This Week in Matrix 2022-09-09">This Week in Matrix 2022-09-09</a></h1>
            <span>
                09.09.2022 19:45
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/thib">
                    Thib
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/wFSmDn-PlYg" loading="lazy" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>A short Matrix Live where we can see the goodness coming to Element very shortly!</p>

            <p><a href="/blog/2022/09/09/this-week-in-matrix-2022-09-09/#continue-reading">Continue reading…</a></p>
            
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;02&#x2F;synapse-1-66-released&#x2F;" title="Synapse 1.66 released">Synapse 1.66 released</a></h1>
            <span>
                02.09.2022 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/brendan-abolivier">
                    Brendan Abolivier
                </a>
            </span>
            
        </header>
        <div>
            <p>Hey all, we've just released <a href="https://github.com/matrix-org/synapse/releases/tag/v1.66.0">Synapse 1.66</a>! Let's have a
look at what's inside this release.</p>

            <p><a href="/blog/2022/09/02/synapse-1-66-released/#continue-reading">Continue reading…</a></p>
            
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;02&#x2F;this-week-in-matrix-2022-09-02&#x2F;" title="This Week in Matrix 2022-09-02">This Week in Matrix 2022-09-02</a></h1>
            <span>
                02.09.2022 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/thib">
                    Thib
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/RzhMDi1aNEM" loading="lazy" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

            <p><a href="/blog/2022/09/02/this-week-in-matrix-2022-09-02/#continue-reading">Continue reading…</a></p>
            
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;31&#x2F;security-releases-matrix-js-sdk-19-4-0-and-matrix-react-sdk-3-53-0&#x2F;" title="Security releases: matrix-js-sdk 19.4.0 and matrix-react-sdk 3.53.0">Security releases: matrix-js-sdk 19.4.0 and matrix-react-sdk 3.53.0</a></h1>
            <span>
                31.08.2022 18:13
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/denis-kasak-dkasak">
                    Denis Kasak (dkasak)
                </a>
            </span>
            
        </header>
        <div>
            <p>Today we are issuing security releases of matrix-js-sdk and matrix-react-sdk to
patch a couple of High severity vulnerabilities (reserved as
<a href="https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=CVE%2D2022%2D36059">CVE-2022-36059</a>
for the matrix-js-sdk and
<a href="https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=CVE%2D2022%2D36060">CVE-2022-36060</a>
for the matrix-react-sdk).</p>
<p>Affected clients include those which depend on the affected libraries, such as
Element Web/Desktop and Cinny. Releases of the affected clients will follow
shortly. We advise users of those clients to upgrade at their earliest
convenience.</p>
<p>The vulnerabilities give an adversary who you share a room with the ability to
carry out a denial-of-service attack against the affected clients, making it
not show all of a user's rooms or spaces and/or causing minor temporary
corruption.</p>
<p>The full vulnerability details will be disclosed at a later date, to give
people time to upgrade and us to perform a more thorough audit of the codebase.</p>
<p>Note that while the vulnerability was to our knowledge never exploited
maliciously, some unintentional public testing has left some people affected by
the bug. We made a best effort to sanitize this to stop the breakage. If you
are affected, you may still need to clear the cache and reload your Matrix
client for it to take effect.</p>
<p>We thank <a href="https://valentin-lorentz.fr/">Val Lorentz</a> who discovered and
reported the vulnerability over the weekend.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;26&#x2F;this-week-in-matrix-2022-08-26&#x2F;" title="This Week in Matrix 2022-08-26">This Week in Matrix 2022-08-26</a></h1>
            <span>
                26.08.2022 19:03
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/brendan-abolivier">
                    Brendan Abolivier
                </a>
            </span>
            <br>
            <small>Last update: 26.08.2022 18:43</small>
        </header>
        <div>
            <p>Happy TWIMday everyone! Thib is away this week again, so I'm covering for him as your host in this edition of This Week In Matrix.</p>
<h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/eUBH_pucv4g" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Following up on <a href="https://www.youtube.com/watch?v=JCsw1bbBjAM">last week's tutorial</a> about using Docker Compose to install Synapse, this week Thib explains how to use Ansible to deploy your own Matrix homeserver.</p>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> 🌡️</h2>
<p><a href="https://matrix.to/#/@travis:t2l.io">TravisR</a> reports</p>
<blockquote>
<p>Earlier in the year, <a href="https://matrix.org/blog/2022/03/04/this-week-in-matrix-2022-03-04#dept-of-status-of-matrix-%EF%B8%8F">t2bot.io passed 1 Million known rooms</a> and now it's passed 10 Million bridged users (10,039,915 users to be exact, at time of writing). Most of these users will be people who have participated in a channel/chat on Discord or Telegram that was bridged to Matrix through t2bot.io's free service, with about 500 thousand being active each month.</p>
<p>Approximately 8 Million of the users are from Telegram, covering about 11% of all Telegram users (previously 15% based on information available at the time). The remaining 2 Million are Discord users, roughly 0.5% of Discord's user base. For perspective, t2bot.io has just over 683 Million events in the database and is bridging between 30 and 40 thousand people a day.</p>
<p>Like last time, this is just a milestone update, though it's also a good reminder to host your own server if you can. Element's own <a href="https://element.io/matrix-services">hosting platform</a> is a great option if you'd like to have a server without running it yourself, and <a href="https://www.beeper.com/">Beeper</a> offers a richer bridging experience than t2bot.io can feasibly provide. If you'd like to go down the self-hosting route, check out Thib's video guide on hosting synapse or <a href="https://www.youtube.com/watch?v=JCsw1bbBjAM">last week's Matrix Live</a> for a better understanding of what hosting Synapse actually means.</p>
<p>As for an interesting statistic: despite not having much functionality that deals with Spaces, t2bot.io can see 2687 Spaces from the wider world. The plan in the coming months is to support a way to bridge a whole Discord server to a Matrix Space, making this statistic hopefully more interesting as time goes on.</p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://matrix.to/#/@hubert:uhoreg.ca">uhoreg</a> reports</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://matrix.org/docs/spec/proposals.</p>
<h2 id="msc-status">MSC Status</h2>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3874">MSC3874: Filtering threads from the /messages endpoint</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3873">MSC3873: event_match dotted keys</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3872">MSC3872: Order of rooms in Spaces</a></li>
</ul>
<h2 id="spec-core-team">Spec Core Team</h2>
<p>The Spec Core Team has been continuing to push forward on the spec.  Several new MSCs have been opened recently.  The Spec Core Team is available in <a href="https://matrix.to/#/#sct-office:matrix.org">#sct-office:matrix.org</a> when  MSC authors think that they are ready for primetime.</p>
<h2 id="random-msc-of-the-week">Random MSC of the Week</h2>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2162">MSC2162: Signaling Errors at Bridges</a>!</p>
<p>Bridges sometimes are unable to relay messages to the remote service for one reason or another.  This MSC proposes a way to allow bridges to indicate that a message failed to be delivered, and allow users to tell the bridge to retry.
<img src="/blog/img/lbgTGgCRqxbtOGGMcwQnrvQP.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-outreachy-mortar-board">Dept of Outreachy 🎓️</h2>
<p><a href="https://matrix.to/#/@andybalaam:matrix.org">andybalaam</a> announces</p>
<blockquote>
<p>Usman's internship, working on Favourite Messages, is coming to an end! Check out <a href="https://yaya-usman.hashnode.dev/wrap-up-summary-of-my-journey-to-being-an-outreachy-intern-at-element">Usman's blog post</a> and <a href="https://www.artificialworlds.net/blog/2022/08/26/outreachy-august-2022-update/">Andy's blog post</a>! To follow progress on Favourite Messages (which is still very much a prototype), check out the tracking issue: <a href="https://github.com/vector-im/element-web/issues/22453">Tracking issue for Favourite Messages</a>. Thanks to Usman for being an awesome mentee!</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@babolivier:element.io">Brendan Abolivier</a> says</p>
<blockquote>
<p>This week we've released <a href="https://github.com/matrix-org/synapse/releases/tag/v1.66.0rc1">Synapse 1.66.0rc1</a>! This upcoming release deprecates delegating email validation to an identity server (more info <a href="https://matrix-org.github.io/synapse/v1.66/upgrade.html#upgrading-to-v1660">here</a>) and includes improved validation around user-interactive authentication, support for a couple of experimental features, as well as the usual batch of bug fixes and performance improvements 🙂</p>
<p>As always, any help with testing and feedback on this RC is appreciated! Feel free to drop any feedback or bug report in <a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a> and <a href="https://github.com/matrix-org/synapse/issues/new?assignees=&amp;labels=&amp;template=BUG_REPORT.yml">the Synapse repo</a> respectively.</p>
</blockquote>
<h3 id="dendrite-website">Dendrite (<a href="https://github.com/matrix-org/dendrite">website</a>)</h3>
<p>Second generation Matrix homeserver</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a> announces</p>
<blockquote>
<p>This week we released <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.9.5">Dendrite 0.9.5</a> which includes a number of fixes, particularly for federation:</p>
<ul>
<li>The roomserver will now correctly unreject previously rejected events if necessary when reprocessing</li>
<li>The handling of event soft-failure has been improved on the roomserver input by no longer applying rejection rules and still calculating state before the event if possible</li>
<li>The federation <code>/state</code> and <code>/state_ids</code> endpoints should now return the correct error code when the state isn't known instead of returning a HTTP 500</li>
<li>The federation <code>/event</code> should now return outlier events correctly instead of returning a HTTP 500</li>
<li>A bug in the federation backoff allowing zero intervals has been corrected</li>
<li>The <code>create-account</code> utility will no longer error if the homeserver URL ends in a trailing slash</li>
<li>A regression in <code>/sync</code> introduced in 0.9.4 should be fixed</li>
</ul>
<p>As always, please feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for more Dendrite-related discussion.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="matrix-docker-ansible-deploy-website">matrix-docker-ansible-deploy (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">website</a>)</h3>
<p>Matrix server setup using Ansible and Docker</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> reports</p>
<blockquote>
<p>Thanks to <a href="https://gitlab.com/etke.cc">Aine</a> of <a href="https://etke.cc/">etke.cc</a>, <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> can now set up the new <a href="https://gitlab.com/etke.cc/postmoogle">Postmoogle</a> email bridge/bot. Postmoogle is like the <a href="https://github.com/devture/email2matrix">email2matrix bridge</a> (also already supported by the playbook), but more capable and with the intention to soon support <em>sending</em> emails, not just receiving.</p>
<p>See our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bot-postmoogle.md">Setting up Postmoogle email bridging</a> documentation to get started.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<p><a href="https://matrix.to/#/@aine:etke.cc">Aine</a> reports</p>
<blockquote>
<p>follow-up to Slavi's announcement: Postmoogle is here!</p>
<p>Actually, he explained it pretty good, so here are some additional links</p>
<p><a href="https://gitlab.com/etke.cc/postmoogle#roadmap">Source code and Roadmap with implemented and planned features</a> and as usual, say hi in the <a href="https://matrix.to/#/#postmoogle:etke.cc">#postmoogle:etke.cc</a></p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="quadrix-website">Quadrix (<a href="https://github.com/alariej/quadrix">website</a>)</h3>
<p>A Minimal, simple, multi-platform chat client for the Matrix protocol.</p>
<p><a href="https://matrix.to/#/@alariej:matrix.org">JFA</a> says</p>
<blockquote>
<p>Quadrix v1.2.5 has been released! The update is already available for Linux, MacOS and iOS. The Windows and Android updates are awaiting approval from the respective stores. This release has mostly &quot;under the hood&quot; improvements (upgrade to React Native 0.69, React 18 and other key dependencies), but also fixes a few bugs and brings minor UI improvements.</p>
<p>Great news: Quadrix finally made it to https://matrix.org/clients/ :-) Many thanks to @madlittlemods:matrix.org!!!</p>
<p>Please leave feedback/comments at <a href="https://matrix.to/#/#quadrix:matrix.org">#quadrix:matrix.org</a> or in the issues at https://github.com/alariej/quadrix (stars welcome :-))</p>
</blockquote>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@kittykat:matrix.org">kittykat</a> says</p>
<blockquote>
<ul>
<li>Our <a href="https://github.com/vector-im/element-meta/pull/216">code style guide</a> has now finished review and we are now working on updating <a href="https://github.com/matrix-org/eslint-plugin-matrix-org">eslint-plugin-matrix-org</a> to match it</li>
<li>We will be release an RC2 to fix <a href="https://github.com/matrix-org/matrix-react-sdk/pull/9219">a regression around progress bars</a></li>
</ul>
<p>In labs (you can enable labs features in settings on develop.element.io or on Nightly):</p>
<ul>
<li>We’re working hard on updating Threads, squashing bugs and improving performance. We have several MSCs open introducing new functionality to read receipts so that notifications work better than ever.</li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@stefan.ceriu:matrix.org">Ștefan</a> reports</p>
<blockquote>
<ul>
<li>We’re working hard on making the new layout ready for general use, squashing bugs and taking names until everything is in tip top shape. We have a <a href="https://testflight.apple.com/join/lCeTuDKM">test flight build</a> out: we’ve delayed the release to next week while we iron out the last creases.</li>
<li>In ElementX land we have started on adding analytics and Xcode Cloud support and have updated our logging strategy. We will also start adopting sliding sync and using the new Rust Timeline providers</li>
</ul>
</blockquote>
<h2 id="dept-of-voip-call-me-hand">Dept of VoIP 🤙</h2>
<h3 id="element-call-website">Element Call (<a href="https://call.element.io">website</a>)</h3>
<p>Native Decentralised End-to-end Encrypted Group Calls in Matrix, as a standalone web app</p>
<p><a href="https://matrix.to/#/@robin:robin.town">Robin</a> announces</p>
<blockquote>
<p>Element Call v0.2.7 and v0.2.8 have been released this past week, adding local volume control, full screen mode, audio in screen sharing and, <em>ahem</em>, fixing an embarrassing bug where we broke walkie-talkie mode... 🐑 Oh, and it's also all in TypeScript now. 🚀 https://github.com/vector-im/element-call/releases/tag/v0.2.7</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="simplematrixbotlib-website">simplematrixbotlib (<a href="https://github.com/KrazyKirby99999/simple-matrix-bot-lib">website</a>)</h3>
<p>simplematrixbotlib is an easy to use bot library for the Matrix ecosystem written in Python and based on matrix-nio.</p>
<p><a href="https://matrix.to/#/@kim:sosnowkadub.de">HarHarLinks</a> says</p>
<blockquote>
<p><a href="https://github.com/i10b/simplematrixbotlib">simplematrixbotlib</a> has reached version <a href="https://github.com/i10b/simplematrixbotlib/releases/tag/v2.7.0">2.7.0</a>, adding support for end-to-end encryption! 🎉
Come chat over at <a href="https://matrix.to/#/#simplematrixbotlib:matrix.org">#simplematrixbotlib:matrix.org</a>!</p>
<p>Here is a summary of things that have happened since we last announced v2.6.3 on this channel:</p>
<ul>
<li>🌐 The repo canonically moved to https://github.com/i10b/simplematrixbotlib, but the PyPI package remains available in the usual place.</li>
<li>🔒️ E2EE support! To enable it, simply install the optional e2ee dependencies. Find out how in <a href="https://simple-matrix-bot-lib.readthedocs.io/en/latest/manual.html#e2e-encryption">the manual</a>.</li>
<li>😄 Emoji verification support! Enable the option and you'll be able to interactively verify between the bot and your devices. (But mind that for now, <a href="https://simple-matrix-bot-lib.readthedocs.io/en/latest/manual.html#interactive-sas-verification-using-emoji">in-room verification is not supported, but only to-device</a>).</li>
<li>☝️ Fingerprint verification support! As an additional method, the bot will print it's encryption fingerprint so you can &quot;manually verify&quot;.</li>
<li>🗄️ Extensible config file! It is now easier than ever to add your own configuration options to the built-in TOML config file.</li>
<li>🧹 The usual housekeeping, bumping matrix-nio to 0.19.0.</li>
<li>🗨️ I (<a href="https://github.com/HarHarLinks">HarHarLinks</a>) will be presenting the library this weekend at <a href="https://matrix.to/#/#matrix-summit-berlin-2022:c-base.org">#matrix-summit-berlin-2022:c-base.org</a>! If you are in the Berlin 🇩🇪 area, come visit c-base!</li>
</ul>
<p>The easiest to use bot library for Matrix. Get started in just 10 lines of code:</p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>import simplematrixbotlib as botlib
</span><span>
</span><span>config = botlib.Config()
</span><span>config.emoji_verify = True
</span><span>creds = botlib.Creds(&quot;https://home.server&quot;, &quot;user&quot;, &quot;pass&quot;)
</span><span>bot = botlib.Bot(creds, config)
</span><span>
</span><span>@bot.listener.on_message_event
</span><span>async def echo(room, message):
</span><span>    if botlib.MessageMatch(room, message, bot, PREFIX).is_not_from_this_bot():
</span><span>        await bot.api.send_text_message(room.room_id, message.body)
</span><span>
</span><span>bot.run()
</span></code></pre>
</blockquote>
<h3 id="matrix-rust-sdk-website">matrix-rust-sdk (<a href="https://github.com/matrix-org/matrix-rust-sdk">website</a>)</h3>
<p>Matrix Client-Server SDK for Rust</p>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> announces</p>
<blockquote>
<p>With a few people out of office, this weeks has been one of the more quiet ones, but progress has been made non-the-less. Again a lot happens in draft PRs and the background, like with the <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/940">upcoming Timeline API</a> but also the path forward for integrating the crypto bindings into the js-sdk. There are a few notable PRs merged this week still improving the API (<a href="https://github.com/matrix-org/matrix-rust-sdk/pull/972">#972</a> and <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/973">#973</a>, <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/961">#961</a>), uprading <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/975">to latst ruma </a>, <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/969">removing dependencies (<code>parking_lot</code>)</a> to improve compile times as well as merging the <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/966">release infrastructure for crypto-js</a>.</p>
<p>👉 Wanna hack on matrix rust? Go check out our <a href="https://github.com/matrix-org/matrix-rust-sdk/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22"><code>help wanted</code> tagged issues</a> and join our matrix channel at Matrix Rust SDK.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="alertbot-website">Alertbot (<a href="https://github.com/moan0s/alertbot">website</a>)</h3>
<p><a href="https://matrix.to/#/@moanos:hyteck.de">moanos [he/him]</a> announces</p>
<blockquote>
<p>This new bot allows users to use webhooks to forward monitoring alerts (e.g from prometheus) to matrix rooms. This means that you no longer have to use E-Mail or Slack to receive alerts. To set it up visit <a href="https://github.com/moan0s/alertbot">Github Alertmanager</a> or
join <a href="https://matrix.to/#/#alertbot:hyteck.de">#alertbot:hyteck.de</a></p>
</blockquote>
<h3 id="opsdroid-website">Opsdroid (<a href="https://github.com/opsdroid/opsdroid">website</a>)</h3>
<p>An open source chat-ops bot framework</p>
<p><a href="https://matrix.to/#/@oleg:fiksel.info">Oleg</a> says</p>
<blockquote>
<p>Though this release doesn't include Matrix-related changes. Still there are new feature and fixes worth mentioning:</p>
<ul>
<li>The brand new <a href="https://github.com/opsdroid/opsdroid/pull/1875">command center backend</a> (<a href="https://docs.opsdroid.dev/en/stable/rest-api.html#command-center-methods">docs</a>) from <a href="https://github.com/FabioRosado">@FabioRosado</a></li>
<li>Several fixes to the Slack connector contributed by <a href="https://github.com/chillipeper">@chillipeper</a></li>
<li>A fix to the Telegram connector from <a href="https://github.com/D3N14L">@D3N14L</a></li>
<li>Couple of fixes to the Websocket connector from <a href="https://github.com/FabioRosado">@FabioRosado</a></li>
<li>And a lot of fixed links in the docs by <a href="https://github.com/jaas666">@jaas666</a></li>
<li>Also now the <code>dev</code> Docker image tag (<a href="https://github.com/opsdroid/opsdroid/pkgs/container/opsdroid">ghcr</a>, <a href="https://hub.docker.com/r/opsdroid/opsdroid">Docker Hub</a>) is built on every commit to main/master branch</li>
</ul>
<p>Thanks for all the contributions! 🙌
See <a href="https://github.com/opsdroid/opsdroid/releases/tag/v0.27.0">the full changelog</a> for details.</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks 🗣️</h2>
<p><a href="https://matrix.to/#/@kim:sosnowkadub.de">HarHarLinks</a> says</p>
<blockquote>
<p>Greetings to the world from <a href="https://matrix.to/#/#matrix-summit-berlin-2022:c-base.org">#matrix-summit-berlin-2022:c-base.org</a>!
<img src="/blog/img/AiDNtUzqjAXsdIjnAwlvMpqD.jpg" alt="" />
<img src="/blog/img/aLaDcRrXIzFWEdRXWPlnHQNp.jpg" alt="" /></p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰️</h2>
<p><a href="https://matrix.to/#/@array_in_a_matrix:arrayinamatrix.xyz">Array in a Matrix</a> reports</p>
<blockquote>
<p>Matrix AI that generates messages based off other users' messages using a neural network. The bot trains its GPT-2 model using the CPU and is written in JavaScript (Node.JS) and Python. The project's code can be found <a href="https://git.arrayinamatrix.xyz/array-in-a-matrix/text-gen-bot">here</a>.</p>
</blockquote>
<h3 id="minestrix-website">MinesTRIX (<a href="https://minestrix.henri2h.fr">website</a>)</h3>
<p>A privacy focused social media based on MATRIX</p>
<p><a href="https://matrix.to/#/@henri2h:carnot.cc">Henri Carnot</a> reports</p>
<blockquote>
<p>Hi all,
quite a lot happened since the last twim post a few months ago.</p>
<p>In a nutshell, we refactored the feed page and user page for a better viewing experience. We also now allow displaying and commenting post images in a dedicated view.
Also, you can now send follow request using knocking, thanks to profile as space support. (Yes, MSC is coming)</p>
<p>Finally, we have now multi account support, better stories display and refactored login and settings page.</p>
<p>Well... we almost modified everything :D</p>
<p>See more at https://minestrix.henri2h.fr/posts/</p>
<p>Stay tuned, event organization is coming soon (you can see the first implementation in the blog post.</p>
<p>PS: For those at the Matrix summit, I will be presenting it tomorrow
<img src="/blog/img/jcInmDVPCCAUYzCmHjTBMAnt.png" alt="" />
<img src="/blog/img/TLqkdBMZUvzYkYnnixSBcjqq.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-guides">Dept of Guides 🧭</h2>
<p><a href="https://matrix.to/#/@natecovington:matrix.org">Nate Covington</a> reports</p>
<blockquote>
<p>I recently made a blog post / video walk through of Matrix, hopefully it will be helpful to someone:
https://www.covingtoncreations.com/blog/what-can-matrix-do-for-your-organization</p>
</blockquote>
<h2 id="room-of-the-week-calendar">Room of the Week 📆</h2>
<p><a href="https://matrix.to/#/@ssorbom:chat.shawnsorbom.net">ssorbom ⚡️</a> says</p>
<blockquote>
<p>Have you ever felt lost in the Matrix world? Too many rooms and spaces to manage? Well, back by popular demand  (with Timo's blessing), I present, The Room of the Week! Every week we strive to highlight a room or a space that we believe deserves attention for discussing interesting going on across the Matrix Network.</p>
<p>This week on room of the week:</p>
<p>We Are All Tech enthusiasts on The Matrix Network, but do you ever experience Tech burnout? Do you ever wish you could find discussions in The Matrix Universe about things other than Tech? Well, this week we bring you a very technical solution!</p>
<p>Because we are highlighting:</p>
<p><a href="https://matrix.to/#/#non-technology:matrix.org">#non-technology:matrix.org</a></p>
<p>A space where you will find information about everything <em>except</em>  technology. Groups are helpfully categorized by Subspace, and feature discussions about everything from musical instruments to beverages. If it isn't about computing, it's there.</p>
<p>If you have a room you wish to see highlighted, join us at:
https://matrix.to/#/!bIyiUUnriVoHtYzuPS:fachschaften.org?via=chat.shawnsorbom.net&amp;via=matrix.org&amp;via=fachschaften.org
To get your favorite room of the week highlighted.</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>No ping stats while Thib is away, but you can always join the fun at <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> and <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a>!</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;19&#x2F;this-week-in-matrix-2022-08-19&#x2F;" title="This Week in Matrix 2022-08-19">This Week in Matrix 2022-08-19</a></h1>
            <span>
                19.08.2022 21:42
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/brendan-abolivier">
                    Brendan Abolivier
                </a>
            </span>
            <br>
            <small>Last update: 19.08.2022 18:52</small>
        </header>
        <div>
            <p>Hey folks, welcome to a new edition of This Week In Matrix! Thib is offline this week and next so I'll be taking over while he's away.</p>
<h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/JCsw1bbBjAM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>This week Thib (is he ever really away?) shows us how to host Synapse with Docker Compose.</p>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> 🌡️</h2>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> shared with us the Matrix Summer Special 2022! Come read all about what's happened in Matrix-land so far this year, and what's coming up next, right here: https://matrix.org/blog/2022/08/15/the-matrix-summer-special-2022</p>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://matrix.to/#/@andrewm:element.io">Andrew Morgan (anoa)</a> announces</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://matrix.org/docs/spec/proposals.</p>
<h3 id="msc-status">MSC Status</h3>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3871">MSC3871: Gappy timelines</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3870">MSC3870: Async media upload extension: upload to URL</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3869">MSC3869: Read event relations with the Widget API</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3868">[WIP] MSC3868: Room Contribution</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3866">MSC3866: <code>M_USER_AWAITING_APPROVAL</code> error code</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>Closed MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3859">MSC3859: Add well known media domain proposal</a></li>
</ul>
<h3 id="spec-updates">Spec Updates</h3>
<p>This week the Spec Core Team focused on improvements to the spec source itself. richvdh <a href="https://github.com/matrix-org/matrix-spec/pull/1211">opened a PR</a> for edit events, and yours truly did <a href="https://github.com/matrix-org/matrix-spec/pull/1210">a small PR</a> to clarify the required state of the response to <code>/_matrix/client/v3/login/</code>.</p>
<p>There's <a href="https://github.com/matrix-org/matrix-spec/issues?q=is%3Aopen+is%3Aissue+label%3Aspec-bug">a lot more open issues</a> available for people to tackle however, so feel free to get involved and help out if you have some spare time!</p>
<p>Finally other than the usual rounds of review by the team, I've been working on a spec process document that aims to explain the practical portions of the text found at https://spec.matrix.org/proposals/, but in a easily scannable manner. Look out for a PR with that in the near future.</p>
<h3 id="random-msc-of-the-week">Random MSC of the Week</h3>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2871">MSC2871: Give widgets an indication of which capabilities they were approved for</a>! What a mouthful!</p>
<p>Historically, widgets have laid outside of the spec and have only been implemented in a small subset of clients - mainly Element. As of recent weeks though, there's now a team at Element backing the feature. So exciting times ahead!</p>
<p>Regardless, let's highlight this MSC! It solves a crucial problem with a simple solution. Widgets can ask the client they're embedded in to do certain things (if granted certain capabilities), and the client, potentially after asking the user for permission, can allow or deny those actions. This MSC adds the machinery for a further step: the client will tell the widget what capabilities they requested were allowed, and which were denied.</p>
<p>I believe this spec is non-contentious, but is blocked on widgets entering the spec as a whole. Regardless, if this particular piece of the puzzle interests you, or you'd like to read all about widgets in general, the see either the MSC above or this widget spec tracking PR: https://github.com/matrix-org/matrix.org/pull/825.
<img src="/blog/img/6cadb4d50a19f02aa6ce6ecec49de71181e74b69.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@shayshay:matrix.org">Shay</a> announces</p>
<blockquote>
<p>It's the last days of summer here and we are toiling away at making Synapse faster and leaner! In addition to continued work on faster joins, we released Synapse <a href="https://matrix.org/blog/2022/08/17/synapse-1-65-released">v1.65.0</a>, with new features such as support for stable prefixes for private read receipts and a new module API method for creating a room (plus some other features!), as well as a host of bugfixes and internal changes to make Synapse faster and more stable.
Make sure to check it out!</p>
</blockquote>
<h3 id="dendrite-website">Dendrite (<a href="https://github.com/matrix-org/dendrite">website</a>)</h3>
<p>Second generation Matrix homeserver</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a> announces</p>
<blockquote>
<p>This week we released <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.9.4">Dendrite 0.9.4</a>, containing primarily bug fixes:</p>
<ul>
<li>A bug in the roomserver around handling rejected outliers has been fixed</li>
<li>Backfilled events will now use the correct history visibility where possible</li>
<li>The device list updater backoff has been fixed, which should reduce the number of outbound HTTP requests and <code>Failed to query device keys for some users</code> log entries for dead servers</li>
<li>The <code>/sync</code> endpoint will no longer incorrectly return room entries for retired invites which could cause some rooms to show up in the client &quot;Historical&quot; section</li>
<li>The <code>/createRoom</code> endpoint will now correctly populate <code>is_direct</code> in invite membership events, which may help clients to classify direct messages correctly</li>
<li>The <code>create-account</code> tool will now log an error if the shared secret is not set in the Dendrite config</li>
<li>A couple of minor bugs have been fixed in the membership lazy-loading</li>
<li>Queued EDUs in the federation API are now cached properly</li>
</ul>
<p>As always, please feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for more Dendrite-related discussion.</p>
</blockquote>
<h2 id="homeserver-deployment-inbox-tray">Homeserver Deployment 📥️</h2>
<h3 id="helm-chart-website">Helm Chart (<a href="https://gitlab.com/ananace/charts">website</a>)</h3>
<p>Matrix Kubernetes applications packaged into helm charts</p>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> says</p>
<blockquote>
<p>This week has seen a quite a few <a href="https://gitlab.com/ananace/charts">Helm Chart</a> updates; element-web got updated to 1.11.3, matrix-media-repo got a Redis usage fix, and matrix-synapse got updated to 1.65.0</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="nheko-website">Nheko (<a href="https://nheko-reborn.github.io">website</a>)</h3>
<p>Desktop client for Matrix using Qt and C++17.</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> reports</p>
<blockquote>
<p>Nheko now has some very dirty hack to render spoilers on desktop platforms. This does not show the reason and not work in mobile mode, doesn't hide it from notifications or from the sidebar. But it is at least something. Similarly we tightened what tags we allow when validating the incoming html again. Also, as a small fix, DMs should now also properly start with encryption enabled when started from a profile and there were a few crash fixes when searching for direct chat partners and closing the window too quickly or when a user uploads a device with invalid keys.</p>
</blockquote>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> announces</p>
<blockquote>
<ul>
<li>Bug fixes and final polishing has been taking place for our “Start DM on first message” project. This is where the user receiving a new room invite as a DM will not get the notification until you’ve sent a message.</li>
<li>The team is testing embedding Element Call in Element Web, as well as working on other improvements to Video rooms.</li>
<li>The new user’s checklist is live in product. It’s our first version so let us know what you think!</li>
</ul>
<p>In labs (you can enable labs features in settings on develop.element.io or on Nightly):</p>
<ul>
<li>Notifications improvements to Threads are underway. The team has been testing the new MSC and related Proof of Concept (POC) which we think will solve most of the issues with Threads right now.</li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@stefan.ceriu:matrix.org">Ștefan</a> announces</p>
<blockquote>
<ul>
<li>We did the AppStore review dance and version 1.8.27 is now available. We even got better usage strings out of it.</li>
<li>We now have UI integration and performance tests in ElementX. Even more, they’re joined by some really nice Screenshot UI tests. Test all the things!</li>
<li>We’ve fixed some small bugs and some not so small ones, coming to an Element close to you early next week. The way things are laid out, you might even see a new feature land 😉</li>
<li>The new app layout testing session went well and we are looking for more iOS testers for future sessions. If you’d like to help out in future sessions, please join <a href="https://matrix.to/#/#element-community-testing:matrix.org">#element-community-testing:matrix.org</a></li>
</ul>
</blockquote>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> says</p>
<blockquote>
<ul>
<li>We had a very successful testing session with the all new app layout. If you’d like to take part in a future session, join us over at <a href="https://matrix.to/#/#element-community-testing:matrix.org">#element-community-testing:matrix.org</a></li>
<li>This week we’ve been working on fixing some FTUE crashes and covering some edge cases. Thanks to the community members submitting bugs and more info - keep it coming!</li>
<li>We’re investigating reports of missing messages, as well as a bug with the Threads beta where not all 'threaded messages' are showing up in the right place…</li>
</ul>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="trixnity-website">Trixnity (<a href="https://gitlab.com/trixnity/trixnity">website</a>)</h3>
<p>Multiplatform Kotlin SDK for Matrix</p>
<p><a href="https://matrix.to/#/@benedict:imbitbu.de">Benedict</a> reports</p>
<blockquote>
<p>Trixnity got some minor updates with bugfixes and iOS ARM64 Simulator support.</p>
</blockquote>
<h3 id="ruby-matrix-sdk-website">ruby-matrix-sdk (<a href="https://github.com/ananace/ruby-matrix-sdk">website</a>)</h3>
<p>Ruby SDK for the Matrix communication protocol</p>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> reports</p>
<blockquote>
<p>Just pushed another version (2.8.0) of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby Matrix SDK</a>, which drops support for the EoL Ruby 2.6 (and drops a bunch of workarounds for it) in order to support much improved caching of room state data, along with more helper methods and a fix for a floating accessor that didn't get hooked up correctly.</p>
</blockquote>
<h3 id="matrix-rust-sdk-website">matrix-rust-sdk (<a href="https://github.com/matrix-org/matrix-rust-sdk">website</a>)</h3>
<p>Matrix Client-Server SDK for Rust</p>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> says</p>
<blockquote>
<p>The Matrix Rust SDK team has been busy this week, too. Progress has been made on Siding Sync in particular, the <a href="https://github.com/ruma/ruma/pull/999">types have been finalised and merged into mainline ruma</a>, and more API has been made accessible via FFI. The new reactive <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/940">Timeline API</a> has been progressed, it, too, has some FFI definitions now, allowing mobile client to start playing with it. Crypto-JS, too, has progressed, adding support for <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/958">de/encrypting attachments in an memory efficient fashion</a>. On the crypto-side, the longer on-going refactor and improvements have yielded another few PRs, too, that have successfully merged, while others are still pending reviews. Other than that, we've seen quite a few smaller fixes and improvements, around logging, docs and the examples.</p>
<p>👉️ Wanna hack on matrix rust? Go check out our <a href="https://github.com/matrix-org/matrix-rust-sdk/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22"><code>help wanted</code> tagged issues</a> and join our matrix channel at Matrix Rust SDK.</p>
</blockquote>
<h3 id="matrix-dart-sdk-website">Matrix Dart SDK (<a href="https://gitlab.com/famedly/company/frontend/famedlysdk">website</a>)</h3>
<p>Matrix SDK written in pure Dart.</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> announces</p>
<blockquote>
<p>This week in the dart SDK we mostly fixed bugs. Many of those are related to call negotiations where streams were closed in the wrong order, not closed at all or in group calls the call never learned about new members or the call_ids would not match. There were also a few fixes to the background thumbnailing support added in 0.11.1, helper methods were added to easily send the right message corresponding to the mimetype of some media and fetching a timeline for some event id should work properly again.</p>
<p>We have some support to mark a room as either a dm or a group using slashcommands now, you have more flexibility when implementing the SSSS Bootstrap now (using the extra Bootstrap parameter in onUpdate() and to round it all off, we now have nice coverage numbers as well as coverage display on merge request diffs.</p>
<p>For more info, check the release notes for 0.11.2, 0.12.0, 0.12.1 and 0.12.2: https://pub.dev/packages/matrix/changelog ;-)</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks 🗣️</h2>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> says</p>
<blockquote>
<h2 id="six-days-until-matrix-community-summit-berlin-2022">Six days until Matrix Community Summit Berlin 2022</h2>
<p>In less than a week the Matrix Community Summit Berlin is taking place at c-base.
Join us early on Thursday (25th August) for a Barcamp where we will brainstorm, draft and prototype new ideas.
The main conference days are Friday and Saturday (26th and 27th August). We have a schedule all about Matrix hosting, clients and development.
With three simultaneous tracks there sure is something for you to listen to. It's also the perfect place to get to know other community members.
Look forward to talks, workshops, a signing party, a Matrix P2P live test, dinner and barbecue!</p>
<p>We're not planing to stream or record the event. Our focus lies on providing a great in-person activities.
If attendees want to blog or toot/tweet about it, please use the hashtag #MatrixCommunitySummit.
Also, German-speaking folks can look forward to more coverage from the event on my podcast.
https://chrpaul.de/podcast/</p>
<p>Because we've heard about some confusion:
The event is NOT organised by the Matrix Foundation. To minimize the misconception, we've renamed it to the Matrix Community Summit Berlin.
This is an event initiated by <a href="https://matrix.to/#/@yan:datanauten.de">Yan</a>, <a href="https://matrix.to/#/@jaller94:matrix.org">jaller94</a> and other Matrix enthusiasts. We also organise the Matrix Meetup Berlin.</p>
<p>Matrix Space: <a href="https://matrix.to/#/#matrix-summit-berlin-2022:c-base.org">#matrix-summit-berlin-2022:c-base.org</a></p>
<p>Schedule: https://cfp.summit2022.matrixmeetup.de/matrix-summit-conference-2022/schedule/</p>
</blockquote>
<p><a href="https://matrix.to/#/@cel:hope.net">cel</a> says</p>
<blockquote>
<h2 id="one-week-until-dweb-camp">One week until DWeb Camp</h2>
<p>Next week (August 24-28), people will meet outdoors in California to learn and share about decentralized web technologies.</p>
<p>Some attendees and organizers are using Matrix internally for camp chat.</p>
<p>Public chat: https://matrix.to/#/#decentralizedweb-general:matrix.org</p>
<p>Site: https://dwebcamp.org/</p>
<p>Schedule (in progress): https://dwebcamp2022.sched.com</p>
<p>More info: https://gitlab.com/getdweb/dweb-camp-2022/#dweb-camp-2022</p>
<p>Previously announced: https://matrix.org/blog/2022/04/14/this-week-in-matrix-2022-04-14#dweb-camp</p>
</blockquote>
<h2 id="room-of-the-week-calendar">Room of the Week 📆</h2>
<p><a href="https://matrix.to/#/@ssorbom:chat.shawnsorbom.net">ssorbom ⚡️</a> announces</p>
<blockquote>
<p>Have you ever felt lost in the Matrix world? Too many rooms and spaces to manage? Well, back by popular demand  (with Timo's blessing), I present, The Room of the Week! Every week we strive to highlight a room or a space that we believe deserves attention for discussing interesting going on across the Matrix Network.</p>
<p>Last week, we were serving coffee, this week, it's tea! Specifically, tea at</p>
<p><a href="https://matrix.to/#/#tea:matrix.org">#tea:matrix.org</a></p>
<p>Do you prefer sheng or shu puerh? Maybe bit more into lapsang, liuan or perhaps cliff oolongs? Greens or whites? Sencha? Having mood to discuss impact of varios clays and pot shapes? Is it better warm up water in bofura, tetsubin or electric kettle? Simply everything about the tea.</p>
<p>Come join us while the kettle is whistling.</p>
<p>If you have a room you wish to see highlighted, join us at:
https://matrix.to/#/!bIyiUUnriVoHtYzuPS:fachschaften.org?via=chat.shawnsorbom.net&amp;via=matrix.org&amp;via=fachschaften.org
To get your favorite room of the week highlighted.</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>No ping stats while Thib is away, but you can always join the fun at <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> and <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a>!</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;17&#x2F;synapse-1-65-released&#x2F;" title="Synapse 1.65 released">Synapse 1.65 released</a></h1>
            <span>
                17.08.2022 15:44
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/brendan-abolivier">
                    Brendan Abolivier
                </a>
            </span>
            <br>
            <small>Last update: 17.08.2022 15:25</small>
        </header>
        <div>
            <p>Hey everyone! We've just released <a href="https://github.com/matrix-org/synapse/releases/tag/v1.65.0">Synapse
1.65</a>! Let's have a
peek at what's inside.</p>
<h2 id="private-read-receipts">Private read receipts</h2>
<p>A feature that the more privacy-focused users of Matrix have been missing was
the ability to hide read receipts from other users. Read receipts in rooms can
tell a user which messages another user has read in a room. However, they can
also be an unwelcome indicator that a user is currently reading a certain room,
thus giving away the user's activity on Matrix at a given time.</p>
<p>Hiding one's read receipts from other Matrix users is unfortunately not as
straightforward as simply preventing a client from sharing read receipts with
the server. This is because read receipts are also used by Matrix homeservers to
calculate how much of a room a user has read, and generate notification counts
for rooms accordingly.</p>
<p>Synapse 1.65 introduces stable support for private read receipts. This feature,
described by
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2285">MSC2285</a>, allows
clients to send a different type of read receipt to the server. This then tells
the homeserver to use this piece of information to update the user's
notification counts, but not to share it with other users.</p>
<h2 id="improved-room-management-apis-for-modules">Improved room management APIs for modules</h2>
<p>This version of Synapse includes two new module API methods to help Synapse
modules interact and manage rooms. The first one,
<a href="https://github.com/matrix-org/synapse/blob/v1.65.0/synapse/module_api/__init__.py#L1455-L1477"><code>lookup_room_alias</code></a>,
allows modules to retrieve the room ID corresponding to a given room alias. This
works both for local and remote aliases. The second one,
<a href="https://github.com/matrix-org/synapse/blob/v1.65.0/synapse/module_api/__init__.py#L1479-L1528"><code>create_room</code></a>,
allows modules to create new rooms on behalf of an existing user.</p>
<p>The
<a href="https://github.com/matrix-org/synapse/blob/v1.65.0/synapse/module_api/__init__.py#L925-L1017"><code>update_room_membership</code></a>
method has also been updated in this release of Synapse to allow modules to join
a room the server is not already in via federation. This can be done by using
the new <code>remote_room_hosts</code> argument, which takes a list of homeservers to try
to join via.</p>
<h2 id="everything-else">Everything else</h2>
<p>Synapse 1.65 stabilises the implementation of
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3827</a>, which
allows filtering public room searches on room types. This means it is now
possible to search specifically for public spaces. For more information on this
feature, see <a href="https://matrix.org/blog/2022/07/20/synapse-1-63-released">the Synapse 1.63
announcement</a>.</p>
<p>Additionally, Synapse 1.65 implements the new experimental error codes
documented by
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3848</a>. Once
stabilised, these error codes will allow clients to show more specific errors to
their users about why an event could not be sent.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.65.0">full
changelog</a> for a
complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>,
<a href="https://github.com/andrewdoh">andrewdoh</a>, <a href="https://github.com/moan0s">Julian-Samuel
Gebühr</a> and <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;15&#x2F;the-matrix-summer-special-2022&#x2F;" title="The Matrix Summer Special 2022">The Matrix Summer Special 2022</a></h1>
            <span>
                15.08.2022 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>At the end of each year it’s been traditional to do a big review of everything that the Matrix core team got up to that year, and announcing our predictions for the next.  You can see the last edition in <a href="https://matrix.org/blog/2021/12/22/the-mega-matrix-holiday-special-2021">2021 here</a> - and if you’re feeling nostalgic you can head down memory lane with the <a href="https://matrix.org/blog/2020/12/25/the-matrix-holiday-special-2020">2020</a>, <a href="https://matrix.org/blog/2019/12/24/the-2019-matrix-holiday-update">2019</a>, <a href="https://matrix.org/blog/2018/12/25/the-2018-matrix-holiday-special">2018</a> ones etc too.</p>
<p>This year is turning out to be slightly different, however.  Our plans for 2022 are particularly ambitious: to force a step change in improving Matrix’s performance and usability so that we firmly transition from our historical “make it work” and “make it work right” phases into “<strong>making it fast</strong>”.  Specifically: to succeed, Matrix <strong>has</strong> to succeed in powering apps which punch their weight in terms of performance and usability against the proprietary centralised alternatives of WhatsApp, Discord, Slack and friends.</p>
<p>We’ve seen an absolute tonne of work happening on this so far this year… and somehow the end results all seem to be taking concrete shape at roughly the same time, despite summer traditionally being the quietest point of the year.  The progress is super exciting and we don’t want to wait until things are ready to enthuse about them, and so we thought it’d be fun to do a spontaneous Summer Special gala blog post so that everyone can follow along and see how things are going!</p>
<h2 id="making-it-fast">Making it fast</h2>
<p>We have always focused on first making Matrix “work right” before we make it “work fast” - sometimes to a fault.  After all: the longer you build on a given architecture the harder it becomes to swap it out down the line, and the core architecture of Matrix has remained essentially the same since we began in 2014 - frankly it’s amazing that the initial design has lasted for as long as it has.</p>
<p>Over the years we’ve done a lot of optimisation work on the core team implementations of that original architecture - whether that’s Synapse or matrix-{js,react,ios,android}-sdk and friends: for instance Synapse uses 5-10x less RAM than it used to (my personal federated server is only using 145MB of RAM atm! 🤯) and it continues to speed up in pretty much every new release (<a href="https://github.com/matrix-org/synapse/pull/13522">this PR</a> looks to give a 1000x speedup on calculating push notification actions, for instance!).  However, there are some places where Matrix’s architecture itself ends up being an embarrassingly slow bottleneck: most notably when rapidly syncing data to clients, and when joining rooms for the first time over federation.  We’re addressing these as follows…</p>
<h3 id="sliding-sync-aka-sync-v3">Sliding Sync (aka Sync v3)</h3>
<p>Historically, /sync always assumed that the client would typically want to know about all the conversations its user is in - much as an IRC client or XMPP client is aware of all your current conversations.  This provided some nice properties - such as automatically enabling perfect offline support, simplifying client and server development, and making features like “jump to room” and “tab complete” work instantly given the data is all client-side.  In the early days of Matrix, when nobody was yet a power user, this wasn’t really a problem - but as users join more conversations and join bigger rooms, it’s become one of Matrix’s biggest performance bottlenecks.  In practice, logging into a large account (~4000 rooms) can take ~10 minutes and hundreds of megabytes of network traffic, which is clearly ridiculous. Worse: if you go offline for a day or so, the incremental sync to catch back up can take minutes to calculate (and can even end up being worse than an initial sync).</p>
<p>To fix this, we started work on Sliding Sync (<a href="https://github.com/matrix-org/matrix-spec-proposals/blob/kegan/sync-v3/proposals/3575-sync.md">MSC3575</a>) in 2021: a complete reimagining of the /sync API used by Matrix clients to receive data from their homeserver.  In Sliding Sync, we only send the client the data it needs to render its UI.  Most importantly, we only tell it about the subset of rooms which it is visible in the scroll window of its room list (or that it needs to display notifications about).  As the user scrolls around the room list, they slide the window up and down - hence the name “sliding sync”.  Sliding Sync was originally called Sync v3, given it’s our 3rd iteration of the sync API - it got renamed Sliding Sync given the current sync API confusingly ended up with a prefix of /v3.</p>
<p><a href="https://matrix.org/blog/2021/12/22/the-mega-matrix-holiday-special-2021#sync-v3">Back in December</a> our work on Sliding Sync was still pretty early: we had the initial MSC, an experimental proxy that converted the existing sync v2 API into Sliding Sync, and a simple proof-of-concept web client to exercise it.  Since then, however, there has been spectacular progress:</p>
<ul>
<li>MSC3575 has undergone some <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575/commits/bea7323c0b03dbd46600ce8fe01218d55f0de083">big</a> <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575/commits/a0bf4027bcef278e43a570c6fa94f2b1bef3488b">iterations</a> as we converge on the optimal API shape.</li>
<li>The <a href="https://github.com/matrix-org/sliding-sync">sliding-sync</a> proxy has matured to be something which we’re now running in stealth against matrix.org for those dogfooding the API</li>
<li>We added the concept of extensions to split out how to sync particular classes of data (to avoid the API becoming a monolithic monster) - specifically:
<ul>
<li>Account Data</li>
<li>End-to-end Encryption</li>
<li>To-device messages</li>
<li>Ephemeral events (to be done)</li>
<li>Presence (to be done)</li>
</ul>
</li>
<li>We added support for spaces!</li>
<li>We implemented it in <a href="https://github.com/matrix-org/matrix-js-sdk/pull/2242">matrix-js-sdk</a> (which merged a few weeks ago!)</li>
<li>…and have a WIP implementation in <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/728">matrix-rust-sdk</a> too.</li>
</ul>
<p>But most importantly, we’ve also been busy implementing Sliding Sync in Element Web itself so we can start using it for real.  Now, this is still a work in progress, but as of today it’s <em>just</em> getting to the point where one can experiment with it as a daily driver (although it’s definitely alpha and we’re still squishing bugs like crazy!) - and we can see just how well it really performs in real life.</p>
<p>For instance, here’s a video of my account (4055 rooms, redacted for privacy) logging in on an entirely fresh browser via Sliding Sync - the actual sync takes roughly 1 second (at 00:18 in the video).  And if we’d started the sync operation while the user is setting up E2E encryption, it would have completed in the background before they even got to the main screen, giving instant login(!).  Given my account typically takes ~10 minutes to initial sync (plus even more time for encryption to sync up), this is at least a real-life <strong>600x improvement</strong>.  Moreover, the sync response is only 20KB (a ~5000x improvement) - a huge win for low-bandwidth Matrix situations.</p>
<iframe src="https://www.youtube.com/embed/9dbM66tGK5s" title="Sliding Sync Demo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Then, having logged in, the client subsequently launches pretty much instantly, <em>no matter how long you’ve been offline</em>. Total launch time is roughly 4 seconds, most of which is loading the app’s assets - which in turn could well be improved by progressively loading the app.  It could also be sped up even more if we cached state locally - currently the implementation simply reloads from the server every time the app launches rather than maintaining a local cache.</p>
<p>As you can see, this is palpably coming together, but there’s still a bunch of work to be done before we can encourage folks to try it, including:</p>
<ul>
<li>Switching the RoomList to be fully backed by sliding sync (currently the v2 roomlist is jury-rigged up to the sliding sync API, causing some flakey bugs such as duplicate rooms)</li>
<li>Spec and hook up typing / receipts / presence extensions</li>
<li>Hook up favourites, low_priority, knocked and historical rooms</li>
<li>Adding back in loading room members</li>
<li>Apply quality-of-service to to-device messages so we prioritise ones relevant to the current sliding window</li>
<li>Sync encrypted rooms in the background to search for notifications (and for indexing).</li>
<li>More local caching to speed up operations which now require checking the server (e.g. Ctrl/Cmd-K room switching)</li>
</ul>
<p>We also need to determine whether it’s viable to run the sliding-sync proxy against matrix.org for general production use, or whether we’ll need native support in Synapse before we can turn it on by default for everyone.  But these are good problems to have!!</p>
<h3 id="matrix-rust-sdk-and-element-x">matrix-rust-sdk and Element X</h3>
<p>Meanwhile, over in the land of Rust, we’ve been making huge progress in maturing and stabilising matrix-rust-sdk and exercising it in Element X: the codename for the next generation of native Element mobile apps.  Most excitingly, we literally just got the first (very alpha) cut of Sliding Sync working in matrix-rust-sdk and hooked up to Element X on iOS - you can see Ștefan’s demo from last week here:</p>
<iframe src="https://www.youtube.com/embed/6KHQSeJTXm0?start=459" title="Matrix Live S08E04 — Element Demos" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>matrix-rust-sdk itself is now getting a <a href="https://github.com/matrix-org/matrix-rust-sdk/releases">steady stream of releases</a> - including long-awaited official node bindings, providing excellent and performant encryption support via the <a href="https://matrix.org/blog/2022/05/16/independent-public-audit-of-vodozemac-a-native-rust-reference-implementation-of-matrix-end-to-end-encryption/">newly audited</a> vodozemac Rust implementation of Olm. It’s also great to see loads of major contributions to matrix-rust-sdk from across the wider Matrix community - particularly from Ruma, Fractal, Famedly and others - thank you!! As a result the SDK is shaping up to be much more healthy and heterogeneous than the original matrix-{js,ios,android}-sdk projects.</p>
<p>On Element X itself: matrix-rust-sdk is being used first on iOS in <a href="https://github.com/vector-im/element-x-ios">Element X iOS</a> - aiming first for launching a stable “barbecue” feature set (i.e. personal messaging) asap, followed by adding on “banquet” features (i.e. team collaboration) such as spaces and threads afterwards. We’ve shamelessly misappropriated the barbecue &amp; banquet terminology from Tobias Bernard’s excellent blog post “<a href="https://blogs.gnome.org/tbernard/2018/05/16/banquets-and-barbecues/">Banquets and Barbecues</a>” - although, ironically, unlike the post, our plan is still to have a single app which incrementally discloses the banquet functionality as the user’s barbecue starts to sprawl.  We’ve just published the brand new <a href="https://github.com/matrix-org/matrix-rust-sdk/projects/1">development roadmap</a> for Element X from the rust-sdk perspective on GitHub.  Above all else, the goal of Element X is to be the fastest mobile messenger out there in terms of launch and sync time, thanks to Sliding Sync.  Not just for Matrix - but the fastest messenger, full stop :D  Watch this space to see how we do!</p>
<p>Finally: Element is getting a major redesign of the core UI on both iOS and Android - both for today’s Element and Element X.  I’m not going to spoil the final result (which is looking <em>amazing</em>) given it’ll have a proper glossy launch in a few weeks, but you can get a rough idea based on the earlier design previewed by Amsha back in June:</p>
<iframe src="https://www.youtube.com/embed/oxfqQ0TrTXU?start=34" title="Matrix Live S07E22 — Element UI experiments, and customising Element Web with greasemonkey" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>In addition to the upcoming overall redesign, Element also landed a complete rework of the login and registration flows last week on iOS and Android - you can see all about it over on the <a href="https://element.io/blog/all-aboard-better-ftue-for-less-wtf/">Element blog</a>.</p>
<h3 id="fast-remote-joins">Fast Remote Joins</h3>
<p>In terms of performance, the other area that we’re reworking at the protocol level is room joins. </p>
<p>One of the most glaring shortcomings of Matrix happens when a new server admin excitedly decides to join the network, installs a homeserver, tries to join a large room like #matrix:matrix.org, and then looks on in horror as it takes 10+ minutes to join the room, promptly despairs of Matrix being slow and complains bitterly about it all over HN and Reddit :)</p>
<p>The reason for the current behaviour is that the Matrix rooms are replicated between the servers who participate in them - and in the initial design of the protocol we made that replication atomic. In other words, a new server joining a room picks a server from which to acquire the room (typically the one in the room’s alias), and gets sent a copy of all the state events (i.e. structural data) about the room, as well as the last 20 or so messages.  For a big room like Matrix HQ, this can be massive - right now, there are 79,969 state events in the room - and 126,510 auth_chain events (i.e. the events used to justify the existence of the state events).  The reason there are so many is typically that the act of a user joining or parting the room is described by a state event - and in the naive implementation, the server needs to know all current state events in the room (e.g. including parted users), in order to keep in sync with the other servers in the room and faithfully authorise each new event which they receive for that room.</p>
<p>However, each event is typically around 500 bytes in size, and so the act of joining a big room could require generating, transmitting, receiving, authenticating and storing up to 100MB of JSON 😱. This is why joining big rooms for the first time is so painfully slow.</p>
<p>Happily, there is an answer: much as Sliding Sync lets clients synchronise with the bare minimum of data required to render their UI, we’ve created <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/rav/proposal/partial_state_on_join/proposals/3706-partial-state-in-send-join.md">MSC3706</a> (and its precursor <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/matthew/msc2775/proposals/2775-lazy-loading-over-federation.md">MSC2775</a>) in order to rework the protocol to let servers receive the bare minimum of state needed to join a room in order to participate.  Practically speaking, we only really care about events relevant to the users who are currently participating in the room; the 40,000 other lurkers can be incrementally synced in the background so that our membership list is accurate - but it shouldn’t block us from being able to join or read (or peek) the room.  We already have membership lazyloading in the client-server API to support incrementally loaded membership data, after all.</p>
<p>The problem with this change is that Synapse was written from the outset to assume that each room’s state should be atomically complete: in other words, room state shouldn’t  incrementally load in the background.  So the work for Faster Joins has been an exercise in auditing the entirety of Synapse for this assumption, and generally reviewing and hardening the whole state management system.  This has been <a href="https://github.com/matrix-org/synapse/pulls?q=is%3Apr+%22faster+joins%22+is%3Aclosed+">loads of work</a> that has been going on since the end of last year - but the end is in sight: you can see the remaining issues <a href="https://github.com/matrix-org/synapse/milestone/8">here</a>.</p>
<p>As of right now, faster joins work (although aren’t enabled by default) - with the main proviso that you can’t speak in the room yet until the background sync has completed, and the new implementation has not yet been optimised.  However, thanks to all the preparation work, this should be relatively straightforward, so the end is in sight on this one too.</p>
<p>In terms of performance: right now, joining Matrix HQ via the unoptimised implementation of faster joins completes on a fresh server in roughly 30 seconds - so a <strong>~25x improvement</strong> over the ~12 minutes we’ve seen previously.  However, the really exciting news is that this only requires synchronising 45 state events and 107 auth_chain events to the new server - a <strong>~1400x improvement</strong>!  So there should be significant scope for further optimising the calculation of these 152 events, given 30 seconds to come up with 152 events is definitely on the high side.  In our ideal world, we’d be getting joins down to sub-second performance, no matter how big the room is - once again, watch this space to see how we do. </p>
<p>Finally, alongside faster remote joins, we’re also working on faster local joins.  This work overlaps a bit with the optimisation needed to speed up the faster remote join logic - given we are seeing relatively simple operations unexpectedly taking tens of seconds in both instances. Some of this is needing to batch database activity more intelligently, but we also have some unknown pauses which we’re currently tracking down.  Profiling is afoot, as well as copious Jaeger and OpenTracing instrumentation - the hunt is on!</p>
<h3 id="ratcheting-up-testing">Ratcheting up testing</h3>
<p>All the work above describes some pretty bold changes to speed up Matrix and improve usability - but in order to land these changes with confidence, avoiding regressions both now and in future, we have really levelled up our testing this year.</p>
<p>Looking at matrix-react-sdk as used by Element Web/Desktop: all PRs made to matrix-js-sdk must now pass 80% unit test coverage for new code (measured using <a href="https://sonarcloud.io/project/overview?id=matrix-js-sdk">Sonarqube</a>, enforced as a GitHub PR check). All matrix-react-sdk PRs must be accompanied by a mix of unit tests, end-to-end tests (via <a href="https://www.cypress.io/">Cypress</a>) and screenshot tests (via <a href="https://percy.io/">percy.io</a>). All regressions (in both nightly and stable) are retro’d to ensure fixed things stay fixed (usually via writing new tests), and we have converted <a href="https://arewetsyet.bit.ovh/">fully to typescript</a> for full type safety.</p>
<p>Concretely, since May, we’ve increased js-sdk unit test coverage by ~10% globally, increased react-sdk coverage by ~17%, and added ever more Cypress integration tests to cover the broad strokes.  Cypress now <a href="https://github.com/matrix-org/matrix-react-sdk/pull/9104">completely replaces</a> our old Puppeteer-based end-to-end tests, and Sliding Sync work in matrix-react-sdk is being extensively tested by Cypress from the outset (the Sliding Sync PR literally comes with a Cypress test suite).</p>
<p>In mobile land, the situation is more complex given our long-term strategy is to deprecate matrix-ios-sdk and matrix-android-sdk2 in favour of matrix-rust-sdk. matrix-rust-sdk has always had <a href="https://app.codecov.io/gh/matrix-org/matrix-rust-sdk">excellent coverage</a>, and in particular, adopting the crypto module in the current matrix-{js,ios,android}-sdk will represent a night and day improvement for quality (not to mention perf!). We’ll also be adopting <a href="https://github.com/vector-im/element-x-ios/pull/50">PR checks</a>, and screenshot testing for the mobile SDKs.</p>
<p>On the backend, we continue to build out test cases for our new integration tester <a href="https://github.com/matrix-org/complement">Complement</a> (in Golang), alongside the original <a href="https://github.com/matrix-org/sytest">sytest</a> integration test suite (in Perl). In particular, we can now test Synapse in worker mode. The intention with Complement is that it should be homeserver agnostic so that <em>any</em> homeserver implementation can benefit. Indeed the project was initiated by Kegan wearing his Dendrite hat. </p>
<p>Finally, we’ve had a huge breakthrough with true multi-client end-to-end testing in the form of Michael Kaye’s brand new <a href="https://github.com/matrix-org/trafficlight">Traffic Light</a> project. For the first time, we can fully test things like cross signing and verification and VoIP calls end-to-end across completely different platforms and different clients. It’s early days yet, but this really will be a game changer, especially for crypto and VoIP. </p>
<p>Next up, we will turn our attention to a performance testing framework so that we can reliably track performance improvements and regressions in an automated fashion - heavily inspired by Safari’s <a href="https://www.goodreads.com/quotes/9844796-don-was-the-one-who-figured-out-how-we-would">Page Load Test</a> approach. This will be essential as we build out new clients like Element X.</p>
<h2 id="a-whole-new-world">A whole new world</h2>
<p>All the stuff above is focused on improving the core performance and usability of Matrix - but in parallel we have also been making enormous progress on entirely new features and capabilities. The following isn’t a comprehensive list, but we wanted to highlight a few of the areas where new development is progressing at a terrifying rate…</p>
<h3 id="native-voip-conferencing">Native VoIP Conferencing</h3>
<p>2022 is turning out to be the year that Matrix finally gets fully native voice/video conferencing. After speccing <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/matthew/group-voip/proposals/3401-group-voip.md">MSC3401</a> at the end of last year, <a href="https://element.io/blog/introducing-native-matrix-voip-with-element-call/">Element Call Beta 1</a> launched as a reference implementation back in March, followed by enabling E2EE, spatial audio and walkie-talkie mode in <a href="https://element.io/blog/element-call-beta-2-encryption-spatial-audio-walkie-talkie-mode-and-more/">Element Call Beta 2</a> in June.</p>
<p>However, the catch was that Element Call beta 1 and 2 only ever implemented “full mesh” conferencing - where every participant calls every other participant simultaneously, limiting the size of the conference to ~7 participants on typical hardware, and wasting lots of bandwidth (given you end up sending the same upstream multiple times over for all the other participants).  Element Call has been working surprisingly well in spite of this, but the design of MSC3401 was always to have “foci” (the plural of ‘focus’ - i.e. conference servers) to optionally sit alongside homeservers in order to aggregate the participating calls, a bit like this:</p>
<p><img src="/blog/img/2022-08-15-msc3401.jpg" alt="MSC3401 Architecture" /></p>
<p>With foci, clients only need to send their upstream to their local focus, rather than replicating it across all the other participants - and the focus can then fan it out to other foci or clients as required.  In fact, if no other clients are even watching your upstream, then your client can skip sending an upstream to its focus entirely!</p>
<p>Most importantly, foci are decentralised, just like Matrix: there is no single conference server as a single point of control or failure responsible for powering the group call - users connect to whichever focus is closest to them, and so you automatically get a standards-based heterogeneous network-split-resilient geographically distributed cascading conferencing system with end-to-end-encryption, powered by a potentially infinite number of different implementations.  To the best of our knowledge, this is the first time someone’s proposed an approach like this for decentralised group calling (watch out, Zoom, we’re coming for you!)</p>
<p>Now, the VoIP team have been busy polishing Element Call (e.g. chasing down end-to-end encryption edge cases and reliability), and also figuring out how to embed it into Element and other Matrix clients as a quick way to get excellent group VoIP (more on that later).  As a result, work on building out foci for scalable conferencing had to be pushed down the line.</p>
<p>But in the last few months this completely changed, thanks to an <strong>amazing</strong> open source contribution from Sean DuBois, project lead over at <a href="https://pion.ly/">Pion</a> - the excellent Golang WebRTC implementation.  Inspired by our <a href="https://2021.commcon.xyz/talks/extending-matrix-s-e2ee-calls-to-multiparty">initial talk</a> about MSC3401 at CommCon, Sean independently decided to see how hard it’d be to build a Selective Forwarding Unit (SFU) focus that implemented MSC3401 semantics using Pion - and published it at <a href="https://github.com/sean-der/sfu-to-sfu">https://github.com/sean-der/sfu-to-sfu</a> (subsequently donated to github.com/matrix-org).  In many ways this was a flag day for Matrix: it’s the first time that a core MSC from the core team has been first implemented from outside the core team (let alone outside the Matrix community!).  It’s the VoIP equivalent of Synapse starting off life as a community contribution rather than being written by the core team.</p>
<p>Either way: Sean’s SFU work has opened the floodgates to making native Matrix conferencing actually scale, with Šimon Brandner and I jumping in to <a href="https://github.com/matrix-org/matrix-js-sdk/pull/2423">implement SFU support</a> in matrix-js-sdk… and as of a few weeks ago we did the first ever SFU-powered Matrix call - which worked impressively well for 12 participants!</p>
<p><img src="/blog/img/2022-08-15-sfu.jpg" alt="12 person Element Call" /></p>
<p>Now, this isn’t released yet, and there is still work to be done, including:</p>
<ul>
<li>We actually need to select the subset of streams we care about from the focus</li>
<li>We need to support thumbnail streams as well as high-res streams</li>
<li>We need rate control to ensure clients on bad connections don’t get swamped</li>
<li>We need to hook up cascading between foci (although the SFU already supports it!)</li>
<li>We need E2EE via insertable streams</li>
<li>Faster signalling for switching between streams</li>
</ul>
<p>You can see the full todo list for basic and future features over on GitHub.  However, we’re making good progress thanks to Šimon’s work and Sean’s help - but with any luck beta 3 of Element Call might showcase SFU support!</p>
<p>Meanwhile it’s worth noting that Element Call is not the only MSC3401 implementation out there - the Hydrogen team has added native support to Hydrogen SDK too (skipping over the old 1:1 calling), so expect to see Element &lt;-&gt; Hydrogen calling in the near future. The Hydrogen implementation is also what powers Third Room (see below…)</p>
<h3 id="matryoshka-voip-embedding">Matryoshka VoIP Embedding</h3>
<p>Elsewhere on VoIP, we’ve also been hard at work figuring out how to embed Element Call into Matrix clients in general, starting with Element Web, iOS &amp; Android.  Given MSC3401 is effectively a superset of native 1:1 Matrix VoIP calling, we’d ideally like to replace the current 1:1-only VoIP implementation in Element with an embedded instance of Element Call (not least so we don’t have to maintain it in triplicate over Web/iOS/Android, and because WebRTC-in-a-webview really isn’t very different to native WebRTC).  To do this efficiently however, the embedded Element Call needs to share the same underlying Matrix client as the parent Element client (otherwise you end up wasting resources and devices and E2EE overhead between the two).  Effectively Element Call ends up needing to parasite off the parent’s client.  We call this approach “matryoshka embedding”, given it resembles nested Russian dolls. 🪆</p>
<p>In practice, we do this by extending the Widget API to let Matrix clients within the widget share the parent’s Matrix client for operations such as sending and receiving to-device messages and accessing TURN servers (c.f. <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/travis/msc/widgets-send-recv-toDevice/proposals/3819-to-device-messages-for-widgets.md">MSC3819</a> and <a href="https://github.com/robintown/matrix-doc/blob/widget-turn-servers/proposals/3846-widget-turn-servers.md">MSC3846</a>).  This in turn has been <a href="https://github.com/matrix-org/matrix-widget-api/pull/57">implemented</a> in the matrix-widget-api helper library for widget implementers - and then a few days ago Robin demonstrated the world’s first ever matryoshka embedded Element Call call, looking like this:</p>
<p><img src="/blog/img/2022-08-15-matryoshka.jpg" alt="Matryoshka embedded Element Call" /></p>
<p>Note that the MSC3401 events are happening in the actual room where the widget has been added, sent by the right users from Element Web rather than from Element Call, and so are subject to all the normal Matrix access control and encryption semantics.  This is a <em>huge</em> step forwards from embedding Jitsi widgets, where the subsequent call membership and signalling happens in an entirely separate system (XMPP via Prosody, ironically) - instead: this is proper native Matrix calling at last.</p>
<p>Moreover, the same trick could be used to efficiently embed other exotic Matrix clients such as Third Room or <a href="https://github.com/toger5/TheBoard">TheBoard</a> - giving the user the choice either to use the app standalone or within the context of their existing Matrix client. Another approach could be to use OIDC scopes to transparently log the embedded client in using the parent’s identity; this has the advantage of no code changes being needed on the embedded client - but has the disadvantage that you needlessly end up running two Matrix clients for the same account side by side, and adding another device to your account, which isn’t ideal for a performance sensitive app like Element Call or Third Room.</p>
<p>Matryoshka embedding isn’t live yet, but between scalable calls via SFU and native Element Call in Element Web/iOS/Android, the future is looking incredibly exciting for native Matrix VoIP.  We hope to finish embedding Element Call in Element Web/iOS/Android in Sept/Oct - and if we get lucky perhaps the SFU will be ready too and then Element Call can exit beta!</p>
<p>Finally, we also added Video Rooms to Element Web - adding the user interface for an “always on” video room that you can hop into whenever you want.  You can read about it over on the <a href="https://element.io/blog/drop-in-drop-out-chats-with-video-rooms-and-a-new-search-experience/">Element blog</a> - the initial implementation uses Jitsi, but once Element Call and Matryoshka embedding is ready, we’ll switch over to using Element Call instead (and add Voice Rooms too!)</p>
<p><img src="/blog/img/2022-08-15-video-rooms.jpg" alt="Video Rooms" /></p>
<h3 id="third-room">Third Room</h3>
<p>Just as MSC3401 and Element Call natively adds decentralised voice/video conferences to boring old textual Matrix chatrooms, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3815">MSC3815</a> and <a href="https://github.com/matrix-org/thirdroom/blob/main/README.md">Third Room</a> go the whole enchilada and adds a full decentralised 3D spatial collaboration environment into your Matrix room - letting you turn your Matrix rooms into a full blown interconnected virtual world.</p>
<p>I can’t overstate how exciting this is: one of the key origins of Matrix was back in Oct 2013 when Amandine and myself found ourselves in Berlin after TechCrunch Disrupt, debating why Second Life hadn’t been more successful - and wondering what you’d have to do to build an immersive 3D social environment which would be as positive and successful as a wildly popular chat network.  Our conclusion was that the first key ingredient you’d need would be a kick-ass open decentralised communication protocol to build it on - providing truly open communication primitives that anyone could build on, much like the open web… and that was what got us thinking about how to build Matrix.</p>
<p>Fast forward 9 years, and Third Room is making <em>spectacular</em> progress in building out this dream, thanks to the incredibly hard work of Robert, Nate and Ajay. The goal of Third Room is to be an open platform layered directly on Matrix for spatial collaboration of any kind: effectively a blank canvas to let folks create freeform collaborative 3D (and in future 2D, VR or AR) experiences, either by using existing assets or building their own user-generated content and functionality. Just like the open web itself, this unlocks a literally infinite range of possibilities, but some of the obvious uses include: spatial telepresence, social VR, 3D visualisation of GIS or weather data, 3D simulated environments, search and rescue and disaster response operations (imagine streaming LIDAR from a drone surveying hurricane devastation into Third Room, where you can then overlay and collaborate on GIS data in realtime), and of course 3D gaming in all its various forms.</p>
<p>Now, we’re hoping to give Third Room a proper launch in a few weeks, so I’m not going to spoil too much right now - but the final pieces which are currently coming together include:</p>
<ul>
<li>Finalising the initial version of <a href="https://github.com/matrix-org/thirdroom/tree/main/src/engine">Manifold</a>, the multi-threaded game engine which powers Third Room (built on <a href="https://threejs.org/">Three.JS</a>, <a href="https://github.com/NateTheGreatt/bitECS">bitECS</a> and <a href="https://rapier.rs/">Rapier</a>), using SharedArrayBuffers as triple-buffers to synchronise between the various threads.  See <a href="https://github.com/matrix-org/thirdroom/discussions/47#discussion-4033099">this update</a> for a bit more detail on how the engine works.</li>
<li>Finalising the Matrix client interface itself, powered by <a href="https://github.com/vector-im/hydrogen-web/blob/master/doc/SDK.md">Hydrogen SDK</a> in order to be as lightweight as possible</li>
<li>Adding in full spatial audio and game networking via MSC3401 and Hydrogen SDK (currently full mesh, but will go SFU as soon as SFUs land!)</li>
<li>Adding in animated avatars (currently using <a href="https://www.mixamo.com/">Mixamo</a> animations)</li>
<li>Adding in name tags and object labels</li>
<li>Adding in 3D Tile support in order to incrementally load 3D map tiles à la Google Earth</li>
<li>Building an asset pipeline from Unity and Blender through to the glTF assets which Third Room uses.</li>
<li>Initial framework for an in-world direct-manipulation <a href="https://twitter.com/matrixdotorg/status/1550534909089189888">editor</a></li>
<li>Lightmap support for beautiful high-performance static lighting and shadows</li>
<li>Full post-processing pipeline (bloom, depth-of-field, anti-aliasing etc)</li>
<li>Integrating with OIDC for login, registration, and account management (see OIDC below)</li>
</ul>
<p>As a quick teaser - here’s an example of a <a href="https://assetstore.unity.com/packages/3d/environments/sci-fi/3d-scifi-kit-vol-3-121447">Unity asset</a> exported into Third Room, showing off lightmaps (check out the light and shadows cast by the strip lighting inside, or the shadow on the ground outside).  Ignore the blurry HDR environment map of Venice in the background, which is just there to give the metals something to reflect.  Check out the stats on the right-hand side: on Robert’s M1 Macbook Pro we’re getting a solid 60fps at 2000x1244px, with 13.12ms of unused gametime available for every 16.67ms frame, despite already showing a relatively complicated asset!</p>
<iframe src="https://www.youtube.com/embed/xvjMyYxZbmM" title="Third Room prototype demo 1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Meanwhile, here are some shots of Robert and Nate chasing each other around the UK City demo environment (also exported from <a href="https://assetstore.unity.com/packages/3d/environments/urban/city-builder-london-214943">Unity</a>), showing off blended Mixamo animations and throwing around crates thanks to the Rapier physics engine.</p>
<iframe src="https://www.youtube.com/embed/y2mU19QwZPg" title="Third Room prototype demo 2" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<iframe src="https://www.youtube.com/embed/QEt80wvO4yY" title="Third Room prototype demo 3" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<br/>
<p>And don't forget, it's just a Matrix client - with no infrastructure required other than a normal Matrix server:</p>
<p><img src="/blog/img/2022-08-15-thirdroom-overlay.jpg" alt="Third Room Overlay" /></p>
<p>As you can see, we are rapidly approaching the point where we’ll need support from technical artists to help create beautiful scenes and avatars and assets in order to make it all come to life - especially once the Blender and Unity pipelines, and/or the Third Room editor are finished. If you’re interested in getting involved come chat at <a href="https://matrix.to/#/#thirdroom:matrix.org">#thirdroom:matrix.org</a>!</p>
<h3 id="wysiwyg">WYSIWYG</h3>
<p>Back in the real world, a recent new project that we haven’t spoken about much yet is adding consistent WYSIWYG (What You See Is What You Get) editing to the message composer in matrix-{react,ios,android}-sdk as used by Element Web/iOS/Android - as well as publishing the resulting WYSIWYG editor for the greater glory of the wider ecosystem.</p>
<p>This is a bit of a contentious area, because we’ve tried several times over the years to add a rich text editor to matrix-react-sdk - firstly with the <a href="https://draftjs.org/">Draft.js</a> <a href="https://github.com/matrix-org/matrix-react-sdk/pull/292">implementation</a> by Aviral (which we abandoned after Facebook de-staffed Draft), and then later with a <a href="https://www.slatejs.org">Slate</a> <a href="https://github.com/matrix-org/matrix-react-sdk/pull/1890">implementation</a> by me (which we abandoned thanks to the maintenance burden of keeping up with Slate’s API changes).  Finally, burnt by the experience with third party solutions, Bruno wrote his own editor called <a href="https://github.com/matrix-org/matrix-react-sdk/blob/develop/docs/ciderEditor.md">CIDER</a>, which was a great success and is what Element Web uses today to author messages including ‘pills’ for structured rooms/users etc… but this deliberately didn’t provide full WYSIWYG functionality.  Meanwhile, Slack added WYSIWYG, forced it on, and <a href="https://quuxplusone.github.io/blog/2019/11/20/slack-rich-text-box/">screwed it up</a> - and apps like WhatsApp and Discord seem to get by fine without WYSIWYG. </p>
<p>However, given that users are now used to WYSIWYG in Teams and Slack, we’ve now decided to have another go at it, inspired by CIDER’s success - and with the novel twist that the heavy lifting of modelling and versioning the document and handling Unicode + CJK voodoo will be provided by a cross-platform native library written in Rust, ensuring that matrix-{react,ios,android}-sdk (and in future matrix-rust-sdk-based apps like Element X) all have precisely the same consistent semantics, and we don’t spend our lives fixing per-platform WYSIWYG bugs unless it really is a platform-specific issue with the user interface provided on that particular platform.</p>
<p>The project is fairly young but developing fast, and lives over at <a href="https://github.com/matrix-org/matrix-wysiwyg">https://github.com/matrix-org/matrix-wysiwyg</a> (better name suggestions welcome ;) - we’re aiming to get it into clients by the end of October.  The editor itself is not Matrix specific at all, so it’ll be interesting to see if other projects pick it up at all - and meanwhile, if we’ve done a good job, it’ll be interesting to see if this can be used to power Matrix-backed collaborative-editing solutions in future…</p>
<iframe src="https://www.youtube.com/embed/9_UhNBKUk7A" title="WYSIWYG teaser on Android" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Update</strong>: we should have mentioned that the WYSIWYG editor project is being built out by staff at Element, who very kindly have been sponsored to work on it by one of Element's Big Public Sector Customers in order to get to parity with Teams.  Thank you!!</p>
<h3 id="are-we-oidc-yet">Are We OIDC Yet?</h3>
<p>On the other hand, a project we recently <a href="https://matrix.org/blog/2022/08/10/areweoidcyet-com-matrix-and-open-id-connect">yelled about</a> a lot is Matrix’s transition to Open ID Connect for standards-based authentication and account management.  We announced this at the <a href="https://matrix.org/blog/2021/12/22/the-mega-matrix-holiday-special-2021#openid-connect">end of the year</a> and the project has built up huge momentum subsequently, culminating with the release of <a href="https://areweoidcyet.com">https://areweoidcyet.com</a> last week to track the progress and remaining work.</p>
<p>Our plan is to use native OIDC in production for the first time to provide all the login, registration and account management for Third Room when it launches in a few weeks (using a branded Keycloak instance as the identity provider, for convenience).  After all, the last thing we wanted to do was to waste time building fiddly Matrix-specific login/registration UI in Third Room when we’re about to move to OIDC!  This will be an excellent case study to see how it works, and how it feels, and inform the rest of the great OIDC experiment and proposed migration.</p>
<h3 id="dendrite-p2p">Dendrite + P2P</h3>
<p>Meanwhile, the Next Generation team has continued to focus on their mission to make Dendrite as efficient and usable as possible. Within recent months, Dendrite has matured dramatically, with a considerable list of bugs fixed, performance significantly improved and new features added - push notifications, history visibility and presence to name a few notable additions.</p>
<p>Neil Alexander, Kegan and Till have continued to streamline the Dendrite architecture and to refactor areas of the codebase which have long needed attention, as well as moving from Kafka to NATS JetStream, an all-new caching model and some other fairly major architectural changes. We’ve also seen an increase of code contributions from the community and outside organisations, which is exciting, and the <a href="https://github.com/matrix-org/gomatrixserverlib">gomatrixserverlib</a> library which underpins much of Dendrite is also seeing more active development and attention thanks to its use in the <a href="https://github.com/matrix-org/complement">Complement</a> integration testing suite.</p>
<p>With the most recent <a href="https://github.com/matrix-org/dendrite/releases">0.9.3 release</a>, we are proud to announce that <strong>Dendrite now</strong> <strong>passes 90% of Client-Server API tests and 95% of Server-Server API tests</strong> and has support for all specced room versions in use today. We have a growing community of users who are (quite successfully) trialling using Dendrite homeservers day-to-day, as well as our own public <code>dendrite.matrix.org</code> homeserver, which is open to the public for registration for anyone who wants to experiment with Dendrite without running their own deployment.</p>
<p>Dendrite plays an important role in our future strategy as it is also the homeserver implementation used for embedded homeservers, P2P development and experimentation. In addition to being able to scale up, we have also successfully scaled down, with the Element P2P demos proving that an embedded Dendrite homeserver can run comfortably on an iOS or Android device.</p>
<p>Research on the <a href="https://github.com/matrix-org/pinecone/">Pinecone</a> overlay network for P2P Matrix has also continued, with Devon and Neil having experimented with a number of protocol iterations and spent considerable time bringing the <a href="https://github.com/matrix-org/pinecone/tree/main/cmd/pineconesim">Pinecone Simulator</a> up to scratch to help us to test our designs more rapidly. Our work in this area is helping us to form a better direction and strategy for P2P Matrix as a whole, which is moving more towards a hybridised model with the current Matrix federation — a little different to our original vision, but will hopefully result in a much smoother transition path for existing users whilst solving some potential scaling problems. The <a href="https://arewep2pyet.com">arewep2pyet.com</a> site is a living page which contains a high level overview of our goals and all the progress being made.</p>
<h2 id="what-s-left">What’s left?</h2>
<p>Comparing all of the above with the <a href="https://matrix.org/blog/2021/12/22/the-mega-matrix-holiday-special-2021#2022">predictions for 2022</a> section of the end-of-year blog post, we’re making very strong progress in a tonne of areas - and the list above isn’t comprehensive.  For instance, we haven’t called out all the work that the Trust &amp; Safety team are doing to roll out advanced moderation features by default to all communities - or the work that Eric has been doing to close the remaining gap between Gitter and Matrix by creating new static archives throughout Matrix.  Hydrogen has also been beavering away to provide a tiny but perfectly formed web client suitable for embedding, including the new embeddable Hydrogen SDK. We haven’t spoken about the work that the Cryptography team have been doing to adopt vodozemac and matrix-rust-sdk-crypto throughout matrix-{js,ios,android}-sdk, or improve encryption stability and security throughout.  We’ve also not spoken about the new initiative to fix long-term chronic bugs (outside of the work above) in general - or all the work being done around <a href="https://matrix.org/blog/2022/03/30/technical-faq-on-the-digital-markets-act">Digital Markets Act interoperability</a>…</p>
<p>Other things left on the menu for this year include getting Threads out of beta: we’ve had a bit of an adventure here figuring out how to get the right semantics for notification badges and unread state in rooms with threads (especially if you use a mix of clients which support and don’t support threads), and once that’s done we’ll be returning to Spaces (performance, group permissions etc).</p>
<h2 id="matrix-2-0">Matrix 2.0?</h2>
<p>Looking through this post (and congratulations if you’re still reading it at this point ;P), it really feels that Matrix is on the verge of shifting into a new phase.  Much as MacOS X started off as a promising but distinctly unoptimised operating system, and then subsequently got unrecognisably faster year by year (even on the same hardware!) as Apple diligently worked away optimising the kernel… similarly: we are now landing the architectural changes to completely transform how Matrix performs.</p>
<p>Between protocol changes like Sliding Sync, Faster Joins, native OIDC and native VoIP conferencing all landing at roughly the same time - and alongside new implementations like matrix-rust-sdk and vodozemac, let alone Third Room - it feels unquestionably like we have an unrecognisable step change on the horizon.  Our aim is to land as much of this as possible by the end of the year, and if we pull it off, I’m tempted to suggest we call the end result Matrix 2.0.</p>
<p>To the future! 🚀</p>
<p>Matthew, Amandine &amp; the whole core team.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;12&#x2F;this-week-in-matrix-2022-08-12&#x2F;" title="This Week in Matrix 2022-08-12">This Week in Matrix 2022-08-12</a></h1>
            <span>
                12.08.2022 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/andrew-morgan-anoa">
                    Andrew Morgan (anoa)
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/F2f7RsnUZAQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<h3 id="matrix-spec">Matrix Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:element.io">Andrew Morgan (anoa)</a> announces</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://spec.matrix.org/proposals/.</p>
<h3 id="msc-status">MSC Status</h3>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3865">[WIP] MSC3865: User-given attributes for <strong>users</strong></a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3864">[WIP] MSC3864: User-given attributes for <strong>rooms</strong></a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3862">MSC3862: event_match (almost) anything</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs entered FCP this week.</em></li>
</ul>
<p><strong>Accepted MSCs:</strong></p>
<ul>
<li><em>No MSCs were accepted this week.</em></li>
</ul>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3828">MSC1197: Content Repository CORP Headers</a></li>
</ul>
<h3 id="spec-updates">Spec Updates</h3>
<p>The Spec Core Team had another retro this week, and part of what we talked about was how most of the spec PR writing falls to just a few people. Starting this week, we're going to try and diversify that work across the Spec Core Team, both for reducing <a href="https://en.wikipedia.org/wiki/Bus_factor">bus factor</a> and increasing bandwidth of spec PRs. Hopefully the results of that will be noticeable!</p>
<h3 id="random-msc-of-the-week">Random MSC of the Week</h3>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3783">MSC3783: Fixed base64 for SAS verification</a>!</p>
<p>For those that don't know, &quot;SAS verification&quot; refers to the act of two devices verifying each other through the use of Short Authentication Strings (SAS). This is the backbone of emoji verification when you verify with another user or one of your own devices.</p>
<p>It turns out that libolm, the olm and megolm encryption library, originally incorrectly encoded the base64 output of the message authentication code (MAC) calculation, which is a values that's passed between devices. Due to trying to maintain backwards-compatibility with older clients, this has not been fixed in newer clients yet.</p>
<p>This MSC proposes bumping the MAC algorithm identifier (which is agreed upon between devices when verifying) to a something new, which allows newer clients to know when to use the new or old (and incorrect) method of calculating the base64 encoding of MAC values.</p>
<p>As far as I can tell, this has no security implications. It's just unfortunate to have incorrect base64 encoding when interfacing with other, non-libolm, implementations of olm and megolm.
<img src="/blog/img/924bf833e05cf44a6b03f63e441ac052d5e080dd.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@shayshay:matrix.org">Shay</a> reports</p>
<blockquote>
<p>The Synapse team is hard at work making Synapse faster and leaner. Work continues
apace on faster room joins over federation, and it seems that the work might land
sooner rather than later, although there are no solid dates yet.
In other news, profiling work is being done to determine ways to hopefully increase
the speed of local room joins and DM creation. Stay tuned for more information in the future on that.
Finally, it was an RC release week. <a href="https://github.com/matrix-org/synapse/releases/tag/v1.65.0rc2">Synapse 1.65.0rc2</a> was released, and it contains some fun features and bugfixes. Check it out!</p>
</blockquote>
<h3 id="dendrite-gomatrixserverlib-website">Dendrite / gomatrixserverlib (<a href="https://github.com/matrix-org/dendrite">website</a>)</h3>
<p>Dendrite is a second-generation Matrix homeserver</p>
<p><a href="https://matrix.to/#/@neilalexander:dendrite.matrix.org">neilalexander</a> says</p>
<blockquote>
<p>This week we released <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.9.2">Dendrite 0.9.2</a> which contains the following updates:</p>
<ul>
<li>Dendrite now supports history visibility on the <code>/sync</code>, <code>/messages</code> and <code>/context</code> endpoints
<ul>
<li>It should now be possible to view the history of a room in more cases (as opposed to limiting scrollback to the join event or defaulting to the restrictive <code>&quot;join&quot;</code> visibility rule as before)</li>
</ul>
</li>
<li>The default room version for newly created rooms is now room version 9</li>
<li>New admin endpoint <code>/_dendrite/admin/resetPassword/{userID}</code> has been added, which replaces the <code>-reset-password</code> flag in <code>create-account</code></li>
<li>The <code>create-account</code> binary now uses shared secret registration over HTTP to create new accounts, which fixes a number of problems with account data and push rules not being configured correctly for new accounts</li>
<li>The internal HTTP APIs for polylith deployments have been refactored for correctness and consistency</li>
<li>The federation API will now automatically clean up some EDUs that have failed to send within a certain period of time</li>
<li>The <code>/hierarchy</code> endpoint will now return potentially joinable rooms (contributed by <a href="https://github.com/texuf">texuf</a>)</li>
<li>The user directory will now show or hide users correctly</li>
<li>Send-to-device messages should no longer be incorrectly duplicated in <code>/sync</code></li>
<li>The federation sender will no longer create unnecessary destination queues as a result of a logic error</li>
<li>A bug where database migrations may not execute properly when upgrading from older versions has been fixed</li>
<li>A crash when failing to update user account data has been fixed</li>
<li>A race condition when generating notification counts has been fixed</li>
<li>A race condition when setting up NATS has been fixed (contributed by <a href="https://github.com/brianathere">brianathere</a>)</li>
<li>Stale cache data for membership lazy-loading is now correctly invalidated when doing a complete sync</li>
<li>Data races within user-interactive authentication have been fixed (contributed by <a href="https://github.com/tak-hntlabs">tak-hntlabs</a>)</li>
</ul>
<p>This brings our current test compliance figures to:</p>
<ul>
<li>Client-server APIs: 90%</li>
<li>Server-server APIs: 95%</li>
</ul>
<p>As always, please feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for Dendrite-related discussion.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="matrix-appservice-discord-website">matrix-appservice-discord (<a href="https://github.com/matrix-org/matrix-appservice-discord">website</a>)</h3>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> reports</p>
<blockquote>
<p>Announcing <code>matrix-appservice-discord</code> 3.0.0!</p>
<p>What? Another week, another major release?
Yes, we want to make breaking changes obvious, and the bridge now requires Node.js 16+.</p>
<p>The release fixes the outdated <code>yarn.lock</code> file. Thanks to the package maintainers of NixOS to point this out! 👋
Furthermore, mentioning Matrix users in Discord got fixed.</p>
<p>And, for the fans of containers, we've re-added the release of Docker images. 🐳
The URL changed and we don't plan to update <code>halfshot/matrix-appservice-discord</code> on Docker Hub.
The image can be pulled from <code>ghcr.io/matrix-org/matrix-appservice-discord:v3.0.0</code>.</p>
<p>https://github.com/matrix-org/matrix-appservice-discord/releases/tag/v3.0.0</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="nheko-website">Nheko (<a href="https://nheko-reborn.github.io">website</a>)</h3>
<p>Desktop client for Matrix using Qt and C++17.</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> reports</p>
<blockquote>
<p>Nheko now shows you a pretty preview for rooms you are trying to join. This uses <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3266">MSC3266</a>, which you might need to enable in your synapse config, if you want to see more than the roomid of the room you are trying to join. It tries to fall back to the /hierarchy endpoint, but that won't work over federation.</p>
<p>Similarly you can now somewhat edit what rooms are in a space. I grew up with Windows 98, so this is a very nested right click menu. We are still discussing some of the wording choices for the options there, so if you have any opinions about it, feel free to give feedback about it! This is part of the bigger goal to be able to manage your communities from within Nheko, so stay tuned for more features coming in that area.</p>
<p>red_sky (nheko.im) also improved our notifications code on macOS. You can now disable the notification sound in the system settings, which for some reason requires badge permissions to show that option... macOS will always remain a mystery to us! Similarly we fixed the source text for notifications on Windows, which should now not show a stray %1 anymore as well as a few other cleanups.
<img src="/blog/img/NNagXCPgjVmOTNplvrIZhKRL.png" alt="" />
<img src="/blog/img/KtwMlOypeTYnXsRRZLSSHPZX.png" alt="" /></p>
</blockquote>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@kittykat:matrix.org">kittykat</a> says</p>
<blockquote>
<ul>
<li>Ever started a DM with someone, only to get distracted and leave them staring into an empty timeline wondering who you are and what you want. Well, it is no more! In this update new DMs will only notify the person you’re messaging once you’ve sent your first message.</li>
<li>That’s not the only exciting update in EleWeb/Desktop this week, including the newly extended voice messages! Instead of voice messages capped at 2 minutes, users are now able to send a voice note of up to 15 minutes long. Go forth and record 🎤</li>
<li>In upcoming releases we’re also looking at how to improve a user’s first few days in Element. We know that it can be daunting to stare at an empty screen and wonder how to get going, which is why we’ve designed and built a checklist for new users. This checklist will help them to get off the ground and messaging friends in no time.</li>
</ul>
<p>In labs (you can enable labs features in settings on develop.element.io or on Nightly):</p>
<ul>
<li>Threads improvements are still very much underway. We have a proof of concept (PoC) for improving notifications that we’re testing to ensure scalability and performance.</li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@douge:matrix.org">Doug</a> says</p>
<blockquote>
<ul>
<li>Our release this week was rejected by Apple. Their feedback? Our info.plist comments do not provide enough context as to why we’re asking for access to things like the camera, photos, or contacts. Never fear! We’ve updated our copy and we’re confident that it’s clearer than ever.</li>
<li>Also in the upcoming release:
<ul>
<li>Fixing the crashes that some users were running into when switching space.</li>
<li>The new in-app notifications now also appear in the notification centre</li>
<li>And a bug fix for the rare issue of sending duplicate images to a timeline when sending multiple photos</li>
</ul>
</li>
<li>We’re also working on changing the layout of our mobile apps, and work is well underway on iOS. We’re excited to share these big changes with you so keep your eyes peeled on our socials and in other TWIM notes.</li>
<li>Join us over at <a href="https://matrix.to/#/#element-community-testing:matrix.org">#element-community-testing:matrix.org</a> on Tuesday 16th August at 12:00 BST to try out the new app layout on iOS! There’s a little bit of setup required so check out the room ahead of time for instructions :)</li>
</ul>
</blockquote>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> says</p>
<blockquote>
<ul>
<li>In the upcoming Android release we’ve fixed some crashes; including where the app would crash if a user attempted putting non-ASCII characters in their MXID during account creation.</li>
<li>Biometric login is now disabled if the device you’re on does not support biometrics.</li>
<li>We’ve also been working hard on adding unit tests to increase coverage.</li>
<li>There’s work being done on the modularisation of languages that may help decrease the complexity of translation and move us towards a set of common strings between platforms.</li>
<li>Join us over at <a href="https://matrix.to/#/#element-community-testing:matrix.org">#element-community-testing:matrix.org</a> on Tuesday 16th August at 15:00 BST to try out the new app layout on Android! There’s a little bit of setup needed so check out the room ahead of time for instructions 🙂</li>
</ul>
</blockquote>
<h3 id="cinny-website">Cinny (<a href="https://cinny.in">website</a>)</h3>
<p>Cinny is a Matrix client focused on simplicity, elegance and security</p>
<p><a href="https://matrix.to/#/@ajbura:matrix.org">ajbura</a> says</p>
<blockquote>
<h4 id="v2-1-custom-emojis-and-stickers-birthday-edition">v2.1: Custom emojis and stickers (Birthday edition)</h4>
<p>Hello everyone,</p>
<p>On July 28 project marked its one-year milestone. During this time it has grown at an unexpected rate, both in terms of development as well as popularity. This is great news, so let's celebrate that with this birthday edition.</p>
<p>In this update, we have added <strong>Custom emoji and sticker support</strong> to Cinny. Custom emoji and stickers were not in our roadmap but that's the surprise. Aren't they cool?
Apart from the emoji and stickers, there are tons of other features such as Blurhash, Mark entire space as read, user pills, and bug fixes. Check out the <a href="https://github.com/cinnyapp/cinny/releases/tag/v2.1.0">release</a> <a href="https://github.com/cinnyapp/cinny/releases/tag/v2.1.1">page</a> for a <a href="https://github.com/cinnyapp/cinny/releases/tag/v2.1.2">detailed changelog</a>.</p>
<p>In the case of the roadmap, we are still on that, work on the &quot;Rich input editor&quot; is in progress and will come as the next release. Stay tuned for that!</p>
<p>The update is live on <a href="https://app.cinny.in/">https://app.cinny.in</a> and the desktop app can be downloaded from <a href="https://github.com/cinnyapp/cinny-desktop/releases/tag/v2.1.2">Github</a>.</p>
<p><strong>Pro-Tip</strong>: Join <a href="https://matrix.to/#/#cinny-space:matrix.org">#cinny-space:matrix.org</a>  to check out some cool sticker packs. There are some great packs in <a href="https://matrix.to/#/#stickers-and-emojis:pixie.town">#stickers-and-emojis:pixie.town</a> too.</p>
<p>Thank you. See you all next time!
<img src="/blog/img/DdgwgXwNulNoDKgGHGktpNUm.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="libkazv-website">libkazv (<a href="https://lily-is.land/kazv/libkazv/">website</a>)</h3>
<p><a href="https://matrix.to/#/@tusooa:tusooa.xyz">tusooa</a> reports</p>
<blockquote>
<p>We released a bugfix <a href="https://lily-is.land/kazv/libkazv/-/tree/v0.2.1">v0.2.1</a> . Thanks to nannanko who discovered and fixed this bug. There are also <a href="https://lily-is.land/kazv/libkazv/container_registry/4?orderBy=NAME&amp;sort=asc&amp;search%5B%5D=v0.2.1&amp;search%5B%5D=">docker images</a>.</p>
<h3 id="0-2-1">0.2.1</h3>
<ul>
<li>Fix crash when receiving a redacted encrypted event. https://lily-is.land/kazv/libkazv/-/commit/98870fa04fa78361f5092cd77f88895e4a228d34</li>
</ul>
</blockquote>
<h3 id="ruby-matrix-sdk-website">ruby-matrix-sdk (<a href="https://github.com/ananace/ruby-matrix-sdk">website</a>)</h3>
<p>Ruby SDK for the Matrix communication protocol</p>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> says</p>
<blockquote>
<p>A new version of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby Matrix SDK</a> has now been released, adding a new abstraction in the form of a Sinatra-inspired bot DSL, as well as general fixes and improvements. Making a Ruby-based Matrix bot can now be as simple as;</p>
<pre data-lang="ruby" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-ruby "><code class="language-ruby" data-lang="ruby"><span style="color:#608b4e;">#!/usr/bin/env ruby
</span><span>
</span><span style="color:#569cd6;">require </span><span style="color:#d69d85;">&#39;matrix_sdk/bot&#39;
</span><span>
</span><span>command(</span><span style="color:#b4cea8;">:praise</span><span>, </span><span style="color:#b4cea8;">desc: </span><span style="color:#d69d85;">&#39;Gives you praise&#39;</span><span>, </span><span style="color:#b4cea8;">only: </span><span>-&gt; { room.user_can_send? client.mxid, </span><span style="color:#d69d85;">&#39;m.reaction&#39; </span><span>}) </span><span style="color:#569cd6;">do
</span><span>  room.send_notice </span><span style="color:#d69d85;">&quot;</span><span>#{sender}</span><span style="color:#d69d85;">, you tha&#39; man!&quot;
</span><span>  room.send_event </span><span style="color:#d69d85;">&#39;m.reaction&#39;</span><span>, {
</span><span>    </span><span style="color:#d69d85;">&#39;m.relates_to&#39;</span><span style="color:#569cd6;">: </span><span>{
</span><span>      </span><span style="color:#b4cea8;">rel_type: </span><span style="color:#d69d85;">&#39;m.annotation&#39;</span><span>,
</span><span>      </span><span style="color:#b4cea8;">event_id:</span><span> event[</span><span style="color:#b4cea8;">:event_id</span><span>],
</span><span>      </span><span style="color:#b4cea8;">key: </span><span style="color:#d69d85;">&#39;👍️&#39;
</span><span>    }
</span><span>  }
</span><span style="color:#569cd6;">end
</span></code></pre>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="matrix-docker-ansible-deploy-website">matrix-docker-ansible-deploy (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">website</a>)</h3>
<p>Matrix server setup using Ansible and Docker.</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> reports</p>
<blockquote>
<p>Thanks to <a href="https://github.com/cvwright">Charles Wright</a>, <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> now has optional experimental <a href="https://conduit.rs">Conduit</a> homeserver support for new installations. This comes as a follow-up to the playbook getting <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/CHANGELOG.md#dendrite-support">Dendrite support</a> earlier this year.</p>
<p>For more details, see our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/CHANGELOG.md#conduit-support">Conduit support</a> changelog entry.</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks 🗣️</h2>
<h3 id="one-week-until-froscon-website">One week until FrOSCon (<a href="https://www.froscon.org/">website</a>)</h3>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> announces</p>
<blockquote>
<p>Next weekend, Sat 20th and Sun 21st, FrOSCon will be taking place. It's a conference about open source software near Bonn, Germany.</p>
<p>There will be some program around Matrix, though I'm still looking for volunteers to help me with a stand and DevRoom.</p>
<p>For the stand we want a small group to explain Matrix to others. For the DevRoom we want some talks and workshops. Anyone's welcome to ask me for more info or to get involved.</p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰️</h2>
<h3 id="matrix-locust-website">matrix-locust (<a href="https://gitlab.futo.org/cvwright/matrix-locust">website</a>)</h3>
<p><a href="https://matrix.to/#/@cvwright:matrix.org">cvwright</a> says</p>
<blockquote>
<p>Announcing <a href="https://gitlab.futo.org/cvwright/matrix-locust">matrix-locust</a>, a new tool for load testing Matrix homeservers, based on the Python load testing framework <a href="https://locust.io/">Locust</a>.  It's very early days for this project, but we're already discovering some interesting results.  There isn't an official tagged &quot;release&quot; yet, but anyone interested in this topic is encouraged to stop by <a href="https://matrix.to/#/#load-testing:matrix.org">#load-testing:matrix.org</a> and say hello.</p>
</blockquote>
<h2 id="room-of-the-week-calendar">Room of the Week 📆</h2>
<p><a href="https://matrix.to/#/@ssorbom:chat.shawnsorbom.net">ssorbom ⚡️</a> says</p>
<blockquote>
<p>Have you ever felt lost in the Matrix world? Too many rooms and spaces to manage? Well, back by popular demand  (with Timo's blessing), I present, The Room of the Week! Every week we strive to highlight a room or a space that we believe deserves attention for discussing interesting going on across the Matrix Network.</p>
<p>This week, we are highlighting:
<a href="https://matrix.to/#/#coffee-discuss:matrix.org">#coffee-discuss:matrix.org</a></p>
<p>A place to discuss buying, brewing, and drinking everyone's favorite morning beverage of choice! I had no idea there was so much Nuance to this topic until I joined this room . For example, did you know there was a correct way to distribute coffee grounds when you first pour to ensure maximum flavor? Neither did I! Whether you are new to the world of coffee drinking, or a seasoned connoisseur of morning Joe, this room has something for everyone who loves coffee.</p>
<p>If you have a room you wish to see highlighted, join us at:
https://matrix.to/#/!bIyiUUnriVoHtYzuPS:fachschaften.org?via=chat.shawnsorbom.net&amp;via=matrix.org&amp;via=fachschaften.org
to get your favorite room of the week highlighted.</p>
</blockquote>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;4&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">5 / 67</span>
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;6&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
