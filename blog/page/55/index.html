<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    </head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2015&#x2F;02&#x2F;12&#x2F;synapse-0-7-0-and-matrix-angular-sdk-0-6-2-released&#x2F;" title="Synapse 0.7.0 and matrix-angular-sdk 0.6.2 released!">Synapse 0.7.0 and matrix-angular-sdk 0.6.2 released!</a></h1>
            <span>
                12.02.2015 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>We just pushed out a major new release of <a href="http://github.com/matrix-org/synapse">Synapse 0.7.0</a>, the python reference server for Matrix, and a minor maintenance update for <a href="http://github.com/matrix-org/matrix-angular-sdk">matrix-angular-sdk 0.6.2</a>, the reference web client implementation.</p>
<p>The emphasis here has been on federation performance and stability - with all the recent interest from <a href="https://fosdem.org/2015/schedule/event/matrix/">FOSDEM</a> and <a href="http://lwn.net/Articles/632572">LWN</a> and <a href="https://news.ycombinator.com/item?id=8997844">HackerNews</a> we've been getting a lot of traffic on matrix.org and new servers federating up, so we've been busy profiling and fixing performance on some of the hot paths by adding in-memory caches and similar.</p>
<p><b>This release is <em>highly</em> recommended if you are running a federated server, as it fixes many denial-of-service failure modes in the federation implementation, as well as many performance improvements</b></p>
<p>Behind the scenes, there's also lots of work going on for v2 of the Client-Server API (which lets you filter the events your client subscribes to in a room, and combines the 'initial sync' and 'eventstream' APIs into a single simplified '/sync' API) - the alpha of this has landed in 0.7.0, but we don't recommend trying to use it yet. Meanwhile the Application Service API is effectively finished, but hasn't landed on the master branch yet. Synapse also finally has initial support for push notifications for the iOS client now via the <a href="http://github.com/matrix-org/sygnal">sygnal</a> APNS gateway, although we need to actually document how to set this up to be usable in general.</p>
<p>Finally, we have switched to recommending that synapse is installed in a virtualenv rather than into ~/.local, due to various problems with how setup.py's dependency management works. Instructions on setting up a virtualenv can be found in the <a href="http://github.com/matrix-org/synapse/README.rst">README</a>.</p>
<p>On the clientside: we've improved performance, enabled identicons for unknown users, and now fully support OpenWebRTC for VoIP calling from Safari, Bowser, and other OpenWebRTC-capable browsers!</p>
<p>Thanks to everyone running servers - please upgrade, tell your friends, and help us grow Matrix!</p>
<p> </p>
<pre>
Changes in synapse v0.7.0 (2015-02-12)
======================================

* Add initial implementation of the query auth federation API, allowing
  servers to agree on whether an event should be allowed or rejected.
* Persist events we have rejected from federation, fixing the bug where
  servers would keep requesting the same events.
* Various federation performance improvements, including:
  - Add in memory caches on queries such as:
     * Computing the state of a room at a point in time, used for
       authorization on federation requests.
     * Fetching events from the database.
     * User's room membership, used for authorizing presence updates.
  - Upgraded JSON library to improve parsing and serialisation speeds.
* Add default avatars to new user accounts using pydenticon library.
* Correctly time out federation requests.
* Retry federation requests against different servers.
* Add support for push notifications and push rules.
* Add alpha versions of proposed new CSv2 APIs, including ``/sync`` API.

</pre>
<pre>
Changes in Matrix Angular SDK 0.6.2 (2015-02-12)
================================================
Bug fixes:
 - Fixed a bug which caused OpenWebRTC to occasionally fail.
 - Fixed a bug which caused multiple room initial syncs to occur in rapid
   succession.

Features:
 - Display a "Joining Room" dialog when joining rooms.
 - Display identicons for users with no avatar.
 - Display m.notice events with full formatting.
 - Add push notification rules to settings.

Improvements:
 - Modified the red/blue notification colours to be more noticeable on a wider
   range of displays.
 - Highlight room invitations in blue.
 - Calculate room names for rooms of 3+ members.
 - Improved page load performance.
 
</pre>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2015&#x2F;02&#x2F;05&#x2F;ios-sdk-and-matrix-console-0-2-2-released&#x2F;" title="iOS: SDK and Matrix Console 0.2.2 released">iOS: SDK and Matrix Console 0.2.2 released</a></h1>
            <span>
                05.02.2015 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                <a href="/author/emmanuel-rohee">
                    Emmanuel Rohee
                </a>
            </span>
            
        </header>
        <div>
            <p>A new release of the iOS SDK and the iOS Matrix Console app is available on GitHub: <a title="https://github.com/matrix-org/matrix-ios-sdk" href="https://github.com/matrix-org/matrix-ios-sdk">https://github.com/matrix-org/matrix-ios-sdk</a>.</p>
<p>If you use CocoaPods to manage your application dependencies, note that the Matrix SDK pod has been updated too.</p>
<p>The changes since the last release are:</p>
<p> </p>
<h3>SDK</h3>
<dl><dt>Improvements:</dt><dd>
<ul>
	<li>MXFileStore stores data on a separated thread to avoid blocking the UI thread.</li>
	<li>MXRestClient: Callback blocks in all MXRestClient methods are now optional.</li>
	<li>MXEvent: Cleaned up exposed properties and added a description for each of them.</li>
</ul>
</dd><dt>Features:</dt><dd>
<ul>
	<li>Added API for registering for push notifications.</li>
	<li>Added generic API methods to make any kind of registration or login flow.</li>
	<li>Added Identity server API: lookup3pid, requestEmailValidation, validateEmail and bind3PID.</li>
	<li>Management of event redaction: there is a new method in the SDK to redact an event and the SDK updates its data on redaction event.</li>
</ul>
</dd><dt>Bug fixes:</dt><dd>
<ul>
	<li>SYIOS-5 - Expose registration API</li>
	<li>SYIOS-44 - Credentials persist across logout</li>
	<li>SYIOS-54 - Matrix Console app slightly freezes when receiving a message</li>
	<li>SYIOS-59 - Infinite loop in case of back pagination on new created room</li>
	<li>MXRoom: Fixed [MXRoom sendTextMessage]</li>
</ul>
</dd></dl>
<h3><a id="user-content-matrix-console" class="anchor" href="https://github.com/matrix-org/matrix-ios-sdk/blob/master/CHANGES.rst#matrix-console"></a>Matrix Console</h3>
<dl><dt>Improvements:</dt><dd>
<ul>
	<li>When long pressing on a message, the app shows the JSON string of the Matrix event.</li>
	<li>On this screen, the user can redact the event - if he has enough power level.</li>
	<li>Use home server media repository facilities to use lower image size for thumbnails and avatars</li>
	<li>Settings screen: show build version with the app version.</li>
	<li>Settings screen: added an option to hide information related to redacted event.</li>
	<li>Settings screen: added an option to enable reading of local phonebook. The country is required to internationalise phone numbers.</li>
</ul>
</dd><dt>Features:</dt><dd>
<ul>
	<li>Push notifications.</li>
	<li>Added a contacts screen that displays Matrix users the user had interactions with and contacts from the device phonebook.</li>
	<li>Contacts from the device phonebook who have an email linked to a Matrix user id are automatically recognised.</li>
</ul>
</dd><dt>Bug fixes:</dt><dd>
<ul>
	<li>SYIOS-53 - multilines text input that expands as you type mutiplines would be nice</li>
	<li>SYIOS-45 - Need to check the thumbnail params requested by iOS</li>
	<li>SYIOS-55 - High resolution avatars create memory pressure</li>
	<li>SYIOS-57 - Back pagination does not work well for self chat</li>
	<li>SYIOS-56 - add cache size handling in settings</li>
	<li>SYIOS-60 - In a self chat, Console takes ages to paginate back even if messages are in cache</li>
	<li>SYIOS-61 - Chat room : cannot scroll to bottom when keyboard is opened whereas the growing textview contains multi-lines text.</li>
	<li>SYIOS-63 - calculate room names for 3+ members if no room name/alias</li>
	<li>SYIOS-44 - Credentials persist across logout</li>
	<li>SYIOS-64 - Chat room : unexpected blank lines are added into history when user types in growing textview</li>
	<li>SYIOS-65 - IOS8 : in case of search in recents, keyboard is not dismisssed when user selects a room.</li>
	<li>SYIOS-16 Add option in Console to join room thanks to its alias</li>
</ul>
</dd></dl>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2015&#x2F;02&#x2F;04&#x2F;back-from-fosdem&#x2F;" title="Back from FOSDEM!">Back from FOSDEM!</a></h1>
            <span>
                04.02.2015 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/oddvar-lovaas">
                    Oddvar Lovaas
                </a>
            </span>
            
        </header>
        <div>
            <p><a href="http://fosdem.org" title="FOSDEM">FOSDEM</a> was great fun! Two days full of conferences and demos; lots of interesting technologies and interested people - and most of all: talking to so many new faces about Matrix and potential uses and integration ideas. </p>
<p>Both our lightning talk and IoT-devroom talk were completely filled up with huge queues outside (sorry folks), and our demos seemed to go down fairly well.  In fact several people <a href="/code">set up their own homeserver</a> and joined the federated network of Matrix servers during FOSDEM itself!</p>
<p>Here's a <a href="http://twitter.com/matrixdotorg/status/561535884567130112" title="view from our stand">view from our stand</a>, from our <a href="http://twitter.com/matrixdotorg/status/561543011662696448" title="lightning talk">lightning talk</a> and from our <a href="http://twitter.com/thierrymarianne/status/561828001231695872" title="IoT-devroom talk">IoT-devroom talk</a>.</p>
<p>If you missed the talks, recordings will (soon) be available from the FOSDEM site (links will be added here once available) - in the meantime you can check out the slides here: <a href="http://matrix.org/blog/wp-content/uploads/2015/02/2015-01-31-Matrix_FOSDEM.pdf" title="lightning talk">lightning talk</a> and <a href="http://matrix.org/blog/wp-content/uploads/2015/02/2015-02-01-Matrix-IoT-FOSDEM.pdf" title="IoT-devroom talk">IoT-devroom talk</a>.</p>
<p>Thanks to everyone who came to have a chat about Matrix and/or help with setting up their own homeserver (or to play with <a href="https://www.youtube.com/watch?v=TyIw2AkYpeo">Sentinel, our mascot</a>) - please do reach out to us via our <a href="/beta/#/room/#matrix:matrix.org" title="Matrix HQ room">Matrix HQ room</a> or IRC (<a href="irc://irc.freenode.net/matrix">#matrix on freenode</a>) if you have any problems - or want to help us fix our python packaging ;)  Now is a great time to get involved as we are currently landing new APIs and soon will be offering an Application Server API to ease bridging to other services.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2015&#x2F;01&#x2F;29&#x2F;looking-forward-to-fosdem&#x2F;" title="Looking forward to FOSDEM!">Looking forward to FOSDEM!</a></h1>
            <span>
                29.01.2015 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/oddvar-lovaas">
                    Oddvar Lovaas
                </a>
            </span>
            
        </header>
        <div>
            <p>This weekend, Matrix is heading to FOSDEM (Free and Open Source Software Developers' European Meeting) in Brussels, Belgium. We will be hosting two events: a <a href="https://fosdem.org/2015/schedule/event/matrix/" title="lightning talk">lightning talk</a> on Saturday at 16:30 in room H.2215 (Ferrer), and an <a href="https://fosdem.org/2015/schedule/event/deviot04/" title="IoT devroom talk">IoT devroom talk</a> on Sunday morning at 11:00 in room H.2213.</p>
<p>FOSDEM's <a href="https://fosdem.org/2015/schedule/" title="schedule">schedule</a> is looking very interesting and varied, and we hope we can learn about interesting projects - and of course show how and where Matrix can be used to lots of FOSDEM-attendees. Please come over and have a chat if you are interested; we have a stand on the second floor in the K building - just take a right after coming up the stairs and say hi! </p>
<p>We have also set up a Matrix &lt;-&gt; IRC bridge on the #fosdem channel on freenode, which means that any conversation happening there will be copied over to <a href="/beta/#/room/#fosdem:matrix.org" title="#fosdem:matrix.org">#fosdem:matrix.org</a> - and vice versa. Making bridges to other services is currently being worked on as part of the <a href="https://github.com/matrix-org/matrix-doc/blob/application-services/drafts/application_services.rst" title="Application Services API">Application Services API</a> - we want to be able to connect different services together via Matrix.</p>
<p>Finally, we are always available in the official <a href="/beta/#/room/#matrix:matrix.org" title="Matrix HQ room">Matrix HQ room</a> - please join and say hi!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2015&#x2F;01&#x2F;07&#x2F;synapse-0-6-1-released-and-other-news&#x2F;" title="Synapse 0.6.1 released and other news!">Synapse 0.6.1 released and other news!</a></h1>
            <span>
                07.01.2015 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Happy 2015 from everyone at Matrix.org!</p>
<p>We're excited to kick off the new year with a major performance upgrade for Synapse: having had a chance to do some profiling over the Christmas break, Synapse 0.6.1 improves performance by up to an order of magnitude thanks to optimising the way events are constructed and manipulated, DB optimisations, etc.  Suddenly things are feeling <em>much</em> more snappy and less of a PoC and more of a real system, which hopefully bodes well for 2015!  Please upgrade if you're running a homeserver, or install one if you're not - grab the code from <a href="http://github.com/matrix-org/synapse">http://github.com/matrix-org/synapse</a>.</p>
<p>The iOS SDK and demo app has also been improving lots in the last few weeks - grab the latest code from <a href="http://github.com/matrix-org/matrix-ios-sdk">http://github.com/matrix-org/matrix-ios-sdk</a>.  We have zoomable image support; full support for the new media repository in Synapse 0.6.0; file transfer status UI; offline support; snappy message synchronisation and more...</p>
<p>We also released a new simple Python SDK client library for Python called <a href="https://pypi.python.org/pypi/matrix-client">matrix-client</a>, which is now being used by <a href="https://github.com/Kegsay/Matrix-NEB">NEB</a> (our general-purpose Matrix helper bot).</p>
<p>Meanwhile, our (constantly evolving) plan for the beginning of 2015 is:</p>
<ul>
	<li>Finish v2 of the client-server API based on all the lessons learnt since launch: <a href="https://github.com/matrix-org/matrix-doc/pull/4">draft in progress here</a></li>	 
        <li>Finish the Application Services API to allow proper gateways and services in and out of Matrix at last:<a href="https://github.com/matrix-org/matrix-doc/pull/5">draft in progress here</a></li>
        <li>Re-release the spec based on the above</li>
        <li>Build robust gateways (IRC, XMPP, SIP and more) on top of the AS API</li>
        <li>Polish and release the iOS, Android demo clients - including push notification and VoIP support!</li>
        <li>Overhaul the identity server architecture and add end-to-end crypto</li>
</ul>
<p>Given the rate at which Matrix is maturing, the next few months should be really exciting - please come join us on <a href="http://matrix.org/beta">#matrix:matrix.org</a> and get involved!</p>
<code>
Changes in synapse 0.6.1 (2015-01-07)
=====================================
<ul>
<li>Major optimizations to improve performance of initial sync and event sending
in large rooms (by up to 10x)</li>
<li>Media repository now includes a Content-Length header on media downloads.</li>
<li>Improve quality of thumbnails by changing resizing algorithm.</li>
</ul>
</code>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2014&#x2F;12&#x2F;24&#x2F;matrix-wins-best-innovation-award-at-webrtc-paris&#x2F;" title="Matrix wins Best Innovation Award at WebRTC Paris!">Matrix wins Best Innovation Award at WebRTC Paris!</a></h1>
            <span>
                24.12.2014 00:00
                —
                <a href="/category/events">
                    Events
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Last week we had a great time attending WebRTC Conference Expo Paris 2014 - chatting to lots of new folks about Matrix; speaking in the &quot;To Build or Not To Build&quot; panel discussion; giving a general presentation on Matrix, and participating in the Demo shoot-out.</p>
<p>And we're very proud to say that we won the <a href="http://blog.uppersideconferences.com/award-winners-webrtc-2014-conference-expo/">Best Innovation Award</a> for a slightly frantic demo, showing an iPad mounted on our pet Trossen Robotics PhantomX Hexapod being used for robot telepresence by streaming video and audio to an Oculus Rift VR headset.  This was using our proprietary in-house WebRTC stack, but once Matrix has fully taken off we hope to share our WebRTC stack with the world too :)  This was a very last minute demo - we wanted to show something different to normal browser-to-browser IM/Video calling via Matrix and had the idea to use the Rift at the last minute - and in fact it still wasn't working when we went on stage (turns out that iOS 8.1 introduces some quirks in the video capture API which were producing corrupt video).  By switching from an iPhone 5S running iOS 8.1 to an iPad running iOS 6 we were able to turn the demo around in the nick of time and get it working live on stage (modulo a RGB&lt;-&gt;BGR colourspace bug) just in time to win the award.  Huge thanks to the jury for voting for us against the odds :D  For those interested in displaying raw video straight onto the Oculus Rift (without using any head-mounted tracking), there's an OpenGL code snippet up at <a href="https://gist.github.com/ara4n/875b5e8b66be3617efb7">https://gist.github.com/ara4n/875b5e8b66be3617efb7</a>.</p>
<p><a href="http://matrix.org/blog/wp-content/uploads/2014/12/oculus.jpg"><img src="http://matrix.org/blog/wp-content/uploads/2014/12/oculus-1024x764.jpg" alt="iOS to Oculus Rift Telepresence" width="625" height="466" class="aligncenter size-large wp-image-262" /></a></p>
<p>(Image credit to <a href="https://twitter.com/victorpascual/status/545247282212667393">Victor Pascual Avila</a> at Quobis)</p>
<p>Also, huge congratulations to <a href="https://twitter.com/VladimirTechMan/status/545550432542916608">Vladimir Beloborodov</a> who won the Best Data Channel Award for hacking his Romotive telepresence robot to rendezvous via Matrix with his iPad, stream video via Google's WebRTC stack and control the robot's motion via the WebRTC Data Channel:</p>
<p><a href="http://matrix.org/blog/wp-content/uploads/2014/12/vladimir.jpg"><img src="http://matrix.org/blog/wp-content/uploads/2014/12/vladimir.jpg" alt="Vladimir Beloborodov" width="600" height="800" class="aligncenter size-full wp-image-263" /></a></p>
<p>We're really excited to see other folks' Matrix projects out there winning prizes!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2014&#x2F;12&#x2F;19&#x2F;synapse-0-6-0a-released&#x2F;" title="Synapse 0.6.0a released!">Synapse 0.6.0a released!</a></h1>
            <span>
                19.12.2014 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>We're proud to announce the new 0.6.0 major release of Synapse: the Python reference implementation of Matrix - as well as 0.6.0 of the AngularJS example Matrix client, as a special early Christmas present from the Matrix team :)</p>
<p>The main priority here has been hunting down stability bugs whilst also adding in a few more features.  The most exciting new feature is the new Media/Content API: this allows every homeserver to replicate, cache and thumbnail any files associated with Matrix rooms, rather than relying on retrieving them from the origin homeserver as was previously the case.  This is really cool, as it effectively makes Matrix a distributed content distribution network and gives the same replication semantics to file attachments as to the rest of JSON in rooms.</p>
<p>We've also landed a major new branch which changes the way events are represented internally in order to make them immutable, and fixes a whole range of minor stability issues.  In other news, performance issues are still a work in progress...</p>
<p>To get involved, head over to <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a> and install and upgrade today!</p>
<code>
Changes in synapse 0.6.0 (2014-12-19)
=====================================
<ul>
<li>Add new API for media upload and download that supports thumbnailing.</li>
<li>Replicate media uploads over multiple homeservers so media is always served
to clients from their local homeserver.  This obsoletes the
--content-addr parameter and confusion over accessing content directly
from remote homeservers.</li>
<li>Implement exponential backoff when retrying federation requests when
sending to remote homeservers which are offline.</li>
<li>Implement typing notifications.</li>
<li>Fix bugs where we sent events with invalid signatures due to bugs where
we incorrectly persisted events.</li>
<li>Improve performance of database queries involving retrieving events.</li>
</ul>
</code>
<code>
Changes in Matrix Angular SDK 0.6.0 (2014-12-19)
================================================
<p>Breaking changes:</p>
<ul>
<li>Uploading files in the web client will now hit the new content repository URL
introduced in Synapse 0.6, and be incompatible with previous Matrix clients.</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Fixed a bug which caused the event stream to become wedged when the computer is asleep.</li>
<li>Fixed a bug which caused the recents to update but not the message window.</li>
</ul>
<p>Features:</p>
<ul>
<li>Typing notifications will now be sent.</li>
<li>Typing notifications will now be displayed for other users.</li>
<li>Use the new content repository introduced in Synapse 0.6 when uploading files.</li>
</ul>
<p>Improvements:</p>
<ul>
<li>Display more error dialogs rather than silently failing.</li>
<li>Display loading spinners on signup.</li>
<li>Display feedback when joining a room.</li>
<li>CTRL + clicking on a recents entry will now open that room in a new tab.</li>
<li>Clicking on links in messages will now open them in a new tab.</li>
<li>Provide a progress dialog when uploading files.</li>
<li>Display a red bar when the event stream connection is lost for an extended period of time.</li>
</ul>
</code>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2014&#x2F;12&#x2F;03&#x2F;synapse-0-5-4-released&#x2F;" title="Synapse 0.5.4 released">Synapse 0.5.4 released</a></h1>
            <span>
                03.12.2014 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>We just pushed a bugfix update to Synapse 0.5, mainly to fix a memory leak where federated events could get leaked whilst retrying to send them to a remote server which is unavailable.  Please upgrade, especially if you've noticed synapse hogging RAM!</p>
<code>
Changes in synapse 0.5.4 (2014-12-03)
=====================================
<ul>
<li>Fix presence bug where some rooms did not display presence updates for
remote users.</li>
<li>Do not log SQL timing log lines when started with &quot;-v&quot;</li>
<li>Fix potential memory leak.</li>
</ul>
</code>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2014&#x2F;11&#x2F;30&#x2F;bridging-matrix-sip-via-verto&#x2F;" title="Bridging Matrix &amp; SIP via Verto">Bridging Matrix &amp; SIP via Verto</a></h1>
            <span>
                30.11.2014 00:00
                —
                <a href="/category/tutorials">
                    Tutorials
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>One of the final remaining missing bits of Matrix today is specifying and implementing the Application Service (AS) APIs which allow you to easily extend Matrix with custom server-side functionality. The AS APIs should let you perform any arbitrary manipulation on chatroom contents, modulo end-to-end encryption constraints - e.g. machine translation; archiving/searching contents; interactive automated services; conferencing; firing push notifications and other hooks; etc. If you really want to look behind the curtain, the bug tracking the development (somewhat out-of-date) is at <a href="/jira/browse/SPEC-34">SPEC-34</a>.</p>
<p>However, the most obvious use case for this is gatewaying Matrix rooms through to existing communication platforms (XMPP, SIP, non-standardised systems) - which is obviously key to Matrix's overall goal of defragmenting communication.  And the good news is that even though the AS APIs don't yet exist, we can still make good progress here through the existing client-server API.  Anyone who's hung around chat systems like IRC should be familiar with the idea of bots - non-human users who participate in chatrooms and but perform arbitrary automated functionality - and you can go quite a long way in using the 'bot' idiom to add automatic functionality to Matrix.</p>
<p>[In fact the first AS API we'll be adding will probably be simply extending the client-server API with some additional privileges to allow homeserver admins to hook up services to their server which are essentially privileged bots (e.g. ability to autojoin rooms created on that server with high power-level; ability to flag themselves as an invisible 'service bot'; ability to monitor events from rooms without joining them: useful for read-only services such as sending push notifications, adding search/archive functionality; etc).  This should also be familiar to IRC users, as it's similar to the model that IRC Services uses.]</p>
<p>So, we already have a few bots hanging around prototyping out bridging to other systems, which hopefully should evolve into full Application Services (where it makes sense; sometimes a bot is good enough).  For instance, we have the <a href="https://github.com/tm604/Matrix-IRCBridge">Matrix/IRC Bridge</a> thanks to tm604 and LeoNerd.  The way this works is simply a bot which joins IRC channels and their Matrix room equivalents; watching the messages on both sides of the bridge and relaying them to the other side, creating virtual users as required.  In future we can be smarter about having the bridge talk on behalf of actual users, or letting actual users control their virtual users, but it's good enough as a first cut.</p>
<p>So for Friday's <a href="http://www.voipusersconference.org/2014/vuc517-matrix-org/">VUC 517</a>, we decided at the last minute (on Tuesday) to make as much of VUC accessible via Matrix as possible.  One side of this was hooking up the <a href="https://jitsi.org/Projects/JitsiMeet">Jitsi Video Bridge</a> to be accessible by talking to the underlying XMPP server - the other side was hooking up via SIP to the <a href="https://www.zipdx.info">ZipDX audio bridge</a> that is used for audio-only participants in the conference.  Both of these would be done as Matrix bots - a virtual user that you could voice/video call 1:1 over Matrix which would then route your call into VUC appropriately.</p>
<p>By Thursday, the Jitsi bot got to the point of being able to place calls and see a single video stream (picked at random), but the video uplink wasn't getting through and actually selecting the right stream to watch (or viewing multiple streams) wasn't in place either.  I'm sure there'll be a similar blogpost once it's finished, so I'm not going to talk about it further here.  Meanwhile, on Thursday night we hacked together a separate bot to jack into the ZipDX bridge via SIP.  Tim Panton's suggestion was to use <a href="http://www.freeswitch.org">FreeSWITCH</a>'s <a href="https://freeswitch.org/confluence/display/FREESWITCH/mod_verto">mod_verto</a> for this, and after Anthony Minesalle and Mike Jerris from FreeSWITCH had popped up on <a href="http://matrix.org/beta">#matrix:matrix.org</a> on Tuesday to find out what we're up to, this seemed like serendipity.</p>
<p>We hadn't played with mod_verto before, although had been pointed at it by someone on IRC shortly after we released Matrix - it's a cool project from the FreeSWITCH dev team that exposes a simple JSON-RPC interface for call signalling over websockets, providing a much more suitable way for WebRTC developers to get calls in and out of FreeSWITCH than shoehorning a SIP stack into their browser.  In this respect it's quite similar to Matrix, but there are some huge differences:</p>
<ul>
	<li>Verto doesn't (yet) do federation - either for message-passing (like XMPP) or history-replication (like Matrix or XMPP FMUCs).  In fact, Matrix fundamentally competes more with JSON-RPC at OSI layer 5 by defining a standardised RESTful API for federated state synchronisation - which so happens to define some datatypes for VoIP signalling; whereas Verto currently seems to be focused solely on the application-layer problem of VoIP signalling.</li>
	<li>Verto is a generic RPC API with method names like verto.invite, verto.answer, verto.media, verto.bye etc. for handling call signalling.  It's obviously readily extensible to any other functionality expressed as an RPC invocation.  The Matrix client-server API however passes around event objects within the context of a room - it's message passing rather than RPC.</li>
	<li>Matrix's VoIP events support trickle-ICE; announcing ICE candidates from WebRTC as and when they become available.  This good is for speedy call-setup (you don't have to wait for all ICE to complete before setting up the call) and to support call continuity when roaming between different IP networks (in theory).  However, Verto currently requires ICE candidates to be presented monolithically - it hasn't made sense to implement trickle-ICE as FreeSWITCH's core engine doesn't support it yet.</li>
        <li>Verto looks to be wired to speak JSON-RPC over Websockets, whereas Matrix deliberately uses plain old HTTP as its baseline for maximum simplicity and compatibility in PUTting and GETting JSON events around</li>
	<li>Verto could be an interoperable standard but the API hasn't been documented yet (unless I've totally missed it) - to build the bot we looked at the websockets tab in Chrome's network inspector and drew some inferences from the <a href="https://github.com/matrix-org/synapse/blob/e43139ac5e1f337d9a82ee16d9a4f15195120ec3/contrib/vertobot/verto-example.json">JSON seen in a call</a> placed using the <a href="https://webrtc.freeswitch.org/verto">FreeSWITCH Verto demo site</a>, which was very intuitive and almost self-documenting.  Meanwhile, the (minimal) doc for Matrix's events is up at <a href="http://matrix.org/docs/spec/#voice-over-ip">http://matrix.org/docs/spec/#voice-over-ip</a>.</li>
</ul>
Verto has a huge advantage however, in that FreeSWITCH has a mod_verto today, and doesn't have a mod_matrix - so one can use mod_verto right now as an easy way to get VoIP calls in and out of FreeSWITCH from the web and bridge them to SIP!  So, when writing a Matrix&lt;-&gt;SIP bridging bot for VUC, Verto turned out to be a really nice way to quickly get something up and running.  The end result is at <a href="https://github.com/matrix-org/synapse/blob/e43139ac5e1f337d9a82ee16d9a4f15195120ec3/contrib/vertobot/bot.pl">https://github.com/matrix-org/synapse/blob/develop/contrib/vertobot/bot.pl</a> - a (precisely!) 300 line perl script built on LeoNerd's <a href="https://metacpan.org/release/Net-Async-Matrix">Net-Async-Matrix</a> and <a href="https://metacpan.org/release/Net::Async::Protocol::WebSocket">Net::Async::Protocol::WebSocket</a> which logs into Matrix and routes any 1:1 audio calls it receives through to the defined mod_verto service.  Currently it gleefully hardcodes in the destination extension it calls and the caller-ID, but this could trivially be extended.  It also chokes on SSL WebSockets, so your mod_verto needs to be listening unencrypted on port 8081.
<p>The task of mapping between Matrix m.call.* VoIP events and Verto verto.* RPC methods was almost entirely trivial (although I hasten to add that Matrix's and Verto's were developed completely independently - it's just that there are only so many ways to express VoIP signalling in JSON!)</p>
<ul>
	<li>Matrix's m.call.invite is equivalent to the combination of verto.invite + verto.media (but may lack ICE candidates)</li>
	<li>Matrix's m.call.candidates has no direct equivalent, so has to be coalesced and merged into verto.media</li>
	<li>Matrix's m.call.answer is equivalent to verto.answer (but may lack ICE candidates)</li>
	<li>Matrix's m.room.displayname is equivalent to verto.display (assuming I understand verto.display)</li>
	<li>Matrix's m.call.hangup is equivalent to verto.bye</li>
	<li>…and these are the only verto RPCs we mapped.</li>
</ul>
For the demo itself, we obviously needed a FreeSWITCH with mod_verto all up and running to hook into the ZipDX bridge: our friends at <a href="http://truphone.com">Truphone</a> were good enough to provide one at zero notice (Thanks James, Andy, Giacomo!), and we were up and running.
<p>Unfortunately we did hit some problems: Net::Async::Matrix has a few quirks which LeoNerd is working out currently; the bot doesn't coalesce the trickle-ICE properly currently causing a race-condition that means ICE setup may fail; Matthew's use of IO::Async was a bit buggy; and moreover we didn't have time to implement DTMF… which was a bit of a shame as you can only unmute yourself on the ZipDX bridge via DTMF *5!</p>
<p>But in general, the mini-hackathon was a success and it was great fun to be able to listen into VUC via the bridge and demonstrate the first ever Matrix&lt;-&gt;SIP call!  The bot ran as @vucbot:matrix.org, although is turned off now as there's no VUC to listen to, and the FreeSWITCH &amp; bot were only deployed temporarily.  Once the kinks mentioned above are sorted out we'll hopefully set it running again permanently!  And hopefully this little bot is an exciting precursor to more robust Matrix bridges and application services in the months to come...</p>
<p>If you're crazy enough to want to try to run the bot yourself, then it should actually be quite simple to get up and running:</p>
<p><code> # grab synapse if you don't have it already
git clone https://github.com/matrix-org/synapse.git synapse-develop
cd synapse-develop</p>
<h1 id="you-ll-need-the-develop-branch-as-we-haven-t-released-a-build-with-vertobot-in-it-yet">you'll need the develop branch, as we haven't released a build with vertobot in it yet</h1>
<p>git checkout develop
cd contrib/vertobot</p>
<h1 id="you-ll-need-cpanm-to-install-the-perl-dependencies">you'll need cpanm to install the perl dependencies</h1>
<p>cpan -i App::cpanminus
cpanm --installdeps .</p>
<h1 id="manually-install-a-develop-version-of-net-async-matrix-as-cpanm-can-t-figure-it-out-seemingly">manually install a develop version of Net::Async::Matrix as cpanm can't figure it out, seemingly</h1>
<p>cpanm --force PEVANS/Net-Async-Matrix-0.11_002</p>
<h1 id="you-may-need-to-also-replace-the-croak-for-the-already-have-a-room-with-id-error-with-warn-in-net-async-matrix-if-the-bot-crashes-with-this-error">(you may need to also replace the 'croak' for the &quot;Already have a room with ID&quot; error with 'warn' in Net::Async::Matrix if the bot crashes with this error)</h1>
<h1 id="create-a-username-account-for-your-bot-on-a-matrix-homeserver-somewhere-at-this-point">create a username account for your bot on a Matrix homeserver somewhere at this point</h1>
<h1 id="set-up-a-config-file">set up a config file</h1>
<p>cp config.yaml mybot.yaml</p>
<h1 id="edit-mybot-yaml-to-taste-at-the-least-you-must-specify-the-login-password-homeserver-for-your-bot">edit mybot.yaml to taste - at the least you must specify the login &amp; password &amp; homeserver for your bot!</h1>
<h1 id="run-it">run it!</h1>
<p>./bot.pl -c mybot.yaml
</code></p>
<p>Finally, huge thanks to everyone to helped make the VUC bridging escapade work out - Emil Ivov at Jitsi, James Body, Andy Smith and Giacomo Vacca at Truphone, Anthony Minesalle &amp; Mike Jerris &amp; Brian West at FreeSWITCH for writing freeswitch and mod_verto, Tim Panton for the VUC intro and suggestion of mod_verto, Randy Resnick &amp; Michael Graves at VUC itself, and of course the Matrix team for glueing our side of it together!</p>
<p>Looking forward to lots more ambitious cross-protocol gatewaying and federation in future!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2014&#x2F;11&#x2F;29&#x2F;matrix-on-the-road-2-a-winning-tour&#x2F;" title="Matrix on the Road #2 - A winning tour!">Matrix on the Road #2 - A winning tour!</a></h1>
            <span>
                29.11.2014 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/amandine-le-pape">
                    Amandine Le Pape
                </a>
            </span>
            
        </header>
        <div>
            <p>Some updates on the conferences Matrix attended over the last 3 weeks: WebRTC Summit in Santa Clara, TAD Summit in Istanbul, WebRTC World West in San José and fOSSa in Rennes. Great shows, ending in lots of interesting discussions and new excitement in Matrix!</p>
<h2>WebRTC Summit (Santa Clara, November 4-6)</h2>
Matrix was a <a href="http://cloudcomputing.sys-con.com/node/3242708">sponsor</a> at the Santa Clara <a href="http://webrtcsummit.net/">WebRTC Summit</a> at CloudExpo, and opened the WebRTC track alongside our friends at <a href="http://www.openpeer.org">Open Peer / Hookflash</a>. Matthew presented Matrix as the missing signalling layer for WebRTC and as a good federated complement to MQTT and COAP for IoT use cases: you can find his presentation <a href="http://matrix.org/blog/wp-content/uploads/2014/11/2014-11-03-Matrix_Missing-Link_IOT.pdf">here</a>.
<p>Great techie discussions and debates down there, the stand was flooded with interested people and John had a hardtime answering everyone by himself on day 2!</p>
<p>But he still found a few minutes to do a TV interview for SYSCon TV on Tuesday evening! :)</p>
<p>[embed]http://youtu.be/JVq6S9V1Jcg[/embed]</p>
<h2>TAD Summit (Istanbul, November 12-13)</h2>
Matrix was a partner at <a href="http://tadsummit.com/2014/">TAD Summit</a> in Istanbul this year, a great opportunity to meet a very good mix of developers, industry players and mobile networks! TAD mixes conferences and technical workshops where everyone gets involved to create a vibrant ecosystem for Telecom Application Developers. Again really productive discussions and meetings as we continue our search for partners to help support the uptake of Matrix.
<p>Matthew's talk was fully recorded so just watch the video to get the real pitch!</p>
<p>[embed]http://youtu.be/ER3g4-4bFYk?list=PLO-gJ4-4x_IIYVTuLmVr8iUedvVdduYY4[/embed]</p>
<p>[embed]https://www.youtube.com/watch?v=As-5vVdXhu0[/embed]</p>
<h2>WebRTC World (San Jose, November 18-20)</h2>
Matrix's attendance at <a href="http://www.webrtcworld.com/conference/west/default.aspx">WebRTC World</a> in San Jose was more rewarding than expected! The team was ready to be part of the expo and give a talk on FOSS WebRTC options... but didn't hesitate to jump at the opportunity when a demo slot opened up! And that was a worthwhile decision as Matrix ended up winning not one but<strong> TWO awards from the demo:</strong> The <span style="color: #0000ff;"><strong>Audience Choice Award</strong></span>
 as the audience's favourite demo of the 10 shown on Tuesday, and also the overall <span style="color: #0000ff;"><strong>Best Social Integration Award</strong> </span>
from the Jury! So a big congrats to the dev team who were rushing to get the fine details ready in time and to Matthew for getting the audience's attention! And of course a even bigger thank you to everyone who voted for us, including in the Jury!
<p><a href="http://matrix.org/blog/wp-content/uploads/2014/11/sj.jpg"><img class="aligncenter size-medium wp-image-239" src="http://matrix.org/blog/wp-content/uploads/2014/11/sj-300x168.jpg" alt="Matthew at WebRTC World 2014" width="300" height="168" /></a></p>
<p>Of course this drew lots of interest, and WebRTC Expo ended up the busiest show ever for the team who pitched solidly at the booth for 2 days in a row!</p>
<div style="text-align: center;"><a href="http://matrix.org/blog/wp-content/uploads/2014/11/Audience_Choice_14.png"><img class="size-full wp-image-240" style="box-shadow: none ! important;" src="http://matrix.org/blog/wp-content/uploads/2014/11/Audience_Choice_14.png" alt="Audience_Choice_14" width="300" height="229" /></a> <a href="http://matrix.org/blog/wp-content/uploads/2014/11/Best_Social_Integration_14.png"><img class="size-medium wp-image-241" style="box-shadow: none ! important;" src="http://matrix.org/blog/wp-content/uploads/2014/11/Best_Social_Integration_14.png" alt="Best_Social_Integration_14" width="300" height="229" /></a></div>
<h2>fOSSa (Rennes, November 20)</h2>
And eventually, while Matthew and John were celebrating in San José (or flying home, more accurately), Amandine was also evangelising at home in Rennes (France), where <a href="https://fossa.inria.fr/">fOSSa </a>was gathering experts from the opensource world for 3 days. Matrix was presented within the Serendipity section on the conférence, "Le Carrefour des Possibles": 6 minutes to pitch an open project that making dreams possible.
<p>So if you speak French or are not afraid to only read from <a href="http://matrix.org/blog/wp-content/uploads/2014/11/2014-11-17.2-Matrix.pdf">the slides</a>, check out the video the team made of the pitch. The official one should be available soon!</p>
<p>[embed]http://youtu.be/DyL9Ue0KlBU[/embed]</p>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;54&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">55 / 57</span>
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;56&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
