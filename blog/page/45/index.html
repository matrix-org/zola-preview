<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    </head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;11&#x2F;02&#x2F;user-experience-preview-end-to-end-encryption-by-default&#x2F;" title="User Experience Preview: End-to-end encryption">User Experience Preview: End-to-end encryption</a></h1>
            <span>
                02.11.2018 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/nad-chishtie">
                    Nad Chishtie
                </a>
            </span>
            
        </header>
        <div>
            <p><span style="font-weight: 400">It's been a long-standing goal to enable end-to-end encryption by default for private communication in Matrix. The technical effort so far has included </span>
<a href="/docs/guides/e2e_implementation.html"><span style="font-weight: 400">our libolm library</span></a><span style="font-weight: 400">, </span>
<a href="https://www.nccgroup.trust/us/our-research/matrix-olm-cryptographic-review/"><span style="font-weight: 400">an independent cryptographic review</span></a><span style="font-weight: 400"> and </span>
<a href="https://github.com/vector-im/riot-web/issues/6779"><span style="font-weight: 400">a massive backlog of feature development and bug fixes</span></a><span style="font-weight: 400">. Today, instead I'd like to focus on some of the User Experience challenges and goals we're facing.</span></p>
<p><span style="font-weight: 400">I should also introduce myself—I'm Nad Chishtie (</span>
<a href="https://matrix.to/#/@nadonomy:matrix.org"><span style="font-weight: 400">@nadonomy:matrix.org</span></a><span style="font-weight: 400">) and I recently joined the Matrix core team (at New Vector) as Lead Designer, most recently focusing on end-to-end encryption.</span></p>
<p>When using encrypted messages, most existing services fall short in one or all of the following:</p>
<ul>
 	<li style="font-weight: 400"><span style="font-weight: 400">They don't allow you to use multiple devices independently. For example, a web session might be locally tethered to a mobile device.</span>
</li>
 	<li style="font-weight: 400"><span style="font-weight: 400">They don't support a way to restore or temporarily access message history. For example, if you don't have physical access to your main device because it's broken or has been stolen.</span>
</li>
 	<li style="font-weight: 400"><span style="font-weight: 400">They don't allow you to verify that devices are controlled by their owners rather than eavesdroppers, and persist that trust across multiple devices, sessions or rooms.</span>
</li>
</ul>
<span style="font-weight: 400">Modern users, even those we talk to at security and privacy-led organisations, expect these features to 'just work' by default out of the box. Before enabling end-to-end encryption by default, we've been hard at work figuring out how we can deliver these features without compromising security or usability.</span>
<p><span style="font-weight: 400">(For some users, restrictions such as limiting the number of places encryption keys reside, and not having a synchronised message history may be desirable </span>
<i><span style="font-weight: 400">security features.</span>
</i><span style="font-weight: 400"> We'll support these cases, but just not as the default behaviour.)</span></p>
<p><span style="font-weight: 400">Let's dive in to some of the fundamental concepts we'll be putting forward to deliver a default end-to-end encryption experience that makes sense for most modern users. In this post we'll look at an overview of</span>
<b> work-in-progress wireframes</b><span style="font-weight: 400">, in the spirit of designing in the open and gathering feedback from the wider Matrix community. Please note that these don't represent the actual interface design.</span></p>
<h2 id="cross-signing-personal-devices">Cross-signing personal devices</h2>
<p><a href="/blog/wp-content/uploads/2018/11/E2E-UX-Cross-signing.png"><img class="alignnone wp-image-3708 size-large" src="/blog/wp-content/uploads/2018/11/E2E-UX-Cross-signing-1024x576.png" alt="" width="1024" height="576" /></a></p>
<p><span style="font-weight: 400">When logging in to a new device, you'll be able to use an existing device to verify your new one. Verification is done by </span>
<a href="https://github.com/matrix-org/matrix-doc/issues/1543"><span style="font-weight: 400">scanning a QR code</span></a><span style="font-weight: 400"> on whichever device has the most convenient camera to use, or by </span>
<a href="https://github.com/matrix-org/matrix-doc/issues/1267"><span style="font-weight: 400">comparing a short text string</span></a><span style="font-weight: 400">. You only have to complete this process once to mutually verify both devices.</span></p>
<p><a href="https://github.com/matrix-org/matrix-doc/issues/1680"><span style="font-weight: 400">Verifying your new device by cross-signing</span></a><span style="font-weight: 400"> transfers encryption keys, giving it access to your encrypted messages, and also signals to other users that the new device is trustworthy.</span></p>
<h2 id="secure-message-recovery">Secure Message Recovery</h2>
<p><a href="/blog/wp-content/uploads/2018/11/E2E-UX-Secure-Message-Recovery.gif.gif"><img class="alignnone size-large wp-image-3725" src="/blog/wp-content/uploads/2018/11/E2E-UX-Secure-Message-Recovery.gif.gif" alt="" width="1024" height="577" /></a></p>
<p><span style="font-weight: 400">To the end user, Secure Message Recovery works a lot like setting up disk encryption or a password manager. A user can optionally secure their message history using a recovery passphrase and/or key. If logged out, or using another device, the user can use the recovery passphrase or key to access their encrypted message history.</span></p>
<p><span style="font-weight: 400">In practise, this </span>
<a href="https://github.com/vector-im/riot-web/issues/5675"><span style="font-weight: 400">incrementally encrypts and backs up encryption keys to a user's homeserver</span></a><span style="font-weight: 400">, kept secure by the homeserver never having access to the passphrase or key. Like cross-signing, using a recovery passphrase or key will also signal to other users that a device is trustworthy.</span></p>
<p><span style="font-weight: 400">We think that in most cases users will cross-sign personal devices, but as a safety net (for example, if a user's devices are broken or lost) Secure Message Recovery is an invaluable tool for users to minimise the chance of them losing their encrypted message history.
</span></p>
<h2 id="people-should-trust-people">People should trust people</h2>
<p><a href="/blog/wp-content/uploads/2018/11/E2E-UX-Verification.gif"><img class="alignnone size-large wp-image-3726" src="/blog/wp-content/uploads/2018/11/E2E-UX-Verification.gif" alt="" width="1024" height="577" /></a></p>
<p><span style="font-weight: 400">With both cross-signing and Secure Message Recovery in place, we think that people should trust people, instead of individual devices. Now, when you verify a device, it'll mark all of that users trusted devices as trusted.</span></p>
<p><span style="font-weight: 400">Gone are the days of every person you talk to having to independently verify your new device upgrade. Like cross-signing, you can verify a device by scanning a QR code or comparing a short text string.</span></p>
<h2 id="sensible-and-extensible">Sensible and extensible</h2>
<p><a href="/blog/wp-content/uploads/2018/11/E2E-UX-Settings.gif"><img class="alignnone size-large wp-image-3727" src="/blog/wp-content/uploads/2018/11/E2E-UX-Settings.gif" alt="" width="1024" height="577" /></a></p>
<p><span style="font-weight: 400">In Riot, we're implementing these features with a sensible default experience that strikes a balance between usability and security. We think most people would prefer to trust cross-signed devices, and that user trust shouldn't block encryption. However, if you aren't most people, you'll be free to configure whatever level of security you need.
</span></p>
<h2 id="in-summary">In Summary</h2>
<p><span style="font-weight: 400">With all of the above in place, and after resolving any remaining technical issues, users will be able to:</span></p>
<ul>
 	<li>Use end-to-end encryption by default in private rooms.</li>
 	<li><span style="font-weight: 400">Use an existing device or Secure Message Recovery to access their encrypted message history on multiple devices, and to signal device trust to other users.</span>
</li>
 	<li><span style="font-weight: 400">Access their encrypted message history using Secure Message Recovery, by storing encrypted message keys on their homeserver.</span>
</li>
 	<li><span style="font-weight: 400">Mark a user as trusted by verifying one of their devices, persisting across all rooms and devices.</span>
</li>
 	<li>Keep their encrypted messages out of the hands of eavesdroppers.</li>
 	<li>Opt out, or further configure if they have more specific security requirements.</li>
</ul>
<span style="font-weight: 400">There's more nuance to making all this work than we can cover in this overview post; things like recovery key management and immutable security notifications are all important pieces of the puzzle. For further reading, we're filling up more detail in </span>
<a href="https://docs.google.com/document/d/1TIZarCxP0UHcn52o3YdKrFs_ESB3YvDxvCY_SoY-FUk/edit?usp=sharing"><span style="font-weight: 400">UX reference documentation</span></a><span style="font-weight: 400">, </span>
<a href="https://xd.adobe.com/view/aa55e61a-c9b5-4ab2-5d45-71e40b5447dc-dc64/"><span style="font-weight: 400">interactive wireframes</span></a><span style="font-weight: 400">, </span>
<a href="https://github.com/vector-im/riot-meta/issues/222"><span style="font-weight: 400">GitHub issues</span></a><span style="font-weight: 400"> and a </span>
<a href="https://docs.google.com/spreadsheets/d/1Bv2Pf4rz62nB8omDFoolRmONmU47zIeGewJBbPeADoM/edit#gid=0"><span style="font-weight: 400">work-in-progress threat model</span></a><span style="font-weight: 400">. </span>
<p><span style="font-weight: 400">Over the coming days we're polishing wireframes, nomenclature, iconography and microcopy as we dig deeper into development and implementation, as well as designing these features for </span>
<a href="https://medium.com/@dharmaone/redesigning-matrix-riot-chat-c7bffd9eb841"><span style="font-weight: 400">the upcoming Riot redesign</span></a><span style="font-weight: 400">. Cryptography needn't be intimidating, and we're excited to iterate on these advanced features to make them work for everyone.</span></p>
<p><span style="font-weight: 400">We'd love to hear your feedback! Let us know your thoughts here or in </span>
<a href="https://matrix.to/#/#e2e-dev:matrix.org"><span style="font-weight: 400">#e2e-dev:matrix.org</span></a><span style="font-weight: 400">.</span></p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;11&#x2F;01&#x2F;synapse-v0-33-8-is-here&#x2F;" title="Synapse v0.33.8 is here!">Synapse v0.33.8 is here!</a></h1>
            <span>
                01.11.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>Wowzers - our 8th dot release for v0.33!</p>
<p>This time we have a bunch of bug fixes and db performance improvements as well as better support for auto-join rooms and the ability for admins to limit who can create rooms aliases.</p>
<p>v0.33.8 also contains more python 3 fixes: we are running most of matrix.org on python 3 as of right now and seeing some pretty impressive performance improvements. Look out for Hawkowl's write up coming soon.</p>
<p>For those interested in what we are working on right now, take a look at our <a href="https://github.com/orgs/matrix-org/projects/2">task board</a>.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.8">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>.</p>
<h3 id="synapse-0-33-8-changelog">Synapse 0.33.8 changelog</h3>
<h4 id="features">Features</h4>
<ul>
 	<li>Servers with auto-join rooms will now automatically create those rooms when the first user registers (<a href="https://github.com/matrix-org/synapse/issues/3975" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3975/hovercard" aria-describedby="hovercard-aria-description">#3975</a>)</li>
 	<li>Add config option to control alias creation (<a href="https://github.com/matrix-org/synapse/issues/4051" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4051/hovercard" aria-describedby="hovercard-aria-description">#4051</a>)</li>
 	<li>The register_new_matrix_user script is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/4085" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4085/hovercard" aria-describedby="hovercard-aria-description">#4085</a>)</li>
 	<li>Configure Docker image to listen on both ipv4 and ipv6. (<a href="https://github.com/matrix-org/synapse/issues/4089" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4089/hovercard" aria-describedby="hovercard-aria-description">#4089</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Fix HTTP error response codes for federated group requests. (<a href="https://github.com/matrix-org/synapse/issues/3969" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3969/hovercard" aria-describedby="hovercard-aria-description">#3969</a>)</li>
 	<li>Fix issue where Python 3 users couldn't paginate /publicRooms (<a href="https://github.com/matrix-org/synapse/issues/4046" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4046/hovercard" aria-describedby="hovercard-aria-description">#4046</a>)</li>
 	<li>Fix URL previewing to work in Python 3.7 (<a href="https://github.com/matrix-org/synapse/issues/4050" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4050/hovercard" aria-describedby="hovercard-aria-description">#4050</a>)</li>
 	<li>synctl will use the right python executable to run worker processes (<a href="https://github.com/matrix-org/synapse/issues/4057" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4057/hovercard" aria-describedby="hovercard-aria-description">#4057</a>)</li>
 	<li>Manhole now works again on Python 3, instead of failing with a "couldn't match all kex parts" when connecting. (<a href="https://github.com/matrix-org/synapse/issues/4060" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4060/hovercard" aria-describedby="hovercard-aria-description">#4060</a>, <a href="https://github.com/matrix-org/synapse/issues/4067" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4067/hovercard" aria-describedby="hovercard-aria-description">#4067</a>)</li>
 	<li>Fix some metrics being racy and causing exceptions when polled by Prometheus. (<a href="https://github.com/matrix-org/synapse/issues/4061" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4061/hovercard" aria-describedby="hovercard-aria-description">#4061</a>)</li>
 	<li>Fix bug which prevented email notifications from being sent unless an absolute path was given for <code>email_templates</code>. (<a href="https://github.com/matrix-org/synapse/issues/4068" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4068/hovercard" aria-describedby="hovercard-aria-description">#4068</a>)</li>
 	<li>Correctly account for cpu usage by background threads (<a href="https://github.com/matrix-org/synapse/issues/4074" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4074/hovercard" aria-describedby="hovercard-aria-description">#4074</a>)</li>
 	<li>Fix race condition where config defined reserved users were not being added to
the monthly active user list prior to the homeserver reactor firing up (<a href="https://github.com/matrix-org/synapse/issues/4081" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4081/hovercard" aria-describedby="hovercard-aria-description">#4081</a>)</li>
 	<li>Fix bug which prevented backslashes being used in event field filters (<a href="https://github.com/matrix-org/synapse/issues/4083" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4083/hovercard" aria-describedby="hovercard-aria-description">#4083</a>)</li>
</ul>
<h4 id="internal-changes">Internal Changes</h4>
<ul>
 	<li>Add information about the <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> playbook (<a href="https://github.com/matrix-org/synapse/issues/3698" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3698/hovercard" aria-describedby="hovercard-aria-description">#3698</a>)</li>
 	<li>Add initial implementation of new state resolution algorithm (<a href="https://github.com/matrix-org/synapse/issues/3786" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3786/hovercard" aria-describedby="hovercard-aria-description">#3786</a>)</li>
 	<li>Reduce database load when fetching state groups (<a href="https://github.com/matrix-org/synapse/issues/4011" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4011/hovercard" aria-describedby="hovercard-aria-description">#4011</a>)</li>
 	<li>Various cleanups in the federation client code (<a href="https://github.com/matrix-org/synapse/issues/4031" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4031/hovercard" aria-describedby="hovercard-aria-description">#4031</a>)</li>
 	<li>Run the CircleCI builds in docker containers (<a href="https://github.com/matrix-org/synapse/issues/4041" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4041/hovercard" aria-describedby="hovercard-aria-description">#4041</a>)</li>
 	<li>Only colourise synctl output when attached to tty (<a href="https://github.com/matrix-org/synapse/issues/4049" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4049/hovercard" aria-describedby="hovercard-aria-description">#4049</a>)</li>
 	<li>Refactor room alias creation code (<a href="https://github.com/matrix-org/synapse/issues/4063" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4063/hovercard" aria-describedby="hovercard-aria-description">#4063</a>)</li>
 	<li>Make the Python scripts in the top-level scripts folders meet pep8 and pass flake8. (<a href="https://github.com/matrix-org/synapse/issues/4068" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4068/hovercard" aria-describedby="hovercard-aria-description">#4068</a>)</li>
 	<li>The README now contains example for the Caddy web server. Contributed by steamp0rt. (<a href="https://github.com/matrix-org/synapse/issues/4072" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4072/hovercard" aria-describedby="hovercard-aria-description">#4072</a>)</li>
 	<li>Add psutil as an explicit dependency (<a href="https://github.com/matrix-org/synapse/issues/4073" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4073/hovercard" aria-describedby="hovercard-aria-description">#4073</a>)</li>
 	<li>Clean up threading and logcontexts in pushers (<a href="https://github.com/matrix-org/synapse/issues/4075" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4075/hovercard" aria-describedby="hovercard-aria-description">#4075</a>)</li>
 	<li>Correctly manage logcontexts during startup to fix some "Unexpected logging context" warnings (<a href="https://github.com/matrix-org/synapse/issues/4076" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4076/hovercard" aria-describedby="hovercard-aria-description">#4076</a>)</li>
 	<li>Give some more things logcontexts (<a href="https://github.com/matrix-org/synapse/issues/4077" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4077/hovercard" aria-describedby="hovercard-aria-description">#4077</a>)</li>
 	<li>Clean up some bits of code which were flagged by the linter (<a href="https://github.com/matrix-org/synapse/issues/4082" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4082/hovercard" aria-describedby="hovercard-aria-description">#4082</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;29&#x2F;introducing-the-matrix-org-foundation-part-1-of-2&#x2F;" title="Introducing the Matrix.org Foundation (Part 1 of 2)">Introducing the Matrix.org Foundation (Part 1 of 2)</a></h1>
            <span>
                29.10.2018 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>Back in June we blogged about <a href="/blog/2018/06/20/towards-open-governance-for-matrix-org/">the plan of action to establish a formal open governance system</a> for the Matrix protocol: introducing both the idea of the Spec Core Team to act as the neutral technical custodian of the Matrix Spec, as well as confirming the plan to incorporate the Matrix.org Foundation to act as a neutral non-profit legal entity which can act as the legal Guardian for Matrix's intellectual property, gather donations to fund Matrix work, and be legally responsible for maintaining and evolving the spec in a manner which benefits the whole ecosystem without privileging any individual commercial concerns.  We published a draft proposal for the new governance model at <a href="https://github.com/matrix-org/matrix-doc/issues/1318">MSC1318: a proposal for open governance of the Matrix.org Spec</a> to gather feedback and to trial during the <a href="/docs/spec/proposals">day-to-day development of the spec</a>. Otherwise, we refocused on getting a 1.0 release of the Spec out the door, given there's not much point in having a fancy legal governance process to safeguard the evolution of the Spec when we don't even have a stable initial release!</p>
<p>We were originally aiming for end of August to publish a stable release of all Matrix APIs (and thus a so-called 1.0 of the overall standard) - and in the end we managed to <a href="/blog/2018/09/03/matrix-spec-update-august-2018/">publish stable releases of 4 of the 5 APIs</a> (Client-Server, Application Service, Identity Service and Push APIs) as well as a <a href="https://github.com/matrix-org/matrix-doc/commits/master/specification/server_server_api.rst">major overhaul</a> of the Server-Server (SS) API.  However, the SS API work has run on much longer than expected, as we've ended up both redesigning and needing to implement many major changes to to the protocol: the new State Resolution algorithm (<a href="https://github.com/matrix-org/matrix-doc/issues/1442">State Resolution Reloaded</a>) to fix state resets; versioned rooms (in order to upgrade to the new algorithm); changing event IDs to be hashes; and fixing a myriad federation bugs in Synapse.  Now, the remaining work is progressing steadily (you can see the progress over at <a href="https://github.com/orgs/matrix-org/projects/2">https://github.com/orgs/matrix-org/projects/2</a> - although some of the cards are redacted because they refer to non-spec consulting work) - and <strong>the end is in sight</strong>!</p>
<p>So, in preparation for the upcoming Matrix 1.0 release, we've been moving ahead with the rest of the open governance plan - and we're happy to announce that as of a few hours ago,<strong> the initial incarnation of The Matrix.org Foundation exists!</strong></p>
<p><a href="/blog/wp-content/uploads/2018/10/Certificate.png"><img class="aligncenter wp-image-3691" src="/blog/wp-content/uploads/2018/10/Certificate-723x1024.png" alt="" width="496" height="702" /></a></p>
<p>Now, it's important to understand that <strong>this process is not finished </strong>- what we've done is to set up a solid initial basis for the Foundation in order to finish refining <a href="https://github.com/matrix-org/matrix-doc/issues/1318">MSC1318</a> and turning it into the full Articles of Association of the Foundation (i.e. the legal framework which governs the remit of the Foundation), which we'll be working on over the coming weeks.</p>
<p>In practice, what this means is that in the first phase, today's Foundation gives us:</p>
<ul>
 	<li>A UK <strong>non-profit company</strong> - technically incorporated as a <a href="https://en.wikipedia.org/wiki/Private_company_limited_by_guarantee">private company, limited by guarantee</a>.</li>
 	<li><strong>Guardians</strong>, whose role is to be legally responsible for ensuring that the Foundation (and by extension the Spec Core Team) keeps on mission and neutrally protects the development of Matrix.  Matrix's Guardians form the Board of Directors of the Foundation, and will provide a 'checks and balances' mechanism between each other to ensure that all Guardians act in the best interests of the protocol and ecosystem.<br/ ><br />For the purposes of initially setting up the Foundation, the initial Guardians are Matthew & Amandine - but in the coming weeks we're expecting to appoint at least three independent Guardians in order to ensure that the current team form a minority on the board and ensure the neutrality of the Foundation relative to Matthew & Amandine's day jobs at New Vector.The profile we're looking for in Guardians are: folks who are independent of the commercial Matrix ecosystem (and especially independent from <a href="https://vector.im">New Vector</a>), and may even not be members of today's Matrix community, but who are deeply aligned with the mission of the project, and who are respected and trusted by the wider community to uphold the guiding principles of the Foundation and keep the other Guardians honest.</li>
 	<li>An immutable <strong>asset lock</strong>, to protect the intellectual property of the Foundation and prevent it from ever being sold or transferred elsewhere.</li>
 	<li>An immutable <strong>mission lock</strong>, which defines the Foundation's mission as a non-profit neutral guardian of the Matrix standard, with an initial formal goal of finalising the open governance process.  To quote article 4 from the initial Articles of Association:
<ul>
 	<li>
<div class="page" title="Page 8">
<div class="layoutArea">
<div class="column">4. The objects of the Foundation are for the benefit of the community as a whole to:</div>
<div class="column">
<p>4.1.1  empower users to control their communication data and have freedom over their communications infrastructure by creating, maintaining and promoting Matrix as an openly standardised secure decentralised communication protocol and network, open to all, and available to the public for no charge;</p>
</div>
</div>
4.1.2  build and develop an appropriate governance model for Matrix through the Foundation, in order to drive the adoption of Matrix as a single global federation, an open standard unencumbered from any proprietary intellectual property and/or software patents, minimising fragmentation (whilst encouraging experimentation), maximising speed of development, and prioritising the long-term success and growth of the overall network over the commercial concerns of an individual person or persons.
</div></li>
</ul>
</li>
 	<li>You can read the initial <a href="/blog/wp-content/uploads/2018/10/Constitution.pdf">Articles of Association</a> here (although all the rest of it is fairly generic legal boilerplate for a non-profit company at this point which hasn't yet been tuned; the Matrix-specific stuff is Article 4 as quoted above).  You can also see the initial details of the Foundation straight from the horse's mouth over at <a href="https://beta.companieshouse.gov.uk/company/11648710">https://beta.companieshouse.gov.uk/company/11648710</a>.</li>
</ul>
Then, in the <strong>next and final phase</strong>, what remains is to:
<ul>
 	<li>Appoint 3+ more Guardians (see above).</li>
 	<li>Finalise<a href="https://github.com/matrix-org/matrix-doc/issues/1318"> MSC1318</a> and incorporate the appropriate bits into the Articles of Associations (AoA).  (We might literally edit MSC1318 directly into the final AoA, to incorporate as much input as possible from the full community)</li>
 	<li>Tune the boilerplate bits of the AoA to incorporate the conclusions of<a href="https://github.com/matrix-org/matrix-doc/issues/1318"> MSC1318</a>.</li>
 	<li>Register the Foundation as a <a href="https://www.gov.uk/government/organisations/office-of-the-regulator-of-community-interest-companies">Community Interest Company</a>, to further anchor the Foundation as being for the benefit of the wider community.</li>
 	<li>Perform an Asset Transfer of any and all Matrix.org property from New Vector to the Foundation (especially the Matrix.org domain and branding, and donations directed to Matrix.org).</li>
</ul>
So there you have it! It's been a long time in coming, and huge thanks to everyone for their patience and support in getting to this point, but finally The Matrix.org Foundation exists.  Watch this space over the coming weeks as we announce the Guardians and finish bootstrapping the Foundation into its final long-term form!  Meanwhile, any questions: come ask in <a href="https://matrix.to/#/#matrix-spec-process:matrix.org">#matrix-spec-process:matrix.org</a> or in the blog comments here.
<p>thanks,</p>
<p>Matthew, Amandine, and the forthcoming Guardians of [the] Matrix!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;27&#x2F;this-week-in-matrix-2018-10-26&#x2F;" title="This Week in Matrix 2018-10-26">This Week in Matrix 2018-10-26</a></h1>
            <span>
                27.10.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <p>We have a LOT of updates this week, so let's dive straight in!</p>
<h2 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h2>
<p>We've covered the growth of this project several times in TWIM, but I wanted to give a little more attention to the work <a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> has been doing with <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a>. Synapse is a large Python project with many configurable options, and many optional components, so installing it has sometimes been a challenge. I have seen many reports that using Ansible and Docker, and in particular using these playbooks from <a href="https://matrix.to/#/@slavi:devture.com">Slavi</a>, is a more sane way to install Synapse. The tools get a lot of attention and updates. This week, Slavi reports:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> now has a <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/maintenance-checking-services.md">self-check command</a> that can help diagnose various configuration problems with the setup (DNS records being misconfigured, firewall ports not being open, etc).</p>
</blockquote>
<p>For support and more info, come join the associated room: <a href="https://matrix.to/#/#matrix-docker-ansible-deploy:devture.com">#matrix-docker-ansible-deploy:devture.com</a>
&gt;</p>
<blockquote>
<p><em>Late breaking news</em> from <a href="https://matrix.to/#/@slavi:devture.com">Slavi</a>:</p>
</blockquote>
<blockquote>
<p>One more <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> update: the playbook can now <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bridge-mautrix-whatsapp.md">set up Whatsapp-bridging</a> via <a href="https://github.com/tulir/mautrix-whatsapp">mautrix-whatsapp</a>. Thanks to <a href="https://github.com/izissise">@izissise</a>!</p>
</blockquote>
<h2 id="dimension">Dimension</h2>
<p>Dimension is an integration manager for Matrix. It's written and maintained by <a href="https://github.com/turt2live">TravisR</a>, and allows you to an a pre-defined selection of widgets, bots and bridges to improve your self-hosted Matrix experience. Check out: <a href="https://dimension.t2bot.io/">https://dimension.t2bot.io/</a>. This week, TravisR reports:</p>
<blockquote>
<p>Dimension has received quite a lot of updates over the last week. Here's what's hot off the press:</p>
<ul>
 	<li>4 new bridges can be self-hosted and managed in Dimension: Telegram, Webhooks, Slack, and Gitter.</li>
 	<li>3 new widgets are available: Grafana, TradingView, and Spotify.</li>
 	<li>Add your own custom bots for people to add to their rooms.</li>
 	<li>A dark theme has been added and is automatically applied if you use the dark theme in Riot.</li>
 	<li>The overall UI has been updated to be slightly more modern and less bright orange.</li>
 	<li>Various bug fixes and improvements (is it even possible to have a changelog without this?)</li>
</ul>
As per usual, if you find any bugs or have ideas for things to add to Dimension feel free to come by <a href="https://matrix.to/#/#dimension:t2bot.io">#dimension:t2bot.io</a>
</blockquote>
<h2 id="mautrix-telegram">mautrix-telegram</h2>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> has been working on <a href="https://github.com/tulir/mautrix-telegram">mautrix-telegram</a>, and has made some massive performance improvements:</p>
<blockquote>
<p><a href="https://github.com/tulir/mautrix-telegram">mautrix-telegram</a> now uses the non-ORM part of SQLAlchemy for database tables that are used often. That change made the CPU usage on the t2bot.io instance drop from ~100% to ~7%</p>
</blockquote>
<p>We have graphs to illustrate the improvements:</p>
<p><a href="/blog/wp-content/uploads/2018/10/mautrix-telegram1.png"><img class="alignnone size-full wp-image-3683" src="/blog/wp-content/uploads/2018/10/mautrix-telegram1.png" alt="" width="471" height="174" /></a></p>
<p><a href="/blog/wp-content/uploads/2018/10/mautrix-telegram2.png"><img class="alignnone size-full wp-image-3682" src="/blog/wp-content/uploads/2018/10/mautrix-telegram2.png" alt="" width="474" height="174" /></a></p>
<p><a href="https://github.com/turt2live">TravisR</a>, who hosts the bridge on <a href="https://t2bot.io/telegram">t2bot.io</a>, reports that the bridge is now effectively instantaneous!</p>
<blockquote>
<p>The bottleneck has returned to being synapse instead of the bridge</p>
</blockquote>
<h2 id="discord-bridge-0-3-0-rc1">Discord Bridge 0.3.0-rc1</h2>
<p>A tonne of work has happened on the <a href="https://github.com/Half-Shot/matrix-appservice-discord">Discord Bridge</a>, and it has all been brought together in <a href="https://github.com/Half-Shot/matrix-appservice-discord/releases/tag/0.3.0-rc1">0.3.0-rc1</a>.</p>
<p>From the release notes, this is just a subset of the features:</p>
<ul>
 	<li><a href="https://github.com/Half-Shot/matrix-appservice-discord/pull/251">#251</a> Support for Postgresql and a newer SQLite3 backend!</li>
 	<li><a href="https://github.com/Half-Shot/matrix-appservice-discord/pull/182">#182</a> Replace npmlog with winston, for logging to files and better logging overall.</li>
 	<li><a href="https://github.com/Half-Shot/matrix-appservice-discord/pull/221">#221</a> Add support for <code>m.sticker</code>.</li>
 	<li><a href="https://github.com/Half-Shot/matrix-appservice-discord/pull/210">#210</a> Discord-side moderation of matrix users.</li>
 	<li><a href="https://github.com/Half-Shot/matrix-appservice-discord/pull/259">#259</a> <a href="https://user-images.githubusercontent.com/2072976/47538909-984adc80-d8c5-11e8-9c82-4fef2c57ffec.png">Show Matrix replies as Discord embeds</a>.</li>
 	<li><a href="https://github.com/Half-Shot/matrix-appservice-discord/pull/164">#164</a> Bot will now mention name, topic and membership changes on Discord.</li>
 	<li><a href="https://github.com/Half-Shot/matrix-appservice-discord/pull/175">#175</a> Add special discord keys onto m.room.member for ghosts</li>
</ul>
Go check out the full release notes if you're interested in the Bridge as there are many more changes. <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> also noted:
<blockquote>
<p>Shoutout to our new member of the team, <a href="https://github.com/Sorunome">@Sorunome</a> who did a lot of the review work behind the scenes for this release. Also, thank you to everyone who submitted a PR or an issue!</p>
</blockquote>
<h2 id="slack-bridge-0-2-0-released">Slack Bridge 0.2.0 released!</h2>
<p>We covered progress on the Slack Bridge previously, but <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> has now declared it ready for 0.2.0 final! The bridge is reportedly running and very stable - go try it out now!</p>
<p><a href="https://github.com/matrix-org/matrix-appservice-slack/releases/tag/0.2.0">https://github.com/matrix-org/matrix-appservice-slack/releases/tag/0.2.0</a></p>
<h2 id="spectral">Spectral</h2>
<p>We just missed out on this update from <a href="https://gitlab.com/spectral-im/spectral">Spectral</a> last week. <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> says:</p>
<blockquote>
<p>Spectral now provides an AppImage along with Flatpak build. Also, thanks to the notification codes from nheko, Spectral can show icons in notifications, and now enters corresponding room when clicking on the notification. It also gains several UI/UX improvements.<br />P.s. I have resubmitted Spectral to Flathub.</p>
</blockquote>
<h2 id="faqbot">FAQBot</h2>
<p><a href="https://github.com/Matrixcoffee">Coffee</a> featuring two weeks in a row in TWIM:</p>
<blockquote>
<p><a href="https://gitlab.com/Matrixcoffee/FAQBot">FAQBot</a> has been set free at last! Find its code at https://gitlab.com/Matrixcoffee/FAQBot, and its room at <a href="https://matrix.to/#/#faqbot:matrix.org">#faqbot:matrix.org</a>.</p>
</blockquote>
<p>FAQBot sits in various public rooms and answers common Matrix questions. Very useful for demonstrating the product to newcomers!</p>
<blockquote>
<p>Also, if anyone wants to help write answers for FAQBot, <a href="https://gitlab.com/Matrixcoffee/matrix-knowledge-base">https://gitlab.com/Matrixcoffee/matrix-knowledge-base</a> is the place.</p>
</blockquote>
<p>Strongly encourage people to go take a look at the knowledge base and see what can be improved.</p>
<h2 id="new-communities">New communities</h2>
<p><a href="https://matrix.to/#/@swedneck:swedneck.xyz">swedneck</a> has created a new gaming community on Matrix:</p>
<blockquote>
<p>we just bridged the linux-gaming community from discord to matrix, with a matrix community and individually bridged rooms/channels and all
main room is <a href="https://riot.im/develop/#/room/#general_linuxgaming:matrix.org">#general_linuxgaming:matrix.org</a>
community is <a href="https://matrix.to/#/+linux-gaming:matrix.org">+linux-gaming:matrix.org</a></p>
<p>i've set up an instance of matrix-appservice-discord, which is bridging some select rooms from the linux-gaming discord server to <a href="https://matrix.to/#/+linux-gaming:matrix.org">+linux-gaming:matrix.org</a></p>
<p>The Linux Gaming community has gotten a proper matrix community (+linux-gaming:matrix.org) with a fair few rooms in it, all of which are bridged to a discord channel via my matrix-appservice-discord instance.</p>
<p><a href="https://matrix.to/#/#prismo:matrix.org">#prismo:matrix.org</a> and <a href="https://matrix.to/#/#anfora:matrix.org">#anfora:matrix.org</a> have also been bridged to discord.</p>
</blockquote>
<h2 id="matrix-for-ansible-notifications">Matrix for Ansible notifications</h2>
<p>If you are using ansible, <a href="https://matrix.to/#/@jan.christian:gruenhage.xyz">jcgruenhage</a> has a useful addition that will allow you to get notifications from matrix:</p>
<blockquote>
<p>After over a month of waiting, the matrix notification module has been merged on to ansible devel which will be released as ansible 2.8 early next year. Src: <a href="https://github.com/ansible/ansible/pull/45823">https://github.com/ansible/ansible/pull/45823</a></p>
</blockquote>
<h2 id="mxisd-v1-2-0-beta-3">mxisd v1.2.0-beta.3</h2>
<p><a href="https://matrix.to/#/@max:kamax.io">Max</a>:</p>
<blockquote>
<p><a href="https://github.com/kamax-matrix/mxisd/releases/tag/v1.2.0-beta.3">mxisd v1.2.0-beta.3</a> is out with the start of a brand new Identity store based on arbitrary executable, to connect to anything and everything. Authentication is implemented at the moment (see <a href="https://github.com/kamax-matrix/mxisd/blob/v1.2.0-beta.3/docs/stores/exec.md">doc</a>). Feedback is very welcome to improve as much as possible for v1.2.0</p>
</blockquote>
<h2 id="msc1695-message-edits">MSC1695 Message Edits</h2>
<p>Discussion of message editing, in particular for how message edits from Bridges are handled has progressed. Nothing is final yet so check out <a href="https://github.com/matrix-org/matrix-doc/pull/1695">https://github.com/matrix-org/matrix-doc/pull/1695</a> for the latest.</p>
<h2 id="quaternion-translations-german-and-polish-now-available">Quaternion translations: German and Polish now available</h2>
<p>Last week we had an update from <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> to say that there was a new <a href="https://lokalise.co/public/730769035bbc328c31e863.62506391/">Lokalise project</a> to allow <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> translations. This week, we learn that the first translations are now available:</p>
<blockquote>
<p>First couple of translations - German and Polish - have made it to the released <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> 0.0.9.3 - thanks to krombel and krkk for their contributions! Swedish and Russian translations are in the works.</p>
</blockquote>
<h2 id="fluffychat">Fluffychat</h2>
<p>We anticipated it last week, but <a href="https://metalhead.club/@krille/100963253183527964">here it is</a>:</p>
<blockquote>
<p>The first stable release of the #matrix messenger #fluffychat is out now. ? Get it from: <a href="https://www.fluffy.chat">https://www.fluffy.chat</a><br />Thanks to all who have helped me. Thanks to regionetz for hosting the ubports.chat homeserver, thanks to @matrix for the awesome work, thanks to @Ubports for this awesome platform and to fabiyamada, advocatux, wayneoutthere, lionelb, Diogo, mithgarthsormr, mark, and all the awesome people from the community!!<br />With your help, Ubuntu Touch is still alive and has got a new stable messenger!</p>
</blockquote>
<h2 id="informo-new-bot-for-spec-changes">Informo: new bot for spec changes</h2>
<p><strong>Informo</strong> is an ambitious project hoping to be a &quot;decentralised news network, making information accessible&quot;. The project lives at <a href="https://github.com/Informo">https://github.com/Informo</a>, but for now you can join <a href="https://matrix.to/#/#discuss:weu.informo.network">#discuss:weu.informo.network</a> to get their latest news.</p>
<p>This week, <a href="https://matrix.to/#/@vabd:weu.informo.network">vabd</a> reports:</p>
<blockquote>
<p>We made a Matrix bot that shouts about updates to change submissions to Informo's specifications. It basically processes all changes made to the list of labels for each issue and PR of a GitHub repository's, and generates a notice message that it sends to the configured room(s). We made it because we wanted the people that are interested in Informo to know in real time about any change made to the state of proposals, along with the calls for public reviews. We just set it up in <a href="https://matrix.to/#/#discuss:weu.informo.network">#discuss:weu.informo.network</a>, and published its source code along with a built binary here: <a href="https://github.com/Informo/specs-bot">https://github.com/Informo/specs-bot</a><br />It might also be worth noticing that, although we designed it to shout about updates to Informo's specifications proposals, we also made it compatible with other projects, e.g. the Matrix specs</p>
</blockquote>
<h2 id="push-to-talk-functionality-with-jitsi-on-riot">Push-to-talk functionality with Jitsi on Riot</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> has been making improvements to Video Calling on Riot:</p>
<blockquote>
<p>I've been working on global push-to-talk functionality with Jitsi on Riot. I've got toggle on/off functionality working, but still trying for walkie-talkie mode. To do so, I need to get this library working with Riot: <a href="https://github.com/WilixLead/iohook">https://github.com/WilixLead/iohook</a><br />If anyone has experience with native Node modules and/or Electron, please hit me up! <a href="https://matrix.to/#/@andrewm:amorgan.xyz">@andrewm:amorgan.xyz</a></p>
</blockquote>
<h2 id="greetings-from-mozfest">Greetings from Mozfest</h2>
<p><a href="https://mozillafestival.org">Mozfest</a> is a tech-focused event happening this weekend in London. Neil and I have been along tonight and we've been chatting to a lot of people about Matrix, decentralisation and all those things we love! Check out our very short and sweet video below!</p>
<iframe src="https://www.youtube.com/embed/ZqfTYwDz9HM" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe>
<p>This is the start of Season Three of Matrix Live. Matrix Live seasons are variable in length, based on the data available so far. From this season, Matrix Live with change the format slightly, based on feedback. The videos will try to be a bit more interesting, varied, and deep. With this video being the start of a new season, it was meant to be more substantive with us talking to Mozfest-ites, but I lost track of time, so this shorter but still energetic video will hopefully convey the idea.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;25&#x2F;olm-3-0-0-released&#x2F;" title="Olm 3.0.0 released!">Olm 3.0.0 released!</a></h1>
            <span>
                25.10.2018 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                <a href="/author/hubert-chathi">
                    Hubert Chathi
                </a>
            </span>
            
        </header>
        <div>
            <p>Olm 3.0.0 has been released, which features several big changes. It can be downloaded from <a href="https://git.matrix.org/git/olm/">https://git.matrix.org/git/olm/</a>. The npm package for JavaScript can be downloaded from <a href="/packages/npm/olm/olm-3.0.0.tgz">https://matrix.org/packages/npm/olm/olm-3.0.0.tgz</a></p>
<h2 id="python">Python</h2>
<p>The biggest change is the merge of <a href="https://github.com/poljar/">poljar's</a> improved Python bindings. These bindings should be much easier to use for Python programmers, and are used by <a href="https://github.com/Zil0/">Zil0's</a> <a href="https://github.com/Zil0/matrix-python-sdk/tree/e2e_sample">E2E support in the Matrix Python SDK</a>.</p>
<p>Since the binding API has changed, existing Python code will need to be rewritten in order to work with this release.</p>
<p>poljar has also included <a href="https://poljar.github.io/python-olm/html/index.html">comprehensive documentation</a> for the new API.</p>
<h2 id="cmake">CMake</h2>
<p><a href="https://github.com/mujx/">mujx</a> contributed support for building olm using CMake. This should allow for easier building on different platforms. Currently the library can be built using either make or CMake. In the future, make support may be removed.</p>
<h2 id="javascript">JavaScript</h2>
<p>The JavaScript bindings now use <a href="https://webassembly.org/">WebAssembly</a> by default. WebAssembly is much faster than the previous <a href="http://asmjs.org/">asm.js</a> build, and is supported by recent versions of the most popular browsers. For compatibility with browsers that do not support WebAssembly, the asm.js version is still provided.</p>
<p>Due to adding support for WebAssembly, the API had to be changed slightly.
There is now an <code>init</code> function that must be called before the library can be used. This function will return a promise that will resolve once the library is ready to be used. The <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a> has not yet been updated to do this, so users of matrix-js-sdk should continue using olm 2.x until it has been updated.</p>
<h2 id="key-backups">Key backups</h2>
<p>The public key API has been updated to support the <a href="https://github.com/matrix-org/matrix-doc/pull/1538">proposal for server-side key backups</a>. More details on how to use these functions will be published in the future.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;22&#x2F;modular-the-world-s-first-matrix-homeserver-hosting-provider&#x2F;" title="Modular: the world’s first Matrix homeserver hosting provider!">Modular: the world’s first Matrix homeserver hosting provider!</a></h1>
            <span>
                22.10.2018 00:00
                —
                <a href="/category/in-the-news">
                    In the News
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi folks,</p>
<p>Today is one of those pivotal days for the Matrix ecosystem: we're incredibly excited to announce that the world's first ever dedicated homeserver hosting service is now fully available over at <a href="https://modular.im">https://modular.im</a>!  This really is a massive step for Matrix towards being a mature ecosystem, and we look forward to Modular being the first of many hosting providers in the years to come :D</p>
<p>Modular lets anyone spin up a dedicated homeserver and Riot via a super-simple web interface, rather than having to run and admin their own server.  It's built by New Vector (the startup who makes Riot and hires many of the Matrix core team), and comes from taking the various custom homeserver deployments for people like Status and TADHack and turning them into a paid service available to everyone.  You can even point your own DNS at it to get a fully branded dedicated homeserver for your own domain!</p>
<p><a href="https://modular.im"><img class="aligncenter wp-image-3662 size-full" src="/blog/wp-content/uploads/2018/10/181022-Modular-featured.png" alt="" width="800" height="241" /></a></p>
<p>Anyway, for full details, check out the <a href="https://medium.com/@RiotChat/introducing-modular-awesome-hosting-for-riot-matrix-665a7a0c616">announcement over at the Riot blog</a>.  We're particularly excited that Modular helps increase Matrix's decentralisation, and is really forcing us to ensure that the Federation API is getting the attention it deserves.  Hopefully it'll also reduce some load from the Matrix.org homeserver! Modular will also help Matrix by directly funding Matrix development by the folks working at New Vector, which should in turn of course benefit the whole ecosystem.</p>
<p>Many people reading this likely already run their own servers, and obviously they aren't the target audience for Modular.  But for organisations who don't have a sysadmin or don't want to spend the time to run their own server, hopefully Modular gives a very cost-effective way of running your own dedicated reliable Matrix server without having to pay for a sysadmin :)</p>
<p>We're looking forward to see more of these kind of services popping up in the future from everywhere in the ecosystem, and have started a <a href="/hosting/">Matrix Hosting page</a> on the Matrix website so that everyone can advertise their own: don't hesitate to get in touch if you have a service to be featured!</p>
<p>If you're interested, please swing by <a href="https://matrix.to/#/#modular:matrix.org">#modular:matrix.org</a> or feel free to shoot questions to <a href="mailto:support@modular.im">support@modular.im</a>.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;19&#x2F;this-week-in-matrix-2018-10-19&#x2F;" title="This Week in Matrix 2018-10-19">This Week in Matrix 2018-10-19</a></h1>
            <span>
                19.10.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="bridges-and-sdks">Bridges and SDKs</h2>
<h3 id="slack-bridge-0-2-0-rc1">Slack Bridge 0.2.0-rc1</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>, master of the bridge, has been working with <a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> to produce a new RC for <a href="https://github.com/matrix-org/matrix-appservice-slack">bridging Matrix and Slack</a>.</p>
<blockquote>
<p>We've got a Slack RC out at long last! Rejoice! It's absolutely massive and full of features.</p>
</blockquote>
<p>Half-Shot even provided this explanation of how it works:</p>
<blockquote>
<p>Integrations manager &gt; sign into slack &gt; click your channel &gt; ??? &gt; channel bridged :)</p>
</blockquote>
<p>See <a href="https://github.com/matrix-org/matrix-appservice-slack/releases/tag/0.2.0-rc1">release notes</a>:</p>
<blockquote>
<p>This is the first release of the Slack bridge. 0.1.0 has been the version number for previous efforts but was never an official release.</p>
</blockquote>
<p>To test this integration, use Riot on <a href="https://riot.im/develop">https://riot.im/develop</a> and select the &quot;Event Bridging&quot; when adding the integration.</p>
<h3 id="maubot-python">maubot Python</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>'s maubot bot system:</p>
<blockquote>
<p>The <a href="https://github.com/maubot/maubot">maubot</a> Python rewrite I <a href="/blog/2018/10/05/this-week-in-matrix-2018-10-05/#sdks">twimmed two weeks ago</a> is now complete. The plugin system seems to work well and I'm pretty sure I'll be able to implement proper plugin reloading now.
Next I'll implement plugin config storage and some way to manage maubot and plugins (maybe a plugin to manage plugins?)</p>
</blockquote>
<h2 id="clients">Clients</h2>
<h3 id="riot-web-0-17-riot-android-0-8-18-lazy-loading">Riot Web 0.17, Riot Android 0.8.18: Lazy Loading</h3>
<p>This week saw the launch of Riot Web 0.17, and two bug-release updates (0.17.1 and 0.17.2) to fix issues on the Windows desktop app. This version is substantially faster due to its use of Lazy Loading room members. <a href="https://medium.com/@RiotChat/riot-im-web-0-17-and-ios-0-7-6-smaller-footprint-faster-launch-5ddd18a65abb">Read more here</a>.   Meanwhile, Travis continues his foray into 'first impressions' bugs - including an initial implementation of .well-known URI support!</p>
<p>Riot Android 0.8.18 is also available from the <a href="https://play.google.com/store/apps/details?id=im.vector.app">Play Store</a> and <a href="https://f-droid.org/en/packages/im.vector.alpha/">F-Droid</a>, with Lazy Loading option available in the Labs menu (but still has a few bugs left).</p>
<p>Riot iOS meanwhile is busy implementing incremental server-side E2E key backups, and there's generally been a huge amount of work on E2E encryption UX across the board in preparation for all-new E2E on Web and iOS.  More details will be coming soon!</p>
<p>With this done, Riot is now getting a lot more attention on the <a href="https://medium.com/@RiotChat/a-sneak-peek-at-a-whole-new-riot-im-1114df653782">impending redesign</a>, with Bruno <a href="https://github.com/matrix-org/matrix-react-sdk/pulls?utf8=%E2%9C%93&q=is%3Apr+redesign+author%3Abwindels">starting to merge</a> code to the experimental branch.</p>
<h3 id="quaternion-0-0-9-3">Quaternion 0.0.9.3</h3>
<blockquote>
<p>After being in RC for a week, Quaternion 0.0.9.3 is ready and will be released over the weekend. Most importantly, you can now translate it into your language! Just head over to <a href="https://lokalise.co/public/730769035bbc328c31e863.62506391/">https://lokalise.co/public/730769035bbc328c31e863.62506391/</a>, register (you can optionally reuse your GitHub account), ask in #qmatrixclient:matrix.org to add your language to the list (if it's not there yet) and start translating!</p>
</blockquote>
<h3 id="coffee-on-matrix-console-for-android">Coffee on Matrix Console for Android</h3>
<p><a href="https://github.com/Matrixcoffee">Coffee</a> rolled a natural twenty for bravery this week.</p>
<blockquote>
<p>I have decided to take up maintainership of the <a href="https://github.com/matrix-org/matrix-android-console">Matrix Console for Android</a> client. This is still the only multi-account capable Android client, but it is unmaintained and growing long in tooth. In particular, the API endpoints it uses may be removed from Synapse soon.
I will not be developing new features for it, but I will integrate reasonable patches if others want to take that on.
My own goals are to remove GCM and analytics, and get it added to F-Droid. And of course to switch to the latest API.
As part of this work, I have been fighting Gradle and its bugs to get <a href="https://github.com/matrix-org/matrix-android-sdk">matrix-android-sdk</a> to build together with <a href="https://github.com/matrix-org/matrix-android-console">matrix-android-console</a> as a git submodule, so it's no longer necessary to inject the precompiled sdk into the source code. I did not win yet.</p>
</blockquote>
<h3 id="fluffychat-stable-release-creeps-closer">FluffyChat stable release creeps closer</h3>
<p>Ubuntu Touch fans will know that <a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a> has been progressing rapidly, and the project is approaching a first stable release. You can find current features being tested as part of the release <a href="https://github.com/ChristianPauly/fluffychat/blob/master/CHANGELOG.md">here</a>.</p>
<h3 id="nheko">nheko</h3>
<p><a href="https://matrix.to/#/@mujx:matrix.org">mujx</a> has decided to stop maintaining <a href="https://github.com/mujx/nheko">nheko</a>. Since many people are using it, we hope that someone will step in to continue his work. Thanks to mujx for his work so far.</p>
<h2 id="featured-on-mozilla-hacks-blog">Featured on Mozilla Hacks blog</h2>
<p>If you like blog posts about Matrix (and if you're reading this, you may well do), then you'll be interested to see that Matrix was featured on the <a href="https://hacks.mozilla.org/">Mozilla Hacks</a> blog: <a href="https://hacks.mozilla.org/2018/10/dweb-decentralised-real-time-interoperable-communication-with-matrix/">Decentralised, Real-Time, Interoperable Communication with Matrix</a>. The article was also picked up by <a href="https://news.ycombinator.com/item?id=18240253">Hacker News</a>.</p>
<h2 id="raiden-network-uses-matrix-for-transport-this-article-explains-it">Raiden Network uses Matrix for transport - this article explains it</h2>
<p>The Raiden Network enables fast payments for Ethereum. From <a href="https://raiden.network/">their website</a>:</p>
<blockquote>
<p>The Raiden Network is an off-chain scaling solution, enabling near-instant, low-fee and scalable payments. It's complementary to the Ethereum blockchain and works with any ERC20 compatible token.</p>
</blockquote>
<p>To help explain their use of Matrix in their solution, they have prepared an article: <a href="https://medium.com/raiden-network/raiden-transport-explained-939d7741b6f4">Raiden Transport Explained</a>.</p>
<h2 id="synapse-0-33-7">Synapse 0.33.7</h2>
<p>Soon, so soon, there will be a full Python 3 release for those running Synapse in worker configuration, but this one is not it. Check out <a href="/blog/2018/10/18/synapse-0-33-7-released/">Synapse 0.33.7 changes here</a>.</p>
<h2 id="synapse-on-kubernetes-update">Synapse on kubernetes update</h2>
<p><a href="https://github.com/ananace/">Ananace</a>:</p>
<blockquote>
<p>tracking the latest synapse release on my <a href="https://github.com/ananace/matrix-synapse">K8s optimized image</a>. Got no real time to work on things due to deadlines at work, but that should end come November, so expect more odd Ruby stuff after that point.</p>
</blockquote>
<p>&quot;Odd Ruby stuff&quot; will hopefully include a return to the <a href="https://github.com/ananace/ruby-matrix-sdk">Matrix Ruby SDK</a>!</p>
<h2 id="mxisd-v1-2-0-beta-2">mxisd v1.2.0-beta.2</h2>
<p><a href="https://matrix.to/#/@max:kamax.io">Max</a> continues work on <a href="https://github.com/kamax-io/mxisd">mxisd</a>:</p>
<blockquote>
<p><a href="https://github.com/kamax-matrix/mxisd">mxisd</a> <a href="https://github.com/kamax-matrix/mxisd/releases/tag/v1.2.0-beta.2">v1.2.0-beta.2</a> is out, fixing bugs found during beta.1</p>
</blockquote>
<h2 id="cadair-at-gsoc">Cadair at GSOC</h2>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> was at the <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> Mentors Summit in Mountain View last week:</p>
<blockquote>
<p>I attended the GSOC mentor summit. I had some great conversations with people who are using matrix and with people about bridging in different chat services. A lot of matrix stickers all vanished off the overloaded sticker table. I have lots of ideas for GSOC next year, and plan to try and get many more community projects involved. Finally, I dont need to eat chocolate for a month.</p>
</blockquote>
<p><a style="font-weight: bold;" href="/blog/wp-content/uploads/2018/10/gsoc-chocolate.jpg"><img class="alignnone wp-image-3650 size-medium" src="/blog/wp-content/uploads/2018/10/gsoc-chocolate-300x289.jpg" alt="" width="300" height="289" /></a></p>
<p>GSOC chocolate: GCHOC</p>
<h2 id="until-next-week">Until next week</h2>
<p>Next Friday <code>/me</code> is going to be at <a href="https://mozillafestival.org/">MozFest 2018</a>, promoting Matrix, Open Source, decentralisation etc. (all the stuff we know and love), so I may change the schedule a little next week.  We're also going to reboot Matrix Live, so consider this a hiatus before Season 3 begins next week!!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;18&#x2F;synapse-0-33-7-released&#x2F;" title="Synapse 0.33.7 released!">Synapse 0.33.7 released!</a></h1>
            <span>
                18.10.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hey ho, let's go. Synapse 0.33.7 has arrived.</p>
<p>Regular readers will know how close we are to a full python 3 release. We are not quite there yet but 0.33.7 has support for Synapse under worker mode and we've running it on matrix.org this week. We need more time to conclusively gauge performance improvements but the Synchrotron workers are running with 33% less RAM. Thanks to everyone who has been running their servers under py3, if you do spot anything unusual just let us know. Once we've been running it a bit longer on matrix.org, we'll cut a 0.34.0 release with a recommendation that one and all upgrade to python 3.</p>
<p>Aside from that this release contains support for server side end to end key backups, paving the way for client side support in Riot and Rich continues his long running federation bug squash-a-thon which should help with a whole host of federation snafus.</p>
<p>Up next on the horizon is returning in earnest to getting the server to server r0 spec out starting with shipping our brand new super shiny state resolution algorithm.</p>
<p>As a final point, for those of you that deploy from git checkout or a snapshot url and have email notifications enabled please take a look warning in the change log.</p>
<p>As a final final point #synapse:matrix.org is now an officially supported room, aimed at Synapse admins. If you've not done so already please do drop by and say Hi.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.7">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>.</p>
<p>Onwards!</p>
<h3 id="synapse-0-33-7-change-log">Synapse 0.33.7 Change Log</h3>
<p><strong>Warning</strong>: This release removes the example email notification templates from <code>res/templates</code> (they are now internal to the python package). This should only affect you if you (a) deploy your Synapse instance from a git checkout or a github snapshot URL, and (b) have email notifications enabled.</p>
<p>If you have email notifications enabled, you should ensure that <code>email.template_dir</code> is either configured to point at a directory where you have installed customised templates, or leave it unset to use the default templates.</p>
<p>The configuration parser will try to detect the situation where <code>email.template_dir</code> is incorrectly set to <code>res/templates</code> and do the right thing, but will warn about this.</p>
<h4 id="features">Features</h4>
<ul>
 	<li>Ship the example email templates as part of the package (<a href="https://github.com/matrix-org/synapse/issues/4052" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4052/hovercard" aria-describedby="hovercard-aria-description">#4052</a>)</li>
 	<li>Add support for end-to-end key backup (MSC1687) (<a href="https://github.com/matrix-org/synapse/issues/4019" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4019/hovercard" aria-describedby="hovercard-aria-description">#4019</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Fix bug which made get_missing_events return too few events (<a href="https://github.com/matrix-org/synapse/issues/4045" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4045/hovercard" aria-describedby="hovercard-aria-description">#4045</a>)</li>
 	<li>Fix bug in event persistence logic which caused 'NoneType is not iterable' (<a href="https://github.com/matrix-org/synapse/issues/3995" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3995/hovercard" aria-describedby="hovercard-aria-description">#3995</a>)</li>
 	<li>Fix exception in background metrics collection (<a href="https://github.com/matrix-org/synapse/issues/3996" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3996/hovercard" aria-describedby="hovercard-aria-description">#3996</a>)</li>
 	<li>Fix exception handling in fetching remote profiles (<a href="https://github.com/matrix-org/synapse/issues/3997" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3997/hovercard" aria-describedby="hovercard-aria-description">#3997</a>)</li>
 	<li>Fix handling of rejected threepid invites (<a href="https://github.com/matrix-org/synapse/issues/3999" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3999/hovercard" aria-describedby="hovercard-aria-description">#3999</a>)</li>
 	<li>Workers now start on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/4027" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4027/hovercard" aria-describedby="hovercard-aria-description">#4027</a>)</li>
 	<li>Synapse now starts on Python 3.7. (<a href="https://github.com/matrix-org/synapse/issues/4033" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4033/hovercard" aria-describedby="hovercard-aria-description">#4033</a>)</li>
</ul>
<h3 id="internal-changes">Internal Changes</h3>
<ul>
 	<li>Log exceptions in looping calls (<a href="https://github.com/matrix-org/synapse/issues/4008" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4008/hovercard" aria-describedby="hovercard-aria-description">#4008</a>)</li>
 	<li>Optimisation for serving federation requests (<a href="https://github.com/matrix-org/synapse/issues/4017" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4017/hovercard" aria-describedby="hovercard-aria-description">#4017</a>)</li>
 	<li>Add metric to count number of non-empty sync responses (<a href="https://github.com/matrix-org/synapse/issues/4022" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4022/hovercard" aria-describedby="hovercard-aria-description">#4022</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;16&#x2F;usage-of-the-matrix-js-sdk&#x2F;" title="Usage of the matrix-js-sdk">Usage of the matrix-js-sdk</a></h1>
            <span>
                16.10.2018 00:00
                —
                <a href="/category/tutorials">
                    Tutorials
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <p>We have a brand new, exciting guide page offering an introduction to <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>. This guide will live with the documentation at <a href="/docs/guides/usage-of-the-matrix-js-sdk">https://matrix.org/docs/guides/usage-of-the-matrix-js-sdk</a>,  but you can find the text below.</p>
<hr />
<p>Matrix allows open real-time communications over the Internet using HTTP and JSON. This makes developing clients to connect to Matrix servers really easy! Because it's open, and uses simple syntax for messages, you can connect Matrix to anything that communicates over a standard HTTP interface - later projects in this series will explore ideas such as building bots, performing machine learning on message content, and connecting IoT devices such as Philips Hue lights.</p>
<h2 id="making-a-matrix-client">Making a Matrix Client</h2>
<p>Let's explore how we would make a very simple Matrix client, with only the ability to perform an initial sync, and to get member lists and the timeline for rooms of our choice.</p>
<p>This article will explore the <a href="/docs/spec/client_server/latest.html">Matrix Client-Server API</a>, making use of the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a>. Later articles may discuss making the underlying calls. Specifically we will cover:</p>
<ul>
 	<li>login</li>
 	<li>simple syncing</li>
 	<li>listening for timeline events</li>
 	<li>access the `MatrixInMemoryStore`</li>
 	<li>sending messages to rooms</li>
 	<li>how to respond to specific messages, as a bot would</li>
</ul>
We'll use Node.js as our environment, though the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a> can also be used directly in the browser.
<p>Before we start, make sure you have Node.js and NPM installed: follow instructions at <a href="https://nodejs.org/">nodejs.org</a> for your platform. Then create a new directory to work in:</p>
<pre data-lang="sh" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-sh "><code class="language-sh" data-lang="sh"><span>mkdir my-first-matrix-client
</span><span>cd my-first-matrix-client
</span></code></pre>
<h2 id="let-s-write-javascript">Let's write JavaScript</h2>
<p>Once you're ready, the first thing to do is install the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a> from NPM:</p>
<pre data-lang="sh" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-sh "><code class="language-sh" data-lang="sh"><span>npm install matrix-js-sdk
</span></code></pre>
<p>We include the SDK in our source exactly as expected:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#9b9b9b;">import </span><span>sdk </span><span style="color:#569cd6;">from </span><span style="color:#d69d85;">&#39;matrix-js-sdk&#39;</span><span>;
</span></code></pre>
<h2 id="login-with-an-access-token">Login with an access token</h2>
<p>Instantiate a new client object and use an <code>access token</code> to login:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#569cd6;">const </span><span>client = sdk.createClient({
</span><span>    baseUrl: </span><span style="color:#d69d85;">&quot;https://matrix.org&quot;</span><span>,
</span><span>    accessToken: </span><span style="color:#d69d85;">&quot;....MDAxM2lkZW50aWZpZXIga2V5CjAwMTBjaWQgZ2Vu....&quot;</span><span>,
</span><span>    userId: </span><span style="color:#d69d85;">&quot;@USERID:matrix.org&quot;
</span><span>});
</span><span style="color:#608b4e;">// note that we use the full MXID for the userId value
</span></code></pre>
<p><small>(<a href="http://matrix-org.github.io/matrix-js-sdk/0.11.1/global.html#createClient">jsdoc for <code>createClient</code></a>)</small></p>
<p>If you are logged into Riot, you can find an <code>access token</code> for the logged-in user on the Settings page.</p>
<p>If the homeserver you're logging in to supports logging in with a password, you can also retrieve an <code>access token</code> programmatically using the API. To do this, create a new <code>client</code> with no authentication parameters, then call <code>client.login()</code> with <code>&quot;m.login.password&quot;</code>:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#569cd6;">const </span><span>client = sdk.createClient(</span><span style="color:#d69d85;">&quot;https://matrix.org&quot;</span><span>);
</span><span>client.login(</span><span style="color:#d69d85;">&quot;m.login.password&quot;</span><span>, {</span><span style="color:#d69d85;">&quot;user&quot;</span><span>: </span><span style="color:#d69d85;">&quot;USERID&quot;</span><span>, </span><span style="color:#d69d85;">&quot;password&quot;</span><span>: </span><span style="color:#d69d85;">&quot;hunter2&quot;</span><span>}).then((response) </span><span style="color:#569cd6;">=&gt; </span><span>{
</span><span>    console.log(response.access_token);
</span><span>});
</span></code></pre>
<p>In any case, once logged in either with a password or an access token, the client can get the current access token via:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span>console.log(client.getAccessToken());
</span></code></pre>
<p><strong>Note:</strong> it is essential to keep this access token safe, as it allows complete access to your Matrix account!</p>
<h2 id="sync-and-listen">Sync and Listen</h2>
<p>Next we start the client, this sets up the connection to the server and allows us to begin syncing:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span>client.startClient();
</span></code></pre>
<p>Perform a first sync, and listen for the response, to get the latest state from the homeserver:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span>client.once(</span><span style="color:#d69d85;">&#39;sync&#39;</span><span>, </span><span style="color:#569cd6;">function</span><span>(state, prevState, res) {
</span><span>    console.log(state); </span><span style="color:#608b4e;">// state will be &#39;PREPARED&#39; when the client is ready to use
</span><span>});
</span></code></pre>
<p>Once the sync is complete, we can add listeners for events. We could listen to ALL incoming events, but that would be a lot of traffic, and too much for our simple example. If you want to listen to all events, you can add a listen as follows:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span>client.on(</span><span style="color:#d69d85;">&quot;event&quot;</span><span>, </span><span style="color:#569cd6;">function</span><span>(event){
</span><span>    console.log(event.getType());
</span><span>    console.log(event);
</span><span>})
</span></code></pre>
<p>Instead, let's just listen to events happening on the timeline of rooms for which our user is a member:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span>client.on(</span><span style="color:#d69d85;">&quot;Room.timeline&quot;</span><span>, </span><span style="color:#569cd6;">function</span><span>(event, room, toStartOfTimeline) {
</span><span>    console.log(event.event);
</span><span>});
</span></code></pre>
<h2 id="access-the-store">Access the Store</h2>
<p>When we created a new client with <code>sdk.createClient()</code>, an instance of the default store, <code>MatrixInMemoryStore</code> was created and enabled. When we sync, or instruct otherwise our client to fetch data, the data is automatically added to the store.</p>
<p>To access the store, we use accessor methods. For example, to get a list of rooms in which our user is joined:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#608b4e;">// client.client.getRooms() returns an array of room objects
</span><span style="color:#569cd6;">var </span><span>rooms = client.getRooms();
</span><span>rooms.forEach(room </span><span style="color:#569cd6;">=&gt; </span><span>{
</span><span>    console.log(room.roomId);
</span><span>});
</span></code></pre>
<p><small>(<a href="http://matrix-org.github.io/matrix-js-sdk/0.11.1/module-client-MatrixClient.html#getRooms">jsdoc for <code>client.getRooms</code></a>)</small></p>
<p>More usefully, we could get a list of members for each of these rooms:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#569cd6;">var </span><span>rooms = client.getRooms();
</span><span>rooms.forEach(room </span><span style="color:#569cd6;">=&gt; </span><span>{
</span><span>    </span><span style="color:#569cd6;">var </span><span>members = room.getJoinedMembers();
</span><span>    members.forEach(member </span><span style="color:#569cd6;">=&gt; </span><span>{
</span><span>        console.log(member.name);
</span><span>    });
</span><span>});
</span></code></pre>
<p>For each room, we can inspect the timeline in the store:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#569cd6;">var </span><span>rooms = client.getRooms();
</span><span>rooms.forEach(room </span><span style="color:#569cd6;">=&gt; </span><span>{
</span><span>    room.timeline.forEach(t </span><span style="color:#569cd6;">=&gt; </span><span>{
</span><span>        console.log(</span><span style="color:#b5cea8;">JSON</span><span>.stringify(t.event.content));
</span><span>    });
</span><span>});
</span></code></pre>
<h2 id="send-messages-to-rooms">Send messages to rooms</h2>
<p>To send a message, we create a content object, and specify a room to send to. In this case, I've taken the room ID of <code>#test:matrix.org</code>, and used it as an example:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#569cd6;">var </span><span>testRoomId = </span><span style="color:#d69d85;">&quot;!jhpZBTbckszblMYjMK:matrix.org&quot;</span><span>;
</span><span>
</span><span style="color:#569cd6;">var </span><span>content = {
</span><span>    </span><span style="color:#d69d85;">&quot;body&quot;</span><span>: </span><span style="color:#d69d85;">&quot;Hello World&quot;</span><span>,
</span><span>    </span><span style="color:#d69d85;">&quot;msgtype&quot;</span><span>: </span><span style="color:#d69d85;">&quot;m.text&quot;
</span><span>};
</span><span>
</span><span>client.sendEvent(testRoomId, </span><span style="color:#d69d85;">&quot;m.room.message&quot;</span><span>, content, </span><span style="color:#d69d85;">&quot;&quot;</span><span>).then((res) </span><span style="color:#569cd6;">=&gt; </span><span>{
</span><span>   </span><span style="color:#608b4e;">// message sent successfully
</span><span>}).catch((err) </span><span style="color:#569cd6;">=&gt; </span><span>{
</span><span>    console.log(err);
</span><span>}
</span></code></pre>
<p><small>(<a href="http://matrix-org.github.io/matrix-js-sdk/0.11.1/module-client-MatrixClient.html#sendEvent">jsdoc for <code>client.sendEvent</code></a>)</small></p>
<p>Knowing this, we can put together message listening and message sending, to build a bot which just echos back any message starting with a &quot;!&quot;:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#569cd6;">var </span><span>testRoomId = </span><span style="color:#d69d85;">&quot;!jhpZBTbckszblMYjMK:matrix.org&quot;</span><span>;
</span><span>
</span><span>client.on(</span><span style="color:#d69d85;">&quot;Room.timeline&quot;</span><span>, </span><span style="color:#569cd6;">function</span><span>(event, room, toStartOfTimeline) {
</span><span>    </span><span style="color:#608b4e;">// we know we only want to respond to messages
</span><span>    </span><span style="color:#569cd6;">if </span><span>(event.getType() !== </span><span style="color:#d69d85;">&quot;m.room.message&quot;</span><span>) {
</span><span>        </span><span style="color:#569cd6;">return</span><span>;
</span><span>    }
</span><span> 
</span><span>    </span><span style="color:#608b4e;">// we are only interested in messages from the test room, which start with &quot;!&quot;
</span><span>    </span><span style="color:#569cd6;">if </span><span>(event.getRoomId() === testRoomId </span><span style="color:#569cd6;">&amp;&amp; </span><span>event.getContent().body[</span><span style="color:#b5cea8;">0</span><span>] === </span><span style="color:#d69d85;">&#39;!&#39;</span><span>) {
</span><span>        sendNotice(event.event.content.body);
</span><span>    }
</span><span>});
</span><span>
</span><span style="color:#569cd6;">function </span><span>sendNotice(body) {
</span><span>    </span><span style="color:#569cd6;">var </span><span>content = {
</span><span>        </span><span style="color:#d69d85;">&quot;body&quot;</span><span>: body.substring(</span><span style="color:#b5cea8;">1</span><span>),
</span><span>        </span><span style="color:#d69d85;">&quot;msgtype&quot;</span><span>: </span><span style="color:#d69d85;">&quot;m.notice&quot;
</span><span>    };
</span><span>    client.sendEvent(testRoomId, </span><span style="color:#d69d85;">&quot;m.room.message&quot;</span><span>, content, </span><span style="color:#d69d85;">&quot;&quot;</span><span>, (err, res) </span><span style="color:#569cd6;">=&gt; </span><span>{
</span><span>        console.log(err);
</span><span>    });
</span><span>}
</span></code></pre>
<p>Take a look at the <code>msgtype</code> in the object above. In the previous example, we used &quot;m.text&quot; for this field, but now we're using &quot;m.notice&quot;. Bots will often use &quot;m.notice&quot; to differentiate their messages. This allows the client to render notices differently, for example Riot, the most popular client, renders notices with a more pale text colour.</p>
<h2 id="further">Further</h2>
<p>There is much, much more to Matrix, the Client-Server API and the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a>, but this guide should give some understanding of simple usage. In subsequent guides we'll cover more detail and also explore projects you can build on top, such as IoT controls and chatbot interfaces. For now you can take a look at <a href="https://github.com/matrix-org/matrix-js-sdk/tree/master/examples">other examples in the matrix-js-sdk itself</a>, and also the <a href="/docs/spec/client_server/latest.html">Matrix Client-Server API</a> which it implements.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;12&#x2F;this-week-in-matrix-2018-10-12&#x2F;" title="This Week in Matrix 2018-10-12">This Week in Matrix 2018-10-12</a></h1>
            <span>
                12.10.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-spec-updates">Matrix Spec updates</h2>
<ul>
 	<li><strong><a href="https://github.com/matrix-org/matrix-doc/pull/1695">MSC1695</a></strong> <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> has a newly released proposal relating to Message Edits:
<em>"The key difference to this proposal is that it's only the event schema which is based off the relates stuff. It does NOT do any kind of aggregations but simply is a format to allow bridges/clients to specify edits in the metadata."</em></li>
 	<li><strong><a href="https://github.com/matrix-org/matrix-doc/pull/1693">MSC1693</a></strong> Erik has been thinking about state res v2 in the case of rejected events</li>
</ul>
<h2 id="libqmatrixclient-0-4-0">libQMatrixClient 0.4.0</h2>
<p>We mentioned libQMatrixClient progress last week, but this week <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> reports:</p>
<blockquote>
<p><a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a> 0.4.0 has just been released: CS API 0.4.0, local echo, caching avatars to disk and more - check the release notes at <a href="https://github.com/QMatrixClient/libqmatrixclient/releases/v0.4.0">https://github.com/QMatrixClient/libqmatrixclient/releases/v0.4.0</a>!</p>
</blockquote>
<p>Thanks for the work also go to <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> (who is using libQMatrixClient to author <a href="https://gitlab.com/spectral-im/spectral">Spectral</a>) and <a href="https://github.com/delijati">delijati</a>.</p>
<h2 id="informo">Informo</h2>
<p><a href="https://matrix.to/#/@vabd:weu.informo.network">vadb</a>, back again with news about <a href="https://github.com/Informo">Informo</a>:</p>
<blockquote>
<p>The Informo specifications documentation is out! ? It now lives right here: <a href="https://specs.informo.network">https://specs.informo.network</a><br />As a reminder, we were working on &quot;phase 1&quot; of this documentation, which goal was to outline how Informo was going to work. This is basically the foundation for a more complete technical documentation, which shall come later.<br />The idea is to enable people to give it a look as soon as possible, and to enable them to contribute to Informo as early in the design process as possible. The spec is entirely open, with a <a href="https://specs.informo.network/introduction/scsp/">process for contributions</a> documented and all its source files available on GitHub here: <a href="https://github.com/Informo/specs">https://github.com/Informo/specs</a><br />The online version I initially linked is a live version from the repo's <code>master</code> branch, which is updated each time commits are pushed to it (including on merging a PR).<br />If people have any question or remark regarding the specs, or Informo in a general manner, we'll gladly answer them in <a href="https://matrix.to/#/#discuss:weu.informo.network">#discuss:weu.informo.network</a> (or on the #informo IRC channel on Freenode, which is bridged to the Matrix room)! ?</p>
</blockquote>
<h2 id="mxisd-v1-2-0-beta-1-beta-release">mxisd v1.2.0-beta.1 (beta release)</h2>
<p><a href="https://matrix.to/#/@max:kamax.io">Max</a> has continued work on <a href="https://github.com/kamax-io/mxisd">mxisd</a>, an Identity Server:</p>
<blockquote>
<p><a href="https://github.com/kamax-matrix/mxisd">mxisd</a> got a new beta release <a href="https://github.com/kamax-matrix/mxisd/releases/tag/v1.2.0-beta.1">v1.2.0-beta.1</a>.<br />It adds the ability to send email notification about room invites to existing accounts in Identity store that might not have been provisioned in the homeserver yet as users never logged in, or for users' profile that are not auto-populated with 3PIDs. This is especially targeted for onboarding/enrolling times when adopoting Matrix in groups/corporations or for custom setups.<br />We would love to hear about your experience with it!</p>
</blockquote>
<h2 id="matrix-trello-bot">matrix-trello-bot</h2>
<p><a href="https://github.com/turt2live">TravisR</a> has been working on <a href="https://github.com/turt2live/matrix-trello-bot">matrix-trello-bot</a>:</p>
<blockquote>
<p><a href="https://github.com/turt2live/matrix-trello-bot">matrix-trello-bot</a> has received quite the overhaul. It's gone from a small bot that had pre-determined notifications for board activity to a much more capable bot. The bot now supports managing boards (yes, you can create a board from within Matrix!), lists, and cards including creating, moving, archiving, assigning, and querying.</p>
<p>On top of all that, the bot respects that not every room will want to receive every possible notification and offers commands to pick and choose which events it should notify about on a per-board basis. Feel free to <a href="https://t2bot.io/trellobot/">give it a spin</a> and check out the massive help menu with <code>!trello help</code>. Please send bugs and suggestions to GitHub :)</p>
</blockquote>
<p>The help menu really is massive! Travis provided an image to highlight the scope of functionality provided (click for larger version):</p>
<p><a href="/blog/wp-content/uploads/2018/10/matrix-trello-bot-2018-10-12.png"><img class="alignnone wp-image-3634 size-medium" src="/blog/wp-content/uploads/2018/10/matrix-trello-bot-2018-10-12-234x300.png" alt="" width="234" height="300" /></a></p>
<h2 id="clients">Clients</h2>
<h3 id="riot-0-16-6-released">Riot 0.16.6 Released</h3>
<blockquote>
<p>Fixes only these two issues:</p>
<ul>
 	<li>Firefox private mode being broken &gt; (https://github.com/matrix-org/matrix-react-sdk/pull/2195)</li>
 	<li>Breakage when mixing /app and /develop use (issue #7432)</li>
</ul>
As both fixes are not relevant for electron, we didn't release 0.16.6 as the electron app, but rest assured 0.17 will of course be released as electron.
</blockquote>
<h3 id="fluffychat">Fluffychat</h3>
<p>We missed this last week, but <a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a> (client for Ubuntu Touch) v0.6.0 was released, with LOTS of new features:</p>
<ul>
 	<li>User profiles</li>
 	<li>Design improvements</li>
 	<li>Audioplayer in chat</li>
 	<li>Videoplayer in chat (only audio at the moment)</li>
 	<li>Imageviewer</li>
 	<li>Edit chat aliases</li>
 	<li>Edit chat settings and permissions</li>
 	<li>Kick, ban and unban users</li>
 	<li>Edit user permissions</li>
 	<li>New invite page</li>
 	<li>Display and edit chat topics</li>
 	<li>Change chat avatar</li>
 	<li>Change user avatar</li>
 	<li>Edit phone numbers</li>
 	<li>Edit email addresses</li>
 	<li>Display and edit archived chats</li>
 	<li>New add-chat and add-contact pages</li>
 	<li>Display contacts and find contacts with their phone number or email address</li>
 	<li>Discover public chats on the user's homeserver</li>
 	<li>Registration (currently only working with ubports.chat and NOT with matrix.org due captchas)</li>
 	<li>Register and login with phone number</li>
 	<li>Edit identity-server</li>
 	<li>Add in-app viewer for the privacy policy</li>
</ul>
<img src="../fluffychat-2018-10-12.png" alt="" /><a href="/blog/wp-content/uploads/2018/10/fluffychat-2018-10-12.png"><img class="alignnone size-full wp-image-3633" src="/blog/wp-content/uploads/2018/10/fluffychat-2018-10-12.png" alt="" width="540" height="960" /></a>
<h2 id="construct-docker-image">Construct Docker image</h2>
<p><a href="https://matrix.to/#/@mujx:matrix.org">mujx</a> has created a new Docker image for Construct, the C++ homeserver:</p>
<blockquote>
<p>Construct has a new docker image (<a href="https://github.com/matrix-construct/docker-construct">https://github.com/matrix-construct/docker-construct</a>) which will ease the process of deployment</p>
</blockquote>
<h2 id="translations-for-quaternion">Translations for Quaternion</h2>
<p>If it didn't seem that <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> was busy enough, he also announced translations for <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> (the original client based on <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>):</p>
<blockquote>
<p><a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> is now localisable! The web platform for translation will be set up in the nearest days; meanwhile those who can't wait can <a href="https://github.com/QMatrixClient/Quaternion/">just take the repo</a>, look how the German translation is made and copy!</p>
</blockquote>
<h2 id="that-s-all-we-can-tell-you">That's all we can tell you!</h2>
<p>Safe travels to <a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a>, who is off to represent Matrix at the <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> mentors summit. Check out Matrix Live below:</p>
<iframe src="https://www.youtube.com/embed/hu6fgPlpqok?rel=0" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;44&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">45 / 67</span>
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;46&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
