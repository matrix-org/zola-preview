<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href="/style.css" />

    

<meta name="description" content="The Matrix.org Foundation blod is where the Matrix Foundation and Community
post updates on their activity. Every Friday evening they publish This Week In
Matrix, a digest of the past week activity.
">

</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;integrations&#x2F;">Integrations</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;05&#x2F;18&#x2F;synapse-0-29-1&#x2F;" title="Synapse 0.29.1 Released!">Synapse 0.29.1 Released!</a></h1>
            <span>
                18.05.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>It's release time people, not to be outdone by our friends on the <a href="https://medium.com/@RiotChat/stickers-are-here-introducing-riot-im-0-15-for-web-desktop-284c32b93acc">Riot web team</a>, Synapse v0.29.1 lands today.</p>
<p>v0.29.1 contains an officially supported docker image (many thanks to the contribution from <a href="https://github.com/kaiyou">@kaiyou</a>), continued progress towards Python 3 (thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>) - as well as a heap of refactorings and bug fixes.</p>
<p>Something worth noting is a potentially breaking change in the error code that /login returns in the Client Server API. Details follow, but the change closes a gap between Synapse behaviour and the spec.</p>
<p>We'd like to give huge thanks to Silvio Fricke and Andreas Peters for writing and maintaining <a href="https://github.com/AVENTER-UG/docker-matrix">Synapse's first Dockerfile</a>, as well as <a href="https://github.com/allmende/docker-synapse">allmende</a>, <a href="https://github.com/jcgruenhage/docker-synapse">jcgruenhage</a>, <a href="https://github.com/ptman/synapse-docker">ptman</a>, and <a href="https://github.com/ilianaw/dockerfiles/tree/master/synapse">ilianaw</a> for theirs!  The new Dockerfile from kaiyou has ended up being merged into the <a href="https://github.com/matrix-org/synapse/tree/master/contrib/docker">main synapse tree</a> and we're going to try to maintain it going forwards, but folks should use whichever one they prefer.</p>
<p>You can pick it up from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.29.1">https://github.com/matrix-org/synapse/releases/tag/v0.29.1</a> and thanks to everyone who tested the release candidate.</p>
<h2 id="changes-in-synapse-v0-29-1-2018-05-17">Changes in synapse v0.29.1 (2018-05-17)</h2>
<p>Changes:</p>
<ul>
 	<li>Update docker documentation (PR <a href="https://github.com/matrix-org/synapse/pull/3222">#3222</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-29-0-2018-05-16">Changes in synapse v0.29.0 (2018-05-16)</h3>
<p>No changes since v0.29.0-rc1</p>
<h3 id="changes-in-synapse-v0-29-0-rc1-2018-05-14">Changes in synapse v0.29.0-rc1 (2018-05-14)</h3>
<p>Potentially breaking change:</p>
<ul>
 	<li>Make Client-Server API return 401 for invalid token (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3161" data-error-text="Failed to load issue title" data-id="319022836" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3161">#3161</a>).This changes the Client-server spec to return a 401 error code instead of 403 when the access token is unrecognised. This is the behaviour required by the specification, but some clients may be relying on the old, incorrect behaviour.Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a> for fixing this.</li>
</ul>
Features:
<ul>
 	<li>Add a Dockerfile for synapse (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/2846" data-error-text="Failed to load issue title" data-id="294138160" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/2846">#2846</a>) Thanks to <a class="user-mention" href="https://github.com/kaiyou" data-hovercard-user-id="847861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@kaiyou</a>!</li>
</ul>
Changes - General:
<ul>
 	<li>nuke-room-from-db.sh: added postgresql option and help (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/2337" data-error-text="Failed to load issue title" data-id="240936932" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/2337">#2337</a>) Thanks to <a class="user-mention" href="https://github.com/rubo77" data-hovercard-user-id="1591563" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@rubo77</a>!</li>
 	<li>Part user from rooms on account deactivate (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3201" data-error-text="Failed to load issue title" data-id="321584384" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3201">#3201</a>)</li>
 	<li>Make 'unexpected logging context' into warnings (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3007" data-error-text="Failed to load issue title" data-id="305674363" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3007">#3007</a>)</li>
 	<li>Set Server header in SynapseRequest (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3208" data-error-text="Failed to load issue title" data-id="322021667" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3208">#3208</a>)</li>
 	<li>remove duplicates from groups tables (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3129" data-error-text="Failed to load issue title" data-id="317640994" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3129">#3129</a>)</li>
 	<li>Improve exception handling for background processes (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3138" data-error-text="Failed to load issue title" data-id="318353806" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3138">#3138</a>)</li>
 	<li>Add missing consumeErrors to improve exception handling (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3139" data-error-text="Failed to load issue title" data-id="318354891" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3139">#3139</a>)</li>
 	<li>reraise exceptions more carefully (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3142" data-error-text="Failed to load issue title" data-id="318362067" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3142">#3142</a>)</li>
 	<li>Remove redundant call to preserve_fn (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3143" data-error-text="Failed to load issue title" data-id="318369685" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3143">#3143</a>)</li>
 	<li>Trap exceptions thrown within run_in_background (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3144" data-error-text="Failed to load issue title" data-id="318372621" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3144">#3144</a>)</li>
</ul>
Changes - Refactors:
<ul>
 	<li>Refactor /context to reuse pagination storage functions (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3193" data-error-text="Failed to load issue title" data-id="321240389" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3193">#3193</a>)</li>
 	<li>Refactor recent events func to use pagination func (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3195" data-error-text="Failed to load issue title" data-id="321511701" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3195">#3195</a>)</li>
 	<li>Refactor pagination DB API to return concrete type (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3196" data-error-text="Failed to load issue title" data-id="321514152" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3196">#3196</a>)</li>
 	<li>Refactor get_recent_events_for_room return type (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3198" data-error-text="Failed to load issue title" data-id="321524525" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3198">#3198</a>)</li>
 	<li>Refactor sync APIs to reuse pagination API (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3199" data-error-text="Failed to load issue title" data-id="321556855" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3199">#3199</a>)</li>
 	<li>Remove unused code path from member change DB func (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3200" data-error-text="Failed to load issue title" data-id="321572270" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3200">#3200</a>)</li>
 	<li>Refactor request handling wrappers (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3203" data-error-text="Failed to load issue title" data-id="321896316" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3203">#3203</a>)</li>
 	<li>transaction_id, destination defined twice (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3209" data-error-text="Failed to load issue title" data-id="322050253" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3209">#3209</a>) Thanks to <a class="user-mention" href="https://github.com/damir-manapov" data-hovercard-user-id="84543" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@damir-manapov</a>!</li>
 	<li>Refactor event storage to prepare for changes in state calculations (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3141" data-error-text="Failed to load issue title" data-id="318360848" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3141">#3141</a>)</li>
 	<li>Set Server header in SynapseRequest (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3208" data-error-text="Failed to load issue title" data-id="322021667" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3208">#3208</a>)</li>
 	<li>Use deferred.addTimeout instead of time_bound_deferred (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3127" data-error-text="Failed to load issue title" data-id="316624675" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3127">#3127</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3178" data-error-text="Failed to load issue title" data-id="319723346" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3178">#3178</a>)</li>
 	<li>Use run_in_background in preference to preserve_fn (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3140" data-error-text="Failed to load issue title" data-id="318358846" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3140">#3140</a>)</li>
</ul>
Changes - Python 3 migration:
<ul>
 	<li>Construct HMAC as bytes on py3 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3156" data-error-text="Failed to load issue title" data-id="318672814" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3156">#3156</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>run config tests on py3 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3159" data-error-text="Failed to load issue title" data-id="318819505" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3159">#3159</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Open certificate files as bytes (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3084" data-error-text="Failed to load issue title" data-id="312978895" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3084">#3084</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Open config file in non-bytes mode (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3085" data-error-text="Failed to load issue title" data-id="312979176" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3085">#3085</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Make event properties raise AttributeError instead (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3102" data-error-text="Failed to load issue title" data-id="314438601" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3102">#3102</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Use six.moves.urlparse (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3108" data-error-text="Failed to load issue title" data-id="314444112" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3108">#3108</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Add py3 tests to tox with folders that work (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3145" data-error-text="Failed to load issue title" data-id="318431714" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3145">#3145</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Don't yield in list comprehensions (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3150" data-error-text="Failed to load issue title" data-id="318628803" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3150">#3150</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Move more xrange to six (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3151" data-error-text="Failed to load issue title" data-id="318628945" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3151">#3151</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>make imports local (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3152" data-error-text="Failed to load issue title" data-id="318629082" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3152">#3152</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>move httplib import to six (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3153" data-error-text="Failed to load issue title" data-id="318629172" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3153">#3153</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Replace stringIO imports with six (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3154" data-error-text="Failed to load issue title" data-id="318629362" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3154">#3154</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3168" data-error-text="Failed to load issue title" data-id="319453092" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3168">#3168</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>more bytes strings (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3155" data-error-text="Failed to load issue title" data-id="318672504" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3155">#3155</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
</ul>
Bug Fixes:
<ul>
 	<li>synapse fails to start under Twisted &gt;= 18.4 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3157" data-error-text="Failed to load issue title" data-id="318721696" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3157">#3157</a>) Thanks to <a class="user-mention" href="https://github.com/Half-Shot" data-hovercard-user-id="2072976" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@Half-Shot</a>!</li>
 	<li>Fix a class of logcontext leaks (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3170" data-error-text="Failed to load issue title" data-id="319506071" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3170">#3170</a>)</li>
 	<li>Fix a couple of logcontext leaks in unit tests (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3172" data-error-text="Failed to load issue title" data-id="319584239" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3172">#3172</a>)</li>
 	<li>Fix logcontext leak in media repo (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3174" data-error-text="Failed to load issue title" data-id="319596214" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3174">#3174</a>)</li>
 	<li>Escape label values in prometheus metrics (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3175" data-error-text="Failed to load issue title" data-id="319611493" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3175">#3175</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3186" data-error-text="Failed to load issue title" data-id="319955083" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3186">#3186</a>)</li>
 	<li>Fix 'Unhandled Error' logs with Twisted 18.4 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3182" data-error-text="Failed to load issue title" data-id="319867481" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3182">#3182</a>) Thanks to <a class="user-mention" href="https://github.com/Half-Shot" data-hovercard-user-id="2072976" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@Half-Shot</a>!</li>
 	<li>Fix logcontext leaks in rate limiter (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3183" data-error-text="Failed to load issue title" data-id="319883299" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3183">#3183</a>)</li>
 	<li>notifications: Convert next_token to string according to the spec (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3190" data-error-text="Failed to load issue title" data-id="320496620" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3190">#3190</a>) Thanks to <a class="user-mention" href="https://github.com/mujx" data-hovercard-user-id="6430350" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@mujx</a>!</li>
 	<li>nuke-room-from-db.sh: fix deletion from search table (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3194" data-error-text="Failed to load issue title" data-id="321366575" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3194">#3194</a>) Thanks to <a class="user-mention" href="https://github.com/rubo77" data-hovercard-user-id="1591563" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@rubo77</a>!</li>
 	<li>add guard for None on purge_history api (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3160" data-error-text="Failed to load issue title" data-id="318873877" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3160">#3160</a>) Thanks to <a class="user-mention" href="https://github.com/krombel" data-hovercard-user-id="11167142" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@krombel</a>!</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;05&#x2F;18&#x2F;this-week-in-matrix-2018-05-18&#x2F;" title="This Week in Matrix 2018-05-18">This Week in Matrix 2018-05-18</a></h1>
            <span>
                18.05.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="on-the-web">On the Web</h2>
<h3 id="enter-the-matrix">Enter the Matrix</h3>
<p><a href="https://brendan.abolivier.bzh/">Brendan</a> produced a <a href="https://brendan.abolivier.bzh/enter-the-matrix/">really, really informative article introducing Matrix</a>. As someone who is still very new to the project I found this writng to be very clear and informative, so thank you! The article made it to the <a href="https://news.ycombinator.com/item?id=17063761">top of Hacker News</a>, where you can find a discussion of both the article and Matrix itself.</p>
<h3 id="presentation-about-matrix">Presentation about Matrix</h3>
<p><a href="https://twitter.com/martinkrafft">martinkrafft</a> presented about Matrix at <a href="https://wossat.nz/">wossat</a> a New Zealand Open Source show and tell meetup. His talk <a href="https://twitter.com/wossat/status/997230578385612801">can be seen here</a>, and focuses on the benefits of Matrix for users.</p>
<h2 id="spec-proposals">Spec Proposals</h2>
<p>As you may have seen from the <a href="/blog/2018/05/17/introducing-matrix-specification-changes/">previous blog post</a>, we have a new drive to advance the Matrix Specification itself. Part of this is <a href="/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>, which lists all the spec change proposals we've accumulated so far, and describes the flow for getting new proposals merged. There is a new room, <a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> for discussion, please join if you want to get involved in this process. Check out the page and the blog post for more detail.</p>
<p>Next up: try to turn some of the many WIP proposals into Spec PRs...</p>
<h2 id="fractal-hackfest-2018">Fractal Hackfest 2018</h2>
<p><a href="https://wiki.gnome.org/Hackfests/Fractal2018">Fractal Hackfest 2018</a>: was super successful and productive by all accounts, and there were many! Check out reports from Daniel García Moreno (<a href="http://danigm.net/fractal-hackfest1.html">Day 1</a>, <a href="http://danigm.net/fractal-hackfest2.html">Day 2</a>), <a href="https://eishagsoc.wordpress.com/2018/05/13/fractal-hackfest.html">Eisha Chen-yen-su</a>, <a href="http://bytesgnomeschozo.blogspot.com/2018/05/fracturing-fractal.html">Adrien Plazas</a>, <a href="https://blogs.gnome.org/jsparber/2018/05/15/fractal-hackfest-2018/">Julian Sparber</a>, <a href="https://blogs.gnome.org/tbernard/2018/05/16/fractal-hackfest-in-strasbourg/">Tobias Bernard</a> and <a href="https://www.alexandrefranke.com/blog/20180518-Fractal-hackfest/">Alexandre Franke</a>.</p>
<p>A major topic at the Hackfest was a discussion of splitting the Fractal client into two UIs for the different behaviours of messaging apps. For anyone interested in product design thinking this is a genuinely fascinating topic. I encourage you to read <a href="https://blogs.gnome.org/tbernard/2018/05/16/banquets-and-barbecues/">&quot;Banquets and Barbecues&quot;, Tobias' excellent coverage</a> of the latest thinking. The different chat personas are very well explained and the post brings up some of the immediate technical challenges too.</p>
<h2 id="projects-and-products">Projects and Products</h2>
<h3 id="mxisd-v1-1-rc1-available">mxisd v1.1 RC1 available</h3>
<p><a href="https://matrix.to/#/@max:kamax.io">Max</a> reports on <a href="https://github.com/kamax-io/mxisd">mxisd</a>, a Federated Matrix Identity server for self-hosted Matrix infrastructures:</p>
<blockquote>
<p><a href="https://github.com/kamax-io/mxisd/releases/tag/v1.1-rc.1">mxisd v1.1 RC1</a> is out, addressing various privacy issues and being more GDPR-friendly overall. Testing and feedback from the community is very much appreciated</p>
</blockquote>
<h3 id="dimension">Dimension</h3>
<p><a href="https://dimension.t2bot.io/">Dimension</a>, an open source integrations manager for matrix clients from <a href="https://github.com/turt2live">TravisR</a>, now supports sticker packs.</p>
<h3 id="ruma">Ruma</h3>
<p>Rust-based <a href="https://github.com/ruma/ruma">Ruma</a> has new activity, starting with the release of <a href="https://github.com/ruma/ruma-api-macros/releases/tag/0.2.0">ruma-api-macros 0.2.0</a>. This moves <a href="https://github.com/ruma/ruma-api-macros/releases">ruma-api-macros</a> from dependency on hyper to using types from the http crate. This will give more flexibility about library and framework choices for <a href="https://github.com/ruma/ruma-client-api">ruma-client-api</a> and <a href="https://github.com/ruma/ruma-client">ruma-client</a>.</p>
<h3 id="federation-tester-graphical-frontend">Federation Tester Graphical Frontend</h3>
<p><a href="https://matrix.to/#/@f0x:lain.haus">f0x</a> produced and shared a graphical frontend for the federation tester, already getting some use. Check it out at <a href="https://neo.lain.haus/fed-tester/">https://neo.lain.haus/fed-tester/</a> and see the source <a href="https://github.com/f0x52/fed-tester/commits/master">on GitHub</a>.</p>
<h3 id="synapse">Synapse</h3>
<ul>
 	<li>Synapse 0.29 out - pretty much a maintenance release.</li>
 	<li>Chunk PRs are landing, providing a long-term solution to the ‘depth' issue which is still impacting #matrix and #matrix-dev.</li>
 	<li>Lots and lots of GDPR work - you can follow progress at <a href="https://github.com/vector-im/riot-meta/projects/7">https://github.com/vector-im/riot-meta/projects/7</a>.</li>
 	<li>Fixes SYN-1(!!!) - server notifications in general.</li>
 	<li>...and a last minute update from Andrej Shadura that the official Debian packages for Synapse are now up-to-date in Debian Unstable!!</li>
</ul>
<h3 id="riot-web">Riot/Web</h3>
<ul>
 	<li>Riot/0.15 is out! With Stickers, Electron 2.0, Firefox E2E speed ups and lots of polishing</li>
 	<li>Working on GDPR now - cookie warnings have already landed on /develop, for instance. Remaining is the consent flow, and the deactivation/erasure flow.</li>
 	<li>Currently on a blitz to mop up P1 bugs</li>
 	<li>Accidental mission to replace Draft with Slate to make the RTE robust.</li>
 	<li>Upcoming: enabling Jitsi everywhere; E2E cross-signing; member lazyloading.</li>
</ul>
<h3 id="riot-mobile">Riot/Mobile</h3>
<ul>
 	<li>Sticker sending is almost done!</li>
 	<li>GDPR work in progress</li>
 	<li>Released a fix for unreliable notification (and bg syncing) on Android 8 on Fdroid (released on Wednesday - please update!)</li>
</ul>
<h3 id="neo-alpha-0-05">Neo Alpha 0.05</h3>
<p><a href="https://github.com/f0x52/neo">neo</a> alpha 0.05 was announced by <a href="https://matrix.to/#/@f0x:lain.haus">f0x</a>, go take a look at <a href="https://github.com/f0x52/neo/releases/tag/alpha0.05">https://github.com/f0x52/neo/releases/tag/alpha0.05</a>. From the changelog:</p>
<blockquote>
<p>features to bridge better with telegram, like Replies and Stickers, general ui improvement with fontawesome icons
added:
Replies
Receiving stickers</p>
</blockquote>
<p>and more</p>
<h3 id="discord-bridge">Discord Bridge</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> and <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> are working on the <a href="https://github.com/Half-Shot/matrix-appservice-discord">matrix-appservice-discord</a>, and have embarked on bridging Discord edited messages to Matrix</p>
<blockquote>
<p>headed up by anoa, feedback for this is useful as it's early days, <a href="https://github.com/Half-Shot/matrix-appservice-discord/pull/131">https://github.com/Half-Shot/matrix-appservice-discord/pull/131</a></p>
</blockquote>
<p>They've been writing tests and crushing bugs along the way. This is all in aid of the coming 0.2.0 release.</p>
<h3 id="gomuks">gomuks</h3>
<p>A <a href="https://github.com/tulir/gomuks">gomuks</a> package was added to added to <a href="https://nixos.org/">NixOS</a> nixpkgs, shows interest in the client: <a href="https://github.com/NixOS/nixpkgs/pull/40510">https://github.com/NixOS/nixpkgs/pull/40510</a>.</p>
<h3 id="cromfr-doge-bot">CromFr doge bot</h3>
<p><a href="https://matrix.to/#/@CromFr:matrix.org">CromFr</a> has been working on a <a href="https://github.com/CromFr/matrix-doge-bot">doge bot</a>, which he describes as a hack over the hyper / haiku bots&quot;, and is hosted on <a href="https://github.com/turt2live">TravisR</a>'s <a href="https://t2bot.io/">https://t2bot.io/</a>. Go try it out in the test room <a href="https://matrix.to/#/#test-doge-bot-crom:matrix.org">#test-doge-bot-crom:matrix.org</a>.</p>
<h2 id="independent-client-server-interactions">Independent Client-Server interactions</h2>
<p><a href="/blog/wp-content/uploads/2018/05/construct-gomuks.jpeg"><img class="aligncenter wp-image-3220 size-full" src="/blog/wp-content/uploads/2018/05/construct-gomuks.jpeg" alt="" width="900" height="732" /></a>
<a href="/blog/wp-content/uploads/2018/05/mxhsd-fractal.png"><img class="aligncenter wp-image-3219 size-full" src="/blog/wp-content/uploads/2018/05/mxhsd-fractal.png" alt="" width="912" height="749" /></a> 
Lots of excitement at the variety of independent clients and servers able to interact over the matrix protocol. The images above show <a href="https://github.com/jevolk/charybdis">The Construct</a> (server) and <a href="https://github.com/tulir/gomuks">gomuks</a> (client), and then <a href="https://github.com/kamax-io/mxhsd">mxhsd</a> and <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>. A fundamental part of matrix is to be an open protocol, so it's great to see entirely independent implementations liaising together! While implementing <a href="https://github.com/kamax-io/mxhsd">mxhsd</a>, <a href="https://matrix.to/#/@max:kamax.io">Max</a> has been documenting spec omissions <a href="https://kamax.io/matrix/api/client_server/unstable.html">in a branch of the spec</a> - we're hoping he will contribute these back!</p>
<p>Honourable mention for <a href="https://matrix.to/#/@mujx:matrix.org">mujx</a>, who was sending messages with <a href="https://github.com/mujx/nheko">nheko</a> and <a href="https://github.com/ruma/ruma">Ruma</a> a year ago!</p>
<h2 id="matrix-core-team-expansion">Matrix Core team expansion</h2>
<ul>
 	<li>Stève - 17th May (yesterday)</li>
 	<li>Amber - 21st (Monday)</li>
 	<li>Anoa - 21st (Monday)</li>
 	<li>Hubert - 28th May</li>
 	<li>Half-Shot - 4th June
...and one more community member, hopefully (just sorting paperwork currently!)</li>
</ul>
Heads up that we're consciously trying to hire a mix of folks from the Matrix community as well as those outside it - and avoid hiring the whole community, both to ensure diversity of viewpoint & experience in the core team, and also to avoid cannibalising folks who working on their own commercial projects on top of Matrix. We'd prefer Matrix to be as decentralised and heterogenous as possible, needless to say - and instead try to support folks in building on Matrix without hiring them into the core team (where we'd expect them to focus on the core project for everyone's benefit). This may change once we have Matrix set up as a separate foundation, once we've got out of beta, of course.
<h2 id="new-rooms">New Rooms</h2>
<ul>
 	<li><a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> is a new room dedicated to discussions on specific matrix spec proposals, as part of the process we're building around contributing to the matrix spec.</li>
 	<li><a href="https://matrix.to/#/@f0x:lain.haus">f0x</a> is hosting a new room dedicated to Matrix client developers <a href="https://matrix.to/#/#matrix-clients:lain.haus">#matrix-clients:lain.haus</a></li>
 	<li><a href="https://matrix.to/#/#test-doge-bot-crom:matrix.org">#test-doge-bot-crom:matrix.org</a> to test <a href="https://matrix.to/#/@CromFr:matrix.org">CromFr</a>'s doge bot.</li>
 	<li><a href="https://matrix.to/#/#PokemonShit:matrix.org">#PokemonShit:matrix.org</a> a new room for Pokemon discussion.</li>
</ul>
<h2 id="next-week-in-matrix">Next week in Matrix</h2>
<p>Next week I'll take a look at Matrix-related <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> projects, what the plans are and how the first few weeks are going.</p>
<h2 id="so-long">So Long...</h2>
<p>That's all for now! Join us on <a href="https://matrix.to/#/#TWIM:matrix.org">#TWIM:matrix.org</a> if you'd like to make an announcement and be featured in this series.</p>
<p>Check out this week's Matrix Live below, and we'll see you next week!</p>
<iframe src="https://www.youtube.com/embed/9OS99m1f4Uo" frameBorder="0" allowFullScreen="allowfullscreen"></iframe>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;05&#x2F;17&#x2F;introducing-matrix-specification-changes&#x2F;" title="Introducing Matrix Specification Changes">Introducing Matrix Specification Changes</a></h1>
            <span>
                17.05.2018 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>We've been able to start investing more time in advancing the Matrix Specification itself over the last month or so thanks to <a href="https://matrix.to/#/@benpa:matrix.org">Ben</a> joining the core team (and should be able to accelerate even more with <a href="https://www.uhoreg.ca/blog/20180507-1019">uhoreg joining in a few weeks</a>!)  The first step in the new wave of work has been to provide much better infrastructure for the process of actually evolving the spec - whether that's from changes proposed by the core team or the wider Matrix Community.</p>
<p>So, without further ado, we'd like to introduce <a href="/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a> - a dashboard for all the spec change proposals we've accumulated so far (ignoring most of the ones which have already been merged), as well as a clearer workflow for how everyone can help improve the Matrix spec itself.  Part of this is introducing a formal numbering system - e.g. <a href="https://github.com/matrix-org/matrix-doc/issues/1228">MSC1228</a> stands for Matrix Spec Change 1228 (where 1228 is the ID of the Github issue on the <a href="http://github.com/matrix-org/matrix-doc/issues">github.com/matrix-org/matrix-doc/issues</a> repository that tracks the proposal).</p>
<p>Please note that these are <em>NOT</em> like XEPs or RFCs - i.e. optional proposals or add-ons to the protocol; instead they are literally proposals for changes to the Matrix Spec itself.  Once merged into the spec, they are only of historical interest.</p>
<p>We've also created a new room: <a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> to discuss specific spec proposal changes - please join if you want to track how proposals are evolving! (Conversation is likely to fork off into per-proposal rooms or overflow into <a href="https://matrix.to/#/#matrix-dev:matrix.org">#matrix-dev:matrix.org</a> or <a href="https://matrix.to/#/#matrix-architecture:matrix.org">#matrix-architecture:matrix.org</a> depending on traffic levels, however).</p>
<p>Feedback would be much appreciated on this - so please head over to <a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> and let us know how it feels and how it could do better.</p>
<p>This is also a major step towards properly formalising Matrix.org's governance model - hopefully the changes above are sufficient to improve the health of the evolution of the Spec as we work towards an initial stable release later this year, and then you should expect to see a spec proposal for formal governance once we've (at last!) exited beta :)</p>
<p>Huge thanks to Ben for putting this together, and thanks to everyone who's contributed so far to the spec - we're looking forward to working through the backlog of proposals and turning them all into merged spec PRs!!</p>
<p>Matthew</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;05&#x2F;11&#x2F;this-week-in-matrix-2018-05-11&#x2F;" title="This Week in Matrix 2018-05-11">This Week in Matrix 2018-05-11</a></h1>
            <span>
                11.05.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="fractal-hackfest-2018">Fractal Hackfest 2018</h2>
<p>The talk of the town in Strasbourg this week was the arrival of Fractal Hackfest 2018! Event is still ongoing, and I'm sure they will provide a report of the progress on <a href="https://wiki.gnome.org/Hackfests/Fractal2018">https://wiki.gnome.org/Hackfests/Fractal2018</a>, though <a href="https://matrix.to/#/@afranke:matrix.org">Alexandre</a> kindly sent us a photo of the group in action</p>
<img src="/blog/wp-content/uploads/2018/05/Screen-Shot-2018-05-11-at-15.18.29-1024x596.png" alt="Fractal Hackfest 2018" />
<h2 id="home-assistants">Home Assistants</h2>
<p>Wonderful things are happening and being discovered regarding IoT and Home Automation. <a href="https://matrix.to/#/@uhoreg:matrix.org">uhoreg</a> was the first to point us to <a href="https://matrix.to/#/@tinloaf:matrix.org">tinloaf's</a> project to build a Matrix Chatbot component for <a href="https://www.home-assistant.io/">Home Assistant</a>:</p>
<blockquote>
<p>This component allows you to send messages to matrix rooms, as well as to react to messages in matrix rooms. Reacting to commands is accomplished by firing an event when one of the configured commands is triggered.</p>
</blockquote>
<p>(this is not the same as notify.matrix <a href="https://www.home-assistant.io/components/notify.matrix/">https://www.home-assistant.io/components/notify.matrix/</a>, which is used to deliver messages from Home Assistant to a room.)</p>
<p>Enthusiasm for this work led to <a href="https://matrix.to/#/@jon:terracrypt.net">jfred</a> discussing his past adventures in Matrix, including a component for <a href="https://github.com/theschwa/sibyl">sibyl</a>, 'a python chatbot with a focus on XBMC' allowing Matrix communication.</p>
<p>All this excitement led to Cadair creating <a href="https://matrix.to/#/#homeautomation:cadair.com">#homeautomation:cadair.com</a>, which has started a more thorough discussion. I'm eager to see more non-chat applications of Matrix, <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> came up with others with projects in progress.</p>
<h2 id="on-gdpr">On GDPR</h2>
<p>GDPR has been a <del>favourite</del> topic for a while now. If you didn't already, take a look at the latest thinking from the Matrix Core team here: <a href="/blog/2018/05/08/gdpr-compliance-in-matrix/">https://matrix.org/blog/2018/05/08/gdpr-compliance-in-matrix/</a></p>
<blockquote>
<p>It's worth noting that we feel that GDPR is an excellent piece of legislation from the perspective of forcing us to think more seriously about our privacy – it has forced us to re-prioritise all sorts of long-term deficiencies in Matrix (e.g. dependence on DNS; improving User Interactive authentication; improving logout semantics etc).  There's obviously a lot of work to be done here, but hopefully it should all be worth it!</p>
</blockquote>
<h2 id="travisr-on-gdpr">TravisR on GDPR</h2>
<p><a href="https://github.com/turt2live/">TravisR</a> has also been thinking about GDPR, and how it relates to his <a href="https://github.com/turt2live/matrix-voyager-bot">Voyager bot</a>. In his words:</p>
<blockquote>
<p>TWIM: I've mostly been working on figuring out how GDPR affects t2bot.io for the last couple weeks. One of the things running on t2bot.io is Voyager - a bot that tries to join rooms it sees mentioned in people's messages, graphing them on <a href="https://voyager.t2bot.io">https://voyager.t2bot.io</a>. With the increase in talk about GDPR and more bots starting to wander the federation, the recurring topic of whether Voyager should change its approach to finding and listing rooms.</p>
<p>With the current approach, Voyager reads messages and tries to find room aliases to try and join. Individual people can opt-out of this tracking to stop Voyager from reading/parsing their messages (opting back in at a later time, if desired). The room moderators can kick or ban the bot to completely remove their room from the graph, and can invoke a 'soft kick' if they'd like to have their room remain listed, but don't want the bot in the room. Voyager will make sure to only show information for public rooms and will update the graph if the room flips between public and private.</p>
<p>If anyone has feedback on how this approach could be improved (or if it should be left as-is), please come by <a href="https://matrix.to/#/#voyager:t2bot.io">#voyager:t2bot.io</a> on matrix to start the conversation.</p>
</blockquote>
<h2 id="translations">Translations</h2>
<p>I was surprised and excited to learn that a Russian translation of the Matrix FAQ has been produced by a group of Russian-language users. <a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> reported:</p>
<blockquote>
<p>There are a several Russian-speaking users spontaneously decided to unite and help Matrix. We created a room where translated FAQ using the embedded etherpad widget. Some of us are here: <a href="https://matrix.to/#/@commagray:matrix.org">Magnolia</a> and <a href="https://matrix.to/#/@commagray:matrix.org">Fenneko is a Good Girl</a> for example. Anybody can join to us <a href="https://matrix.to/#/#perevodators:matrix.org">#perevodators:matrix.org</a> and helps. We accept any help.<br />  Preview: <a href="https://ma1uta.github.io/index.html">https://ma1uta.github.io/index.html</a></p>
</blockquote>
<p>They've provided a PR which I will presently merge (though of course, as I don't speak Russian I will need to trust that it's really a translation of the FAQ!)</p>
<h2 id="projects-and-updates">Projects and Updates</h2>
<h3 id="matrix-ruby-sdk">Matrix Ruby SDK</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> reports that work has begun on a <a href="https://github.com/ananace/ruby-matrix-sdk">Matrix SDK for Ruby</a> 'with a design based heavily on the <a href="https://github.com/matrix-org/matrix-python-sdk/">Python one</a>'. Doing a lot of sysadmin work, Ananace has been working a lot with Ruby, and also wants to get going using the SDK to write bots.</p>
<h3 id="neo">neo</h3>
<p><a href="https://github.com/f0x52/neo/">Neo</a> from <a href="https://matrix.to/#/@f0x:disroot.org">f0x</a> released <a href="https://github.com/f0x52/neo/releases/tag/alpha0.04">Alpha 0.04</a>.</p>
<blockquote>
<p>Added two very ux-improving features, local echo and tab completion. User list, eslinter, auto-retrying requests</p>
</blockquote>
<p>Take a look at the changelog for more.</p>
<h3 id="matrixstats-org">matrixstats.org</h3>
<p><a href="https://matrix.to/#/@a13xmt">a13xmt</a> came to use with <a href="https://matrixstats.org">https://matrixstats.org</a>, a bot-powered room directory</p>
<blockquote>
<p>Public catalog for matrix rooms announced: matrixstats.org. The place where you can find a lot of rooms and sort them by ratings or categories. Presented rooms are collected from different homeservers; some of rooms have detailed statistics. The homeservers itself can be explored without the registration. The project is currently in beta stage, so some features may be missing. We would be glad to receive any feedback and ideas for further improvement. Additional info available at <a href="https://matrixstats.org/about">https://matrixstats.org/about</a>, related discussions at <a href="https://matrix.to/#/#matrixstats:matrix.org">#matrixstats:matrix.org</a>.</p>
</blockquote>
<h3 id="quaternion">Quaternion</h3>
<p>says <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>:</p>
<blockquote>
<p>TWIM: Quaternion 0.0.9.1 is out, with building/packaging fixes; those who use 0.0.9 need not upgrade (<a href="https://github.com/QMatrixClient/Quaternion/releases/tag/v0.0.9.1">https://github.com/QMatrixClient/Quaternion/releases/tag/v0.0.9.1</a>)</p>
</blockquote>
<h3 id="riot-web">Riot/Web</h3>
<ul>
<li>New release due monday - whether it's 0.14.3 or 0.15 depends on whether we can make the sticker picker fast enough to launch!</li>
<li>Lots of other polish; E2E is now as fast on Firefox as it is on Chrome!</li>
</ul>
<h3 id="riot-mobile">Riot/Mobile</h3>
<ul>
<li>Almost all of France has been holiday this week…</li>
<li>...although we've got sticker sending mostly working on iOS & Android anyway!</li>
</ul>
<h3 id="synapse">Synapse</h3>
<ul>
<li>Lots of GDPR work in play - project status being tracked in <a href="https://github.com/vector-im/riot-meta/projects/7">https://github.com/vector-im/riot-meta/projects/7</a></li>
<li>Lots of work implementing chunking for DAGs to properly solve the depth vulnerability</li>
</ul>
<h3 id="spec-proposals">Spec Proposals</h3>
<p>Much-needed work has begun to classify and present the spec proposals for the Matrix specification. We've tagged up the all the issues in GitHub, new page will appear on matrix.org at the start of next week if I can just stop preening the generator.</p>
<h2 id="around-the-web-and-more">Around the Web (and more)</h2>
<p><a href="https://itscode.red/posts/1-year-using-matrix/">Another week, another article</a> on the front page of <a href="https://news.ycombinator.com/item?id=17031306">Hacker News</a>. The author is focused more on Riot than Matrix, still it's great knowing how much interest there is in the wild.</p>
<p>Happily, I was at an unrelated event in London earlier in the week, and had my first IRL experience meeting someone who already knew (and then enthused) about the project. Feels good.</p>
<h2 id="rooms-of-note">Rooms of note</h2>
<ul>
<li><a href="https://matrix.to/#/#homeautomation:cadair.com">#homeautomation:cadair.com</a> home automation generally with a natural lean toward matrix</li>
<li><a href="https://matrix.to/#/#perevodators:matrix.org">#perevodators:matrix.org</a> to help with Russian translations</li>
<li><a href="https://matrix.to/#/#matrixstats:matrix.org">#matrixstats:matrix.org</a> to find out about matrixstats.org</li>
<li><a href="https://matrix.to/#/#voyager:t2bot.io">#voyager:t2bot.io</a> to talk to TravisR about Voyager</li>
</ul>
<h2 id="ttfn">TTFN</h2>
<p>Do you have a suggestion for this series? What could we be doing more of? I have a nascent plan to do 'deeper' conversations with people or projects that aren't necessarily in the normal run of things, but are interesting uses of Matrix. Does this sound like something you'd want to read on a Friday afternoon? Drop a line in <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> or ping <a href="https://matrix.to/#/@benpa:matrix.org">benpa</a>.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;05&#x2F;08&#x2F;gdpr-compliance-in-matrix&#x2F;" title="GDPR Compliance in Matrix">GDPR Compliance in Matrix</a></h1>
            <span>
                08.05.2018 00:00
                —
                <a href="/category/privacy">
                    Privacy
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>As the May 25th deadline looms, we've had lots and lots of questions about how GDPR (the EU's new General Data Protection Regulation legislation) applies to Matrix and to folks running Matrix servers - and so we've written this blog post to try to spell out what we're doing as part of maintaining the Matrix.org server (and bridges and hosted integrations etc), in case it helps folks running their own servers.</p>
<p>The main controversial point is how to handle Article 17 of the GDPR: '<a href="https://gdpr-info.eu/art-17-gdpr/">Right to Erasure</a>' (aka Right to be Forgotten). The question is particularly interesting for Matrix, because as a relatively new protocol with somewhat distinctive semantics it's not always clear how the rules apply - and there's no case law to seek inspiration from.</p>
<p>The key question boils down to whether Matrix should be considered more like email (where people would be horrified if senders could erase their messages from your mail spool), or should it be considered more like Facebook (where people would be horrified if their posts were visible <em>anywhere</em> after they avail themselves of their right to erasure).</p>
<p>Solving this requires making a judgement call, which we've approached from two directions: firstly, considering what the spirit of the GDPR is actually trying to achieve (in terms of empowering users to control their data and have the right to be forgotten if they regret saying something in a public setting) - and secondly, considering the concrete legal obligations which exist.  </p>
<p>The conclusion we've ended up with is to (obviously) prioritise that Matrix can support all the core concrete legal obligations that GDPR imposes on it - whilst also having a detailed plan for the full 'spirit of the GDPR' where the legal obligations are ambiguous.  The idea is to get as much of the longer term plan into place as soon as possible, but ensure that the core stuff is in place for May 25th.</p>
<p>Please note that we are still talking to GDPR lawyers, and we'd also very much appreciate feedback from the wider Matrix community - i.e. this plan is very much subject to change.  We're sharing it now to ensure everyone sees where our understanding stands today.</p>
<p>The current todo list breaks down into the following categories. Most of these issues have matching github IDs, which we'll track in a progress dashboard.</p>
<h3 id="right-to-erasure">Right to Erasure</h3>
<p>We're opting to follow the email model, where the act of sending an event (i.e. message) into a room shares a copy of that message to everyone who is <em><strong>currently</strong></em> in that room.  This means that in the privacy policy (see Consent below) users will have to consent to agreeing that a copy of their messages will be transferred to whoever they are addressing.  This is also the model followed by IM systems such as WhatsApp, Twitter DMs or (<a href="https://www.theinquirer.net/inquirer/news/3029749/facebook-zuckerberg-can-delete-old-messenger-conversations-you-cant">almost</a>) Facebook Messenger.</p>
<p>This means that if a user invokes their right to erasure, we will need to ensure that their events will only ever be visible to users who already have a copy - and must <strong>never</strong> be served to new users or the general public. Meanwhile, data which is no longer accessible by any user must of course be deleted entirely.</p>
<p>In the email analogy: this is like saying that you cannot erase emails that you have sent other people; you cannot try to rewrite history as witnessed by others... but you can erase your emails from a public mail archive or search engine and stop them from being visible to anyone else. </p>
<p>It is important to note that GDPR Erasure is <em>completely separate</em> from the existing Matrix functionality of &quot;redactions&quot; which let users remove events from the room. A &quot;redaction&quot; today represents a request for the human-facing details of an event (message, join/leave, avatar change etc) to be removed.  Technically, there is no way to enforce a redaction over federation, but there is a &quot;gentlemen's agreement&quot; that this request will be honoured.</p>
<p>The alternative to the 'email-analogue' approach would have been to facilitate users' automatically applying the existing redact function to <em>all</em> of the events they have ever submitted to a public room. The problem here is that defining a 'public room' is subtle, especially to uninformed users: for instance, if a message was sent in a private room (and so didn't get erased), what happens if that room is later made public? Conversely, if right-to-erasure removed messages from <em>all</em> rooms, it will end up destroying the history integrity of 1:1 conversations, which pretty much everyone agrees is abhorrent. Hence our conclusion to protect erased users from being visible to the general public (or anyone who comes snooping around after the fact) - but preserving their history from the perspective of the people they were talking to at the time.</p>
<p>In practice, our core to-do list for Right to Erasure is:</p>
<ul>
<li>As a first cut, provide Article 17 right-to-erasure at a per-account granularity. The simplest UX for this will be an option when calling the account deactivation API to request erasure as well as deactivation. There will be a 30 day grace period, and (ideally) a 2FA confirmation (if available) to avoid the feature being abused.</li>
<li>Homeservers must delete events that nobody has access to any more (i.e. if all the users in a room have GDPR-erased themselves). If users have deactivated their accounts without GDPR-erasure, then the data will persist in case they reactivate in future.</li>
<li>Homeservers must delete media that nobody has access to any more. This is hard, as media is referenced by <code>mxc://</code> URLs which may be shared across multiple events (e.g. stickers or forwarded events, including E2E encrypted events), and moreover <code>mxc://</code> URLs aren't currently authorized.  As a first cut, we track which user uploaded the <code>mxc://</code> content, and if they erase themselves then the content will also be erased.</li>
<li>Homeservers must not serve up unredacted events over federation to users who were not in the room at the time. This poses some interesting problems in terms of the privacy implications of sharing MXIDs of erased users over federation - see &quot;GDPR erasure of MXIDs&quot; below.</li>
<li>Matrix must specify a way of informing both servers and clients (especially bots and bridges) of GDPR erasures (as distinct from redactions), so that they can apply the appropriate erasure semantics.</li>
</ul>
<h4 id="gdpr-erasure-of-matrix-ids">GDPR erasure of Matrix IDs</h4>
<p>One interesting edge case that comes out of GDPR erasure is that we need a way to stop GDPR-erased events from leaking out over federation - when in practice they are cryptographically signed into the event Directed Acyclic Graph (DAG) of a given room. Today, we can remove the message contents (and preserve the integrity of the room's DAG) via redaction - but this still leaves personally identifying information in the form of the Matrix IDs (MXIDs) of the sender of these events.</p>
<p>In practice, this could be quite serious: imagine that you join a public chatroom for some sensitive subject (e.g. <code>#hiv:example.com</code>) and then later on decide that you want to erase yourself from the room. It would be very undesirable if any new homeserver joining that room received a copy of the DAG showing that your MXID had sent thousands of events into the room - especially if your MXID was clearly identifying (i.e. your real name).</p>
<p>Mitigating this is a hard problem, as MXIDs are baked into the DAG for a room in many places - not least to identify which servers are participating in a room. The problem is made even worse by the fact that in Matrix, server hostnames themselves are often personally identifying (for one-person homeservers sitting on a personal domain).</p>
<p>We've spent quite a lot time reasoning through how to fix this situation, and a full technical spec proposal for removing MXIDs from events can be found at <a href="https://docs.google.com/document/d/1ni4LnC_vafX4h4K4sYNpmccS7QeHEFpAcYcbLS-J21Q">https://docs.google.com/document/d/1ni4LnC_vafX4h4K4sYNpmccS7QeHEFpAcYcbLS-J21Q</a>. The high level proposal is to switch to giving each user a different ID in the form of a cryptographic public key for every room it participates in, and maintaining a mapping of today's MXIDs to these per-user-per-room keys.  In the event of a GDPR erasure, these mappings can be discarded, pseudonymising the user and avoiding correlation across different rooms. We'd also switch to using cryptographic public keys as the identifiers for Rooms, Events and Users (for cross-room APIs like presence).</p>
<p>This is obviously a significant protocol change, and we're not going to do it lightly - we're still waiting for legal confirmation on whether we need it for May 25th (it may be covered as an intrinsic technical limitation of the system).  However, the good news is that it paves the way towards many other desirable features: the ability to migrate accounts between homeservers; the ability to solve the problem of how to handle domain names being reused (or hijacked); the ability to decouple homeservers from DNS so that they can run clientside (for p2p matrix); etc.  The chances are high that this proposal will land in the relatively near future (especially if mandated by GDPR), so input is very appreciated at this point!</p>
<h3 id="consent">Consent</h3>
<p>GDPR describes <a href="https://gdpr-info.eu/art-6-gdpr/">six lawful bases for processing</a> personal data. For those running Matrix servers, it seems the best route to compliance is the most explicit and active one: <em>consent</em>.</p>
<p><em>Consent</em> requires that our users are <strong>fully informed</strong> as to exactly how their data will be used, where it will be stored, and (in our case) the specific caveats associated with a decentralised, federated communication system. They are then asked to provide their explicit approval before using (or continuing to use) the service.</p>
<p>In order to gather consent in a way that doesn't break all of the assorted Matrix clients connecting to matrix.org today, we have identified both an immediate- and a long-term approach.</p>
<p>The (immediate-term) todo list for gathering consent is:</p>
<ul>
<li>Modify Synapse to serve up a simple 'consent tool' static webapp to display the privacy notice/terms and conditions and gather consent to this API.
<ul>
<li>Add a 'consent API' to the CS API which lets a server track whether a given user has consented to the server's privacy policy or not.</li>
</ul>
</li>
<li>Send emails and push notifications to advise users of the upcoming change (and link through to the consent tool)</li>
<li>Develop a bot that automatically connects to all users (new and existing), posting a link to the consent tool. This bot can also be used in the future as a general 'server notice channel' for letting server admins inform users of privacy policy changes; planned downtime; security notices etc.</li>
<li>Modify synapse to reject message send requests for all users who have not yet provided consent
<ul>
<li>return a useful error message which contains a link to the consent tool</li>
</ul>
</li>
<li>Making our anonymised user analytics for Riot.im 'opt in' rather than 'opt out' - this isn't a requirement of GDPR (since our analytics are <a href="https://gdpr-info.eu/recitals/no-26/">fully anonymised</a>) but reflects our commitment to user data sovereignty</li>
</ul>
<p>Long-term:</p>
<ul>
<li>Add a User Interactive Auth flow for the <code>/register</code> API to gather consent at register</li>
<li>As an alternative to the bot:
<ul>
<li>Fix user authentication in general to distinguish between 'need to reauthorize without destroying user data' and 'destroy user data and login again', so we can use the re-authorize API to gather consent via <code>/login</code> without destroying user data on the client.</li>
<li>port the <code>/login</code> API to use User Interactive Auth and also use it to gather consent for existing users when logging in</li>
</ul>
</li>
</ul>
<h3 id="deactivation">Deactivation</h3>
<p>Account deactivation (the ability to terminate your account on your homeserver) intersects with GDPR in a number of places.</p>
<p>Todo list for account deactivation:</p>
<ul>
<li>Remove deactivated users from all rooms - this finally solves the problem where deactivated users leave zombie users around on bridged networks.</li>
<li>Remove deactivated users from the homeserver's user directory</li>
<li>Remove all 3PID bindings associated with a deactivated user from the identity servers</li>
<li>Improve the account deactivation UX to make sure users understand the full consequences of account deactivation</li>
</ul>
<h3 id="portability">Portability</h3>
<p>GDPR states that users have a right to extract their data in a <em>structured, commonly used and machine-readable format</em>.</p>
<p>In the medium term we would like to develop this as a core feature of Matrix (i.e. an API for exporting your logs and other data, or for that matter account portability between Matrix servers), but in the immediate term we'll be meeting our obligations by providing a manual service.</p>
<p>The immediate todo list for data portability is:</p>
<ul>
<li>Expose a simple interface for people to request their data</li>
<li>Implement the necessary tooling to provide full message logs (as a csv) upon request. As a first cut this would be the result of manually running something like <code>select * from events where user=?</code>.</li>
</ul>
<h3 id="other">Other</h3>
<p>GDPR mandates rules for all the personal data stored by a business, so there are some broader areas to bear in mind which aren't really Matrix specific, including:</p>
<ul>
<li>Making a clear statement as to how data is processed if you apply for a job</li>
<li>Ensuring you are seeking appropriate consent for cookies</li>
<li>Making sure all the appropriate documentation, processes and training materials are in place to meet GDPR obligations.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>So, there you have it. We'll be tracking progress in github issues and an associated dashboard over the coming weeks; for now <a href="https://github.com/matrix-org/synapse/issues/1941">https://github.com/matrix-org/synapse/issues/1941</a> (for Right to Erasure) or <a href="https://github.com/vector-im/riot-meta/issues/149">https://github.com/vector-im/riot-meta/issues/149</a> (GDPR in general) is as good as place as any to gather feedback. Alternatively, feel free to comment on the original text of this blog post: <a href="https://docs.google.com/document/d/1JTEI6RENnOlnCwcU2hwpg3P6LmTWuNS9S-ZYDdjqgzA">https://docs.google.com/document/d/1JTEI6RENnOlnCwcU2hwpg3P6LmTWuNS9S-ZYDdjqgzA</a>.</p>
<p>It's worth noting that we feel that GDPR is an excellent piece of legislation from the perspective of forcing us to think more seriously about our privacy - it has forced us to re-prioritise all sorts of long-term deficiencies in Matrix (e.g. dependence on DNS; improving User Interactive authentication; improving logout semantics etc). There's obviously a lot of work to be done here, but hopefully it should all be worth it!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;05&#x2F;04&#x2F;this-week-in-matrix-2018-05-04&#x2F;" title="This Week In Matrix – 2018-05-04">This Week In Matrix – 2018-05-04</a></h1>
            <span>
                04.05.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="project-updates">Project Updates</h2>
<h3 id="clients">Clients</h3>
<h4 id="nheko">nheko</h4>
<p><a href="https://github.com/mujx/nheko">nheko</a>, Qt desktop client announced release v0.4.0. From their own changelog:</p>
<ul>
 	<li>Basic member list</li>
 	<li>Basic room settings menu</li>
 	<li>Support for displaying stickers</li>
 	<li>Fuzzy search for rooms</li>
</ul>
<a href="https://github.com/mujx/nheko/releases/tag/v0.4.0">https://github.com/mujx/nheko/releases/tag/v0.4.0</a> for more information.
<p><a href="https://matrix.to/#/@mujx:matrix.org">mujx</a> - <a href="https://github.com/mujx/nheko">https://github.com/mujx/nheko</a> - <a href="https://matrix.to/#/#nheko:matrix.org">#nheko:matrix.org</a></p>
<h4 id="fractal">Fractal</h4>
<p><a href="https://gitlab.gnome.org/World/fractal">Fractal</a> have released <a href="https://gitlab.gnome.org/World/fractal/commit/eed332822a7a16f9da07374623da2195838b7cd8">v0.1.28</a> - couple of new features plus fixes.</p>
<p>Fractal of course have their in-person meeting coming up soon, and are looking forward to GSoCers getting onboard.</p>
<p><a href="https://gitlab.gnome.org/World/fractal">https://gitlab.gnome.org/World/fractal</a> - <a href="https://matrix.to/#/#fractal-gtk:matrix.org">#fractal-gtk:matrix.org</a></p>
<h4 id="neo">neo</h4>
<p><a href="https://matrix.to/#/@f0x:matrix.org">f0x</a> is keeping the pace up on <a href="https://github.com/f0x52/neo/">neo</a>. New version (<a href="https://github.com/f0x52/neo/releases/tag/alpha0.03">alpha0.03</a>), <a href="https://neo.lain.haus/">new website</a>!</p>
<p>Rollup of changes since last week includes</p>
<ul>
 	<li>settings menu</li>
 	<li>mentions</li>
 	<li>unread counts</li>
 	<li>room invite handling</li>
 	<li>video thumbnails</li>
</ul>
and a lot more.
<p><a href="https://matrix.to/#/@f0x:matrix.org">f0x</a> - <a href="https://github.com/f0x52/neo/">https://github.com/f0x52/neo/</a> - <a href="https://matrix.to/#/#neo_client:matrix.org">#neo_client:matrix.org</a></p>
<h4 id="gomuks">gomuks</h4>
<p>Ever modest, <a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> has been tearing through issues and fixes over on <a href="https://github.com/tulir/gomuks">gomuks</a>. I'm quite excited to have a matrix-native console client getting up to speed so fast.</p>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> - <a href="https://github.com/tulir/gomuks">https://github.com/tulir/gomuks</a> - <a href="https://matrix.to/#/#gomuks:maunium.net">#gomuks:maunium.net</a></p>
<h4 id="journal">Journal</h4>
<p>One of the riot developers, <a href="https://matrix.to/#/@lb:ldbco.de">luke</a> has a fun side-project called <em><a href="https://journal.ldbco.de/#/journal/journal:ldbco.de">Journal</a></em>, this being a blogging platform built on matrix.</p>
<p>Says Luke:</p>
<blockquote>
<p>The big news this week being that I'm going to redesign the interface to focus on the personal blog use-case, optimising for easy setup and easy blog post sharing.
And hopefully push a 1.0 release that I'd be happy to use as my own personal blog.</p>
</blockquote>
<p>Worth noting that the linked project page (<a href="https://journal.ldbco.de/#/journal/journal:ldbco.de">Journal</a>) is <em>itself</em> a blog using journal (the url might give you a hint of this!)</p>
<p><a href="https://matrix.to/#/@lb:ldbco.de">luke</a> - <a href="https://journal.ldbco.de/#/journal/journal:ldbco.de">https://journal.ldbco.de/#/journal/journal:ldbco.de</a></p>
<h3 id="bridges-and-other-projects">Bridges and other projects</h3>
<h4 id="synapse-diaspora-auth">synapse-diaspora-auth</h4>
<p><a href="https://matrix.to/#/@noteness:poddery.com">Po Shamil</a> reports an update for <a href="https://git.fosscommunity.in/necessary129/synapse-diaspora-auth">synapse-diaspora-auth</a>. New documentation on how to integrate with mxisd, plus email syncing from diaspora.</p>
<p><a href="https://matrix.to/#/@noteness:poddery.com">Po Shamil</a> - <a href="https://git.fosscommunity.in/necessary129/synapse-diaspora-auth">https://git.fosscommunity.in/necessary129/synapse-diaspora-auth</a></p>
<h4 id="matrix-appservice-discord">matrix-appservice-discord</h4>
<p><a href="https://github.com/Half-Shot/matrix-appservice-discord">matrix-appservice-discord</a> is now at <a href="https://github.com/Half-Shot/matrix-appservice-discord/releases/tag/v0.2.0-rc1">v0.2.0-rc1</a>.</p>
<p>There are several changes moving this project along, but checking out the change list I can see there were a bunch of contributors to thank, (<a href="https://github.com/eeeeeta">eeeeeta</a>, <a href="https://github.com/Sorunome">Sorunome</a>, <a href="https://github.com/turt2live">TravisR</a>), which is super-cool to see.</p>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> - <a href="https://github.com/Half-Shot/matrix-appservice-discord">https://github.com/Half-Shot/matrix-appservice-discord</a></p>
<h4 id="gtad">GTAD</h4>
<p>This week <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> has been focused on 'GTAD (Generate Things from API Description)', which is a code generator for C++, taking API description in Swagger/OpenAPI as it's source. Now at version 0.5, apparently GTAD</p>
<blockquote>
<p>can generate correct buildable (and runnable) code to convert data structures used in CS API between JSON and C++ - for the entirety of CS API calls. That basically means that libqmatrixclient gains (so far low-level) C++ CS API for all calls in <a href="/docs/spec/client_server/unstable.html">The Spec</a> and will follow updates to it.</p>
</blockquote>
<p>This is super-exciting, especially as we are going to see discussion and progress on the spec...</p>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> - <a href="https://github.com/KitsuneRal/gtad/commits/master">https://github.com/KitsuneRal/gtad/commits/master</a></p>
<h4 id="riot-web">Riot/Web</h4>
<ul>
 	<li>We shipped 0.14.2 as an incremental release</li>
 	<li>Jitsi by default on the horizon…</li>
 	<li>Trying to work our way through the regressions which keep stacking up</li>
 	<li>Lots of work on improved UTs for Groups and Replies; discussion about flux stuff</li>
 	<li>Next up is E2E verification (at last).</li>
</ul>
<h4 id="riot-mobile">Riot/Mobile</h4>
<ul>
 	<li>Replies</li>
 	<li>Sticker sending</li>
 	<li>Android is now Kotlin enabled!</li>
</ul>
<h4 id="synapse">Synapse</h4>
<ul>
 	<li>Handling abuse of the depth parameter; short-term fix deployed and longer term coming along shortly.</li>
 	<li>This destroyed progress on the algorithmic perf improvements.</li>
 	<li>Half-Shot PRs for negotiating size limits</li>
 	<li>Amber is inbound!</li>
</ul>
<h4 id="dendrite">Dendrite</h4>
<ul>
 	<li>We're behind on PRs - sorry Thibaut :(</li>
</ul>
<h4 id="matrix-org-ops">Matrix.org Ops</h4>
<ul>
 	<li>Ansible stuff is being refactored based on our experiences trying to use it in the wild
status.matrix.org is coming soon!</li>
</ul>
<h4 id="spec">Spec</h4>
<ul>
 	<li>Loads of work happening to build the Spec Proposals website, tracking workflow for all the proposals in flux and putting them into a formal RFC-style process. It should help community participation in the spec process massively whilst we finalise the longer term governance model for Matrix.org</li>
 	<li>Also looking at publishing formal roadmaps for Synapse, Dendrite and Riot (at last!) - we have them internally these days but need to just chuck them up on the web and maintain them.</li>
 	<li>Finally, GDPR work is in full swing.</li>
</ul>
<h2 id="new-ish-rooms">New(ish) Rooms</h2>
<p>This section is scraped manually from #newrooms:matrix.org, though there has not been much activity there this week. Meanwhile, there are a couple of rooms suggested by <a href="https://matrix.to/#/@Creak:matrix.org">Creak</a> which deserve some love:</p>
<ul>
 	<li><a href="https://matrix.to/#/#music-discovery:matrix.org">#music-discovery:matrix.org</a>, a place to discuss new music, and</li>
 	<li><a href="https://matrix.to/#/#unity3d:matrix.org">#unity3d:matrix.org</a>, a place for unity3d fans</li>
</ul>
<h2 id="before-we-go">Before we go</h2>
<h3 id="new-core-team-member">New Core team member</h3>
<p>Amber Brown of the <a href="https://twistedmatrix.com/trac/">Twisted project</a> will be joining the Matrix core team in a few weeks. She'll be focusing on Synapse implementation work, and will bring a lot of Python experience with her. Having someone working full time on synapse will increase others bandwidth for homeserver and spec work.</p>
<h3 id="matrix-live">Matrix Live</h3>
<p>Matrix Live is now available, where among other things you can see this blog post being written!</p>
<iframe src="https://www.youtube.com/embed/mjVexIiI9hw" frameBorder="0" allowFullScreen="allowfullscreen"></iframe>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;05&#x2F;01&#x2F;security-update-synapse-0-28-1&#x2F;" title="SECURITY UPDATE: Synapse 0.28.1">SECURITY UPDATE: Synapse 0.28.1</a></h1>
            <span>
                01.05.2018 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>Many people will have noticed disruption in #matrix:matrix.org and #matrix-dev:matrix.org on Sunday, when a validation bug in Synapse was exploited which allowed a malicious event to be inserted into the room with 'depth' value that made the rooms temporarily unusable. Whilst a transient workaround was found at the time (thanks to /dev/ponies, kythyria and Po Shamil for the workaround and to Half-Shot for working on a proposed fix), we're doing an urgent release of Synapse 0.28.1 to provide a temporary solution which will mitigate the attack across all rooms in upgraded servers and un-break affected ones.  Meanwhile we have a full long-term fix on the horizon (hopefully) later this week.</p>
<p><strong>This vulnerability has already been exploited in the wild; please upgrade as soon as possible.</strong></p>
<p>Synapse 0.28.1 is available from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.28.1">https://github.com/matrix-org/synapse/releases/tag/v0.28.1</a> as normal.</p>
<p>The 'depth' parameter is used primarily as a way for servers to signal the intended cosmetic order of their events within a room (particularly when the room's message graph has gaps in it due to the server being offline, or due to users backfilling old disconnected chunks of conversation). This means that affected rooms may experience message ordering problems until a full long-term fix is provided, which we're working on currently (and tentatively involves no longer trusting 'depth' information from servers).  For full details you can see the proposal documents for the <a href="https://docs.google.com/document/d/1I3fi2S-XnpO45qrpCsowZv8P8dHcNZ4fsBsbOW7KABI/edit#">temporary fix in 0.28.1</a> and the options for the<a href="https://docs.google.com/document/d/16ofbjluy8ZKYL6nt7WLHG4GqSodJUWLUxHhI6xPEjr4/edit#"> imminent long-term fix</a>.</p>
<p>We'd like to acknowledge jzk for identifying the vulnerability, and Max Dor for providing feedback on the fixes.</p>
<p>As a general reminder, Synapse is still beta (as is the Matrix spec) and the federation API particularly is still being debugged and refined and is pre-r0.0.0. For the benefit of the whole community, please disclose vulnerabilities and exploits responsibly by emailing security@ or DMing someone from +matrix:matrix.org. Thanks.</p>
<h2 id="changes-in-synapse-v0-28-1-2018-05-01">Changes in synapse v0.28.1 (2018-05-01)</h2>
<p><strong>SECURITY UPDATE</strong></p>
<ul>
 	<li>Clamp the allowed values of event depth received over federation to be [0, 2^63 - 1]. This mitigates an attack where malicious events injected with depth = 2^63 - 1 render rooms unusable. Depth is used to determine the cosmetic ordering of events within a room, and so the ordering of events in such a room will default to using stream_ordering rather than depth (topological_ordering). This is a temporary solution to mitigate abuse in the wild, whilst a long solution is being implemented to improve how the depth parameter is used.Full details at <a href="https://docs.google.com/document/d/1I3fi2S-XnpO45qrpCsowZv8P8dHcNZ4fsBsbOW7KABI" rel="nofollow">https://docs.google.com/document/d/1I3fi2S-XnpO45qrpCsowZv8P8dHcNZ4fsBsbOW7KABI</a></li>
 	<li>Pin Twisted to &lt;18.4 until we stop using the private _OpenSSLECCurve API.</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;04&#x2F;27&#x2F;synapse-0-28-0-released&#x2F;" title="Synapse 0.28.0 Released!">Synapse 0.28.0 Released!</a></h1>
            <span>
                27.04.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Well now, today sees the release of Synapse 0.28.0!</p>
<p>This release is particularly exciting as it's a major bump mainly thanks to lots and lots of contributions from the wider community - including support for running Synapse on PyPy (thanks Valodim) and lots of progress towards official Python3 support (thanks notafile)!! However, almost all the changes are under the hood (and some are quite major), so this is more a performance, bugfix and synapse internals release rather than adding many new APIs or features</p>
<p>As always, you can get it from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.28.0">https://github.com/matrix-org/synapse/releases/tag/v0.28.0</a> and thanks to everyone who tested the release candidates.</p>
<h3 id="changes-in-synapse-v0-28-0-2018-04-26">Changes in synapse v0.28.0 (2018-04-26)</h3>
<p>Bug Fixes:</p>
<ul>
 	<li>Fix quarantine media admin API and search reindex (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3130" data-error-text="Failed to load issue title" data-id="317646661" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3130">#3130</a>)</li>
 	<li>Fix media admin APIs (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3134" data-error-text="Failed to load issue title" data-id="317969752" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3134">#3134</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-28-0-rc1-2018-04-24">Changes in synapse v0.28.0-rc1 (2018-04-24)</h3>
<p>Minor performance improvement to federation sending and bug fixes.</p>
<p>(Note: This release does not include state resolutions discussed in matrix live)</p>
<p>Features:</p>
<ul>
 	<li>Add metrics for event processing lag (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3090" data-error-text="Failed to load issue title" data-id="313326931" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3090">#3090</a>)</li>
 	<li>Add metrics for ResponseCache (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3092" data-error-text="Failed to load issue title" data-id="313664599" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3092">#3092</a>)</li>
</ul>
Changes:
<ul>
 	<li>Synapse on PyPy (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/2760" data-error-text="Failed to load issue title" data-id="286622617" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/2760">#2760</a>) Thanks to <a class="user-mention" href="https://github.com/Valodim" data-hovercard-user-id="27813" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@Valodim</a>!</li>
 	<li>move handling of auto_join_rooms to RegisterHandler (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/2996" data-error-text="Failed to load issue title" data-id="305218362" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/2996">#2996</a>) Thanks to <a class="user-mention" href="https://github.com/krombel" data-hovercard-user-id="11167142" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@krombel</a>!</li>
 	<li>Improve handling of SRV records for federation connections (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3016" data-error-text="Failed to load issue title" data-id="306884886" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3016">#3016</a>) Thanks to <a class="user-mention" href="https://github.com/silkeh" data-hovercard-user-id="5798032" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@silkeh</a>!</li>
 	<li>Document the behaviour of ResponseCache (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3059" data-error-text="Failed to load issue title" data-id="311125652" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3059">#3059</a>)</li>
 	<li>Preparation for py3 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3061" data-error-text="Failed to load issue title" data-id="311182479" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3061">#3061</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3073" data-error-text="Failed to load issue title" data-id="312120046" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3073">#3073</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3074" data-error-text="Failed to load issue title" data-id="312126869" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3074">#3074</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3075" data-error-text="Failed to load issue title" data-id="312144464" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3075">#3075</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3103" data-error-text="Failed to load issue title" data-id="314439691" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3103">#3103</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3104" data-error-text="Failed to load issue title" data-id="314439972" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3104">#3104</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3106" data-error-text="Failed to load issue title" data-id="314440233" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3106">#3106</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3107" data-error-text="Failed to load issue title" data-id="314440492" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3107">#3107</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3109" data-error-text="Failed to load issue title" data-id="314459327" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3109">#3109</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3110" data-error-text="Failed to load issue title" data-id="314459750" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3110">#3110</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@NotAFile</a>!</li>
 	<li>update prometheus dashboard to use new metric names (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3069" data-error-text="Failed to load issue title" data-id="311770477" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3069">#3069</a>) Thanks to <a class="user-mention" href="https://github.com/krombel" data-hovercard-user-id="11167142" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@krombel</a>!</li>
 	<li>use python3-compatible prints (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3074" data-error-text="Failed to load issue title" data-id="312126869" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3074">#3074</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@NotAFile</a>!</li>
 	<li>Send federation events concurrently (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3078" data-error-text="Failed to load issue title" data-id="312485229" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3078">#3078</a>)</li>
 	<li>Limit concurrent event sends for a room (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3079" data-error-text="Failed to load issue title" data-id="312488812" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3079">#3079</a>)</li>
 	<li>Improve R30 stat definition (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3086" data-error-text="Failed to load issue title" data-id="313004914" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3086">#3086</a>)</li>
 	<li>Send events to ASes concurrently (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3088" data-error-text="Failed to load issue title" data-id="313232647" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3088">#3088</a>)</li>
 	<li>Refactor ResponseCache usage (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3093" data-error-text="Failed to load issue title" data-id="313696664" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3093">#3093</a>)</li>
 	<li>Clarify that SRV may not point to a CNAME (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3100" data-error-text="Failed to load issue title" data-id="314327149" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3100">#3100</a>) Thanks to <a class="user-mention" href="https://github.com/silkeh" data-hovercard-user-id="5798032" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@silkeh</a>!</li>
 	<li>Use str(e) instead of e.message (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3103" data-error-text="Failed to load issue title" data-id="314439691" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3103">#3103</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@NotAFile</a>!</li>
 	<li>Use six.itervalues in some places (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3106" data-error-text="Failed to load issue title" data-id="314440233" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3106">#3106</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@NotAFile</a>!</li>
 	<li>Refactor store.have_events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3117" data-error-text="Failed to load issue title" data-id="315159849" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3117">#3117</a>)</li>
</ul>
Bug Fixes:
<ul>
 	<li>Return 401 for invalid access_token on logout (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/2938" data-error-text="Failed to load issue title" data-id="301972886" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/2938">#2938</a>) Thanks to <a class="user-mention" href="https://github.com/dklug" data-hovercard-user-id="8633205" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self">@dklug</a>!</li>
 	<li>Return a 404 rather than a 500 on rejoining empty rooms (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3080" data-error-text="Failed to load issue title" data-id="312501677" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3080">#3080</a>)</li>
 	<li>fix federation_domain_whitelist (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3099" data-error-text="Failed to load issue title" data-id="314137025" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3099">#3099</a>)</li>
 	<li>Avoid creating events with huge numbers of prev_events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3113" data-error-text="Failed to load issue title" data-id="314753743" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3113">#3113</a>)</li>
 	<li>Reject events which have lots of prev_events (PR <a class="issue-link js-issue-link tooltipped tooltipped-ne" href="https://github.com/matrix-org/synapse/pull/3118" data-error-text="Failed to load issue title" data-id="315273891" data-permission-text="Issue title is private">#3118</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;04&#x2F;27&#x2F;this-week-in-matrix-2018-04-27&#x2F;" title="This Week In Matrix – 2018-04-27">This Week In Matrix – 2018-04-27</a></h1>
            <span>
                27.04.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="big-news">Big News</h2>
<h4 id="gsoc-students">GSoC students</h4>
<p>Google Summer of Code acceptees were announced, and we're really excited to have FIVE Matrix-related projects to look forward to!</p>
<p>Three of the students will be mentored by matrix.org folk, and two more will work on Fractal under the GNOME org.</p>
<ul>
<li>Valentin D. (Zil0) will work on <a href="https://summerofcode.withgoogle.com/projects/#5468043765874688">adding E2E to matrix-python-sdk</a>, mentored by RichVDH </li>
<li>Badrul Chowdhury will <a href="https://summerofcode.withgoogle.com/projects/#5936132521459712">develop an alternative to GCM/FCM on Android and APNS on iOS</a> that provides the homeserver with facilities to push notifications, mentored by David Baker</li>
<li>APwhitehat will work on <a href="https://summerofcode.withgoogle.com/projects/#6239747115057152">Dendrite (Federation and Sync Server APIs)</a>, mentored by erikj</li>
<li>Eisha CHEN-YEN-SU will work on a <a href="https://summerofcode.withgoogle.com/projects/#5159367150665728">new UI for Fractal</a>, mentored by Daniel García Moreno</li>
<li>Julian Sparber will work on <a href="https://summerofcode.withgoogle.com/projects/#5646994115133440">Fractal UI improvements and some features like a user account settings and a spell checker</a>. Mentored by Daniel García Moreno</li>
</ul>
<h4 id="fractal-hackfest-2018">Fractal Hackfest 2018</h4>
<p><a href="https://wiki.gnome.org/Hackfests/Fractal2018">Fractal Hackfest 2018</a> will take place next month in Strasbourg, hosted by Epitech. They'll be planning a roadmap for the year, and working on their current focus areas.</p>
<p><a href="https://wiki.gnome.org/Hackfests/Fractal2018">https://wiki.gnome.org/Hackfests/Fractal2018</a></p>
<h4 id="coverage-of-french-matrix-adoption">Coverage of French Matrix adoption</h4>
<p>After the blog post on matrix.org yesterday, lots of attention developed around the news. Take a look at this <a href="https://news.ycombinator.com/item?id=16933736">Hacker News</a> thread with lots of discussion, which has stayed on the front page for nearly 24 hours, and a megathread on <a href="https://www.reddit.com/r/linux/comments/8f3f30/matrix_and_riot_confirmed_as_the_basis_for/">Reddit/r/linux</a>: nearly 1000 upvotes and growing.</p>
<h2 id="project-updates">Project Updates</h2>
<h3 id="clients">Clients</h3>
<h4 id="libqmatrixclient">libqmatrixclient</h4>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> reports a new release of <a href="https://github.com/QMatrixClient/libqmatrixclient">libqmatrixclient</a>, <a href="https://github.com/QMatrixClient/libqmatrixclient/releases/tag/v0.2.1">v0.2.1</a>, this is mostly a bugfix release, fully backwards-compatible with v0.2. Check out the <a href="https://github.com/QMatrixClient/libqmatrixclient/releases/tag/v0.2.1">release notes</a> for details.</p>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> - <a href="https://github.com/QMatrixClient/libqmatrixclient">https://github.com/QMatrixClient/libqmatrixclient</a> - <a href="https://matrix.to/#/#qmatrixclient:matrix.org">#qmatrixclient:matrix.org</a></p>
<h4 id="quaternion">Quaternion</h4>
<p>Staying in QMatrix-land, there is a pre-release of <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> available. Take a look at <a href="https://github.com/QMatrixClient/Quaternion/releases/tag/v0.0.9">v0.0.9</a>, improvements include &quot;redactions, file downloading, room creation and settings editing, better timeline visualisation and much more&quot;!</p>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> - <a href="https://github.com/QMatrixClient/Quaternion">https://github.com/QMatrixClient/Quaternion</a> - <a href="https://matrix.to/#/#qmatrixclient:matrix.org">#qmatrixclient:matrix.org</a></p>
<h4 id="neo">neo</h4>
<p><a href="https://matrix.to/#/@f0x:disroot.org">f0x</a> has been beavering away on <a href="https://github.com/f0x52/neo/">neo</a>, and has announced that <a href="https://github.com/f0x52/neo/releases/tag/alpha0.01">Alpha 0.01</a> is available now. <a href="https://github.com/f0x52/neo/">neo</a> is a webclient in React, it feels really light and fast. I asked <a href="https://matrix.to/#/@f0x:disroot.org">f0x</a> about the uptick in work, and he mentioned he got started with React recently, but likes it a lot.</p>
<p><a href="https://matrix.to/#/@f0x:disroot.org">f0x</a> - <a href="https://github.com/f0x52/neo/">https://github.com/f0x52/neo/</a> - <a href="https://matrix.to/#/#neo_client:matrix.org">#neo_client:matrix.org</a></p>
<h4 id="fractal">Fractal</h4>
<p><a href="https://gitlab.gnome.org/World/fractal">Fractal</a> released <a href="https://gitlab.gnome.org/World/fractal/commit/7373582cee7e040892f29b74d1da23b828e0929b">0.1.27</a> with many new features and bugfixes. Lot's going on but I'm most excited to see Markdown support land.</p>
<p><a href="https://gitlab.gnome.org/World/fractal">https://gitlab.gnome.org/World/fractal</a> - <a href="https://matrix.to/#/#fractal-gtk:matrix.org">#fractal-gtk:matrix.org</a></p>
<h3 id="bots">Bots</h3>
<h4 id="matrix-trello-bot">matrix-trello-bot</h4>
<p>Says <a href="https://github.com/turt2live">TravisR</a>: &quot;I've whipped together a simple Trello notification bot for matrix: <a href="https://github.com/turt2live/matrix-trello-bot">matrix-trello-bot</a>. Future plans include the ability to create/update/delete cards and more granular control of what is notified about. Currently it acts very similar to how the Github notifications bot works.&quot;</p>
<p><a href="https://github.com/turt2live">TravisR</a> - <a href="https://github.com/turt2live/matrix-trello-bot">https://github.com/turt2live/matrix-trello-bot</a> - <a href="https://matrix.to/#/#trellobot:t2bot.io">#trellobot:t2bot.io</a></p>
<h3 id="others">Others</h3>
<h4 id="matrix-dsl">Matrix DSL</h4>
<p><a href="https://matrix.to/#/@MTRNord:matrix.ffslfl.net">MTRNord</a> is working on a &quot;matrix DSL&quot;, basically a config file language that generates a project Template in multiple languages. The project is just now at the discussion stage, so join <a href="https://matrix.to/#/#matrix_dsl:matrix.ffslfl.net">#matrix_dsl:matrix.ffslfl.net</a> to check out what's going on. (DSL = Domain Specific Language.)</p>
<p><a href="https://matrix.to/#/@MTRNord:matrix.ffslfl.net">MTRNord</a> - <a href="https://matrix.to/#/#matrix_dsl:matrix.ffslfl.net">#matrix_dsl:matrix.ffslfl.net</a></p>
<h4 id="urllib-requests-adapter">urllib-requests-adapter</h4>
<p>Says <a href="https://matrix.to/#/@Coffee:matrix.org">Coffee</a>: &quot;<a href="https://github.com/Matrixcoffee/urllib-requests-adapter">urllib-requests-adapter</a> has been updated to work with <a href="https://github.com/matrix-org/matrix-python-sdk">matrix-python-sdk</a> 0.2.0. urllib-requests-adapter is a lightweight replacement for <a href="https://github.com/kennethreitz/requests">requests</a> and its dependencies, currently standing at 126 SLOC.&quot;</p>
<p><a href="https://matrix.to/#/@Coffee:matrix.org">Coffee</a> - <a href="https://github.com/Matrixcoffee/urllib-requests-adapter">https://github.com/Matrixcoffee/urllib-requests-adapter</a></p>
<h4 id="mxisd">mxisd</h4>
<p><a href="https://github.com/kamax-io/mxisd">mxisd</a>, the Identity Server from kamax, saw a <a href="https://github.com/kamax-io/mxisd/releases/tag/v1.0.2">v1.0.2</a> release, following the big one-point-zero last week. Changes include de-duplicated directory search results, plus bugfixes.</p>
<p><a href="https://matrix.to/#/@max:kamax.io">Max</a> - <a href="https://github.com/kamax-io/mxisd">https://github.com/kamax-io/mxisd</a></p>
<h4 id="matrix-stfu">matrix-stfu</h4>
<p>Missed this one last week, but <a href="https://github.com/xwiki-labs/matrix-stfu">matrix-stfu</a> from <a href="https://www.xwiki.com/">xwiki</a> is a message filtering tool released recently, it can &quot;mass remove everything which was said by a particular user in a particular room&quot;. XWiki use matrix as their internal chat system for the ~30 people at the company.</p>
<p><a href="https://www.xwiki.com/">xwiki</a> - <a href="https://github.com/xwiki-labs/matrix-stfu">https://github.com/xwiki-labs/matrix-stfu</a> - <a href="https://matrix.to/#/#xwiki:matrix.xwiki.com">#xwiki:matrix.xwiki.com</a></p>
<h4 id="riot-web">Riot/Web</h4>
<ul>
<li>We're committing to 2-weekly releases come what may, to avoid another massive gap like the one between 0.13 and 0.14.</li>
<li>RCs will get cut starting from Wednesday; actual release then happens on the Monday having given folks a chance to test the RC on /staging (and to iterate on the RCs).</li>
<li>Obviously this is flexible if we need to rush out fixes sooner.</li>
<li>On that note, 0.14.2-rc1 was cut on Wednesday!  Please test it at riot.im/staging. It's mainly bugfixes but also the full relayering between riot-web and matrix-react-sdk.</li>
<li>Dave's working on finally hooking in Jitsi as the default conferencing system</li>
<li>t3chguy's been working on Replies, which continue to look awesome</li>
<li>Next up: E2E cross-signing (at last!!!!)</li>
</ul>
<h4 id="riot-mobile">Riot/Mobile</h4>
<ul>
<li>New releases are out! Mainly preparing for sticker viewing and trying to fix the Android push notification situation.  PLEASE TELL US IF YOU ARE STILL HAVING ANDROID PUSH NOTIFICATION PROBLEMS!</li>
<li>Lots of review of Android by Benoit - adding in Kotlin support as of today and establishing a formal roadmap for Android work (we'll show the blog post when we have it)</li>
<li>Lots of Matrix-for-French-Government stuff.</li>
</ul>
<h4 id="synapse">Synapse</h4>
<ul>
<li><a href="/blog/2018/04/27/synapse-0-28-0-released/">Synapse 28.0 was released!</a> A major bump mainly thanks to lots and lots of contributions from the wider community.</li>
<li>Massive experimental work on GDPR in progress - doing the thought experiment of pseudonymising MXIDs throughout Matrix on a per-room basis so that it's possible to redact MXIDs in the event of a “right-to-erasure” GDPR event.  Rich vdH is leading the work.</li>
<li>The good news is that introducing an MXID abstraction layer like this could help us enormously with some of Matrix's longest-term architectural issues - i.e. account migration and portability; improving on PERSPECTIVEs for managing server identity; future support for P2P Matrix; solving the domain name reuse problem; etc.</li>
<li>The bad news is that it would obviously be a very significant change to the Matrix spec, although we'd be doing it in such a way which minimises impact to client implementers and keep the CS API looking as similar as possible.</li>
<li>We're not sure whether we need to rush this through or not yet; still waiting for final GDPR clarification from lawyers, but it feels like this might be a good opportunity to force us to finally tackle some of these harder problems.</li>
<li>Meanwhile, Erik's Delta State Resolution algorithm work is continuing well; we're hoping to finish & merge it asap in order to get back headroom on the server.</li>
<li>Thankfully the matrix.org synapse itself has been relatively stable this week, other than being completely overloaded causing Freenode to be almost unusable.</li>
<li>We've started using Ansible in production, although the playbooks need some iteration before we're fully happy to announce them & recommend folks use them as an official way of running Synapse in production.</li>
</ul>
<h4 id="try-matrix-now">try-matrix-now</h4>
<p>There is a update out on <a href="/docs/projects/try-matrix-now.html">try-matrix-now</a>, matrix.org's central listing of projects. Try filtering and see whether <a href="https://matrix.to/#/@benpa:matrix.org">benpa</a> mangled the metadata for <em>your</em> project. Submit any changes as markdown PRs on <a href="https://github.com/matrix-org/matrix.org/">the repo</a>.</p>
<h4 id="spec">Spec</h4>
<p><a href="https://matrix.to/#/@benpa:matrix.org">benpa</a> is currently working on a Proposals page for the Spec to properly stack spec proposal status, at last!</p>
<h2 id="articles-around-the-web">Articles around the web</h2>
<h4 id="riot-a-distributed-way-of-having-irc-and-voip-client-and-home-server">Riot: A Distributed Way of Having IRC and VOIP Client and Home Server</h4>
<p><a href="https://matrix.to/#/@uhoreg">uhoreg</a> pointed to some charming coverage over on <a href="itsfoss.com">https://itsfoss.com</a>: <a href="https://itsfoss.com/riot-desktop/">Riot: A Distributed Way of Having IRC and VOIP Client and Home Server</a>, by <a href="https://itsfoss.com/author/shirish/">Shirish</a>. The article covers some details about riot-web and the open source ethos of Matrix, but my favourite quote by far:</p>
<blockquote>
<p>&quot;Without Matrix, Riot would be like a body without a soul.&quot;</p>
</blockquote>
<p><a href="https://itsfoss.com/author/shirish/">Shirish</a> - <a href="https://itsfoss.com/riot-desktop/">https://itsfoss.com/riot-desktop/</a></p>
<h4 id="service-notifs-with-matrix">Service notifs with Matrix</h4>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> shared an article he wrote, <a href="https://dev.to/halfshot/service-notifs-with-matrix-3fb5">Service notifs with Matrix</a>, about using Matrix and Riot to deliver automated notifications to different types of end-user at his company.</p>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> - <a href="https://dev.to/halfshot/service-notifs-with-matrix-3fb5">https://dev.to/halfshot/service-notifs-with-matrix-3fb5</a></p>
<h2 id="new-rooms-roundup">New Rooms roundup</h2>
<ul>
<li><a href="https://matrix.to/#/#matrix_dsl:matrix.ffslfl.net">#matrix_dsl:matrix.ffslfl.net</a> As mentioned above, MTRNord is looking at creating a DSL for matrix. In his words: "A room to discuss about making a Matrix DSL to allow non coders to write simple as and bots. I would love to see some people discussing about syntax with me as this is my very first DSL and very first time trying JetBrains MSP. Anyone with Ideas what it should allow to do and how to have the syntax a welcome to join (and people who want to follow of course too)"</li>
<li><a href="https://matrix.to/#/#trellobot:t2bot.io">#trellobot:t2bot.io</a> (from above) TravisR: "a discussion/developer room for Matrix Trello Bot (https://github.com/turt2live/matrix-trello-bot). This is a bot that notifies rooms of changes to tracked Trello boards, similar to how the Github bot works. Future enhancements include being able to create, update, and delete cards from within Matrix."</li>
</ul>
<h2 id="lastly">Lastly...</h2>
<p><a href="https://www.youtube.com/watch?v=b3OuPFQ1ELg">Matrix Live - Season 2, Episode 17: Apr 27th is now available!</a></p>
<iframe src="https://www.youtube.com/embed/b3OuPFQ1ELg" frameBorder="0" allow="autoplay; encrypted-media" allowFullScreen></iframe>
<p>This Week in Matrix is printed fresh every week! There will be another post before you know it, so if you'd like to be included join us in <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> and let us know what you've been working on. See you next week!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;04&#x2F;26&#x2F;matrix-and-riot-confirmed-as-the-basis-for-france-s-secure-instant-messenger-app&#x2F;" title="Matrix and Riot confirmed as the basis for France&#x27;s Secure Instant Messenger app">Matrix and Riot confirmed as the basis for France&#x27;s Secure Instant Messenger app</a></h1>
            <span>
                26.04.2018 00:00
                —
                <a href="/category/in-the-news">
                    In the News
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Hi folks,</p>
<p>We're incredibly excited that the Government of France has confirmed it is in the process of deploying a huge private federation of Matrix homeservers spanning the whole government, and developing a fork of Riot.im for use as their official secure communications client! The goal is to replace usage of WhatsApp or Telegram for official purposes.</p>
<p>It's a unbelievably wonderful situation that we're living in a world where governments genuinely care about openness, open source and open-standard based communications - and Matrix's decentralisation and end-to-end encryption is a perfect fit for intra- and inter-governmental communication.  Congratulations to France for going decentralised and supporting FOSS! We understand the whole project is going to be released entirely open source (other than the operational bits) - development is well under way and an early proof of concept is already circulating within various government entities.</p>
<p>I'm sure there will be more details from their side as the project progresses, but meanwhile here's the official press release, and an English translation too. We expect this will drive a lot of effort into maturing Synapse/Dendrite, E2E encryption and matrix-{'{'}react,ios,android{'}'}-sdk, which is great news for the whole Matrix ecosystem! The deployment is going to be speaking pure Matrix and should be fully compatible with other Matrix clients and projects in addition to the official client.</p>
<p>So: exciting times for Matrix.  Needless to say, if you work on Open Government projects in other countries, please get in touch - we're seeing that Matrix really is a sweet spot for these sort of use cases and we'd love to help get other deployments up and running.  We're also hoping it's going to help iron out many of the UX kinks we have in Riot.im today as we merge stuff back. We'd like to thank DINSIC (the Department responsible for the project) for choosing Matrix, and can't wait to see how the project progresses!</p>
<p><a href="/blog/wp-content/uploads/2018/04/CP_messagerie_instantanee_Etat.pdf"><img class="aligncenter size-large wp-image-3082" src="/blog/wp-content/uploads/2018/04/dinsic.jpg" alt="" width="620" height="877" /></a></p>
<p>English Translation:</p>
<h3 id="the-french-state-creates-its-own-secure-instant-messenger">The French State creates its own secure instant messenger</h3>
<p>By the summer of 2018, the French State will have its own instant messenger, an alternative to WhatsApp and Telegram.</p>
<p>It will guarantee <b>secure, end-to-end encrypted conversations</b> without degradation of the user experience. It will be compatible with any mobile device or desktop, state or personal. In fact until now the installation of applications like WhatsApp or Telegram was not possible on professional mobile phones, which hindered easy sharing of information and documents.</p>
<p>Led by the <b>Interministerial Department of State Digital, Information and Communication Systems</b> (DINSIC), the project is receiving contributions from the <b>National Agency for Information System Security</b> (ANSSI), the IT Directorship (DSI) of the <b>Armed Forces</b> and the <b>Ministry of Europe and Foreign Affairs</b>.</p>
<p>The tool developed is based on <b>open source software</b> (Riot) that implements an <b>open standard</b> (Matrix). Powered by a Franco-British startup (New Vector), and benefiting from many contributions, this communication standard has already caught the attention of other states such as the <b>Netherlands</b> and <b>Canada</b>, with whom DINSIC collaborates closely.</p>
<p>The Matrix standard and its open source software are also used by private companies such as Thales, which has driven the teams to come together to ensure the interoperability of their tools and cooperate in the development of free and open source software.</p>
<p>After 3 months of development for a very limited cost, this tool is currently being tested in the State Secretary for Digital, DINSIC and in the IT departments of different ministries. It should be rolled out during the summer in administrations and cabinets.</p>
<p><b><i>&quot;With this new French solution, the state is demonstrating its ability to work in an agile manner to meet concrete needs by using open source tools and very low development costs. Sharing information in a secure way is essential not only for companies but also for a more fluid dialogue within administrations.&quot;</i> - Mounir Mahjoubi, Secretary of State to the Prime Minister, in charge of Digital.</b></p>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;page&#x2F;50&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">51 / 68</span>
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;page&#x2F;52&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p><a href="/legal/copyright-notice">Copyright Notice</a></p>
</footer>

</body>

</html>
