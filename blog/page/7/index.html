<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    </head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2021&#x2F;07&#x2F;26&#x2F;dendrite-0-4-1-released&#x2F;" title="Dendrite 0.4.1 Released">Dendrite 0.4.1 Released</a></h1>
            <span>
                26.07.2021 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>It's only been two weeks since Dendrite 0.4 landed, but there's already a
significant new release with Dendrite 0.4.1 (it's amazing how much work we
can do on Dendrite when not off chasing low-bandwidth and P2P Matrix!)</p>
<p>This release further improves memory performance and radically improves
state resolution performance (rumour has it that it's a 10x speed-up).
Meanwhile, SS API sytest coverage is up to 91%(!!) and CS API is now at 63%.</p>
<p>We're going to try to keep the pressure up over the coming weeks - and once
sytest is at 100% coverage (and we're not missing any big features which sytest
doesn't cover yet) we'll be declaring a 1.0 :)</p>
<p>If you're running Dendrite, please upgrade.  If not, perhaps this would be a
good version to give it a try?  You can get it, as always from,
https://github.com/matrix-org/dendrite/releases/tag/v0.4.1.  The changelog
follows:</p>
<h3 id="features">Features</h3>
<ul>
<li>Support for room version 7 has been added</li>
<li>Key notary support is now more complete, allowing Dendrite to be used as a notary server for looking up signing keys</li>
<li>State resolution v2 performance has been optimised further by caching the create event, power levels and join rules in memory instead of parsing them repeatedly</li>
<li>The media API now handles cases where the maximum file size is configured to be less than 0 for unlimited size</li>
<li>The <code>initial_state</code> in a <code>/createRoom</code> request is now respected when creating a room</li>
<li>Code paths for checking if servers are joined to rooms have been optimised significantly</li>
</ul>
<h3 id="fixes">Fixes</h3>
<ul>
<li>A bug resulting in <code>cannot xref null state block with snapshot</code> during the new state storage migration has been fixed</li>
<li>Invites are now retired correctly when rejecting an invite from a remote server which is no longer reachable</li>
<li>The DNS cache <code>cache_lifetime</code> option is now handled correctly (contributed by <a href="https://github.com/S7evinK">S7evinK</a>)</li>
<li>Invalid events in a room join response are now dropped correctly, rather than failing the entire join</li>
<li>The <code>prev_state</code> of an event will no longer be populated incorrectly to the state of the current event</li>
<li>Receiving an invite to an unsupported room version will now correctly return the <code>M_UNSUPPORTED_ROOM_VERSION</code> error code instead of <code>M_BAD_JSON</code> (contributed by <a href="https://github.com/meenal06">meenal06</a>)</li>
</ul>
<p>-- Team Dendrite</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2021&#x2F;07&#x2F;23&#x2F;this-week-in-matrix-2021-07-23&#x2F;" title="This Week in Matrix 2021-07-23">This Week in Matrix 2021-07-23</a></h1>
            <span>
                23.07.2021 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/fcJeOXldBls" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>This week <a href="https://fachportal.gematik.de/anwendungen/ti-messenger">gematik announced</a> they will <a href="https://matrix.org/blog/2021/07/21/germanys-national-healthcare-system-adopts-matrix">use Matrix</a> for their interoperable instant messaging standard.</p>
<p>Loads of coverage is available, take a look!</p>
<p>English</p>
<ul>
<li>https://www.zdnet.com/article/germanys-healthcare-system-is-using-this-open-source-standard-for-encrypted-instant-messaging/</li>
<li>https://thestack.technology/matrix-germany-healthcare/
<ul>
<li>see also https://thestack.technology/element-messenger-matrix-protocol-one-to-watch/</li>
</ul>
</li>
</ul>
<p>Dutch</p>
<ul>
<li>https://tweakers.net/nieuws/184736/duitse-gezondheidsinstellingen-gaan-onderling-communiceren-via-matrix-protocol.html</li>
</ul>
<p>German</p>
<ul>
<li>https://www.heise.de/news/Matrix-Messenger-fuers-deutsche-Gesundheitswesen-6144988.html</li>
<li>https://www.golem.de/news/videochat-deutsche-gesundheits-it-wechselt-auf-matrix-2107-158334.html</li>
<li>https://stadt-bremerhaven.de/gematik-ti-messenger-setzt-auf-das-matrix-protokoll-als-basis/</li>
</ul>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> offered:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://matrix.org/docs/spec/proposals.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/3083">MSC3083: Restricting room membership based on membership in other rooms</a> (merge)</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/3291">MSC3291: Muting in VoIP calls</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/3289">MSC3289: Room version 8</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/3288">MSC3288: Add room type in store invite</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/3286">MSC3286: Media spoilers</a></p>
</li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, </p>
<h4 id="spec-updates">Spec Updates</h4>
<p>Room Version 8 has been proposed as part of <a href="https://github.com/matrix-org/matrix-doc/pull/3289">MSC3289</a>! This intends to include the new &quot;restricted&quot; room version from <a href="https://github.com/matrix-org/matrix-doc/pull/3083">MSC3083</a>, which allows access to a room based on one's membership in another room, as is most useful for features related to Spaces.</p>
</blockquote>
<p><img src="/blog/img/2021-07-23-kziJ3-stacked_area_chart.png" alt="2021-07-23-kziJ3-stacked_area_chart.png" /></p>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> has been working on MSC2545:</p>
<blockquote>
<p>Sorus <a href="https://github.com/matrix-org/matrix-doc/pull/2545">Image Packs MSC2545</a> is taking shape more and more! While barely anything happened on the actual MSC itself, <a href="https://github.com/Nheko-Reborn/nheko/pull/648">nheko</a> recently implemented a sticker picker based on it, and there is a PR for <a href="https://gitlab.com/famedly/fluffychat/-/merge_requests/452">fluffychat</a> for a sticker picker, too, finally making stickers interoperable between clients of different vendors!</p>
<p>Here's a video of fluffychats sticker picker in action: https://gitlab.com/famedly/fluffychat/uploads/26382317e2424d7566eb18e102ddd6cb/fluffy-sticker-picker.webm</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@callahad:matrix.org">callahad</a> told us:</p>
<blockquote>
<p>🚨 Yesterday we published Synapse 1.38.1 which <a href="https://github.com/matrix-org/synapse/issues/10456">mitigates a client bug</a> triggered by <a href="https://github.com/matrix-org/synapse/pull/9919">changes to /sync responses</a> in 1.38.0. Specifically, new Element Android sessions were unable to decrypt messages in end-to-end encrypted conversations.</p>
<p>⚙️ Otherwise, we've been doing quite a lot of internal / infrastructure work. Notably, we've completed the move from three separate CI systems to just one: GitHub Actions. We're also, for the first time, publishing Debian packages for our Release Candidates. We hope these changes move us towards a more reliable and seamless release process.</p>
<p>We'll have a lot to talk about re: Synapse 1.39 next week, but until then, enjoy the weekend! 🏖</p>
</blockquote>
<h2 id="homeserver-deployment-inbox-tray">Homeserver Deployment 📥️</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> announced:</p>
<blockquote>
<p>And this week too has brought updates to my <a href="https://gitlab.com/ananace/charts">Helm Charts</a>, with element-web being updated to 1.7.33 and matrix-synapse to 1.38.1</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="matrix-puppeteer-line"><a href="https://src.miscworks.net/fair/matrix-puppeteer-line">matrix-puppeteer-line</a></h3>
<p><a href="https://matrix.to/#/@fair:miscworks.net">Fair</a> told us:</p>
<blockquote>
<p>A bridge for LINE Messenger based on running LINE's Chrome extension in Puppeteer.</p>
<hr />
<p>This week brings plenty of usability improvements:</p>
<ul>
<li>
<p>There is now the <code>list-contacts</code> bot command to--you guessed it!--list the Matrix puppets of all of your contacts.</p>
</li>
<li>
<p>It's now possible to sync a chat with a LINE user by inviting their Matrix puppet to a DM, instead of having to wait for someone to send you a message in LINE for the bridge to auto-sync it. This is especially useful with <code>list-contacts</code>.</p>
</li>
<li>
<p>LINE group chats that haven't been used recently are now included in the set of chats that get bridged on a <code>sync</code> operation.</p>
</li>
<li>
<p>The number of chats to sync at startup time &amp; on-demand is now configurable, as a bridge config setting &amp; a parameter to the <code>sync</code> command, respectively.</p>
</li>
</ul>
<p>These changes make it possible to sync LINE chats/groups that previously may not have gotten synced, due to the intricacies of how LINE on Chrome handles chat history (especially on first use of the bridge).</p>
<hr />
<p>Discussion: <a href="https://matrix.to/#/#matrix-puppeteer-line:miscworks.net">#matrix-puppeteer-line:miscworks.net</a></p>
<p>Issue page: https://src.miscworks.net/fair/matrix-puppeteer-line/issues</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt and C++17. It supports E2EE and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> told us:</p>
<blockquote>
<p>LorenDB has rewritten the invite dialog as well as the memberlist in Qml. This means they work now much more reliably and show the users in appropriate colors and a few other small improvements.</p>
<p>Apart from that, Nheko now has support for sending stickers! This is based on Sorunome's awesome <a href="https://github.com/matrix-org/matrix-doc/pull/2545">MSC2545</a>, so no integration manager is needed and it is trivially easy to share your sticker packs (just invite someone into the same room!). You can use stickers from your account data or upload stickers into a room so every room member can use it. If you found a sticker pack you like, you can enable a pack from a room globally by going into Nheko's room settings. You can check my current preferred set of stickers here: matrix:r/nico's-stickers:neko.dev</p>
<p>Currently you can't edit a sticker pack yet from Nheko. Support for that will come in the near future. Until then you can use either FluffyChat, Element's DevTools or <a href="https://github.com/deepbluev7/stickerpicker">my hack to import Telegram sticker packs into a room</a>. Note that Nheko's sticker pack support is incompatible with integration server based sticker packs like the one Element uses. On the other hand, you don't need an integration manager to use them! Custom emote support based in the image packs MSC is coming in the future to Nheko too.</p>
<p>Furthermore we fixed some bugs to move E2EE in Nheko out of Beta. We are close now and we have a plan!</p>
<p>That's all, don't get your hands too sticky!</p>
</blockquote>
<p><img src="/blog/img/2021-07-23-gg3Eo-clipboard.png" alt="2021-07-23-gg3Eo-clipboard.png" /></p>
<p><img src="/blog/img/2021-07-23-xHW8i-clipboard.png" alt="2021-07-23-xHW8i-clipboard.png" /></p>
<h3 id="fractal">Fractal</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> announced:</p>
<blockquote>
<p>It’s been <a href="https://matrix.org/blog/2021/07/02/this-week-in-matrix-2021-07-02">three weeks already since our last update</a> and we have a fair amount of new things to report.</p>
<p>As I write this, our interns Alejandro and Kai are at GUADEC, the annual GNOME conference, presenting during the interns lightning talk. The former has submitted a couple of merge requests (<a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/793">!793</a> and <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/794">!794</a>) that were necessary for the UI to accommodate his upcoming multi-account work. The latter has provided <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/788">a view for when no room is selected</a>. As for their mentor, Julian, he changed <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/795">member loading so it only happens once a room is opened</a>, to improve performances. He also changed <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/796">Matrix event handling to use <code>SyncRoomEvent</code></a>, which paves the way for display of various message types in the timeline of a room.</p>
<p>Giuseppe offered two nice additions to the login view:</p>
<ul>
<li>
<p>in the form, <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/783">one can now type enter to login</a> (it previously required to click on the button in the headerbar)</p>
</li>
<li>
<p><a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/791">errors are now displayed</a>, providing useful feedback on why the login may have failed.</p>
</li>
</ul>
<p>And to conclude this summary, we welcome 🎉 newcomer Veli Tasalı who fixed <a href="https://gitlab.gnome.org/GNOME/fractal/-/issues/802">a papercut I reported</a>: <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/787">when typing long messages, buttons next to the message entry were expanding along with the entry and now they keep nicely aligned</a>.</p>
</blockquote>
<h3 id="element-clients">Element Clients</h3>
<p><strong>Delight team</strong></p>
<ul>
<li>We’ve been shepherding <a href="https://github.com/matrix-org/matrix-doc/pull/3083">MSC3083</a> into FCP to improve private spaces</li>
<li>We’ve also been working on restricted room support in Synapse and Element Web &amp; Android</li>
<li>We’ve been improving onboarding experiences for Spaces, improving 3pid invites on Android, improving email invites and making matrix.to aware of spaces</li>
<li>On iOS, we’ve finished the first implementation of Space navigation which we can share soon!</li>
<li>We’re also figuring out what’s missing to mature Spaces enough to exit beta</li>
</ul>
<p><strong>VoIP</strong></p>
<ul>
<li>Call event tiles for 1:1 calls merged, for better summaries of call history.</li>
<li>1:1 screen sharing ready to merge!</li>
<li>Looking at bug where jitsi calls stay always-on-screen even when hung up.</li>
</ul>
<p><strong>Web</strong></p>
<ul>
<li>Released v1.7.33</li>
<li>Message bubbles PR merged!</li>
<li>Updated desktop to electron 13, complete with new n-api build of seshat (thanks, Poljar!)</li>
<li>More work on changelog tooling</li>
</ul>
<p><strong>iOS</strong></p>
<ul>
<li>We cancelled the release of 1.4.6 because of the discovery of high profile bugs or crashes . We will release 1.4.7 on the App Store on Monday. Those releases contain mainly bug fixes and papercuts</li>
<li>Voice messages are almost there. They are on develop under a LABS settings. They should be part of the next release candidate next Wednesday.</li>
<li>There are several papercuts in progress:  URL preview, decryption of notifications content by default, removal of local contacts from the DM room list tab, removal of the room directory from the group room list, etc to list the major ones.</li>
</ul>
<p><strong>Android</strong></p>
<ul>
<li>Release 1.1.14 which fixes an important issue regarding message decryption is live on the PlayStore, on the beta channel, and will be in production quite soon. A patch has been applied to matrix.org to fix the problem.</li>
<li>Beside that, we are still polishing the spaces and voice messages</li>
</ul>
<p><a href="https://matrix.to/#/@simon.brandner:envs.net">Šimon Brandner</a> shared some images of the new VoIP UX:</p>
<p><img src="/blog/img/2021-07-23-m-Auj-125999362-eff54798-f9f7-421a-8e2b-6ed87a4f582c.png" alt="2021-07-23-m-Auj-125999362-eff54798-f9f7-421a-8e2b-6ed87a4f582c.png" /></p>
<p><img src="/blog/img/2021-07-23-XEixh-120305328-e7a0e700-c2d0-11eb-9bc0-a93f4366b848.png" alt="2021-07-23-XEixh-120305328-e7a0e700-c2d0-11eb-9bc0-a93f4366b848.png" /></p>
<p>Naturally the screen sharing feature will allow you to share your own screen, rather than Šimon's! </p>
<h3 id="beeper-update">Beeper update</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> said:</p>
<blockquote>
<h4 id="desktop">Desktop</h4>
<ul>
<li>
<p>New keyboard shortcuts:</p>
<ul>
<li>Navigating room list with arrow keys when there's no room open (and esc to close the current room)</li>
<li>Global shortcut to open Beeper</li>
</ul>
</li>
<li>
<p>Rooms are opened where you left off (like Telegram, WhatsApp, etc) instead of at the bottom</p>
</li>
<li>
<p>Updated unread room indicators: a colored circle around the room avatar <em>(screenshot here)</em></p>
</li>
</ul>
<h4 id="bridges">Bridges</h4>
<h4 id="linkedin">LinkedIn</h4>
<p>We've integrated the LinkedIn bridge into Beeper. The bridge is in beta and is generally ready for use. Since the last update, we moved it to <a href="https://gitlab.com/beeper/linkedin">GitLab</a>, added a Docker image, and implemented reaction and redaction handling in both directions! We also fixed a bunch of bugs across the board to improve reliability.</p>
<h4 id="android-sms">Android SMS</h4>
<p>The Android SMS bridge mentioned in the last update is progressing. It should be ready for self-hosted use in a few weeks, so our next update will probably include that.</p>
<p>Related to the SMS bridge, I've made <a href="https://github.com/tulir/mautrix-syncproxy">mautrix-syncproxy</a>, which is a microservice to do the <code>/sync</code>ing required for end-to-bridge encryption (to-device events and such) in the cloud and forwarding the data to the normal appservice transaction endpoint. When combined with <a href="https://github.com/tulir/mautrix-wsproxy">mautrix-wsproxy</a>, it allows the SMS bridge to only have a websocket connection, which uses significantly less battery than a HTTP request every 30 seconds. The sync proxy partially implements <a href="https://github.com/matrix-org/matrix-doc/pull/3202">MSC3202</a> and the to-device part of <a href="https://github.com/matrix-org/matrix-doc/pull/2409">MSC2409</a> (partially because it only does individual users rather than all appservice-owned users).</p>
<p>We're hiring React, iOS, Android and SRE/Devops engineers. If you're interested, check out https://jobs.ashbyhq.com/beeper or DM Eric Migicovsky.</p>
</blockquote>
<p><img src="/blog/img/2021-07-23-Nbx_w-image.png" alt="2021-07-23-Nbx_w-image.png" /></p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="ruby">Ruby</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> told us:</p>
<blockquote>
<p>Just tagged and pushed version 2.4.0 of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby SDK</a>, along with an updated image for the example bot. This version adds support for the Matrix URIs as well as some basic spaces functionality, it also fixes some errors due to the removed empty <code>/sync</code> fields in Synapse 1.38.0</p>
<p>Feel free to drop by <a href="https://matrix.to/#/#ruby-matrix-sdk:kittenface.studio">#ruby-matrix-sdk:kittenface.studio</a> for any questions or comments.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="hebbot-this-week-in-x-bot">Hebbot (This Week in X bot)</h3>
<p><a href="https://matrix.to/#/@felix:haecker.io">Felix</a> told us:</p>
<blockquote>
<p>Several GNOME contributors and I have been following TWIM and really enjoyed the concept. Since open source is about <del>stealing</del> sharing ideas, we wanted to deploy something similar for GNOME.</p>
<p>I gave this room's beloved <a href="https://github.com/matrix-org/twim-o-matic">twim-o-matic</a> a try and fiddled a bit with the code. But I soon found that it is too specialised for matrix.org. That's when I decided to write a project agnostic TWIx bot based on matrix-rust-sdk called <a href="https://github.com/haecker-felix/hebbot">Hebbot</a>!</p>
<p>Here is <a href="https://thisweek.gnome.org/posts/2021/07/twig-1/">how it looks in practice with a companion website for GNOME</a>. If you’re interested in how it looks behind the scenes, <a href="https://blogs.gnome.org/haeckerfelix/2021/07/16/introducing-this-week-in-gnome/">have a look at this blog post which explains how it works</a>.</p>
<p>I <a href="https://github.com/haecker-felix/hebbot/releases/tag/v1.0">released a first version</a> on July 17, but I’m already working on making it smarter for a next release. In the meantime you can already use it for your project!</p>
</blockquote>
<p>Love it, though I wish twim-o-matic had more of my attention! Maybe we can retire it and use Hebbot..?</p>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰️</h2>
<h3 id="matrix-plugin-for-octoprint">Matrix Plugin for OctoPrint</h3>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> offered:</p>
<blockquote>
<p>This week I have developed a new plugin for <a href="https://octoprint.org/">OctoPrint</a> which is a tool for controlling and monitoring 3D printers, which sends notifications about your prints and status of your 3D printer to matrix. The existing OctoSlack plugin also has Matrix support but fell foul of the /sync response changes in Synapse 1.38, and also sent the images from the camera to Matrix as inline images rather than m.image events, so they didn't render on some clients.</p>
<p>My new plugin can send messages on most events supported by OctoPrint, but the core events which are configurable through the OctoPrint web UI are print started, paused, completed and failed as well as print progress notifications. If you want Matrix notifications for your 3D prints, you can install the plugin through the official <a href="https://octoprint.org/">OctoPrint plugin repository</a> or by installing from the <a href="https://github.com/Cadair/octoprint-matrix-notifier-plugin">GitHub repository</a>. If you have any feature requests or pull requests, contributions to the plugin are very welcome.</p>
<p>Here is a preview of a print progress notification from something I was printing last night:</p>
</blockquote>
<p><img src="/blog/img/2021-07-23-opi2f-IMG_20210723_124408.jpg" alt="2021-07-23-opi2f-IMG_20210723_124408.jpg" /></p>
<p><img src="/blog/img/2021-07-23-fZf-n-matrix_logo_print_status.png" alt="2021-07-23-fZf-n-matrix_logo_print_status.png" /></p>
<h2 id="matrix-in-the-news-newspaper">Matrix in the News 📰</h2>
<h3 id="matrix-irc-size-stability">Matrix &amp; IRC | Size &amp; Stability</h3>
<p><a href="https://matrix.to/#/@gwmngilfen:matrix.org">Gwmngilfen</a> said:</p>
<blockquote>
<p>Following on from <a href="https://ansible.github.io/community/posts/matrix_and_ansible.html">my post</a> about how I'd like to convince Ansible to move to Matrix, I looked into the relative sizes of the networks, took a look at the active users in our channels, and even took a shot quantifying bridge restarts and netsplits to assess relative stability. Check it out <a href="https://emeraldreverie.org/2021/07/20/matrix-irc-size-stability">here</a></p>
</blockquote>
<h2 id="new-public-rooms-stadium">New Public Rooms 🏟️</h2>
<h3 id="beyond-chat">Beyond Chat</h3>
<p><a href="https://matrix.to/#/@jryans:matrix.org">Ryan</a> reported:</p>
<blockquote>
<p>A new Beyond Chat room (<a href="https://matrix.to/#/#beyond-chat:matrix.org">#beyond-chat:matrix.org</a>) has been created! This room is meant for discussing various projects that build on Matrix for use cases beyond chat, such as collaborative documents, blogs, generic key-value databases, tools for thought, etc. Please join if these topics interest you. 😄</p>
</blockquote>
<p>The Beyond Chat chat room is where Ryan chats about uses of Matrix beyond chat</p>
<h2 id="dept-of-welcomes-open-hands">Dept of Welcomes 👐</h2>
<h3 id="voip">VoIP</h3>
<p><a href="https://matrix.to/#/@arobertlong:matrix.org">Robert Long</a> announced:</p>
<blockquote>
<p>Hey everyone, my name's Robert Long. I've just joined Element last week and I'm coming in to work on the VoIP team. This week I started working on full mesh video conferencing and I'm super excited to share more as the work progresses!</p>
</blockquote>
<p>Welcome Robert! Can't wait to see progress here. We'll even bring back the Dept of VoIP :D</p>
<h2 id="final-thoughts-thought-balloon">Final Thoughts 💭</h2>
<h3 id="room-of-the-week">Room of the week</h3>
<p><a href="https://matrix.to/#/@timokoesters:fachschaften.org">timokoesters</a> offered:</p>
<blockquote>
<p>Hi everyone! Did you ever feel lost in the Matrix world? The room directory is big, but it's still hard to find something you like. Or are you a room moderator, but there is not much activity in your room because it doesn't have enough users?</p>
<p>This is why I want to share rooms (or spaces) I find interesting.</p>
<hr />
<p>This week's room is: <a href="https://matrix.to/#/#godot:feneas.org">#godot:feneas.org</a></p>
<p><strong>&quot;A very helpful and friendly place for general discussion or questions pertaining to the FOSS Godot game engine and using it to make games, whether one is just beginning to learn or wish to discuss more advanced aspects of game (or Godot) development.&quot;</strong></p>
<hr />
<p>If you want to suggest a room for this section, tell me in <a href="https://matrix.to/#/#roomoftheweek:fachschaften.org">#roomoftheweek:fachschaften.org</a></p>
</blockquote>
<h3 id="royal-navy-using-matrix">Royal Navy using Matrix!</h3>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Amazing to see <a href="https://twitter.com/Navy_Innovation?ref_src=twsrc%5Etfw">@Navy_Innovation</a> showing off low-bandwidth <a href="https://twitter.com/matrixdotorg?ref_src=twsrc%5Etfw">@matrixdotorg</a> decentralised comms to 1SL (Head of the <a href="https://twitter.com/RoyalNavy?ref_src=twsrc%5Etfw">@RoyalNavy</a>) using Titanium: our CivTAK Matrix plugin. At this rate Matrix is on track to become the common language across the entire public sector!⚓️📻🇬🇧 <a href="https://t.co/UDIA2GBVm9">https://t.co/UDIA2GBVm9</a></p>&mdash; Element (@element_hq) <a href="https://twitter.com/element_hq/status/1418632867626770433?ref_src=twsrc%5Etfw">July 23, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server.</p>
<h3 id="ping-maunium-net"><a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">envs.net</td><td style="text-align: center">358</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">maunium.net</td><td style="text-align: center">432</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">sorunome.de</td><td style="text-align: center">461.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">kapsi.fi</td><td style="text-align: center">547</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">boba.best</td><td style="text-align: center">566.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">trolla.us</td><td style="text-align: center">767.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">heitkoetter.net</td><td style="text-align: center">952.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">aria-net.org</td><td style="text-align: center">1035</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">konqi.work</td><td style="text-align: center">1186</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">roeckx.be</td><td style="text-align: center">1696</td></tr>
</tbody></table>
<h3 id="ping-no-synapse-maunium-net"><a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">conduit.supercable.onl</td><td style="text-align: center">173</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">dendrite.nordgedanken.dev</td><td style="text-align: center">184</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">matrix.org</td><td style="text-align: center">322</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">dendrite.neilalexander.dev</td><td style="text-align: center">398.5</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">1451.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2021&#x2F;07&#x2F;21&#x2F;germany-s-national-healthcare-system-adopts-matrix&#x2F;" title="Germany’s national healthcare system adopts Matrix!">Germany’s national healthcare system adopts Matrix!</a></h1>
            <span>
                21.07.2021 15:30
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi folks,</p>
<p>We’re incredibly excited to officially announce that the national agency for
the digitalisation of the healthcare system in Germany (<a href="http://gematik.de">gematik</a>)
has selected Matrix as the open standard on which to base all its
interoperable instant messaging standard - the TI-Messenger.</p>
<p>gematik has released a <a href="https://fachportal.gematik.de/anwendungen/ti-messenger">concept paper</a>
that explains the initiative in full.</p>
<h2 id="tl-dr">TL;DR</h2>
<p>With the TI-Messenger, gematik is creating a nationwide decentralised private
communication network - based on Matrix - to support potentially more than
<strong>150,000</strong> healthcare organisations within Germany’s national healthcare system.
It will provide end-to-end encrypted VoIP/Video and messaging for the whole
healthcare system, as well as the ability to share healthcare based data,
images and files.</p>
<p>Initially every healthcare provider (HCP) with an HBA (HPC ID card) will be
able to choose their own TI-Messenger provider. The homesever for HCP
accounts will be hosted by the provider’s datacentre. The homeserver for
institutions can be hosted by TI-Messenger providers, or on-premise.</p>
<p>Each organisation and individual will therefore retain complete ownership and
control of their communication data - while being able to share it securely
within the healthcare system with end-to-end encryption by default. All
servers in the Matrix-based private federation will be hosted within
Germany.</p>
<p>Needless to say, security is key when underpinning the entire nation’s
healthcare infrastructure and safeguarding sensitive patient data. As such,
the entire implementation will be <a href="https://www.bsi.bund.de/EN/Home/home_node.html">accredited by BSI</a>
(Federal Office for Information Security) and <a href="https://www.bfdi.bund.de/DE/Home/home_node.html">BfDI</a>
(Federal Commissioner for Data Protection and Freedom of Information).</p>
<h2 id="the-full-context">The full context...</h2>
<p>Germany’s digital care modernisation law (“Digitale Versorgung und Pflege
Modernisierungs Gesetz” or DVPMG), which came into force in June 2021, spells
out  the need for an instant messaging solution.</p>
<p>The urgency has increased by a significant rise in the use of instant
messaging and video conferencing within the healthcare system - for instance,
the amount of medical practices using messenger services doubled in 2020
compared to 2018 (much of this using insecure messaging solutions).</p>
<p><a href="https://www.gematik.de/">gematik</a>, majority-owned by Germany’s
<a href="https://www.bundesgesundheitsministerium.de/english-version.html">Federal Ministry of Health</a>,
is responsible for the standardised digital transformation of Germany’s
healthcare sector. It focuses on improving efficiency and introducing new
ways of working by setting, testing and certifying healthcare technology
including electronic health cards, electronic patient records and
e-prescriptions.</p>
<p><a href="https://www.gematik.de/anwendungen/ti-messenger/">TI-Messenger</a> is gematik’s
technical specification for an interoperable secure instant messaging
standard. The healthcare industry will be able to build a wide range of apps
based on TI-Messenger specifications knowing that, being built on Matrix, all
those apps will interoperate.</p>
<p>More than 150,000 organisations - ranging from local doctors to clinics,
hospitals, and insurance companies - can potentially standardise on instant
messaging thanks to gematik’s TI-Messenger initiative.</p>
<h2 id="the-road-to-interoperability">The road to interoperability</h2>
<p>By 1 October 2021, TI-Messenger will initially specify how communication
should work in practice between healthcare professionals (HCPs). Physicians
will be able to find and communicate with each other via TI-Messenger
approved apps - specifications include secure authentication mechanisms with
electronic health professional cards (eHBAs), electronic institution cards
(SMC-B) and a central <a href="https://hl7.org/FHIR/">FHIR</a> directory. The first
compliant apps for HCPs are expected to be licensed by Q2 2022.</p>
<p>Eric Grey (product manager for TI-Messenger at gematik), reckons there will
initially be around 10-15 TI-Messenger compliant Matrix-based apps for HCP
communications available from different vendors. </p>
<p>Healthcare professionals will be able to choose a TI-Messenger provider, who
will be hosting their personal accounts and provide the messenger-client. </p>
<p>Healthcare organisations will choose a TI-Messenger provider to build the
dedicated homeserver infrastructure (on prem or in a data center), provide
the client and ongoing support.</p>
<h2 id="what-does-this-mean-for-the-matrix-community">What does this mean for the Matrix community?</h2>
<p>Matrix is already integral to huge parts of the public sector; from the French
government’s Tchap platform, to Bundeswehr’s use of BwMessenger and adoption
by universities and schools across Europe. </p>
<p>Germany’s healthcare system standardising on Matrix takes this to entirely the
next level - and we can’t wait to see the rest of Europe (and the world!)
converge on Matrix for healthcare!</p>
<p>We'll have more info about TI-Messenger on this week's Matrix Live, out on
Friday - stay tuned!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2021&#x2F;07&#x2F;16&#x2F;this-week-in-matrix-2021-07-16&#x2F;" title="This Week in Matrix 2021-07-16">This Week in Matrix 2021-07-16</a></h1>
            <span>
                16.07.2021 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/JhTkaFt--J8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> announced:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://spec.matrix.org/unstable/proposals.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/3283">MSC3283: Expose enable_set_displayname in capabilities response</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/3277">WIP: MSC3277: Scheduled messages</a></li>
</ul>
<p><strong>MSCs with proposed Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2674">MSC2674: Event Relationships</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/3245">MSC3245: Voice messages (using extensible events)</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>Closed MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/3282">MSC3282: Expose enable_set_displayname in capabilities response</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/3279">MSC3279: Expose enable_set_displayname in capabilities response</a></li>
</ul>
<h4 id="spec-updates">Spec Updates</h4>
<p>Several members of the Spec Core Team reviewed <a href="https://github.com/matrix-org/matrix-doc/pull/2674">MSC2674</a> (Event relationships) this week in order to help push along the efforts to finally ship aggregations in the spec. Otherwise <a href="https://github.com/matrix-org/matrix-doc/pull/3245">MSC3245</a> (voice messages via extensible events) is moving along with final comment period proposed this week. The implementation in Element Web in reportedly working well, helping to prove the spec in practice. And finally, <a href="https://github.com/matrix-org/matrix-doc/pull/3277">MSC3277</a> (scheduled messages) which appeared over the weekend to try and allow for scheduling events to send later in Matrix (and all the fun edge cases that come with it).</p>
<p>Thanks to everyone who submitted, read and reviewed MSCs this week. It takes people to move this stuff forward!</p>
</blockquote>
<p><img src="/blog/img/2021-07-16-9h_yU-stacked_area_chart.png" alt="2021-07-16-9h_yU-stacked_area_chart.png" /></p>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC 🎓️</h2>
<h3 id="google-summer-of-code-2021-first-evaluations-complete">Google Summer of Code 2021: first evaluations complete!</h3>
<p>We heard from Callum last week, and will have more reports in future, but for now just know that all <em>seven</em> GSoC projects are progressing well. To remind yourself of this year's projects, see the list <a href="https://summerofcode.withgoogle.com/organizations/6691635666092032/">provided by Google</a> or <a href="https://matrix.org/blog/2021/05/20/google-summer-of-code-2021">our welcome blog post</a>.</p>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> added:</p>
<blockquote>
<p>I reckon you can count the two Fractal interns as well. :)</p>
</blockquote>
<p>Reckon you're right pardner! We'll look forward to a roundup of the work done for Fractal too.</p>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> told us:</p>
<blockquote>
<p>In case you missed it, we <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.4.0">released Dendrite 0.4.0 on Monday</a> and <a href="https://matrix.org/blog/2021/07/12/dendrite-0-4-0-released">wrote a blog post about it</a>! It's taken us a little while to get to this release, but it includes a number of quality-of-life improvements and changes that will significantly reduce the amount of resources needed to run a Dendrite server. The full changelog is <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.4.0">available on GitHub</a> and many juicy details in the aforementioned blog post, but at a high level this release includes:</p>
<ul>
<li>
<p>All-new state storage, designed to reduce the amount of disk space that the roomserver takes up to store room state by aggressively deduplicating state blocks and snapshots</p>
</li>
<li>
<p>Improved appservice support, with a number of bridges now working with Dendrite</p>
</li>
<li>
<p>Shared secret registration (using the same API shape as Synapse)</p>
</li>
<li>
<p>Optimisations in the federation API <code>/send</code> and <code>/get_missing_events</code> endpoints to reduce memory usage</p>
</li>
<li>
<p>Improved state resolution v2 performance when dealing with power level events</p>
</li>
<li>
<p>Per-room queuing to reduce head-of-line blocking on the roomserver input API</p>
</li>
<li>
<p>Lots of bug fixes around invites, registration, sync and media, and 5 panics fixed</p>
</li>
</ul>
<p>Since the release, we've been working on:</p>
<ul>
<li>
<p>Completing key notary support</p>
</li>
<li>
<p>Fixing <code>state_default</code> for power levels in gomatrixserverlib</p>
</li>
<li>
<p>Resolving some issues around rejecting invites, particularly when the remote server is not available</p>
</li>
<li>
<p>Reducing the cost of checking if the local server is in a given room</p>
</li>
</ul>
<p>Since our last update, our Sytest compliance numbers have been on the rise again, taking us ever closer to our goals:</p>
<ul>
<li>
<p>Client-server APIs: 61%, up from 60% last time</p>
</li>
<li>
<p>Server-server APIs: 92%, up from 80% last time</p>
</li>
<li>
<p>Appservice APIs: 52%</p>
</li>
</ul>
<p>As always, please feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for general Dendrite chat, and <a href="https://matrix.to/#/#dendrite-dev:matrix.org">#dendrite-dev:matrix.org</a> if you are interested in contributing!</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@callahad:matrix.org">callahad</a> told us:</p>
<blockquote>
<p>The big news of the week is the release of <a href="https://matrix.org/blog/2021/07/13/synapse-1-38-0-released">Synapse 1.38</a>, which converts several integer columns to <code>bigint</code>, allowing Synapse to process more than 2 billion (231) events. Which, incidentally, matrix.org did last week 📈:</p>
</blockquote>
<p><img src="/blog/img/2021-07-16-N2mUM-synapse-event-bigint.png" alt="2021-07-16-N2mUM-synapse-event-bigint.png" /></p>
<blockquote>
<p>But that's not the only thing new in Synapse 1.38. We also landed the ability to set an expiry time on cache entries, allowing you to reclaim memory from infrequently accessed caches. Configuring this to &quot;1h&quot; on matrix.org has already yielded a noticeable reduction in overall memory use 📉:</p>
</blockquote>
<p><img src="/blog/img/2021-07-16-3j8uF-synapse-1.38-cache-expiry.png" alt="2021-07-16-3j8uF-synapse-1.38-cache-expiry.png" /></p>
<blockquote>
<p>We'd encourage you to read the <a href="https://matrix.org/blog/2021/07/13/synapse-1-38-0-released">full announcement</a> for more — See you next week 👋!</p>
</blockquote>
<h4 id="registration-management-for-token-authenticated-registration">Registration management for Token Authenticated Registration</h4>
<p><a href="https://matrix.to/#/@callum:calcuode.com">callum</a> told us:</p>
<blockquote>
<p>Another short update about my GSoC project, this time about the Synapse admin API for managing tokens. https://calcuode.com/matrix-gsoc/2021-07-16_admin-api.html</p>
</blockquote>
<p>See also Matrix Live with Callum last week.</p>
<h2 id="homeserver-deployment-inbox-tray">Homeserver Deployment 📥️</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> said:</p>
<blockquote>
<p>This week too brings updates to my <a href="https://gitlab.com/ananace/charts">Helm Charts</a>, with Synapse having been updated to 1.38.0.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="matrix-puppeteer-line"><a href="https://src.miscworks.net/fair/matrix-puppeteer-line">matrix-puppeteer-line</a></h3>
<p><a href="https://matrix.to/#/@fair:miscworks.net">Fair</a> said:</p>
<blockquote>
<p>A bridge for LINE Messenger based on running LINE's Chrome extension in Puppeteer.</p>
<p>Docker is now supported, via Dockerfiles that actually work now! But for the time being, Docker images must be built manually, as I am yet to deploy a Docker registry for prebuilt images.</p>
<p>Also, sample systemd service unit configuration files are now available, courtesy of @lecris:lecris.me 🙂</p>
<p>For more info on all of this, see <a href="https://src.miscworks.net/fair/matrix-puppeteer-line/src/branch/master/SETUP.md">SETUP.md</a>.</p>
<p>What I'm working on next is a bot command to list all of your LINE contacts &amp; groups (similar to <a href="https://github.com/tulir/mautrix-whatsapp">mautrix-whatsapp</a>'s <code>list &lt;contacts|groups&gt;</code>), and the ability to sync a LINE DM by inviting a contact to a Matrix DM. This will allow messaging LINE contacts that the bridge didn't yet create a portal for.</p>
<p>And please, <em>feel free to try out this bridge!</em> It should be serviceable for day-to-day usage now. I still won't be able to host a public instance of it for a while, though (as it is fairly hefty due to having to run Chrome), so you'll have to self-host if you want to try it.</p>
<p>Discussion: <a href="https://matrix.to/#/#matrix-puppeteer-line:miscworks.net">#matrix-puppeteer-line:miscworks.net</a> </p>
<p>Issue page: https://src.miscworks.net/fair/matrix-puppeteer-line/issues</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt and C++17. It supports E2EE and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> told us:</p>
<blockquote>
<p>This week we fixed bugs. Switching room should now be quite a bit faster again and once Qt 6.3 is released with some important bugfixes, scrolling in Nheko should be super smooth. (We can't enable that flag yet, because of 3 bugs in the item pooling code in Qt.)</p>
<p>Other bugfixes:</p>
<ul>
<li>
<p>Inline images sometimes wouldn't show, but now inline emotes and images should render once they are loaded! (This took me a year to figure out)</p>
</li>
<li>
<p>You can now send edits in encryted rooms again, if they are a reply to an event.</p>
</li>
<li>
<p>No more reply fallback in the room list.</p>
</li>
<li>
<p>At some point timed out verification requests started showing up on startup. That regression is fixed now.</p>
</li>
<li>
<p>Fix rooms not showing up after login because we were off by one.</p>
</li>
<li>
<p>Fix some cases where the loading spinner wouldn't stop animating and as such consistently use CPU, when a room is open.</p>
</li>
<li>
<p>Cache db transactions to reduce allocations and memory zeroing when loading a room or scrolling.</p>
</li>
<li>
<p>Fix some edge cases in the blurhash decoding, that could lead to brownish image previews.</p>
</li>
<li>
<p>Fix accepting an invite not placing you in the joined room.</p>
</li>
</ul>
</blockquote>
<h3 id="element-clients">Element Clients</h3>
<p>With updates supplied by the teams</p>
<p><strong>Delight team</strong></p>
<ul>
<li>We’ve been shepherding through MSCs to improve private spaces, namely <a href="https://github.com/matrix-org/matrix-doc/pull/3083">MSC3083</a> (Restricting room membership based on space membership)</li>
<li>Meanwhile, we’re also implementing outstanding polish, planning steps for Spaces to exit beta</li>
</ul>
<p><strong>Web</strong></p>
<ul>
<li>v1.7.33-rc.1 now up for testing on <a href="https://staging.element.io/">https://staging.element.io/</a> with support for blurhash, draggable picture-in-picture view for calls</li>
<li>Contributing to element web? There are new labels and magic keywords for pull requests to show better information in the changelogs. See the <a href="https://github.com/matrix-org/matrix-js-sdk/blob/develop/CONTRIBUTING.md">contributor guide</a> for more detail.</li>
<li>Do you use the <em>master</em> branch of element web or any of the web projects? Please let us know - it may go away soon.</li>
</ul>
<p><strong>Android</strong></p>
<ul>
<li>Still polishing the voice message feature: add support for Android 5, improve timeline rendering, improve animation in the composer, support for RTL language</li>
<li>Work on the account notification settings</li>
</ul>
<h3 id="hydrogen">Hydrogen</h3>
<p>A minimal Matrix chat client, focused on performance, offline functionality, and broad browser support. https://github.com/vector-im/hydrogen-web/</p>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> said:</p>
<blockquote>
<p>Still working on getting a big update out today with rendering of formatted messages and a brand new member list in the right panel!</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="pyquotient">PyQuotient</h3>
<p><a href="https://matrix.to/#/@Aksem:matrix.org">Aksem</a> told us:</p>
<blockquote>
<p>First news about Python bindings for libQuotient, C++ Qt-based Matrix SDK</p>
<p>After a month of hard work, we(I as GSoC student and kitsune  as mentor) have bindings with tests for almost all core classes and also initial version of the demo client, in which you can log in with a password or SSO, the server you enter is resolved automatically and also after successful login data is being synchronized. There is also a possibility to log out. So this part is on the same level as in Quotient.</p>
<p>Also, a small video with the client in action.</p>
</blockquote>
<iframe width="560" height="315" src="https://www.youtube.com/embed/1Wg8Xc4e6IU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks 🗣️</h2>
<h3 id="hack-n-sun-the-partially-matrix-based-summer-tinkering-camp">Hack'n'Sun, the partially-Matrix-based summer tinkering camp</h3>
<p><a href="https://matrix.to/#/@nik:matrix.teckids.org">Nik</a> offered:</p>
<blockquote>
<p>Over the first weeks of July, <a href="https://teckids.org">Teckids e.V.</a> held their annual summer camp for kids between 9 and 15 years. This year, after we started introducing Matrix and Element as a chat platform from September 2020 onwards, the camp was heavily relying on the platform for various parts.</p>
<p>Before the camp started, we invited all 90 participants to a chat room to get together, share a bit about what they expect, already did with coding and technical stuff, talk about what food they'd like to have for the barbecue, and stuff like that. Many of them engaged in the discussion, and started exploring Element (before you ask, yes, we hat a lot of snow and party poppers 😛!). Some got really excited that they could even change or add features to Element, or ask for such changes – we had to promise to hold a session where we find out how to add one new animation to Element. Unfortunately, Element is developed on GitHub, so the potential young contributors are locked out by the exclusive Terms of Use there. We are trying to reach out to Element HQ to find a solution.</p>
<p>During the camp, verifying crypto sessions using emojis again made for a good party game to get to know each other (like, find the kid a nickname belongs to on the camp site, start verification, and compare emojis – a lot of fun that we, again, did not even have to start, because someone always finds out about it and asks what it is about).</p>
<p>Now that everyone got to know Matrix for chatting, in one of our workshops, the participants discovered that not only people, but also devices can send messages, and react to replies – in that workshop, the kids built a chat-ops IoT door beel (for their tent on site, or room at home). They soldered a circuit board to fit an ESP (MicroPython) micro controller on, and coded a small program (using templates with differing complexity levels), defining what the door bell should send when a button is pressed, on what messages to react, and the like. We produced a fun video about the project (German audio, English subtitles): https://eduvid.org/videos/watch/20a50c25-ecb4-48c0-9b13-de2548f290d4?subtitle=en . The (minimal and somewhat buggy) MicroPython client library is published as <a href="https://edugit.org/hacknfun/thema-mechatronik/mytrix">µtrix</a>.</p>
<p>Now, sadly, the event is over, and we slowly see (as expected, only a part of the) participants moving over to our long-term project chatrooms; we will start clearing the virtual camp site chatroom during the weekend to make room for a new group.</p>
</blockquote>
<p>Asked about the regularity of these events, <a href="https://matrix.to/#/@nik:matrix.teckids.org">Nik</a> replied:</p>
<blockquote>
<p>We are still experimenting with our new camp formats. As bad as it all is, COVID caused a lot of innovation here because we were forced to leave the known roads we normally travelled, and now we are starting to integrate all that new stuff (like really embracing Matrix) into outdoor and presence events. I think we are on a really good way with it, and surely I will keep posting updates that might be of interest for the greater community.</p>
</blockquote>
<iframe width="560" height="315" sandbox="allow-same-origin allow-scripts allow-popups" src="https://eduvid.org/videos/embed/20a50c25-ecb4-48c0-9b13-de2548f290d4?subtitle=en" frameborder="0" allowfullscreen></iframe>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰️</h2>
<h3 id="cactus-comments-cactus">Cactus Comments 🌵</h3>
<p><a href="https://matrix.to/#/@carl:bordum.dk">carl</a> announced:</p>
<blockquote>
<p><a href="https://cactus.chat">Cactus Comments</a> is a federated comment system for the open web built on Matrix.</p>
<p>This week, I'm reporting the changes to our backend service since it last appeared on </p>
<ul>
<li>
<p>Feature: Restrict which users can interact with cactusbot (contributed by Karmanyaah Malhotra in MR !3).</p>
</li>
<li>
<p>Feature: Include comment section id in room name.</p>
</li>
<li>
<p>Bugfix: Malformed events no longer cause a crash loop.</p>
</li>
<li>
<p>Bugfix: Users can no longer register a site without a name.</p>
</li>
<li>
<p>Hotfix: Mitigated timeouts under heavy load with a temporary LRU cache.</p>
</li>
<li>
<p>Internal: Pin sub-dependencies.</p>
</li>
<li>
<p>Internal: Heavy linting in CI.</p>
</li>
</ul>
<p>All these changes are available from version 0.5.0.</p>
<p>Demo: https://cactus.chat/demo</p>
<p>Matrix room: <a href="https://matrix.to/#/#cactus:cactus.chat">#cactus:cactus.chat</a></p>
<p>Introductory blog post: https://cactus.chat/blog/hello-cactus-comments/</p>
<p>Source code: https://gitlab.com/cactus-comments</p>
</blockquote>
<h2 id="dept-of-guides">Dept of Guides 🧭</h2>
<h3 id="new-business-oriented-guide-to-using-matrix-and-element">New business-oriented guide to using Matrix and Element</h3>
<p>The <a href="https://www.reidellawfirm.com/">Reidel Law Firm</a> from Galveston, Texas have produced an excellent <a href="https://www.reidellawfirm.com/wp-content/uploads/2021/07/Reidel-Law-Firm-Guide-to-Matrix.pdf">business-oriented guide to using Matrix and Element</a>. As they <a href="https://www.reidellawfirm.com/reidel-law-firm-debuts-secured-encrypted-communications-platform-for-clients/">announced in a blog post last month</a>:</p>
<blockquote>
<p>Reidel Law Firm remains committed to providing top notch legal services in Franchise Law, International Trade Law, and Business Law while maintaining accessibility, (one of our Firm’s core values) to our clients, colleagues, and friends of the firm. Utilizing our own secured chat platform allows us to be in communication with our clients around the world while maintaining the utmost in data security and client privacy.</p>
</blockquote>
<p><a href="https://matrix.to/#/@rockyreidel:reidellawfirm.com">Schuyler &quot;Rocky&quot; Reidel</a> added:</p>
<blockquote>
<p>I believe in Matrix+Element and encourage my clients and law firms to get ahead of the curve or get left behind and become irrelevant. Email has to die, its just the worst. Also, I forgot to note earlier that the guide is copyright free. I hope other business owners will use and revise it for their own uses.</p>
</blockquote>
<p>Strong words! You can find <a href="https://www.reidellawfirm.com/wp-content/uploads/2021/07/Reidel-Law-Firm-Guide-to-Matrix.pdf">the guide from Reidel on their website</a>.</p>
<h2 id="final-thoughts-thought-balloon">Final Thoughts 💭</h2>
<h3 id="room-of-the-week">Room of the week</h3>
<p><a href="https://matrix.to/#/@timokoesters:fachschaften.org">timokoesters</a> told us:</p>
<blockquote>
<p>Hi everyone! Did you ever feel lost in the Matrix world? The room directory is big, but it's still hard to find something you like. Or are you a room moderator, but there is not much activity in your room because it doesn't have enough users?</p>
<p>This is why I want to share rooms (or spaces) I find interesting.</p>
<hr />
<p>This week's room is: <a href="https://matrix.to/#/#formula1:matrix.org">#formula1:matrix.org</a></p>
<p><strong>&quot;The pinnacle of motorsport! We're in an exciting time in Formula 1 with a close championship and exciting battles. Come hang out and chat about the upcoming race in Silverstone on July 18th!&quot;</strong></p>
<hr />
<p>If you want to suggest a room for this section, tell me in <a href="https://matrix.to/#/#roomoftheweek:fachschaften.org">#roomoftheweek:fachschaften.org</a></p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server.</p>
<h3 id="ping-maunium-net"><a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">envs.net</td><td style="text-align: center">517</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">kif.rocks</td><td style="text-align: center">552</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">maunium.net</td><td style="text-align: center">652</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">synapse.clippyco.com</td><td style="text-align: center">677.5</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">maescool.be</td><td style="text-align: center">697</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">utzutzutz.net</td><td style="text-align: center">788</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">kapsi.fi</td><td style="text-align: center">789</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">liberta.casa</td><td style="text-align: center">831.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">trolla.us</td><td style="text-align: center">855</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">nordgedanken.dev</td><td style="text-align: center">1106</td></tr>
</tbody></table>
<h3 id="ping-no-synapse-maunium-net"><a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">dendrite.nordgedanken.dev</td><td style="text-align: center">89</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">construct.supercable.onl</td><td style="text-align: center">197</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">pc.koesters.xyz:6167</td><td style="text-align: center">217.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">566</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">dendrite.neilalexander.dev</td><td style="text-align: center">729</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">dendrite.s3cr3t.me</td><td style="text-align: center">856</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">dendrite01.fiksel.info</td><td style="text-align: center">872.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2021&#x2F;07&#x2F;13&#x2F;synapse-1-38-0-released&#x2F;" title="Synapse 1.38.0 released">Synapse 1.38.0 released</a></h1>
            <span>
                13.07.2021 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/dan-callahan">
                    Dan Callahan
                </a>
            </span>
            
        </header>
        <div>
            <p>Synapse 1.38.0 is out now!</p>
<blockquote>
<p><strong>NOTE:</strong> We released Synapse 1.38.1 on Thursday, July 22nd. It <a href="https://github.com/matrix-org/synapse/issues/10456">mitigates</a> a client bug with Synapse 1.38.0's smaller sync responses which prevented new Element Android sessions from successfully participating in encrypted conversations. Server administrators are strongly encouraged to upgrade.</p>
</blockquote>
<h2 id="big-integers">(Big) Integers</h2>
<p>Synapse's database schema used <code>integer</code> columns in a few places where values could potentially overflow a maximum value of 2<sup>31</sup>. One such column is <code>events.stream_ordering</code>, which surpassed 2<sup>31</sup> on matrix.org last week.</p>
<p>To prevent overflows, Synapse 1.38 will automatically convert several <code>integer</code> columns to <code>bigint</code> as a background update. While homeservers will function normally during this task, it could result in increased disk I/O for several hours or days. Note that <strong>homeservers may need several gigabytes of free space</strong> to successfully rebuild associated database indexes and complete the upgrade.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.38/upgrade.html#upgrading-to-v1380">upgrade notes</a> for more details.</p>
<h2 id="expiring-caches">Expiring Caches</h2>
<p>Synapse has a new configuration option, <code>caches.expiry_time</code>, which can be set to enable evicting items from caches if they go too long without being accessed. This helps servers reclaim memory used by large yet infrequently used caches.</p>
<h2 id="smaller-sync-responses">Smaller Sync Responses</h2>
<p>The response to <code>/sync</code> now omits optional keys when they would otherwise be empty. This can significantly reduce the size of incremental syncs, as demonstrated in <a href="https://github.com/matrix-org/synapse/issues/6579">#6579</a>. Thanks to deepbluev7 for  initially submitting this in <a href="https://github.com/matrix-org/synapse/pull/9919">#9919</a>, which made it into this release via <a href="https://github.com/matrix-org/synapse/pull/10214">#10214</a>.</p>
<h2 id="everything-else">Everything Else</h2>
<p>A few other items worth calling out:</p>
<ul>
<li>This release includes an experimental implementation of <a href="https://github.com/matrix-org/matrix-doc/pull/2918">MSC2918: Refresh tokens</a>, which adds initial support for complementary access / refresh tokens in line with OAuth best practices (<a href="https://github.com/matrix-org/synapse/pull/9450">#9450</a>).</li>
<li>Synapse now <a href="https://github.com/matrix-org/synapse/pull/10290">ships a script</a> to review recently registered accounts, which can be useful in cleaning up servers in the wake of malicious, automated registrations like we witnessed during last month's <a href="https://matrix.org/blog/2021/06/30/security-update-synapse-1-37-1-released">spam attack</a>.</li>
<li>We've also fixed a few rough edges (<a href="https://github.com/matrix-org/synapse/pull/10263">#10263</a>, <a href="https://github.com/matrix-org/synapse/pull/10303">#10303</a>, <a href="https://github.com/matrix-org/synapse/pull/10336">#10336</a>) in the spam mitigations from 1.37.1, and would encourage you to update.</li>
<li>The <a href="https://matrix-org.github.io/synapse/v1.38/admin_api/user_admin_api.html">Admin API for querying user information</a> now includes information about a user's SSO identities in its response.</li>
</ul>
<p>These are just the highlights; please see the <a href="https://matrix-org.github.io/synapse/v1.38/upgrade.html#upgrading-to-v1380">Upgrade Notes</a> and <a href="https://github.com/matrix-org/synapse/blob/v1.38.0/CHANGES.md">Release Notes</a> for a complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our thanks to everyone who contributed to this release, including <a href="https://github.com/deepbluev7">deepbluev7</a>, <a href="https://github.com/dklimpel">dklimpel</a>, <a href="https://github.com/fkr">fkr</a>, and <a href="https://github.com/sideshowbarker">sideshowbarker</a></p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2021&#x2F;07&#x2F;12&#x2F;dendrite-0-4-0-released&#x2F;" title="Dendrite 0.4.0 Released">Dendrite 0.4.0 Released</a></h1>
            <span>
                12.07.2021 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-alexander">
                    Neil Alexander
                </a>
            </span>
            
        </header>
        <div>
            <p>After quite a significant gap between releases — version 0.3.11 was released at the beginning of March — we're happy to finally announce the release of Dendrite 0.4.0 today!</p>
<p>The full changelog for the release is <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.4.0">available on GitHub</a>, but we wanted to take the opportunity to talk a little about some of the changes that have gone into this release.</p>
<p>Recently our release cadence for Dendrite has slowed as we have spent more time within the team working on <a href="https://github.com/matrix-org/pinecone">Pinecone</a> and <a href="https://github.com/matrix-org/lb">Low Bandwidth Matrix</a>. These are major areas of research for us which we hope will unlock a number of new opportunities within the Matrix ecosystem, allowing us to <a href="https://matrix.org/blog/2021/05/06/introducing-the-pinecone-overlay-network">build on Matrix anywhere</a> and to <a href="https://matrix.org/blog/2021/06/10/low-bandwidth-matrix-an-implementation-guide">reduce the protocol-level footprint</a>. However, Dendrite has not been forgotten amidst the excitement and we will be spending more time working on Dendrite again in the coming months.</p>
<h3 id="state-storage">State storage</h3>
<p>One of the major features in v0.4.0 is that we've introduced newly-refactored state storage in the roomserver database. The goal here is to make state storage significantly more efficient by ensuring that we deduplicate state  blocks and snapshots wherever we can. By ensuring that all state blocks and snapshots are ordered strictly, and by enforcing uniqueness constraints on the hashes of the blocks/snapshots, we've been able to achieve this.</p>
<p>This was largely spurred on by watching <code>dendrite.matrix.org</code> consuming a rather alarming amount of disk space on a daily basis. In this particular instance, moving to the new state storage resulted in a 15x improvement on disk utilisation for state blocks and a further 2x improvement for state snapshot references immediately after the migration, and the growth rate of the database has slowed substantially since. </p>
<p>Ensuring that we don't waste disk space is one of the most important factors in ensuring that Dendrite operates well at any scale — future datacentre deployments supporting many users will find storage overheads decreased and small/embedded single-user deployments (such as P2P, on mobile devices or in the browser) will fit much more effectively onto resource-constrained targets.</p>
<p>After upgrading to v0.4.0, Dendrite will run an automatic migration to update your homeserver to the new state storage format. This might take a while on larger databases so please expect some downtime. </p>
<h3 id="optimisations">Optimisations</h3>
<p>We've continued to squeeze further optimisations into the federation and state resolution code, aiming to reduce the amount of CPU burn and memory utilisation. Some of the feedback that we receive most often from those that have been experimenting with the Dendrite betas is around the sudden spikes in resource usage, especially when joined to large rooms.</p>
<p>The bulk of this resource usage comes either from attempting to reconcile missing events or running state resolution in rooms with lots of members, as potentially large state sets of events need to be brought into memory in order to do so. We've introduced some transaction-level caches for dealing with missing auth/prev events to reduce the memory pressure and we've also tweaked the caching around around <code>/get_missing_events</code> to ensure we don't duplicate any state events in memory.</p>
<p>Resource spikes aren't completely eliminated but this should smooth out CPU and memory utilisation significantly. In the case of <code>dendrite.matrix.org</code>,  which is joined to some 6500 rooms at present, memory utilisation of the Dendrite process typically sits around 1.5GB at present. </p>
<p>State Resolution v2 has also seen further optimisations in the power-level checking, which should reduce CPU usage even more.</p>
<h3 id="bridges">Bridges</h3>
<p>Thanks to Half-Shot's perseverance and contributions, we've merged a couple PRs and worked on some further fixes for getting Application Services working correctly in Dendrite. Whilst not entirely feature-complete and with a number of features still to go, enough support is now present to support basic bridging functionality.</p>
<p>We've done quite a bit of preliminary testing with <a href="https://github.com/matrix-org/matrix-appservice-irc">matrix-appservice-irc</a> and have also heard a number of success stories from the community with <a href="https://github.com/tulir/mautrix-whatsapp">mautrix-whatsapp</a> and <a href="https://github.com/tulir/mautrix-telegram">mautrix-telegram</a>. Others may work too — let us know what you find!</p>
<h3 id="bug-hunting">Bug-hunting</h3>
<p>A number of bugs in various places (including the roomserver, federation API and media API) which could cause Dendrite to crash have also been fixed.  Some of these have been contributed by the community in pull requests, so we extend our thanks to anyone who has submitted a fix to the project.</p>
<p>A special mention also goes to Jakob Varmose Bentzen for reporting a security issue to us around the legacy <code>/v1/register</code> endpoint, where a flaw in the legacy shared secret registration allowed malicious users to create accounts. We've since removed this legacy endpoint and the vulnerability is now fixed. </p>
<h3 id="what-s-next">What's next</h3>
<p>There are still a number of missing user-facing features which we will be working on over the coming months, as well as some architectural issues that we will look to address.</p>
<p>A notable area of work involves attempting to remove the dependency on Kafka for polylith deployments. Kafka is very resource-heavy in operation and somewhat limits us to the types of interactions that we can perform between components. It's also very difficult to manage retention correctly, in the interests of not endlessly consuming disk space here either.</p>
<p>As usual, Dendrite is still considered beta so you may not want to rely on it for production systems, although it should be stable enough to experiment with. If you find any bugs or anything that doesn't look right, please let us know:</p>
<ul>
<li><a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a></li>
<li><a href="https://github.com/matrix-org/dendrite/issues">GitHub Issues</a></li>
</ul>
<p>We're also open to contributions, so don't be afraid to open pull requests. Finally, thanks for your continued support!</p>
<p>— Team Dendrite</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2021&#x2F;07&#x2F;09&#x2F;this-week-in-matrix-2021-07-09&#x2F;" title="This Week in Matrix 2021-07-09">This Week in Matrix 2021-07-09</a></h1>
            <span>
                09.07.2021 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/bVKg4BHT0Z0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> 🌡️</h2>
<h3 id="ansible-community-considers-matrix">Ansible Community considers Matrix</h3>
<p><a href="https://matrix.to/#/@gwmngilfen:matrix.org">Gwmngilfen</a> offered:</p>
<blockquote>
<p>I'm the Principal Data Scientist for the Ansible Community. We're hoping to switch to Matrix as our primary platform in the near future, and I've just written up <em>my thoughts</em> on why that's a good idea, what the consequences might be, and where we go from here. Find it at https://ansible.github.io/community/posts/matrix_and_ansible.html</p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> told us:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://spec.matrix.org/unstable/proposals.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>New MSCs:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/3270">MSC3270: Symmetric megolm backup</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/3269">MSC3269: An error code for busy servers</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/3267">MSC3267: Reference relations</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/3266">MSC3266: Room summary</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/3265">MSC3265: Login and SSSS with a Single Password</a></p>
</li>
</ul>
<p><strong>MSCs with proposed Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs entered proposed FCP state this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<h4 id="spec-updates">Spec Updates</h4>
<p>A <a href="https://github.com/matrix-org/matrix-doc/issues/3095">concrete plan</a> has been drafted for publishing the new spec release, and is currently undergoing execution. This release will include many changes that have built up since the last release (back before the new spec redesign even), as well as the new <a href="https://github.com/matrix-org/matrix-doc/pull/2844">Matrix Global Version Number scheme</a>. Look forward to it dropping soon!</p>
<p>Otherwise Bruno has been hard at work continuing to push forward the various aggregation MSCs (<a href="https://github.com/matrix-org/matrix-doc/pull/2674">1</a> <a href="https://github.com/matrix-org/matrix-doc/pull/2675">2</a> <a href="https://github.com/matrix-org/matrix-doc/pull/2676">3</a> <a href="https://github.com/matrix-org/matrix-doc/pull/2677">4</a>). <a href="https://github.com/matrix-org/matrix-doc/pull/3083">MSC3083</a> (restricted room memberships) is being updated as part of finalising the new Spaces feature as well as <a href="https://github.com/matrix-org/matrix-doc/pull/2716">MSC2716</a> (history import).</p>
<p>As well as lots of new MSCs as listed above. Busy times!</p>
</blockquote>
<p><img src="/blog/img/2021-07-09-ADEDa-stacked_area_chart.png" alt="2021-07-09-ADEDa-stacked_area_chart.png" /></p>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust https://conduit.rs</p>
<p><a href="https://matrix.to/#/@timokoesters:fachschaften.org">timokoesters</a> said:</p>
<blockquote>
<p>The last two weeks I worked on a few very big optimizations. We also almost finished sqlite support for Conduit, which is slower than sled in benchmarks, but has much better RAM usage characteristics.</p>
<ul>
<li>
<p>Batch up and cache /sync responses for when clients time out</p>
</li>
<li>
<p>LRU cache for deserialized PDUs</p>
</li>
<li>
<p>More efficient state res by only fetching events it needs</p>
</li>
</ul>
</blockquote>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> said:</p>
<blockquote>
<p>Rumours of Dendrite's demise have been greatly exaggerated. Stay tuned for more updates very soon.</p>
</blockquote>
<p>We will stay highly tuned!</p>
<h3 id="synapse">Synapse</h3>
<p>Synapse is a popular homeserver written in Python.</p>
<p><a href="https://matrix.to/#/@callahad:matrix.org">callahad</a> offered:</p>
<blockquote>
<p>Big(int) news! This week Matrix.org processed its 2^31st event, exceeding the range of a PostgreSQL <a href="https://www.postgresql.org/docs/current/datatype-numeric.html">integer column</a> for the first time. This caused a bit of a scramble in the aftermath of last week's spam attack, as we had a few <code>integer</code> columns in our schema which we needed to convert to <code>bigint</code>. Fortunately, we were able to complete the change sufficiently in advance (<a href="https://github.com/matrix-org/synapse/issues/8255">#8255</a>), and also took the opportunity to audit other columns and sequences in the database which could conceivably overflow. Synapse 1.38, due out next week, will automatically migrate homeservers when they upgrade. We run the migration as a background task, so homeservers should continue functioning as normal throughout, though they may use a bit more disk and memory, especially when rebuilding indexes for the new <code>bigint</code> column.</p>
<p>We're also starting to hone in on our team's goals for this quarter, and it's looking like our primary focus will be on improving room join speeds. Wish us luck!</p>
<p>Lastly, we're overjoyed to announce that <a href="https://github.com/reivilibre">@reivilibre</a>, a former intern on the backend team, joined Element this week! We can't wait to see where he helps us take Synapse!</p>
</blockquote>
<h2 id="homeserver-deployment-inbox-tray">Homeserver Deployment 📥️</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> said:</p>
<blockquote>
<p>This week too gets a <a href="https://gitlab.com/ananace/charts">Helm Chart</a> update, with element-web having been updated to 1.7.32</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="matrix-puppeteer-line-progresses">matrix-puppeteer-line progresses</h3>
<p><a href="https://matrix.to/#/@fair:miscworks.net">Fair</a> reported:</p>
<blockquote>
<p><a href="https://src.miscworks.net/fair/matrix-puppeteer-line/">matrix-puppeteer-line</a>: A bridge for LINE Messenger based on running LINE's Chrome extension in Puppeteer.</p>
<p>This week was spent on adding proper support for LINE user joins/leaves (though invites/kicks are still a TODO), bug fixes, and ease of deployment. Docker and systemd setups will be ready shortly.</p>
<p>And this bridge should soon be listed on https://matrix.org/bridges/, if it isn't already 🙂 Thanks madlittlemods (Eric Eastwood) for accepting <a href="https://github.com/matrix-org/matrix.org/pull/1019">the PR</a>!</p>
<p>Discussion: <a href="https://matrix.to/#/#matrix-puppeteer-line:miscworks.net">#matrix-puppeteer-line:miscworks.net</a></p>
<p>Issue page: https://src.miscworks.net/fair/matrix-puppeteer-line/issues</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="element-clients">Element Clients</h3>
<p>Updates provided by the teams!</p>
<p><strong>Delight team</strong></p>
<ul>
<li>Spaces:
<ul>
<li>iOS development is progressing, some (dev) can see spaces in the left panel</li>
<li>Wrapping up work on new settings for restricted rooms, and UI to promote the feature to space admins</li>
<li>Maintenance and bug fixing.</li>
</ul>
</li>
</ul>
<p><strong>VoIP</strong></p>
<ul>
<li>Improvements to in-call designs on Android</li>
<li>Dial pad improvements about to land on web</li>
</ul>
<p><strong>Web</strong></p>
<ul>
<li>Working on performance testing on large accounts to catch slowdowns and generally improve app performance</li>
<li>More under-the-hood TypeScript conversion</li>
<li>Message bubbles experiment almost ready to land!</li>
<li>Working on universal macOS builds for the desktop app</li>
</ul>
<p><strong>Android</strong></p>
<ul>
<li>Element Android 1.1.12 is now live on the PlayStore, will be available on F-Droid soon</li>
<li>We are polishing the voice message feature</li>
<li>Also we are progressing well on the RustSDK integration</li>
</ul>
<h3 id="schildichat">SchildiChat</h3>
<p><a href="https://matrix.to/#/@spiritcroc:spiritcroc.de">SpiritCroc</a> reported:</p>
<blockquote>
<p><a href="https://schildi.chat/">SchildiChat</a> is a fork of Element that focuses on UI changes such as message bubbles and a unified chat list for both direct messages and groups, which is a more familiar approach to users of other popular instant messengers.</p>
<p>There are two announcements that we can share with you this week:</p>
<ul>
<li>
<p>SchildiChat for Android is back in the <a href="https://play.google.com/store/apps/details?id=de.spiritcroc.riotx">Google Play Store</a>! Users who have previously installed the release using our own F-Droid repo will be able to update without the need to re-install. All previous ways to install the app will remain available as well.</p>
</li>
<li>
<p>You can now help us translate SchildiChat using <a href="https://weblate.bubu1.eu/projects/schildichat/">Weblate</a>! Note that this only contains SchildiChat-specific translations, we continue to use <a href="https://translate.element.io/">Element's translations</a> where possible.</p>
</li>
</ul>
<p>Apart from that, we have mainly been focusing on smaller improvements and fixes, while staying up-to-date with new Element releases.</p>
<p>For more information about SchildiChat, feel free to visit our <a href="https://schildi.chat/">website</a> or check out our <a href="https://github.com/SchildiChat">source code</a>!</p>
<p>Also, feel free to join our Matrix rooms, which you can find in the new SchildiChat space: <a href="https://matrix.to/#/#schildichat:matrix.org">#schildichat:matrix.org</a></p>
</blockquote>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt and C++17. It supports E2EE and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> told us:</p>
<blockquote>
<p>Spaces work is making progress. Some rooms can now be previewed. To improve that situation, I wrote an <a href="https://github.com/matrix-org/matrix-doc/pull/3266">MSC to preview specific rooms</a>. Alternatively we will try to get the previews for the few rooms you aren't joined to from the space summary API, currently we are just fetching the existing state. You can also now join previewed rooms and the design of joining invites was adapted to match it.</p>
<p>red_sky☄️ went through the pain of fixing the Windows builds after we changed our http backend last week. So if you want to try it out, you can test it on Windows. We also replaced the old, boring spinner with an animated Nheko logo. If you see that a lot and think it is Nheko's fault, don't hesitate to open an issue! But in most cases it will probably be your server. Sadly no screenshot of how the spinner looks like, my server is too fast and taking a proper screenshot is too much effort because of that. ;p</p>
<p>We also fixed an issue with updating device lists in the develop version of Nheko. If you were using the nightlies, now is a good time to update! In more E2EE news, <a href="https://github.com/matrix-org/matrix-doc/pull/3270">symmetric megolm backup</a> fixes the issues I had with the online key backup, so looking forward to implementing that.</p>
</blockquote>
<p><img src="/blog/img/2021-07-09-dl7gn-clipboard.png" alt="2021-07-09-dl7gn-clipboard.png" /></p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="opsdroid-0-23">Opsdroid 0.23</h3>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> offered:</p>
<blockquote>
<p>The latest release of opsdroid is out with various fixes which can be seen in <a href="https://github.com/opsdroid/opsdroid/releases/tag/v0.23.0">the changelog</a>. The main point to note for matrix users is that older versions of matrix-nio (the matrix client library used by opsdroid) did not support the synapse change to omit <a href="https://github.com/matrix-org/synapse/pull/10214">optional fields from sync</a>. Therefore if you are using our docker images you will need to update to 0.23 to get a container with the newest matrix-nio included.</p>
<p>The other change which is relevant to matrix users is that Oleg has added support for version 2 of the <a href="https://rasa.com/">Rasa NLU</a> framework, so you can once again do open source, self hosted natural language bots.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="home-assistant-bot-release-v2-0-1"><a href="https://gitlab.com/olegfiksel/home-assistant-bot">home-assistant-bot</a> release <a href="https://gitlab.com/olegfiksel/home-assistant-bot/-/blob/v2.0.1/CHANGELOG.mdv201">v2.0.1</a></h3>
<p><a href="https://matrix.to/#/@oleg:fiksel.info">Oleg</a> announced:</p>
<blockquote>
<h4 id="this-release-adds-a-fix-for-compatibility-with-synapse-v1-38-0">This release adds a fix for compatibility with Synapse &gt;= v1.38.0</h4>
<p>This bot is based on <a href="https://opsdroid.dev">opsdroid</a> bot framework and aims to control actions in <a href="https://www.home-assistant.io/">home-assistant</a> via Matrix.</p>
<p>Feel free to come by at <a href="https://matrix.to/#/#home-assistant-bot:fiksel.info">#home-assistant-bot:fiksel.info</a>  😉</p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰️</h2>
<h3 id="server-stats-statistical-data">Server_Stats Statistical Data</h3>
<p><a href="https://matrix.to/#/@mtrnord:nordgedanken.dev">MTRNord</a> offered:</p>
<blockquote>
<p>Thanks to Gwmngilfen  I touched RStudio and toyed a little with some data as well.</p>
<p>You can find some graphs over at https://github.com/MTRNord/server_stats_r_statistics/blob/main/scripts/rooms_members.md</p>
<p>For the first graph the credit fully goes to Gwmngilfen  :)</p>
<p>The second one is in log scale for both axis but essentially the same :)</p>
<p>This is obviously currently very spare but I hope to add more statistics when I understand R lang :) This is in fact my first time doing something with R so my skillset is limited :)</p>
</blockquote>
<h2 id="dept-of-guides">Dept of Guides 🧭</h2>
<h3 id="matrix-bot-inside-of-a-docker-container">Matrix Bot inside of a Docker Container</h3>
<p><a href="https://matrix.to/#/@krazykirby99999:matrix.org">krazykirby99999</a> announced:</p>
<blockquote>
<p>Run Matrix Python bots inside of Docker Containers with Simple-Matrix-Bot-Lib and Docker!</p>
<p>This is a guide for isolating and running your Matrix bot within a Docker container. It is also applicable to bots written using other libraries and languages.</p>
<p>https://simple-matrix-bot-lib.readthedocs.io/en/latest/usage-with-docker.html</p>
</blockquote>
<h2 id="new-public-rooms-stadium">New Public Rooms 🏟️</h2>
<h3 id="room-of-the-week">Room of the week</h3>
<p><a href="https://matrix.to/#/@timokoesters:fachschaften.org">timokoesters</a> told us:</p>
<blockquote>
<p>Hi everyone! Did you ever feel lost in the Matrix world? The room directory is big, but it's still hard to find something you like. Or are you a room moderator, but there is not much activity in your room because it doesn't have enough users?</p>
<p>This is why I want to share rooms (or spaces) I find interesting.</p>
<hr />
<p>This week's space is: <a href="https://matrix.to/#/#mathematics-on:matrix.org">#mathematics-on:matrix.org</a> </p>
<p>Biggest room: <a href="https://matrix.to/#/#mathematicsq&amp;a:matrix.org">#mathematicsq&amp;a:matrix.org</a> </p>
<p><strong>&quot;For questions about any part of maths!&quot;</strong></p>
<hr />
<p>If you want to suggest a room for this section, tell me in <a href="https://matrix.to/#/#roomoftheweek:fachschaften.org">#roomoftheweek:fachschaften.org</a></p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final Thoughts 💭</h2>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> offered:</p>
<p>In meta twim news, the twim updates bot (which posts in <a href="https://matrix.to/#/#twim_updates:cadair.com">#twim_updates:cadair.com</a>) has been upgraded to opsdroid 0.23 and  now correctly keeps the formatted body when an event is edited.</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server.</p>
<h3 id="ping-maunium-net"><a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">envs.net</td><td style="text-align: center">477</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">kapsi.fi</td><td style="text-align: center">568.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">trolla.us</td><td style="text-align: center">708.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">matrix.debian.social</td><td style="text-align: center">735</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">rollyourown.xyz</td><td style="text-align: center">747</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">semisol.dev</td><td style="text-align: center">767</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">boba.best</td><td style="text-align: center">771.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">matrix.sp-codes.de</td><td style="text-align: center">784</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">shortestpath.dev</td><td style="text-align: center">871.5</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">nordgedanken.dev</td><td style="text-align: center">872</td></tr>
</tbody></table>
<h3 id="ping-no-synapse-maunium-net"><a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">dendrite.neilalexander.dev</td><td style="text-align: center">602.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">dendrite.s3cr3t.me</td><td style="text-align: center">803.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">dendrite01.fiksel.info</td><td style="text-align: center">831.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">2172.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2021&#x2F;07&#x2F;02&#x2F;this-week-in-matrix-2021-07-02&#x2F;" title="This Week in Matrix 2021-07-02">This Week in Matrix 2021-07-02</a></h1>
            <span>
                02.07.2021 21:03
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            <br>
            <small>Last update: 02.07.2021 19:28</small>
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/c6s7O3j5998" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> 🌡️</h2>
<p>We missed it at the time, but wanted to share in TWIM. <a href="https://shkspr.mobi/">Terence Eden</a>, noted UK technologist, shared a <a href="https://shkspr.mobi/blog/2021/05/msc-first-assignment-technical-and-digital-leadership/">thorough, compelling argument for the UK Government to use Matrix as a foundation for the digital workplace</a>.</p>
<p>This is a long read, but a detailed argument. Also please note that this is was produced for the purpose of an MSc course of study, it was not commissioned for any other purpose, as the preamble makes clear.</p>
<p>Next, a high billing for Beeper this week, who have been working hard and getting product out!</p>
<h3 id="beeper-update">Beeper update</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> reported:</p>
<blockquote>
<p>It's been a month since our last update. A lot of the work since then has been on making everything more reliable, but we've also added new features to our clients and started making some new bridges.</p>
<p><strong>Desktop</strong></p>
<ul>
<li>
<p>Added thread UI for Slack-bridged rooms. Internally they're just replies like before, but the client will intelligently collapse replies in Slack rooms into threads.</p>
</li>
<li>
<p>Merged upstream Element additions like voice messages.</p>
<ul>
<li>Also merged some features that aren't in Element yet, like <a href="https://github.com/matrix-org/matrix-react-sdk/pull/5814">Giphy integration</a>.</li>
</ul>
</li>
</ul>
<p><strong>iOS</strong></p>
<ul>
<li>Released Beeper iOS to Testflight.</li>
</ul>
<p><strong>Android</strong></p>
<ul>
<li>
<p>Added grouping rooms by chat network based on the <code>m.bridge</code> state event. The UI is similar to spaces, but they're not actual Matrix spaces (yet).</p>
</li>
<li>
<p>Added support for Android 11's &quot;conversation&quot; notifications.</p>
</li>
</ul>
<p><strong>Bridges</strong></p>
<ul>
<li>
<p>Android Messages is turning out difficult to reverse-engineer to a sufficiently reliable level, so we're building a new SMS bridge into our Android app. It'll also be available as a standalone open-source app, which already exists at https://gitlab.com/beeper/android-sms (but doesn't have any setup instructions yet).</p>
</li>
<li>
<p>We've funded development of a LinkedIn bridge. sumner will post a more detailed update about that.</p>
</li>
</ul>
<p>We're hiring React, iOS, Android and SRE/Devops engineers. If you're interested, check out https://angel.co/company/beeperhq or DM <a href="https://matrix.to/#/@eric:beeper.com">Eric Migicovsky</a>.</p>
</blockquote>
<p><img src="/blog/img/2021-07-02-CS1WM-image.png" alt="2021-07-02-CS1WM-image.png" /></p>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p>MSC state changes:</p>
<ul>
<li>&quot;<a href="https://github.com/matrix-org/matrix-doc/pull/3262">MSC3262 aPAKE authentication</a>&quot; was created.</li>
<li>&quot;<a href="https://github.com/matrix-org/matrix-doc/pull/2918">MSC2918: Refresh tokens</a>&quot; was proposed for FCP</li>
</ul>
<p>Bruno has been working on aggregations as part of his work for Hydrogen. He reported:</p>
<blockquote>
<p>I've been cleaning up the relations MSCs, finding a balance between documenting the current state and not losing track of community concerns. I've started with <a href="https://github.com/matrix-org/matrix-doc/pull/2674">MSC 2674</a> which is the very basic format of relations, and will move on to annotations/reactions (<a href="https://github.com/matrix-org/matrix-doc/pull/2677">MSC 2677</a>) next week.</p>
</blockquote>
<p><img src="/blog/img/2021-07-02-stacked_area_chart.png" alt="Spec progress graph" /></p>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse">Synapse</h3>
<p>Synapse is a popular homeserver written in Python.</p>
<p><a href="https://matrix.to/#/@callahad:matrix.org">callahad</a> announced:</p>
<blockquote>
<p>We're pleased to announce the <a href="https://matrix.org/blog/2021/06/30/security-update-synapse-1-37-1-released">release of Synapse 1.37.1</a> this week, which includes mitigations for the recent distributed spam attack across the public Matrix network. <strong>We advise upgrading as soon as possible.</strong></p>
<p>Otherwise, Synapse 1.37 highlights include:</p>
<ul>
<li>
<p>A new, <a href="https://matrix-org.github.io/synapse/v1.37/modules.html">generic interface for extension modules</a> (See this week's Matrix Live for more info!)</p>
</li>
<li>
<p>Completed server-side support for <a href="https://github.com/matrix-org/matrix-doc/pull/2403">MSC2403: Add &quot;knock&quot; feature</a> and <a href="https://spec.matrix.org/unstable/rooms/v7/">Room Version 7</a>.</p>
</li>
<li>
<p>An experimental implementation of <a href="https://github.com/matrix-org/matrix-doc/pull/2716">MSC2716: Incrementally importing history into existing rooms</a> (<a href="https://github.com/matrix-org/synapse/pull/9247">#9247</a>) as part of Element's work to fully <a href="https://matrix.org/blog/2020/09/30/welcoming-gitter-to-matrix">integrate Gitter into Matrix</a>.</p>
</li>
<li>
<p>A more nuanced implementation of Synapse's optional user-interactive authentication (&quot;UIA&quot;) grace period (<a href="https://github.com/matrix-org/synapse/pull/10184">#10184</a>).</p>
</li>
</ul>
<p>...and a bunch of smaller bug fixes and performance improvements.</p>
<p>Check out the <a href="https://matrix.org/blog/2021/06/30/security-update-synapse-1-37-1-released">blog post</a> for more.</p>
</blockquote>
<h2 id="homeserver-deployment-inbox-tray">Homeserver Deployment 📥️</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> offered:</p>
<blockquote>
<p>Got another week of <a href="https://gitlab.com/ananace/charts">Helm Chart</a> updates, with the Synapse chart getting a bunch of worker improvements and additional configurability, as well as being updated to first 1.37.0 and then 1.37.1</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="linkedin-matrix-bridge">LinkedIn &lt;-&gt; Matrix Bridge</h3>
<p><a href="https://matrix.to/#/@sumner:sumnerevans.com">sumner</a> reported:</p>
<blockquote>
<p>I'm excited to announce that I started working on a new bridge for bringing LinkedIn messages to Matrix! It's currently in the early stages of development and not production-ready. The current feature set includes: backfill from LinkedIn, user name and profile picture sync, message sending from Matrix -&gt; LinkedIn, and real-time message puppetting from LinkedIn -&gt; Matrix. There's much more to come, and you can join <a href="https://matrix.to/#/#linkedin-matrix:nevarro.space">#linkedin-matrix:nevarro.space</a>  for updates. Development is being funded by Beeper, and is being designed with integration into Beeper as it's primary goal. However, the bridge is open source (Apache 2.0) and will be available to self-host. The source code is here: https://github.com/sumnerevans/linkedin-matrix.</p>
</blockquote>
<p>Great work from Sumner! Glad to see people have the <em>option</em> to bridge their LinkedIn messages!</p>
<h3 id="matrix-puppeteer-line-update">matrix-puppeteer-line update</h3>
<p><a href="https://matrix.to/#/@fair:miscworks.net">Fair</a> reported:</p>
<blockquote>
<p><a href="https://src.miscworks.net/fair/matrix-puppeteer-line/">matrix-puppeteer-line</a>: A bridge for LINE Messenger based on running LINE's Chrome extension in Puppeteer.</p>
<p>Better LINE-&gt;Matrix read receipt bridging is now supported in the <code>testing</code> branch! The bridge now checks all LINE chats (not just the most recently-used one) to see if messages you sent have been read (in LINE). This works by cycling through all LINE chats where the final message is posted by you and doesn't have a &quot;Read&quot; marker on it yet (or for multi-user chats, if your last message hasn't been read by everyone in the room).</p>
<p>With that, I'll consider the bridge to be in Early Beta! 🎉 I'm now testing the bridge for myself to iron out a few kinks, and am preparing a PR to the <a href="https://github.com/matrix-org/matrix.org/">matrix.org</a> webpage to have this listed on https://matrix.org/bridges/.</p>
<p>Discussion:</p>
<p><a href="https://matrix.to/#/#matrix-puppeteer-line:miscworks.net">#matrix-puppeteer-line:miscworks.net</a> 
Issue page: https://src.miscworks.net/fair/matrix-puppeteer-line/issues</p>
</blockquote>
<h3 id="matrix-adapter-for-webthings-0-4-0">Matrix Adapter for WebThings 0.4.0</h3>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">Christian</a> told us:</p>
<blockquote>
<p>This addon for the WebThings gateway lets you send Matrix messages when your IoT fridge is empty – or whatever you have connected to your gateway.</p>
<p>The update fixes predefined messages getting sent to the default room and is the first to be tested against gateway version 1.0.0.
https://gitlab.com/webthings/matrix-adapter or in the addon list of your WebThings gateway</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="neochat">NeoChat</h3>
<p><a href="https://matrix.to/#/@carl:kde.org">Carl Schwan</a> announced:</p>
<blockquote>
<p>This week, NeoChat gained support for a Global Menu on Plasma and macOS. Aside from that, we fixed a few crashes.</p>
<p>But the biggest news of the week is that we will get funding from NLNet to implement E2EE support in Quotient and NeoChat as part of their grants to improve the internet. We will report on our progress on that front here!</p>
</blockquote>
<p>This is terrific news, big thanks to <a href="https://nlnet.nl/">NLNet</a> for making this choice!</p>
<h3 id="fluffychat">FluffyChat</h3>
<p><a href="https://fluffychat.im">FluffyChat</a> is the cutest cross-platform matrix client. It is available for Android, iOS, Web and Desktop.</p>
<p><a href="https://matrix.to/#/@krille:janian.de">krille</a> said:</p>
<blockquote>
<p>FluffyChat 0.33.0 has been released.</p>
<p>Just a more minor bugfixing release with some design changes in the settings, updated missing translations and for rebuilding the arm64 Linux Flatpak.</p>
<h4 id="features">Features</h4>
<ul>
<li>
<p>redesigned settings</p>
</li>
<li>
<p>Updated translations - thanks to all translators</p>
</li>
<li>
<p>display progress bar in first sync</p>
</li>
<li>
<p>changed Linux window default size</p>
</li>
<li>
<p>update some dependencies</p>
</li>
</ul>
<h4 id="fixes">Fixes</h4>
<ul>
<li>
<p>Favicon on web</p>
</li>
<li>
<p>Database not storing files correctly</p>
</li>
<li>
<p>Linux builds for arm64</p>
</li>
<li>
<p>a lot of minor bugs</p>
</li>
</ul>
</blockquote>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt and C++17. It supports E2EE and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> offered:</p>
<blockquote>
<p>Hello World! I am here to bring you Nheko news!</p>
<p>We merged the Spaces branch, which means Nheko master can now show some spaces. Peeking unjoined rooms, nesting spaces and creating them should be coming soon. We are also looking into how to fit knocking into the UI (we already rendered incoming knocks in the timeline for a while).</p>
<p>You can also now edit still pending messages, which should help if your server is slow and you notice a typo. The edit will then get queued and be sent as soon as the server acknowledges they received the original message. Apart from that there have been some improvements to the readability of the room list and some other UI elements.</p>
<p>Last but not least, we switched out our entire http backend from Boost to Curl. For that I wrote a <a href="https://nheko.im/nheko-reborn/coeurl">simple wrapper around Curl</a>. This fixes about 10 issues around connection shutdown, brings proxy support, http/2 and http/3 support and in general makes Nheko crash less and reduces latency a LOT! This will obviously cause some pain for packagers, but I hope it isn't too bad. Some of the issues this fixes only had 2 digits in our bugtracker and one was even filed by benpa!</p>
<p>Have a nice weekend everyone! ♥</p>
</blockquote>
<p><img src="/blog/img/2021-07-02-0r-zH-clipboard.png" alt="2021-07-02-0r-zH-clipboard.png" /></p>
<h3 id="fractal">Fractal</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> told us:</p>
<blockquote>
<p>Chris tweaked the UI in various places. It’s a lot of small details that together make for a smoother experience. I encourage you to read the details in the description of <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/782">!782</a>. This is the only MR that landed since <a href="https://matrix.org/blog/2021/06/25/this-week-in-matrix-2021-06-25#fractal">last week</a>, but our people have been hard at work nonetheless. Kai blogged about his journey working on the <a href="https://blog.kaialexhiller.de/?p=29">search bar of doom</a> and Alejandro <a href="https://aledomu.github.io/gnome/small-progress-update-of-my-2021-gsoc-with-fractal-next/">shared his own struggle</a>. In the meantime, Julian’s work has mostly happened <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/288">upstream</a> in matrix-rust-sdk.</p>
</blockquote>
<h3 id="element-clients">Element Clients</h3>
<p>Updates sent by the teams</p>
<p><strong>Delight team</strong></p>
<ul>
<li>Spaces:
<ul>
<li>Research: We’ve been reaching out to people to walk us through how they use Spaces now and what they’d like to see different to help us learn and iterate;</li>
<li>Restricted room access: Some good progress towards shipping improved team spaces </li>
</ul>
</li>
</ul>
<p><strong>Web</strong></p>
<ul>
<li>v1.7.32-rc.1 is on <a href="https://staging.element.io/">https://staging.element.io/</a> in advance of release on Monday - please test!</li>
<li>Some major progress on conversion to TypeScript, finding some bugs along the way. The main source of the element-desktop project is now fully converted to TypeScript!</li>
<li>A styled player component for the audio messages feature, available in the labs section.</li>
</ul>
<p><strong>iOS</strong></p>
<ul>
<li>v1.4.4 (<a href="https://github.com/vector-im/element-ios/releases/tag/v1.4.4">https://github.com/vector-im/element-ios/releases/tag/v1.4.4</a>) is available in TestFlight. It should be on the App Store on Monday</li>
<li>It contains a bug fix for Single Sign-On (SSO)</li>
<li>We started to attack some papercuts. Expect more in the coming weeks.</li>
</ul>
<p><strong>Android</strong></p>
<ul>
<li>We are actively implementing the highly expected voice message feature!</li>
<li>A release candidate v1.1.12 will be available during the week-end</li>
<li>We are focusing to fix some crashes, to improve the stability of the application</li>
</ul>
<p>Vocie messages!</p>
<h3 id="kazv">kazv</h3>
<p><a href="https://matrix.to/#/@tusooa:tusooa.xyz">tusooa</a> reported:</p>
<blockquote>
<p><a href="https://lily.kazv.moe/kazv/kazv">kazv</a> is a matrix client based on <a href="https://lily.kazv.moe/kazv/libkazv">libkazv</a>.</p>
<p>Talk to us on <a href="https://matrix.to/#/#kazv:tusooa.xyz">#kazv:tusooa.xyz</a> .</p>
<h4 id="updates">Updates</h4>
<ol start="0">
<li>
<p><a href="https://matrix.to/#/@tusooa:tusooa.xyz">@tusooa:tusooa.xyz</a> fixed a thread-safety issue that caused crashes. https://lily.kazv.moe/kazv/kazv/-/merge_requests/6</p>
</li>
<li>
<p>We now have a new developer <a href="https://matrix.to/#/@nannanko:tusooa.xyz">@nannanko:tusooa.xyz</a> . She implemented a login failure prompt for kazv. https://lily.kazv.moe/kazv/kazv/-/merge_requests/4</p>
</li>
</ol>
<p>You can get the current AppImage build at https://lily.kazv.moe/kazv/kazv/-/jobs/611/artifacts/browse .</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="matrix-bot-sdk-v0-5-19">matrix-bot-sdk v0.5.19</h3>
<p><a href="https://github.com/turt2live">TravisR</a> announced:</p>
<blockquote>
<p>v0.5.19 of the <a href="https://www.npmjs.com/package/matrix-bot-sdk">matrix-bot-sdk</a> is out now with fixed power level checking (with an added utility function), improved default error logging, and a typo fix in reply creation. Check it out, and visit <a href="https://matrix.to/#/#matrix-bot-sdk:t2bot.io">#matrix-bot-sdk:t2bot.io</a> for help &amp; support.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="matrix-navigator-0-1-2">Matrix Navigator 0.1.2</h3>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">Christian</a> told us:</p>
<blockquote>
<p>It's an alpha-stage webapp for developers to replace curl for room state administration.</p>
<p>This week I added features for better member management, including kick, ban and unban.
https://gitlab.com/jaller94/matrix-navigator</p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services 🚀</h2>
<h3 id="gomatrixhosting-v0-5-1-rocket">GoMatrixHosting v0.5.1 🚀</h3>
<p><a href="https://matrix.to/#/@michael:perthchat.org">Michael</a> told us:</p>
<blockquote>
<p>Exciting new update, we can now wireguard an on-premises server from just about anywhere and make it work with the AWX system. This is useful when your server doesn't have a static or public IP address, or when some other networking issue prevents you from running a Matrix service on it.</p>
<p>Follow of on GitLab: https://gitlab.com/GoMatrixHosting</p>
<p>Or come say hello on Matrix: <a href="https://matrix.to/#/#general:gomatrixhosting.com">#general:gomatrixhosting.com</a> </p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>
</span><span>* Add &#39;00 - Create Wireguard Server&#39; template for AWX admin to provision Wireguard servers that on-premises servers can use to connect.
</span><span>
</span><span>* Subscription involved can view an additional &#39;0 - {{ subscription_id }} - Provision Wireguard Server&#39; template.
</span><span>* Add /docs/Setup_Wireguard_Server.md guide.
</span><span>
</span><span>* Add onboarding script for Windows 10 users.
</span><span>* Raise maximum download size to 200MB.
</span><span>
</span></code></pre>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="mjolnir">Mjolnir</h3>
<p><a href="https://github.com/turt2live">TravisR</a> offered:</p>
<blockquote>
<p><a href="https://github.com/matrix-org/mjolnir">Mjolnir</a> is a moderation bot for communities on Matrix. It helps with a lot of the actions covered by the <a href="https://matrix.org/docs/guides/moderation">moderation guide</a>, including capabilities to apply bans from other trusted communities. It's still a bit terse in its documentation, but if you're looking for a featureful moderation bot then it's worth a go. </p>
<p>In related news, Mjolnir <a href="https://github.com/matrix-org/mjolnir/releases/tag/v0.1.18">v0.1.18</a> is out with a couple quality of life fixes - if you've been bothered by the log spam, it's now fixed :)</p>
</blockquote>
<h2 id="dept-of-guides">Dept of Guides 🧭</h2>
<h3 id="matrix-limits">Matrix Limits</h3>
<p><a href="https://matrix.to/#/@jryans:matrix.org">Ryan</a> said:</p>
<blockquote>
<p>I started a <a href="https://github.com/jryans/matrix-limits">tiny repo</a> to collect various limits and related factoids about the Matrix specification and implementations. I hope that distilling and summarising such things at glance will make it easier to see what is and is not possible.</p>
<p>If you know of more that should be listed, please contribute! 🙂</p>
</blockquote>
<h3 id="self-hosting-your-own-matrix-server-on-a-raspberry-pi">Self hosting your own Matrix server on a Raspberry Pi</h3>
<p><a href="https://matrix.to/#/@pwr22:shortestpath.dev">Peter Roberts</a> announced:</p>
<blockquote>
<p>@ed:selfhostingblog.com of <a href="https://theselfhostingblog.com">theselfhostingblog.com</a> has written a guide on getting started with Synapse on a Raspberry Pi using Docker Compose. You can read it <a href="https://theselfhostingblog.com/posts/self-hosting-your-own-matrix-server-on-a-raspberry-pi/">here</a>.</p>
</blockquote>
<h2 id="public-rooms-news-stadium">Public Rooms News 🏟️</h2>
<h3 id="matrix-science-reading-group">Matrix Science Reading Group</h3>
<p><a href="https://matrix.to/#/@florian:dsn.tm.kit.edu">Florian</a> said:</p>
<blockquote>
<p>Together with J. Ryan Stinnett, I created the 🔖 <a href="https://matrix.to/#/#matrix-science-reading-group:dsn.tm.kit.edu">#matrix-science-reading-group:dsn.tm.kit.edu</a> for exchange of and on scientific papers, books and related resources on all things Matrix: Topics ranging from peer-to-peer broadcast overlay networks over conflict-free replicated data types to end-to-end encryption. Investigating security, performance, deployability, or whatever else is interesting, by methods from observation over simulation to formal verification. 🎓️ Please join if you want to read about papers that might not be Matrix-related enough to make it into TWIM, or want to engage in the discussion. 😊 The resulting papers are collected at: https://github.com/jryans/awesome-matrix#research</p>
</blockquote>
<h3 id="german-element-translation-feedback">German Element translation feedback</h3>
<p><a href="https://matrix.to/#/@libexus:matrix.org">Libexus</a> announced:</p>
<blockquote>
<p><strong>Hallo deutschsprachige Matrix-Community!</strong></p>
<p><a href="https://matrix.to/#/#element-uebersetzung-feedback:matrix.org">#element-uebersetzung-feedback:matrix.org</a>  ist ein Raum für Feedback zur deutschsprachigen Übersetzung aller Element-Clients.</p>
<p>Hast du einen Fehler gefunden, ist etwas unklar oder hast du ein Anliegen an uns? Dann schreibe es gerne hier hinein!</p>
<p>Jederzeit willkommen sind natürlich auch neue Übersetzerinnen und Übersetzer. Joint dazu einfach <a href="https://matrix.to/#/#element-translation-de:matrix.org">#element-translation-de:matrix.org</a>, <a href="https://matrix.to/#/#element-translations:matrix.org">#element-translations:matrix.org</a> und lest euch den <a href="https://github.com/vector-im/element-web/blob/develop/docs/translating.md">Translation Guide</a> durch.</p>
<hr />
<p><strong>Hello German-speaking Matrix community!</strong></p>
<p><a href="https://matrix.to/#/#element-uebersetzung-feedback:matrix.org">#element-uebersetzung-feedback:matrix.org</a>  is a room for feedback about the German translation of Element.</p>
<p>Have you found a mistake, is something unclear or do you have a suggestion? Please write it there!</p>
<p>Also, we are always happy about new translators (for all languages!). Just join <a href="https://matrix.to/#/#element-translations:matrix.org">#element-translations:matrix.org</a>  and have a look at the <a href="https://github.com/vector-im/element-web/blob/develop/docs/translating.md">translation guide</a> on how to get started!</p>
</blockquote>
<h3 id="room-of-the-week">Room of the week</h3>
<p><a href="https://matrix.to/#/@timokoesters:fachschaften.org">timokoesters</a> told us:</p>
<blockquote>
<p>Hi everyone! Did you ever feel lost in the Matrix world? The room directory is big, but it's still hard to find something you like. Or are you a room moderator, but there is not much activity in your room because it doesn't have enough users?</p>
<p>This is why I want to share rooms (or spaces) I find interesting.</p>
<hr />
<p>This week's room is: <a href="https://matrix.to/#/#fossmaintainers:matrix.org">#fossmaintainers:matrix.org</a> </p>
<p><strong>&quot;A public space for Free/Open Source Software maintainers to swap notes and discuss their craft. Inspired by https://github.com/github/maintainerweek, all maintainers welcome!&quot;</strong></p>
<hr />
<p>If you want to suggest a room for this section, tell me in <a href="https://matrix.to/#/#roomoftheweek:fachschaften.org">#roomoftheweek:fachschaften.org</a></p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server.</p>
<h3 id="ping-maunium-net"><a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">envs.net</td><td style="text-align: center">497</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">fluse.duckdns.org</td><td style="text-align: center">653</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">m.scd31.com</td><td style="text-align: center">802.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">maescool.be</td><td style="text-align: center">803</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">helderferreira.io</td><td style="text-align: center">828</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">nevarro.space</td><td style="text-align: center">842</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">tilde.fun</td><td style="text-align: center">842</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">fslhome.org</td><td style="text-align: center">952</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">fosil.eu</td><td style="text-align: center">987.5</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">queersin.space</td><td style="text-align: center">1241</td></tr>
</tbody></table>
<h3 id="ping-no-synapse-maunium-net"><a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">dendrite.nordgedanken.dev</td><td style="text-align: center">246</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">dendrite.neilalexander.dev</td><td style="text-align: center">578</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">dendrite01.fiksel.info</td><td style="text-align: center">1459</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">jloa.ovh</td><td style="text-align: center">1586</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2021&#x2F;06&#x2F;30&#x2F;security-update-synapse-1-37-1-released&#x2F;" title="Security update: Synapse 1.37.1 released">Security update: Synapse 1.37.1 released</a></h1>
            <span>
                30.06.2021 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>Over the last few days we've seen a distributed spam attack across the public Matrix network, where large numbers of spambots have been registered across servers with open registration and then used to flood abusive traffic into rooms such as Matrix HQ.</p>
<p>The spam itself has been handled by <a href="https://matrix.org/docs/guides/moderation#banning-servers">temporarily banning the abused servers</a>. However, on Monday and Tuesday the volume of traffic triggered performance problems for the homeservers participating in targeted rooms (e.g. memory explosions, or very delayed federation).  This was due to a combination of factors, but one of the most important ones was Synapse issue <a href="https://github.com/matrix-org/synapse/issues/9490">#9490</a>: that one busy room could cause head-of-line blocking, starving your server from processing events in other rooms, causing all traffic to fall behind.</p>
<p>We're happy to say that Synapse 1.37.1 <a href="https://github.com/matrix-org/synapse/pull/10272">fixes this</a> and we now process inbound federation traffic asynchronously, ensuring that one busy room won't impact others.  First impressions are that this has significantly improved federation performance and end-to-end encryption stability — for instance, new E2EE keys from remote users for a given conversation should arrive immediately rather than being blocked behind other traffic.</p>
<p><strong>Please upgrade to Synapse 1.37.1 as soon as possible, in order to increase resilience to any other traffic spikes.</strong></p>
<p><strong>Also, we highly recommend that you disable open registration or, if you keep it enabled, use SSO or require email validation to avoid abusive signups. Empirically adding a CAPTCHA is not enough. Otherwise you may find your server blocked all over the place if it is hosting spambots.</strong></p>
<p><strong>Finally, if your server has open registration, PLEASE check whether spambots have been registered on your server, and deactivate them.  Once deactivated, you will need to contact abuse@matrix.org to request that blocks on your server are removed</strong>.</p>
<p>Your best bet for spotting and neutralising dormant spambots is to review signups on your homeserver over the past 3-5 days and deactivate suspicious users. We do not recommend relying solely on lists of suspicious IP addresses for this task, as the distributed nature of the attack means any such list is likely to be incomplete or include shared proxies which may also catch legitimate users.</p>
<p>To ease review, we're working on an auditing script in <a href="https://github.com/matrix-org/synapse/pull/10290">#10290</a>; feedback on whether this is useful would be appreciated. Problematic accounts can then be dealt with using the <a href="https://matrix-org.github.io/synapse/v1.37/admin_api/user_admin_api.html#deactivate-account">Deactivate Account Admin API</a>.</p>
<p>Meanwhile, over to Dan for the Synapse 1.37 release notes.</p>
<h2 id="synapse-1-37-release-announcement">Synapse 1.37 Release Announcement</h2>
<p>Synapse 1.37 is now available!</p>
<blockquote>
<p>**Note: ** The legacy APIs for Spam Checker extension modules are now considered deprecated and targeted for removal in August. Please see <a href="https://matrix-org.github.io/synapse/v1.37/modules.html#porting-an-existing-module-that-uses-the-old-interface">the module docs</a> for information on updating.</p>
<p>This release also removes Synapse's built-in support for the obsolete ACMEv1 protocol for automatically obtaining TLS certificates. Server administrators should place Synapse behind a <a href="https://matrix-org.github.io/synapse/v1.37/reverse_proxy.html">reverse proxy</a> for TLS termination, or switch to a standalone ACMEv2 client like <a href="https://certbot.eff.org/">certbot</a>.</p>
</blockquote>
<h3 id="knock-knock">Knock, knock?</h3>
<p>After nearly 18 months and 129 commits, Synapse now includes support for <a href="https://github.com/matrix-org/matrix-doc/pull/2403">MSC2403: Add &quot;knock&quot; feature</a> and <a href="https://spec.matrix.org/unstable/rooms/v7/">Room Version 7</a>! This feature allows users to directly request admittance to private rooms, without having to track down an invitation out-of-band. One caveat: Though the server-side foundation is there, knocking is not <em>yet</em> implemented in clients.</p>
<h3 id="a-unified-interface-for-extension-modules">A Unified Interface for Extension Modules</h3>
<p>Third party modules can customize Synapse's behavior, implementing things like bespoke media storage providers or user event filters. However, Synapse previously lacked a unified means of enumerating and configuring third-party modules. That changes with Synapse 1.37, which introduces a new, <a href="https://matrix-org.github.io/synapse/v1.37/modules.html">generic interface for extensions</a>.</p>
<p>This new interface consolidates configuration into one place, allowing for more flexibility and granularity by explicitly registering callbacks with specific hooks. You can learn more about the new module API in the docs linked above, or in <a href="https://www.youtube.com/playlist?list=PLl5dnxRMP1hULbP8MYk2noPKFCFyg-SHK">Matrix Live</a> S6E29, due out this Friday, July 2nd.</p>
<h3 id="safer-reauthentication">Safer Reauthentication</h3>
<p>User-interactive authentication (&quot;UIA&quot;) is required for potentially dangerous actions like removing devices or uploading cross-signing keys. However, Synapse can optionally be configured to provide a brief grace period such that users are not prompted to re-authenticate on actions taken shortly after logging in or otherwise authenticating.</p>
<p>This improves user experience, but also creates risks for clients which rely on UIA as a guard against actions like account deactivation. Synapse 1.37 protects users by exempting especially risky actions from the grace period. See <a href="https://github.com/matrix-org/synapse/pull/10184">#10184</a> for details.</p>
<h3 id="smaller-improvements">Smaller Improvements</h3>
<p>We've landed a number of smaller improvements which, together, make Synapse more responsive and reliable. We now:</p>
<ul>
<li>More efficiently respond to key requests, preventing excessive load (<a href="https://github.com/matrix-org/synapse/pull/10221">#10221</a>, <a href="https://github.com/matrix-org/synapse/pull/10144">#10144</a>)</li>
<li>Render docs for each <code>vX.Y</code> Synapse release, starting with v1.37 (<a href="https://github.com/matrix-org/synapse/pull/10198">#10198</a>)</li>
<li>Ensure that log entries from failures during early startup are not lost (<a href="https://github.com/matrix-org/synapse/pull/10191">#10191</a>)</li>
<li>Have a notion of database schema &quot;compatibility versions&quot;, allowing for more graceful upgrades and downgrades of Synapse (<a href="https://matrix-org.github.io/synapse/v1.37/development/database_schema.html#synapse-schema-versions">docs</a>)</li>
</ul>
<p>We've also resolved two bugs which could cause sync requests to immediately return with empty payloads (<a href="https://github.com/matrix-org/synapse/issues/8518">#8518</a>), producing a tight loop of repeated network requests.</p>
<h3 id="everything-else">Everything Else</h3>
<p>Lastly, we've merged an experimental implementation of <a href="https://github.com/matrix-org/matrix-doc/pull/2716">MSC2716: Incrementally importing history into existing rooms</a> (<a href="https://github.com/matrix-org/synapse/pull/9247">#9247</a>) as part of Element's work to fully <a href="https://matrix.org/blog/2020/09/30/welcoming-gitter-to-matrix">integrate Gitter into Matrix</a>.</p>
<p>These are just the highlights; please see the <a href="https://github.com/matrix-org/synapse/blob/v1.37.1/UPGRADE.rst#upgrading-to-v1370">Upgrade Information</a> and <a href="https://github.com/matrix-org/synapse/blob/v1.37.1/CHANGES.md">Release Notes</a> for a complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our thanks to everyone who contributed to this release, including <a href="https://github.com/aaronraimist">aaronraimist</a>, <a href="https://github.com/Bubu">Bubu</a>, <a href="https://github.com/dklimpel">dklimpel</a>, <a href="https://github.com/jkanefendt">jkanefendt</a>, <a href="https://github.com/lukaslihotzki">lukaslihotzki</a>, <a href="https://github.com/mikure">mikure</a>, and <a href="https://github.com/Sorunome">Sorunome</a>,</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2021&#x2F;06&#x2F;25&#x2F;this-week-in-matrix-2021-06-25&#x2F;" title="This Week in Matrix 2021-06-25">This Week in Matrix 2021-06-25</a></h1>
            <span>
                25.06.2021 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/gSrqj2IzJew" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<ul>
<li>Valere presents the latest Spaces UX</li>
<li>Neil Alexander shows off P2P progress</li>
<li>ChristianP shows Matrix Navigator</li>
<li>Eric Eastwood (Gitter fellow!) shows off MSC2716 (message history batches)</li>
<li>Rich vdH presents Jaeger for Synapse profiling</li>
<li>Bruno presents reactions in Hydrogen</li>
</ul>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> 🌡️</h2>
<h3 id="room-of-the-week">Room of the week</h3>
<p><a href="https://matrix.to/#/@timokoesters:fachschaften.org">timokoesters</a> said:</p>
<blockquote>
<p>Hi everyone! Did you ever feel lost in the Matrix world? The room directory is big, but it's still hard to find something you like. Or are you a room moderator, but there is not much activity in your room because it doesn't have enough users?</p>
<p>This is why I want to share rooms (or spaces) I find interesting.</p>
<hr />
<p>This week's space is: <a href="https://matrix.to/#/!inTwmMdGcmomkgejoM:matrix.altay.fr?via=matrix.org&amp;via=mozilla.org&amp;via=matrix.altay.f">RPG</a></p>
<p>Biggest room: <a href="https://matrix.to/#/#D&amp;D:matrix.org">#D&amp;D:matrix.org</a></p>
<p><strong>&quot;Casual chat about Dungeons &amp; Dragons, tabletop RPG, OSR, DM tips, player stories, world building, and more.&quot;</strong></p>
<hr />
<p>If you want to suggest a room for this section, tell me in <a href="https://matrix.to/#/#roomoftheweek:fachschaften.org">#roomoftheweek:fachschaften.org</a></p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> told us:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://matrix.org/docs/spec/proposals.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/3173">MSC3173: Expose stripped state events to any potential joiner</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2778">MSC2778: Providing authentication method for appservice users</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/3255">MSC3255: Use SRV record for homeservers discovery by clients</a></li>
</ul>
<h4 id="spec-updates">Spec Updates</h4>
<p>Spaces work continues with <a href="https://github.com/matrix-org/matrix-doc/pull/3083">MSC3083</a> (Restricted room memberships), which will include a new room version due to the new <code>join_rule</code> of `restricted. On the other side of things, <a href="https://github.com/matrix-org/matrix-doc/pull/3245">MSC3245</a> (voice messages) and by extension extensible events, is moving as the implementation work is pushed forward. Lots of activity on <a href="https://github.com/matrix-org/matrix-doc/pull/3215">MSC3215</a> (improved moderation tooling) as well which will no doubt prove to be invaluable as the Matrix network continues to grow.</p>
</blockquote>
<p><img src="/blog/img/2021-06-25-u23Qt-stacked_area_chart.png" alt="2021-06-25-u23Qt-stacked_area_chart.png" /></p>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust https://conduit.rs</p>
<p><a href="https://matrix.to/#/@timokoesters:fachschaften.org">timokoesters</a> reported:</p>
<blockquote>
<p>After some more work on swappable database backends, I worked on a few small features:</p>
<ul>
<li>
<p>User directory improvements (show remote users and appservice puppets)</p>
</li>
<li>
<p>/state endpoint</p>
</li>
<li>
<p>/event_auth endpoint</p>
</li>
<li>
<p>Filter our room directory based on the search term</p>
</li>
<li>
<p>/search over multiple rooms</p>
</li>
</ul>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p>Synapse is a popular homeserver written in Python.</p>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> said:</p>
<blockquote>
<p>Knock, knock TWIM! It's a new week, and I'm filling in for Dan today to bring you an update on Synapse's latest progress!</p>
<p>Hot off the heels of Synapse <a href="https://github.com/matrix-org/synapse/releases/tag/v1.36.0">1.36.0’s release</a> last week, we’ve put out <a href="https://github.com/matrix-org/synapse/releases/tag/v1.37.0rc1">1.37.0rc1</a>! It includes the long-awaited <a href="https://github.com/matrix-org/matrix-doc/pull/2403">“room knocking” feature</a> (note that no clients currently support knocking), a completely reworked <a href="https://matrix-org.github.io/synapse/develop/modules.html">pluggable modules interface</a> and experimental support for <a href="https://github.com/matrix-org/matrix-doc/pull/2716">backfilling history into rooms</a>. With knocking support in, this means Synapse now has support for <a href="https://spec.matrix.org/unstable/rooms/v7/">room v7</a>!</p>
<p>Among those exciting updates, we also have the usual churn of bug fixes and improvements across the board. Many updates to the documentation as well as we lean into using the new <a href="https://matrix-org.github.io/synapse">Synapse documentation site</a> more and more. Please help us test the RC if you can!</p>
</blockquote>
<h2 id="homeserver-deployment-inbox-tray">Homeserver Deployment 📥️</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> offered:</p>
<blockquote>
<p>This week too sees some <a href="https://gitlab.com/ananace/charts">Kubernetes chart</a> updates, with element-web being updated to 1.7.31 and matrix-synapse getting some fixes for envvars and mounts, as well as some improvements to the ingress support.</p>
</blockquote>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@mamie:mamieserv.fr">Mamie</a> offered:</p>
<blockquote>
<p><a href="https://yunohost.org">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration had been updated to 1.34.0 (1.35.1 available in branch <code>testing</code>)</p>
<p><a href="https://github.com/YunoHost-Apps/element_ynh/tree/master">Element Web</a> integration had been updated to 1.7.28 (1.7.29 available in branch <code>testing</code>)</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="gitter">Gitter</h3>
<p><a href="https://matrix.to/#/@madlittlemods:matrix.org">Eric Eastwood</a> offered:</p>
<blockquote>
<p>It has been <a href="https://matrix.org/blog/2021/02/05/this-week-in-matrix-2021-02-05#gitter">several months</a> since we last updated you on MSC2716 for backfilling historical messages into existing rooms but we made some big progress this week and <a href="https://github.com/matrix-org/synapse/pull/9247">merged an experimental Synapse implementation</a> taking us one step closer to importing the massive archive of messages on Gitter over to Matrix! This iteration will only make the historical messages visible on the local homeserver but we have plans to make them federate in the next. It's still early days on this before we can actually use it on Gitter. Here is a proof of concept to get your juices flowing:</p>
</blockquote>
<p><img src="/blog/img/2021-06-25-7abpP-gitter-backfill-historical-messages-to-matrix.gif" alt="2021-06-25-7abpP-gitter-backfill-historical-messages-to-matrix.gif" /></p>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="hydrogen">Hydrogen</h3>
<p>A minimal Matrix chat client, focused on performance, offline functionality, and broad browser support. https://github.com/vector-im/hydrogen-web/</p>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> said:</p>
<blockquote>
<p>Released Hydrogen 0.2.0 with:</p>
<ul>
<li>support for receiving and sending reactions ❤👍🚀</li>
<li>adds a right panel with basic room information, thanks to @MidhunSureshR! Watch this space in the near future for more functionality soon.</li>
</ul>
</blockquote>
<p>Loving Hydrogen right now. It's fast and works great! See Bruno present reactions as one of the Matrix Live demos (scroll up)</p>
<h3 id="neochat">NeoChat</h3>
<p><a href="https://matrix.to/#/@carl:kde.org">Carl Schwan</a> announced:</p>
<blockquote>
<p>In terms of code, this week we didn't get much activity. The only noteworthy news is that we can now send spoilers, and use two new commands: <code>/tableflip</code> and <code>/unflip</code> thanks to Smitty van Bodegom.</p>
<p>Aside from that, we had 2 productive BoFs during Akademy 2021. The first one was about creating a library with shared chat visual components for KDE's chat apps: NeoChat for Matrix, Tok for Telegram and Kaidan for XMPP, KDE Connect and Spacebar for SMS, ... The second BoF was more about NeoChat and Quotient and we discussed how to move forwards with some problems (e.g. non-hacky text input auto-completion) but also the roadmap around E2EE, Spaces and Widgets support. Speaking about E2EE, we will have some very good news to announce next week, stay tuned!</p>
</blockquote>
<p>/me only learned about <code>/tableflip</code> and <code>/unflip</code> this today... and looking forward to this E2EE news!</p>
<h3 id="fractal">Fractal</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> announced:</p>
<blockquote>
<p>In the <a href="https://matrix.org/blog/2021/06/04/this-week-in-matrix-2021-06-04#fractal">past couple of weeks</a>, <a href="https://aledomu.github.io/gnome/another-year-in-gsoc-and-fractal/">Alejandro</a> and <a href="https://blog.kaialexhiller.de/?p=6">Kai</a> started the coding period of their GSoC internship and explained on their blogs what they will be working on. Their projects are respectively to add support for multiple accounts, and to bring Fractal Next to feature parity with current stable. Read more details on their blogs, and subscribe to them to keep informed as they go!</p>
<p>Julian managed to <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/773">land the “Explore” view</a>, our room directory. There may be some changes down the road, but it looks good for now:</p>
</blockquote>
<p><img src="/blog/img/2021-06-25-pucq0-image.png" alt="2021-06-25-pucq0-image.png" /></p>
<blockquote>
<p>Newcomer Giuseppe De Palma removed bashisms from our git hook because they were preventing him from contributing. They then went on to <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/775">tweak the history style to remove the grey background around it</a>. They also got rid of a papercut from the login form: before his intervention, users needed to provide the full homeserver URL with the <code>http://</code> or <code>https://</code> scheme prefix. It will now <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/780">default to HTTPS</a>.</p>
<p>We also did some housekeeping work that should improve the experience for people joining us on the Fractal Next fun. After being away for a while, Christopher Davis came back with a patch to add a couple more build related directories to our <code>.gitignore</code>. Julian cleaned up the pseudo-milestone description that we had in the README, now that we have a proper <a href="https://gitlab.gnome.org/GNOME/fractal/-/milestones/18">Gitlab milestone</a>. And finally, I added <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/777">a warning on the login screen</a> to better reflect on the Work In Progress state of the branch.</p>
</blockquote>
<h3 id="element-clients">Element Clients</h3>
<p>Updates from the teams! Android will return next week.</p>
<p><strong>Delight team</strong></p>
<ul>
<li>Spaces:
<ul>
<li>Drag and drop for reordering Spaces is now live on Android! And testable on <a href="https://develop.element.io">develop</a> for Web</li>
<li>We’ve also added labs flags to Web &amp; Android to test a few different things, in particular
<ul>
<li>Toggling ‘Home’ to show all rooms, or only rooms which don’t belong to Spaces</li>
<li>Toggling to not show People in Spaces</li>
</ul>
</li>
<li>Please try them out! After living with a different config for a few days, we’d love to hear <a href="https://matrix.to/#/%5B#spaces-feedback-space:matrix.org%5D(https://matrix.to/#/#spaces-feedback-space:matrix.org)">your feedback!</a></li>
</ul>
</li>
</ul>
<p><strong>Web</strong></p>
<ul>
<li>1.7.31 released on Monday</li>
<li>Nightly builds of Element Desktop optimised for Apple silicon are <a href="https://packages.riot.im/nightly/install/macos/arm64/Element%20Nightly.dmg">now available</a> for testing! Please give it a try and report any issues.</li>
<li>Added libera.chat to room directory on develop, staging, and app. It will appear in desktop builds as well next time they update.</li>
<li>On develop
<ul>
<li>Various CI tweaks and performance improvements</li>
</ul>
</li>
<li>In flight
<ul>
<li>Adding large account performance tests</li>
</ul>
</li>
</ul>
<p><strong>iOS</strong></p>
<ul>
<li>1.4.2 released on Monday. 1.4.3 with the fix on wellknown on Thursday</li>
<li>Fix a bug where the wellknown was no more fetched</li>
<li>Device dehydration is available in the SDK</li>
<li>Still good progress on voice messages</li>
</ul>
<h3 id="quaternion">Quaternion</h3>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> offered:</p>
<blockquote>
<p>0.0.95 RC is out, available from <a href="https://github.com/quotient-im/Quaternion/releases/tag/0.0.95-rc">the usual place at GitHub</a>, and also as Flatpak from <a href="https://flathub.org/apps/details/com.github.quaternion">Flathub</a>. The usual stabilisaton/bug fixing work, no new features compared to betas. This version is considerably better, and more stable, than 0.0.9.4 - packagers are welcome to push it as if it were the final release. Translators, <a href="https://app.lokalise.com/project/730769035bbc328c31e863.62506391/">please help</a> to complete more languages: Polish is at 90%, Spanish almost 80%, and French just below 60% - you can make a difference!</p>
</blockquote>
<h2 id="dept-of-encryption-closed-lock-with-key">Dept of Encryption 🔐</h2>
<h3 id="new-paper-key-agreement-for-decentralized-secure-group-messaging-with-strong-security-guarantees">New paper: “Key Agreement for Decentralized Secure Group Messaging with Strong Security Guarantees”</h3>
<p><a href="https://matrix.to/#/@florian:dsn.tm.kit.edu">Florian</a> offered:</p>
<blockquote>
<p>Here is a scientific paper for all interested in decentralized end-to-end encryption cryptography protocols, like Matrix' Megolm, or the MLS future of Matrix: The preprint <a href="https://eprint.iacr.org/2020/1281">“Key Agreement for Decentralized Secure Group Messaging with Strong Security Guarantees”</a> by <a href="http://mattweidner.com/">Weidner</a>, <a href="https://martin.kleppmann.com/">Kleppmann</a> et al., which will appear in the <a href="https://www.sigsac.org/ccs/CCS2021/">ACM CCS 2021 Conference</a>, surveys existing centralized and decentralized end-to-end cryptography protocols, Olm/Megolm (labeled as “Matrix”) among them, and discusses why the <a href="https://datatracker.ietf.org/wg/mls/documents/">Messaging Layer Security (MLS) IETF draft</a> has its problems with decentralization. Following that, they come up with their own decentralized protocol, including a security and performance analysis. They improve asymptotic complexity when compared to Olm/Megolm, and the assumptions on the underlying communication layer are easily fulfilled by Matrix. They also discuss that the very good asympotic complexity of MLS cannot be reached for a decentralized end-to-end cryptography protocol.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="quotient">Quotient</h3>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> reported:</p>
<blockquote>
<p>Last week's news actually, but libQuotient master branch can built with Qt 6 now, laying ground for the GSoC works on PyQuotient - Python bindings for libQuotient. The library has also been updated to follow the latest CS API specification, which means basic low-level support for knocking, with higher-level library API for it coming later.</p>
</blockquote>
<h3 id="mage-polyjuice-util">🧙 Polyjuice Util</h3>
<p><a href="https://hex.pm/packages/polyjuice_client">Polyjuice Client</a> is a Matrix library for Elixir</p>
<p><a href="https://matrix.to/#/@hubert:uhoreg.ca">uhoreg</a> said:</p>
<blockquote>
<p>Polyjuice Util is a library of Matrix functions for Elixir that can be used for both client-side and server-side applications.  <a href="https://hex.pm/packages/polyjuice_util/0.2.0">Polyjuice Util 0.2.0</a> has been released, which includes functions for common errors, handling identifiers, and for checking room permissions.  Thanks to Nico for his contributions to this release.  This release also contains some backward-incompatible changes.  See the <a href="https://gitlab.com/uhoreg/polyjuice_util/-/blob/v0.2.0/CHANGELOG.md">changelog</a> for more information.</p>
<p><a href="https://hex.pm/packages/polyjuice_client/0.4.1">Polyjuice Client 0.4.1</a> has also been released, which uses the new Polyjuice Util release, and adds support for the <code>whoami</code> endpoint (thanks to multiprise).</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="synadm-0-30">synadm 0.30</h3>
<p><a href="https://matrix.to/#/@jojo:peek-a-boo.at">jojo</a> said:</p>
<blockquote>
<p>Hello dear Synapse Admins, <code>synadm</code> v0.30 is out. lt seems I was in &quot;story telling mode&quot; already when I wrote the release notes yesterday. That should perfectly suit a TWIM article as well 🙂 So there you go, copy/pasted from https://github.com/JOJ0/synadm/releases/tag/v0.30 with love:</p>
<h4 id="new">New</h4>
<p><code>synadm</code> finally got some nicely rendered documentation pages hosted at https://synadm.readthedocs.io.</p>
<p>&quot;Login as a user&quot; admin API support:</p>
<ul>
<li>
<p><code>synadm user login &lt;user id&gt;</code></p>
</li>
<li>
<p><a href="https://synadm.readthedocs.io/en/latest/synadm.cli.user.html#synadm-user-login">Have a look at the new command's docs</a></p>
</li>
</ul>
<p>New subcommand <code>matrix</code>supporting execution of regular Matrix commands. As a first shot a command to issue any Matrix API call has been implemented:</p>
<ul>
<li>
<p><code>synadm matrix raw endpoint/url -m post -f data.json</code></p>
</li>
<li>
<p><code>synadm matrix raw endpoint/url -m put -d '{&quot;key1&quot;: &quot;value1&quot;}' --prompt</code></p>
</li>
<li>
<p><a href="https://synadm.readthedocs.io/en/latest/synadm.cli.matrix.html#synadm-matrix-raw">The new command's docs</a></p>
</li>
</ul>
<p><em>Note that this is meant to be a convenience function in case a Synapse homeserver admin wants to quickly help users e.g set specific settings available via regular Matrix calls and not the Synapse admin API directly. Also note that it is not meant to replace the awesome Matrix CLI tools that are already out there. matrix-commander, matrixcli to mention just a few.</em></p>
<p>The second command below <code>matrix</code> is:</p>
<ul>
<li>
<p><code>synadm matrix login &lt;user id&gt;</code></p>
</li>
<li>
<p><a href="https://synadm.readthedocs.io/en/latest/synadm.cli.matrix.html#synadm-matrix-login">The new command's docs</a></p>
</li>
</ul>
<p>It implements a plain login on a Matrix server using username and password. It can even be used to retrieve a token for an admin user, e.g helpful for setting up fresh <code>synadm</code> installations. <a href="https://github.com/JOJ0/synadm#getting-an-admin-token">Read about it here</a></p>
<h4 id="improved">Improved</h4>
<p>The README has been updated to point to the nicely rendered docs recently published at https://matrix-org.github.io/synapse/develop/usage/administration/admin_api/index.html</p>
<h4 id="notes">Notes</h4>
<p>Update via PyPI or git as described in the update chapter: https://github.com/JOJ0/synadm#update</p>
<p>Thanks to the friendly people in <a href="https://matrix.to/#/#synadm:peek-a-boo.at">#synadm:peek-a-boo.at</a> for reviewing, testing, discussing functionality and giving advice. And for this release, a special thanks to @hpd:hpdeifel.de https://github.com/hpdeifel</p>
</blockquote>
<h3 id="matrix-navigator-v0-1-1">Matrix Navigator v0.1.1</h3>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">Christian</a> said:</p>
<blockquote>
<p>Matrix Navigator aims to be a replacement for <code>curl</code> when querying and mutating room states, including permissions.</p>
<ul>
<li>
<p>Plenty of fixes (reminder, this is still alpha software)</p>
</li>
<li>
<p>Allows to join, leave rooms and inviting users.</p>
</li>
<li>
<p>New wide-screen layout</p>
</li>
<li>
<p>Errors are now shown in input fields or alerts.</p>
</li>
</ul>
<p>https://matrix-navigator.chrpaul.de</p>
<p>Code and roadmap: https://gitlab.com/jaller94/matrix-navigator</p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services 🚀</h2>
<h3 id="thoughts-on-matrix-account-ownership">Thoughts on Matrix account ownership</h3>
<p><a href="https://matrix.to/#/@thib:ergaster.org">Thib</a> told us:</p>
<blockquote>
<p>with the change of policy we deployed on GNOME's Matrix instance, it occurred to me that we had overlooked an important aspect in our relationship with Matrix: do we own our Matrix account? And the answer is... maybe! In this post I cover the differences between personal account, organisation-owned account, the importance of segregating activities on Matrix... and why this <em>may</em> change with Portable Identities in the future</p>
<p>https://blog.ergaster.org/post/20210622-owning-your-matrix-account/</p>
</blockquote>
<h2 id="dept-of-jobs-moneybag">Dept of Jobs 💰️</h2>
<h3 id="tchap-are-hiring">Tchap are hiring!</h3>
<p><a href="https://matrix.to/#/@thib:ergaster.org">Thib</a> reported:</p>
<blockquote>
<p>the French government deployed Tchap, an instant messaging based on Matrix. They are looking for tech and processes oriented people to improve the service.</p>
<p>https://beta.gouv.fr/recrutement/2021/06/15/tchap-devops.html (🇫🇷)
https://beta.gouv.fr/recrutement/2021/06/15/charge.ou.chargee.de.deploiement.html (🇫🇷)</p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final Thoughts 💭</h2>
<p><a href="https://matrix.to/#/@andycuccaro:matrix.org">Andy</a> reported:</p>
<blockquote>
<p>I know this isn't TWIM-worthy, but I figured people in this room would find it interesting: yesterday there was a very popular post on reddit about how we don't appreciate email enough, and in the comments there were some mentions of matrix as the counterpart for messaging:</p>
<p>https://old.reddit.com/r/Showerthoughts/comments/o6cs4l/comment/h2s5dcz/</p>
</blockquote>
<p>Actually I think this is very interesting. Worth taking a read to understand how people not already using Matrix might see the world.</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server.</p>
<h3 id="ping-maunium-net"><a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">maunium.net</td><td style="text-align: center">517</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">int21.dev</td><td style="text-align: center">520</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">matrix.sp-codes.de</td><td style="text-align: center">607</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">trolla.us</td><td style="text-align: center">615</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">aria-net.org</td><td style="text-align: center">765</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">vonderste.in</td><td style="text-align: center">812.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">heitkoetter.net</td><td style="text-align: center">832</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">lily.flowers</td><td style="text-align: center">991</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">thomcat.rocks</td><td style="text-align: center">1237.5</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">kittenface.studio</td><td style="text-align: center">1559</td></tr>
</tbody></table>
<h3 id="ping-no-synapse-maunium-net"><a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">dendrite01.fiksel.info</td><td style="text-align: center">1300.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">weber.world</td><td style="text-align: center">2473</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;6&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">7 / 57</span>
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;8&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
