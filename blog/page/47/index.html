<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href="/style.css" />

    

<meta name="description" content="The Matrix.org Foundation blod is where the Matrix Foundation and Community
post updates on their activity. Every Friday evening they publish This Week In
Matrix, a digest of the past week activity.
">

</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;integrations&#x2F;">Integrations</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;10&#x2F;11&#x2F;the-story-of-giveth-s-new-matrix-chatbot&#x2F;" title="The story of Giveth’s new Matrix chatbot">The story of Giveth’s new Matrix chatbot</a></h1>
            <span>
                11.10.2018 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/eli-etzioni">
                    Eli Etzioni
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Guest post today from <a href="https://giveth.io/">Giveth</a>: <em>Giveth is re-engineering charitable giving, by creating an entirely free, open-source platform, built on the Ethereum Blockchain. Our system cuts out bureaucracy and enables nonprofits to create a high level of transparency and accountability towards Givers.</em></p>
<hr />
<p><a href="/blog/wp-content/uploads/2018/10/giveth1.png"><img class="alignnone size-full wp-image-3629" src="/blog/wp-content/uploads/2018/10/giveth1.png" alt="" width="901" height="253" /></a></p>
<p><i>Giveth's new chatbot in action!
</i></p>
<p>Online or offline, joining a new community always requires some adjustment. Even the most open, inclusive communities have shared knowledge and shared practices which new members learn as they participate. </p>
<p>I recently joined <a href="https://giveth.io">Giveth's</a> Riot community, where the majority of Giveth's communication occurs. Immediately upon joining, I received the message pictured above from the Giveth Bot, kindly encouraging me to download Riot mobile and change my notifications to mention-only. The bot shortened my adjustment period by giving me key tidbits of information that everyone in Giveth's community knows, but that may have taken me time to pick up on my own. This blog post will cover how the Giveth Bot came to be, what it is capable of, and where the project is headed in the future. </p>
<p>The Giveth Bot actually started out as an attempt to solve a completely different problem: helping Giveth efficiently distribute internal reward points. Giveth's system for rewarding people who meaningfully contribute to the project is called RewardDAO. “If someone contributes in a meaningful way, a core contributor from each of the Giveth Campaigns can dish them points to recognize the contribution”, describes <a href="https://medium.com/@cle0">Cleo</a> in an article explaining <a href="https://medium.com/giveth/how-rewarddao-works-aka-what-are-points-7388f70269a">how RewardDAO works</a>. At the end of each month, contributors receive Ether based on how many points they have earned.</p>
<p><a href="/blog/wp-content/uploads/2018/10/giveth2.png"><img class="alignnone size-large wp-image-3626" src="/blog/wp-content/uploads/2018/10/giveth2-1024x246.png" alt="" width="1024" height="246" /></a></p>
<p><i>The Giveth RewardDAO motto. Photo from https://medium.com/giveth.
</i></p>
<p>However, any time that a core contributor dished points to someone, they had to record who received the points, and how many, on a spreadsheet. In search of a better way, Giveth opened up the project of automating this system to the <a href="https://medium.com/giveth/what-is-social-coding-fa81feacfa32">social coding hub</a>, a community of altruistic developers looking to tackle impactful and interesting projects, offering a 2 eth bounty for a solution.</p>
<p>A lot of great work was submitted, and ultimately Deam's (
<a href="https://twitter.com/deamlabs">@deamlabs</a>) code was chosen to power the bot and the code for the pointsbot itself was further developed and refined by <a href="https://github.com/FrederikBolding">Frederik Bolding</a>. Now, by using a command of the form “!dish [number] [type] points to [contributor] for [contribution]”, Giveth core contributors can distribute points as needed, and the bot will automatically update the spreadsheet accordingly.</p>
<p><a href="/blog/wp-content/uploads/2018/10/giveth3.png"><img class="alignnone size-full wp-image-3628" src="/blog/wp-content/uploads/2018/10/giveth3.png" alt="" width="918" height="520" /></a></p>
<p><i>The Giveth Bot dishing points like a champion! 
</i></p>
<p>Once the bot's framework was established, chatbot features were added. In addition to the welcome message I received, the bot gives custom welcome messages in each of Giveth's different rooms, allows Matrix users to have 1-on-1 chats with it, and listens for keywords and sentences it recognizes in rooms and private chats. Riot is built on top of an open-source protocol called Matrix. Matrix has a javascript standard development kit (SDK), which the bot uses to detect events occurring in each of the Riot rooms and chats that it is a part of.</p>
<p>Giveth began by using Slack, but switched to Riot to support Matrix's decentralized, open-source model, which which aligns far more with Giveth's own business model and values. The Giveth Bot is a great example of how Matrix enables users to build their own solutions to problems. In the future, we hope that the Giveth Bot will be able to interact directly with the Ethereum Blockchain, and that more analytics and measurement tools can be incorporated. And of course, we welcome any and all feedback on the Giveth Bot!</p>
<p><i>Giveth is an open-source platform for building decentralized altruistic communities. Anyone interested in getting involved should head to 
</i><a href="https://giveth.io/join/"><i>join.giveth.io
</i></a></p>
<p><i>Interested in checking out the Giveth Bot's inner workings? All code is available at 
</i><a href="https://github.com/Giveth/giveth-bot"><i>https://github.com/Giveth/giveth-bot
</i></a><i>. 
</i></p>
<p><i>Interested in learning DApp development or helping out with cool projects like the Giveth Bot? Check out the 
</i><a href="https://riot.im/app/#/room/#giveth-social-coding:matrix.org"><i>social_coding Riot channel
</i></a><i>, tell us what you're interested in, and help build awesome stuff!
</i></p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;10&#x2F;05&#x2F;this-week-in-matrix-2018-10-05&#x2F;" title="This Week in Matrix 2018-10-05">This Week in Matrix 2018-10-05</a></h1>
            <span>
                05.10.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="bridges">Bridges</h2>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> is supposedly back at university, but he's productive enough to have THREE updates this week (delivered in ascending order of interestingness):</p>
<p><strong><a href="https://github.com/matrix-org/matrix-appservice-irc">matrix-appservice-irc</a> 0.11.2:</strong></p>
<blockquote>
<p><a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.11.2">https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.11.2</a> is just a hotfix release containing a few things we fixed in develop so yay.</p>
</blockquote>
<p><strong><a href="https://github.com/matrix-org/matrix-appservice-node">matrix-appservice-node</a> v0.3.5:</strong></p>
<blockquote>
<p><a href="https://github.com/matrix-org/matrix-appservice-node/blob/master/CHANGELOG.md#v035">https://github.com/matrix-org/matrix-appservice-node/blob/master/CHANGELOG.md#v035</a> is a long overdue update that just updates dependencies so we are no longer exposing lots of vulnerabilities<br />Updated <code>body-parser</code>, <code>express</code>, <code>morgan</code> and <code>request</code> packages to fix security vulnerabilities.</p>
</blockquote>
<p><strong><a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> 1.7.0 released:</strong></p>
<blockquote>
<p><a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> is out! Bundled in this version are major updates to dependencies (to stop the warnings), a logging component for quick setup of pretty winston logs and a provisoner &quot;validator&quot; to allow bridge admins to curate which bridges can be linked into the same room to stop the dreaded double bridge issue.<br />More details can be found at <a href="https://github.com/matrix-org/matrix-appservice-bridge/releases/tag/1.7.0">https://github.com/matrix-org/matrix-appservice-bridge/releases/tag/1.7.0</a></p>
</blockquote>
<h2 id="informo-news-project">Informo news project</h2>
<p><strong>Informo</strong> is an ambitious project hoping to be a &quot;decentralised news network, making information accessible&quot;. The project lives at <a href="https://github.com/Informo">https://github.com/Informo</a>, but for now you can join <a href="https://matrix.to/#/#discuss:weu.informo.network">#discuss:weu.informo.network</a> to get their latest news.</p>
<p><strong><a href="https://matrix.to/#/@vabd:weu.informo.network">vadb</a> provided an update:</strong></p>
<blockquote>
<p>Hey there, here's a quick update to let you know that we're making great progress towards the completion of phase 1 of Informo's specifications' documentation (i.e. general outline without going to much in depth into the technical specifications)! I've also updated the board to cut the big &quot;Basic spec&quot; task down into smaller tasks to give a more precise insight of our current progress<br />Once that phase 1 is done we'll publish the whole thing and migrate our work to a public GitHub repository so people can get to know Informo a bit better and contribute towards making the doc better if they want</p>
</blockquote>
<h2 id="riot">Riot</h2>
<p><strong><a href="https://github.com/vector-im/riot-web">riot-web</a> 16.5 released, with <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a> 0.11.1:</strong></p>
<p>Go see the <a href="https://github.com/matrix-org/matrix-js-sdk/blob/master/CHANGELOG.md">latest changes</a> and make sure to start using room member Lazy Loading with the latest <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>.</p>
<h2 id="libraries">Libraries</h2>
<p><strong><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> is writing an Olm wrapper for Qt:</strong></p>
<blockquote>
<p>I am writing a Qt <strong>wrapper</strong> for Olm. It has APIs similar to python-olm</p>
</blockquote>
<p><strong><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> and <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> are working on <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>:</strong></p>
<blockquote>
<p><a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a> is nearing its release 0.4.0, with low-level support of CS API (coincidentally) 0.4.0 added this week. Another very useful addition is caching avatar images to the disk, not only in memory, relieving the network from dozens of extra requests when a client powered by the library is restarted. All thanks for the avatar caching PR go to Black Hat!</p>
</blockquote>
<h2 id="sdks">SDKs</h2>
<p><strong><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> on mautrix-go and mautrix-python:</strong></p>
<blockquote>
<p>My gomatrix fork is now <a href="https://github.com/tulir/mautrix-go">mautrix-go</a> and the basic client API stuff in <a href="https://github.com/tulir/mautrix-python/tree/matrix-restructure">mautrix-python</a> is starting to be usable enough for me to start the rewrite of <a href="https://github.com/maubot/maubot">maubot</a> in Python.<br />For a bit of background, maubot is a dynamic plugin-based bot system. It's currently written in Go, but due to many limitations in the Go plugin system, I decided to rewrite it in Python. matrix-python-sdk doesn't have asyncio or a maintainer, so I decided to make a new framework that combines my existing mautrix-appservice-python framework with a more generic client API layer. (<a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>)</p>
</blockquote>
<h2 id="homeservers">Homeservers</h2>
<p><strong><a href="https://matrix.to/#/@max:kamax.io">Max</a> introduces his new server, <a href="https://github.com/kamax-grid/gridepo">Gridepo</a>:</strong></p>
<blockquote>
<p>mxhsd work has resumed via a new project, <a href="https://github.com/kamax-grid/gridepo">Gridepo</a>, which will be a Matrix/Grid dual-stack server. While mxhsd focused on researching the protocol and reverse-engineering the spec, <a href="https://github.com/kamax-grid/gridepo">Gridepo</a> will follow whatever is specced in its Matrix compatible mode.</p>
</blockquote>
<p><strong>Synapse 0.33.6 released:</strong>
&gt;</p>
<blockquote>
<p>It's <a href="/blog/2018/10/04/synapse-0-33-6-released/">literally the previous blog post</a>!</p>
</blockquote>
<blockquote>
<p>we've been focusing on fixing a whole host of federation bugs to improve reliability and latency. Additionally we've squashed some py3 bugs, improved lazy loading and been working hard in the background to improve our CI infrastructure. Finally, we cleaned up the Docker file, the image is now half the size of 0.33.5.1's standing at 58 MB.</p>
<p>As ever, you can <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.6">get the new update here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, <a href="https://pypi.org/project/matrix-synapse/">Synapse is now available from PyPI</a>.</p>
</blockquote>
<h2 id="devops-and-hosting">DevOps and Hosting</h2>
<p><strong><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> on <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a>:</strong></p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> has received some more improvements lately. They're mostly about the ability to tweak things affecting performance: Synapse cache factor configuration, the ability to enable/disable user presence tracking. The logging situation has also been improved for all Docker containers, so that their output would not get logged twice (once by systemd's journal, once by Docker) - something which was previously causing unpredictably-high disk usage for long-running containers.</p>
</blockquote>
<p><strong><a href="https://github.com/ananace/">ananace</a>, Synapse for kubernetes:</strong></p>
<blockquote>
<p>Updated the K8s tweaked packaging for Synapse 0.33.6 (And added a preliminary Python 3 version there as well)</p>
</blockquote>
<p><strong><a href="https://matrix.to/#/@swedneck:swedneck.xyz">swedneck</a> (literally) on IPFS:</strong></p>
<p><a href="https://matrix.to/#/@swedneck:swedneck.xyz">swedneck</a> is hosting riot on IPFS: <a href="https://riot.swedneck.xyz">https://riot.swedneck.xyz</a>, see also <a href="https://riot-all.swedneck.xyz">https://riot-all.swedneck.xyz</a> for all the versions currently hosted there.</p>
<h2 id="bots">Bots</h2>
<p><strong><a href="https://github.com/turt2live">TravisR</a>, always working on bots:</strong></p>
<blockquote>
<p>Through use of the <a href="https://emoncms.org">https://emoncms.org</a> API, the makerspace I help run now has power monitoring statistics available from within matrix.</p>
</blockquote>
<h2 id="rooms">Rooms</h2>
<p><strong><a href="https://github.com/Matrixcoffee">Coffee</a>, maintaining <a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a>:</strong></p>
<blockquote>
<p><a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a> became an official Matrix room! It also had a small face lift, changing from &quot;Synapse Community&quot; to &quot;Synapse Admins&quot;, hopefully making its purpose and intended audience clearer.</p>
</blockquote>
<h2 id="that-s-all-for-now">That's all for now</h2>
<p>That's all for now. No Matrix Live this week, but we'll be back next week with more Matrix news and another episode of Matrix Live!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;10&#x2F;04&#x2F;synapse-0-33-6-released&#x2F;" title="Synapse 0.33.6 released!">Synapse 0.33.6 released!</a></h1>
            <span>
                04.10.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Right folks, time for Synapse 0.33.6.</p>
<p>These past few weeks we've been focusing on fixing a whole host of federation bugs to improve reliability and latency. Additionally we've squashed some py3 bugs, improved lazy loading and been working hard in the background to improve our CI infrastructure. Finally, we cleaned up the Docker file, the image is now half the size of 0.33.5.1's standing at 58 MB.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.6">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>.</p>
<h3 id="synapse-0-33-6">Synapse 0.33.6</h3>
<h4 id="features">Features</h4>
<ul>
 	<li>Adding the ability to change MAX_UPLOAD_SIZE for the docker container variables. (<a href="https://github.com/matrix-org/synapse/issues/3883">#3883</a>)</li>
 	<li>Report "python_version" in the phone home stats (<a href="https://github.com/matrix-org/synapse/issues/3894">#3894</a>)</li>
 	<li>Always LL ourselves if we're in a room (<a href="https://github.com/matrix-org/synapse/issues/3916">#3916</a>)</li>
 	<li>Include eventid in log lines when processing incoming federation transactions (<a href="https://github.com/matrix-org/synapse/issues/3959">#3959</a>)</li>
 	<li>Remove spurious check which made 'localhost' servers not work (<a href="https://github.com/matrix-org/synapse/issues/3964">#3964</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Fix problem when playing media from Chrome using direct URL (thanks <a class="user-mention" href="https://github.com/remjey" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=13684203" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@remjey</a>!) (<a href="https://github.com/matrix-org/synapse/issues/3578">#3578</a>)</li>
 	<li>support registering regular users non-interactively with register_new_matrix_user script (<a href="https://github.com/matrix-org/synapse/issues/3836">#3836</a>)</li>
 	<li>Fix broken invite email links for self hosted riots (<a href="https://github.com/matrix-org/synapse/issues/3868">#3868</a>)</li>
 	<li>Don't ratelimit autojoins (<a href="https://github.com/matrix-org/synapse/issues/3879">#3879</a>)</li>
 	<li>Fix 500 error when deleting unknown room alias (<a href="https://github.com/matrix-org/synapse/issues/3889">#3889</a>)</li>
 	<li>Fix some b'abcd' noise in logs and metrics (<a href="https://github.com/matrix-org/synapse/issues/3892">#3892</a>, <a href="https://github.com/matrix-org/synapse/issues/3895">#3895</a>)</li>
 	<li>When we join a room, always try the server we used for the alias lookup first, to avoid unresponsive and out-of-date servers. (<a href="https://github.com/matrix-org/synapse/issues/3899">#3899</a>)</li>
 	<li>Fix incorrect server-name indication for outgoing federation requests (<a href="https://github.com/matrix-org/synapse/issues/3907">#3907</a>)</li>
 	<li>Fix adding client IPs to the database failing on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3908">#3908</a>)</li>
 	<li>Fix bug where things occasionally were not being timed out correctly. (<a href="https://github.com/matrix-org/synapse/issues/3910">#3910</a>)</li>
 	<li>Fix bug where outbound federation would stop talking to some servers when using workers (<a href="https://github.com/matrix-org/synapse/issues/3914">#3914</a>)</li>
 	<li>Fix some instances of ExpiringCache not expiring cache items (<a href="https://github.com/matrix-org/synapse/issues/3932">#3932</a>, <a href="https://github.com/matrix-org/synapse/issues/3980">#3980</a>)</li>
 	<li>Fix out-of-bounds error when LLing yourself (<a href="https://github.com/matrix-org/synapse/issues/3936">#3936</a>)</li>
 	<li>Sending server notices regarding user consent now works on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3938">#3938</a>)</li>
 	<li>Fix exceptions from metrics handler (<a href="https://github.com/matrix-org/synapse/issues/3956">#3956</a>)</li>
 	<li>Fix error message for events with m.room.create missing from auth_events (<a href="https://github.com/matrix-org/synapse/issues/3960">#3960</a>)</li>
 	<li>Fix errors due to concurrent monthly_active_user upserts (<a href="https://github.com/matrix-org/synapse/issues/3961">#3961</a>)</li>
 	<li>Fix exceptions when processing incoming events over federation (<a href="https://github.com/matrix-org/synapse/issues/3968">#3968</a>)</li>
 	<li>Replaced all occurrences of e.message with str(e). Contributed by Schnuffle (<a href="https://github.com/matrix-org/synapse/issues/3970">#3970</a>)</li>
 	<li>Fix lazy loaded sync in the presence of rejected state events (<a href="https://github.com/matrix-org/synapse/issues/3986">#3986</a>)</li>
 	<li>Fix error when logging incomplete HTTP requests (<a href="https://github.com/matrix-org/synapse/issues/3990">#3990</a>)</li>
</ul>
<h4 id="internal-changes">Internal Changes</h4>
<ul>
 	<li>Unit tests can now be run under PostgreSQL in Docker using <code>test_postgresql.sh</code>. (<a href="https://github.com/matrix-org/synapse/issues/3699">#3699</a>)</li>
 	<li>Speed up calculation of typing updates for replication (<a href="https://github.com/matrix-org/synapse/issues/3794">#3794</a>)</li>
 	<li>Remove documentation regarding installation on Cygwin, the use of WSL is recommended instead. (<a href="https://github.com/matrix-org/synapse/issues/3873">#3873</a>)</li>
 	<li>Fix typo in README, synaspse -&gt; synapse (<a href="https://github.com/matrix-org/synapse/issues/3897">#3897</a>)</li>
 	<li>Increase the timeout when filling missing events in federation requests (<a href="https://github.com/matrix-org/synapse/issues/3903">#3903</a>)</li>
 	<li>Improve the logging when handling a federation transaction (<a href="https://github.com/matrix-org/synapse/issues/3904">#3904</a>, <a href="https://github.com/matrix-org/synapse/issues/3966">#3966</a>)</li>
 	<li>Improve logging of outbound federation requests (<a href="https://github.com/matrix-org/synapse/issues/3906">#3906</a>, <a href="https://github.com/matrix-org/synapse/issues/3909">#3909</a>)</li>
 	<li>Fix the docker image building on python 3 (<a href="https://github.com/matrix-org/synapse/issues/3911">#3911</a>)</li>
 	<li>Add a regression test for logging failed HTTP requests on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3912">#3912</a>)</li>
 	<li>Comments and interface cleanup for on_receive_pdu (<a href="https://github.com/matrix-org/synapse/issues/3924">#3924</a>)</li>
 	<li>Fix spurious exceptions when remote http client closes connection (<a href="https://github.com/matrix-org/synapse/issues/3925">#3925</a>)</li>
 	<li>Log exceptions thrown by background tasks (<a href="https://github.com/matrix-org/synapse/issues/3927">#3927</a>)</li>
 	<li>Add a cache to get_destination_retry_timings (<a href="https://github.com/matrix-org/synapse/issues/3933">#3933</a>, <a href="https://github.com/matrix-org/synapse/issues/3991">#3991</a>)</li>
 	<li>Automate pushes to docker hub (<a href="https://github.com/matrix-org/synapse/issues/3946">#3946</a>)</li>
 	<li>Require attrs 16.0.0 or later (<a href="https://github.com/matrix-org/synapse/issues/3947">#3947</a>)</li>
 	<li>Fix incompatibility with python3 on alpine (<a href="https://github.com/matrix-org/synapse/issues/3948">#3948</a>)</li>
 	<li>Run the test suite on the oldest supported versions of our dependencies in CI. (<a href="https://github.com/matrix-org/synapse/issues/3952">#3952</a>)</li>
 	<li>CircleCI now only runs merged jobs on PRs, and commit jobs on develop, master, and release branches. (<a href="https://github.com/matrix-org/synapse/issues/3957">#3957</a>)</li>
 	<li>Fix docstrings and add tests for state store methods (<a href="https://github.com/matrix-org/synapse/issues/3958">#3958</a>)</li>
 	<li>fix docstring for FederationClient.get_state_for_room (<a href="https://github.com/matrix-org/synapse/issues/3963">#3963</a>)</li>
 	<li>Run notify_app_services as a bg process (<a href="https://github.com/matrix-org/synapse/issues/3965">#3965</a>)</li>
 	<li>Clarifications in FederationHandler (<a href="https://github.com/matrix-org/synapse/issues/3967">#3967</a>)</li>
 	<li>Further reduce the docker image size (<a href="https://github.com/matrix-org/synapse/issues/3972">#3972</a>)</li>
 	<li>Build py3 docker images for docker hub too (<a href="https://github.com/matrix-org/synapse/issues/3976">#3976</a>)</li>
 	<li>Updated the installation instructions to point to the matrix-synapse package on PyPI. (<a href="https://github.com/matrix-org/synapse/issues/3985">#3985</a>)</li>
 	<li>Disable USE_FROZEN_DICTS for unittests by default. (<a href="https://github.com/matrix-org/synapse/issues/3987">#3987</a>)</li>
 	<li>Remove unused Jenkins and development related files from the repo. (<a href="https://github.com/matrix-org/synapse/issues/3988">#3988</a>)</li>
 	<li>Improve stacktraces in certain exceptions in the logs (<a href="https://github.com/matrix-org/synapse/issues/3989">#3989</a>)</li>
 	<li>Pin to prometheus_client&lt;0.4 to avoid renaming all of our metrics (<a href="https://github.com/matrix-org/synapse/issues/4002">#4002</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;09&#x2F;28&#x2F;this-week-in-matrix-2018-09-28&#x2F;" title="This Week in Matrix 2018-09-28">This Week in Matrix 2018-09-28</a></h1>
            <span>
                28.09.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="dsn-traveller">DSN Traveller</h2>
<p>If you've spent any time using Matrix public rooms, you've probably seen the bot <code>DSN Traveller</code>. This is a post-grad project from Florian Jacob, an informatics student at the <a href="https://kit.edu/">Karlsruhe Institute for Technology</a>. This week, Florian handed in his thesis on Matrix!</p>
<blockquote>
<p>In summary, I could show that Matrix has few large but many small servers. Large servers reduce the overall network load, but a significant fraction of the load is concentrated in them. Introducing more small servers would further increase the load concentration. The Matrix event graph as a Conflict-Free Replicated Data Type showed to be well-suited for reliable messaging and history synchronization, and is applicable beyond Matrix.<br />I'm now working on a scientific paper on the results, which will boil down the more than 80 pages of the thesis to something much more digestible. ? You'll hear it in TWIM when that is finished!</p>
<p>Room for discussions: <a href="https://matrix.to/#/#dsn-traveller:matrix.org">#dsn-traveller:matrix.org</a><br />Website with more information on the DSN Traveller: <a href="https://dsn-traveller.dsn.scc.kit.edu/">https://dsn-traveller.dsn.scc.kit.edu/</a></p>
</blockquote>
<p>This really is exciting stuff! The thesis will be made available online in the future (we'll post it here.) Florian is also hoping to continue his work into Matrix research:</p>
<blockquote>
<p>I'm currently in the process of trying to secure funding for a doctorate with Matrix as the topic, as that's where I can proof experience.</p>
</blockquote>
<p><a href="/blog/wp-content/uploads/2018/09/dsn_logo.png"><img class="alignnone size-full wp-image-3604" src="/blog/wp-content/uploads/2018/09/dsn_logo.png" alt="" width="136" height="128" /></a></p>
<h3 id="open-science-matrix-vgorcum-com">#open-science:matrix.vgorcum.com</h3>
<p>All this talk of academia led <a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a> and <a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> to create <a href="https://matrix.to/#/#open-science:matrix.vgorcum.com">#open-science:matrix.vgorcum.com</a>, room for discussion of Open Science topics.</p>
<h2 id="half-shot-irc-connection-tracker">Half-Shot IRC Connection Tracker</h2>
<p>As you may know, although he's now back studying for the final year of his Computer Science degree, <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> will continue to dedicate some time to bridge maintenance. He's been working on <a href="https://github.com/Half-Shot/irc-conntrack/">IRC Connection Tracker</a>, the next gen bridge for Matrix-IRC:</p>
<blockquote>
<p>The IRC connection tracker has had yet more code and love applied to it. The headline changes are:</p>
<ul>
 	<li>We now have a fully working IRC client that can connect to an IRCd, join channels and chat. These client's persist over &gt; the lifetime of the service.</li>
 	<li>There is a tool included with the service <code>ircctl</code> which allows you to spawn and use connections en masse. It also lets &gt; you list the state of the currently connected clients.</li>
 	<li>Work has just begun on a client library for connecting this up to the bridge, but should be swiftly completed thanks to…</li>
 	<li>A brand new spec website in the works for describing the protocol (thanks Brendan for pointing me in the right direction)</li>
</ul>
</blockquote>
<p>Spec docs: <a href="https://half-shot.github.io/irc-conntrack/">https://half-shot.github.io/irc-conntrack/</a>
Repo: <a href="https://github.com/Half-Shot/irc-conntrack/">https://github.com/Half-Shot/irc-conntrack/</a>
Room: <a href="https://matrix.to/#/#irc-conntrack:half-shot.uk">#irc-conntrack:half-shot.uk</a></p>
<h2 id="fractal">Fractal</h2>
<p><a href="@afranke:matrix.org">Alexandre Franke</a> has the handle on <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>, the Matrix client for GNOME:</p>
<blockquote>
<p>This week in Fractal, more refactoring and small bugfixes. About 50 commits by 5 people, one of which made their first contributions this week (congrats Rasmus!).</p>
</blockquote>
<p><a href="https://matrix.to/#/@iamjsparber:matrix.org">Julian Sparber</a>, who was part of <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> on the Fractal team, has been working on Room History:</p>
<blockquote>
<p>The room history refactor I was working on for fractal is upstream, now we can start to improve how messages are displayed and make the loading of older messages better.</p>
</blockquote>
<p>Julian is also pleased to still be heavily involved with Fractal outside GSOC.</p>
<h2 id="synapse">Synapse</h2>
<p><a href="/blog/2018/09/24/synapse-0-33-5-released/">Synapse 0.33.5.1</a> was released with Py3 beta support:</p>
<blockquote>
<p>0.33.5.1 is an interesting release. On the one hand it contains the usual bug fixes and performance improvements of a point release, but it also our first versioned release where monolith installs can be run under Python 3.5 and 3.6! Python 3 support is very much in beta, so please be cautious but if you would like to try running under a py3 environment we'd love to get your feedback.</p>
</blockquote>
<p>Check out <a href="https://hub.docker.com/r/avhost/docker-matrix/tags/">https://hub.docker.com/r/avhost/docker-matrix/tags/</a> for Python 3 docker images of Synapse, look for the <code>v0.33.5.1.dev.py3</code> tag.<br />Says <a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a>:</p>
<blockquote>
<p>it is functional, but much like python3 support it is still a work in progress, hence the larger size</p>
</blockquote>
<h2 id="matrix-on-hyperboria">Matrix on Hyperboria</h2>
<p><a href="https://matrix.to/#/@jan.christian:gruenhage.xyz">jcg</a> has set up hypertrix.ovh:</p>
<blockquote>
<p>I spent last night setting up hypertrix.ovh, a matrix server only listening on <a href="https://docs.meshwith.me/">Hyperboria</a>, a cjdns based end-to-end encrypted IPv6 overlay mesh network. I'd be glad if someone could be found to peer and federate with me there! Registration is open, but your client needs to be connected to Hyperboria to be able to talk to the server.</p>
</blockquote>
<p>If you are currently using Hyperboria, go join hypertrix.ovh, or start your matrix server listening on it, and go chat to JC!</p>
<h2 id="seaglass">Seaglass</h2>
<p>Lots of discussion about this project, specifically the question of how to efficiently render Rich Text. macOS does not make this easy, so a solution being considered is to use a WebKit for room rendering:</p>
<blockquote>
<p>WebKit has the advantage of being super super fast on macOS, and also very low overheads<br />The current approach uses Cocoa NSTableViews and it's horrible because Apple clearly couldn't decide how they wanted them to work and therefore it's not very optimised<br />Moving to WebKit only adds about 16mb to the RAM usage and redraws far faster than the NSTableViews can when resizing etc, and we'll save a lot on the text formatting too which currently is a bit of a mess</p>
</blockquote>
<h2 id="cadair-and-half-shot-on-the-slack-bridge">Cadair and Half-Shot on the Slack Bridge</h2>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> has been helping <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> with bridge maintenance, specifically by <a href="https://github.com/matrix-org/matrix-appservice-slack/pull/91">contributing to matrix-appservice-slack</a>.</p>
<p><a href="https://github.com/matrix-org/matrix-appservice-slack">matrix-appservice-slack</a> is a Node project, built on <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a>, which is designed to bridge messages and metadata between Slack and Matrix. These updates:</p>
<ul>
 	<li>Improves pills substitutions to use the new slack mentions</li>
 	<li>Add Gitter style edit bridging</li>
 	<li>Adds a config option to specify the directory the user-store.db and room-store.db files go in</li>
 	<li>Converts slack snippets to inline code dumps in matrix</li>
</ul>
<h2 id="ma1uta-tests-for-client">ma1uta tests for client</h2>
<p><a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> has been adding tests to <a href="https://github.com/ma1uta/jmsdk">jmsdk</a>.</p>
<h2 id="spectral">Spectral</h2>
<p><a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> has been working on the client formerly-known-as-Matrique: <a href="https://gitlab.com/spectral-im/spectral">Spectral</a>:</p>
<blockquote>
<p>I added elevation shadows for some components, such as message bubble, panels, etc.</p>
</blockquote>
<p><a href="/blog/wp-content/uploads/2018/09/spectral-raised.png"><img class="alignnone size-full wp-image-3603" src="/blog/wp-content/uploads/2018/09/spectral-raised.png" alt="" width="960" height="674" /></a></p>
<h2 id="native-tor-onion-service-enabled-for-matrix-org-and-riot-im">Native Tor onion service enabled for matrix.org and riot.im</h2>
<p>Cloudflare now provide Onion routing, this service has been enabled for matrix.org and riot.im. Cloudflare have a thorough explanation which is worth reading: <a href="https://blog.cloudflare.com/cloudflare-onion-service/">https://blog.cloudflare.com/cloudflare-onion-service/</a>.</p>
<blockquote>
<p dir="ltr" lang="en">We just turned on the new native Tor onion service support for <a href="https://t.co/vidAnPoIo2">https://t.co/vidAnPoIo2</a> & <a href="https://t.co/UIjS6gDkvf">https://t.co/UIjS6gDkvf</a> in cloudflare; feedback welcome! <a href="https://t.co/keXC4bjo5F">https://t.co/keXC4bjo5F</a> <a href="https://t.co/nTRmGHCt8P">pic.twitter.com/nTRmGHCt8P</a></p>
<p>— Matrix (@matrixdotorg) <a href="https://twitter.com/matrixdotorg/status/1045612532038344704?ref_src=twsrc%5Etfw">September 28, 2018</a></p>
</blockquote>
<h2 id="spec">Spec</h2>
<p>September was mainly spent cleaning up loose ends on the Spec after <a href="/blog/2018/09/03/matrix-spec-update-august-2018/">all the releases at the end of August</a>, and catching up on the never-ending maintenance burden of improving Synapse.  However, in October the plan is to to go back again to working full out on the S2S r0 release. Wish us luck...</p>
<h2 id="riot">Riot</h2>
<ul>
 	<li>Lazy loading members is now on by default on riot.im/develop - reducing Riot's RAM by 3-5x.  Please give it a go and test it before we ship it in Riot 0.17 (probably next week) so we can iron out any last bugs (which will probably look like user profiles going missing)</li>
 	<li>Lazy loading also ships by default in Riot/iOS in Testflight 0.7.4 - if you want in on Testflight let us know in #riot-ios:matrix.org and we'll share an invite link!</li>
 	<li>Lazy loading in Riot/Android coming real soon now; it's behind a labs flag on the develop branch if you want to experiment.</li>
 	<li>Travis has started attacking the Riot/Web '<a href="https://github.com/vector-im/riot-web/projects/12">First Impressions</a>' project (starting with unbreaking onboarding in Riot/Web when GDPR consent is enabled)</li>
 	<li>Lots and lots of UX work from Nad on E2E, Communities, Onboarding and the overall redesign, complete with a <a href="https://twitter.com/RiotChat/status/1044609832609861632">redesign workshop</a> with Jouni.</li>
 	<li>Aiming for end of Oct for first cut of redesign to be live as an experimental branch on riot.im.</li>
 	<li>Lots and lots of E2E implementation work in general; backups, cross-signing, and verification.</li>
</ul>
<h2 id="the-end-is-nigh">The end is nigh!</h2>
<p>But only for this blog post! Check out Matrix Live below, and we'll see you back here next week. :D</p>
<p>https://youtu.be/zo4IH4nUQ9w</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;09&#x2F;24&#x2F;synapse-0-33-5-released&#x2F;" title="Synapse 0.33.5.1 released!">Synapse 0.33.5.1 released!</a></h1>
            <span>
                24.09.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Folks, Synapse 0.33.5.1 is here.</p>
<p>0.33.5.1 is an interesting release. On the one hand it contains the usual bug fixes and performance improvements of a point release, but it also our first versioned release where monolith installs can be run under Python 3.5 and 3.6! Python 3 support is very much in beta, so please be cautious but if you would like to try running under a py3 environment we'd love to get your feedback.</p>
<p>We've been running it ourselves for the past few weeks, and feel pretty good about it, not least the 2-3x improvement in RAM usage.</p>
<p>Currently the only way to run under python 3 is to download via github, there is no deb support as yet, though this will come as soon as we are confident to recommend python 3 as the default version.</p>
<p>We'll be blogging about our porting project in more detail in the future, so watch this space - exciting times!</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.5.1">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, for the first time, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>.</p>
<h2 id="synapse-0-33-5-1">Synapse 0.33.5.1</h2>
<h3 id="internal-changes">Internal Changes</h3>
<ul>
 	<li>Fix incompatibility with older Twisted version in tests. Thanks <a class="user-mention" href="https://github.com/OlegGirko" data-hovercard-user-id="6013515" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@OlegGirko</a>! (<a href="https://github.com/matrix-org/synapse/issues/3940">#3940</a>)</li>
</ul>
<h2 id="synapse-0-33-5">Synapse 0.33.5</h2>
<h3 id="features">Features</h3>
<ul>
 	<li>Python 3.5 and 3.6 support is now in beta. (<a href="https://github.com/matrix-org/synapse/issues/3576">#3576</a>)</li>
 	<li>Implement <code>event_format</code> filter param in <code>/sync</code> (<a href="https://github.com/matrix-org/synapse/issues/3790">#3790</a>)</li>
 	<li>Add synapse_admin_mau:registered_reserved_users metric to expose number of real reaserved users (<a href="https://github.com/matrix-org/synapse/issues/3846">#3846</a>)</li>
</ul>
<h3 id="bugfixes">Bugfixes</h3>
<ul>
 	<li>Remove connection ID for replication prometheus metrics, as it creates a large number of new series. (<a href="https://github.com/matrix-org/synapse/issues/3788">#3788</a>)</li>
 	<li>guest users should not be part of mau total (<a href="https://github.com/matrix-org/synapse/issues/3800">#3800</a>)</li>
 	<li>Bump dependency on pyopenssl 16.x, to avoid incompatibility with recent Twisted. (<a href="https://github.com/matrix-org/synapse/issues/3804">#3804</a>)</li>
 	<li>Fix existing room tags not coming down sync when joining a room (<a href="https://github.com/matrix-org/synapse/issues/3810">#3810</a>)</li>
 	<li>Fix jwt import check (<a href="https://github.com/matrix-org/synapse/issues/3824">#3824</a>)</li>
 	<li>fix VOIP crashes under Python 3 (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/issues/3821" data-error-text="Failed to load issue title" data-id="358016305" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3821">#3821</a>) (<a href="https://github.com/matrix-org/synapse/issues/3835">#3835</a>)</li>
 	<li>Fix manhole so that it works with latest openssh clients (<a href="https://github.com/matrix-org/synapse/issues/3841">#3841</a>)</li>
 	<li>Fix outbound requests occasionally wedging, which can result in federation breaking between servers. (<a href="https://github.com/matrix-org/synapse/issues/3845">#3845</a>)</li>
 	<li>Show heroes if room name/canonical alias has been deleted (<a href="https://github.com/matrix-org/synapse/issues/3851">#3851</a>)</li>
 	<li>Fix handling of redacted events from federation (<a href="https://github.com/matrix-org/synapse/issues/3859">#3859</a>)</li>
 	<li>(<a href="https://github.com/matrix-org/synapse/issues/3874">#3874</a>)</li>
 	<li>Mitigate outbound federation randomly becoming wedged (<a href="https://github.com/matrix-org/synapse/issues/3875">#3875</a>)</li>
</ul>
<h3 id="internal-changes-1">Internal Changes</h3>
<ul>
 	<li>CircleCI tests now run on the potential merge of a PR. (<a href="https://github.com/matrix-org/synapse/issues/3704">#3704</a>)</li>
 	<li>http/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3771">#3771</a>)</li>
 	<li>Improve human readable error messages for threepid registration/account update (<a href="https://github.com/matrix-org/synapse/issues/3789">#3789</a>)</li>
 	<li>Make /sync slightly faster by avoiding needless copies (<a href="https://github.com/matrix-org/synapse/issues/3795">#3795</a>)</li>
 	<li>handlers/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3803">#3803</a>)</li>
 	<li>Limit the number of PDUs/EDUs per federation transaction (<a href="https://github.com/matrix-org/synapse/issues/3805">#3805</a>)</li>
 	<li>Only start postgres instance for postgres tests on Travis CI (<a href="https://github.com/matrix-org/synapse/issues/3806">#3806</a>)</li>
 	<li>tests/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3808">#3808</a>)</li>
 	<li>crypto/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3822">#3822</a>)</li>
 	<li>rest/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3823">#3823</a>)</li>
 	<li>add some logging for the keyring queue (<a href="https://github.com/matrix-org/synapse/issues/3826">#3826</a>)</li>
 	<li>speed up lazy loading by 2-3x (<a href="https://github.com/matrix-org/synapse/issues/3827">#3827</a>)</li>
 	<li>Improved Dockerfile to remove build requirements after building reducing the image size. (<a href="https://github.com/matrix-org/synapse/issues/3834">#3834</a>)</li>
 	<li>Disable lazy loading for incremental syncs for now (<a href="https://github.com/matrix-org/synapse/issues/3840">#3840</a>)</li>
 	<li>federation/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3847">#3847</a>)</li>
 	<li>Log when we retry outbound requests (<a href="https://github.com/matrix-org/synapse/issues/3853">#3853</a>)</li>
 	<li>Removed some excess logging messages. (<a href="https://github.com/matrix-org/synapse/issues/3855">#3855</a>)</li>
 	<li>Speed up purge history for rooms that have been previously purged (<a href="https://github.com/matrix-org/synapse/issues/3856">#3856</a>)</li>
 	<li>Refactor some HTTP timeout code. (<a href="https://github.com/matrix-org/synapse/issues/3857">#3857</a>)</li>
 	<li>Fix running merged builds on CircleCI (<a href="https://github.com/matrix-org/synapse/issues/3858">#3858</a>)</li>
 	<li>Fix typo in replication stream exception. (<a href="https://github.com/matrix-org/synapse/issues/3860">#3860</a>)</li>
 	<li>Add in flight real time metrics for Measure blocks (<a href="https://github.com/matrix-org/synapse/issues/3871">#3871</a>)</li>
 	<li>Disable buffering and automatic retrying in treq requests to prevent timeouts. (<a href="https://github.com/matrix-org/synapse/issues/3872">#3872</a>)</li>
 	<li>mention jemalloc in the README (<a href="https://github.com/matrix-org/synapse/issues/3877">#3877</a>)</li>
 	<li>Remove unmaintained "nuke-room-from-db.sh" script (<a href="https://github.com/matrix-org/synapse/issues/3888">#3888</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;09&#x2F;21&#x2F;this-week-in-matrix-2018-09-21&#x2F;" title="This Week in Matrix 2018-09-21">This Week in Matrix 2018-09-21</a></h1>
            <span>
                21.09.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="nheko-0-6-0-released">Nheko 0.6.0 released!</h2>
<p>Get <a href="https://github.com/mujx/nheko/releases/v0.6.0">latest stable releases from GitHub</a>.</p>
<h3 id="features">Features</h3>
<ul>
 	<li>Support for sending & receiving markdown formatted messages.</li>
 	<li>Import/Export of megolm session keys. (Incompatible with Riot)</li>
 	<li>macOS: The native emoji picker can be used.</li>
 	<li>Context menu option to show the raw text message of an event.</li>
 	<li>Rooms with unread messages are marked in the room list.</li>
 	<li>Clicking on a user pill link will open the user profile.</li>
</ul>
<h2 id="spec-proposals-e2e-cross-signing-and-bi-directional-key-verification">Spec Proposals: E2E Cross-signing and bi-directional key verification</h2>
<p><a href="https://matrix.to/#/@uhoreg:matrix.org">uhoreg</a> has written up a new <a href="https://github.com/matrix-org/matrix-doc/pull/1681">work-in-progress proposal for E2E cross-signing</a>.</p>
<blockquote>
<p>Also, although it wasn't this week, I don't think that we have previously announced the proposal for bi-directional key verification using QR codes: <a href="https://github.com/matrix-org/matrix-doc/pull/1544">https://github.com/matrix-org/matrix-doc/pull/1544</a></p>
</blockquote>
<h2 id="jeon">Jeon</h2>
<p>Massive update from <a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> about his <a href="https://gitlab.com/ma1uta/jeon">Jeon</a> project! This update brings Jeon into line with the most recent updates to the Client-Server, Application Service, Push and Identity APIs.</p>
<p>In ma1uta's words:</p>
<blockquote>
<p>Jeon is a set of the java interfaces and classes which describes the Matrix API.</p>
<ul>
 	<li>client-api: r0.4.0-1 corresponds to the r0.4.0 C2S API.</li>
 	<li>application-api: r0.1.0-1 corresponse to the r0.1.0 AS API,</li>
 	<li>push-api: r0.1.0-1 corresponds to the r0.1.0 PUSH API,</li>
 	<li>identity-api: r0.1.0-1 corresponds to the r0.1.0 IS API.</li>
 	<li>All artefacts available from the Maven Central Repository.</li>
</ul>
Major changes:
<ul>
 	<li>Full support for the corresponding Matrix api.</li>
 	<li>Changed version for displaying the Matrix api version.</li>
 	<li>Added support to the asynchronous responses.</li>
</ul>
Also updated the swagger schemas generated from the code:
<ul>
 	<li><a href="https://ma1uta.github.io/swagger/c2s.json">https://ma1uta.github.io/swagger/c2s.json</a> - C2S API</li>
 	<li><a href="https://ma1uta.github.io/swagger/as.json">https://ma1uta.github.io/swagger/as.json</a> - AS API</li>
 	<li><a href="https://ma1uta.github.io/swagger/push.json">https://ma1uta.github.io/swagger/push.json</a> - PUSH API</li>
 	<li><a href="https://ma1uta.github.io/swagger/id.json">https://ma1uta.github.io/swagger/id.json</a> - IS API</li>
</ul>
And the first hotfix: application-api r0.1.0-2 with fixed url (/transactions has been changes to the _matrix/app/v1/transactions). And this release will break all AS because synapse sends transactions to the old url.
</blockquote>
<p>Join <a href="https://matrix.to/#/#jeon:matrix.org">#jeon:matrix.org</a> to discuss the progress of this product more.</p>
<h2 id="voip-signalling-support-has-landed-in-libqmatrixclient">VoIP signalling support has landed in libQMatrixClient</h2>
<p>Exciting times for <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>!! Thanks <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>, developer of libQMatrixClient and <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a>:</p>
<blockquote>
<p>After some pretty long time of being in a PR/fork, VoIP signalling support has landed in libQMatrixClient! Many thanks to mariogrip (the founder of UBports) for the initial code and to delijati (a developer behind <a href="https://github.com/uMatriks/uMatriks">uMatriks</a>) for getting it to work with the most recent library.<br />The actual VoIP stack does not come included, client developers have to take whatever WebRTC implementation is available for their platform and glue the pieces together. However, as the example of uMatriks shows, this now becomes relatively easy if your platform is on good terms with WebRTC (like UBports). I look forward to further work with UBports community on keeping this platform a first-class Matrix citizen.</p>
</blockquote>
<p>Go chat in <a href="https://matrix.to/#/#quaternion:matrix.org">#quaternion:matrix.org</a> to see the ways libQMatrixClient is developing.</p>
<h2 id="matrique-is-now-spectral">Matrique is now Spectral</h2>
<p>After intense discussion, there is a new name for Matrique: <strong>Spectral</strong>. The repo now sites at <a href="https://gitlab.com/spectral-im/spectral">https://gitlab.com/spectral-im/spectral</a>, there is a new room at <a href="https://matrix.to/#/#spectral:encom.eu.org">#spectral:encom.eu.org</a>, and a new logo:</p>
<p><img src="spectral.logo.png" alt="" /><a href="/blog/wp-content/uploads/2018/09/spectral.logo_.png"><img class="alignnone size-full wp-image-3580" src="/blog/wp-content/uploads/2018/09/spectral.logo_.png" alt="" width="128" height="128" /></a></p>
<h2 id="fluffychat-featured-in-openstore">FluffyChat featured in OpenStore</h2>
<p><a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a> is getting some love from OpenStore, the official Ubuntu Touch app store: this week it was the featured app.</p>
<p><img src="fluffychat-openstore.png" alt="" /><a href="/blog/wp-content/uploads/2018/09/fluffychat-openstore.png"><img class="alignnone size-full wp-image-3579" src="/blog/wp-content/uploads/2018/09/fluffychat-openstore.png" alt="" width="540" height="960" /></a></p>
<h2 id="matrix-corporal">Matrix Corporal</h2>
<p><a href="https://matrix.to/#/@slavi:devture.com">@slavi:devture.com</a>, creator of <a href="https://github.com/devture/matrix-corporal">Matrix Corporal</a> (a Matrix server configuration tool - &quot;Kubernetes for Matrix&quot;):</p>
<blockquote>
<p><a href="https://github.com/devture/matrix-corporal">Matrix Corporal</a> has received <a href="https://github.com/devture/matrix-corporal/blob/2c65b573261cc19c3a0a1cb10168257b953200e8/CHANGELOG.md">some updates</a> over the past few weeks since its initial release: a couple of additional HTTP APIs for retrieving/destroying user access tokens; more consistency with the Matrix Client-Server specification when it comes to error responses; faster reconciliation for user accounts that are joined to many/large rooms.</p>
</blockquote>
<h2 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h2>
<p>Another project from <a href="https://matrix.to/#/@slavi:devture.com">@slavi:devture.com</a>, for those who prefer their DevOps ansible-flavoured:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> now also helps you <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-well-known.md">set up service discovery</a> as per the <a href="/docs/spec/client_server/r0.4.0.html#server-discovery">.well-known Matrix specification</a>.</p>
</blockquote>
<h2 id="jcg-ansible-pr-for-matrix-notifications">jcg ansible PR for matrix notifications</h2>
<p>jcg has an <a href="https://github.com/ansible/ansible/pull/45823">upstream PR to have matrix notifications in ansible</a>. Combined with Slavi's <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> above, you can get Matrix notifications about issues with your Matrix deployment…</p>
<h2 id="seaglass-e2e-self-update">Seaglass E2E + self-update</h2>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a>:</p>
<blockquote>
<p><a href="https://github.com/neilalexander/seaglass">Seaglass</a> end-to-end encryption support is now complete, including device verification and blacklisting, key sharing requests, key import and export (which should be compatible with Riot) and re-requesting keys</p>
</blockquote>
<p>This is really exciting news for macOS matrix users!</p>
<blockquote>
<p>I'm also working on auto-updating Seaglass with <a href="https://matrix.to/#/@aaron:raim.ist">Aaron Raimist</a>'s help in addition to finishing E2E support :-)</p>
</blockquote>
<p>:-) is right!</p>
<h2 id="ma1uta-jmsdk">ma1uta jmsdk</h2>
<p><a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> must have been in a work-on-Matrix mode this week, because he has also updated <a href="https://github.com/ma1uta/jmsdk">jmsdk</a>:</p>
<blockquote>
<p>I have released a new version of the java client (<a href="https://github.com/ma1uta/jmsdk/tree/master/client-sdk">https://github.com/ma1uta/jmsdk/tree/master/client-sdk</a>). The new client works is asynchronous mode, each method doesn't block the thread and return the CompletableFuture (promise in java). Then you can block thread to get the response or build a asynchronous promises chain.</p>
</blockquote>
<p>Finally:<br />ma1uta is also looking forward to the release of Java 11:</p>
<blockquote>
<p>with the Curve25519 key agreement (http://openjdk.java.net/jeps/324) and will try make a pure java implementation of the olm/megolm. Just for fun. :)</p>
</blockquote>
<h2 id="synapse-purge">synapse-purge</h2>
<p><a href="@maze:strahlungsfrei.de">Maze</a>, seeing that his synapse database was already at several gigabytes, decided to produce a tool to shrink it:</p>
<blockquote>
<p>The <a href="https://github.com/djmaze/synapse-purge/">synapse-purge</a> tool allows homeserver admins to free disk space by purging old room events from the synapse database. It is an alternative for <em>synpurge</em> which <a href="https://github.com/djmaze/synapse-purge/issues/27">currently does not work correctly</a>.</p>
<p>Configuration is minimalistic at the moment. Meaning it purges all remote rooms on the server with a globally configured preservation period.</p>
</blockquote>
<h2 id="synapse">synapse</h2>
<p><a href="https://matrix.to/#/@andrew:shadura.me">andrewsh</a>: <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.4">0.33.4</a> uploaded to Debian's stretch-backports, pending approval.</p>
<p><a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.5rc1">0.33.5rc1</a> is now available, with the big news being the inclusion of support for Python 3.5 and 3.6! Hawkowl's Py3 has merged for monoliths and is working pretty well, looking like 2-3x RAM improvement. Please help us test!</p>
<p>Erik's state compressor tool is pretty much finished, we've been starting to run it on things and it reduces disk usage for the state group table by at least 10x.</p>
<p>The only catch is that it's quite DB heavy whilst it runs, so we haven't run it on Matrix.org yet.</p>
<h2 id="fractal">Fractal</h2>
<p><a href="@afranke:matrix.org">Alexandre Franke</a> and the <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> team:</p>
<blockquote>
<p>refactoring of the history and other parts is going on in the master branch of <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>. We also cleaned up build and dependency related bits.</p>
</blockquote>
<h2 id="maubot-and-sedbot">maubot and sedbot</h2>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>:</p>
<blockquote>
<p>I made some updates to <a href="https://github.com/maubot/maubot">maubot</a> and fixed most of the <a href="https://github.com/maubot/sed">sedbot</a> (S. Edbot) issues people had reported.</p>
</blockquote>
<p>tulir used maubot to create a <a href="https://github.com/maubot/factorial">factorial bot</a>:
&gt;</p>
<blockquote>
<p><img src="factorialbot.png" alt="" /><a href="/blog/wp-content/uploads/2018/09/factorialbot.png"><img class="alignnone size-full wp-image-3578" src="/blog/wp-content/uploads/2018/09/factorialbot.png" alt="" width="244" height="149" /></a></p>
</blockquote>
<blockquote>
<p>I might also make some useful bots soon</p>
</blockquote>
<p>And so it was - late breaking news that maubot has been used to develop a Dictionary-definition-bot! Not available for public use yet but it proves that the project is useful!</p>
<h2 id="riot-web">Riot Web</h2>
<p>Lazy Loading remains the focus, we're getting closer with more bugs solved this week! To enable Lazy Loading room members and get speed and memory benefits in Riot, use the <a href="https://riot.im/develop/">develop branch</a> and enable &quot;Lazy Loading&quot; under &quot;Labs&quot; in the settings.</p>
<p>Lots of final bug hunting for lazy loading - this is taking longer than you might expect because we're doing end-to-end CI everywhere.</p>
<p>Lots of work on E2E, Dave has been working on:</p>
<blockquote>
<p>UI for e2e key backup that's waiting for some lower level bits<br />and hopefully our e2e core code is moving from asm.js to webassembly making it, by current estimations, significantly faster.</p>
</blockquote>
<p>Redesign work continuing as well - Bruno has been working on it this week, Jouni the designer will visit next week to continue the process.</p>
<p>Nad has joined us to help with design bandwidth and is working on the onboarding flows for the redesign as well as fixing all the UX issues in Communities!</p>
<h2 id="riot-mobile-mobile-sdks">Riot Mobile + Mobile SDKs</h2>
<p>Lots of work on Lazy Loading - to be released along with Riot Web.</p>
<h2 id="bridges">Bridges</h2>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> is joining us to work part-time on bridges going forwards - this is great news, especially for his connection-based IRC bridging antics as well as catching up on the PR and maintenance backlog for the IRC bridge and Slack bridge.</p>
<h2 id="modular">Modular</h2>
<p><a href="https://modular.im/">Modular</a> (Hosted Homeservers) has first customers; if you want to give it a go please let us know!</p>
<h2 id="finally">Finally</h2>
<p>Thanks for reading, take a look at Matrix Live below!</p>
<iframe src="https://www.youtube.com/embed/pusCGlJaZxU" frameBorder="0" allowFullScreen="allowfullscreen"></iframe>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;09&#x2F;15&#x2F;this-week-in-matrix-2018-09-14&#x2F;" title="This Week in Matrix 2018-09-14">This Week in Matrix 2018-09-14</a></h1>
            <span>
                15.09.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
                
            </span>
            
        </header>
        <div>
            <h2 id="dimension">Dimension</h2>
<p><strong>Update</strong> (this got lost in the original post; sorry Travis!): <a href="https://dimension.t2bot.io/">Dimension</a> received a security update - if you run your own Dimension instance it is strongly recommended you update right away. Telegram bridge support in Dimension is underway, with more updates expected for next week in Matrix.</p>
<h2 id="clients">Clients</h2>
<h3 id="fluffychat">Fluffychat</h3>
<p>It's been some months since we checked in with <a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a>. If you're a Ubuntu Touch user, or have a device running it, you should see the progress that has been made recently on this Matrix client. Collected changelog 0.5.0 to latest (0.5.4):</p>
<ul>
 	<li>Search chats</li>
 	<li>Chat avatars</li>
 	<li>Search users in chats</li>
 	<li>Security & Privacy settings:</li>
</ul>
<ol>
 	<li>Disable typing notifications</li>
 	<li>Auto-accept invitations</li>
</ol>
<ul>
 	<li>New message status:</li>
</ul>
<ol>
 	<li>Sending: Activity indicator</li>
 	<li>Sent: Little cloud</li>
 	<li>Received: Tick</li>
 	<li>Seen by someone: Usericon</li>
</ol>
<ul>
 	<li>Display stickers</li>
 	<li>Minor UI improvements</li>
 	<li>FluffyChat now automatically opens the link to the matrix.org consens</li>
 	<li>Updated translations</li>
</ul>
<a href="/blog/wp-content/uploads/2018/09/2018-09-14-fluffychat.png"><img class="alignnone size-large wp-image-3560" src="/blog/wp-content/uploads/2018/09/2018-09-14-fluffychat-576x1024.png" alt="" width="576" height="1024" /></a>
<h3 id="seaglass">Seaglass</h3>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil</a> has been keeping up the pace with <a href="https://github.com/neilalexander/seaglass">Seaglass</a> development:</p>
<blockquote>
<p>Seaglass has had a substantial rewrite to the room cache to help improve reliability and reduce crashes, better thumbnail behaviour on inline images, various tiny visual tweaks, in-window blending, support for encryption key sharing requests for E2E rooms.</p>
<p>Rendering performance has been massively increased (if you ignore the occasional bug). Resizing the window shouldn't be so slow anymore and a lot of avatar image operations are no longer repeated unnecessarily</p>
<p>Other than that this week has mostly featured lots and lots of bug fixes, hopefully lots of crashes fixed.</p>
</blockquote>
<p>Screenshot below shows the new E2E UI:</p>
<p><a href="/blog/wp-content/uploads/2018/09/2018-09-14-seaglass-e2e-ui.png"><img class="alignnone size-large wp-image-3561" src="/blog/wp-content/uploads/2018/09/2018-09-14-seaglass-e2e-ui-1024x627.png" alt="" width="1024" height="627" /></a></p>
<h3 id="quaternion">Quaternion</h3>
<p>When not escaping typhoons, <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> has found some time to continue work on Quaternion:</p>
<blockquote>
<p><a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a>'s master branch is alive again - it's been prone to crashes in the last two weeks, now it shouldn't. Feel free to try the new room list organised by tag!</p>
</blockquote>
<h3 id="simplematrix">SimpleMatrix</h3>
<p><a href="https://matrix.to/#/@MTRNord:matrix.ffslfl.net">MTRNord</a> has been working on SimpleMatrix:</p>
<blockquote>
<p><a href="https://gitlab.com/Nordgedanken/SimpleMatrix">SimpleMatrix</a> now supports Basic messages sending (with Commonmark) and basic receiving of messages.</p>
</blockquote>
<h3 id="minivector">miniVector</h3>
<p><a href="https://matrix.to/#/@bubuiic:matrix.org">Marcus</a> has re-packaged miniVector for F-Droid:</p>
<blockquote>
<p>There's now a second matrix client available in F-Droid: <a href="https://f-droid.org/packages/com.lavadip.miniVector/">https://f-droid.org/packages/com.lavadip.miniVector/</a></p>
<p>This is a fork of Riot Android done by hrjet, f-droid release done by me. It's removing mostly jitsi group call functionality and some other smaller stuff. In doing so it manages to require far less permissions and is also only 12 MB in size instead of riots 20 MB.</p>
</blockquote>
<h3 id="matrique">Matrique</h3>
<p><a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>:</p>
<blockquote>
<p>Matrique gained alpha support for multiple accounts</p>
</blockquote>
<p>This is thanks to leaning on libqmatrixclient's native multiple account support!</p>
<p><a href="/blog/wp-content/uploads/2018/09/2018-09-14-matrique-multiple-accounts.png"><img class="alignnone size-full wp-image-3562" src="/blog/wp-content/uploads/2018/09/2018-09-14-matrique-multiple-accounts.png" alt="" width="960" height="674" /></a></p>
<h3 id="riot-web-0-16-4-released">Riot Web 0.16.4 released</h3>
<p>This is pretty much a maintenance release - fixing the DM avatar regression that crept in with 0.16.3, adding better support for warning users when their client hasn't yet synced with the server, and the final bits of work needed before we can turn on membership Lazy Loading in the upcoming Riot 0.17.</p>
<p>Full changelogs as always are split over the three projects which make up Riot/Web:</p>
<ul>
 	<li><a href="https://github.com/vector-im/riot-web/blob/master/CHANGELOG.md#changes-in-0164-2018-09-10">https://github.com/vector-im/riot-web/blob/master/CHANGELOG.md#changes-in-0164-2018-09-10</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-react-sdk/blob/master/CHANGELOG.md#changes-in-0134-2018-09-10">https://github.com/matrix-org/matrix-react-sdk/blob/master/CHANGELOG.md#changes-in-0134-2018-09-10</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-js-sdk/blob/master/CHANGELOG.md#changes-in-0110-rc1-2018-09-07">https://github.com/matrix-org/matrix-js-sdk/blob/master/CHANGELOG.md#changes-in-0110-rc1-2018-09-07</a></li>
</ul>
<h2 id="sdks-and-libraries">SDKs and Libraries</h2>
<h3 id="libqmatrixclient-ecosystem">libQMatrixClient ecosystem</h3>
<p>As you may know, <a href="https://gitlab.com/b0/matrique-go">Matrique</a>, led by <a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>, and <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a>, led by <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>, are both projects build using <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>, a Qt5 library from <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> designed for writing Matrix clients. While <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> has been working on the library for some time, <a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> has also now
started making contributions:</p>
<blockquote>
<p>libQMatrixClient now has a pkg-config file to further ease clients building on Linux systems, as well as more convenient API to track read markers if all users, not just of the local one.</p>
</blockquote>
<h3 id="matrix-js-sdk-v0-11-0-released"><a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a> v0.11.0 released</h3>
<p><a href="https://github.com/matrix-org/matrix-js-sdk/releases">This release contains</a> support for lazy loading room members, and also some breaking changes relating to <code>startClient()</code>.</p>
<blockquote>
<ul>
 	<li>Support for lazy loading members. This should improve performance for users who joined big rooms a lot. Pass to <code>lazyLoadMembers = true</code> option when calling <code>startClient</code>.</li>
 	<li><code>MatrixClient::startClient</code> now returns a Promise. No method should be called on the client before that promise resolves. Before this method didn't return anything.</li>
 	<li>A new <code>CATCHUP</code> sync state, emitted by <code>MatrixClient#"sync"</code> and returned by <code>MatrixClient::getSyncState()</code>, when doing initial sync after the <code>ERROR</code> state. See <code>MatrixClient</code> documentation for details.</li>
 	<li><code>RoomState::maySendEvent('m.room.message', userId)</code> & <code>RoomState::maySendMessage(userId)</code> do not check the membership of the user anymore, only the power level. To check if the syncing user is allowed to write in a room, use <code>Room::maySendMessage()</code> as <code>RoomState</code> is not always aware of the syncing user's membership anymore, in case lazy loading of members is enabled.</li>
</ul>
</blockquote>
<h2 id="synapse">Synapse</h2>
<p>Synapse 0.33.4 <a href="/blog/2018/09/11/synapse-0-33-4-released/">was released</a>, with a whole host of bug fixes, some enhancements to resource usage management and a bunch of internal changes in readiness for room member state lazy loading and our ongoing port to Python 3.</p>
<p>Meanwhile, Python 3 support for monolithic (non-worker) Synapses has finally landed on the develop branch, thanks to massive work from hawkowl and notafile - if you want to help us test and flush out any remaining byte/utf8 style errors, please create a virtualenv for python 3.6 or 3.5 (twisted doesn't support 3.7 yet) and point the develop branch of Synapse at it, tail the logs for ERRORs and report them via <a href="https://github.com/matrix-org/synapse/issues">Github</a> if/when you see them.  In practice it seems pretty stable though, and noticeably reduces RAM and speeds things up thanks to improved GC and general performance work in Python.</p>
<p>We've also discovered that <a href="http://jemalloc.net/">jemalloc</a> works <em>very</em> well at improving RAM usage on Python 2 under Linux (we haven't tried it on Python 3 yet) by providing a more fragmentation-resistant malloc implementation; if you are having problems with your Synapse RAM spiking up we recommend giving it a go.  All of the Matrix.org server is using it now.</p>
<p>Also, lots of ops work this week; Erik has prototyped a <a href="https://github.com/erikjohnston/rust-synapse-compress-state">new storage strategy for state groups</a> which shrinks storage requirements by 10x, we'll be applying this shortly to Matrix.org otherwise we're going to run out of disk space.  There was also a regression on Synapse develop on federation, where outbound requests would get stuck and never retry - this impacted the matrix.org server badly over the course of the week, but as of Friday night we have a <a href="https://github.com/matrix-org/synapse/pull/3875/files">workaround</a> in place.  We're not aware of it affecting anyone other than the matrix.org deployment (and we haven't got to the root cause yet).</p>
<h2 id="construct-homeserver-progress">Construct homeserver progress</h2>
<p>This week:</p>
<blockquote>
<p>Added notification counts which show up in Riot now, and expanded support for g++-7 and 8 instead of just g++-6. Construct repository is found at: <a href="https://github.com/matrix-construct/construct">https://github.com/matrix-construct/construct</a>.</p>
</blockquote>
<h2 id="irc-connection-tracker">IRC Connection Tracker</h2>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> is continuing to work on the project to split out IRC connection management from the IRC bridge, letting the bridge be restarted without interrupting IRC connections!</p>
<p>The project is going quite well, and is going to be used on matrix.org once production ready which will really speed up upgrades and give us near zero downtime indifferent to the size of the bridge.</p>
<p>At the moment the project has the ability to spin up and maintain connections, however the connections are not supporting IRC fully yet as there are bits to do on the parsing and maintaining state side. There is also work on a top-like tool to visualise and control the service outside of the bridge so we can quickly handle any oddities if they come up. Finally, it allows you to hot reload the configuration without dropping existing connections!</p>
<p>On the work done to support this on matrix-appservice-bridge, there is basic support for stating connections on the bridge but it's in early stages at the moment.</p>
<h2 id="spec">Spec</h2>
<p>Travis has been tidying up loose bits on the Matrix spec this week:</p>
<ul>
 	<li>experimenting with splitting out the "Room" specific bits of the spec into a <a href="https://github.com/matrix-org/matrix-doc/pull/1669">dedicated section</a> rather than being split between the CS and SS APIs;</li>
 	<li>trying to pin down a <a href="https://github.com/matrix-org/matrix-doc/pull/1607">formal grammar for room aliases</a></li>
 	<li>...and <a href="https://github.com/matrix-org/matrix-doc/pull/1598">identifiers in general</a>.</li>
</ul>
In practice, finalising the S2S API is now blocked on proving the implementation on Synapse; work on this will resume next week and then we'll document the end result and ship the r0 at last.  Timings are going to be completely determined by available manpower and what level of ops distractions we face (c.f. the Synapse section above...).  Whilst we're waiting for the final S2S details to get hashed out, Travis is going to be helping on Riot dev, to try to stop <a href="https://twitter.com/amarendra/status/1040782285807603714">stuff like this</a>, as there's no point in having the platonic ideal of a perfect spec if actual users are unable to benefit from it.
<h2 id="matrix-dev">#matrix-dev</h2>
<p><a href="https://matrix.to/#/#matrix-dev:matrix.org">#matrix-dev:matrix.org</a> was reborn as a new room a couple of weeks ago to flush out old corrupted events, but maybe not everyone knows. Come join <a href="https://matrix.to/#/#matrix-dev:matrix.org">#matrix-dev:matrix.org</a>, it's a starting point for all developers looking to build on the platform.  We're also rebuilding #test:matrix.org and #riot:matrix.org, although once we ship the new state resolution</p>
<h2 id="a-sneak-peek-at-modular">A sneak peek at Modular...</h2>
<p><a href="https://modular.im"><img class="aligncenter wp-image-3567 size-medium" src="/blog/wp-content/uploads/2018/09/Screenshot-2018-09-15-at-11.11.00-1-300x49.png" alt="" width="300" height="49" /></a></p>
<p>Finally, there's been a massive amount of work on the <a href="https://vector.im">New Vector</a> side of things to soft-launch <a href="https://modular.im">Modular</a> - a paid hosting platform for Matrix servers (and, in future, paid integrations).  At this point we're looking for early adopters who want a dedicated Riot+Synapse for communities or companies of 50 or more users - but don't want to have to run it themselves.  Modular takes the homeserver hosting we've already been providing for <a href="https://chat.status.im">Status</a>, <a href="https://tadhack.riot.im">TADHack</a> and others, and turns it into a mass-market product.  The pricing for early adopters is over 5x cheaper than Slack, so if you've been dying to have a reliable, fast and expertly maintained homeserver without any of the headaches of admining one yourself, please head over to <a href="https://modular.im">https://modular.im</a> and give it a whirl and let us know how it goes!  This is also a great way to support Matrix development in general, as money from Modular will directly keep the core Matrix team funded to work on Matrix.  Once we're happy with the soft-launch and have incorporated any feedback we'll start yelling about it as loud as we can :)</p>
<h2 id="matrix-live">Matrix Live</h2>
<p>We've had a bit of an accidental hiatus on Matrix Live thanks to getting submerged all the different project endgames happening atm (spec releases, lazy loading, Modular, Riot redesign etc), and for the last few Fridays we've got to midnight and beyond with too much still on the todo list to justify recording a video.  But to avoid completely falling behind, here's a slightly exhausted Saturday morning update instead (warning: Matthew is not a morning person).</p>
<iframe src="https://www.youtube.com/embed/7m5adJ2n_-0" frameBorder="0" allowFullScreen="allowfullscreen"></iframe>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;09&#x2F;11&#x2F;synapse-0-33-4-released&#x2F;" title="Synapse 0.33.4 released!">Synapse 0.33.4 released!</a></h1>
            <span>
                11.09.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Roll up, roll up, get it while it's hot, Synapse 0.33.4 is here.</p>
<p>This release brings together a whole host of bug fixes, some enhancements to resource usage management and a bunch of internal changes in readiness for room member state lazy loading and our ongoing port to Python 3 (we are hoping to ship a py3 test candidate rsn!).</p>
<p>As ever, you can get the new update from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.4">https://github.com/matrix-org/synapse/releases/tag/v0.33.4</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>.</p>
<h4 id="features">Features</h4>
<ul>
 	<li>Support profile API endpoints on workers (<a href="https://github.com/matrix-org/synapse/issues/3659">#3659</a>)</li>
 	<li>Server notices for resource limit blocking (<a href="https://github.com/matrix-org/synapse/issues/3680">#3680</a>)</li>
 	<li>Allow guests to use /rooms/:roomId/event/:eventId (<a href="https://github.com/matrix-org/synapse/issues/3724">#3724</a>)</li>
 	<li>Add mau_trial_days config param, so that users only get counted as MAU after N days. (<a href="https://github.com/matrix-org/synapse/issues/3749">#3749</a>)</li>
 	<li>Require twisted 17.1 or later (fixes <a href="https://github.com/matrix-org/synapse/issues/3741">#3741</a>). (<a href="https://github.com/matrix-org/synapse/issues/3751">#3751</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Fix error collecting prometheus metrics when run on dedicated thread due to threading concurrency issues (<a href="https://github.com/matrix-org/synapse/issues/3722">#3722</a>)</li>
 	<li>Fix bug where we resent "limit exceeded" server notices repeatedly (<a href="https://github.com/matrix-org/synapse/issues/3747">#3747</a>)</li>
 	<li>Fix bug where we broke sync when using limit_usage_by_mau but hadn't configured server notices (<a href="https://github.com/matrix-org/synapse/issues/3753">#3753</a>)</li>
 	<li>Fix 'federation_domain_whitelist' such that an empty list correctly blocks all outbound federation traffic (<a href="https://github.com/matrix-org/synapse/issues/3754">#3754</a>)</li>
 	<li>Fix tagging of server notice rooms (<a href="https://github.com/matrix-org/synapse/issues/3755">#3755</a>, <a href="https://github.com/matrix-org/synapse/issues/3756">#3756</a>)</li>
 	<li>Fix 'admin_uri' config variable and error parameter to be 'admin_contact' to match the spec. (<a href="https://github.com/matrix-org/synapse/issues/3758">#3758</a>)</li>
 	<li>Don't return non-LL-member state in incremental sync state blocks (<a href="https://github.com/matrix-org/synapse/issues/3760">#3760</a>)</li>
 	<li>Fix bug in sending presence over federation (<a href="https://github.com/matrix-org/synapse/issues/3768">#3768</a>)</li>
 	<li>Fix bug where preserved threepid user comes to sign up and server is mau blocked (<a href="https://github.com/matrix-org/synapse/issues/3777">#3777</a>)</li>
</ul>
<h4 id="internal-changes">Internal Changes</h4>
<ul>
 	<li>Removed the link to the unmaintained matrix-synapse-auto-deploy project from the readme. (<a href="https://github.com/matrix-org/synapse/issues/3378">#3378</a>)</li>
 	<li>Refactor state module to support multiple room versions (<a href="https://github.com/matrix-org/synapse/issues/3673">#3673</a>)</li>
 	<li>The synapse.storage module has been ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3725">#3725</a>)</li>
 	<li>Split the state_group_cache into member and non-member state events (and so speed up LL /sync) (<a href="https://github.com/matrix-org/synapse/issues/3726">#3726</a>)</li>
 	<li>Log failure to authenticate remote servers as warnings (without stack traces) (<a href="https://github.com/matrix-org/synapse/issues/3727">#3727</a>)</li>
 	<li>The CONTRIBUTING guidelines have been updated to mention our use of Markdown and that .misc files have content. (<a href="https://github.com/matrix-org/synapse/issues/3730">#3730</a>)</li>
 	<li>Reference the need for an HTTP replication port when using the federation_reader worker (<a href="https://github.com/matrix-org/synapse/issues/3734">#3734</a>)</li>
 	<li>Fix minor spelling error in federation client documentation. (<a href="https://github.com/matrix-org/synapse/issues/3735">#3735</a>)</li>
 	<li>Remove redundant state resolution function (<a href="https://github.com/matrix-org/synapse/issues/3737">#3737</a>)</li>
 	<li>The test suite now passes on PostgreSQL. (<a href="https://github.com/matrix-org/synapse/issues/3740">#3740</a>)</li>
 	<li>Fix MAU cache invalidation due to missing yield (<a href="https://github.com/matrix-org/synapse/issues/3746">#3746</a>)</li>
 	<li>Make sure that we close db connections opened during init (<a href="https://github.com/matrix-org/synapse/issues/3764">#3764</a>)</li>
 	<li>Unignore synctl in .dockerignore to fix docker builds (<a href="https://github.com/matrix-org/synapse/issues/3802">#3802</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;09&#x2F;08&#x2F;this-week-in-matrix-2018-09-07&#x2F;" title="This Week In Matrix 2018-09-07">This Week In Matrix 2018-09-07</a></h1>
            <span>
                08.09.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <hr />
<p>Hi all,</p>
<p>Ben's away today, so this TWIM is brought to you mainly in association with Cadair's TWIMbot!</p>
<h2 id="spec-activity">Spec Activity</h2>
<p>Since <a href="/blog/2018/09/03/matrix-spec-update-august-2018/">last week's sprint to get the new spec releases</a> out, focus on the core team has shifted exclusively to the remaining stuff needed to cut the first stable release for the Server-Server API.  In practice this means fleshing out the MSCs in flight and implementing them - work has progressed on both improving auth rules, switching event IDs to be hashes and others.  Whilst implementing this in Synapse we're also doing a complete audit and overhaul of the current federation code, hence the <a href="/blog/2018/09/06/critical-security-update-synapse-0-33-3-1/">0.33.3.1</a> security release this week.</p>
<p>Meanwhile, in the community, ma1uta reports:</p>
<blockquote>
<p>I am working on the <a href="https://github.com/ma1uta/jeon">jeon</a> (java matrix api) to update it to the latest stable release. Also I changed versions of api to form <code>rX.Y.Z-N</code> where <code>rX.Y.Z</code> is a API version and <code>N</code> is a library version within API. So, I have prepared Push API (r0.1.0-1), Identity API (r0.1.0-1) and Appservice API (r0.1.0-1) for the first release and current updating the C2S API to the r0.4.0 version.</p>
</blockquote>
<h2 id="xmpp-bridging">XMPP Bridging</h2>
<p>Are you in the market for a Matrix-XMPP bridge? When I say &quot;market&quot;, I mean it because this week we have <em>two </em>announcements for bridging to XMPP! You can choose whether you'd prefer your bridge to be implemented as a puppet, or a bot.</p>
<p>Ma1uta has a new version of <a href="https://github.com/ma1uta/matrix-jabber-java-bridge">his Matrix-Xmpp bridge</a>:</p>
<blockquote>
<p>It is a double-puppet bridge which can connects the Matrix and XMPP ecosystems. Just invite the <code>@_xmpp_master:ru-matrix.org</code> and tell him: <code>@_xmpp_master: connect test@conference.jabber.org</code> to connect current room with the specified conference.<br />You can ask about this bridge in the <a href="https://matrix.to/#/#matrix-jabber-java-bridge:ru-matrix.org">#matrix-jabber-java-bridge:ru-matrix.org</a> room.<br />Currently supports only conferences and only <code>m.text</code> messages. 1:1 conversations and other message types will be later.</p>
</blockquote>
<p>maze appeared this week and announced <a href="https://github.com/djmaze/mxbridge">MxBridge</a>, a new Matrix-XMPP bridge:</p>
<blockquote>
<p>It works as a bot, so it is non-puppeting. Rooms can be mapped dynamically by the bot administrator(s). There is no support for 1-1 chats (yet). MxBridge is written as a multi-process application in Elixir and it should scale quite well (but don't tie me down on it ;)). <a href="https://github.com/djmaze/mxbridge">https://github.com/djmaze/mxbridge</a></p>
</blockquote>
<h2 id="seaglass">Seaglass</h2>
<p>Neil powers onwards with <a href="https://github.com/neilalexander/seaglass">Seaglass</a>, with updates this week including:</p>
<ul>
 	<li>Displaying stickers</li>
 	<li>Lazy-loading room history on startup to help with performance</li>
 	<li>Scrollback support (both forwards and backwards)</li>
 	<li>Support for Matthew's Account (aka retries on initial sync for those of us with massive initial syncs, and general perf improvements to nicely support &gt;2000 rooms)</li>
 	<li>Better avatar support & cosmetics on macOS Mojave</li>
 	<li>Encryption verification support, device blacklisting and message information</li>
 	<li>Ability to turn encryption on in rooms</li>
 	<li>Responding to encryption being turned on in rooms</li>
 	<li>Paranoid mode for encryption (only send to verified devices)</li>
 	<li>Invitation support (both in UI and /invite)</li>
</ul>
<a href="/blog/wp-content/uploads/2018/09/seaglass.jpg"><img class="aligncenter wp-image-3547" src="/blog/wp-content/uploads/2018/09/seaglass-1024x681.jpg" alt="" width="826" height="550" /></a>
<h2 id="matrique">Matrique</h2>
<p>Blackhat announces that <a href="https://gitlab.com/b0/matrique">Matrique's</a> new design is almost done, along with GNU/Linux, MacOS and Windows nightly build!</p>
<h2 id=""><a href="/blog/wp-content/uploads/2018/09/matrique.png"><img class="aligncenter size-full wp-image-3546" src="/blog/wp-content/uploads/2018/09/matrique.png" alt="" width="960" height="674" /></a></h2>
<h2 id="fractal">Fractal</h2>
<p>Alexandre Franke says:</p>
<blockquote>
<p>Fractal 3.30 got release alongside the rest of GNOME. It includes a bunch of new and updated translations, and redacted messages are now hidden.</p>
</blockquote>
<p>Meanwhile, hidden in this screenshot, uhoreg noted that E2E plans are progressing...</p>
<p><a href="/blog/wp-content/uploads/2018/09/fractal.png"><img class="aligncenter size-full wp-image-3548" src="/blog/wp-content/uploads/2018/09/fractal.png" alt="" width="831" height="210" /></a></p>
<h2 id="riot">Riot</h2>
<p>Bruno has been hacking away on Riot/Web squashing the remaining Lazy Loading Members defects and various related optimisations and fixes. We also released Riot/Web 0.16.3 as a fairly minor point release (which unfortunately has a regression with DM avatars, which is fixed in 0.16.4, for which a first RC was cut a few hours ago and should be released on Monday).  Meanwhile the first cut of Lazy Loading also got implemented on Android as well. Both are hidden behind labs flags, but we're almost at a point where we can turn it on now!  Otherwise, the Riot team has got sucked into working on commercial Matrix stuff, for better or worse (all shall be revealed shortly though!)</p>
<h2 id="construct">Construct</h2>
<p>Jason has been working heavily on Construct, and has new test users.  Construct is able to federate with Synapse and the rest of the Matrix ecosystem.  mujx has created a docker for Construct which streamlines its deployment.</p>
<blockquote>
<p>Construct development is still occurring here <a href="https://github.com/jevolk/charybdis">https://github.com/jevolk/charybdis</a> but we are now significantly closer to pushing the first release to <a href="https://github.com/matrix-construct">https://github.com/matrix-construct</a>. Also feel free to stop by in <a href="https://matrix.to/#/#test:zemos.net" rel="nofollow">#test:zemos.net</a> / <a href="https://matrix.to/#/#zemos-test:matrix.org" rel="nofollow">#zemos-test:matrix.org</a> as well -- a room hosted by Construct, of course.</p>
<p>tulir has now deployed using the standalone install instructions on a very small LXC VM using ZFS. Unfortunately ZFS does not support O_DIRECT (direct disk IO) which is how Construct achieves maximum performance using concurrent reads. This is not a problem though when using an SSD or for personal deployments. I'll be posting more about how Construct hacked RocksDB to use direct IO, which can get the most out of your hardware with multiple requests in-flight (even with an SSD).</p>
</blockquote>
<h2 id="synapse">Synapse</h2>
<p>Work was split this week into spec/security work, with the critical update for <a href="/blog/2018/09/06/critical-security-update-synapse-0-33-3-1/">0.33.3.1</a> - if you haven't upgraded, please do so immediately.</p>
<p>Otherwise, Hawkowl has been on a mission to finish the Python 3 port, which is now almost merged.  Testers should probably wait until it fully merges to the develop branch and we'll yell about it then, but impatient adrenaline enthusiasts may want to check out the hawkowl/py3-3 branch (although it may explode in your face, mangle your DB and format your cat, and probably misses lots of recent important PRs like the 0.33.3.1 stuff).  However, i've been running a variant on some servers for the last few days without problems - and it seems (placebo effect notwithstanding) incredibly snappy...</p>
<p>Meanwhile, the Lazy Loaded Member implementation got sped up by 2-3x, which makes /sync roughly 2-3x faster than it would be without Lazy Loading.  This hasn't merged yet, but was the main final blocker behind Lazy Loading going live!</p>
<h2 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h2>
<p>Slavi reports:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy" target="_blank" rel="noopener">matrix-docker-ansible-deploy</a> now supports bridging to <a href="https://telegram.org/" target="_blank" rel="noopener">Telegram</a> by installing <a class="mx_UserPill" title="@tulir:maunium.net" data-reactroot="">tulir</a>'s <a href="https://github.com/tulir/mautrix-telegram" target="_blank" rel="noopener">mautrix-telegram</a> bridge. This feature is contributed by <a href="https://github.com/izissise" target="_blank" rel="noopener">@izissise.</a></p>
<p>In addition, Matrix Synapse is now more configurable from the playbook, with support for enabling stats-reporting, event cache size configurability, password peppering.</p>
</blockquote>
<h2 id="matrix-python-sdk-needs-a-maintainer">Matrix Python SDK needs a maintainer</h2>
<p>We should say a huge <strong>Thank You</strong> to &amp;Adam for his work leading the Python SDK over the previous months! Unfortunately due to a busy home life (best of luck for the second child!) he has decided to step down as lead maintainer. Anyone interested in this project should head to <a href="https://github.com/matrix-org/matrix-python-sdk/issues/279">https://github.com/matrix-org/matrix-python-sdk/issues/279</a>, and also come and chat in <a href="https://matrix.to/#/#matrix-python-sdk:matrix.org">#matrix-python-sdk:matrix.org.</a></p>
<h2 id="matrixtoybots">MatrixToyBots!</h2>
<p><a href="https://matrix.to/#/@Coffee:matrix.org">Coffee</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$1536260231366792ZSvnG:matrix.org">reports that</a>:</p>
<blockquote>
<p>A new bot appears! Are you a pedantic academic who likes to correct others' misuse of Latin-derived plurals? This task can now be automated for you by means of <a href="https://gitlab.com/Matrixcoffee/MatrixToyBots">SingularBot</a>! Also for people who just like to have some fun. Free PongBot and SmileBot included.</p>
</blockquote>
<h2 id="kitsune-on-hokkaido-island">kitsune on Hokkaido island</h2>
<blockquote>
<p>I ended up being on Hokkaido island right when a major earthquake struck it; so no activity on Matrix from me in the nearest couple of days. Also, donations to <a href="https://globalgiving.org/projects/hokkaido-earthquake-response/" rel="nofollow">GlobalGiving for the disaster relief are welcome</a> because people are really struggling here (abusing the communication channel, sorry).</p>
</blockquote>
<h2 id="matrix-live">Matrix Live</h2>
<p>...has got delayed again; sorry - we're rather overloaded atm. We'll catch up as soon as we can.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;2018&#x2F;09&#x2F;06&#x2F;critical-security-update-synapse-0-33-3-1&#x2F;" title="Critical Security Update: Synapse 0.33.3.1">Critical Security Update: Synapse 0.33.3.1</a></h1>
            <span>
                06.09.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Hi All,</p>
<p>As referenced in yesterday's <a href="/blog/2018/09/05/pre-disclosure-upcoming-critical-security-fix-for-synapse/">pre-disclosure</a>, today we are releasing Synapse 0.33.3.1 as a critical security update.</p>
<p>We have patched two security vulnerabilities we identified whilst working on the upcoming r0 spec release for the Server-Server API (see details below). We do not believe either have been exploited in the wild, but strongly recommend everybody running a federated Synapse upgrades immediately. </p>
<p>As always you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.3.1">here</a> or from any of the sources mentioned at <a href="https://github.com/matrix-org/synapse/">https://github.com/matrix-org/synapse/</a></p>
<p>Many thanks for your patience and understanding; with fixes like this we are moving ever closer to Synapse reaching a 1.0 Thanks also to the package maintainers who have coordinated with us to ensure distro packages are available for a speedy upgrade!</p>
<p>Note, for anyone running Debian Jessie, we have prepared a 0.33.2.1 deb (as 0.33.3 dropped support for Jessie).</p>
<h3 id="synapse-0-33-3-1-2018-09-06">Synapse 0.33.3.1 (2018-09-06)</h3>
<h4 id="security-fixes">SECURITY FIXES</h4>
<ul>
 	<li>Fix an issue where event signatures were not always correctly validated (<a href="https://github.com/matrix-org/synapse/issues/3796">#3796</a>)</li>
 	<li>Fix an issue where server_acls could be circumvented for incoming events (<a href="https://github.com/matrix-org/synapse/issues/3796">#3796</a>)</li>
</ul>
<h4 id="internal-changes">Internal Changes</h4>
<ul>
 	<li>Unignore synctl in .dockerignore to fix docker builds (<a href="https://github.com/matrix-org/synapse/issues/3802">#3802</a>)</li>
</ul>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;page&#x2F;46&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">47 / 68</span>
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.turbo.fish&#x2F;blog&#x2F;page&#x2F;48&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p><a href="/legal/copyright-notice">Copyright Notice</a></p>
</footer>

</body>

</html>
