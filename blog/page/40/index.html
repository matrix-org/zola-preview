<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    </head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;06&#x2F;08&#x2F;this-week-in-matrix-2018-06-08&#x2F;" title="This Week in Matrix 2018-06-08">This Week in Matrix 2018-06-08</a></h1>
            <span>
                08.06.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h1 id="gsoc-updates">GSOC Updates</h1>
With the first evaluation date coming up, let's take a look at what some of the GSOC students have been working on.
<h2 id="zil0-on-the-matrix-python-sdk"><a href="https://matrix.to/#/@Zil0:matrix.org">Zil0</a> on the <a href="https://github.com/matrix-org/matrix-python-sdk">matrix-python-sdk</a></h2>
<blockquote>I am working on implementing end-to-end encryption in the <a href="https://github.com/matrix-org/matrix-python-sdk">Python SDK</a>. As of now, I have done a good part of the encryption and decryption work with Olm and Megolm, enough to allow communicating with Riot in an encrypted room. My next goals include device list tracking and key persistence, which are the main steps left before the implementation starts being usable in a real environment.</blockquote>
<h2 id="apwhitehat-on-dendrite"><a href="https://matrix.to/#/@apwhitehat:matrix.org">apwhitehat</a> on Dendrite</h2>
<blockquote>My aim is to achieve feature completion on <a href="https://github.com/matrix-org/dendrite">Dendrite</a>. Have got lots of help from <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a>, for which I'm very grateful.</blockquote>
Features worked on this month:
<blockquote>
<ul>
 	<li>we made a transactions cache/table for idempotency. So now dendrite will not reprocess events as far as client-server api is concerned.</li>
 	<li>added request authentication function which recognises an application service user (partially landed.)</li>
 	<li>username auto generation, which let's you register without username (will be used for guest access later.)</li>
 	<li>We also added a tokens library based on macaroons, however we might not be using it anytime soon. Since it's been known to be very problematic (on synapse).</li>
 	<li>Other small bug fixes not big enough to mention.</li>
</ul>
</blockquote>
<h1 id="clients">Clients</h1>
We are rich in client announcements this week!
<h2 id="palaver">palaver</h2>
<a href="https://matrix.to/#/@arne:matrix.localtoast.de">Arne</a> has announced v0.1.0 of <a href="https://github.com/MrCustomizer/palaver/">Palaver</a>:
<blockquote>More news from the JVM-world: I've just released the first Alpha version (v0.1.0) of Palaver, a Desktop client written in Kotlin: <a href="https://github.com/MrCustomizer/palaver/releases/tag/v0.1.0">https://github.com/MrCustomizer/palaver/releases/tag/v0.1.0</a>. As backend it uses the <a href="https://github.com/kamax-io/matrix-java-sdk">matrix-java-sdk</a>, the GUI is written in TornadoFX, a Kotlin-Wrapper for JavaFX. The room for this client is <a href="https://matrix.to/#/#palaver:matrix.localtoast.de">#palaver:matrix.localtoast.de</a>. The current features are listed in the changelog: <a href="https://github.com/MrCustomizer/palaver/blob/v0.1.0/CHANGELOG.md">https://github.com/MrCustomizer/palaver/blob/v0.1.0/CHANGELOG.md</a>. And there is a little demo video on youtube, too: <a href="https://www.youtube.com/watch?v=AuGuxAPuRIM">https://www.youtube.com/watch?v=AuGuxAPuRIM</a>.</blockquote>
I enjoyed this video enough that I'm embedding it here:
<div class="video-container"><iframe src="https://www.youtube.com/embed/AuGuxAPuRIM" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe></div>
<h2 id="matrique-returns"><a href="https://gitlab.com/b0/matrique-go">matrique</a> returns</h2>
<a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> is working on <a href="https://gitlab.com/b0/matrique-go">Matrique</a>:
<blockquote>a matrix client using golang and QtQuick controls 2.
It is not ready...Yet. PRs and issues are welcomed!</blockquote>
<h2 id="neilalexander-and-the-hard-to-name-osx-client-now--seaglass"><a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a> has a new macOS Client: seaglass</h2>
<a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a> has begun work on "<a href="https://github.com/neilalexander/seaglass">seaglass</a>", a client for macOS using <a href="https://github.com/matrix-org/matrix-ios-sdk">matrix-ios-sdk</a>, he's only just begun, but for now see the screenshot below:
<p><a href="/blog/wp-content/uploads/2018/06/neilalexander-osx-client-1.png"><img class="alignnone size-full wp-image-3301" src="/blog/wp-content/uploads/2018/06/neilalexander-osx-client-1.png" alt="" width="1896" height="1336" /></a></p>
<h2 id="kitsune--gtad-and-libqmatrixclient"><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>: <a href="https://github.com/KitsuneRal/gtad">GTAD</a> and <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a></h2>
<a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> has announced <a href="https://github.com/KitsuneRal/gtad">GTAD</a> v0.6 and <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a> v0.3. We've covered <a href="https://github.com/KitsuneRal/gtad">GTAD</a> before, but I think it's worth including this note from the readme:
<blockquote>GTAD (Generate Things from an API Description) is a generator of code from a Swagger/OpenAPI specification. Initially made to generate marshalling/unmarshalling C++ code for Matrix CS API, it can be extended to support other API descriptions and other programming languages with static type checking.</blockquote>
<a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> regarding the GTAD 0.6 release:
<blockquote>A new version of API code generator, GTAD, 0.6, has been released today, adding support of variant types, proper dealing with definitions referencing other files ($ref) and more options to override schema names - even defined inline. Most importantly, GTAD has got extensive README.md that describes (most of) the things needed to start writing your own templates! As usual, kitsune will be happy to help those who would like to try it (both with C/C++ projects and other languages).</blockquote>
<blockquote>libQMatrixClient has been benefiting from GTAD over the last 4 months or so - but this is the first release where GTAD is stable and feature-complete enough to be shared with other projects.</blockquote>
<a href="http://matrix.to/#/#gtad:matrix.org">#gtad:matrix.org</a> is the new room for GTAD chat and support.
<p>and <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a> 0.3:</p>
<blockquote>A new version of libQMatrixClient, 0.3, comes out this weekend. This is the first libQMatrixClient release to include (almost) all CS API requests and supplementary (non-event) definitions, thanks to GTAD 0.6. Notably, it now includes jobs to register users, manage devices and keys on the server (no local key management yet - E2E work has just begun). This version also gains centralised request error handling so that clients could deal with problems in a unified way, and support "Consent not given" errors of GDPR fame, so that client authors could automatically open consent pages. You can also trigger logging out of all devices through libQMatrixClient thanks to a very recent addition to CS API spec from <a href="https://github.com/turt2live">TravisR</a>.</blockquote>
<h2 id="fractal">Fractal</h2>
Last week we linked to <a href="https://matrix.to/#/@iamjsparber:matrix.org">Julian</a>'s blog notes on the User Settings panel - this has now landed in <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> master.
<h2 id="nheko">nheko</h2>
<a href="https://github.com/mujx/nheko">nheko</a> v0.4.3 is now available, from the release notes:
<ul>
 	<li>Overdue fixes for some regressions with regard to widget height introduced in the previous two releases</li>
 	<li>The matrix id will be shown on hover on the display name.</li>
</ul>
<h2 id="riot-web">riot-web</h2>
Riot-web: released an RC for 0.15.5. This RC includes some small bugfixes.
<h2 id="riot-android">riot-android</h2>
<blockquote>We have been working on Riot stability: fixing crashes and adding more tools to control code quality
The community on android adds a more readable display of keys and a floating actions menu is coming.</blockquote>
<h2 id="riot-ios">riot-ios</h2>
<blockquote>Working on perf. On stability too (like killing build warnings). Users can now re-request keys when they have UTCs.</blockquote>
<h1 id="other-projects">Other projects</h1>
<h2 id="anoa-on-dendrite"><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> on <a href="https://github.com/matrix-org/dendrite">dendrite</a></h2>
<blockquote>We've got a shiny new application service component which runs as a separate process (if you're doing multiprocess dendrite) that handles all outbound communication to application services. Last week I got event sending working. This week I'm hooking up an internal API for other components (roomserver, c-s api) to talk to the app service component, as we occasionally need to ping AS's to ask about existence of rooms or users. Getting those two endpoints covered is the goal of this week.</blockquote>
<h2 id="ma1uta-full-spec-implementation-in-java"><a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> <em>Full</em> Spec Implementation in Java</h2>
<a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> appeared with an extremely ambitious piece of work. His goal:
<blockquote>I want to create a full spec's implementation on java (all 5 specification). After that I want try to write a homeserver (2 variants: distributed on java+kafka and simple which can run on a light vps). But it's a long-term goal.</blockquote>
So far work has begun on an implementation of the Matrix API in Java:
<blockquote><a href="https://gitlab.com/ma1uta/jeon">https://gitlab.com/ma1uta/jeon</a> - another java implementation of the matrix api (client-server, server-server, application server, push server, identity server) using jax-ws. It corresponds the specification on <a href="/docs/spec">https://matrix.org/docs/spec</a>. On the next step I want dive deep into synapse to parse it's api and fill the gaps of the spec with sending pull request. May be I will write something like a TCK (test compatibility kit).</blockquote>
And an SDK for which there is a sample bot for mastodon:
<blockquote>Also this project has a very early sdk (client, bot). I will fix it after finishing works with the spec.
<a href="https://gitlab.com/ma1uta/mxtoot">https://gitlab.com/ma1uta/mxtoot</a> - matrix-mastodon bridge.
With this bridge you can invite a bot and read your home mastodon's timeline, post messages, reply and boost messages.</blockquote>
There are rooms to follow progress on these projects:
<ul>
 	<li><a href="https://matrix.to/#/#mxtoot:matrix.org">#mxtoot:matrix.org</a> for Matrix-Mastodon bridge.</li>
 	<li><a href="https://matrix.to/#/#jeon:matrix.org">#jeon:matrix.org</a> for Matrix implementation on java.</li>
</ul>
Also find updates on Mastodon: ma1uta@mastodon.social
<h2 id="the-continuing-adventures-of-half-shot-and-the-discord-bridge">The Continuing Adventures of <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> and the <a href="https://github.com/Half-Shot/matrix-appservice-discord">Discord Bridge</a></h2>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> has been at work on <a href="https://github.com/Half-Shot/matrix-appservice-discord">matrix-appservice-discord</a>, and has made a v0.2.0 release! Looong feature list below is taken from <a href="https://github.com/Half-Shot/matrix-appservice-discord/releases/tag/v0.2.0">https://github.com/Half-Shot/matrix-appservice-discord/releases/tag/v0.2.0</a>:
<ul>
 	<li>Support Node v10</li>
 	<li>Option to disable @here and @everyone on the bridge - Permission based mentions coming soon.</li>
 	<li>Sending large files over the Discord limit now sends them as URLs</li>
 	<li>Added support for external and animated emoji - Thanks <a href="https://github.com/Sorunome">@Sorunome</a>!</li>
 	<li>Initial support for m.sticker</li>
 	<li>Sender avatars are now thumbnailed - Thanks <a href="https://github.com/turt2live">@turt2live</a></li>
 	<li>Support for message edits. Thanks <a href="https://github.com/anoadragon453">@anoadragon453</a></li>
 	<li>Support for custom and animated discord emoji parsing M-&gt;D. Thanks <a href="https://github.com/anoadragon453">@anoadragon453</a></li>
 	<li>Throw discord.js logs into our logging to help debug connection issues</li>
 	<li>Warn when turning on encryption that the bridge will no longer work.</li>
 	<li>Clarify where to specify protocols in the registration config. Thanks <a href="https://github.com/anoadragon453">@anoadragon453</a></li>
 	<li>Add attachments into the event store and fix up some of our Inserts. Thanks <a href="https://github.com/eeeeeta">@eeeeeta</a></li>
 	<li>Fail if the event.content.url is not present.</li>
</ul>
+ lots of testing and fixes
<h2 id="t3chguy-matrix-search-including-e2e"><a href="https://matrix.to/#/@x:riot.ovh">t3chguy</a> <a href="https://github.com/matrix-org/matrix-search/">matrix-search</a> including e2e</h2>
<a href="https://matrix.to/#/@x:riot.ovh">t3chguy</a>, straight out of exams, went back to working on <a href="https://github.com/matrix-org/matrix-search/">matrix-search</a>, now with a working release, including e2e chats!
<blockquote>a local Full Text Search engine for Matrix, which will index the events locally and then provide a search api interface for matrix clients to query it
matrix-search mimics the standard /search API</blockquote>
<a href="https://matrix.to/#/@tom:lant.uk">toml</a> has already been looking at this and has created a docker container for it: <a href="https://github.com/matrix-org/matrix-search/tree/toml#to-run-in-a-docker-container">https://github.com/matrix-org/matrix-search/tree/toml#to-run-in-a-docker-container</a>
<h2 id="ananace-on-kubernetes">Ananace on Kubernetes</h2>
<blockquote>Switched the <a href="https://github.com/ananace/matrix-synapse">Kubernetes-oriented Synapse image</a> over to running on the official one as a base, seems to still work quite well. Even if there were some issues at first due to Alpine and busybox.</blockquote>
<blockquote>I've been building slightly specialized Synapse docker images since 0.25.1 - and running them on my Kubernetes cluster at home. Moved them to being based on the official images now instead of building them on CentOS as I used to.</blockquote>
<h2 id="synapse-0310-and-0311-released">Synapse 0.31.0 and 0.31.1 released</h2>
Changes for <a href="/blog/2018/06/06/synapse-v0-31-0-released/">Synapse 0.31.0</a>
<ul>
 	<li>Most notable change from v0.30.0 is to switch to python prometheus library to improve system stats reporting. WARNING this changes a number of prometheus metrics in a backwards-incompatible manner.</li>
 	<li>There are still many changes being made relating to the Python 3 migration.</li>
</ul>
For <a href="/blog/2018/06/08/synapse-0-31-1-released/">Synapse 0.31.1</a>
<blockquote>v0.31.1 fixes a security bug in the “get_missing_events“ federation API where event visibility rules were not applied correctly.</blockquote>
<a href="https://matrix.to/#/@andrew:shadura.me">andrewsh</a> has been packaging synapse for Debian.
<h2 id="guides-index">Guides index</h2>
I'm going to start making a list of guides from around the web to be linked from <a href="https://matrix.org">https://matrix.org</a>. If you have, or know of, useful guides relating to matrix, please <a href="https://matrix.to/#/@benpa:matrix.org">let me know</a> or share in <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a>.
<h1 id="new-rooms">New rooms</h1>
<ul>
 	<li>mentioned above, from <a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a>:
<ul>
 	<li><a href="https://matrix.to/#/#mxtoot:matrix.org">#mxtoot:matrix.org</a> for Matrix-Mastodon bridge.</li>
 	<li><a href="https://matrix.to/#/#jeon:matrix.org">#jeon:matrix.org</a> for Matrix implementation on java.</li>
</ul>
</li>
 	<li><a href="http://matrix.to/#/#gtad:matrix.org">#gtad:matrix.org</a> is <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>'s room for <a href="https://github.com/KitsuneRal/gtad">gtad</a>.</li>
 	<li><a href="https://matrix.to/#/#palaver:matrix.localtoast.de">#palaver:matrix.localtoast.de</a> for Palaver discussion</li>
</ul>
<h1 id="other-points-of-interest">other points of interest</h1>
<ul>
 	<li>things are happening with <a href="https://github.com/FabricLabs/doorman">doorman</a> but I have not checked in for some time</li>
 	<li><a href="@tulir:maunium.net">tulir</a> mentioned that <a href="https://github.com/Dhole">https://github.com/Dhole</a> is working on a matrix Go client and an e2e lib</li>
 	<li>Coffee migrated to Gitlab, including: <a href="https://gitlab.com/Matrixcoffee/matrix-client-core">https://gitlab.com/Matrixcoffee/matrix-client-core</a></li>
 	<li>Naming things is hard. <a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a>'s previously nameless client and <a href="https://gitlab.com/b0/matrique-go">Matrique</a> both came under discussion for naming issues.</li>
 	<li><a href="https://matrix.to/#/@benpa:matrix.org">benpa</a> <em>just</em> discovered VS Code markdown preview and can't believe the time he wasted before</li>
</ul>
<h1 id="the-end-is-nigh">The end is nigh...</h1>
And here it is. As you may have noticed, I'm leaning much more toward quoting wherever possible, rather than trying to paraphrase. The aim is to keep the content authentic and community-driven, rather than a narrative from one fairly naive observer. The risk is it makes the post awkward to read as it switches voice too frequently. Come to <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> and let me know if you have opinions on this.
<p>Check out Matrix Live:</p>
<div class="video-container"><iframe src="https://www.youtube.com/embed/_DQY0qTvyAw" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe></div>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;06&#x2F;06&#x2F;synapse-v0-31-0-released&#x2F;" title="Synapse v0.31.0 released!">Synapse v0.31.0 released!</a></h1>
            <span>
                06.06.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>Good people, it's release time.</p>
<p>With the core team focusing on upcoming performance work and GDPR management tooling, v0.31.0 is most notable for improvements to system stats. Additionally, work continues on our py3 port and a host of small bug fixes and perf improvements.</p>
<p>Get it now from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.31.0">https://github.com/matrix-org/synapse/releases/tag/v0.31.0</a></p>
<h4>Changes in synapse v0.31.0 (2018-06-06)</h4>
Most notable change from v0.30.0 is to switch to python prometheus library to improve system stats reporting. WARNING this changes a number of prometheus metrics in a backwards-incompatible manner. For more details, see<code><a href="https://github.com/matrix-org/synapse/blob/master/docs/metrics-howto.rst">docs/metrics-howto.rst</a></code>
<p>Bug Fixes:</p>
<ul>
 	<li>Fix metric documentation tables (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3341" data-error-text="Failed to load issue title" data-id="329315777" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3341">#3341</a>)</li>
 	<li>Fix LaterGuage error handling (<a class="commit-link" href="https://github.com/matrix-org/synapse/commit/694968fa81aab4eac81309b1e16f6063103dd57f"><tt>694968f</tt></a>)</li>
 	<li>Fix replication metrics (<a class="commit-link" href="https://github.com/matrix-org/synapse/commit/b7e7fd2d0edd4d46aaf9d6afc8df14cf3de911f9"><tt>b7e7fd2</tt></a>)</li>
</ul>
<h4>Changes in synapse v0.31.0-rc1 (2018-06-04)</h4>
Features:
<ul>
 	<li>Switch to the Python Prometheus library (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3256" data-error-text="Failed to load issue title" data-id="325104990" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3256">#3256</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3274" data-error-text="Failed to load issue title" data-id="325830300" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3274">#3274</a>)</li>
 	<li>Let users leave the server notice room after joining (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3287" data-error-text="Failed to load issue title" data-id="326461744" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3287">#3287</a>)</li>
</ul>
Changes:
<ul>
 	<li>daily user type phone home stats (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3264" data-error-text="Failed to load issue title" data-id="325386403" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3264">#3264</a>)</li>
 	<li>Use iter* methods for _filter_events_for_server (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3267" data-error-text="Failed to load issue title" data-id="325614605" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3267">#3267</a>)</li>
 	<li>Docs on consent bits (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3268" data-error-text="Failed to load issue title" data-id="325692950" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3268">#3268</a>)</li>
 	<li>Remove users from user directory on deactivate (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3277" data-error-text="Failed to load issue title" data-id="326163134" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3277">#3277</a>)</li>
 	<li>Avoid sending consent notice to guest users (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3288" data-error-text="Failed to load issue title" data-id="326470814" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3288">#3288</a>)</li>
 	<li>disable CPUMetrics if no /proc/self/stat (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3299" data-error-text="Failed to load issue title" data-id="327143395" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3299">#3299</a>)</li>
 	<li>Add local and loopback IPv6 addresses to url_preview_ip_range_blacklist (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/issues/3312" data-error-text="Failed to load issue title" data-id="327707583" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3312">#3312</a>) Thanks to <a class="user-mention" href="https://github.com/thegcat" data-hovercard-user-id="22835" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@thegcat</a>!</li>
 	<li>Consistently use six's iteritems and wrap lazy keys/values in list() if they're not meant to be lazy (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3307" data-error-text="Failed to load issue title" data-id="327587988" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3307">#3307</a>)</li>
 	<li>Add private IPv6 addresses to example config for url preview blacklist (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3317" data-error-text="Failed to load issue title" data-id="328463163" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3317">#3317</a>) Thanks to <a class="user-mention" href="https://github.com/thegcat" data-hovercard-user-id="22835" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@thegcat</a>!</li>
 	<li>Reduce stuck read-receipts: ignore depth when updating (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3318" data-error-text="Failed to load issue title" data-id="328480595" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3318">#3318</a>)</li>
 	<li>Put python's logs into Trial when running unit tests (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3319" data-error-text="Failed to load issue title" data-id="328483239" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3319">#3319</a>)</li>
</ul>
Changes, python 3 migration:
<ul>
 	<li>Replace some more comparisons with six (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3243" data-error-text="Failed to load issue title" data-id="324637327" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3243">#3243</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>replace some iteritems with six (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3244" data-error-text="Failed to load issue title" data-id="324637417" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3244">#3244</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Add batch_iter to utils (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3245" data-error-text="Failed to load issue title" data-id="324637631" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3245">#3245</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>use repr, not str (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3246" data-error-text="Failed to load issue title" data-id="324637830" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3246">#3246</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Misc Python3 fixes (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3247" data-error-text="Failed to load issue title" data-id="324638685" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3247">#3247</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Py3 storage/_base.py (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3278" data-error-text="Failed to load issue title" data-id="326199044" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3278">#3278</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>more six iteritems (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3279" data-error-text="Failed to load issue title" data-id="326236209" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3279">#3279</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>More Misc. py3 fixes (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3280" data-error-text="Failed to load issue title" data-id="326237427" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3280">#3280</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>remaining isintance fixes (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3281" data-error-text="Failed to load issue title" data-id="326248255" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3281">#3281</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>py3-ize state.py (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3283" data-error-text="Failed to load issue title" data-id="326249587" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3283">#3283</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>extend tox testing for py3 to avoid regressions (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3302" data-error-text="Failed to load issue title" data-id="327341929" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3302">#3302</a>) Thanks to <a class="user-mention" href="https://github.com/krombel" data-hovercard-user-id="11167142" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@krombel</a>!</li>
 	<li>use memoryview in py3 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3303" data-error-text="Failed to load issue title" data-id="327370655" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3303">#3303</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
</ul>
Bugs:
<ul>
 	<li>Fix federation backfill bugs (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3261" data-error-text="Failed to load issue title" data-id="325289139" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3261">#3261</a>)</li>
 	<li>federation: fix LaterGauge usage (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3328" data-error-text="Failed to load issue title" data-id="328820215" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3328">#3328</a>) Thanks to <a class="user-mention" href="https://github.com/intelfx" data-hovercard-user-id="1158172" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@intelfx</a>!</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;06&#x2F;01&#x2F;this-week-in-matrix-2018-06-01&#x2F;" title="This Week in Matrix 2018-06-01">This Week in Matrix 2018-06-01</a></h1>
            <span>
                01.06.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h1 id="gdpr">GDPR</h1>
It's over. It's once again safe to check your email, and we <a href="https://twitter.com/marcusjdl/status/1000027860558581760">got</a> <a href="https://twitter.com/JasonLeeParsons/status/999957139228643328">some</a> <a href="https://twitter.com/rianjohnson/status/999730569641525248">fairly</a> <a href="https://twitter.com/mocent0/status/999385880287744001">good</a> <a href="https://twitter.com/cszabla/status/1001619286090280960">jokes</a> out of the experience.
<h1 id="projects">Projects</h1>
<h2 id="synapse">Synapse</h2>
<a href="https://twitter.com/hawkieowl">hawkowl</a> is technically new to the Matrix Core team but is already integrated and storming the codebase like an old pro. She and <a href="https://matrix.to/#/@notafile:matrix.org">notafile</a> have been ramping up on work to the make the Synapse codebase work with Python 3.
<h2 id="matrixdockeransibledeploycannowsetupyourhomeserverusingtheofficialmatrixsynapsedockerimage">matrix-docker-ansible-deploy can now set up your homeserver using the official Matrix Synapse Docker image</h2>
<a href="https://matrix.to/#/@slavi:devture.com">@slavi:devture.com</a> sent great news: <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> can now set up your homeserver using the official <a href="https://hub.docker.com/r/matrixdotorg/synapse/">Matrix Synapse Docker</a> image. In his words:
<blockquote>Using this Ansible playbook is probably the easiest way to set up a fully-functioning Matrix homeserver on your own machine. The setup includes Matrix Synapse and some related services required to actually make it useful (automatically-managed HTTPS; STUN/TURN server for audio/video calls; Postgres database for Synapse; optionally riot-web; optionally Amazon S3 storage support)</blockquote>
<h2 id="matrixregistration">matrix-registration</h2>
Helpfully named <a href="https://matrix.to/#/@zeratax:dmnd.sh">Zeratax?utf8=✓</a> has released <a href="https://github.com/ZerataX/matrix-registration">matrix-registration</a>, an application which allows you to "easily create tokens to invite users on your homeserver without the need to open up public registration". There is a public demo here: <a href="https://zeratax.github.io/matrix-registration/demo.html">https://zeratax.github.io/matrix-registration/demo.html</a>
<p>Says <a href="https://matrix.to/#/@zeratax:dmnd.sh">Zeratax</a>:</p>
<blockquote>my personal problem was:
i didn't want to open up registration for everyone
i didn't want to register every account manually and have to worry about seeing passwords etc
now i can just share a link, e.g:
https://zeratax.github.io/matrix-registration/demo.html?token=JargonGingerYankee
<p>and my friends can register.</p>
<p>these token can be restricted as one time usable only or by an expiration date.</p>
</blockquote>
<h2 id="dendriteactivity">dendrite activity!</h2>
<a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> writes about progress on <a href="https://github.com/matrix-org/dendrite">dendrite</a>:
<blockquote>Last week dendrite was filtering events from user's into separate queues for each application service to eventually be given. Sending these events requires batching them up into transactions and then sending them to an HTTP endpoint on the application service. I'm happy to report that from today, that functionality is now implemented, along with graceful handling of both server and application service downtime.</blockquote><br /><h2 id="fractal">Fractal</h2><br /><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> from <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> reports:<br /><blockquote>Fractal got the beginning of a revamped directory (from one of our GSoC interns), as well as misc bugfixes and performance improvements. It has also been added to <a href="https://l10n.gnome.org/">Damned lies</a>, the GNOME platform for translations.</blockquote>
<h2 id="neo006">neo 0.06</h2>
<a href="https://github.com/f0x52/neo">neo</a> <a href="https://github.com/f0x52/neo/releases/tag/0.06">v0.06</a> is out now, release notes:
<blockquote>Beautiful new file upload dialog, with previews, captions and the option to cancel. Making 1on1 chat look a bit nicer.
<p>added:
file upload dialog
room canonical alias fallback for name
1on1 room now shows avatar+name of partner</p>
<p>changed:
getting room name/image in initialSync instead of on render, still not optimal
better image/video scaling
better local echo
various bugfixes</p>
</blockquote>
<h1 id="articlesandblogposts">Articles and blog posts</h1>
<h2 id="riotjouniblogpost">Riot Jouni blog post</h2>
<a href="http://riot.im/">Riot</a> is undergoing a visual redesign, thanks to <a href="http://helminen.co/">Jouni Helminen</a>. Take a look at <a href="https://medium.com/@RiotChat/a-sneak-peek-at-a-whole-new-riot-im-1114df653782">the redesign work on the Riot blog</a>. The changes are not radical, but will help standardise and modernise the Riot interface. Early feedback I've seen has been mostly positive.
<h2 id="julianonfractalwork">Julian on Fractal work</h2>
<a href="https://matrix.to/#/@iamjsparber:matrix.org">Julian</a> is a <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> student working on <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>. He's been working to improve the user account setting panel, and has made progress <a href="https://blogs.gnome.org/jsparber/2018/05/28/fractal-gsoc-progress/">as described here</a>.
<blockquote>The user can now change the following settings: Avatar, display name, add and remove email addresses and phone numbers. Also, they can see the homeserver and their own MXID.<br />We will probably make some more small changes on the way to make the UX as good as we possibly can.</blockquote>
<h2 id="fedoramagazinementionoffractal">Fedora Magazine mention of Fractal</h2>
<a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> was <a href="https://fedoramagazine.org/fractal-gnome-matrix-chat-client/">featured in Fedora Magazine</a> this week, just a little introduction. I notice the article barely introduces matrix: not sure if that's an oversight or a belief that the audience will already know it!
<h1 id="newriotthemefrommtrnordblueshine">New Riot theme from MTRNord: blueshine</h1>
<a href="https://matrix.to/#/@MTRNord:matrix.ffslfl.net">MTRNord</a> has started work on "a secondary Dark Riot Theme named blueshine". Lots of <a href="https://github.com/vector-im/riot-web/pull/6816">screenshots are available on the PR</a>, and take a look below too. If you'd like to try it out, <a href="https://github.com/turt2live">TravisR</a> has hosted a <a href="https://t2bot.io/blueshine/">Riot instance with the theme included here</a>.
<img src="https://user-images.githubusercontent.com/1374914/40676029-c5103182-6379-11e8-9008-c12d894b67db.png" alt="blueshine riot theme" />
<h1 id="specproposals">Spec Proposals</h1>
Still posting about spec proposals. To get involved in the spec development process, take a look at the <a href="/docs/spec/proposals">Matrix Spec Change Proposals</a> page to find out what's happening, read the proposals, then talk about it in <a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a>. One proposal looking for attention and a good place to start:
<h2 id="interactivekeyverificationspecproposalfromuhoreg">Interactive Key Verification: Spec proposal from uhoreg</h2>
Long-time contributor <a href="https://matrix.to/#/@uhoreg:matrix.org">uhoreg</a> joined the matrix.org core team this week, and is requesting feedback on a spec proposal relating to <a href="https://docs.google.com/document/d/1SXmyjyNqClJ5bTHtwvp8tT1Db4pjlGVxfPQNdlQILqU/">Interactive Key Verification</a>. Reminder that the <a href="/docs/spec/proposals">list of spec proposals is tracked here</a>, and to join the discussion in <a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a>.
<h1 id="nhekopackaging">nheko packaging</h1>
<h2 id="nhekosusepackaging">nheko openSUSE packaging</h2>
It's now possible to install <a href="https://github.com/mujx/nheko">nheko</a> as a <a href="https://software.opensuse.org/package/nheko"> openSUSE package</a> - great to see that there is enough demand for a community package to appear.
<h2 id="nheko0421packagenowindebian">nheko 0.4.2-1 package now in Debian</h2>
<a href="https://matrix.to/#/@uhoreg:matrix.org">uhoreg</a> provided Debian and Ubuntu packages for <a href="https://github.com/mujx/nheko">nheko</a> 0.4.2-1: <a href="https://packages.qa.debian.org/n/nheko/news/20180530T135401Z.html">https://packages.qa.debian.org/n/nheko/news/20180530T135401Z.html</a>.
<h1 id="newroomsalsoroomswhichhappentobenewtobenpa">New Rooms, also rooms which happen to be new to benpa</h1>
<ul>
 	<li>Not at all new, but check out <a href="https://matrix.to/#/#riot-themes:matrix.ffslfl.net">#riot-themes:matrix.ffslfl.net</a> for discussions on the blueshine theme mentioned above.</li>
 	<li><a href="https://matrix.to/#/#matrix-docker-ansible-deploy:devture.com">#matrix-docker-ansible-deploy:devture.com</a> - support for those installing their own Matrix homeserver (and related services) with Docker and Ansible, using <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a></li>
 	<li><a href="https://matrix.to/#/@SolarDrew:matrix.org">SolarDrew</a>'s D&amp;D bot development chat: <a href="https://matrix.to/#/#chatrpg-dev:matrix.org">#chatrpg-dev:matrix.org</a></li>
</ul>
<h1 id="thatsaboutallfornow">That's about all for now…</h1>
… and that's plenty for the week! Take a look at Matrix Live below, and join us in <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> if you have something which should be included.
<div class="video-container"><iframe src="https://www.youtube.com/embed/8MVMrLsbznk" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe></div>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;05&#x2F;29&#x2F;matrix-org-homeserver-privacy-policy-and-terms-of-use-being-enforced-today&#x2F;" title="Matrix.org homeserver privacy policy and terms of use being enforced today">Matrix.org homeserver privacy policy and terms of use being enforced today</a></h1>
            <span>
                29.05.2018 00:00
                —
                <a href="/category/privacy">
                    Privacy
                </a>
                —
                <a href="/author/tom-lant">
                    Tom Lant
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>As mentioned in our last <a href="/blog/2018/05/25/gdpr-on-matrix-org/">blog post on GDPR</a>, to make sure that everyone has read and understood the important details about how their personal data is processed by the matrix.org homeserver, users who haven't yet agreed to the <a href="/docs/guides/privacy_notice.html">privacy notice</a> and <a href="/docs/guides/terms_and_conditions.html">terms and conditions</a> will be blocked from sending new messages until they have.</p>
<p>Users will continue to be able to <em>receive</em> messages, so they won't miss out on any messages sent to them before they've agreed to the terms.</p>
<p>The System Alerts room has already sent every user their unique link to review and agree, and if anyone missed that message, the latest Riot.im web and mobile will display a helpful error message guiding users who are yet to agree through the agreement process.</p>
<p>If you have any questions or difficulties, please let us know at <a href="mailto:support@matrix.org">support@matrix.org</a>.</p>
<p>Thanks!</p>
<p>Tom</p>
<p> </p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;05&#x2F;25&#x2F;gdpr-on-matrix-org&#x2F;" title="GDPR on matrix.org">GDPR on matrix.org</a></h1>
            <span>
                25.05.2018 00:00
                —
                <a href="/category/privacy">
                    Privacy
                </a>
                —
                <a href="/author/tom-lant">
                    Tom Lant
                </a>
            </span>
            
        </header>
        <div>
            <p>If you've connected to the matrix.org homeserver today, you'll have noticed some activity in support of GDPR compliance. The most obvious of these is an invite from <strong>System Alerts</strong> (aka @server:matrix.org):</p>
<p><a href="/blog/wp-content/uploads/2018/05/system_alerts_invite.png"><img class="alignnone size-full wp-image-3247" src="/blog/wp-content/uploads/2018/05/system_alerts_invite.png" alt="" width="227" height="66" /></a></p>
<p>We've rolled out the System Alerts feature to communicate important platform information to all of a homeserver's users. Today, we're using it to communicate the arrival of our new (and much-improved) <a href="/docs/guides/privacy_notice.html">Privacy Notice</a> and <a href="/docs/guides/terms_and_conditions.html">Terms and Conditions</a> to users on matrix.org.</p>
<p>The System Alerts service takes the form of an (unrejectable) invite to a room. We took this approach to support maximum compatibility with the myriad Matrix clients (since all Matrix clients can support conversations in a room ?).</p>
<p>When we first rolled out System Alerts, we didn't allow users leave the System Alerts room. Sorry! We got a bit overexcited - we've fixed that now (though please do provide your agreement before you leave).</p>
<h2>What do I need to do?</h2>
At some point today the System Alerts service will provide you with unique link, directing you to review the new terms and provide your agreement.
<p>For us to process your personal data lawfully, it's <strong>really important</strong> that we know you understand and agree to our <a href="/docs/guides/privacy_notice.html">Privacy Notice</a> and <a href="/docs/guides/terms_and_conditions.html">Terms and Conditions</a>. For that reason, we will shortly be blocking any users who haven't indicated their acceptance, so please act quickly when you receive your link.</p>
<p>Once the block is enabled, users who haven't accepted the terms will see an error when they try and send a message, join a room, or send an invite. This message will also include the unique link to review and accept the terms, so users who haven't seen the message from System Alerts will know what to do.</p>
<p>Don't worry if you're reading this some time after May 25 - accepting the terms at any time will unblock message sending on your account, and you won't have missed any messages sent to you.</p>
<p>If you have any thoughts or suggestions on the legal documentation, you can provide comment <a href="https://github.com/matrix-org/matrix.org/tree/master/jekyll/_posts/guides">via github</a>.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;05&#x2F;25&#x2F;this-week-in-matrix-2018-05-25&#x2F;" title="This Week in Matrix 2018-05-25">This Week in Matrix 2018-05-25</a></h1>
            <span>
                25.05.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h1 id="gdpr">GDPR</h1>
<b>HAPPY GDPR DAY EVERYONE!!!!1!</b>
<ul>
 	<li style="font-weight: 400;">Our long-awaited new <a href="/docs/guides/privacy_notice.html">privacy policy</a> &amp; <a href="/docs/guides/terms_and_conditions.html">term &amp; conditions</a> for the matrix.org server are here - Phase 1 is complete!
</li>
 	<li style="font-weight: 400;">Folks are already accepting the new policies - thanks.
</li>
 	<li style="font-weight: 400;">We're going to start requiring acceptance to access the matrix.org server on Tuesday (May 29th).
</li>
 	<li style="font-weight: 400;">We're already receiving our first GDPR requests… :|
</li>
 	<li style="font-weight: 400;">Erasure and Right-to-be-forgotten work (Phase 2) is next up so we can action the requests in a timely manner.
</li>
 	<li style="font-weight: 400;">It looks like we will go ahead on removing MXIDs on events as a Phase 3 (although for now we do warn people that this is effectively a technical limitation of Matrix, albeit one that we're working on).
</li>
</ul>
<h1 id="clientupdates">Client Updates</h1>
<h2 id="mtxcliente2eprogress">mtxclient E2E progress</h2>
Big E2E progress from <a href="https://matrix.to/#/@mujx:matrix.org">mujx</a>, developer of the <a href="https://github.com/mujx/nheko">nheko</a> client on his project <a href="https://github.com/mujx/mtxclient">mtxclient</a>. <a href="https://github.com/mujx/mtxclient/commit/7e522df71c804cbc04f38007c3958ebbb56815d3">As of this week</a>, mxtclient is able to decrypt group events. When writing (that is, sending encrypted messages) is complete, the idea is to migrate this work back to nheko, though mujx points out this library could be used in any client.
<h2 id="fractal">Fractal</h2>
Back to work after the <a href="https://wiki.gnome.org/Hackfests/Fractal2018">Hackfest</a>, <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> have <a href="https://gitlab.gnome.org/World/fractal/commit/7a26544df04e7bf42cf41bbf8cb95821873963c4">released version 0.1.30</a>, featuring:
<ul>
 	<li>Translations support</li>
 	<li>Number of members in the room in the members button</li>
 	<li>File storage configuration support</li>
 	<li>Gold and Silver tags for admins and moderatos</li>
</ul>
<a href="https://medium.com/we-distribute/fractal-is-a-new-messaging-app-for-the-gnome-desktop-powered-by-matrix-a4f219cb1095">Some coverage</a> of the <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> design thinking from last week, nothing new but a decent signal boost.
<h2 id="gomuks">gomuks</h2>
<a href="http://localhost:3001/@tulir:maunium.net">tulir</a> came in with some late breaking news about <a href="https://github.com/tulir/gomuks">gomuks</a>, the terminal client written in go. New features:
<ul>
 	<li>A fancy quick room switcher by <a href="https://matrix.to/#/@Evidlo:matrix.org">Evidlo</a></li>
 	<li>A few basic UI options (hide user/room lists)</li>
 	<li>Plaintext view to be able to click long links and such</li>
 	<li>Fixed some bugs</li>
</ul>
<h2>Riot/Web
</h2>
<ul>
 	<li style="font-weight: 400;">GDPR-capable release! 0.15.4 out today
</li>
 	<li style="font-weight: 400;">Various bugfixes and performance regressions.
</li>
</ul>
<h2>Riot/Mobile
</h2>
<ul>
 	<li style="font-weight: 400;">GDPR-capable releases!
</li>
 	<li style="font-weight: 400;">Sticker sending is ready modulo some CSS bugs; we'll get it pushed shortly.
</li>
</ul>
<h1 id="bridging">Bridging</h1>
<h2 id="johnspriggsbridgingvideo">JonTheNiceGuy bridging video</h2>
<a href="https://matrix.to/#/@JonTheNiceGuy:matrix.org">JonTheNiceGuy</a> produced a helpful video describing how to use bridges for IRC, Slack and Telegram, showing the difference between the different bridges. I found this to be really clear and well-paced for following the many practical details of bridging. Watch here: <a href="https://www.youtube.com/watch?v=ZNEzgYRLj8g">https://www.youtube.com/watch?v=ZNEzgYRLj8g</a>
<h2 id="discordbridge">Discord bridge</h2>
<a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> and <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">half-shot</a> have been working on the <a href="https://github.com/Half-Shot/matrix-appservice-discord">matrix-appservice-discord</a> bridge:
<blockquote>"finished edit passing between Discord and Matrix, as well as support for discord's custom emojis (though UX is a bit manual until <a href="https://github.com/matrix-org/matrix-doc/issues/1256">TravisR's proposal</a> goes through ?)"</blockquote><br /><h2 id="matrixpuppetfacebook1to1fixerfrombrendan">matrix-puppet-facebook-1to1-fixer from Brendan</h2><br /><a href="https://brendan.abolivier.bzh/">Brendan</a> shared a project he's been working on this week: <a href="https://github.com/babolivier/matrix-puppet-facebook-1to1-fixer">matrix-puppet-facebook-1to1-fixer</a>. This project fixes a UI issue Brendan had with the <a href="https://github.com/matrix-hacks/matrix-puppet-facebook">Facebook Messenger Bridge</a>, namely that activity in 1:1 rooms was not clear enough.<br /><blockquote>This small tool will take the local part of the room ID created by the Matrix&lt;&gt;Facebook Messenger bot once the friend has joined it, identify th friend, and grab their avatar and display name to set the room's.</blockquote>
<h2 id="mautrixtelegram">mautrix-telegram</h2>
Lots of progress on <a href="https://github.com/tulir/mautrix-telegram">mautrix-telegram</a> this lately including v0.2.0 RC. As reported by <a href="http://localhost:3001/@tulir:maunium.net">tulir</a>:
<ul>
 	<li>A dockerfile by <a href="https://matrix.to/#/@jan.christian:gruenhage.xyz">jcgruenhage</a></li>
 	<li>Option to whitelist/blacklist automatic bridging of specific chats</li>
 	<li>Fixed many bugs</li>
</ul>
<h2 id="matrixappservicesms">matrix-appservice-sms</h2>
<a href="https://matrix.to/#/@eta:theta.eu.org">eta</a> has been working on <a href="https://github.com/eeeeeta/matrix-appservice-sms/">matrix-appservice-sms</a> this week:
<blockquote>I have managed to do the first phase of a massive refactor that makes it way more reliable (temporarily store SMS in the database before delivery)<br /><br />this makes it more resilient to synapse hiccups, as well as general failures</blockquote>
<h1 id="otherprojects">Other Projects</h1>
<h2 id="matrixboardfrombetz">matrixboard, from betz</h2>
<a href="https://matrix.to/#/@betz:hackerspaces.be">betz</a> runs the <a href="https://hackerspaces.be/">https://hackerspaces.be/</a> matrix server and has this week, inbetween repairing his Synapse install, been working on a project called <a href="https://github.com/betz/matrixboard">matrixboard</a>. This tool is used to output the last five messages from a given room to displayed as HTML, the idea being to display output from a specific room as a website widget. You can see an example using <a href="https://matrix.to/#/#matrix-dev:matrix.org">#matrix-dev</a> <a href="http://matrix.hackerspaces.be:1337/!XqBunHwQIXUiqCaoxq:matrix.org?color=green">here</a>.
<h2 id="opsdroidroomstateconnector">opsdroid room state connector</h2>
<a href="https://matrix.to/#/@SolarDrew:matrix.org">SolarDrew</a> implemented a <a href="https://github.com/SolarDrew/database-matrix">database module</a>for <a href="https://opsdroid.github.io/">opsdroid</a> to allow Matrix room state to be used to persist chat bot memory. (Suggestion apparently came from <a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a>, the human not <a href="https://en.wikipedia.org/wiki/Cadair_Idris">the place</a>.)
<p>The idea of using the room state to encapsulate bot data per-room was well received, discussion in <a href="https://matrix.to/#/#TWIM:matrix.org">#TWIM:matrix.org</a> suggests this is an estabilished practice for some developers.</p>
<h2 id="matrixpythonsdk">matrix-python-sdk</h2>
No general GSOC round-up this week, <a href="https://matrix.to/#/@adam:thebeckmeyers.xyz">&amp;Adam</a> shared the news that GSOC-student <a href="https://matrix.to/#/@Zil0:matrix.org">Zil0</a>'s first PR towards E2E in <a href="https://github.com/matrix-org/matrix-python-sdk">matrix-python-sdk</a> landed on master. These PRs are working from efforts previously contributed by <a href="https://github.com/pik">pik</a>.
<h2 id="ruma">Ruma</h2>
Work continues in the Ruma space. This week saw the release of
<ul>
 	<li><a href="https://github.com/ruma/ruma-events">ruma-events</a> <a href="https://github.com/ruma/ruma-events/releases/tag/0.10.0">0.10.0</a>: ruma-events contains Serializable Rust types for the events in the Matrix specification. 0.10.0 sees a major update with code provided by <a href="https://matrix.to/#/@mujx:matrix.org">mujx</a>, and contains many breaking changes.</li>
 	<li><a href="https://github.com/ruma/ruma-api-macros">ruma-api-macros</a> <a href="https://github.com/ruma/ruma-api-macros/releases/tag/0.2.2">0.2.2</a>, and <a href="https://github.com/ruma/ruma-client-api">ruma-client-api</a>] is also updated to use the new macro.</li>
</ul>
<h2 id="f0xaccountmigrationhelper">f0x account migration helper</h2>
<a href="https://matrix.to/#/@f0x:lain.haus">f0x</a> has started work on a tool to help migrate accounts - including across homeservers. Right now he's working on the GUI, but check out progress at <a href="https://github.com/f0x52/matrix-migrate">https://github.com/f0x52/matrix-migrate</a>.
<h2 id="dsntravellerbyflorian">DSN Traveller by Florian</h2>
<a href="https://matrix.to/#/@florianjacob:matrix.org">Florian</a> reports:
<blockquote>As part of my master's thesis, I wrote the DSN Traveller bot, which is crawling the matrix federation to measure the shape and size of the matrix network, and how distributed it currently is. The bot is already in a smaller number of rooms for testing, and will join the remaining rooms over the next days. All details at <a href="https://dsn-traveller.dsn.scc.kit.edu/">https://dsn-traveller.dsn.scc.kit.edu/</a>, room at <a href="https://matrix.to/#/#dsn-traveller:dsn-traveller.dsn.scc.kit.edu">#dsn-traveller:dsn-traveller.dsn.scc.kit.edu</a>.</blockquote>
<h2>Synapse
</h2>
<ul>
 	<li style="font-weight: 400;">GDPR policy management is welcomed in by Synapse 0.30
</li>
 	<li style="font-weight: 400;">Means we get server notices too!
</li>
 	<li style="font-weight: 400;">Explosion of Python 3 activity from <a href="https://matrix.to/#/@notafile:matrix.org">notafile</a> &amp; Amber (hawkowl)
</li>
 	<li><a href="https://matrix.to/#/@andrew:shadura.me">andrewsh</a> has prepared a Debian package for the 0.30 release.</li>
</ul>
<h2>Dendrite
</h2>
<ul>
 	<li style="font-weight: 400;"><a href="https://matrix.to/#/@andrewm:amorgan.xyz">Anoa</a> is on the case, having joined the core team on Monday - Dendrite is already sending events to ASes!  Meanwhile APwhitehat is hacking away on his GSoC projects!
</li>
</ul>
<h1 id="specroundup">Spec</h1>
The <a href="/docs/spec/proposals">Matrix Spec Change Proposals</a> list is populated, popular, and under discussion at <a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a>. There are multiple issues ready to review, for example: <a href="https://github.com/turt2live">TravisR</a> is calling for attention on <a href="https://github.com/matrix-org/matrix-doc/issues/1256">MSC1256</a>: "Custom emoji and sticker packs in matrix".
<h1 id="newrooms">New Rooms</h1>
<ul>
 	<li><a href="https://matrix.to/#/@notafile:matrix.org">notafile</a> alerted us to <a href="https://matrix.to/#/#synapse-py3:matrix.org">#synapse-py3:matrix.org</a> a room for discussions specific to the python3 work on synapse.</li>
 	<li><a href="https://matrix.to/#/#dsn-traveller:dsn-traveller.dsn.scc.kit.edu">#dsn-traveller:dsn-traveller.dsn.scc.kit.edu</a> to discuss the DSN Traveller, as mentioned above.</li>
 	<li><a href="https://matrix.to/#/@brainblasted:disroot.org">brainblasted</a> introduced <a href="https://matrix.to/#/#book-talk:disroot.org">#book-talk:disroot.org</a>, "For discussing literature, meaning, and if the movie lives up to the book"</li>
 	<li><a href="https://matrix.to/#/@CromFr:matrix.org">CromFr</a> shared <a href="https://matrix.to/#/#lebistrot:matrix.org">#lebistrot:matrix.org</a>, "a french room for talking about everything or nothing. Venez dire bonjour!"</li>
</ul>
<h1 id="gsoc">GSOC</h1>
Last week I promised an update on the state of the various GSOC projects in the Matrix Ecosystem. There is activity happening but other than what's been discussed above we'll wait a week or two for more detailed updates.
<h1 id="seeyousoon">See you soon</h1>
As always, if you have things to say, projects to advertise, or anything else, ping <a href="https://matrix.to/#/@benpa:matrix.org">me</a> or visit <a href="https://matrix.to/#/#TWIM:matrix.org">#TWIM:matrix.org</a>. I'm keen to get everyone included and keep this community enthused about all the work going on in the Matrix ecosystem.
<p>Check out this week's Matrix Live:</p>
<div class="video-container"><iframe width="1280" height="720" src="https://www.youtube.com/embed/mpE97ikU8Sg" frameBorder="0" allow="autoplay; encrypted-media" allowFullScreen></iframe></div>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;05&#x2F;24&#x2F;synapse-0-30-0-released-today&#x2F;" title="Synapse v0.30.0 released today!">Synapse v0.30.0 released today!</a></h1>
            <span>
                24.05.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>It's release o'clock - GDPR time!!!!</p>
<p>v0.30.0 sees the introduction of <a href="https://github.com/matrix-org/synapse/blob/master/docs/server_notices.md">Server Notices</a>, which provides a channel whereby server administrators can send messages to users on the server, as well as <a href="https://github.com/matrix-org/synapse/blob/master/docs/consent_tracking.md">Consent Management</a> for tracking whether users have agreed to the terms and conditions set by the administrator of a server - and blocking access to the server until they have.</p>
<p>In conjunction these features support GDPR compliance in the form of providing a client agnostic means to contact users and ask for consent/agreement to a Privacy Notice.</p>
<p>For more information about our approach to GDPR compliance take a look <a href="/blog/2018/05/08/gdpr-compliance-in-matrix/">here</a> (although be aware that our position has evolved a bit; see the upcoming new privacy policy for the Matrix.org homeserver for details).</p>
<p>Additionally there are a host of bug fixes and refactors as well as an enhancement to our Dockerfile.</p>
<p>Get it now from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.30.0">https://github.com/matrix-org/synapse/releases/tag/v0.30.0</a></p>
<div class="release clearfix label-latest">
<div class="release-body commit open float-left">
<div class="markdown-body">
<h2>Changes in synapse v0.30.0 (2018-05-24)</h2>
'Server Notices' are a new feature introduced in Synapse 0.30. They provide a
channel whereby server administrators can send messages to users on the server.
<p>They are used as part of communication of the server policies (see <a href="https://github.com/matrix-org/synapse/blob/master/docs/consent_tracking.md">Consent Tracking</a>),
however the intention is that they may also find a use for features such
as &quot;Message of the day&quot;.</p>
<p>This feature is specific to Synapse, but uses standard Matrix communication mechanisms,
so should work with any Matrix client. For more details see <a href="https://github.com/matrix-org/synapse/blob/master/docs/server_notices.md">here</a>. <a href="https://github.com/matrix-org/synapse/blob/master/docs/server_notices.md"><code></code></a></p>
<p>Further Server Notices/Consent Tracking Support:</p>
<ul>
 	<li>Allow overriding the server_notices user's avatar (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3273" data-error-text="Failed to load issue title" data-id="325788990" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3273">#3273</a>)</li>
 	<li>Use the localpart in the consent uri (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3272" data-error-text="Failed to load issue title" data-id="325732749" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3272">#3272</a>)</li>
 	<li>Support for putting %(consent_uri)s in messages (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3271" data-error-text="Failed to load issue title" data-id="325731335" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3271">#3271</a>)</li>
 	<li>Block attempts to send server notices to remote users (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3270" data-error-text="Failed to load issue title" data-id="325706652" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3270">#3270</a>)</li>
 	<li>Docs on consent bits (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3268" data-error-text="Failed to load issue title" data-id="325692950" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3268">#3268</a>)</li>
</ul>
</div>
</div>
</div>
<div class="release clearfix label-prerelease">
<div class="release-body commit open float-left">
<div class="markdown-body">
<h3>Changes in synapse v0.30.0-rc1 (2018-05-23)</h3>
GDPR Support:
<ul>
 	<li>ConsentResource to gather policy consent from users (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3213" data-error-text="Failed to load issue title" data-id="322329950" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3213">#3213</a>)</li>
 	<li>Move RoomCreationHandler out of synapse.handlers.Handlers (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3225" data-error-text="Failed to load issue title" data-id="323966891" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3225">#3225</a>)</li>
 	<li>Infrastructure for a server notices room (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3232" data-error-text="Failed to load issue title" data-id="324110323" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3232">#3232</a>)</li>
 	<li>Send users a server notice about consent (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3236" data-error-text="Failed to load issue title" data-id="324363121" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3236">#3236</a>)</li>
 	<li>Reject attempts to send event before privacy consent is given (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3257" data-error-text="Failed to load issue title" data-id="325182001" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3257">#3257</a>)</li>
 	<li>Add a 'has_consented' template var to consent forms (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3262" data-error-text="Failed to load issue title" data-id="325308498" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3262">#3262</a>)</li>
 	<li>Fix dependency on jinja2 (PR <a class="issue-link js-issue-link tooltipped tooltipped-ne" href="https://github.com/matrix-org/synapse/pull/3263" data-error-text="Failed to load issue title" data-id="325308826" data-permission-text="Issue title is private" aria-label="#3263, Fix dependency on jinja2">#3263</a>)</li>
</ul>
Features:
<ul>
 	<li>Cohort analytics (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3163" data-error-text="Failed to load issue title" data-id="319174463" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3163">#3163</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3241" data-error-text="Failed to load issue title" data-id="324442563" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3241">#3241</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3251" data-error-text="Failed to load issue title" data-id="324872139" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3251">#3251</a>)</li>
 	<li>Add lxml to docker image for web previews (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3239" data-error-text="Failed to load issue title" data-id="324408394" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3239">#3239</a>) Thanks to <a class="user-mention" href="https://github.com/ptman" data-hovercard-user-id="24669" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@ptman</a>!</li>
 	<li>Add in flight request metrics (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3252" data-error-text="Failed to load issue title" data-id="324955805" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3252">#3252</a>)</li>
</ul>
Changes:
<ul>
 	<li>Remove unused <code>update_external_syncs</code> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3233" data-error-text="Failed to load issue title" data-id="324114741" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3233">#3233</a>)</li>
 	<li>Use stream rather depth ordering for push actions (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3212" data-error-text="Failed to load issue title" data-id="322319018" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3212">#3212</a>)</li>
 	<li>Make purge_history operate on tokens (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3221" data-error-text="Failed to load issue title" data-id="323268684" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3221">#3221</a>)</li>
 	<li>Don't support limitless pagination (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3265" data-error-text="Failed to load issue title" data-id="325389253" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3265">#3265</a>)</li>
</ul>
Bug Fixes:
<ul>
 	<li>Fix logcontext resource usage tracking (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3258" data-error-text="Failed to load issue title" data-id="325229997" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3258">#3258</a>)</li>
 	<li>Fix error in handling receipts (PR <a class="issue-link js-issue-link tooltipped tooltipped-ne" href="https://github.com/matrix-org/synapse/pull/3235" data-error-text="Failed to load issue title" data-id="324313546" data-permission-text="Issue title is private" aria-label="#3235, Fix error in handling receipts">#3235</a>)</li>
 	<li>Stop the transaction cache caching failures (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3255" data-error-text="Failed to load issue title" data-id="324972872" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3255">#3255</a>)</li>
</ul>
</div>
</div>
</div>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;05&#x2F;18&#x2F;synapse-0-29-1&#x2F;" title="Synapse 0.29.1 Released!">Synapse 0.29.1 Released!</a></h1>
            <span>
                18.05.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>It's release time people, not to be outdone by our friends on the <a href="https://medium.com/@RiotChat/stickers-are-here-introducing-riot-im-0-15-for-web-desktop-284c32b93acc">Riot web team</a>, Synapse v0.29.1 lands today.</p>
<p>v0.29.1 contains an officially supported docker image (many thanks to the contribution from <a href="https://github.com/kaiyou">@kaiyou</a>), continued progress towards Python 3 (thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>) - as well as a heap of refactorings and bug fixes.</p>
<p>Something worth noting is a potentially breaking change in the error code that /login returns in the Client Server API. Details follow, but the change closes a gap between Synapse behaviour and the spec.</p>
<p>We'd like to give huge thanks to Silvio Fricke and Andreas Peters for writing and maintaining <a href="https://github.com/AVENTER-UG/docker-matrix">Synapse's first Dockerfile</a>, as well as <a href="https://github.com/allmende/docker-synapse">allmende</a>, <a href="https://github.com/jcgruenhage/docker-synapse">jcgruenhage</a>, <a href="https://github.com/ptman/synapse-docker">ptman</a>, and <a href="https://github.com/ilianaw/dockerfiles/tree/master/synapse">ilianaw</a> for theirs!  The new Dockerfile from kaiyou has ended up being merged into the <a href="https://github.com/matrix-org/synapse/tree/master/contrib/docker">main synapse tree</a> and we're going to try to maintain it going forwards, but folks should use whichever one they prefer.</p>
<p>You can pick it up from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.29.1">https://github.com/matrix-org/synapse/releases/tag/v0.29.1</a> and thanks to everyone who tested the release candidate.</p>
<h2>Changes in synapse v0.29.1 (2018-05-17)</h2>
Changes:
<ul>
 	<li>Update docker documentation (PR <a href="https://github.com/matrix-org/synapse/pull/3222">#3222</a>)</li>
</ul>
<h3>Changes in synapse v0.29.0 (2018-05-16)</h3>
No changes since v0.29.0-rc1
<h3>Changes in synapse v0.29.0-rc1 (2018-05-14)</h3>
Potentially breaking change:
<ul>
 	<li>Make Client-Server API return 401 for invalid token (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3161" data-error-text="Failed to load issue title" data-id="319022836" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3161">#3161</a>).This changes the Client-server spec to return a 401 error code instead of 403 when the access token is unrecognised. This is the behaviour required by the specification, but some clients may be relying on the old, incorrect behaviour.Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a> for fixing this.</li>
</ul>
Features:
<ul>
 	<li>Add a Dockerfile for synapse (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/2846" data-error-text="Failed to load issue title" data-id="294138160" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/2846">#2846</a>) Thanks to <a class="user-mention" href="https://github.com/kaiyou" data-hovercard-user-id="847861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@kaiyou</a>!</li>
</ul>
Changes - General:
<ul>
 	<li>nuke-room-from-db.sh: added postgresql option and help (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/2337" data-error-text="Failed to load issue title" data-id="240936932" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/2337">#2337</a>) Thanks to <a class="user-mention" href="https://github.com/rubo77" data-hovercard-user-id="1591563" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@rubo77</a>!</li>
 	<li>Part user from rooms on account deactivate (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3201" data-error-text="Failed to load issue title" data-id="321584384" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3201">#3201</a>)</li>
 	<li>Make 'unexpected logging context' into warnings (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3007" data-error-text="Failed to load issue title" data-id="305674363" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3007">#3007</a>)</li>
 	<li>Set Server header in SynapseRequest (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3208" data-error-text="Failed to load issue title" data-id="322021667" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3208">#3208</a>)</li>
 	<li>remove duplicates from groups tables (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3129" data-error-text="Failed to load issue title" data-id="317640994" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3129">#3129</a>)</li>
 	<li>Improve exception handling for background processes (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3138" data-error-text="Failed to load issue title" data-id="318353806" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3138">#3138</a>)</li>
 	<li>Add missing consumeErrors to improve exception handling (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3139" data-error-text="Failed to load issue title" data-id="318354891" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3139">#3139</a>)</li>
 	<li>reraise exceptions more carefully (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3142" data-error-text="Failed to load issue title" data-id="318362067" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3142">#3142</a>)</li>
 	<li>Remove redundant call to preserve_fn (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3143" data-error-text="Failed to load issue title" data-id="318369685" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3143">#3143</a>)</li>
 	<li>Trap exceptions thrown within run_in_background (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3144" data-error-text="Failed to load issue title" data-id="318372621" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3144">#3144</a>)</li>
</ul>
Changes - Refactors:
<ul>
 	<li>Refactor /context to reuse pagination storage functions (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3193" data-error-text="Failed to load issue title" data-id="321240389" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3193">#3193</a>)</li>
 	<li>Refactor recent events func to use pagination func (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3195" data-error-text="Failed to load issue title" data-id="321511701" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3195">#3195</a>)</li>
 	<li>Refactor pagination DB API to return concrete type (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3196" data-error-text="Failed to load issue title" data-id="321514152" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3196">#3196</a>)</li>
 	<li>Refactor get_recent_events_for_room return type (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3198" data-error-text="Failed to load issue title" data-id="321524525" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3198">#3198</a>)</li>
 	<li>Refactor sync APIs to reuse pagination API (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3199" data-error-text="Failed to load issue title" data-id="321556855" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3199">#3199</a>)</li>
 	<li>Remove unused code path from member change DB func (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3200" data-error-text="Failed to load issue title" data-id="321572270" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3200">#3200</a>)</li>
 	<li>Refactor request handling wrappers (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3203" data-error-text="Failed to load issue title" data-id="321896316" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3203">#3203</a>)</li>
 	<li>transaction_id, destination defined twice (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3209" data-error-text="Failed to load issue title" data-id="322050253" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3209">#3209</a>) Thanks to <a class="user-mention" href="https://github.com/damir-manapov" data-hovercard-user-id="84543" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@damir-manapov</a>!</li>
 	<li>Refactor event storage to prepare for changes in state calculations (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3141" data-error-text="Failed to load issue title" data-id="318360848" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3141">#3141</a>)</li>
 	<li>Set Server header in SynapseRequest (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3208" data-error-text="Failed to load issue title" data-id="322021667" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3208">#3208</a>)</li>
 	<li>Use deferred.addTimeout instead of time_bound_deferred (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3127" data-error-text="Failed to load issue title" data-id="316624675" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3127">#3127</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3178" data-error-text="Failed to load issue title" data-id="319723346" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3178">#3178</a>)</li>
 	<li>Use run_in_background in preference to preserve_fn (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3140" data-error-text="Failed to load issue title" data-id="318358846" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3140">#3140</a>)</li>
</ul>
Changes - Python 3 migration:
<ul>
 	<li>Construct HMAC as bytes on py3 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3156" data-error-text="Failed to load issue title" data-id="318672814" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3156">#3156</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>run config tests on py3 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3159" data-error-text="Failed to load issue title" data-id="318819505" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3159">#3159</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Open certificate files as bytes (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3084" data-error-text="Failed to load issue title" data-id="312978895" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3084">#3084</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Open config file in non-bytes mode (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3085" data-error-text="Failed to load issue title" data-id="312979176" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3085">#3085</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Make event properties raise AttributeError instead (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3102" data-error-text="Failed to load issue title" data-id="314438601" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3102">#3102</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Use six.moves.urlparse (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3108" data-error-text="Failed to load issue title" data-id="314444112" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3108">#3108</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Add py3 tests to tox with folders that work (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3145" data-error-text="Failed to load issue title" data-id="318431714" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3145">#3145</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Don't yield in list comprehensions (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3150" data-error-text="Failed to load issue title" data-id="318628803" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3150">#3150</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Move more xrange to six (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3151" data-error-text="Failed to load issue title" data-id="318628945" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3151">#3151</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>make imports local (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3152" data-error-text="Failed to load issue title" data-id="318629082" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3152">#3152</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>move httplib import to six (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3153" data-error-text="Failed to load issue title" data-id="318629172" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3153">#3153</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>Replace stringIO imports with six (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3154" data-error-text="Failed to load issue title" data-id="318629362" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3154">#3154</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3168" data-error-text="Failed to load issue title" data-id="319453092" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3168">#3168</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
 	<li>more bytes strings (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3155" data-error-text="Failed to load issue title" data-id="318672504" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3155">#3155</a>) Thanks to <a class="user-mention" href="https://github.com/NotAFile" data-hovercard-user-id="5447747" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@NotAFile</a>!</li>
</ul>
Bug Fixes:
<ul>
 	<li>synapse fails to start under Twisted &gt;= 18.4 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3157" data-error-text="Failed to load issue title" data-id="318721696" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3157">#3157</a>) Thanks to <a class="user-mention" href="https://github.com/Half-Shot" data-hovercard-user-id="2072976" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@Half-Shot</a>!</li>
 	<li>Fix a class of logcontext leaks (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3170" data-error-text="Failed to load issue title" data-id="319506071" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3170">#3170</a>)</li>
 	<li>Fix a couple of logcontext leaks in unit tests (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3172" data-error-text="Failed to load issue title" data-id="319584239" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3172">#3172</a>)</li>
 	<li>Fix logcontext leak in media repo (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3174" data-error-text="Failed to load issue title" data-id="319596214" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3174">#3174</a>)</li>
 	<li>Escape label values in prometheus metrics (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3175" data-error-text="Failed to load issue title" data-id="319611493" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3175">#3175</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3186" data-error-text="Failed to load issue title" data-id="319955083" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3186">#3186</a>)</li>
 	<li>Fix 'Unhandled Error' logs with Twisted 18.4 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3182" data-error-text="Failed to load issue title" data-id="319867481" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3182">#3182</a>) Thanks to <a class="user-mention" href="https://github.com/Half-Shot" data-hovercard-user-id="2072976" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@Half-Shot</a>!</li>
 	<li>Fix logcontext leaks in rate limiter (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3183" data-error-text="Failed to load issue title" data-id="319883299" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3183">#3183</a>)</li>
 	<li>notifications: Convert next_token to string according to the spec (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3190" data-error-text="Failed to load issue title" data-id="320496620" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3190">#3190</a>) Thanks to <a class="user-mention" href="https://github.com/mujx" data-hovercard-user-id="6430350" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@mujx</a>!</li>
 	<li>nuke-room-from-db.sh: fix deletion from search table (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3194" data-error-text="Failed to load issue title" data-id="321366575" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3194">#3194</a>) Thanks to <a class="user-mention" href="https://github.com/rubo77" data-hovercard-user-id="1591563" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@rubo77</a>!</li>
 	<li>add guard for None on purge_history api (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3160" data-error-text="Failed to load issue title" data-id="318873877" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3160">#3160</a>) Thanks to <a class="user-mention" href="https://github.com/krombel" data-hovercard-user-id="11167142" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@krombel</a>!</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;05&#x2F;18&#x2F;this-week-in-matrix-2018-05-18&#x2F;" title="This Week in Matrix 2018-05-18">This Week in Matrix 2018-05-18</a></h1>
            <span>
                18.05.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h1 id="ontheweb">On the Web</h1>
<h2 id="enterthematrix">Enter the Matrix</h2>
<a href="https://brendan.abolivier.bzh/">Brendan</a> produced a <a href="https://brendan.abolivier.bzh/enter-the-matrix/">really, really informative article introducing Matrix</a>. As someone who is still very new to the project I found this writng to be very clear and informative, so thank you! The article made it to the <a href="https://news.ycombinator.com/item?id=17063761">top of Hacker News</a>, where you can find a discussion of both the article and Matrix itself.
<h2 id="presentationaboutmatrix">Presentation about Matrix</h2>
<a href="https://twitter.com/martinkrafft">martinkrafft</a> presented about Matrix at <a href="https://wossat.nz/">wossat</a> a New Zealand Open Source show and tell meetup. His talk <a href="https://twitter.com/wossat/status/997230578385612801">can be seen here</a>, and focuses on the benefits of Matrix for users.
<h1 id="specproposals">Spec Proposals</h1>
As you may have seen from the <a href="/blog/2018/05/17/introducing-matrix-specification-changes/">previous blog post</a>, we have a new drive to advance the Matrix Specification itself. Part of this is <a href="/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>, which lists all the spec change proposals we've accumulated so far, and describes the flow for getting new proposals merged. There is a new room, <a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> for discussion, please join if you want to get involved in this process. Check out the page and the blog post for more detail.
<p>Next up: try to turn some of the many WIP proposals into Spec PRs...</p>
<h1 id="fractalhackfest2018">Fractal Hackfest 2018</h1>
<a href="https://wiki.gnome.org/Hackfests/Fractal2018">Fractal Hackfest 2018</a>: was super successful and productive by all accounts, and there were many! Check out reports from Daniel García Moreno (<a href="http://danigm.net/fractal-hackfest1.html">Day 1</a>, <a href="http://danigm.net/fractal-hackfest2.html">Day 2</a>), <a href="https://eishagsoc.wordpress.com/2018/05/13/fractal-hackfest.html">Eisha Chen-yen-su</a>, <a href="http://bytesgnomeschozo.blogspot.com/2018/05/fracturing-fractal.html">Adrien Plazas</a>, <a href="https://blogs.gnome.org/jsparber/2018/05/15/fractal-hackfest-2018/">Julian Sparber</a>, <a href="https://blogs.gnome.org/tbernard/2018/05/16/fractal-hackfest-in-strasbourg/">Tobias Bernard</a> and <a href="https://www.alexandrefranke.com/blog/20180518-Fractal-hackfest/">Alexandre Franke</a>.
<p>A major topic at the Hackfest was a discussion of splitting the Fractal client into two UIs for the different behaviours of messaging apps. For anyone interested in product design thinking this is a genuinely fascinating topic. I encourage you to read <a href="https://blogs.gnome.org/tbernard/2018/05/16/banquets-and-barbecues/">&quot;Banquets and Barbecues&quot;, Tobias' excellent coverage</a> of the latest thinking. The different chat personas are very well explained and the post brings up some of the immediate technical challenges too.</p>
<h1 id="projectsandproducts">Projects and Products</h1>
<h2 id="mxisdv11rc1available">mxisd v1.1 RC1 available</h2>
<a href="https://matrix.to/#/@max:kamax.io">Max</a> reports on <a href="https://github.com/kamax-io/mxisd">mxisd</a>, a Federated Matrix Identity server for self-hosted Matrix infrastructures:
<blockquote><a href="https://github.com/kamax-io/mxisd/releases/tag/v1.1-rc.1">mxisd v1.1 RC1</a> is out, addressing various privacy issues and being more GDPR-friendly overall. Testing and feedback from the community is very much appreciated</blockquote>
<h2 id="dimension">Dimension</h2>
<a href="https://dimension.t2bot.io/">Dimension</a>, an open source integrations manager for matrix clients from <a href="https://github.com/turt2live">TravisR</a>, now supports sticker packs.
<h2 id="ruma">Ruma</h2>
Rust-based <a href="https://github.com/ruma/ruma">Ruma</a> has new activity, starting with the release of <a href="https://github.com/ruma/ruma-api-macros/releases/tag/0.2.0">ruma-api-macros 0.2.0</a>. This moves <a href="https://github.com/ruma/ruma-api-macros/releases">ruma-api-macros</a> from dependency on hyper to using types from the http crate. This will give more flexibility about library and framework choices for <a href="https://github.com/ruma/ruma-client-api">ruma-client-api</a> and <a href="https://github.com/ruma/ruma-client">ruma-client</a>.
<h2 id="federationtestergraphicalfrontend">Federation Tester Graphical Frontend</h2>
<a href="https://matrix.to/#/@f0x:lain.haus">f0x</a> produced and shared a graphical frontend for the federation tester, already getting some use. Check it out at <a href="https://neo.lain.haus/fed-tester/">https://neo.lain.haus/fed-tester/</a> and see the source <a href="https://github.com/f0x52/fed-tester/commits/master">on GitHub</a>.
<h2 id="synapse">Synapse</h2>
<ul>
 	<li>Synapse 0.29 out - pretty much a maintenance release.</li>
 	<li>Chunk PRs are landing, providing a long-term solution to the ‘depth' issue which is still impacting #matrix and #matrix-dev.</li>
 	<li>Lots and lots of GDPR work - you can follow progress at <a href="https://github.com/vector-im/riot-meta/projects/7">https://github.com/vector-im/riot-meta/projects/7</a>.</li>
 	<li>Fixes SYN-1(!!!) - server notifications in general.</li>
 	<li>...and a last minute update from Andrej Shadura that the official Debian packages for Synapse are now up-to-date in Debian Unstable!!</li>
</ul>
<h2 id="riotweb">Riot/Web</h2>
<ul>
 	<li>Riot/0.15 is out! With Stickers, Electron 2.0, Firefox E2E speed ups and lots of polishing</li>
 	<li>Working on GDPR now - cookie warnings have already landed on /develop, for instance. Remaining is the consent flow, and the deactivation/erasure flow.</li>
 	<li>Currently on a blitz to mop up P1 bugs</li>
 	<li>Accidental mission to replace Draft with Slate to make the RTE robust.</li>
 	<li>Upcoming: enabling Jitsi everywhere; E2E cross-signing; member lazyloading.</li>
</ul>
<h2 id="riotmobile">Riot/Mobile</h2>
<ul>
 	<li>Sticker sending is almost done!</li>
 	<li>GDPR work in progress</li>
 	<li>Released a fix for unreliable notification (and bg syncing) on Android 8 on Fdroid (released on Wednesday - please update!)</li>
</ul>
<h2 id="neoalpha005">Neo Alpha 0.05</h2>
<a href="https://github.com/f0x52/neo">neo</a> alpha 0.05 was announced by <a href="https://matrix.to/#/@f0x:lain.haus">f0x</a>, go take a look at <a href="https://github.com/f0x52/neo/releases/tag/alpha0.05">https://github.com/f0x52/neo/releases/tag/alpha0.05</a>. From the changelog:
<blockquote>features to bridge better with telegram, like Replies and Stickers, general ui improvement with fontawesome icons
added:
Replies
Receiving stickers</blockquote>
and more
<h2 id="discordbridge">Discord Bridge</h2>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> and <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> are working on the <a href="https://github.com/Half-Shot/matrix-appservice-discord">matrix-appservice-discord</a>, and have embarked on bridging Discord edited messages to Matrix
<blockquote>headed up by anoa, feedback for this is useful as it's early days, <a href="https://github.com/Half-Shot/matrix-appservice-discord/pull/131">https://github.com/Half-Shot/matrix-appservice-discord/pull/131</a></blockquote>
They've been writing tests and crushing bugs along the way. This is all in aid of the coming 0.2.0 release.
<h2 id="gomuks">gomuks</h2>
A <a href="https://github.com/tulir/gomuks">gomuks</a> package was added to added to <a href="https://nixos.org/">NixOS</a> nixpkgs, shows interest in the client: <a href="https://github.com/NixOS/nixpkgs/pull/40510">https://github.com/NixOS/nixpkgs/pull/40510</a>.
<h2 id="cromfrdogebot">CromFr doge bot</h2>
<a href="https://matrix.to/#/@CromFr:matrix.org">CromFr</a> has been working on a <a href="https://github.com/CromFr/matrix-doge-bot">doge bot</a>, which he describes as a hack over the hyper / haiku bots", and is hosted on <a href="https://github.com/turt2live">TravisR</a>'s <a href="https://t2bot.io/">https://t2bot.io/</a>. Go try it out in the test room <a href="https://matrix.to/#/#test-doge-bot-crom:matrix.org">#test-doge-bot-crom:matrix.org</a>.
<h1 id="communityclientserverinteractions">Independent Client-Server interactions</h1>
<a href="/blog/wp-content/uploads/2018/05/construct-gomuks.jpeg"><img class="aligncenter wp-image-3220 size-full" src="/blog/wp-content/uploads/2018/05/construct-gomuks.jpeg" alt="" width="900" height="732" /></a>
<a href="/blog/wp-content/uploads/2018/05/mxhsd-fractal.png"><img class="aligncenter wp-image-3219 size-full" src="/blog/wp-content/uploads/2018/05/mxhsd-fractal.png" alt="" width="912" height="749" /></a> 
Lots of excitement at the variety of independent clients and servers able to interact over the matrix protocol. The images above show <a href="https://github.com/jevolk/charybdis">The Construct</a> (server) and <a href="https://github.com/tulir/gomuks">gomuks</a> (client), and then <a href="https://github.com/kamax-io/mxhsd">mxhsd</a> and <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>. A fundamental part of matrix is to be an open protocol, so it's great to see entirely independent implementations liaising together! While implementing <a href="https://github.com/kamax-io/mxhsd">mxhsd</a>, <a href="https://matrix.to/#/@max:kamax.io">Max</a> has been documenting spec omissions <a href="https://kamax.io/matrix/api/client_server/unstable.html">in a branch of the spec</a> - we're hoping he will contribute these back!
<p>Honourable mention for <a href="https://matrix.to/#/@mujx:matrix.org">mujx</a>, who was sending messages with <a href="https://github.com/mujx/nheko">nheko</a> and <a href="https://github.com/ruma/ruma">Ruma</a> a year ago!</p>
<h1 id="matrixcoreteamexpansion">Matrix Core team expansion</h1>
<ul>
 	<li>Stève - 17th May (yesterday)</li>
 	<li>Amber - 21st (Monday)</li>
 	<li>Anoa - 21st (Monday)</li>
 	<li>Hubert - 28th May</li>
 	<li>Half-Shot - 4th June
...and one more community member, hopefully (just sorting paperwork currently!)</li>
</ul>
Heads up that we're consciously trying to hire a mix of folks from the Matrix community as well as those outside it - and avoid hiring the whole community, both to ensure diversity of viewpoint &amp; experience in the core team, and also to avoid cannibalising folks who working on their own commercial projects on top of Matrix. We'd prefer Matrix to be as decentralised and heterogenous as possible, needless to say - and instead try to support folks in building on Matrix without hiring them into the core team (where we'd expect them to focus on the core project for everyone's benefit). This may change once we have Matrix set up as a separate foundation, once we've got out of beta, of course.
<h1 id="newrooms">New Rooms</h1>
<ul>
 	<li><a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> is a new room dedicated to discussions on specific matrix spec proposals, as part of the process we're building around contributing to the matrix spec.</li>
 	<li><a href="https://matrix.to/#/@f0x:lain.haus">f0x</a> is hosting a new room dedicated to Matrix client developers <a href="https://matrix.to/#/#matrix-clients:lain.haus">#matrix-clients:lain.haus</a></li>
 	<li><a href="https://matrix.to/#/#test-doge-bot-crom:matrix.org">#test-doge-bot-crom:matrix.org</a> to test <a href="https://matrix.to/#/@CromFr:matrix.org">CromFr</a>'s doge bot.</li>
 	<li><a href="https://matrix.to/#/#PokemonShit:matrix.org">#PokemonShit:matrix.org</a> a new room for Pokemon discussion.</li>
</ul>
<h1 id="nextweekinmatrix">Next week in Matrix</h1>
Next week I'll take a look at Matrix-related <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> projects, what the plans are and how the first few weeks are going.
<h1 id="solong">So Long...</h1>
That's all for now! Join us on <a href="https://matrix.to/#/#TWIM:matrix.org">#TWIM:matrix.org</a> if you'd like to make an announcement and be featured in this series.
<p>Check out this week's Matrix Live below, and we'll see you next week!</p>
<div class="video-container"><iframe src="https://www.youtube.com/embed/9OS99m1f4Uo" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe></div>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;05&#x2F;17&#x2F;introducing-matrix-specification-changes&#x2F;" title="Introducing Matrix Specification Changes">Introducing Matrix Specification Changes</a></h1>
            <span>
                17.05.2018 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>We've been able to start investing more time in advancing the Matrix Specification itself over the last month or so thanks to <a href="https://matrix.to/#/@benpa:matrix.org">Ben</a> joining the core team (and should be able to accelerate even more with <a href="https://www.uhoreg.ca/blog/20180507-1019">uhoreg joining in a few weeks</a>!)  The first step in the new wave of work has been to provide much better infrastructure for the process of actually evolving the spec - whether that's from changes proposed by the core team or the wider Matrix Community.</p>
<p>So, without further ado, we'd like to introduce <a href="/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a> - a dashboard for all the spec change proposals we've accumulated so far (ignoring most of the ones which have already been merged), as well as a clearer workflow for how everyone can help improve the Matrix spec itself.  Part of this is introducing a formal numbering system - e.g. <a href="https://github.com/matrix-org/matrix-doc/issues/1228">MSC1228</a> stands for Matrix Spec Change 1228 (where 1228 is the ID of the Github issue on the <a href="http://github.com/matrix-org/matrix-doc/issues">github.com/matrix-org/matrix-doc/issues</a> repository that tracks the proposal).</p>
<p>Please note that these are <em>NOT</em> like XEPs or RFCs - i.e. optional proposals or add-ons to the protocol; instead they are literally proposals for changes to the Matrix Spec itself.  Once merged into the spec, they are only of historical interest.</p>
<p>We've also created a new room: <a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> to discuss specific spec proposal changes - please join if you want to track how proposals are evolving! (Conversation is likely to fork off into per-proposal rooms or overflow into <a href="https://matrix.to/#/#matrix-dev:matrix.org">#matrix-dev:matrix.org</a> or <a href="https://matrix.to/#/#matrix-architecture:matrix.org">#matrix-architecture:matrix.org</a> depending on traffic levels, however).</p>
<p>Feedback would be much appreciated on this - so please head over to <a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> and let us know how it feels and how it could do better.</p>
<p>This is also a major step towards properly formalising Matrix.org's governance model - hopefully the changes above are sufficient to improve the health of the evolution of the Spec as we work towards an initial stable release later this year, and then you should expect to see a spec proposal for formal governance once we've (at last!) exited beta :)</p>
<p>Huge thanks to Ben for putting this together, and thanks to everyone who's contributed so far to the spec - we're looking forward to working through the backlog of proposals and turning them all into merged spec PRs!!</p>
<p>Matthew</p>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;39&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">40 / 57</span>
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;41&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
