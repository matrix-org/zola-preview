<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    </head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;21&#x2F;this-week-in-matrix-2018-09-21&#x2F;" title="This Week in Matrix 2018-09-21">This Week in Matrix 2018-09-21</a></h1>
            <span>
                21.09.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="nheko060released">Nheko 0.6.0 released!</h2>
Get <a href="https://github.com/mujx/nheko/releases/v0.6.0">latest stable releases from GitHub</a>.
<h3 id="features">Features</h3>
<ul>
 	<li>Support for sending &amp; receiving markdown formatted messages.</li>
 	<li>Import/Export of megolm session keys. (Incompatible with Riot)</li>
 	<li>macOS: The native emoji picker can be used.</li>
 	<li>Context menu option to show the raw text message of an event.</li>
 	<li>Rooms with unread messages are marked in the room list.</li>
 	<li>Clicking on a user pill link will open the user profile.</li>
</ul>
<h2 id="specproposalse2ecrosssigningandbidirectionalkeyverification">Spec Proposals: E2E Cross-signing and bi-directional key verification</h2>
<a href="https://matrix.to/#/@uhoreg:matrix.org">uhoreg</a> has written up a new <a href="https://github.com/matrix-org/matrix-doc/pull/1681">work-in-progress proposal for E2E cross-signing</a>.
<blockquote>Also, although it wasn't this week, I don't think that we have previously announced the proposal for bi-directional key verification using QR codes: <a href="https://github.com/matrix-org/matrix-doc/pull/1544">https://github.com/matrix-org/matrix-doc/pull/1544</a></blockquote>
<h2 id="jeon">Jeon</h2>
Massive update from <a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> about his <a href="https://gitlab.com/ma1uta/jeon">Jeon</a> project! This update brings Jeon into line with the most recent updates to the Client-Server, Application Service, Push and Identity APIs.
<p>In ma1uta's words:</p>
<blockquote>Jeon is a set of the java interfaces and classes which describes the Matrix API.
<ul>
 	<li>client-api: r0.4.0-1 corresponds to the r0.4.0 C2S API.</li>
 	<li>application-api: r0.1.0-1 corresponse to the r0.1.0 AS API,</li>
 	<li>push-api: r0.1.0-1 corresponds to the r0.1.0 PUSH API,</li>
 	<li>identity-api: r0.1.0-1 corresponds to the r0.1.0 IS API.</li>
 	<li>All artefacts available from the Maven Central Repository.</li>
</ul>
Major changes:
<ul>
 	<li>Full support for the corresponding Matrix api.</li>
 	<li>Changed version for displaying the Matrix api version.</li>
 	<li>Added support to the asynchronous responses.</li>
</ul>
Also updated the swagger schemas generated from the code:
<ul>
 	<li><a href="https://ma1uta.github.io/swagger/c2s.json">https://ma1uta.github.io/swagger/c2s.json</a> - C2S API</li>
 	<li><a href="https://ma1uta.github.io/swagger/as.json">https://ma1uta.github.io/swagger/as.json</a> - AS API</li>
 	<li><a href="https://ma1uta.github.io/swagger/push.json">https://ma1uta.github.io/swagger/push.json</a> - PUSH API</li>
 	<li><a href="https://ma1uta.github.io/swagger/id.json">https://ma1uta.github.io/swagger/id.json</a> - IS API</li>
</ul>
And the first hotfix: application-api r0.1.0-2 with fixed url (/transactions has been changes to the _matrix/app/v1/transactions). And this release will break all AS because synapse sends transactions to the old url.</blockquote>
Join <a href="https://matrix.to/#/#jeon:matrix.org">#jeon:matrix.org</a> to discuss the progress of this product more.
<h2 id="voipsignallingsupporthaslandedinlibqmatrixclient">VoIP signalling support has landed in libQMatrixClient</h2>
Exciting times for <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>!! Thanks <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>, developer of libQMatrixClient and <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a>:
<blockquote>After some pretty long time of being in a PR/fork, VoIP signalling support has landed in libQMatrixClient! Many thanks to mariogrip (the founder of UBports) for the initial code and to delijati (a developer behind <a href="https://github.com/uMatriks/uMatriks">uMatriks</a>) for getting it to work with the most recent library.<br />The actual VoIP stack does not come included, client developers have to take whatever WebRTC implementation is available for their platform and glue the pieces together. However, as the example of uMatriks shows, this now becomes relatively easy if your platform is on good terms with WebRTC (like UBports). I look forward to further work with UBports community on keeping this platform a first-class Matrix citizen.</blockquote>
Go chat in <a href="https://matrix.to/#/#quaternion:matrix.org">#quaternion:matrix.org</a> to see the ways libQMatrixClient is developing.
<h2 id="matriqueisnowspectral">Matrique is now Spectral</h2>
After intense discussion, there is a new name for Matrique: <strong>Spectral</strong>. The repo now sites at <a href="https://gitlab.com/spectral-im/spectral">https://gitlab.com/spectral-im/spectral</a>, there is a new room at <a href="https://matrix.to/#/#spectral:encom.eu.org">#spectral:encom.eu.org</a>, and a new logo:
<p><img src="spectral.logo.png" alt="" /><a href="/blog/wp-content/uploads/2018/09/spectral.logo_.png"><img class="alignnone size-full wp-image-3580" src="/blog/wp-content/uploads/2018/09/spectral.logo_.png" alt="" width="128" height="128" /></a></p>
<h2 id="fluffychatfeaturedinopenstore">FluffyChat featured in OpenStore</h2>
<a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a> is getting some love from OpenStore, the official Ubuntu Touch app store: this week it was the featured app.
<p><img src="fluffychat-openstore.png" alt="" /><a href="/blog/wp-content/uploads/2018/09/fluffychat-openstore.png"><img class="alignnone size-full wp-image-3579" src="/blog/wp-content/uploads/2018/09/fluffychat-openstore.png" alt="" width="540" height="960" /></a></p>
<h2 id="matrixcorporal">Matrix Corporal</h2>
<a href="https://matrix.to/#/@slavi:devture.com">@slavi:devture.com</a>, creator of <a href="https://github.com/devture/matrix-corporal">Matrix Corporal</a> (a Matrix server configuration tool - "Kubernetes for Matrix"):
<blockquote><a href="https://github.com/devture/matrix-corporal">Matrix Corporal</a> has received <a href="https://github.com/devture/matrix-corporal/blob/2c65b573261cc19c3a0a1cb10168257b953200e8/CHANGELOG.md">some updates</a> over the past few weeks since its initial release: a couple of additional HTTP APIs for retrieving/destroying user access tokens; more consistency with the Matrix Client-Server specification when it comes to error responses; faster reconciliation for user accounts that are joined to many/large rooms.</blockquote><br /><h2 id="matrixdockeransibledeploy">matrix-docker-ansible-deploy</h2><br />Another project from <a href="https://matrix.to/#/@slavi:devture.com">@slavi:devture.com</a>, for those who prefer their DevOps ansible-flavoured:<br /><blockquote><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> now also helps you <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-well-known.md">set up service discovery</a> as per the <a href="/docs/spec/client_server/r0.4.0.html#server-discovery">.well-known Matrix specification</a>.</blockquote>
<h2 id="jcgansibleprformatrixnotifications">jcg ansible PR for matrix notifications</h2>
jcg has an <a href="https://github.com/ansible/ansible/pull/45823">upstream PR to have matrix notifications in ansible</a>. Combined with Slavi's <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> above, you can get Matrix notifications about issues with your Matrix deployment…
<h2 id="seaglasse2eselfupdate">Seaglass E2E + self-update</h2>
<a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a>:
<blockquote><a href="https://github.com/neilalexander/seaglass">Seaglass</a> end-to-end encryption support is now complete, including device verification and blacklisting, key sharing requests, key import and export (which should be compatible with Riot) and re-requesting keys</blockquote><br />This is really exciting news for macOS matrix users!<br /><blockquote>I'm also working on auto-updating Seaglass with <a href="https://matrix.to/#/@aaron:raim.ist">Aaron Raimist</a>'s help in addition to finishing E2E support :-)</blockquote><br />:-) is right!<br /><h2 id="ma1utajmsdk">ma1uta jmsdk</h2><br /><a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> must have been in a work-on-Matrix mode this week, because he has also updated <a href="https://github.com/ma1uta/jmsdk">jmsdk</a>:<br /><blockquote>I have released a new version of the java client (<a href="https://github.com/ma1uta/jmsdk/tree/master/client-sdk">https://github.com/ma1uta/jmsdk/tree/master/client-sdk</a>). The new client works is asynchronous mode, each method doesn't block the thread and return the CompletableFuture (promise in java). Then you can block thread to get the response or build a asynchronous promises chain.</blockquote><br />Finally:<br />ma1uta is also looking forward to the release of Java 11:<br /><blockquote>with the Curve25519 key agreement (http://openjdk.java.net/jeps/324) and will try make a pure java implementation of the olm/megolm. Just for fun. :)</blockquote>
<h2 id="synapsepurge">synapse-purge</h2>
<a href="@maze:strahlungsfrei.de">Maze</a>, seeing that his synapse database was already at several gigabytes, decided to produce a tool to shrink it:
<blockquote>The <a href="https://github.com/djmaze/synapse-purge/">synapse-purge</a> tool allows homeserver admins to free disk space by purging old room events from the synapse database. It is an alternative for <em>synpurge</em> which <a href="https://github.com/djmaze/synapse-purge/issues/27">currently does not work correctly</a>.<br /><br />Configuration is minimalistic at the moment. Meaning it purges all remote rooms on the server with a globally configured preservation period.</blockquote>
<h2 id="synapse">synapse</h2>
<a href="https://matrix.to/#/@andrew:shadura.me">andrewsh</a>: <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.4">0.33.4</a> uploaded to Debian's stretch-backports, pending approval.
<p><a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.5rc1">0.33.5rc1</a> is now available, with the big news being the inclusion of support for Python 3.5 and 3.6! Hawkowl's Py3 has merged for monoliths and is working pretty well, looking like 2-3x RAM improvement. Please help us test!</p>
<p>Erik's state compressor tool is pretty much finished, we've been starting to run it on things and it reduces disk usage for the state group table by at least 10x.</p>
<p>The only catch is that it's quite DB heavy whilst it runs, so we haven't run it on Matrix.org yet.</p>
<h2 id="fractal">Fractal</h2>
<a href="@afranke:matrix.org">Alexandre Franke</a> and the <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> team:
<blockquote>refactoring of the history and other parts is going on in the master branch of <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>. We also cleaned up build and dependency related bits.</blockquote><br /><h2 id="maubotandsedbot">maubot and sedbot</h2><br /><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>:<br /><blockquote>I made some updates to <a href="https://github.com/maubot/maubot">maubot</a> and fixed most of the <a href="https://github.com/maubot/sed">sedbot</a> (S. Edbot) issues people had reported.</blockquote><br />tulir used maubot to create a <a href="https://github.com/maubot/factorial">factorial bot</a>:<br /><br /><img src="factorialbot.png" alt="" /><a href="/blog/wp-content/uploads/2018/09/factorialbot.png"><img class="alignnone size-full wp-image-3578" src="/blog/wp-content/uploads/2018/09/factorialbot.png" alt="" width="244" height="149" /></a><br /><blockquote>I might also make some useful bots soon</blockquote>
And so it was - late breaking news that maubot has been used to develop a Dictionary-definition-bot! Not available for public use yet but it proves that the project is useful!
<h2 id="riotweb">Riot Web</h2>
Lazy Loading remains the focus, we're getting closer with more bugs solved this week! To enable Lazy Loading room members and get speed and memory benefits in Riot, use the <a href="https://riot.im/develop/">develop branch</a> and enable "Lazy Loading" under "Labs" in the settings.
<p>Lots of final bug hunting for lazy loading - this is taking longer than you might expect because we're doing end-to-end CI everywhere.</p>
<p>Lots of work on E2E, Dave has been working on:</p>
<blockquote>UI for e2e key backup that's waiting for some lower level bits<br />and hopefully our e2e core code is moving from asm.js to webassembly making it, by current estimations, significantly faster.</blockquote>
Redesign work continuing as well - Bruno has been working on it this week, Jouni the designer will visit next week to continue the process.
<p>Nad has joined us to help with design bandwidth and is working on the onboarding flows for the redesign as well as fixing all the UX issues in Communities!</p>
<h2 id="riotmobilemobilesdks">Riot Mobile + Mobile SDKs</h2>
Lots of work on Lazy Loading - to be released along with Riot Web.
<h2 id="bridges">Bridges</h2>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> is joining us to work part-time on bridges going forwards - this is great news, especially for his connection-based IRC bridging antics as well as catching up on the PR and maintenance backlog for the IRC bridge and Slack bridge.
<h2 id="modular">Modular</h2>
<a href="https://modular.im/">Modular</a> (Hosted Homeservers) has first customers; if you want to give it a go please let us know!
<h2 id="finally">Finally</h2>
Thanks for reading, take a look at Matrix Live below!
<div class="video-container"><iframe src="https://www.youtube.com/embed/pusCGlJaZxU" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe></div>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;15&#x2F;this-week-in-matrix-2018-09-14&#x2F;" title="This Week in Matrix 2018-09-14">This Week in Matrix 2018-09-14</a></h1>
            <span>
                15.09.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2>Dimension</h2>
<div class="mx_EventTile_line"><span class="mx_MTextBody mx_EventTile_content"><span class="mx_EventTile_body" dir="auto"><strong>Update</strong> (this got lost in the original post; sorry Travis!): <a href="https://dimension.t2bot.io/">Dimension</a> received a security update - if you run your own Dimension instance it is strongly recommended you update right away. Telegram bridge support in Dimension is underway, with more updates expected for next week in Matrix.</span>
</span>
</div>
<h2 id="clients">Clients</h2>
<h3 id="fluffychat">Fluffychat</h3>
It's been some months since we checked in with <a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a>. If you're a Ubuntu Touch user, or have a device running it, you should see the progress that has been made recently on this Matrix client. Collected changelog 0.5.0 to latest (0.5.4):
<ul>
 	<li>Search chats</li>
 	<li>Chat avatars</li>
 	<li>Search users in chats</li>
 	<li>Security &amp; Privacy settings:</li>
</ul>
<ol>
 	<li>Disable typing notifications</li>
 	<li>Auto-accept invitations</li>
</ol>
<ul>
 	<li>New message status:</li>
</ul>
<ol>
 	<li>Sending: Activity indicator</li>
 	<li>Sent: Little cloud</li>
 	<li>Received: Tick</li>
 	<li>Seen by someone: Usericon</li>
</ol>
<ul>
 	<li>Display stickers</li>
 	<li>Minor UI improvements</li>
 	<li>FluffyChat now automatically opens the link to the matrix.org consens</li>
 	<li>Updated translations</li>
</ul>
<a href="/blog/wp-content/uploads/2018/09/2018-09-14-fluffychat.png"><img class="alignnone size-large wp-image-3560" src="/blog/wp-content/uploads/2018/09/2018-09-14-fluffychat-576x1024.png" alt="" width="576" height="1024" /></a>
<h3 id="seaglass">Seaglass</h3>
<a href="https://matrix.to/#/@neilalexander:matrix.org">Neil</a> has been keeping up the pace with <a href="https://github.com/neilalexander/seaglass">Seaglass</a> development:
<blockquote>Seaglass has had a substantial rewrite to the room cache to help improve reliability and reduce crashes, better thumbnail behaviour on inline images, various tiny visual tweaks, in-window blending, support for encryption key sharing requests for E2E rooms.<br /><br />Rendering performance has been massively increased (if you ignore the occasional bug). Resizing the window shouldn't be so slow anymore and a lot of avatar image operations are no longer repeated unnecessarily<br /><br />Other than that this week has mostly featured lots and lots of bug fixes, hopefully lots of crashes fixed.</blockquote>
Screenshot below shows the new E2E UI:
<p><a href="/blog/wp-content/uploads/2018/09/2018-09-14-seaglass-e2e-ui.png"><img class="alignnone size-large wp-image-3561" src="/blog/wp-content/uploads/2018/09/2018-09-14-seaglass-e2e-ui-1024x627.png" alt="" width="1024" height="627" /></a></p>
<h3 id="quaternion">Quaternion</h3>
When not escaping typhoons, <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> has found some time to continue work on Quaternion:
<blockquote><a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a>'s master branch is alive again - it's been prone to crashes in the last two weeks, now it shouldn't. Feel free to try the new room list organised by tag!</blockquote><br /><h3 id="simplematrix">SimpleMatrix</h3><br /><a href="https://matrix.to/#/@MTRNord:matrix.ffslfl.net">MTRNord</a> has been working on SimpleMatrix:<br /><blockquote><a href="https://gitlab.com/Nordgedanken/SimpleMatrix">SimpleMatrix</a> now supports Basic messages sending (with Commonmark) and basic receiving of messages.</blockquote>
<h3 id="minivector">miniVector</h3>
<a href="https://matrix.to/#/@bubuiic:matrix.org">Marcus</a> has re-packaged miniVector for F-Droid:
<blockquote>There's now a second matrix client available in F-Droid: <a href="https://f-droid.org/packages/com.lavadip.miniVector/">https://f-droid.org/packages/com.lavadip.miniVector/</a><br /><br />This is a fork of Riot Android done by hrjet, f-droid release done by me. It's removing mostly jitsi group call functionality and some other smaller stuff. In doing so it manages to require far less permissions and is also only 12 MB in size instead of riots 20 MB.</blockquote><br /><h3 id="matrique">Matrique</h3><br /><a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>:<br /><blockquote>Matrique gained alpha support for multiple accounts</blockquote>
This is thanks to leaning on libqmatrixclient's native multiple account support!
<p><a href="/blog/wp-content/uploads/2018/09/2018-09-14-matrique-multiple-accounts.png"><img class="alignnone size-full wp-image-3562" src="/blog/wp-content/uploads/2018/09/2018-09-14-matrique-multiple-accounts.png" alt="" width="960" height="674" /></a></p>
<h3 id="riotweb0164released">Riot Web 0.16.4 released</h3>
This is pretty much a maintenance release - fixing the DM avatar regression that crept in with 0.16.3, adding better support for warning users when their client hasn't yet synced with the server, and the final bits of work needed before we can turn on membership Lazy Loading in the upcoming Riot 0.17.
<p>Full changelogs as always are split over the three projects which make up Riot/Web:</p>
<ul>
 	<li><a href="https://github.com/vector-im/riot-web/blob/master/CHANGELOG.md#changes-in-0164-2018-09-10">https://github.com/vector-im/riot-web/blob/master/CHANGELOG.md#changes-in-0164-2018-09-10</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-react-sdk/blob/master/CHANGELOG.md#changes-in-0134-2018-09-10">https://github.com/matrix-org/matrix-react-sdk/blob/master/CHANGELOG.md#changes-in-0134-2018-09-10</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-js-sdk/blob/master/CHANGELOG.md#changes-in-0110-rc1-2018-09-07">https://github.com/matrix-org/matrix-js-sdk/blob/master/CHANGELOG.md#changes-in-0110-rc1-2018-09-07</a></li>
</ul>
<h2 id="sdksandlibraries">SDKs and Libraries</h2>
<h3 id="libqmatrixclientecosystem">libQMatrixClient ecosystem</h3>
As you may know, <a href="https://gitlab.com/b0/matrique-go">Matrique</a>, led by <a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>, and <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a>, led by <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>, are both projects build using <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>, a Qt5 library from <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> designed for writing Matrix clients. While <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> has been working on the library for some time, <a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> has also now
started making contributions:
<blockquote>libQMatrixClient now has a pkg-config file to further ease clients building on Linux systems, as well as more convenient API to track read markers if all users, not just of the local one.</blockquote>
<h3 id="matrixjssdkv0110released"><a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a> v0.11.0 released</h3>
<a href="https://github.com/matrix-org/matrix-js-sdk/releases">This release contains</a> support for lazy loading room members, and also some breaking changes relating to <code>startClient()</code>.
<blockquote>
<ul>
 	<li>Support for lazy loading members. This should improve performance for users who joined big rooms a lot. Pass to <code>lazyLoadMembers = true</code> option when calling <code>startClient</code>.</li>
 	<li><code>MatrixClient::startClient</code> now returns a Promise. No method should be called on the client before that promise resolves. Before this method didn't return anything.</li>
 	<li>A new <code>CATCHUP</code> sync state, emitted by <code>MatrixClient#"sync"</code> and returned by <code>MatrixClient::getSyncState()</code>, when doing initial sync after the <code>ERROR</code> state. See <code>MatrixClient</code> documentation for details.</li>
 	<li><code>RoomState::maySendEvent('m.room.message', userId)</code> &amp; <code>RoomState::maySendMessage(userId)</code> do not check the membership of the user anymore, only the power level. To check if the syncing user is allowed to write in a room, use <code>Room::maySendMessage()</code> as <code>RoomState</code> is not always aware of the syncing user's membership anymore, in case lazy loading of members is enabled.</li>
</ul>
</blockquote>
<h2 id="synapse0334released">Synapse</h2>
Synapse 0.33.4 <a href="/blog/2018/09/11/synapse-0-33-4-released/">was released</a>, with a whole host of bug fixes, some enhancements to resource usage management and a bunch of internal changes in readiness for room member state lazy loading and our ongoing port to Python 3.
<p>Meanwhile, Python 3 support for monolithic (non-worker) Synapses has finally landed on the develop branch, thanks to massive work from hawkowl and notafile - if you want to help us test and flush out any remaining byte/utf8 style errors, please create a virtualenv for python 3.6 or 3.5 (twisted doesn't support 3.7 yet) and point the develop branch of Synapse at it, tail the logs for ERRORs and report them via <a href="https://github.com/matrix-org/synapse/issues">Github</a> if/when you see them.  In practice it seems pretty stable though, and noticeably reduces RAM and speeds things up thanks to improved GC and general performance work in Python.</p>
<p>We've also discovered that <a href="http://jemalloc.net/">jemalloc</a> works <em>very</em> well at improving RAM usage on Python 2 under Linux (we haven't tried it on Python 3 yet) by providing a more fragmentation-resistant malloc implementation; if you are having problems with your Synapse RAM spiking up we recommend giving it a go.  All of the Matrix.org server is using it now.</p>
<p>Also, lots of ops work this week; Erik has prototyped a <a href="https://github.com/erikjohnston/rust-synapse-compress-state">new storage strategy for state groups</a> which shrinks storage requirements by 10x, we'll be applying this shortly to Matrix.org otherwise we're going to run out of disk space.  There was also a regression on Synapse develop on federation, where outbound requests would get stuck and never retry - this impacted the matrix.org server badly over the course of the week, but as of Friday night we have a <a href="https://github.com/matrix-org/synapse/pull/3875/files">workaround</a> in place.  We're not aware of it affecting anyone other than the matrix.org deployment (and we haven't got to the root cause yet).</p>
<h2 id="constructhomeserverprogress">Construct homeserver progress</h2>
This week:
<blockquote>Added notification counts which show up in Riot now, and expanded support for g++-7 and 8 instead of just g++-6. Construct repository is found at: <a href="https://github.com/matrix-construct/construct">https://github.com/matrix-construct/construct</a>.</blockquote>
<h2 id="ircconnectiontracker">IRC Connection Tracker</h2>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> is continuing to work on the project to split out IRC connection management from the IRC bridge, letting the bridge be restarted without interrupting IRC connections!
<p>The project is going quite well, and is going to be used on matrix.org once production ready which will really speed up upgrades and give us near zero downtime indifferent to the size of the bridge.</p>
<p>At the moment the project has the ability to spin up and maintain connections, however the connections are not supporting IRC fully yet as there are bits to do on the parsing and maintaining state side. There is also work on a top-like tool to visualise and control the service outside of the bridge so we can quickly handle any oddities if they come up. Finally, it allows you to hot reload the configuration without dropping existing connections!</p>
<p>On the work done to support this on matrix-appservice-bridge, there is basic support for stating connections on the bridge but it's in early stages at the moment.</p>
<h2 id="matrixdev">Spec</h2>
Travis has been tidying up loose bits on the Matrix spec this week:
<ul>
 	<li>experimenting with splitting out the "Room" specific bits of the spec into a <a href="https://github.com/matrix-org/matrix-doc/pull/1669">dedicated section</a> rather than being split between the CS and SS APIs;</li>
 	<li>trying to pin down a <a href="https://github.com/matrix-org/matrix-doc/pull/1607">formal grammar for room aliases</a></li>
 	<li>...and <a href="https://github.com/matrix-org/matrix-doc/pull/1598">identifiers in general</a>.</li>
</ul>
In practice, finalising the S2S API is now blocked on proving the implementation on Synapse; work on this will resume next week and then we'll document the end result and ship the r0 at last.  Timings are going to be completely determined by available manpower and what level of ops distractions we face (c.f. the Synapse section above...).  Whilst we're waiting for the final S2S details to get hashed out, Travis is going to be helping on Riot dev, to try to stop <a href="https://twitter.com/amarendra/status/1040782285807603714">stuff like this</a>, as there's no point in having the platonic ideal of a perfect spec if actual users are unable to benefit from it.
<h2>#matrix-dev</h2>
<a href="https://matrix.to/#/#matrix-dev:matrix.org">#matrix-dev:matrix.org</a> was reborn as a new room a couple of weeks ago to flush out old corrupted events, but maybe not everyone knows. Come join <a href="https://matrix.to/#/#matrix-dev:matrix.org">#matrix-dev:matrix.org</a>, it's a starting point for all developers looking to build on the platform.  We're also rebuilding #test:matrix.org and #riot:matrix.org, although once we ship the new state resolution
<h2>A sneak peek at Modular...</h2>
&nbsp;
<p><a href="https://modular.im"><img class="aligncenter wp-image-3567 size-medium" src="/blog/wp-content/uploads/2018/09/Screenshot-2018-09-15-at-11.11.00-1-300x49.png" alt="" width="300" height="49" /></a></p>
<p> </p>
<p>Finally, there's been a massive amount of work on the <a href="https://vector.im">New Vector</a> side of things to soft-launch <a href="https://modular.im">Modular</a> - a paid hosting platform for Matrix servers (and, in future, paid integrations).  At this point we're looking for early adopters who want a dedicated Riot+Synapse for communities or companies of 50 or more users - but don't want to have to run it themselves.  Modular takes the homeserver hosting we've already been providing for <a href="https://chat.status.im">Status</a>, <a href="https://tadhack.riot.im">TADHack</a> and others, and turns it into a mass-market product.  The pricing for early adopters is over 5x cheaper than Slack, so if you've been dying to have a reliable, fast and expertly maintained homeserver without any of the headaches of admining one yourself, please head over to <a href="https://modular.im">https://modular.im</a> and give it a whirl and let us know how it goes!  This is also a great way to support Matrix development in general, as money from Modular will directly keep the core Matrix team funded to work on Matrix.  Once we're happy with the soft-launch and have incorporated any feedback we'll start yelling about it as loud as we can :)</p>
<h2>Matrix Live</h2>
We've had a bit of an accidental hiatus on Matrix Live thanks to getting submerged all the different project endgames happening atm (spec releases, lazy loading, Modular, Riot redesign etc), and for the last few Fridays we've got to midnight and beyond with too much still on the todo list to justify recording a video.  But to avoid completely falling behind, here's a slightly exhausted Saturday morning update instead (warning: Matthew is not a morning person).
<p style="text-align: center;"><div class="video-container"><iframe src="https://www.youtube.com/embed/7m5adJ2n_-0" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe></div></p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;11&#x2F;synapse-0-33-4-released&#x2F;" title="Synapse 0.33.4 released!">Synapse 0.33.4 released!</a></h1>
            <span>
                11.09.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>Roll up, roll up, get it while it's hot, Synapse 0.33.4 is here.</p>
<p>This release brings together a whole host of bug fixes, some enhancements to resource usage management and a bunch of internal changes in readiness for room member state lazy loading and our ongoing port to Python 3 (we are hoping to ship a py3 test candidate rsn!).</p>
<p>As ever, you can get the new update from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.4">https://github.com/matrix-org/synapse/releases/tag/v0.33.4</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>.</p>
<h4>Features</h4>
<ul>
 	<li>Support profile API endpoints on workers (<a href="https://github.com/matrix-org/synapse/issues/3659">#3659</a>)</li>
 	<li>Server notices for resource limit blocking (<a href="https://github.com/matrix-org/synapse/issues/3680">#3680</a>)</li>
 	<li>Allow guests to use /rooms/:roomId/event/:eventId (<a href="https://github.com/matrix-org/synapse/issues/3724">#3724</a>)</li>
 	<li>Add mau_trial_days config param, so that users only get counted as MAU after N days. (<a href="https://github.com/matrix-org/synapse/issues/3749">#3749</a>)</li>
 	<li>Require twisted 17.1 or later (fixes <a href="https://github.com/matrix-org/synapse/issues/3741">#3741</a>). (<a href="https://github.com/matrix-org/synapse/issues/3751">#3751</a>)</li>
</ul>
<h4>Bugfixes</h4>
<ul>
 	<li>Fix error collecting prometheus metrics when run on dedicated thread due to threading concurrency issues (<a href="https://github.com/matrix-org/synapse/issues/3722">#3722</a>)</li>
 	<li>Fix bug where we resent "limit exceeded" server notices repeatedly (<a href="https://github.com/matrix-org/synapse/issues/3747">#3747</a>)</li>
 	<li>Fix bug where we broke sync when using limit_usage_by_mau but hadn't configured server notices (<a href="https://github.com/matrix-org/synapse/issues/3753">#3753</a>)</li>
 	<li>Fix 'federation_domain_whitelist' such that an empty list correctly blocks all outbound federation traffic (<a href="https://github.com/matrix-org/synapse/issues/3754">#3754</a>)</li>
 	<li>Fix tagging of server notice rooms (<a href="https://github.com/matrix-org/synapse/issues/3755">#3755</a>, <a href="https://github.com/matrix-org/synapse/issues/3756">#3756</a>)</li>
 	<li>Fix 'admin_uri' config variable and error parameter to be 'admin_contact' to match the spec. (<a href="https://github.com/matrix-org/synapse/issues/3758">#3758</a>)</li>
 	<li>Don't return non-LL-member state in incremental sync state blocks (<a href="https://github.com/matrix-org/synapse/issues/3760">#3760</a>)</li>
 	<li>Fix bug in sending presence over federation (<a href="https://github.com/matrix-org/synapse/issues/3768">#3768</a>)</li>
 	<li>Fix bug where preserved threepid user comes to sign up and server is mau blocked (<a href="https://github.com/matrix-org/synapse/issues/3777">#3777</a>)</li>
</ul>
<h4>Internal Changes</h4>
<ul>
 	<li>Removed the link to the unmaintained matrix-synapse-auto-deploy project from the readme. (<a href="https://github.com/matrix-org/synapse/issues/3378">#3378</a>)</li>
 	<li>Refactor state module to support multiple room versions (<a href="https://github.com/matrix-org/synapse/issues/3673">#3673</a>)</li>
 	<li>The synapse.storage module has been ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3725">#3725</a>)</li>
 	<li>Split the state_group_cache into member and non-member state events (and so speed up LL /sync) (<a href="https://github.com/matrix-org/synapse/issues/3726">#3726</a>)</li>
 	<li>Log failure to authenticate remote servers as warnings (without stack traces) (<a href="https://github.com/matrix-org/synapse/issues/3727">#3727</a>)</li>
 	<li>The CONTRIBUTING guidelines have been updated to mention our use of Markdown and that .misc files have content. (<a href="https://github.com/matrix-org/synapse/issues/3730">#3730</a>)</li>
 	<li>Reference the need for an HTTP replication port when using the federation_reader worker (<a href="https://github.com/matrix-org/synapse/issues/3734">#3734</a>)</li>
 	<li>Fix minor spelling error in federation client documentation. (<a href="https://github.com/matrix-org/synapse/issues/3735">#3735</a>)</li>
 	<li>Remove redundant state resolution function (<a href="https://github.com/matrix-org/synapse/issues/3737">#3737</a>)</li>
 	<li>The test suite now passes on PostgreSQL. (<a href="https://github.com/matrix-org/synapse/issues/3740">#3740</a>)</li>
 	<li>Fix MAU cache invalidation due to missing yield (<a href="https://github.com/matrix-org/synapse/issues/3746">#3746</a>)</li>
 	<li>Make sure that we close db connections opened during init (<a href="https://github.com/matrix-org/synapse/issues/3764">#3764</a>)</li>
 	<li>Unignore synctl in .dockerignore to fix docker builds (<a href="https://github.com/matrix-org/synapse/issues/3802">#3802</a>)</li>
</ul>
&nbsp;

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;08&#x2F;this-week-in-matrix-2018-09-07&#x2F;" title="This Week In Matrix 2018-09-07">This Week In Matrix 2018-09-07</a></h1>
            <span>
                08.09.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <hr />
<p>Hi all,</p>
<p>Ben's away today, so this TWIM is brought to you mainly in association with Cadair's TWIMbot!</p>
<h2><a id="user-content-xmpp" class="anchor" href="https://github.com/benparsons/matrix-notes/blob/master/twim/twim-2018-09-07.md#xmpp" aria-hidden="true"></a>Spec Activity</h2>
Since <a href="/blog/2018/09/03/matrix-spec-update-august-2018/">last week's sprint to get the new spec releases</a> out, focus on the core team has shifted exclusively to the remaining stuff needed to cut the first stable release for the Server-Server API.  In practice this means fleshing out the MSCs in flight and implementing them - work has progressed on both improving auth rules, switching event IDs to be hashes and others.  Whilst implementing this in Synapse we're also doing a complete audit and overhaul of the current federation code, hence the <a href="/blog/2018/09/06/critical-security-update-synapse-0-33-3-1/">0.33.3.1</a> security release this week.
<p>Meanwhile, in the community, ma1uta reports:</p>
<blockquote><span class="mx_MTextBody mx_EventTile_content"><span class="mx_EventTile_body markdown-body" dir="auto">I am working on the <a href="https://github.com/ma1uta/jeon">jeon</a> (java matrix api) to update it to the latest stable release. Also I changed versions of api to form <code>rX.Y.Z-N</code> where <code>rX.Y.Z</code> is a API version and <code>N</code> is a library version within API. So, I have prepared Push API (r0.1.0-1), Identity API (r0.1.0-1) and Appservice API (r0.1.0-1) for the first release and current updating the C2S API to the r0.4.0 version.</span>
</span>
</blockquote>
<h2>XMPP Bridging</h2>
Are you in the market for a Matrix-XMPP bridge? When I say "market", I mean it because this week we have <em>two </em>announcements for bridging to XMPP! You can choose whether you'd prefer your bridge to be implemented as a puppet, or a bot.
<p>Ma1uta has a new version of <a href="https://github.com/ma1uta/matrix-jabber-java-bridge">his Matrix-Xmpp bridge</a>:</p>
<blockquote>It is a double-puppet bridge which can connects the Matrix and XMPP ecosystems. Just invite the <code>@_xmpp_master:ru-matrix.org</code> and tell him: <code>@_xmpp_master: connect test@conference.jabber.org</code> to connect current room with the specified conference.<br />You can ask about this bridge in the <a href="https://matrix.to/#/#matrix-jabber-java-bridge:ru-matrix.org">#matrix-jabber-java-bridge:ru-matrix.org</a> room.<br />Currently supports only conferences and only <code>m.text</code> messages. 1:1 conversations and other message types will be later.</blockquote><br />maze appeared this week and announced <a href="https://github.com/djmaze/mxbridge">MxBridge</a>, a new Matrix-XMPP bridge:<br /><blockquote>It works as a bot, so it is non-puppeting. Rooms can be mapped dynamically by the bot administrator(s). There is no support for 1-1 chats (yet). MxBridge is written as a multi-process application in Elixir and it should scale quite well (but don't tie me down on it ;)). <a href="https://github.com/djmaze/mxbridge">https://github.com/djmaze/mxbridge</a></blockquote>
<h2>Seaglass</h2>
Neil powers onwards with <a href="https://github.com/neilalexander/seaglass">Seaglass</a>, with updates this week including:
<ul>
 	<li>Displaying stickers</li>
 	<li>Lazy-loading room history on startup to help with performance</li>
 	<li>Scrollback support (both forwards and backwards)</li>
 	<li>Support for Matthew's Account (aka retries on initial sync for those of us with massive initial syncs, and general perf improvements to nicely support &gt;2000 rooms)</li>
 	<li>Better avatar support &amp; cosmetics on macOS Mojave</li>
 	<li>Encryption verification support, device blacklisting and message information</li>
 	<li>Ability to turn encryption on in rooms</li>
 	<li>Responding to encryption being turned on in rooms</li>
 	<li>Paranoid mode for encryption (only send to verified devices)</li>
 	<li>Invitation support (both in UI and /invite)</li>
</ul>
<a href="/blog/wp-content/uploads/2018/09/seaglass.jpg"><img class="aligncenter wp-image-3547" src="/blog/wp-content/uploads/2018/09/seaglass-1024x681.jpg" alt="" width="826" height="550" /></a>
<h2>Matrique</h2>
Blackhat announces that <a href="https://gitlab.com/b0/matrique">Matrique's</a> new design is almost done, along with GNU/Linux, MacOS and Windows nightly build!
<h2><a href="/blog/wp-content/uploads/2018/09/matrique.png"><img class="aligncenter size-full wp-image-3546" src="/blog/wp-content/uploads/2018/09/matrique.png" alt="" width="960" height="674" /></a></h2>
<h2>Fractal</h2>
Alexandre Franke says:
<blockquote>Fractal 3.30 got release alongside the rest of GNOME. It includes a bunch of new and updated translations, and redacted messages are now hidden.</blockquote>
Meanwhile, hidden in this screenshot, uhoreg noted that E2E plans are progressing...
<p><a href="/blog/wp-content/uploads/2018/09/fractal.png"><img class="aligncenter size-full wp-image-3548" src="/blog/wp-content/uploads/2018/09/fractal.png" alt="" width="831" height="210" /></a></p>
<h2>Riot</h2>
Bruno has been hacking away on Riot/Web squashing the remaining Lazy Loading Members defects and various related optimisations and fixes. We also released Riot/Web 0.16.3 as a fairly minor point release (which unfortunately has a regression with DM avatars, which is fixed in 0.16.4, for which a first RC was cut a few hours ago and should be released on Monday).  Meanwhile the first cut of Lazy Loading also got implemented on Android as well. Both are hidden behind labs flags, but we're almost at a point where we can turn it on now!  Otherwise, the Riot team has got sucked into working on commercial Matrix stuff, for better or worse (all shall be revealed shortly though!)
<h2><a id="user-content-home-servers" class="anchor" href="https://github.com/benparsons/matrix-notes/blob/master/twim/twim-2018-09-07.md#home-servers" aria-hidden="true"></a>Construct</h2>
Jason has been working heavily on Construct, and has new test users.  Construct is able to federate with Synapse and the rest of the Matrix ecosystem.  mujx has created a docker for Construct which streamlines its deployment.
<blockquote>Construct development is still occurring here <a href="https://github.com/jevolk/charybdis">https://github.com/jevolk/charybdis</a> but we are now significantly closer to pushing the first release to <a href="https://github.com/matrix-construct">https://github.com/matrix-construct</a>. Also feel free to stop by in <a href="https://matrix.to/#/#test:zemos.net" rel="nofollow">#test:zemos.net</a> / <a href="https://matrix.to/#/#zemos-test:matrix.org" rel="nofollow">#zemos-test:matrix.org</a> as well -- a room hosted by Construct, of course.<br /><br />tulir has now deployed using the standalone install instructions on a very small LXC VM using ZFS. Unfortunately ZFS does not support O_DIRECT (direct disk IO) which is how Construct achieves maximum performance using concurrent reads. This is not a problem though when using an SSD or for personal deployments. I'll be posting more about how Construct hacked RocksDB to use direct IO, which can get the most out of your hardware with multiple requests in-flight (even with an SSD).</blockquote>
<h2>Synapse</h2>
Work was split this week into spec/security work, with the critical update for <a href="/blog/2018/09/06/critical-security-update-synapse-0-33-3-1/">0.33.3.1</a> - if you haven't upgraded, please do so immediately.
<p>Otherwise, Hawkowl has been on a mission to finish the Python 3 port, which is now almost merged.  Testers should probably wait until it fully merges to the develop branch and we'll yell about it then, but impatient adrenaline enthusiasts may want to check out the hawkowl/py3-3 branch (although it may explode in your face, mangle your DB and format your cat, and probably misses lots of recent important PRs like the 0.33.3.1 stuff).  However, i've been running a variant on some servers for the last few days without problems - and it seems (placebo effect notwithstanding) incredibly snappy...</p>
<p>Meanwhile, the Lazy Loaded Member implementation got sped up by 2-3x, which makes /sync roughly 2-3x faster than it would be without Lazy Loading.  This hasn't merged yet, but was the main final blocker behind Lazy Loading going live!</p>
<h2>matrix-docker-ansible-deploy</h2>
Slavi reports:
<blockquote><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy" target="_blank" rel="noopener">matrix-docker-ansible-deploy</a> now supports bridging to <a href="https://telegram.org/" target="_blank" rel="noopener">Telegram</a> by installing <a class="mx_UserPill" title="@tulir:maunium.net" data-reactroot="">tulir</a>'s <a href="https://github.com/tulir/mautrix-telegram" target="_blank" rel="noopener">mautrix-telegram</a> bridge. This feature is contributed by <a href="https://github.com/izissise" target="_blank" rel="noopener">@izissise.</a><br /><br />In addition, Matrix Synapse is now more configurable from the playbook, with support for enabling stats-reporting, event cache size configurability, password peppering.</blockquote>
<h2><a id="user-content-matrix-python-sdk-needs-a-maintainer" class="anchor" href="https://github.com/benparsons/matrix-notes/blob/master/twim/twim-2018-09-07.md#matrix-python-sdk-needs-a-maintainer" aria-hidden="true"></a>Matrix Python SDK needs a maintainer</h2>
We should say a huge <strong>Thank You</strong> to &amp;Adam for his work leading the Python SDK over the previous months! Unfortunately due to a busy home life (best of luck for the second child!) he has decided to step down as lead maintainer. Anyone interested in this project should head to <a href="https://github.com/matrix-org/matrix-python-sdk/issues/279">https://github.com/matrix-org/matrix-python-sdk/issues/279</a>, and also come and chat in <a href="https://matrix.to/#/#matrix-python-sdk:matrix.org">#matrix-python-sdk:matrix.org.</a>
<h2>MatrixToyBots!</h2>
<a href="https://matrix.to/#/@Coffee:matrix.org">Coffee</a> <a href="https://matrix.to/#/!FPUfgzXYWTKgIrwKxW:matrix.org/$1536260231366792ZSvnG:matrix.org">reports that</a>:
<blockquote>A new bot appears! Are you a pedantic academic who likes to correct others' misuse of Latin-derived plurals? This task can now be automated for you by means of <a href="https://gitlab.com/Matrixcoffee/MatrixToyBots">SingularBot</a>! Also for people who just like to have some fun. Free PongBot and SmileBot included.</blockquote><br /><h2><a id="user-content-kitsune-on-hokkaido-island" class="anchor" href="https://github.com/benparsons/matrix-notes/blob/master/twim/twim-2018-09-07.md#kitsune-on-hokkaido-island" aria-hidden="true"></a>kitsune on Hokkaido island</h2><br /><blockquote>I ended up being on Hokkaido island right when a major earthquake struck it; so no activity on Matrix from me in the nearest couple of days. Also, donations to <a href="https://globalgiving.org/projects/hokkaido-earthquake-response/" rel="nofollow">GlobalGiving for the disaster relief are welcome</a> because people are really struggling here (abusing the communication channel, sorry).</blockquote>
<h2>Matrix Live</h2>
...has got delayed again; sorry - we're rather overloaded atm. We'll catch up as soon as we can.

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;06&#x2F;critical-security-update-synapse-0-33-3-1&#x2F;" title="Critical Security Update: Synapse 0.33.3.1">Critical Security Update: Synapse 0.33.3.1</a></h1>
            <span>
                06.09.2018 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/neil-johnson">
                    Neil Johnson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi All,</p>
<p>As referenced in yesterday's <a href="/blog/2018/09/05/pre-disclosure-upcoming-critical-security-fix-for-synapse/">pre-disclosure</a>, today we are releasing Synapse 0.33.3.1 as a critical security update.</p>
<p>We have patched two security vulnerabilities we identified whilst working on the upcoming r0 spec release for the Server-Server API (see details below). We do not believe either have been exploited in the wild, but strongly recommend everybody running a federated Synapse upgrades immediately. </p>
<p>As always you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.3.1">here</a> or from any of the sources mentioned at <a href="https://github.com/matrix-org/synapse/">https://github.com/matrix-org/synapse/</a></p>
<p>Many thanks for your patience and understanding; with fixes like this we are moving ever closer to Synapse reaching a 1.0 Thanks also to the package maintainers who have coordinated with us to ensure distro packages are available for a speedy upgrade!</p>
<p>Note, for anyone running Debian Jessie, we have prepared a 0.33.2.1 deb (as 0.33.3 dropped support for Jessie).</p>
<p> </p>
<h3>Synapse 0.33.3.1 (2018-09-06)</h3>
<h4>SECURITY FIXES</h4>
<ul>
 	<li>Fix an issue where event signatures were not always correctly validated (<a href="https://github.com/matrix-org/synapse/issues/3796">#3796</a>)</li>
 	<li>Fix an issue where server_acls could be circumvented for incoming events (<a href="https://github.com/matrix-org/synapse/issues/3796">#3796</a>)</li>
</ul>
<h4>Internal Changes</h4>
<ul>
 	<li>Unignore synctl in .dockerignore to fix docker builds (<a href="https://github.com/matrix-org/synapse/issues/3802">#3802</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;05&#x2F;pre-disclosure-upcoming-critical-security-fix-for-synapse&#x2F;" title="Pre-disclosure: Upcoming critical security fix for Synapse">Pre-disclosure: Upcoming critical security fix for Synapse</a></h1>
            <span>
                05.09.2018 00:00
                —
                <a href="/category/security">
                    Security
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>During the ongoing work to finalise a stable release of Matrix's Server-Server federation API, we've been doing a full audit of Synapse's implementation and have identified a serious vulnerability which we are going to release a security update to address (Synapse 0.33.3.1) on 
<b>Thursday Sept 6th 2018 at 12:00 UTC</b>.</p>
<p>We are coordinating with package maintainers to ensure that patched versions of packages will be available at that time - meanwhile, if you run your own Synapse, <strong>please be prepared to upgrade as soon as the patched versions are released</strong>.  All previous versions of Synapse are affected, so everyone will want to upgrade.</p>
<p>Thank you for your time, patience and understanding while we resolve the issue,</p>
<p><a href="/blog/wp-content/uploads/2018/09/signed_disclosure.txt">signed_predisclosure.txt</a></p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;05&#x2F;recent-matrix-org-website-improvements&#x2F;" title="Recent matrix.org website improvements">Recent matrix.org website improvements</a></h1>
            <span>
                05.09.2018 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <p>Recently I've been working to improve some of the content on the <a href="http://matrix.org">matrix.org</a> website.</p>
<p>Firstly <strong><a href="/docs/guides/faq">the FAQ</a></strong> now has updated content and a more presentable menu.</p>
<p>We have a <strong><a href="/docs/guides/">Guides Index</a></strong>, which includes a clarified guide list, plus links to off-site contributions from the community. It's possible to click &quot;recommend&quot; on these items if you've had a good experience with them. If you have documentation or guides you'd like to see added to the list, <a href="https://matrix.to/#/@benpa:matrix.org">contact me on Matrix</a> or <a href="https://github.com/matrix-org/matrix.org">make a pull request on the site repo</a>.</p>
<p>Finally, as part of a programme to improve visibility on projects in the Matrix ecosystem, we are introducing the &quot;<strong><a href="/docs/projects/clients-matrix">Matrix Clients Matrix</a></strong>&quot;. This is a list of some of the most popular current Matrix clients in the ecosystem today, and should shed some light on current feature statuses! The list is not exhaustive, and if you would like to see your client project included, please <a href="https://matrix.to/#/@benpa:matrix.org">contact me at the same address</a>, or come chat in <a href="https://matrix.to/#/#matrix-clients:lain.haus">the Matrix Client Developers community room</a>. Pretty green Features grid:</p>
<p><a href="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-05-at-16.11.06.png"><img class="alignnone size-large wp-image-3538" src="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-05-at-16.11.06-1024x657.png" alt="" width="1024" height="657" /></a></p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;03&#x2F;matrix-spec-update-august-2018&#x2F;" title="Matrix Spec Update August 2018">Matrix Spec Update August 2018</a></h1>
            <span>
                03.09.2018 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <h2>Introducing Client Server API 0.4, and the first ever stable IS, AS and Push APIs spec releases!
</h2>
Hi folks,
<p>As many know, we've been on a massive sprint to improve the spec - both fixing omissions where features have been implemented in the reference servers but were never formalised in the spec, and fixing bugs where the spec has thinkos which stop us from being able to ratify it as stable and thus fit for purpose .</p>
<p>In practice, our target has been to cut stable releases of all the primary Matrix APIs by the end of August - effectively declaring Matrix out of beta, at least at the specification level.  For context: historically only one API has ever been released as stable - the Client Server API, which was the result of a similar sprint back in Jan 2016. This means that the Server Server (SS) API, Identity Service (IS) API, Application Service (AS) API and Push Gateway API have never had an official stable release - which has obviously been problematic for those implementing them.</p>
<p>However, as of the end of Friday Aug 31, we're proud to announce the first ever stable releases of the <a href="/docs/spec">IS, AS and Push APIs</a>!</p>
<p><a href="/docs/spec"><img src="/_matrix/media/v1/download/t2l.io/587a1a86905b1e0e8f9342d76e57ffbe" /></a>
To the best of our knowledge, these API specs are now complete and accurately describe all the current behaviour implemented in the reference implementations (sydent, synapse and sygnal) and are fit for purpose. Any deviation from the spec in the reference implementations should probably be considered a bug in the impl. All changes take the form of filling in spec omissions and adding clarifications to the existing behaviour in order to get things to the point that an independent party can implement these APIs without having to refer to anything other than the spec.</p>
<p>This is the result of a lot of work which spans the whole Spec Core Team, but has been particularly driven by TravisR, who has taken the lead on this whole mission to improve the spec.  Huge thanks are due to Travis for his work here, and also massive thanks to everyone who has 
<del>suffered
</del> <del>endured
</del> reviewed his PRs and contributed to the releases.  The spec is looking unrecognisably better for it - and Matrix 1.0 is feeling closer than ever!</p>
<p>Alongside the work on the IS/AS/Push APIs, there has also been a massive attempt to plug all the spec omissions in the Client Server API.  Historically the CS API releases have missed some of the newer APIs (and of course always miss the ones which postdate a given release), but we've released the APIs which /have/ been specified as stable in order to declare them stable.  However, in this release we've tried to go through and fill in as many remaining gaps as possible.</p>
<p>The result is the release of <a href="/docs/spec/client_server/r0.4.0.html">Client Server API version 0.4</a>. This is a huge update - increasing the size of the CS API by ~40%. The biggest new stuff includes fully formalising support for end-to-end encryption (thanks to Zil0!), versioning for rooms (so we can upgrade rooms to new versions of the protocol), synchronised read markers, user directories, server ACLs, MSISDN 3rd party ids, and .well-known server discovery (not that it's widely used yet), but for the full picture, best bet is to look at <a href="/docs/spec/client_server/r0.4.0.html#changelog">the changelog</a> (now managed by <a href="https://pypi.org/project/towncrier/">towncrier</a>!).  It's probably fair to say that the CS API is growing alarmingly large at this point - Chrome says that it'd be 223 A4 pages if printed. Our solution to this will be to refactor it somehow (and perhaps switch to a more compact representation of the contents).</p>
<p>Some things got deliberately missed from the CS 0.4 release: particularly membership Lazy Loading (because we're still testing it out and haven't released it properly in the wild yet), the various GDPR-specific APIs (because they may evolve a bit as we refine them since the original launch), finalising ID grammars in the overall spec (because this is surprisingly hard and subtle and we don't want to rush it) and finally Communities (aka Groups), as they are still somewhat in flux.</p>
<p>Meanwhile, on the Server to Server API, there has also been a massive amount of work.  Since the beginning of July it's 
<b>tripled</b> in size as we've filled in the gaps, over the course of &gt;200 commits (&gt;150 of which from Travis).  If you take a look at the <a href="/docs/spec/server_server/unstable.html">current snapshot</a> it's pretty unrecognisable from the historical draft; with the main changes being:</p>
<ul>
 	<li style="font-weight: 400;">Adding the new State Resolution algorithm to address flaws in the original one.  This has been where much of our time has gone - see <a href="https://github.com/matrix-org/matrix-doc/pull/1441">MSC1442</a> for full details.  Adopting the new algorithm requires rooms to be recreated; we'll write more about this in the near future when we actually roll it out.
</li>
 	<li style="font-weight: 400;">Adding room versioning so we can upgrade to the new State Resolution algorithm.
</li>
 	<li style="font-weight: 400;">Everything is now properly expressed as Swagger (OpenAPI), just like the CS API
</li>
 	<li style="font-weight: 400;">Adding all the details for E2E encryption (including dependencies like to-device messaging and device-list synchronisation)
</li>
 	<li style="font-weight: 400;">Improvements in specifying how to authorize inbound events over federation
</li>
 	<li style="font-weight: 400;">Document federation APIs such as /event_auth and /query_auth and /get_missing_events
</li>
 	<li style="font-weight: 400;">Document 3rd party invites over federation
</li>
 	<li style="font-weight: 400;">Document the /user/* federation endpoints
</li>
 	<li style="font-weight: 400;">Document Server ACLs
</li>
 	<li style="font-weight: 400;">Document read receipts over federation
</li>
 	<li style="font-weight: 400;">Document presence over federation
</li>
 	<li style="font-weight: 400;">Document typing notifications over federation
</li>
 	<li style="font-weight: 400;">Document content repository over federation
</li>
 	<li style="font-weight: 400;">Document room directory over federation
</li>
 	<li style="font-weight: 400;">...and many many other minor bug fixes, omission fixes, and restructuring for coherency - see <a href="https://github.com/matrix-org/matrix-doc/issues/1464">https://github.com/matrix-org/matrix-doc/issues/1464</a> for an even longer list :)
</li>
</ul>
However, we haven't finished it all: despite our best efforts we're running slightly past the original target of Aug 31.  The current state of play for the r0 release overall (in terms of pending issues) is:
<a href="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-03-at-16.56.18.png"><img class="aligncenter size-full wp-image-3525" src="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-03-at-16.56.18.png" alt="" width="576" height="214" /></a>...and you can see the full breakdown over at the <a href="https://github.com/matrix-org/matrix-doc/projects/1">public Github project dashboard</a>.
<p>The main stuff we still have remaining on the Server/Server API at this point is:</p>
<ul>
 	<li style="font-weight: 400;">Better specifying how we validate inbound events. See <a href="https://github.com/matrix-org/matrix-doc/issues/1646">MSC1646</a> for details &amp; progress.
</li>
 	<li style="font-weight: 400;">Switching event IDs to be hashes. See <a href="https://github.com/matrix-org/matrix-doc/issues/1640">MSC1640</a> for details and progress.
</li>
 	<li style="font-weight: 400;">Various other remaining security considerations (e.g. how to handle malicious auth events in the DAG; how to better handle DoS situations).
</li>
 	<li style="font-weight: 400;">Merging in the changes to authoring m.room.power_levels (as per <a href="https://github.com/matrix-org/matrix-doc/issues/1304">MSC1304</a>)
</li>
 	<li style="font-weight: 400;">Formally specifying the remaining identifiers which lack a formal grammar - <a href="https://github.com/matrix-org/matrix-doc/pull/1598">MSC1597</a> and particularly room aliases (
<a href="https://github.com/matrix-org/matrix-doc/pull/1607">MSC1608</a>)
</li>
</ul>
The plan here is to continue speccing and implementing these at top priority (with Travis continuing to work fulltime on spec work), and we'll obviously keep you up-to-date on progress.  Some of the changes here (e.g. event IDs) are quite major and we definitely want to implement them before speccing them, so we're just going to have to keep going as fast as we can. Needless to say we want to cut an r0 of the S2S API alongside the others asap and declare Matrix out of beta (at least at the spec level :)
<p>In terms of visualising progress on this spec mission it's interesting to look at the rate at which we've been closing PRs: this graph shows the total number of PRs which are in state ‘open' or ‘closed' on any given day:</p>
<p><a href="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-03-at-00.56.38.png"><img class="aligncenter size-large wp-image-3526" src="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-03-at-00.56.38-1024x722.png" alt="" width="1024" height="722" /></a></p>
<p>...which clearly shows the original sprint to get the r0 of the CS API out the door at the end 2015, and then a more leisurely pace until the beginning of July 2018 since which the pace has picked up massively.  Other ways of looking at include the number of open issues...</p>
<p><a href="/blog/wp-content/uploads/2018/09/image-1.png"><img class="aligncenter size-large wp-image-3527" src="/blog/wp-content/uploads/2018/09/image-1-1024x691.png" alt="" width="1024" height="691" /></a>
...or indeed the number of commits per week…</p>
<p><a href="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-03-at-01.02.27.png"><img class="aligncenter wp-image-3528" src="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-03-at-01.02.27-1024x195.png" alt="" width="710" height="135" /></a>
...or the overall Github Project activity for August.  (It's impressive to see Zil0 sneaking in there on second place on the commit count, thanks to all his GSoC work documenting E2E encryption in the spec as part of implementing it in matrix-python-sdk!)</p>
<p><a href="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-03-at-01.03.57.png"><img class="aligncenter wp-image-3529" src="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-03-at-01.03.57-1024x925.png" alt="" width="744" height="672" /></a>
Anyway, enough numerology.  It's worth noting that all of the dev for r0 has generally followed the proposed <a href="/blog/2018/06/20/towards-open-governance-for-matrix-org/">Open Governance Model for Matrix</a>, with the core spec team made up of both historical core team folk (erik, richvdh, dave &amp; matthew), new core team folk (uhoreg &amp; travis) and community folk (kitsune, anoa &amp; mujx) working together to review and approve the changes - and we've been doing MSCs (albeit with an accelerated pace) for anything which we feel requires input from the wider community.  Once the Server/Server r0 release is out the door we'll be finalising the open governance model and switching to a slightly more measured (but productive!) model of spec development as outlined there.</p>
<p>Meanwhile, Matrix 1.0 gets ever closer.  With (almost) all this spec mission done, our plan is to focus more on improving the reference implementations - particularly performance in Synapse, 
UX in matrix-{'{'}react,ios,android{'}'}-sdk as used by Riot (especially for E2E encryption), and then declare a 1.0 and get back to implementing new features (particularly Editable Messages and Reactions) at last.</p>
<p>We'd like to thank everyone for your patience whilst we've been playing catch up on the spec, and hope you agree it's been worth the effort :)</p>
<p>Matthew &amp; the core spec team.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;01&#x2F;this-week-in-matrix-2018-08-31&#x2F;" title="This Week in Matrix 2018-08-31">This Week in Matrix 2018-08-31</a></h1>
            <span>
                01.09.2018 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="spec">The Spec</h2>
As many know, we've been aiming for the end of August to cut the first ever stable releases of the remaining APIs in the spec which have up to now been marked unstable - i.e. providing a snapshot of the spec which correctly matches the reference implementations (other than implementation bugs) and which can be used in isolation to develop production grade implementations of clients, servers, etc without need to reference any other implementations. There's been a massive sprint to pull this together, and as of the time of writing there are still <a href="https://github.com/matrix-org/matrix-doc/pulls?utf8=%E2%9C%93&amp;q=is%3Apr">PRs and commits</a> landing every few minutes.  We'll post a full update on our progress on Monday; meanwhile you can see a sneak peek over at the <a href="https://github.com/matrix-org/matrix-doc/projects/1">August 2018 r0</a> project board.
<p>Spec work has completely precluded any other backend dev this week.</p>
<h2 id="halfshotgonebutnotreallygone">Half-Shot, gone but not really gone</h2>
This week we <a href="/blog/2018/08/31/so-long-half-shot-thanks-for-all-the-bridges/">say farewell</a> to <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>, who has been working fulltime on bridges over the summer. He has managed the matrix.org bridges largely single-handedly, with a big focus on the often-volatile IRC bridge(s).
<h2 id="bridges">Bridges</h2>
<h3 id="matrixappserviceirc0110">matrix-appservice-irc 0.11.0</h3>
It's a big deal, and it's rolling out to IRC networks this week. <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> released <a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.11.0">matrix-appservice-irc 0.11.0</a>, with the following included:
<p>New features &amp; improvements:</p>
<ul>
 	<li>Cache modes internally</li>
 	<li>Replace nicks with user pill mentions</li>
 	<li>Kick users if we fail to create an IRC client for them on join (aka ILINE kicks)</li>
 	<li>SASL support</li>
 	<li>Add err_nononreg so we can announce PMs that failed</li>
 	<li>Formatting of replies</li>
</ul>
Bug Fixes:
<ul>
 	<li>Fix invalidchar nick</li>
 	<li>Don't answer any msgtypes other than text in an admin room.</li>
 	<li>Fix provisoner leaving users on unlink</li>
 	<li>Fixed a bug where content of events the bridge hadn't cached were not being used in replies.</li>
 	<li>We were calling authedRequest but the request was not mocked out.</li>
 	<li>There was a bug involving intents in m-a-b so it was bumped</li>
</ul>
Metrics:
<ul>
 	<li>Metrics for MatrixHandler - Iline Kicks</li>
 	<li>Idle connection metrics</li>
 	<li>QueuePool.waitingItems should use it's internal queue size</li>
</ul>
Misc:
<ul>
 	<li>Section out tests, linting and coverage into separate stages for Travis</li>
</ul>
<h3 id="whatsapp">WhatsApp</h3>
<a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> has been working on <a href="https://github.com/tulir/mautrix-whatsapp">mautrix-whatsapp</a> bridge.
<blockquote>now bridges a lot more stuff, such as formatting, media and replies. I'm also almost done with desegregating users so that Matrix users join the same group chat portals rather than everyone having their own portal to the same chat</blockquote>
<h3 id="zulipchatbridgedbyzulip">Zulip chat, bridged by Zulip</h3>
Matthew discovered there is a Matrix-Zulip bridge on the Zulip side. So if you're running a Zulip server (for some reason), and want to bridge with Matrix <a href="https://zulipchat.com/integrations/doc/matrix">check out the integration docs here</a>.
<h3 id="ircconnectiontracker">IRC Connection Tracker</h3>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> created a new component to enhance the reliability of IRC-Matrix bridging:
<blockquote><a href="https://github.com/Half-Shot/irc-conntrack">IRC Connection Tracker</a> is a thing now. It's a project to separate out the IRC connections from the appservice so the two can be run independently, so that restarting the appservice doesn't affect the IRC connections. It's hopefully going to allow bridge stuff to run faster when it's done.</blockquote>
This project is still really early stage. You can take a look at the <a href="https://docs.google.com/document/d/1NZRdUYHWltq9rh-nFZeSp3FYwtQQh5vBxa6Lw8YNtCo/">Proposal document here</a>.
<h2 id="clients">Clients</h2>
<h3 id="nheko054">Nheko 0.5.4</h3>
Not technically this week, but <a href="https://github.com/mujx/nheko">Nheko</a> <a href="https://github.com/mujx/nheko/releases/tag/v0.5.4">0.5.4 was recently released</a>
<ul>
 	<li>The settings page now includes the device id &amp; device fingerprint (thanks <a href="https://github.com/valkum">@valkum</a> )</li>
 	<li>The Polish translation has been updated (thanks <a href="https://github.com/m4sk1n">@m4sk1n</a> )</li>
</ul>
<a href="https://bintray.com/mujx/matrix/nheko/v0.5.4">Get the latest builds of Nheko from bintray</a>.
<p><a href="/blog/wp-content/uploads/2018/08/Screen-Shot-2018-09-01-at-00.00.25.png"><img class="aligncenter size-large wp-image-3518" src="/blog/wp-content/uploads/2018/08/Screen-Shot-2018-09-01-at-00.00.25-1024x663.png" alt="" width="1024" height="663" /></a></p>
<h3 id="fractal">Fractal</h3>
<a href="@afranke:matrix.org">Alexandre Franke</a> and the <a href="https://www.amazon.com/Blizzard-Bay-Hanging-Gnomies-Sweater/dp/B0744PKXMK">GNOME crew</a> have been working on <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>, gearing up for their upcoming 3.30 release.
<blockquote>Fractal 3.29.92 got released and we are freezing strings to give GNOME translators a bit of time to complete translations for 3.30 next week. Latest developments include tweaks for the title bar, misc bug fixes, a new presentation for uploaded files (that are not images, those are still displayed inline) with buttons to download or open them.
Development builds are now parallel installable for easier testing and CI has been improved.</blockquote>
<h3 id="seaglass">Seaglass</h3>
<a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a>:
<blockquote><a href="https://github.com/neilalexander/seaglass">Seaglass</a> now has some early support for inline images and attachments, and supports Quick Look. Also handles emotes and notices better. It also has version numbers now, various other little fixes and Aaron Raimist has been working on auto-update support.</blockquote>
Version numbers! Now when you go to <a href="https://bintray.com/neilalexander/Seaglass/Seaglass/_latestVersion#files">download the tarball from bintray</a>, you can see what's going on!
<p>There's also been some work on supporting dark mode on Mojave (which looks particularly sexy) and even Touch Bar support!</p>
<p><a href="/blog/wp-content/uploads/2018/08/mojave.jpg"><img class="aligncenter size-large wp-image-3516" src="/blog/wp-content/uploads/2018/08/mojave-1024x640.jpg" alt="" width="1024" height="640" /></a></p>
<h3 id="riotandroidv0815">Riot Android v0.8.15</h3>
Riot Android v0.8.15 is on it's way to the Play Store.
<h4 id="changesinriotandroid081520180830">Changes in Riot Android 0.8.15 (2018-08-30)</h4>
MatrixSdk:
<ul>
 	<li>Upgrade to version 0.9.9.</li>
</ul>
Improvements:
<ul>
 	<li>Improve intent to open document (#2544)</li>
 	<li>Avoid useless dialog for permission (#2331)</li>
 	<li>Improve wording when exporting keys (#2289)</li>
</ul>
Other changes:
<ul>
 	<li>Upgrade lib libphonenumber from v8.0.1 to 8.9.12</li>
 	<li>Upgrade Google firebase libs</li>
</ul>
Bugfix:
<ul>
 	<li>Handle <code>\\/</code> at the beginning of a message to send a message starting with <code>/</code> (#658)</li>
 	<li>Escape nicknames starting with a forward slash <code>/</code> in mentions (#2146)</li>
 	<li>Improve management of Push feature</li>
 	<li>MatrixError mResourceLimitExceededError is now managed in MxDataHandler (vector-im/riot-android#2547 point 2)</li>
</ul>
<h4 id="changesinriotandroid081420180827">Changes in Riot Android 0.8.14 (2018-08-27)</h4>
MatrixSdk:
<ul>
 	<li>Upgrade to version 0.9.8.</li>
</ul>
Features:
<ul>
 	<li>Manage server quota notices (#2440)</li>
</ul>
Improvements:
<ul>
 	<li>Do not ask permission to write external storage at startup (#2483)</li>
 	<li>Update settings icon and transparent logo for notifications and navigation drawer (#2492)</li>
 	<li>URL previews are no longer requested from the server when displaying URL previews is disabled (PR #2514)</li>
 	<li>Fix some plural and puzzle strings, and remove other unused ones (#2444)</li>
 	<li>Manage System Alerts in a dedicated section</li>
</ul>
Other changes:
<ul>
 	<li>Upgrade olm-sdk.aar from version 2.2.2 to version 2.3.0</li>
 	<li>move PieFractionView from the SDK to the client (#2525)</li>
</ul>
Bugfix:
<ul>
 	<li>Fix media sharing (#2530)</li>
 	<li>Fix notification sound issue in settings (#2524)</li>
 	<li>Disable app icon badge for "listen for event" notification (#2104)</li>
</ul>
<h3 id="riotios073">Riot iOS 0.7.3</h3>
<h4 id="changesin07320180827">Changes in 0.7.3 (2018-08-27)</h4>
Improvements:
<ul>
 	<li>Upgrade MatrixKit version (v0.8.3).</li>
</ul>
Bug fix:
<ul>
 	<li>Fix input toolbar reset in RoomViewController on MXSession state change (#2006 and #2008).</li>
 	<li>Fix user interaction disabled in master view of UISplitViewController when selecting a room (#2005).</li>
</ul>
<h4 id="changesin07220180824">Changes in 0.7.2 (2018-08-24)</h4>
Improvements:
<ul>
 	<li>Upgrade MatrixKit version (v0.8.2).</li>
 	<li>Server Quota Notices in Riot (#1937).</li>
</ul>
Bug fix:
<ul>
 	<li>User defaults: the preset application language (if any) is ignored.</li>
 	<li>Recents: Avoid to open a room twice (it crashed on room creation on quick HSes).</li>
 	<li>Riot-bot: Do not try to create a room with it if the user homeserver is not federated.</li>
</ul>
<h3 id="riotweb">Riot Web</h3>
There's been lots of work debugging and optimising Lazy Loading, which is edging closer to being turned on by default.  We've also been working away at improving E2E UX - starting with finishing key backup, and then improved verification, and then finally cross-signing (at last!)
<h2 id="sdks">SDKs</h2>
<h3 id="rubymatrixsdk">Ruby Matrix SDK</h3>
<a href="https://github.com/ananace/">ananace</a> is working on the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby Matrix SDK</a> "fixing issues and documenting as I go".
<h3 id="matrixandroidsdk">Matrix Android SDK</h3>
<h4 id="changestomatrixandroidsdkin09920180830">Changes to Matrix Android SDK in 0.9.9 (2018-08-30)</h4>
Improvements:
<ul>
 	<li>Clear unreachable Url when clearing media cache (vector-im/riot-android#2479)</li>
 	<li>"In reply to" is not clickable on Riot Android yet. Make it a plain text (vector-im/riot-android#2469)</li>
</ul>
Bugfix:
<ul>
 	<li>Removing room from 'low priority' or 'favorite' does not work (vector-im/riot-android#2526)</li>
 	<li>MatrixError mResourceLimitExceededError is now managed in MxDataHandler (vector-im/riot-android#2547)</li>
</ul>
API Change:
<ul>
 	<li>MxSession constructor is now private. Please use MxSession.Builder() to create a MxSession</li>
</ul>
<h4 id="changestomatrixandroidsdkin09820180827">Changes to Matrix Android SDK in 0.9.8 (2018-08-27)</h4>
Features:
<ul>
 	<li>Manage server_notices tag and server quota notices (vector-im/riot-android#2440)</li>
</ul>
Bugfix:
<ul>
 	<li>Room aliases including the '@' and '=' characters are now recognized as valid (vector-im/riot-android#2079, vector-im/riot-android#2542)</li>
 	<li>Room name and topic can be now set back to empty (vector-im/riot-android#2345)</li>
</ul>
API Change:
<ul>
 	<li>Remove PieFractionView class from the Matrix SDK. This class is now in Riot sources (#336)</li>
 	<li>MXMediasCache.createTmpMediaFile() methods are renamed to createTmpDecryptedMediaFile()</li>
 	<li>MXMediasCache.clearTmpCache() method is renamed to clearTmpDecryptedMediaCache()</li>
 	<li>Add MXMediasCache.moveToShareFolder() to move a tmp decrypted file to another folder to prevent deletion during sharing. New API MXMediasCache.clearShareDecryptedMediaCache() can be called when the application is resumed. (vector-im/riot-android#2530)</li>
</ul>
<h3 id="matrixiossdk">Matrix iOS SDK</h3>
<h4 id="changesinmatrixiossdkin011320180827">Changes in Matrix iOS SDK in 0.11.3 (2018-08-27)</h4>
Bug fix:
<ul>
 	<li>MXJSONModel: Manage <code>m.server_notice</code> empty tag sent due to a bug server side (PR #556).</li>
</ul>
<h4 id="changesinmatrixiossdkin011220180824">Changes in Matrix iOS SDK in 0.11.2 (2018-08-24)</h4>
Improvements:
<ul>
 	<li>MXSession: Add the supportedMatrixVersions method getting versions of the specification supported by the homeserver.</li>
 	<li>MXRestClient: Add testUserRegistration to check earlier if a username can be registered.</li>
 	<li>MXSession: Add MXSessionStateSyncError state and MXSession.syncError to manage homeserver resource quota on /sync requests (vector-im/riot-ios/issues/1937).</li>
 	<li>MXError: Add kMXErrCodeStringResourceLimitExceeded to manage homeserver resource quota (vector-im/riot-ios/issues/1937).</li>
 	<li>MXError: Define constant strings for keys and values that can be found in a Matrix JSON dictionary error.</li>
 	<li>Tests: MXHTTPClient_Private.h: Add method to set fake delay in HTTP requests.</li>
</ul>
Bug fix:
<ul>
 	<li>People tab is empty in the share extension (vector-im/riot-ios/issues/1988).</li>
 	<li>MXError: MXError lost NSError.userInfo information.</li>
</ul>
<h2 id="tools">Tools</h2>
<h3 id="matrixtoriot">matrix-to-riot</h3>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> shared a handy Firefox extension: <a href="https://github.com/Half-Shot/matrix-to-riot">matrix-to-riot</a>
<blockquote>This is a tiny webextension to forward matrix.to links to an open Riot tab.</blockquote>
Really useful if you often click matrix.to links and find yourself needing to URL-hack to get to where you need to be.
<h2 id="thatsallfornow">That's all for now</h2>
We're going to shift this week's Matrix Live to Monday, alongside the upcoming blog post on the spec release progress. Have a good weekend!

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2018&#x2F;08&#x2F;31&#x2F;so-long-half-shot-thanks-for-all-the-bridges&#x2F;" title="So long Half-Shot, thanks for all the bridges">So long Half-Shot, thanks for all the bridges</a></h1>
            <span>
                31.08.2018 00:00
                —
                <a href="/category/thoughts">
                    Thoughts
                </a>
                —
                <a href="/author/ben-parsons">
                    Ben Parsons
                </a>
            </span>
            
        </header>
        <div>
            <p>Thank you to Half-Shot for all your work on Bridges over the last months and beyond. Today is your last day, but I'm sure we'll see you again before long. Text below is from Half-Shot.</p>
<hr />
<p>Today marks my last day of my 3 month internship at New Vector (the startup which hires many of the core Matrix team). For those of you who haven't been reading Ben's fabulous blog posts, I've been working exclusively on bridges; in particular the IRC bridge.</p>
<p>Tasked with the goal of making it crash less and run faster, I hope that the evidence is visible and people are generally having a better experience on it!</p>
<p>Some stats pulled from the matrix-appservice-irc repo:</p>
<ul>
 	<li>39 PRs closed (4 remain open)</li>
 	<li>27 issues closed, 27 issues opened.</li>
 	<li>334 commits, averaging 7.6 commits a PR.</li>
</ul>
Commits this year:
<img class="alignnone size-full wp-image-3506" src="/blog/wp-content/uploads/2018/08/commits_year.png" alt="Commits this year" width="751" height="179" />
<hr />
<p>But aside from showing off some stats, I wanted to mention all the new features:</p>
<ul>
 	<li>Replies on Matrix translate well to IRC, or as well as IRC allows.</li>
 	<li>People mentioning your IRC nick now ping your matrix user, finally!</li>
 	<li>So. Many. Metrics. Everything you wanted to know about the internals of the bridge, but were too afraid to <code>--inspect</code>.</li>
 	<li>Not spamming homeservers with join requests on startup (it makes for a happy ops team).</li>
 	<li>No longer are IRC users shackled to a "(IRC)" extension on their displayname, you can be who you want
with group flairs!</li>
 	<li>Support for node 4 has been dropped, and support for 6,8 and 10 has been assured.</li>
</ul>
On the <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> side, I optimised some calls to cache locally and avoid hitting the homeserver too often, and disabling presence for homeservers that don't support it.
<p>There are future plans to make bridging more visible to Matrix Clients as a first class citizen. Ideas like <a href="https://github.com/matrix-org/matrix-doc/issues/1410">speccing a state event (MSC1410)</a> so that bridges can interact with each other properly and clients can create full bridge management views which are still decentralised from an integration manager.</p>
<p>I'd like to give a shoutout to Travis who has reviewed nearly all my changes that have made their way into the bridge, on top of all the other tasks he has on his plate. And of course a thank you to all of the Matrix team who have been very supportive during my time here.</p>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;36&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">37 / 57</span>
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;38&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
