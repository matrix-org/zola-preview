<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href="/style.css" />

    


<meta name="description" content="The Matrix.org Foundation blod is where the Matrix Foundation and Community
post updates on their activity. Every Friday evening they publish This Week In
Matrix, a digest of the past week activity.
">

</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;integrations&#x2F;">Integrations</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2016&#x2F;11&#x2F;22&#x2F;synapse-0-18-4&#x2F;" title="Synapse 0.18.4">Synapse 0.18.4</a></h1>
            <span>
                22.11.2016 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Uncharacteristically, we're actually remembering to announce a new release of Synapse!</p>
<p>Major performance fixes on federation, as well as the changes required to support E2E encrypted attachments (yay!)</p>
<p>Please install or upgrade from <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a> :)</p>
<h3 id="changes-in-synapse-v0-18-4-2016-11-22">Changes in synapse v0.18.4 (2016-11-22)</h3>
<p>Bug fixes:</p>
<ul>
 	<li>Add workaround for buggy clients that the fail to register (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1632" data-url="https://github.com/matrix-org/synapse/issues/1632" data-id="190371942" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1632</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-18-4-rc1-2016-11-14">Changes in synapse v0.18.4-rc1 (2016-11-14)</h3>
<p>Changes:</p>
<ul>
 	<li>Various database efficiency improvements (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1188" data-url="https://github.com/matrix-org/synapse/issues/1188" data-id="186341262" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1188</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1192" data-url="https://github.com/matrix-org/synapse/issues/1192" data-id="187084488" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1192</a>)</li>
 	<li>Update default config to blacklist more internal IPs, thanks to Euan Kemp <a class="user-mention" href="https://github.com/euank">@euank</a> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1198" data-url="https://github.com/matrix-org/synapse/issues/1198" data-id="187605325" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1198</a>)</li>
 	<li>Allow specifying duration in minutes in config, thanks to Daniel Dent <a class="user-mention" href="https://github.com/DanielDent">@DanielDent</a> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1625" data-url="https://github.com/matrix-org/synapse/issues/1625" data-id="188899917" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1625</a>)</li>
</ul>
Bug fixes:
<ul>
 	<li>Fix media repo to set CORs headers on responses (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1190" data-url="https://github.com/matrix-org/synapse/issues/1190" data-id="186776121" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1190</a>)</li>
 	<li>Fix registration to not error on non-ascii passwords (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1191" data-url="https://github.com/matrix-org/synapse/issues/1191" data-id="187025542" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1191</a>)</li>
 	<li>Fix create event code to limit the number of prev_events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1615" data-url="https://github.com/matrix-org/synapse/issues/1615" data-id="187962678" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1615</a>)</li>
 	<li>Fix bug in transaction ID deduplication (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1624" data-url="https://github.com/matrix-org/synapse/issues/1624" data-id="188782596" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1624</a>)</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2016&#x2F;11&#x2F;21&#x2F;matrix-s-olm-end-to-end-encryption-security-assessment-released-and-implemented-cross-platform-on-riot-at-last&#x2F;" title="Matrix’s ‘Olm’ End-to-end Encryption security assessment released - and implemented cross-platform on Riot at last!">Matrix’s ‘Olm’ End-to-end Encryption security assessment released - and implemented cross-platform on Riot at last!</a></h1>
            <span>
                21.11.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>TL;DR: We're officially starting the cross-platform beta of end-to-end encryption in Matrix today, with matrix-js-sdk, matrix-android-sdk and matrix-ios-sdk all supporting e2e via the <a href="/docs/spec/olm.html">Olm</a> and <a href="/docs/spec/megolm.html">Megolm</a> cryptographic ratchets.  Meanwhile, <a href="https://www.nccgroup.trust/us/our-research/matrix-olm-cryptographic-review">NCC Group have publicly released their security assessment</a> of the underlying libolm library, kindly funded by the <a href="https://www.opentech.fund/">Open Technology Fund</a>, giving a full and independent transparent report on where the core implementation is at. The assessment was incredibly useful, finding some interesting issues, which have all been solved either in libolm itself or at the Matrix client SDK level.</p>
<p>If you want to get experimenting with E2E, the flagship Matrix client <a href="https://riot.im">Riot</a> has been updated to use the new SDK on Web, Android and iOS… although the iOS App is currently stuck in “export compliance” review at Apple. However, iOS users can mail <a href="mailto:support@riot.im">support@riot.im</a> to request being added to the TestFlight beta to help us test!  <strong>Update: iOS is now live and approved by Apple (as of Thursday Nov 24.  You can still mail us if you want to get beta builds though!)</strong></p>
<p>We are ridiculously excited about adding an open decentralised e2e-encrypted pubsub data fabric to the internet, and we hope you are too! :D</p>
<hr />
<p>Ever since the beginning of the Matrix we've been promising end-to-end (E2E) encryption, which is rather vital given conversations in Matrix are replicated over every server participating in a room.  This is no different to SMTP and IMAP, where emails are typically stored unencrypted in the IMAP spools of all the participating mail servers, but we can and should do much better with Matrix: there is no reason to have to trust all the participating servers not to snoop on your conversations.  Meanwhile, the internet is screaming out for an open decentralised e2e-encrypted pubsub data store - which we're now finally able to provide :)</p>
<p>Today marks the start of a formal public beta for our <a href="/docs/spec/megolm.html">Megolm</a> and <a href="/docs/spec/olm.html">Olm</a>-based end-to-end encryption across Web, Android and iOS. New builds of the <a href="https://riot.im">Riot</a> matrix client have just been released on top of the newly 
Megolm
-capable <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>, <a href="https://github.com/matrix-org/matrix-ios-sdk">matrix-ios-sdk</a> and <a href="https://github.com/matrix-org/matrix-android-sdk">matrix-android-sdk</a> libraries
.  The stuff that ships today is:</p>
<ul>
 	<li style="font-weight: 400;"><b>E2E encryption, based on the <a href="/git/olm/about">Olm</a> <a href="https://en.wikipedia.org/wiki/Double_Ratchet_Algorithm">Double Ratchet</a> and Megolm ratchet, working in beta on all three platforms</b>.  We're still chasing a few nasty bugs which can cause ‘unknown inbound session IDs', but in general it should be stable: please report these via Github if you see them.
</li>
 	<li style="font-weight: 400;"><b>Encrypted attachments are here!</b> (limited to ~2MB on web, but as soon as <a href="https://github.com/matrix-org/matrix-react-sdk/pull/562">https://github.com/matrix-org/matrix-react-sdk/pull/562</a> lands this limit will go away)
</li>
 	<li style="font-weight: 400;"><b>Encrypted VoIP signalling</b> (and indeed any arbitrary Matrix events) are here!
</li>
 	<li style="font-weight: 400;">Tracking whether the messages you receive are from <strong>‘verified' devices</strong> or not.
</li>
 	<li style="font-weight: 400;">Letting you <strong>block specific target devices</strong> from being able to decrypt your messages or not.
</li>
 	<li style="font-weight: 400;"><strong>The <a href=" http://matrix.org/docs/guides/e2e_implementation.html">Official Implementor's Guide</a></strong>.  If you're a developer wanting to add Olm into your Matrix client/bot/bridge etc, this is the place to start.
</li>
</ul>
Stuff which remains includes:
<ul>
 	<li style="font-weight: 400;">Speeding up sending the first message after adds/removes a device from a room (this can be <a href="https://github.com/vector-im/vector-web/issues/2157"><em>very</em> slow</a> currently - e.g. 10s, but we can absolutely do better).
</li>
 	<li style="font-weight: 400;">Proper device verification.  Currently we compare out-of-band device fingerprints, which is a terrible UX.  Lots of work to be done here.
</li>
 	<li style="font-weight: 400;">Turning on encryption for private rooms by default.  We're deliberately keeping E2E opt-in for now during beta given there is a small risk of undecryptable messages, and we don't want to lull folks into a false sense of security.  As soon as we're out of beta, we'll obviously be turning on E2E for any room with private history by default.  This also gives the rest of the Matrix ecosystem a chance to catch up, as we obviously don't want to lock out all the clients which aren't built on matrix-{'{'}js,ios,android{'}'}-sdk.
</li>
 	<li style="font-weight: 400;">We're also considering building a simple Matrix proxy to aid migration that you can run on localhost that E2Es your traffic as required (so desktop clients like WeeChat, NaChat, Quaternion etc would just connect to the proxy on localhost via pre-E2E Matrix, which would then manage all your keys & sessions & ratchets and talk E2E through to your actual homeserver.
</li>
 	<li style="font-weight: 400;">Matrix clients which can't speak E2E won't show encrypted messages at all.
</li>
 	<li style="font-weight: 400;">...<a href="https://github.com/vector-im/vector-web/issues?q=is%3Aissue%20is%3Aopen%20label%3Atype%3Ae2e">lots and lots of bugs</a> :D
.  We'll be out of beta once these are all closed up.
</li>
</ul>
In practice the system is working very usably, especially for 1:1 chats.  Big group chats with lots of joining/parting devices are a bit more prone to weirdness, as are edge cases like running multiple Riot/Webs in adjacent tabs on the same account.  Obviously we don't recommend using the E2E for anything mission critical requiring 100% guaranteed privacy whilst we're still in beta, but we do thoroughly recommend everyone to give it a try and <a href="https://github.com/vector-im/vector-web/issues">file bugs</a>!
<p>In Riot you can turn it on a per-room basis if you're an administrator that room by flipping the little padlock button in Room Settings.  Warning: once enabled, you cannot turn it off again for that room (to avoid the race condition of people suddenly decrypting a room before someone says something sensitive):</p>
<img class="aligncenter wp-image-1849" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-21-at-15.21.15-1024x646.png" alt="screen-shot-2016-11-21-at-15-21-15" width="552" height="348" />
<p>The journey to end-to-end encryption has been a bit convoluted, with work beginning in Feb 2015 by the Matrix team on <a href="/git/olm"><b>Olm</b></a>: an independent Apache-licensed implementation in C/C++11 of the Double Ratchet algorithm designed by Trevor Perrin and Moxie Marlinspike (
<a href="https://github.com/trevp/double_ratchet/wiki">https://github.com/trevp/double_ratchet/wiki</a> - then called ‘axolotl').  We picked the Double Ratchet in its capacity as the most ubiquitous, respected and widely studied e2e algorithm out there - mainly thanks to Open Whisper Systems implementing it in Signal, and subsequently licensing it to Facebook for WhatsApp and Messenger, Google for Allo, etc.  And we reasoned that if we are ever to link huge networks like WhatsApp into Matrix whilst preserving end-to-end encrypted semantics, we'd better be using at least roughly the same technology :D</p>
<p>One of the first things we did was to write a <a href="/docs/spec/olm.html">terse but formal spec</a> for the Olm implementation of the Double Ratchet, fleshing out the original sketch from Trevor &amp; Moxie, especially as at the time there wasn't a formal spec from Open Whisper Systems (until yesterday! Congratulations to Trevor &amp; co for publishing their <a href="https://whispersystems.org/docs/specifications/doubleratchet/">super-comprehensive spec</a> :).  We wrote a first cut of the ratchet over the course of a few weeks, which looked pretty promising but then the team got pulled into improving Synapse performance and features as our traffic started to accelerate faster than we could have possibly hoped.  We then got back to it again in June-Aug 2015 and basically finished it off and added a basic implementation to matrix-react-sdk (and picked up by Vector, now Riot)… before getting side-tracked again.  After all, there wasn't any point in adding e2e to clients if the rest of the stack is on fire!</p>
<p>Work resumed again in May 2016 and has continued ever since - starting with the addition of a new ratchet to the mix.  The Double Ratchet (Olm) is great at encrypting conversations between pairs of devices, but it starts to get a bit unwieldy when you use it for a group conversation - especially the huge ones we have in Matrix.  Either each sender needs to encrypt each message N times for every device in the room (which doesn't scale), or you need some other mechanism.</p>
<p>For Matrix we also require the ability to explicitly decide how much conversation history may be shared with new devices.  In classic Double Ratchet implementations this is anathema: the very act of synchronising history to a new device is a huge potential privacy breach - as it's deliberately breaking perfect forward secrecy.  Who's to say that the device you're syncing your history onto is not an attacker?  However, in practice, this is a very common use case.  If a Matrix user switches to a new app or device, it's often very desirable that they can decrypt old conversation history on the new device.  So, we make it configurable per room.  (In today's implementation the ability to share history to new devices is still disabled, but it's coming shortly).</p>
<p>The end result is an entirely new ratchet that we've called <a href="/docs/spec/megolm.html"><b>Megolm</b></a> - which is included in the same <a href="/git/olm">libolm library</a> as Olm.  The way Megolm works is to give every sender in the room its own encrypted ratchet (‘outbound session'), so every device encrypts each message once based on the current key given by their ratchet (and then advances the ratchet to generate a new key).  Meanwhile, the device shares the state of their ‘outbound session' to every other device in the room via the normal Olm ratchet in a 1:1 exchange between the devices.  The other devices maintain an ‘inbound session' for each of the devices they know about, and so can decrypt their messages.  Meanwhile, when new devices join a room, senders can share their sessions according to taste to the new device - either giving access to old history or not depending on the configuration of the room.  You can read more in the <a href="/docs/spec/megolm.html">formal spec for Megolm</a>.</p>
<p>We finished the combination of Olm and Megolm back in September 2016, and shipped the very first implementation in the matrix-js-sdk and matrix-react-sdk as used in <a href="https://riot.im">Riot</a> with some major limitations (no encrypted attachments; no encrypted VoIP signalling; no history sharing to new devices).</p>
<p>Meanwhile, we were incredibly lucky to receive a public security assessment of the Olm &amp; Megolm implementation in libolm from <a href="https://www.nccgroup.trust/us/our-services/security-consulting/cryptography-services/">NCC Group Cryptography Services</a> - famous for assessing the likes of Signal, Tor, OpenSSL, etc and other Double Ratchet implementations. The assessment was very generously funded by the <a href="https://opentech.fund">Open Technology Fund</a> (who specialise in paying for security audits for open source projects like Matrix).  Unlike other Double Ratchet audits (e.g. Signal), we also insisted that the end report was publicly released for complete transparency and to show the whole world the status of the implementation.</p>
<p><a href="https://www.nccgroup.trust/us/our-research/matrix-olm-cryptographic-review/">NCC Group have released the public report today</a> - it's pretty hardcore, but if you're into the details please go check it out.  The version of libolm assessed was v1.3.0, and the report found 1 high risk issue, 1 medium risk, 6 low risk and 1 informational issues - of which 3 were in Olm and 6 in Megolm.  Two of these (‘Lack of Backward Secrecy in Group Chats' and ‘Weak Forward Secrecy in Group Chats') are actually features of the library which power the ‘configurable privacy per-room' behaviour mentioned a few paragraphs above - and it's up to the application (e.g. matrix-js-sdk) to correctly configure privacy-sensitive rooms with the appropriate level of backward or forward secrecy; the library doesn't enforce it however.  The most interesting findings were probably the fairly exotic Unknown Key Share attacks in both Megolm and Olm - check out NCC-Olm2016-009 and NCC-Olm2016-010 in the report for gory details!</p>
<p>Needless to say all of these issues have been solved with the release of libolm 2.0.0 on October 25th and included in today's releases of the client SDKs and Riot.  Most of the issues have been solved at the application layer (i.e. matrix-js-sdk, ios-sdk and android-sdk) rather than in libolm itself.  Given the assessment was specifically for libolm, this means that technically the risks still exist at libolm, but given the correct engineering choice was to fix them in the application layer we went and did it there. (This is explains why the report says that some of the issues are ‘not fixed' in libolm itself).</p>
<p>Huge thanks to Alex Balducci and Jake Meredith at NCC Group for all their work on the assessment - it was loads of fun to be working with them (over Matrix, of course) and we're really happy that they caught some nasty edge cases which otherwise we'd have missed.  And thanks again to Dan Meredith and Chad Hurley at OTF for funding it and making it possible!</p>
<p>Implementing decentralised E2E has been by far the hardest thing we've done yet in Matrix, ending up involving most of the core team.  Huge kudos go to: Mark Haines for writing the original Olm and matrix-js-sdk implementation and devising Megolm, designing attachment encryption and implementing it in matrix-{'{'}js,react{'}'}-sdk, Richard van der Hoff for taking over this year with implementing and speccing Megolm, finalising libolm, adding all the remaining server APIs (device management and to_device management for 1:1 device Olm sessions), writing the <a href=" http://matrix.org/docs/guides/e2e_implementation.html">Implementor's Guide</a>, handling the NCC assessment, and pulling together all the strands to land the final implementation in matrix-js-sdk and matrix-react-sdk.  Meanwhile on Mobile, iOS &amp; Android wouldn't have happened without Emmanuel Rohée, who led the development of E2E in matrix-ios-sdk and <a href="http://matrix.org/git/olm/log/?h=olmkit">OLMKit</a> (the iOS wrappers for libolm based on the <a href="https://github.com/chrisballinger/OLMKit">original work by Chris Ballinger</a> at <a href="https://chatsecure.org/">ChatSecure</a> - many thanks to Chris for starting the ball rolling there!), Pedro Contreiras and Yannick Le Collen for doing all the Android work, Guillaume Foret for all the application layer iOS work and helping coordinate all the mobile work, and Dave Baker who got pulled in at the last minute to rush through encrypted attachments on iOS (thanks Dave!).  Finally, eternal thanks to everyone in the wider community who's patiently helped us test the E2E whilst it's been in development in <a href="https://matrix.to/#/#megolm:matrix.org">#megolm:matrix.org</a>; and to Moxie, Trevor and <a href="https://whispersystems.org">Open Whisper Systems</a> for inventing the Double Ratchet and for allowing us to write our own implementation in Olm.</p>
<p>It's literally the beginning for end-to-end encryption in Matrix, and we're unspeakably excited to see where it goes.  More now than ever before the world needs an open communication platform that combines the freedom of decentralisation with strong privacy guarantees, and we hope this is a major step in the right direction.</p>
<p>-- Matthew, Amandine &amp; the whole Matrix team.</p>
<p>Further reading:</p>
<ul>
 	<li>Libolm website: <a href="/git/olm/about">https://matrix.org/git/olm/about</a></li>
 	<li>Libolm implementor's guide: <a href="http://matrix.org/docs/guides/e2e_implementation.html">http://matrix.org/docs/guides/e2e_implementation.html</a></li>
 	<li>Formal specification for Olm: <a href="/docs/spec/olm.html">https://matrix.org/docs/spec/olm.html</a></li>
 	<li>Formal specification for Megolm: <a href="/docs/spec/megolm.html">https://matrix.org/docs/spec/megolm.html</a></li>
 	<li>Formal specification for E2E in Matrix (WIP, yet to be merged): <a href="http://matrix.org/speculator/spec/drafts%2Fe2e/client_server/unstable.html#end-to-end-encryption">http://matrix.org/speculator/spec/drafts%2Fe2e/client_server/unstable.html#end-to-end-encryption</a></li>
 	<li>The full security assessment: <a href="https://www.nccgroup.trust/us/our-research/matrix-olm-cryptographic-review/">https://www.nccgroup.trust/us/our-research/matrix-olm-cryptographic-review/</a></li>
 	<li>NCC Group: <a href="https://www.nccgroup.trust/us/">https://www.nccgroup.trust/us/</a></li>
 	<li>Open Technology Fund: <a href="https://www.opentech.fund/">https://www.opentech.fund/</a></li>
 	<li>If you're from the press and you've read this far... congratulations, but you probably wanted <a href="https://pr.blonde20.com/matrix-e2e/">this instead</a> :D</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2016&#x2F;11&#x2F;14&#x2F;ssl-issues-with-chromium&#x2F;" title="SSL Issues With Chromium">SSL Issues With Chromium</a></h1>
            <span>
                14.11.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/david-baker">
                    David Baker
                </a>
                
            </span>
            
        </header>
        <div>
            <p>It's been brought to our attention that some users are unable to connect to matrix.org and riot.im due to an SSL error, failing with, &quot;NET::ERR_CERTIFICATE_TRANSPARENCY_REQUIRED&quot;. The cause of this is the Chromium bug detailed at <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=664177">https://bugs.chromium.org/p/chromium/issues/detail?id=664177</a></p>
<p>In short, older versions of Chrome / Chromium (including Chromium v0.53 which is the default in ubuntu) will refuse to make SSL connections to matrix.org or riot.im because they are unable to verify that the certificates are in the certificate transparency log. This is because the build of Chromium is over 10 weeks old which means it now considers its certificate transparency log to be stale.</p>
<p>This issue is affecting all sites using certificates signed by Symantec and its subsidiaries (which includes amazon.com).</p>
<p>There's little we can do about this, short of completely changing our SSL certificate provider, but for users it should be fairly easy to work around by updating to a newer version of Chromium (which may be as simple as restarting the browser).</p>
<p>Update: see also <a href="https://sslmate.com/blog/post/ct_redaction_in_chrome_53">https://sslmate.com/blog/post/ct_redaction_in_chrome_53</a> and <a href="https://news.ycombinator.com/item?id=12953172">https://news.ycombinator.com/item?id=12953172</a> (top of HN right now)</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2016&#x2F;11&#x2F;12&#x2F;the-matrix-autumn-special&#x2F;" title="The Matrix Autumn Special!">The Matrix Autumn Special!</a></h1>
            <span>
                12.11.2016 00:00
                —
                <a href="/category/in-the-news">
                    In the News
                </a>
                —
                
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Another season has passed; the leaves are dropping from the trees in the northern hemisphere (actually, in the time it's taken us to finish this post, most of them have dropped :-/) and once again the Matrix team has been hacking away too furiously to properly update the blog. So without further delay here's an update on all things Matrix!</p>
<h3 id="synapse-0-18">Synapse 0.18</h3>
<p>Back in September, we forgot to properly announce the 0.18 release of Synapse! This is a major oversight given that 0.18 was a huge update with some critical performance improvements, but hopefully everyone has upgraded by now anyway. If not, there's never been a better time to <a href="https://github.com/matrix-org/synapse">run your own homeserver</a>! The main improvement is that the Matrix room state updates are now stored as deltas in the database rather than snapshots, which reduces the size of the database footprint by around 5 - 7x. The first time you run synapse after upgrading to 0.18 it will go through your database deleting all the historical data, after which you can VACUUM the db to reclaim the freed diskspace.</p>
<p>You can tell when it's finished based on whether it's stopped logging about the 'background_deduplicate_state' task. There was a bug in 0.18.0 that meant this process was very slow (weeks) on sqlite DBs and chewed 100% CPU; this was fixed in 0.18.1, and subsequently we've also had 0.18.2 (various perf and bug fixes, and a new modular internal API for authentication) and the current release: 0.18.3 to address a <a href="/blog/2016/11/08/synapse-debian-pacakge-security-announcement/">major vulnerability</a> on deployments using LDAP with obsolete versions (0.9.x) of the python ldap3 library - e.g. Debian Stable. <strong>Folks using the Debian Stable packages must upgrade immediately.</strong></p>
<p>Other big changes in Synapse 0.18 were:</p>
<ul>
 	<li>Adding the final APIs required to support end-to-end encryption: specifically, a new store-and-forward API called "to device messaging", which lets messages be passed between specific devices outside the context of a room or a room DAG. This is used for exchanging authentication tokens and sensitive end-to-end key data between devices (e.g. when a new device joins a room and needs to be looped in) and is not intended for general messaging.</li>
 	<li>Changing how remote directory servers are queried. Rather than constantly spidering them via the secondary_directory_servers option (which was causing a load crisis on the matrix.org server, as everyone else in Matrix kept polling it for directory updates), clients can now set a 'server' parameter on the publicRooms request to ask their server to proxy the request through to a specific remote server. Element (the app formally known as Riot/Web) implements this already. This is a stopgap until we have a proper global room discovery database of some kind.</li>
 	<li>Adding pagination support to the room directory API. We now have enough rooms in Matrix that downloading the full list every time the user searches for a room was getting completely untenable - we now support paginating and searching the list. Riot (now Element) and Riot-Android (now Element Android) are using the new APIs already.</li>
 	<li>Basic support for 'direct room' semantics. When you create a room you can now state the intent for that room to be a 1:1 with someone via the is_direct parameter.</li>
 	<li>Making the /notifications API work - this lets clients download a full list of all the notifications a user has been recently sent (highlights, mentions etc)</li>
</ul>
Spec for all of these new APIs are currently making their way into the official matrix spec; you can see the work in progress at <a href="/speculator">https://matrix.org/speculator</a>. Meanwhile, we're waiting for the last bits of the end-to-end encryption APIs to land there before releasing 0.3 of the Matrix spec, which should happen any day now.
<p>To find out more and get upgraded if you haven't already, please check out <a href="https://github.com/matrix-org/synapse/releases/tag/v0.18.3">the full changelog</a>.</p>
<h3 id="synapse-scalability">Synapse scalability</h3>
<p>Something which we've been quietly adding over the last 6 months is support for running large synapse deployments like the Matrix.org homeserver. Matrix.org has around 500K accounts on it, 50k rooms, and relays around 500K messages per day and obviously the community expects it to have good performance and availability (even though we'd prefer if you ran your own server, for obvious reasons!)</p>
<p>The current scaling approach for this is called 'Workers' - where we've split out a whole bunch of different endpoints from the main Synapse process into child 'worker' processes which replicate their state from the master Synapse process. These workers are designed to scale horizontally, adding as many as you like to handle the traffic load. It's not full active/active horizontal scalability in that you're still limited by the performance of the master process and the database master you're writing to, but it's a great way to escape Python's global interpreter lock limiting processes effectively to a single core, and in practice it's a huge improvement and works pretty well as of Synapse 0.18.</p>
<p>You can read more about the architecture and how to run your Synapse in worker-mode over at <a href="https://github.com/matrix-org/synapse/blob/master/docs/workers.rst">https://github.com/matrix-org/synapse/blob/master/docs/workers.rst</a>.</p>
<h3 id="starting-a-riot-now-element">Starting a Riot (now Element)</h3>
<p>Meanwhile, the biggest news in Matrixland has probably been the renaming of Vector as Riot (now Element) and the 'mass market' launch of Riot as a flagship Matrix client at the <a href="http://pulverhwc.evolero.com/monage">MoNage</a> conference on Sept 19th in Boston. The reasons for renaming Vector have been done to death by now and hopefully folks have got over the shock, but the rationale is to have a more distinctive and memorable (and controversial!) name, which is more aligned with the idea of returning control of communication back to the people :) Amandine has the full story over at the <a href="https://medium.com/@RiotChat/lets-riot-f5b0aa99dc8e">Riot blog</a>.</p>
<p>Riot (now Element) itself is a fairly thin layer on top of the official client Matrix SDKs, and so 95% of the work for Riot (now Element) took the form of updates to <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>, <a href="https://github.com/matrix-org/matrix-react-sdk">matrix-react-sdk</a>, <a href="https://github.com/matrix-org/matrix-ios-sdk">matrix-ios-sdk</a>, <a href="https://github.com/matrix-org/matrix-ios-kit">matrix-ios-kit</a>, <a href="https://github.com/matrix-org/matrix-android-sdk">matrix-android-sdk</a> and <a href="https://github.com/matrix-org/synapse">synapse</a> itself. There's been a tonne of changes here since June, but the main highlights are:</p>
<ul>
 	<li>End-to-end encryption support landed in matrix-js-sdk and matrix-react-sdk (and thus Riot/Web (now Element)) and in dev on matrix-ios-sdk and matrix-android-sdk using the Olm and Megolm ratchets. More about this later.</li>
 	<li>Hosted integrations, bots and bridges! More about this later too.</li>
 	<li>Direct Message UI landed in Riot/Web (now Element) to tag rooms which exist for contacting a specific user. These get grouped now as the 'People' list in Riot (now Element). It's in dev on Riot/iOS (now Element (iOS)) & Android (now Element Android).</li>
 	<li>Entirely new UI for starting conversations with people - no more creating a room and then inviting; you just say "i want to talk with Bob".</li>
 	<li>Entirely new UI for inviting people into a room - no more confusion between searching the membership list and inviting users.</li>
 	<li>FilePanel UI in Riot/Web (now Element) to instantly view all the attachments posted in a room</li>
 	<li>NotificationPanel UI in Riot/Web (now Element) to instantly view all your missed notifications and mentions in a single place</li>
 	<li>"Volume control" UI to have finer grained control over per-room notification noisiness</li>
 	<li>Entirely re-worked Room Directory navigator - lazy-loading the directory from the server, and selecting rooms via bridge and remote server</li>
 	<li>It's very exciting to see a wider audience discovering Matrix through Riot (now Element) - and Riot (now Element)'s usage stats have been growing steadily since launch, but there's still a lot of room for improvement.</li>
</ul>
Stuff on the horizon includes:
<ul>
 	<li>Formal beta-testing the full end-to-end encryption feature-set.</li>
 	<li>Performance and optimisation work on all platforms - there are huge improvements to be had.</li>
 	<li>Long-awaited poweruser features: 'dark' colour scheme; more whitespace-efficient layout; collapsing consecutive joins/parts...</li>
 	<li>"Landing page" to help explain what's going on to new users and to show deployment-specific announcements and room lists.</li>
 	<li>Support for arbitrary profile information.</li>
 	<li>Threading.</li>
</ul>
Riot (now Element) releases are announced on <a href="https://matrix.to/#/#riot:matrix.org">#riot:matrix.org</a>, the <a href="https://medium.com/@RiotChat">Riot blog</a> and <a href="http://twitter.com/@RiotChat">Twitter</a> - keep your eyes peeled for updates!
<h3 id="end-to-end-encryption">End to End Encryption</h3>
<p>Full cross-platform end-to-end encryption is incredibly close now, with the develop branches of iOS &amp; Android SDKs and Riot (now Element) currently in internal testing as of Nov 7 - expect a Big Announcement very shortly.  We're very optimistic based on how the initial implementation on Riot/Web (now Element)has been behaving so far.</p>
<p>When E2E first landed on Riot/Web (now Element) in September we were missing mobile support, encrypted attachments, encrypted VoIP signalling, and the ability to retrieve encrypted history on new devices - as well as a formal audit of the underlying <a href="/docs/spec/olm.html">Olm</a> and <a href="/docs/spec/megolm.html">Megolm</a> libraries. Since then things have progressed enormously with most of the core team working since September on filling in the gaps, as well as getting audited and fixing all the weird and wonderful edge cases that the audit showed up. All the missing stuff has been landing on the develop branches over the last few weeks, with encrypted attachments landing on web on Nov 10; encrypted VoIP landing on Nov 11; etc. Watch this space for news on the upcoming cross-platform public beta!</p>
<h3 id="hosted-integrations-and-introducing-go-neb">Hosted Integrations and introducing go-neb</h3>
<p>One of the new features which arrived in Riot (now Element) is the ability to add &quot;single click&quot; integrations (i.e. bots, bridges, application services) into rooms from Riot/Web (now Element) by clicking the &quot;Manage Integrations&quot; button in Room Settings. These integrations are hosted for free by Riot (now Element) in its production infrastructure (codenamed Scalar), but all the actual bots/bridges/services themselves are normal opensource Matrix apps and you can of course run them yourself too.</p>
<img class="aligncenter wp-image-1827" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-12-at-11.47.29-1024x913.png" alt="screen-shot-2016-11-12-at-11-47-29" width="894" height="797" />
<p>The Bot integrations are all provided by <a href="https://github.com/matrix-org/go-neb">go-neb</a> - a complete rewrite in Golang and general reimagining of the old <a href="https://github.com/matrix-org/Matrix-NEB">python NEB bot</a> which old-timers will recall as the very first bot written for the Matrix ecosystem. Go-neb has effectively now become a general purpose golang bot/integration framework for Matrix, with the various different services implemented as plugins for <a href="https://github.com/matrix-org/go-neb/tree/master/src/github.com/matrix-org/go-neb/services/github">Github</a>, <a href="https://github.com/matrix-org/go-neb/tree/master/src/github.com/matrix-org/go-neb/services/jira">JIRA</a>, <a href="https://github.com/matrix-org/go-neb/tree/master/src/github.com/matrix-org/go-neb/services/giphy">Giphy</a>, <a href="https://github.com/matrix-org/go-neb/tree/master/src/github.com/matrix-org/go-neb/services/guggy">Guggy</a> etc. Critically it supports <a href="https://github.com/matrix-org/go-neb#configuring-realms">authenticating Matrix users through to the remote service</a>, letting normal Matrix users interact with Github and friends using their actual Github identity rather than via a bot user - this is a huge huge improvement over the original naive python NEB.</p>
<p>If you like Go and you like Matrix, we'd strongly suggest having a go (hah) at adding new services into go-neb: anything implemented against go-neb will also magically be hosted and available as part of the &quot;Manage Integrations&quot; interface in Riot (now Element), as well as being available to anyone else running their own go-nebs. For full details of the architecture and how to implement new plugins, go check out the full <a href="https://github.com/matrix-org/go-neb">README</a>.</p>
<p>If Matrix is to provide a good FOSS alternative to systems like Slack it's critical to have a large array of available integrations, so we really hope that the community will help us grow the list!</p>
<h3 id="building-bridges">Building Bridges</h3>
<p>There have been vast improvements to bridging over the last few months, including the ability to &quot;plumb&quot; bridges into arbitrary rooms (letting you link a single Matrix room through to multiple remote networks). Like go-neb, Riot (now Element) is providing free bridge hosting with the ability to add to rooms with a &quot;single click&quot; via the Manage Integrations button in Room Settings. For now, Riot (now Element) is hosting any bridges built on the <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> codebase.</p>
<p>In short, this means that any user can go and take an existing Matrix room and link it through to Slack, IRC, Gitter, and more.</p>
<h4 id="matrix-appservice-irc">matrix-appservice-irc</h4>
<p>Huge amounts of work have gone into improving the IRC bridge - both adding new features to try to give the most IRC-friendly experience when bridging into IRC, as well as lots of maintenance and performance work to ensure that the matrix.org hosted bridges can scale to the large amounts of traffic we're seeing going through Freenode and others. We've also added hosted bridges for OFTC and Snoonet, and turned on connecting via IPv6 by default for networks which support it.</p>
<p>You can read the full changelogs for 0.5.0 and 0.6.0 at <a href="https://github.com/matrix-org/matrix-appservice-irc/blob/master/CHANGELOG.md">https://github.com/matrix-org/matrix-appservice-irc/blob/master/CHANGELOG.md</a>, but the main highlights are:</p>
<p>matrix-appservice-irc 0.6.0</p>
<ul>
 	<li>Debouncing quits and netsplits: if IRC users quit there can be a window where they are shown as just offline rather than leaving the room, avoiding join/part spam and creating unnecessary state events in Matrix.</li>
 	<li>Topic bridging: IRC topics can now be bridged to Matrix!</li>
 	<li>Support custom SSL CAs (thanks to @Waldteufel)</li>
 	<li>Support custom media repository URLs</li>
 	<li>Support the ability to quit your IRC user from the network entirely</li>
 	<li>Fix rate limiting for traffic from privileged IRC users and services</li>
</ul>
matrix-appservice-irc 0.5.0:
<ul>
 	<li>Support throttling reconnections to IRC servers to avoid triggering abuse thresholds</li>
 	<li>Support "Third party lookup": mapping from IRC users & rooms into Matrix IDs for discovery purposes</li>
 	<li>Support rate-limiting membership entries to avoid triggering abuse thresholds</li>
 	<li>Require permission of an IRC chanop when plumbing an IRC channel into a Matrix room</li>
 	<li>Prevent routing loops by advisory m.room.bridging events</li>
 	<li>Better error messages</li>
 	<li>Sync chanmode +s correctly</li>
 	<li>Fix IPv6 support</li>
</ul>
Next up is automating NickServ login, and generally continuing to make the IRC experience as good as we possibly can.
<h4 id="matrix-appservice-slack">matrix-appservice-slack</h4>
<p>Similarly, the Slack bridge has had loads of work. The main changes include:</p>
<ul>
 	<li>Ability to dynamically bridge ("plumb") rooms on request</li>
 	<li>Add Prometheus monitoring metrics</li>
 	<li>Ability to discover slack team tokens via OAuth2</li>
 	<li>Sync avatars both ways</li>
</ul>
We're currently looking at shifting over to Slack's RTM (Real Time Messaging) API rather than using webhooks in order to get an even better fit with Slack and support bridging DMs, but the current setup is still very usable. For more details: <a href="https://github.com/matrix-org/matrix-appservice-slack">https://github.com/matrix-org/matrix-appservice-slack</a>.
<h4 id="matrix-appservice-gitter">matrix-appservice-gitter</h4>
<p>The Gitter bridge has provided a lot of inspiration for the more recent work on the Slack bridge. Right now it provides straightforward bridging into Gitter rooms, albeit proxied via a 'matrixbot' user on the Gitter side. We're currently looking at letting also users authenticate using their Gitter credentials so they are bridged through to their 'real' Gitter user - watch this space. For more details: <a href="https://github.com/matrix-org/matrix-appservice-gitter">https://github.com/matrix-org/matrix-appservice-gitter</a>.</p>
<h3 id="community-updates">Community updates</h3>
<h4 id="matrix-ircd">matrix-ircd</h4>
<p>matrix-ircd is a rewrite of the old PTO project (<a href="http://pto.im">pto.im</a>): a Rust application that turns Matrix into a single great big decentralised IRC network. PTO itself has unfortunately been on hiatus and is rather bitrotted, so Erik from the core Matrix Team picked it up to see if it could be resurrected. This ended up turning into a complete rewrite (switching from mio to tokio etc), and the new project can be found at <a href="https://github.com/matrix-org/matrix-ircd">https://github.com/matrix-org/matrix-ircd</a>.</p>
<p>matrix-ircd really is an incredibly promising way of getting folks onto Matrix, as it exposes the entirety of Matrix as a virtual IRC network. This means that IRC addicts can jack straight into Matrix, talking native IRC from their existing IRC clients - but interacting directly with Matrix rooms as if they were IRC channesls without going through a bridge. Obviously you lose all of the features and semantics which Matrix provides beyond IRC, but this is still a great way to get started.</p>
<p>The project is currently alpha but provides a good functioning base to extend, and Erik's explicitly asking for help from the Rust and Matrix community to fill in all the missing features. If you're interested in helping, please come talk on <a href="https://matrix.to/#/#matrix-ircd:matrix.org">#matrix-ircd:matrix.org</a>!.</p>
<h4 id="matrix-appservice-gitter-twisted">matrix-appservice-gitter-twisted</h4>
<p>Not to be confused with the Node-based <a href="https://github.com/matrix-org/matrix-appservice-gitter">matrix-appservice-gitter</a>, <a href="https://github.com/remram44/matrix-appservice-gitter-twisted">matrix-appservice-gitter-twisted</a> is an entirely separate project written in Python/Twisted by Remram (Remi Rampin) that has the opposite architecture: rather than bridging existing rooms into Matrix, matrix-appservice-gitter-twisted lets you provide your Gitter credentials and acts instead as a Gitter client, bridging your personal view of a Gitter room into a private Matrix room just for you.</p>
<p>This obviously has some major advantages (your actions on Gitter use your real Gitter account rather than a bot), and some disadvantages too (you can't use Matrix features when interacting with other Matrix users in the same room, and the Gitter channel itself is not decentralised into Matrix). However, it's a really cool example of how the other model can work - and within the core team, we've been arguing back and forth for ages now on whether normal bridges or &quot;sidecar&quot; bridges like this one are a more preferable architecture. Thanks to Remram's work we can try both side by side! Go check it out at <a href="https://github.com/remram44/matrix-appservice-gitter-twisted">https://github.com/remram44/matrix-appservice-gitter-twisted</a>.</p>
<h4 id="telematrix">telematrix</h4>
<p>Telematrix is Telegram&lt;-&gt;Matrix bridge, written by Sijmen Schoon using python3 and asyncio. Right now it's a fairly early alpha hardcoded to bridge a specific Telegram channel into a specific Matrix room, but it works and in use and could be an excellent base for folks interested in a more comprehensive Matrix/Telegram bridge. Go check it out at <a href="https://github.com/SijmenSchoon/telematrix">https://github.com/SijmenSchoon/telematrix</a>
<img class="aligncenter wp-image-1832" src="/blog/wp-content/uploads/2016/11/telematrix-1024x828.png" alt="telematrix" width="641" height="518" /></p>
<h4 id="ruma">Ruma</h4>
<p>Meanwhile, the Ruma project to write a Matrix homeserver in Rust has been progressing steadily, with more and more checkboxes appearing on the <a href="https://github.com/ruma/ruma/blob/master/STATUS.md">status page</a>, with significant new contributions from mujx and farodin91. The best way to keep track of Ruma is to read Jimmy's excellent <a href="https://www.ruma.io/news/">This Week in Ruma</a> updates and of course hang out on <a href="https://matrix.to/#/#ruma:matrix.org">#ruma:matrix.org</a>.</p>
<h4 id="nachat">NaChat</h4>
<p>An entirely new client on the block since the last update is <a href="http://github.com/ralith/nachat">NaChat</a>, written by Ralith. NaChat is a pure cross-platform Qt/C++ desktop client written from the ground up, supporting local history synchronisation, excellent performance, native Qt theming, and generally being a lean and mean Matrix client machine. It's still alpha, but it's easy to build and a lot of fun to play with.</p>
<img class="aligncenter wp-image-1828" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-12-at-12.01.03-1024x664.png" alt="screen-shot-2016-11-12-at-12-01-03" width="1009" height="654" />
<p>Please give a spin, encourage Ralith to finish the <a href="https://github.com/ralith/nachat/tree/timeline-view-rewrite">timeline-view-rewrite</a> branch (which is probably the one you want to be running!), and come hang out on <a href="https://matrix.to/#/#nachat:matrix.org">#nachat:matrix.org</a>.</p>
<h4 id="quaternion">Quaternion</h4>
<p>Meanwhile, the <a href="https://github.com/fxrh/quaternion">Quaternion</a> Qt/QML desktop client and its <a href="https://github.com/fxrh/libqmatrixclient">libqmatrixclient</a> library has been making sure and steady progress, with fxrh, kitsune, maralorn and others working away at it. The difference with NaChat here is using QML rather than native Qt widgets, and a focus on more advanced UX features like a custom infinite-scrolling scrollbar widget, unread message notifications, and read-up-to markers.  Recent developments include the <a href="https://github.com/Fxrh/Quaternion/releases/tag/v0.0.1">first official release (0.0.1)</a> on Sept 12, official Windows builds, lots of work on implementing better Read-up-to Markers, scrolling behaviour etc. Again, it's worth keeping a checkout of Quaternion handy and playing with the client - it's loads of fun!</p>
<img class="aligncenter size-large wp-image-1829" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-12-at-12.12.48-1024x535.png" alt="screen-shot-2016-11-12-at-12-12-48" width="1024" height="535" />
<h3 id="google-summer-of-code-2016-retrospective">Google Summer of Code 2016 Retrospective</h3>
<p>The summer is long gone now, and along with it Google Summer of Code. This was the first year we've <a href="https://summerofcode.withgoogle.com/archive/2016/organizations/6552738187968512/">participated in GSoC</a>, and it was an incredible experience - both judging all the applications, and then working with Aviral Dasgupta and Will Hunt (Half-Shot) who joined the core team as part of their GSoC endeavours.</p>
<p>Aviral's work has been widespread throughout Riot (now Element): adding consistent Emoji support throughout the app via Emoji One, implementing the beta Rich Text Editor (RTE) and all-new autocompletion UI, as well as a bunch of spec proposals for rich message semantics and an initial Slack Webhooks application service. You can read his wrap up at <a href="http://www.aviraldg.com/p/gsoc-2016-wrapup">http://www.aviraldg.com/p/gsoc-2016-wrapup</a> and use the code in Riot/Web (now Element) today. We're currently working on fixing the final issues on RTE and auto-complete and hope to enable them by default real soon now!</p>
<p>Meanwhile, Half-Shot's work ended up focusing on bridging through to Twitter and working on the Threading spec proposal for Matrix. You can find out all about the Twitter bridge at <a href="https://half-shot.github.io/matrix-appservice-twitter">https://half-shot.github.io/matrix-appservice-twitter</a>; it works incredibly well (arguably too well, given the amount of traffic it can bridge into Matrix! :S) - and we're currently working on hosting a version of it on matrix.org for all your tweeting needs. You can see Half-Shot's wrapup blog post over at <a href="https://half-shot.uk/gsoc16_evaulation">https://half-shot.uk/gsoc16_evaulation</a>.</p>
<p>Finally, as a bit of a wildcard, we discovered the other day that there was also another GSoC project using Matrix by Waqee Khalid, supported by the <a href="https://summerofcode.withgoogle.com/archive/2016/organizations/6488734048452608/">Berkman Center for Internet and Society</a> at Harvard to <a href="https://summerofcode.withgoogle.com/archive/2016/projects/5749069813121024/">switch Apache Wave (formerly Google Wave) over to using Matrix rather than XMPP</a> for federation!  The implementation looks a little curious here, as Wave used XMPP as a blunt pubsub layer for synchronising protobuf deltas - and it looks like this implementation uses Matrix similarly, thus killing any interop with the rest of Matrix, which is a bit of a shame.  If anyone knows more about the project we'd love to hear though!</p>
<p>Either way, it's been a pleasure to work with the GSoC community and we owe Aviral and Half-Shot (and Waqee!) a huge debt of gratitude for spending their summers (and more!) hacking away improving Matrix. So, thanks Google for making GSoC possible and thanks to the GSoCers for all their contributions, effort &amp; enthusiasm! Watch this space for updates on RTE, new-autocomplete and the twitter bridge going live...</p>
<h3 id="matrix-in-the-news">Matrix in the news</h3>
<p>Just in case you missed them, there have been a couple of high profile articles flying around about Matrix recently - we made the <a href="http://www.linux-magazine.com/Issues/2016/189/Matrix">front cover of Linux Magazine in August</a> with a comprehensive review of Matrix and Vector (now Riot (now Element)). Then when we launched Riot (now Element) itself we got a cautiously <a href="https://techcrunch.com/2016/09/19/riot-wants-to-be-like-slack-but-with-the-flexibility-of-an-underlying-open-source-platform/">positive write-up from Mike Butcher at Techcrunch</a>. We also wrote an guest column for Techcrunch about the <a href="https://techcrunch.com/2016/10/09/a-decentralized-web-would-give-power-back-to-the-people-online/">importance of bringing power back to the people via decentralisation</a>, which got a surprising amount of attention on <a href="https://news.ycombinator.com/item?id=12670958">HackerNews</a> and elsewhere.</p>
<p>More recently, we were lucky enough to get an <a href="https://www.youtube.com/watch?v=LhCfI-xdvlE">indepth video interview with Bryan Lunduke</a> as part of his 'Linux &amp; Whatnot' series, and also a <a href="http://www.networkworld.com/article/3140014/open-source-tools/down-the-rabbit-hole-part-5-secure-and-private-instant-messaging.html#tk.twt_nww.">write-up in NetworkWorld</a> alongside Signal &amp; Wire as part of Bryan's journeys in the land of encrypted messaging.</p>
<p><a href="https://www.youtube.com/watch?v=LhCfI-xdvlE"><img class="aligncenter wp-image-1830 size-large" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-12-at-12.31.34-1024x571.png" alt="screen-shot-2016-11-12-at-12-31-34" width="1024" height="571" /></a></p>
<p>Huge thanks to everyone who's been nice enough to spread the word of Matrix!</p>
<h3 id="matrix-in-real-life">Matrix In Real Life</h3>
<p>Finally, we've been present at a slew of different events. In August we attended FOSSCON again in Philadelphia to give a general update on Matrix to the Freenode community...</p>
<blockquote>
<p dir="ltr" lang="en">It's <a href="https://twitter.com/fossconNE">@fossconNE</a> time! Dave will be talking about Matrix at 1pm today. Come & say hi! <a href="https://t.co/KtfTVRnAVn">pic.twitter.com/KtfTVRnAVn</a></p>
<p>— Matrix (@matrixdotorg) <a href="https://twitter.com/matrixdotorg/status/766998104369426432">August 20, 2016</a></p>
</blockquote>
<p>...and then Riot (now Element) was launched at Monage in Boston in September, with Matthew and Amandine respectively presenting Matrix and Riot (now Element):</p>
<blockquote>
<p dir="ltr" lang="en">Best <a href="https://twitter.com/hashtag/swag?src=hash">#swag</a> of <a href="https://twitter.com/hashtag/MoNage?src=hash">#MoNage</a>? The <a href="https://twitter.com/RiotChat">@RiotChat</a> stand is getting mobbed :) <a href="https://t.co/NltlfO74Y9">pic.twitter.com/NltlfO74Y9</a></p>
<p>— Oisin Lunny (@oisinlunny) <a href="https://twitter.com/oisinlunny/status/778293579605213185">September 20, 2016</a></p>
</blockquote>
<p>Whilst quite a small event, the quality of folks present was incredibly high - much fun was had comparing open communities to walled gardens with Nicola Greco from Tim Berners-Lee's <a href="http://solid.mit.edu">Solid project</a>...</p>
<blockquote>
<p dir="ltr" lang="en">.<a href="https://twitter.com/ara4n">@ara4n</a> & <a href="https://twitter.com/AmandineLePape">@AmandineLePape</a> showing off the new Riot (now Element) at <a href="https://twitter.com/hashtag/MoNage?src=hash">#MoNage</a> in <a href="https://twitter.com/hashtag/Boston?src=hash">#Boston</a>! <a href="https://t.co/U0qSNjNLGs">pic.twitter.com/U0qSNjNLGs</a></p>
<p>— Riot (@RiotChat) <a href="https://twitter.com/RiotChat/status/778610558983634945">September 21, 2016</a></p>
</blockquote>
<p>...comparing notes with the founders of ICQ, hanging out with Alan from Wire...</p>
<blockquote>
<p dir="ltr" lang="en">A meeting of the messaging minds! <a href="https://twitter.com/wire">@Wire</a> and <a href="https://twitter.com/matrixdotorg">@matrixdotorg</a> federating over a pint at <a href="https://twitter.com/hashtag/MoNage?src=hash">#MoNage</a>. <a href="https://t.co/uTUvWrKRqp">pic.twitter.com/uTUvWrKRqp</a></p>
<p>— Oisin Lunny (@oisinlunny) <a href="https://twitter.com/oisinlunny/status/778731058170736640">September 21, 2016</a></p>
</blockquote>
<p>...chatting to FireChat's CTO, catching up with Dan York from the Internet Society, etc.</p>
<p>Then in October we spoke about scaling Python/Twisted for Matrix at PyCon France in Rennes - this was really fun, albeit slightly embarrassing to be the only talk about Python/Twisted in a track otherwise entirely about Python 3 and asyncio :D That said, the talk seemed to be well received and it was fantastic to meet some of the enthusiastic French Python community and see folks in the audience who were already up and running on Matrix!</p>
<blockquote>
<p dir="ltr" lang="en">Lots of fun at <a href="https://twitter.com/pyconfr">@pyconfr</a> today demoing Matrix, including a quick video conference with the audience & <a href="https://twitter.com/hashtag/TADHack?src=hash">#TADHack</a> London! <a href="https://t.co/rwbA43X7wB">pic.twitter.com/rwbA43X7wB</a></p>
<p>— Matrix (@matrixdotorg) <a href="https://twitter.com/matrixdotorg/status/787332779264602112">October 15, 2016</a></p>
</blockquote>
<p>The same weekend also featured TADHack Global - we were present at the London site; you can read all about it in our <a href="/blog/2016/10/20/tadhack-global-2016/">earlier blog post</a>. There was a really high standard of hacks on Matrix this year, and it was incredibly hard to judge the hackathon. In most ways this is a good problem to have though!</p>
<blockquote>
<p dir="ltr" lang="en">Dramatic prep for <a href="https://twitter.com/maffydub">@maffydub</a> and yinyee's Matrix IoT demo with multiple ESP8266, proximity sensor, and <a href="https://twitter.com/Tropo">@tropo</a> ASR!! <a href="https://t.co/eytG8QWFq6">pic.twitter.com/eytG8QWFq6</a></p>
<p>— Matrix (@matrixdotorg) <a href="https://twitter.com/matrixdotorg/status/787639861696139264">October 16, 2016</a></p>
</blockquote>
<p>Meanwhile, coming up on the horizon we have TADSummit in Lisbon next week, where we'll be giving an update on Matrix to the global Telco Application Developer community, and then the week after we'll be in Israel as part of the Geektime Techfest, Devfest and Chatbot Summit. So if you're in Lisbon or Tel Aviv do give us a ping on Matrix and come hang out!</p>
<h3 id="matrixing-for-fun-and-profit">Matrixing for fun and profit!</h3>
<p>If you've read this far, we're guessing you're hopefully quite interested in Matrix (or just skipping to the end ;).  Something we don't talk about as much as we should is that if you're interested in being paid to work on Matrix full time, we're always interested in expanding the core team.  Right now we're particularly looking for:</p>
<ul>
 	<li>Experienced front-end developers who can help build the next generation of matrix-react-sdk and vector-web</li>
 	<li>Professional tech-writers to help keep <a href="/docs/spec">The Spec</a> and tutorials and other docs updated and as kick-ass as possible</li>
 	<li>Backend Python/Twisted or Golang wizards to help us improve and evolve Synapse</li>
 	<li>Mobile developers (especially Android) to help keep the mobile SDKs and apps evolving as quickly as possible</li>
 	<li>Integration fiends who'd like to be paid to build more bridges, bots and other integrations for the overall ecosystem!</li>
</ul>
Most of the core team hangs out in London or Rennes (France), but we're also open to remote folks where it makes sense.  If this sounds interesting, please shoot us a mail to jobs@matrix.org.  Obviously it helps enormously if we already know you from the Matrix community, and you have a proven FOSS track record.
<h3 id="conclusion">Conclusion</h3>
<p>Apologies once again for an overdue and overlong update, but hopefully this gives a good taste of how Matrix is progressing. Just to give a different datapoint: this graph is quite interesting - showing the volume of events per day sent by native (i.e. non-bridged) Matrix users visible to the matrix.org homeserver since we turned the service on back in 2014:</p>
<img class="aligncenter wp-image-1833" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-04-at-11.02.58-1-1024x778.png" alt="screen-shot-2016-11-04-at-11-02-58-1" width="958" height="728" />
<p>As you can see, things are accelerating quite nicely - and this is ignoring all the traffic in the rest of the Matrix ecosystem that happens not to be federated onto the matrix.org HS, not to mention the <em>huge</em> amounts of traffic due to bridging.</p>
<p>Our plans over the next few months are going to involve:</p>
<ul>
 	<li>Turning on end-to-end encryption by default for any rooms with private history - whilst ensuring it's as easy to write Matrix clients, bots and bridges as it ever was.</li>
 	<li>Yet more scalability and performance work across the board, to ensure Synapse and the client SDKs can handle the growth curve we're seeing here</li>
 	<li>Releasing 0.3.0 of the matrix spec itself.</li>
 	<li>Making Riot (now Element)'s UX excellent.</li>
 	<li>Editable messages.</li>
 	<li>Threading.</li>
 	<li>User groups, for applying permissions/invites etc to groups of users as well as individuals.</li>
 	<li>Formalising the federation spec at last</li>
 	<li>As many bots, bridges and other integrations as possible!</li>
 	<li>Making VoIP/Video conferencing and calling awesome.</li>
 	<li>More experiments with next-generation homeservers</li>
 	<li>Starting to really think hard about decentralised identity and reputation/spam management</li>
 	<li>...and a few new things we don't want to talk about yet ;)</li>
</ul>
If you've got this far - congratulations! Thanks for reading, and thank you for supporting the Matrix ecosystem.
<p>Now more than ever before we believe that it is absolutely critical to have a healthy and secure decentralised communications ecosystem on the 'net (whether that's Matrix, XMPP, Tox or whatever) - so thank you again for participating in our one :)  And if you don't already run your server, please <a href="https://github.com/matrix-org/synapse">grab a Synapse</a> and have fun!</p>
<ul>
<li>Matthew, Amandine &amp; the Matrix Team.</li>
</ul>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2016&#x2F;11&#x2F;08&#x2F;synapse-debian-package-security-announcement&#x2F;" title="Synapse Debian Package Security Announcement - and Synapse 0.18.3">Synapse Debian Package Security Announcement - and Synapse 0.18.3</a></h1>
            <span>
                08.11.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/erik-johnston">
                    Erik Johnston
                </a>
                
            </span>
            
        </header>
        <div>
            <p>We were advised of a bug with the LDAP integration an hour ago that allowed unauthenticated login in certain circumstances when using an old version of the ldap3 python module (v0.9.x).</p>
<p>Currently, this is only known to affect the debian packages of synapse. <strong>A fix has been pushed, v0.18.2-2, and it is strongly advised for you to update as soon as possible</strong>.</p>
<p>Synapse installed using pip should not be affected, as pip will have bundled a newer version of the ldap3 module.</p>
<h3 id="update-synapse-v0-18-3-released">UPDATE: Synapse v0.18.3 released.</h3>
<p>This issue only affects OS (not virtualenv) installations using v0.9.x of the ldap3 python package (e.g. Debian Stable (Jessie)).  Synapse itself specifies a dependency on &gt;v1.0 of ldap3, but as the dependency is optional there is a risk that a stale operating system dependency will be pulled in instead.  To be safe, <strong>0.18.3 of Synapse</strong> has just been released to fix the underlying problem for anyone using the older ldap3 package, regardless of their OS. <a href="https://github.com/matrix-org/synapse/releases/tag/v0.18.3">https://github.com/matrix-org/synapse/releases/tag/v0.18.3</a> has the details.</p>
<p>Many thanks to Adrián Pérez for reporting the problem, and to hexa- for assistance in quickly solving it!</p>
<p>Signed announcement: <a href="/blog/wp-content/uploads/2016/11/synapse-debian-security-announcement-1.asc">synapse-debian-security-announcement</a></p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2016&#x2F;10&#x2F;20&#x2F;tadhack-global-2016&#x2F;" title="TADHack Global 2016">TADHack Global 2016</a></h1>
            <span>
                20.10.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/oddvar-lovaas">
                    Oddvar Lovaas
                </a>
                
            </span>
            
        </header>
        <div>
            <img src="/blog/wp-content/uploads/2016/10/TADHack-2016-Global-3-300x244.png" alt="tadhack-2016-global-3-300x244" width="300" height="244" class="alignleft size-full wp-image-1796" />
TADHack Global 2016 was held across 30+ different locations last weekend. The goal in the TADHack is to create a hack over the weekend, using one or more of the APIs provided by the sponsors - of which Matrix is one. 
<p>Over 2600 people participated, and over 150 hacks were created! I think it's safe to say that TADHack Global 2016 was a great success!</p>
<p>The Matrix team were on location in Shoreditch, London, where we helped people with their hacks (while also keeping an eye on the online <a href="https://matrix.to/#/#tadhack-tadmentor-matrix:matrix.org">TADHack Matrix room</a> to help remote entries). </p>
<p>Several teams used Matrix in their hack, both in London and elsewhere:</p>
<p>In Lisbon, Luis Tonicha and Tiago Dias created &quot;Athos&quot;: a bot for shopping assistance. The bot accepts various queries which it tries to answer using Carrefour's API. The team also created a Telestax bridge, so you can send the queries via SMS! This hack won the Lisbon location prize! Watch their <a href="https://www.youtube.com/watch?v=sskei22iquQ&t=7m20s">presentation here</a>.</p>
<p>A team in Moscow did a hack using Matrix, where they created a kind of MUD in Matrix. Unfortunately, the <a href="https://www.youtube.com/watch?v=i0Y7VmeWX5c&t=3h40m20s">presentation</a> is not currently available.</p>
<p>Yelly was a remote entry by Fikri Fırat, Utku Yavuz, and Barış Erbil. It is a voice message based chat application inspired by the nature of shouting as a way of communication. See their <a href="https://youtu.be/Q7ePIZ3Y5hg">presentation here</a>.</p>
<p>In Kiev, Ukraine, the DataArt team (Artem Malykhin, Pavlina Bevz, Igor Maximenko, and Eugene Grachev) created a hack called &quot;Web conference for Smart TV&quot;: an app for Smart TVs for VoIP conferencing. See the <a href="https://www.youtube.com/watch?v=EK1DwvRvdd4&t=13m50s">presentation here</a>.</p>
<p>Over in Chicago, Sergio Gil, Caterina Lazaro, and Anup Mohan created &quot;Little Endian Kitchen&quot;: Shopping management for your kitchen. The idea was to have a webcam in your fridge that can check which items are &quot;missing&quot; (e.g. which ones need replacing) and even provide a VoIP stream so you can check yourself (even using VR-goggles!) - see the <a href="https://www.youtube.com/watch?v=CiIiO6vs_So&t=32m46s">presentation here</a>.</p>
<p>In Berlin, there were quite a few hacks. One of these was called &quot;Clipboard Monkey&quot; and was made by Tim Unkrig, Tammo Behrends, Markus Kerschkewicz. This team created a decentralized, universal and fully encrypted clipboard using Matrix. See the full <a href="https://www.youtube.com/watch?v=nrconLsom00&t=20m20s">presentation here</a>. We awarded this hack one of the two global prizes of a MacBook Air! They were also joint winners of the Berlin location prize - well done!</p>
<p>Finally, in London we had several teams working on Matrix hacks. There was the &quot;Moodlight&quot; hack by Astrid de Gasté, Ryan Lintott, Tomas Zezula, Istvan Hoffer, and Jing Chan. The team created a sentiment analysis bot connecting Riot (now Element)/Matrix to Philips Hue, and analysing the comments in a room using a <a href="https://algorithmia.com/algorithms/nlp/SocialSentimentAnalysis">Social Sentiment Analysis</a> library - blue light for positive comments and red for less positive chat. Watch the <a href="https://www.youtube.com/watch?v=X41RbOKTrbE&t=29m">presentation here</a>. This hack won the London Location Prize!</p>
<img src="/blog/wp-content/uploads/2016/10/Cu5BNyoXEAAmexk-300x225.jpg" alt="cu5bnyoxeaamexk" width="300" height="225" class="alignleft size-medium wp-image-1794" />
<p>Also in London, there was Immanuel Baskaran's &quot;Hangouts Bridge&quot; hack, which bridged Matrix to Google Hangouts! <a href="https://www.youtube.com/watch?v=X41RbOKTrbE&t=17m31s">Presentation here</a>. In classic &quot;dangerous demo&quot; fashion, Google Hangouts experienced an outage just when the demo was happening. We awarded this hack the Special Matrix Prize - congrats Immanuel!</p>
<p>&quot;Matrix of Things&quot; by Matt Williams, and Yin Yee Kan won the other Matrix global prize, which was a MacBook Air. They created a minimal Matrix client on a ESPB266 micro controller, and added a proximity sensor feature to Riot (now Element) so that two different devices can notice when they are in close proximity. See the <a href="https://www.youtube.com/watch?v=X41RbOKTrbE&t=11m30s">presentation and demo here</a>!</p>
<p>Congrats to all the participants - we hope you had a lot of fun! The <a href="http://blog.tadhack.com/2016/10/16/tadhack-2016-winners/">full list of winners</a> is available over on the TADHack blog.</p>
<p>And if the hackathon has inspired you to hack on Matrix, please come chat to us in <a href="https://matrix.to/#/#matrix-dev:matrix.org">#matrix-dev</a> or the <a href="https://matrix.to/#/#tadhack-tadmentor-matrix:matrix.org">TADHack Matrix room</a>!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2016&#x2F;09&#x2F;08&#x2F;synapse-v0-17-2-released&#x2F;" title="Synapse v0.17.2 released!">Synapse v0.17.2 released!</a></h1>
            <span>
                08.09.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/erik-johnston">
                    Erik Johnston
                </a>
                
            </span>
            
        </header>
        <div>
            <p>A small update for Synapse has been released: <a href="https://github.com/matrix-org/synapse/releases/tag/v0.17.2">v0.17.2</a>! It includes a few optimisations to reduce memory usage, as well as some <strong>security bug fixes</strong>. It's therefore recommended to upgrade as soon as possible.</p>
<p>The full change log can be found on the <a href="https://github.com/matrix-org/synapse/releases/tag/v0.17.2">release page</a>.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2016&#x2F;08&#x2F;24&#x2F;synapse-v0-17-1-released&#x2F;" title="Synapse v0.17.1 released!">Synapse v0.17.1 released!</a></h1>
            <span>
                24.08.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/erik-johnston">
                    Erik Johnston
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Synapse <a href="https://github.com/matrix-org/synapse/releases/tag/v0.17.1">v0.17.1</a> is here! It includes a bunch of bug fixes an performance improvements, as well as a brand new <a href="https://github.com/matrix-org/synapse/pull/1028">notifications API</a> added by Dave.</p>
<p>We've also been busy adding more metrics into the code to help spot various performance bottlenecks, which should help in the ongoing performance improvement effort.</p>
<p>This also includes security fixes regarding possible XSS attacks involving the media repository - please upgrade!</p>
<p>The full change log can be found on the <a href="https://github.com/matrix-org/synapse/releases/tag/v0.17.1">release page</a>.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2016&#x2F;08&#x2F;15&#x2F;matrix-irc-bridge-reaches-v0-4-0&#x2F;" title="Matrix-IRC Bridge reaches v0.4.0">Matrix-IRC Bridge reaches v0.4.0</a></h1>
            <span>
                15.08.2016 00:00
                —
                <a href="/category/tech">
                    Tech
                </a>
                —
                
                <a href="/author/kegan-dougal">
                    Kegan Dougal
                </a>
                
            </span>
            
        </header>
        <div>
            <p>A new version of the IRC bridge has been released onto NPM and the matrix.org bridges!</p>
<p>The IRC bridge has undergone quite a number of modifications since its <a href="/blog/2015/04/22/matrix-irc-application-service/">original inception</a> over a year ago. Version 0.4 introduces a number of additional features and improvements, which can be found in the <a href="https://github.com/matrix-org/matrix-appservice-irc/blob/master/CHANGELOG.md">changelog</a>. These include automatically linkifying large blocks of text and mirroring kicks/bans to and from Matrix.</p>
<p>With a plethora of protocol gotchas and non-standard features on well-known IRC networks, IRC is a challenging protocol to work with. It's inevitable that some corner cases are not handled well by the bridge. Over time, the bridge has been hardened by edge cases which we have encountered and patched. These releases signify the continual improvement in the robustness of the bridge, which we aim to continue with into the foreseeable future.</p>
<p>Performance wise, our busiest bridge which we host is the bridge to <a href="http://freenode.net/">Freenode</a>. We now have over 1300 active connections to it and have a steady rate of about 240 messages per minute going through to Matrix. We expect to see this number increase significantly over the next few months. Let's see what the next year will bring!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2016&#x2F;08&#x2F;08&#x2F;synapse-0-17-0-released&#x2F;" title="Synapse 0.17.0 released!">Synapse 0.17.0 released!</a></h1>
            <span>
                08.08.2016 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                
                <a href="/author/erik-johnston">
                    Erik Johnston
                </a>
                
            </span>
            
        </header>
        <div>
            <p>Synapse <a href="https://github.com/matrix-org/synapse/releases/tag/v0.17.0">v0.17.0</a> is finally here, which includes a couple of security fixes so <strong>please upgrade</strong>. Other notable new things are:</p>
<ul>
 	<li>A bunch of new admin APIs, including purging locally cached data (which has been long requested to help free up disk space). See the <a href="https://github.com/matrix-org/synapse/tree/master/docs/admin_api">docs folder</a> for more details.</li>
 	<li>Device management APIs in preparation for end to end encryption.</li>
 	<li>Better support for LDAP authentication, thanks to Martin Weinelt! (This may break existing LDAP configuration, see <a href="https://github.com/matrix-org/synapse/pull/843">PR #843</a> for more details.)</li>
 	<li>Lots and lots of bug fixes and various bits of performance work.</li>
</ul>
For a full list of everything that has changed see below or the <a href="https://github.com/matrix-org/synapse/releases/tag/v0.17.0">release page</a>.
<p>I'd also like to thank Will Hunt, Martin Weinelt and Kent Shikama for their contributions!</p>
<h3 id="changes-in-synapse-v0-17-0-2016-08-08">Changes in synapse v0.17.0 (2016-08-08)</h3>
<p>This release contains significant security bug fixes regarding authenticating
events received over federation. PLEASE UPGRADE.</p>
<p>This release changes the LDAP configuration format in a backwards incompatible
way, see PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/843" data-url="https://github.com/matrix-org/synapse/issues/843" data-id="158692541" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#843</a> for details.</p>
<p>Changes:</p>
<ul>
 	<li>Add federation /version API (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/990" data-url="https://github.com/matrix-org/synapse/issues/990" data-id="169636556" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#990</a>)</li>
 	<li>Make psutil dependency optional (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/992" data-url="https://github.com/matrix-org/synapse/issues/992" data-id="169888303" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#992</a>)</li>
</ul>
Bug fixes:
<ul>
 	<li>Fix URL preview API to exclude HTML comments in description (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/988" data-url="https://github.com/matrix-org/synapse/issues/988" data-id="169610681" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#988</a>)</li>
 	<li>Fix error handling of remote joins (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/991" data-url="https://github.com/matrix-org/synapse/issues/991" data-id="169653250" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#991</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-17-0-rc4-2016-08-05">Changes in synapse v0.17.0-rc4 (2016-08-05)</h3>
<p>Changes:</p>
<ul>
 	<li>Change the way we summarize URLs when previewing (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/973" data-url="https://github.com/matrix-org/synapse/issues/973" data-id="168942221" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#973</a>)</li>
 	<li>Add new <code>/state_ids/</code> federation API (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/979" data-url="https://github.com/matrix-org/synapse/issues/979" data-id="169136186" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#979</a>)</li>
 	<li>Speed up processing of <code>/state/</code> response (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/986" data-url="https://github.com/matrix-org/synapse/issues/986" data-id="169570759" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#986</a>)</li>
</ul>
Bug fixes:
<ul>
 	<li>Fix event persistence when event has already been partially persisted (PR <a class="issue-link js-issue-link" title="Ensure we only persist an event once at a time" href="https://github.com/matrix-org/synapse/pull/975" data-id="169098276" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#975</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/983" data-url="https://github.com/matrix-org/synapse/issues/983" data-id="169382701" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#983</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/985" data-url="https://github.com/matrix-org/synapse/issues/985" data-id="169570281" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#985</a>)</li>
 	<li>Fix port script to also copy across backfilled events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/982" data-url="https://github.com/matrix-org/synapse/issues/982" data-id="169344602" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#982</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-17-0-rc3-2016-08-02">Changes in synapse v0.17.0-rc3 (2016-08-02)</h3>
<p>Changes:</p>
<ul>
 	<li>Forbid non-ASes from registering users whose names begin with '_' (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/958" data-url="https://github.com/matrix-org/synapse/issues/958" data-id="167904457" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#958</a>)</li>
 	<li>Add some basic admin API docs (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/963" data-url="https://github.com/matrix-org/synapse/issues/963" data-id="168102004" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#963</a>)</li>
</ul>
Bug fixes:
<ul>
 	<li>Send the correct host header when fetching keys (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/941" data-url="https://github.com/matrix-org/synapse/issues/941" data-id="166784788" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#941</a>)</li>
 	<li>Fix joining a room that has missing auth events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/964" data-url="https://github.com/matrix-org/synapse/issues/964" data-id="168120112" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#964</a>)</li>
 	<li>Fix various push bugs (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/966" data-url="https://github.com/matrix-org/synapse/issues/966" data-id="168177154" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#966</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/970" data-url="https://github.com/matrix-org/synapse/issues/970" data-id="168521716" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#970</a>)</li>
 	<li>Fix adding emails on registration (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/968" data-url="https://github.com/matrix-org/synapse/issues/968" data-id="168337247" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#968</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-17-0-rc1-2016-07-28">Changes in synapse v0.17.0-rc1 (2016-07-28)</h3>
<p>This release changes the LDAP configuration format in a backwards incompatible
way, see PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/843" data-url="https://github.com/matrix-org/synapse/issues/843" data-id="158692541" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#843</a> for details.</p>
<p>Features:</p>
<ul>
 	<li>Add purge_media_cache admin API (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/902" data-url="https://github.com/matrix-org/synapse/issues/902" data-id="162932471" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#902</a>)</li>
 	<li>Add deactivate account admin API (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/903" data-url="https://github.com/matrix-org/synapse/issues/903" data-id="163182922" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#903</a>)</li>
 	<li>Add optional pepper to password hashing (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/907" data-url="https://github.com/matrix-org/synapse/issues/907" data-id="163714838" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#907</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/910" data-url="https://github.com/matrix-org/synapse/issues/910" data-id="164027482" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#910</a> by <a class="user-mention" href="https://github.com/KentShikama">@KentShikama</a>)</li>
 	<li>Add an admin option to shared secret registration (breaks backwards compat) (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/909" data-url="https://github.com/matrix-org/synapse/issues/909" data-id="163892610" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#909</a>)</li>
 	<li>Add purge local room history API (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/911" data-url="https://github.com/matrix-org/synapse/issues/911" data-id="164096726" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#911</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/923" data-url="https://github.com/matrix-org/synapse/issues/923" data-id="165745465" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#923</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/924" data-url="https://github.com/matrix-org/synapse/issues/924" data-id="165785903" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#924</a>)</li>
 	<li>Add requestToken endpoints (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/915" data-url="https://github.com/matrix-org/synapse/issues/915" data-id="164571236" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#915</a>)</li>
 	<li>Add an /account/deactivate endpoint (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/921" data-url="https://github.com/matrix-org/synapse/issues/921" data-id="165511431" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#921</a>)</li>
 	<li>Add filter param to /messages. Add 'contains_url' to filter. (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/922" data-url="https://github.com/matrix-org/synapse/issues/922" data-id="165585706" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#922</a>)</li>
 	<li>Add device_id support to /login (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/929" data-url="https://github.com/matrix-org/synapse/issues/929" data-id="166118756" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#929</a>)</li>
 	<li>Add device_id support to /v2/register flow. (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/937" data-url="https://github.com/matrix-org/synapse/issues/937" data-id="166613208" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#937</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/942" data-url="https://github.com/matrix-org/synapse/issues/942" data-id="166788540" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#942</a>)</li>
 	<li>Add GET /devices endpoint (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/939" data-url="https://github.com/matrix-org/synapse/issues/939" data-id="166614282" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#939</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/944" data-url="https://github.com/matrix-org/synapse/issues/944" data-id="166840622" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#944</a>)</li>
 	<li>Add GET /device/{'{'}deviceId{'{'} (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/943" data-url="https://github.com/matrix-org/synapse/issues/943" data-id="166792610" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#943</a>)</li>
 	<li>Add update and delete APIs for devices (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/949" data-url="https://github.com/matrix-org/synapse/issues/949" data-id="167421787" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#949</a>)</li>
</ul>
Changes:
<ul>
 	<li>Rewrite LDAP Authentication against ldap3 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/843" data-url="https://github.com/matrix-org/synapse/issues/843" data-id="158692541" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#843</a> by <a class="user-mention" href="https://github.com/mweinelt">@mweinelt</a>)</li>
 	<li>Linearize some federation endpoints based on (origin, room_id) (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/879" data-url="https://github.com/matrix-org/synapse/issues/879" data-id="160917868" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#879</a>)</li>
 	<li>Remove the legacy v0 content upload API. (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/888" data-url="https://github.com/matrix-org/synapse/issues/888" data-id="161405539" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#888</a>)</li>
 	<li>Use similar naming we use in email notifs for push (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/894" data-url="https://github.com/matrix-org/synapse/issues/894" data-id="162121552" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#894</a>)</li>
 	<li>Optionally include password hash in createUser endpoint (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/905" data-url="https://github.com/matrix-org/synapse/issues/905" data-id="163548694" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#905</a> by <a class="user-mention" href="https://github.com/KentShikama">@KentShikama</a>)</li>
 	<li>Use a query that postgresql optimises better for get_events_around (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/906" data-url="https://github.com/matrix-org/synapse/issues/906" data-id="163691925" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#906</a>)</li>
 	<li>Fall back to 'username' if 'user' is not given for appservice registration. (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/927" data-url="https://github.com/matrix-org/synapse/issues/927" data-id="165932125" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#927</a> by <a class="user-mention" href="https://github.com/Half-Shot">@Half-Shot</a>)</li>
 	<li>Add metrics for psutil derived memory usage (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/936" data-url="https://github.com/matrix-org/synapse/issues/936" data-id="166605269" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#936</a>)</li>
 	<li>Record device_id in client_ips (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/938" data-url="https://github.com/matrix-org/synapse/issues/938" data-id="166613664" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#938</a>)</li>
 	<li>Send the correct host header when fetching keys (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/941" data-url="https://github.com/matrix-org/synapse/issues/941" data-id="166784788" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#941</a>)</li>
 	<li>Log the hostname the reCAPTCHA was completed on (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/946" data-url="https://github.com/matrix-org/synapse/issues/946" data-id="167078376" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#946</a>)</li>
 	<li>Make the device id on e2e key upload optional (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/956" data-url="https://github.com/matrix-org/synapse/issues/956" data-id="167831954" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#956</a>)</li>
 	<li>Add r0.2.0 to the "supported versions" list (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/960" data-url="https://github.com/matrix-org/synapse/issues/960" data-id="168038168" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#960</a>)</li>
 	<li>Don't include name of room for invites in push (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/961" data-url="https://github.com/matrix-org/synapse/issues/961" data-id="168050327" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#961</a>)</li>
</ul>
Bug fixes:
<ul>
 	<li>Fix substitution failure in mail template (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/887" data-url="https://github.com/matrix-org/synapse/issues/887" data-id="161403101" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#887</a>)</li>
 	<li>Put most recent 20 messages in email notif (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/892" data-url="https://github.com/matrix-org/synapse/issues/892" data-id="161732391" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#892</a>)</li>
 	<li>Ensure that the guest user is in the database when upgrading accounts (PR <a class="issue-link js-issue-link" title="Ensure that the guest user is in the database when upgrading accounts" href="https://github.com/matrix-org/synapse/pull/914" data-id="164541872" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#914</a>)</li>
 	<li>Fix various edge cases in auth handling (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/919" data-url="https://github.com/matrix-org/synapse/issues/919" data-id="165306219" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#919</a>)</li>
 	<li>Fix 500 ISE when sending alias event without a state_key (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/925" data-url="https://github.com/matrix-org/synapse/issues/925" data-id="165844030" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#925</a>)</li>
 	<li>Fix bug where we stored rejections in the state_group, persist all rejections (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/948" data-url="https://github.com/matrix-org/synapse/issues/948" data-id="167391758" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#948</a>)</li>
 	<li>Fix lack of check of if the user is banned when handling 3pid invites (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/952" data-url="https://github.com/matrix-org/synapse/issues/952" data-id="167640958" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#952</a>)</li>
 	<li>Fix a couple of bugs in the transaction and keyring code (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/954" data-url="https://github.com/matrix-org/synapse/issues/954" data-id="167675906" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#954</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/955" data-url="https://github.com/matrix-org/synapse/issues/955" data-id="167810557" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#955</a>)</li>
</ul>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;page&#x2F;56&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">57 / 68</span>
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;page&#x2F;58&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p><a href="/legal/copyright-notice">Copyright Notice</a></p>
</footer>

</body>

</html>
