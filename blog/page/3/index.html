<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    </head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        <div class="content">
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;17&#x2F;synapse-1-65-released&#x2F;" title="Synapse 1.65 released">Synapse 1.65 released</a></h1>
            <span>
                17.08.2022 15:44
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/brendan-abolivier">
                    Brendan Abolivier
                </a>
            </span>
            <br>
            <small>Last update: 17.08.2022 15:25</small>
        </header>
        <div>
            <p>Hey everyone! We've just released <a href="https://github.com/matrix-org/synapse/releases/tag/v1.65.0">Synapse
1.65</a>! Let's have a
peek at what's inside.</p>
<h2 id="private-read-receipts">Private read receipts</h2>
<p>A feature that the more privacy-focused users of Matrix have been missing was
the ability to hide read receipts from other users. Read receipts in rooms can
tell a user which messages another user has read in a room. However, they can
also be an unwelcome indicator that a user is currently reading a certain room,
thus giving away the user's activity on Matrix at a given time.</p>
<p>Hiding one's read receipts from other Matrix users is unfortunately not as
straightforward as simply preventing a client from sharing read receipts with
the server. This is because read receipts are also used by Matrix homeservers to
calculate how much of a room a user has read, and generate notification counts
for rooms accordingly.</p>
<p>Synapse 1.65 introduces stable support for private read receipts. This feature,
described by
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2285">MSC2285</a>, allows
clients to send a different type of read receipt to the server. This then tells
the homeserver to use this piece of information to update the user's
notification counts, but not to share it with other users.</p>
<h2 id="improved-room-management-apis-for-modules">Improved room management APIs for modules</h2>
<p>This version of Synapse includes two new module API methods to help Synapse
modules interact and manage rooms. The first one,
<a href="https://github.com/matrix-org/synapse/blob/v1.65.0/synapse/module_api/__init__.py#L1455-L1477"><code>lookup_room_alias</code></a>,
allows modules to retrieve the room ID corresponding to a given room alias. This
works both for local and remote aliases. The second one,
<a href="https://github.com/matrix-org/synapse/blob/v1.65.0/synapse/module_api/__init__.py#L1479-L1528"><code>create_room</code></a>,
allows modules to create new rooms on behalf of an existing user.</p>
<p>The
<a href="https://github.com/matrix-org/synapse/blob/v1.65.0/synapse/module_api/__init__.py#L925-L1017"><code>update_room_membership</code></a>
method has also been updated in this release of Synapse to allow modules to join
a room the server is not already in via federation. This can be done by using
the new <code>remote_room_hosts</code> argument, which takes a list of homeservers to try
to join via.</p>
<h2 id="everything-else">Everything else</h2>
<p>Synapse 1.65 stabilises the implementation of
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3827</a>, which
allows filtering public room searches on room types. This means it is now
possible to search specifically for public spaces. For more information on this
feature, see <a href="https://matrix.org/blog/2022/07/20/synapse-1-63-released">the Synapse 1.63
announcement</a>.</p>
<p>Additionally, Synapse 1.65 implements the new experimental error codes
documented by
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3848</a>. Once
stabilised, these error codes will allow clients to show more specific errors to
their users about why an event could not be sent.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.65.0">full
changelog</a> for a
complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>,
<a href="https://github.com/andrewdoh">andrewdoh</a>, <a href="https://github.com/moan0s">Julian-Samuel
Gebühr</a> and <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;15&#x2F;the-matrix-summer-special-2022&#x2F;" title="The Matrix Summer Special 2022">The Matrix Summer Special 2022</a></h1>
            <span>
                15.08.2022 00:00
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/matthew-hodgson">
                    Matthew Hodgson
                </a>
            </span>
            
        </header>
        <div>
            <p>Hi all,</p>
<p>At the end of each year it’s been traditional to do a big review of everything that the Matrix core team got up to that year, and announcing our predictions for the next.  You can see the last edition in <a href="https://matrix.org/blog/2021/12/22/the-mega-matrix-holiday-special-2021">2021 here</a> - and if you’re feeling nostalgic you can head down memory lane with the <a href="https://matrix.org/blog/2020/12/25/the-matrix-holiday-special-2020">2020</a>, <a href="https://matrix.org/blog/2019/12/24/the-2019-matrix-holiday-update">2019</a>, <a href="https://matrix.org/blog/2018/12/25/the-2018-matrix-holiday-special">2018</a> ones etc too.</p>
<p>This year is turning out to be slightly different, however.  Our plans for 2022 are particularly ambitious: to force a step change in improving Matrix’s performance and usability so that we firmly transition from our historical “make it work” and “make it work right” phases into “<strong>making it fast</strong>”.  Specifically: to succeed, Matrix <strong>has</strong> to succeed in powering apps which punch their weight in terms of performance and usability against the proprietary centralised alternatives of WhatsApp, Discord, Slack and friends.</p>
<p>We’ve seen an absolute tonne of work happening on this so far this year… and somehow the end results all seem to be taking concrete shape at roughly the same time, despite summer traditionally being the quietest point of the year.  The progress is super exciting and we don’t want to wait until things are ready to enthuse about them, and so we thought it’d be fun to do a spontaneous Summer Special gala blog post so that everyone can follow along and see how things are going!</p>
<h2 id="making-it-fast">Making it fast</h2>
<p>We have always focused on first making Matrix “work right” before we make it “work fast” - sometimes to a fault.  After all: the longer you build on a given architecture the harder it becomes to swap it out down the line, and the core architecture of Matrix has remained essentially the same since we began in 2014 - frankly it’s amazing that the initial design has lasted for as long as it has.</p>
<p>Over the years we’ve done a lot of optimisation work on the core team implementations of that original architecture - whether that’s Synapse or matrix-{js,react,ios,android}-sdk and friends: for instance Synapse uses 5-10x less RAM than it used to (my personal federated server is only using 145MB of RAM atm! 🤯) and it continues to speed up in pretty much every new release (<a href="https://github.com/matrix-org/synapse/pull/13522">this PR</a> looks to give a 1000x speedup on calculating push notification actions, for instance!).  However, there are some places where Matrix’s architecture itself ends up being an embarrassingly slow bottleneck: most notably when rapidly syncing data to clients, and when joining rooms for the first time over federation.  We’re addressing these as follows…</p>
<h3 id="sliding-sync-aka-sync-v3">Sliding Sync (aka Sync v3)</h3>
<p>Historically, /sync always assumed that the client would typically want to know about all the conversations its user is in - much as an IRC client or XMPP client is aware of all your current conversations.  This provided some nice properties - such as automatically enabling perfect offline support, simplifying client and server development, and making features like “jump to room” and “tab complete” work instantly given the data is all client-side.  In the early days of Matrix, when nobody was yet a power user, this wasn’t really a problem - but as users join more conversations and join bigger rooms, it’s become one of Matrix’s biggest performance bottlenecks.  In practice, logging into a large account (~4000 rooms) can take ~10 minutes and hundreds of megabytes of network traffic, which is clearly ridiculous. Worse: if you go offline for a day or so, the incremental sync to catch back up can take minutes to calculate (and can even end up being worse than an initial sync).</p>
<p>To fix this, we started work on Sliding Sync (<a href="https://github.com/matrix-org/matrix-spec-proposals/blob/kegan/sync-v3/proposals/3575-sync.md">MSC3575</a>) in 2021: a complete reimagining of the /sync API used by Matrix clients to receive data from their homeserver.  In Sliding Sync, we only send the client the data it needs to render its UI.  Most importantly, we only tell it about the subset of rooms which it is visible in the scroll window of its room list (or that it needs to display notifications about).  As the user scrolls around the room list, they slide the window up and down - hence the name “sliding sync”.  Sliding Sync was originally called Sync v3, given it’s our 3rd iteration of the sync API - it got renamed Sliding Sync given the current sync API confusingly ended up with a prefix of /v3.</p>
<p><a href="https://matrix.org/blog/2021/12/22/the-mega-matrix-holiday-special-2021#sync-v3">Back in December</a> our work on Sliding Sync was still pretty early: we had the initial MSC, an experimental proxy that converted the existing sync v2 API into Sliding Sync, and a simple proof-of-concept web client to exercise it.  Since then, however, there has been spectacular progress:</p>
<ul>
<li>MSC3575 has undergone some <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575/commits/bea7323c0b03dbd46600ce8fe01218d55f0de083">big</a> <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3575/commits/a0bf4027bcef278e43a570c6fa94f2b1bef3488b">iterations</a> as we converge on the optimal API shape.</li>
<li>The <a href="https://github.com/matrix-org/sliding-sync">sliding-sync</a> proxy has matured to be something which we’re now running in stealth against matrix.org for those dogfooding the API</li>
<li>We added the concept of extensions to split out how to sync particular classes of data (to avoid the API becoming a monolithic monster) - specifically:
<ul>
<li>Account Data</li>
<li>End-to-end Encryption</li>
<li>To-device messages</li>
<li>Ephemeral events (to be done)</li>
<li>Presence (to be done)</li>
</ul>
</li>
<li>We added support for spaces!</li>
<li>We implemented it in <a href="https://github.com/matrix-org/matrix-js-sdk/pull/2242">matrix-js-sdk</a> (which merged a few weeks ago!)</li>
<li>…and have a WIP implementation in <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/728">matrix-rust-sdk</a> too.</li>
</ul>
<p>But most importantly, we’ve also been busy implementing Sliding Sync in Element Web itself so we can start using it for real.  Now, this is still a work in progress, but as of today it’s <em>just</em> getting to the point where one can experiment with it as a daily driver (although it’s definitely alpha and we’re still squishing bugs like crazy!) - and we can see just how well it really performs in real life.</p>
<p>For instance, here’s a video of my account (4055 rooms, redacted for privacy) logging in on an entirely fresh browser via Sliding Sync - the actual sync takes roughly 1 second (at 00:18 in the video).  And if we’d started the sync operation while the user is setting up E2E encryption, it would have completed in the background before they even got to the main screen, giving instant login(!).  Given my account typically takes ~10 minutes to initial sync (plus even more time for encryption to sync up), this is at least a real-life <strong>600x improvement</strong>.  Moreover, the sync response is only 20KB (a ~5000x improvement) - a huge win for low-bandwidth Matrix situations.</p>
<iframe src="https://www.youtube.com/embed/9dbM66tGK5s" title="Sliding Sync Demo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Then, having logged in, the client subsequently launches pretty much instantly, <em>no matter how long you’ve been offline</em>. Total launch time is roughly 4 seconds, most of which is loading the app’s assets - which in turn could well be improved by progressively loading the app.  It could also be sped up even more if we cached state locally - currently the implementation simply reloads from the server every time the app launches rather than maintaining a local cache.</p>
<p>As you can see, this is palpably coming together, but there’s still a bunch of work to be done before we can encourage folks to try it, including:</p>
<ul>
<li>Switching the RoomList to be fully backed by sliding sync (currently the v2 roomlist is jury-rigged up to the sliding sync API, causing some flakey bugs such as duplicate rooms)</li>
<li>Spec and hook up typing / receipts / presence extensions</li>
<li>Hook up favourites, low_priority, knocked and historical rooms</li>
<li>Adding back in loading room members</li>
<li>Apply quality-of-service to to-device messages so we prioritise ones relevant to the current sliding window</li>
<li>Sync encrypted rooms in the background to search for notifications (and for indexing).</li>
<li>More local caching to speed up operations which now require checking the server (e.g. Ctrl/Cmd-K room switching)</li>
</ul>
<p>We also need to determine whether it’s viable to run the sliding-sync proxy against matrix.org for general production use, or whether we’ll need native support in Synapse before we can turn it on by default for everyone.  But these are good problems to have!!</p>
<h3 id="matrix-rust-sdk-and-element-x">matrix-rust-sdk and Element X</h3>
<p>Meanwhile, over in the land of Rust, we’ve been making huge progress in maturing and stabilising matrix-rust-sdk and exercising it in Element X: the codename for the next generation of native Element mobile apps.  Most excitingly, we literally just got the first (very alpha) cut of Sliding Sync working in matrix-rust-sdk and hooked up to Element X on iOS - you can see Ștefan’s demo from last week here:</p>
<iframe src="https://www.youtube.com/embed/6KHQSeJTXm0?start=459" title="Matrix Live S08E04 — Element Demos" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>matrix-rust-sdk itself is now getting a <a href="https://github.com/matrix-org/matrix-rust-sdk/releases">steady stream of releases</a> - including long-awaited official node bindings, providing excellent and performant encryption support via the <a href="https://matrix.org/blog/2022/05/16/independent-public-audit-of-vodozemac-a-native-rust-reference-implementation-of-matrix-end-to-end-encryption/">newly audited</a> vodozemac Rust implementation of Olm. It’s also great to see loads of major contributions to matrix-rust-sdk from across the wider Matrix community - particularly from Ruma, Fractal, Famedly and others - thank you!! As a result the SDK is shaping up to be much more healthy and heterogeneous than the original matrix-{js,ios,android}-sdk projects.</p>
<p>On Element X itself: matrix-rust-sdk is being used first on iOS in <a href="https://github.com/vector-im/element-x-ios">Element X iOS</a> - aiming first for launching a stable “barbecue” feature set (i.e. personal messaging) asap, followed by adding on “banquet” features (i.e. team collaboration) such as spaces and threads afterwards. We’ve shamelessly misappropriated the barbecue &amp; banquet terminology from Tobias Bernard’s excellent blog post “<a href="https://blogs.gnome.org/tbernard/2018/05/16/banquets-and-barbecues/">Banquets and Barbecues</a>” - although, ironically, unlike the post, our plan is still to have a single app which incrementally discloses the banquet functionality as the user’s barbecue starts to sprawl.  We’ve just published the brand new <a href="https://github.com/matrix-org/matrix-rust-sdk/projects/1">development roadmap</a> for Element X from the rust-sdk perspective on GitHub.  Above all else, the goal of Element X is to be the fastest mobile messenger out there in terms of launch and sync time, thanks to Sliding Sync.  Not just for Matrix - but the fastest messenger, full stop :D  Watch this space to see how we do!</p>
<p>Finally: Element is getting a major redesign of the core UI on both iOS and Android - both for today’s Element and Element X.  I’m not going to spoil the final result (which is looking <em>amazing</em>) given it’ll have a proper glossy launch in a few weeks, but you can get a rough idea based on the earlier design previewed by Amsha back in June:</p>
<iframe src="https://www.youtube.com/embed/oxfqQ0TrTXU?start=34" title="Matrix Live S07E22 — Element UI experiments, and customising Element Web with greasemonkey" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>In addition to the upcoming overall redesign, Element also landed a complete rework of the login and registration flows last week on iOS and Android - you can see all about it over on the <a href="https://element.io/blog/all-aboard-better-ftue-for-less-wtf/">Element blog</a>.</p>
<h3 id="fast-remote-joins">Fast Remote Joins</h3>
<p>In terms of performance, the other area that we’re reworking at the protocol level is room joins. </p>
<p>One of the most glaring shortcomings of Matrix happens when a new server admin excitedly decides to join the network, installs a homeserver, tries to join a large room like #matrix:matrix.org, and then looks on in horror as it takes 10+ minutes to join the room, promptly despairs of Matrix being slow and complains bitterly about it all over HN and Reddit :)</p>
<p>The reason for the current behaviour is that the Matrix rooms are replicated between the servers who participate in them - and in the initial design of the protocol we made that replication atomic. In other words, a new server joining a room picks a server from which to acquire the room (typically the one in the room’s alias), and gets sent a copy of all the state events (i.e. structural data) about the room, as well as the last 20 or so messages.  For a big room like Matrix HQ, this can be massive - right now, there are 79,969 state events in the room - and 126,510 auth_chain events (i.e. the events used to justify the existence of the state events).  The reason there are so many is typically that the act of a user joining or parting the room is described by a state event - and in the naive implementation, the server needs to know all current state events in the room (e.g. including parted users), in order to keep in sync with the other servers in the room and faithfully authorise each new event which they receive for that room.</p>
<p>However, each event is typically around 500 bytes in size, and so the act of joining a big room could require generating, transmitting, receiving, authenticating and storing up to 100MB of JSON 😱. This is why joining big rooms for the first time is so painfully slow.</p>
<p>Happily, there is an answer: much as Sliding Sync lets clients synchronise with the bare minimum of data required to render their UI, we’ve created <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/rav/proposal/partial_state_on_join/proposals/3706-partial-state-in-send-join.md">MSC3706</a> (and its precursor <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/matthew/msc2775/proposals/2775-lazy-loading-over-federation.md">MSC2775</a>) in order to rework the protocol to let servers receive the bare minimum of state needed to join a room in order to participate.  Practically speaking, we only really care about events relevant to the users who are currently participating in the room; the 40,000 other lurkers can be incrementally synced in the background so that our membership list is accurate - but it shouldn’t block us from being able to join or read (or peek) the room.  We already have membership lazyloading in the client-server API to support incrementally loaded membership data, after all.</p>
<p>The problem with this change is that Synapse was written from the outset to assume that each room’s state should be atomically complete: in other words, room state shouldn’t  incrementally load in the background.  So the work for Faster Joins has been an exercise in auditing the entirety of Synapse for this assumption, and generally reviewing and hardening the whole state management system.  This has been <a href="https://github.com/matrix-org/synapse/pulls?q=is%3Apr+%22faster+joins%22+is%3Aclosed+">loads of work</a> that has been going on since the end of last year - but the end is in sight: you can see the remaining issues <a href="https://github.com/matrix-org/synapse/milestone/8">here</a>.</p>
<p>As of right now, faster joins work (although aren’t enabled by default) - with the main proviso that you can’t speak in the room yet until the background sync has completed, and the new implementation has not yet been optimised.  However, thanks to all the preparation work, this should be relatively straightforward, so the end is in sight on this one too.</p>
<p>In terms of performance: right now, joining Matrix HQ via the unoptimised implementation of faster joins completes on a fresh server in roughly 30 seconds - so a <strong>~25x improvement</strong> over the ~12 minutes we’ve seen previously.  However, the really exciting news is that this only requires synchronising 45 state events and 107 auth_chain events to the new server - a <strong>~1400x improvement</strong>!  So there should be significant scope for further optimising the calculation of these 152 events, given 30 seconds to come up with 152 events is definitely on the high side.  In our ideal world, we’d be getting joins down to sub-second performance, no matter how big the room is - once again, watch this space to see how we do. </p>
<p>Finally, alongside faster remote joins, we’re also working on faster local joins.  This work overlaps a bit with the optimisation needed to speed up the faster remote join logic - given we are seeing relatively simple operations unexpectedly taking tens of seconds in both instances. Some of this is needing to batch database activity more intelligently, but we also have some unknown pauses which we’re currently tracking down.  Profiling is afoot, as well as copious Jaeger and OpenTracing instrumentation - the hunt is on!</p>
<h3 id="ratcheting-up-testing">Ratcheting up testing</h3>
<p>All the work above describes some pretty bold changes to speed up Matrix and improve usability - but in order to land these changes with confidence, avoiding regressions both now and in future, we have really levelled up our testing this year.</p>
<p>Looking at matrix-react-sdk as used by Element Web/Desktop: all PRs made to matrix-js-sdk must now pass 80% unit test coverage for new code (measured using <a href="https://sonarcloud.io/project/overview?id=matrix-js-sdk">Sonarqube</a>, enforced as a GitHub PR check). All matrix-react-sdk PRs must be accompanied by a mix of unit tests, end-to-end tests (via <a href="https://www.cypress.io/">Cypress</a>) and screenshot tests (via <a href="https://percy.io/">percy.io</a>). All regressions (in both nightly and stable) are retro’d to ensure fixed things stay fixed (usually via writing new tests), and we have converted <a href="https://arewetsyet.bit.ovh/">fully to typescript</a> for full type safety.</p>
<p>Concretely, since May, we’ve increased js-sdk unit test coverage by ~10% globally, increased react-sdk coverage by ~17%, and added ever more Cypress integration tests to cover the broad strokes.  Cypress now <a href="https://github.com/matrix-org/matrix-react-sdk/pull/9104">completely replaces</a> our old Puppeteer-based end-to-end tests, and Sliding Sync work in matrix-react-sdk is being extensively tested by Cypress from the outset (the Sliding Sync PR literally comes with a Cypress test suite).</p>
<p>In mobile land, the situation is more complex given our long-term strategy is to deprecate matrix-ios-sdk and matrix-android-sdk2 in favour of matrix-rust-sdk. matrix-rust-sdk has always had <a href="https://app.codecov.io/gh/matrix-org/matrix-rust-sdk">excellent coverage</a>, and in particular, adopting the crypto module in the current matrix-{js,ios,android}-sdk will represent a night and day improvement for quality (not to mention perf!). We’ll also be adopting <a href="https://github.com/vector-im/element-x-ios/pull/50">PR checks</a>, and screenshot testing for the mobile SDKs.</p>
<p>On the backend, we continue to build out test cases for our new integration tester <a href="https://github.com/matrix-org/complement">Complement</a> (in Golang), alongside the original <a href="https://github.com/matrix-org/sytest">sytest</a> integration test suite (in Perl). In particular, we can now test Synapse in worker mode. The intention with Complement is that it should be homeserver agnostic so that <em>any</em> homeserver implementation can benefit. Indeed the project was initiated by Kegan wearing his Dendrite hat. </p>
<p>Finally, we’ve had a huge breakthrough with true multi-client end-to-end testing in the form of Michael Kaye’s brand new <a href="https://github.com/matrix-org/trafficlight">Traffic Light</a> project. For the first time, we can fully test things like cross signing and verification and VoIP calls end-to-end across completely different platforms and different clients. It’s early days yet, but this really will be a game changer, especially for crypto and VoIP. </p>
<p>Next up, we will turn our attention to a performance testing framework so that we can reliably track performance improvements and regressions in an automated fashion - heavily inspired by Safari’s <a href="https://www.goodreads.com/quotes/9844796-don-was-the-one-who-figured-out-how-we-would">Page Load Test</a> approach. This will be essential as we build out new clients like Element X.</p>
<h2 id="a-whole-new-world">A whole new world</h2>
<p>All the stuff above is focused on improving the core performance and usability of Matrix - but in parallel we have also been making enormous progress on entirely new features and capabilities. The following isn’t a comprehensive list, but we wanted to highlight a few of the areas where new development is progressing at a terrifying rate…</p>
<h3 id="native-voip-conferencing">Native VoIP Conferencing</h3>
<p>2022 is turning out to be the year that Matrix finally gets fully native voice/video conferencing. After speccing <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/matthew/group-voip/proposals/3401-group-voip.md">MSC3401</a> at the end of last year, <a href="https://element.io/blog/introducing-native-matrix-voip-with-element-call/">Element Call Beta 1</a> launched as a reference implementation back in March, followed by enabling E2EE, spatial audio and walkie-talkie mode in <a href="https://element.io/blog/element-call-beta-2-encryption-spatial-audio-walkie-talkie-mode-and-more/">Element Call Beta 2</a> in June.</p>
<p>However, the catch was that Element Call beta 1 and 2 only ever implemented “full mesh” conferencing - where every participant calls every other participant simultaneously, limiting the size of the conference to ~7 participants on typical hardware, and wasting lots of bandwidth (given you end up sending the same upstream multiple times over for all the other participants).  Element Call has been working surprisingly well in spite of this, but the design of MSC3401 was always to have “foci” (the plural of ‘focus’ - i.e. conference servers) to optionally sit alongside homeservers in order to aggregate the participating calls, a bit like this:</p>
<p><img src="/blog/img/2022-08-15-msc3401.jpg" alt="MSC3401 Architecture" /></p>
<p>With foci, clients only need to send their upstream to their local focus, rather than replicating it across all the other participants - and the focus can then fan it out to other foci or clients as required.  In fact, if no other clients are even watching your upstream, then your client can skip sending an upstream to its focus entirely!</p>
<p>Most importantly, foci are decentralised, just like Matrix: there is no single conference server as a single point of control or failure responsible for powering the group call - users connect to whichever focus is closest to them, and so you automatically get a standards-based heterogeneous network-split-resilient geographically distributed cascading conferencing system with end-to-end-encryption, powered by a potentially infinite number of different implementations.  To the best of our knowledge, this is the first time someone’s proposed an approach like this for decentralised group calling (watch out, Zoom, we’re coming for you!)</p>
<p>Now, the VoIP team have been busy polishing Element Call (e.g. chasing down end-to-end encryption edge cases and reliability), and also figuring out how to embed it into Element and other Matrix clients as a quick way to get excellent group VoIP (more on that later).  As a result, work on building out foci for scalable conferencing had to be pushed down the line.</p>
<p>But in the last few months this completely changed, thanks to an <strong>amazing</strong> open source contribution from Sean DuBois, project lead over at <a href="https://pion.ly/">Pion</a> - the excellent Golang WebRTC implementation.  Inspired by our <a href="https://2021.commcon.xyz/talks/extending-matrix-s-e2ee-calls-to-multiparty">initial talk</a> about MSC3401 at CommCon, Sean independently decided to see how hard it’d be to build a Selective Forwarding Unit (SFU) focus that implemented MSC3401 semantics using Pion - and published it at <a href="https://github.com/sean-der/sfu-to-sfu">https://github.com/sean-der/sfu-to-sfu</a> (subsequently donated to github.com/matrix-org).  In many ways this was a flag day for Matrix: it’s the first time that a core MSC from the core team has been first implemented from outside the core team (let alone outside the Matrix community!).  It’s the VoIP equivalent of Synapse starting off life as a community contribution rather than being written by the core team.</p>
<p>Either way: Sean’s SFU work has opened the floodgates to making native Matrix conferencing actually scale, with Šimon Brandner and I jumping in to <a href="https://github.com/matrix-org/matrix-js-sdk/pull/2423">implement SFU support</a> in matrix-js-sdk… and as of a few weeks ago we did the first ever SFU-powered Matrix call - which worked impressively well for 12 participants!</p>
<p><img src="/blog/img/2022-08-15-sfu.jpg" alt="12 person Element Call" /></p>
<p>Now, this isn’t released yet, and there is still work to be done, including:</p>
<ul>
<li>We actually need to select the subset of streams we care about from the focus</li>
<li>We need to support thumbnail streams as well as high-res streams</li>
<li>We need rate control to ensure clients on bad connections don’t get swamped</li>
<li>We need to hook up cascading between foci (although the SFU already supports it!)</li>
<li>We need E2EE via insertable streams</li>
<li>Faster signalling for switching between streams</li>
</ul>
<p>You can see the full todo list for basic and future features over on GitHub.  However, we’re making good progress thanks to Šimon’s work and Sean’s help - but with any luck beta 3 of Element Call might showcase SFU support!</p>
<p>Meanwhile it’s worth noting that Element Call is not the only MSC3401 implementation out there - the Hydrogen team has added native support to Hydrogen SDK too (skipping over the old 1:1 calling), so expect to see Element &lt;-&gt; Hydrogen calling in the near future. The Hydrogen implementation is also what powers Third Room (see below…)</p>
<h3 id="matryoshka-voip-embedding">Matryoshka VoIP Embedding</h3>
<p>Elsewhere on VoIP, we’ve also been hard at work figuring out how to embed Element Call into Matrix clients in general, starting with Element Web, iOS &amp; Android.  Given MSC3401 is effectively a superset of native 1:1 Matrix VoIP calling, we’d ideally like to replace the current 1:1-only VoIP implementation in Element with an embedded instance of Element Call (not least so we don’t have to maintain it in triplicate over Web/iOS/Android, and because WebRTC-in-a-webview really isn’t very different to native WebRTC).  To do this efficiently however, the embedded Element Call needs to share the same underlying Matrix client as the parent Element client (otherwise you end up wasting resources and devices and E2EE overhead between the two).  Effectively Element Call ends up needing to parasite off the parent’s client.  We call this approach “matryoshka embedding”, given it resembles nested Russian dolls. 🪆</p>
<p>In practice, we do this by extending the Widget API to let Matrix clients within the widget share the parent’s Matrix client for operations such as sending and receiving to-device messages and accessing TURN servers (c.f. <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/travis/msc/widgets-send-recv-toDevice/proposals/3819-to-device-messages-for-widgets.md">MSC3819</a> and <a href="https://github.com/robintown/matrix-doc/blob/widget-turn-servers/proposals/3846-widget-turn-servers.md">MSC3846</a>).  This in turn has been <a href="https://github.com/matrix-org/matrix-widget-api/pull/57">implemented</a> in the matrix-widget-api helper library for widget implementers - and then a few days ago Robin demonstrated the world’s first ever matryoshka embedded Element Call call, looking like this:</p>
<p><img src="/blog/img/2022-08-15-matryoshka.jpg" alt="Matryoshka embedded Element Call" /></p>
<p>Note that the MSC3401 events are happening in the actual room where the widget has been added, sent by the right users from Element Web rather than from Element Call, and so are subject to all the normal Matrix access control and encryption semantics.  This is a <em>huge</em> step forwards from embedding Jitsi widgets, where the subsequent call membership and signalling happens in an entirely separate system (XMPP via Prosody, ironically) - instead: this is proper native Matrix calling at last.</p>
<p>Moreover, the same trick could be used to efficiently embed other exotic Matrix clients such as Third Room or <a href="https://github.com/toger5/TheBoard">TheBoard</a> - giving the user the choice either to use the app standalone or within the context of their existing Matrix client. Another approach could be to use OIDC scopes to transparently log the embedded client in using the parent’s identity; this has the advantage of no code changes being needed on the embedded client - but has the disadvantage that you needlessly end up running two Matrix clients for the same account side by side, and adding another device to your account, which isn’t ideal for a performance sensitive app like Element Call or Third Room.</p>
<p>Matryoshka embedding isn’t live yet, but between scalable calls via SFU and native Element Call in Element Web/iOS/Android, the future is looking incredibly exciting for native Matrix VoIP.  We hope to finish embedding Element Call in Element Web/iOS/Android in Sept/Oct - and if we get lucky perhaps the SFU will be ready too and then Element Call can exit beta!</p>
<p>Finally, we also added Video Rooms to Element Web - adding the user interface for an “always on” video room that you can hop into whenever you want.  You can read about it over on the <a href="https://element.io/blog/drop-in-drop-out-chats-with-video-rooms-and-a-new-search-experience/">Element blog</a> - the initial implementation uses Jitsi, but once Element Call and Matryoshka embedding is ready, we’ll switch over to using Element Call instead (and add Voice Rooms too!)</p>
<p><img src="/blog/img/2022-08-15-video-rooms.jpg" alt="Video Rooms" /></p>
<h3 id="third-room">Third Room</h3>
<p>Just as MSC3401 and Element Call natively adds decentralised voice/video conferences to boring old textual Matrix chatrooms, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3815">MSC3815</a> and <a href="https://github.com/matrix-org/thirdroom/blob/main/README.md">Third Room</a> go the whole enchilada and adds a full decentralised 3D spatial collaboration environment into your Matrix room - letting you turn your Matrix rooms into a full blown interconnected virtual world.</p>
<p>I can’t overstate how exciting this is: one of the key origins of Matrix was back in Oct 2013 when Amandine and myself found ourselves in Berlin after TechCrunch Disrupt, debating why Second Life hadn’t been more successful - and wondering what you’d have to do to build an immersive 3D social environment which would be as positive and successful as a wildly popular chat network.  Our conclusion was that the first key ingredient you’d need would be a kick-ass open decentralised communication protocol to build it on - providing truly open communication primitives that anyone could build on, much like the open web… and that was what got us thinking about how to build Matrix.</p>
<p>Fast forward 9 years, and Third Room is making <em>spectacular</em> progress in building out this dream, thanks to the incredibly hard work of Robert, Nate and Ajay. The goal of Third Room is to be an open platform layered directly on Matrix for spatial collaboration of any kind: effectively a blank canvas to let folks create freeform collaborative 3D (and in future 2D, VR or AR) experiences, either by using existing assets or building their own user-generated content and functionality. Just like the open web itself, this unlocks a literally infinite range of possibilities, but some of the obvious uses include: spatial telepresence, social VR, 3D visualisation of GIS or weather data, 3D simulated environments, search and rescue and disaster response operations (imagine streaming LIDAR from a drone surveying hurricane devastation into Third Room, where you can then overlay and collaborate on GIS data in realtime), and of course 3D gaming in all its various forms.</p>
<p>Now, we’re hoping to give Third Room a proper launch in a few weeks, so I’m not going to spoil too much right now - but the final pieces which are currently coming together include:</p>
<ul>
<li>Finalising the initial version of <a href="https://github.com/matrix-org/thirdroom/tree/main/src/engine">Manifold</a>, the multi-threaded game engine which powers Third Room (built on <a href="https://threejs.org/">Three.JS</a>, <a href="https://github.com/NateTheGreatt/bitECS">bitECS</a> and <a href="https://rapier.rs/">Rapier</a>), using SharedArrayBuffers as triple-buffers to synchronise between the various threads.  See <a href="https://github.com/matrix-org/thirdroom/discussions/47#discussion-4033099">this update</a> for a bit more detail on how the engine works.</li>
<li>Finalising the Matrix client interface itself, powered by <a href="https://github.com/vector-im/hydrogen-web/blob/master/doc/SDK.md">Hydrogen SDK</a> in order to be as lightweight as possible</li>
<li>Adding in full spatial audio and game networking via MSC3401 and Hydrogen SDK (currently full mesh, but will go SFU as soon as SFUs land!)</li>
<li>Adding in animated avatars (currently using <a href="https://www.mixamo.com/">Mixamo</a> animations)</li>
<li>Adding in name tags and object labels</li>
<li>Adding in 3D Tile support in order to incrementally load 3D map tiles à la Google Earth</li>
<li>Building an asset pipeline from Unity and Blender through to the glTF assets which Third Room uses.</li>
<li>Initial framework for an in-world direct-manipulation <a href="https://twitter.com/matrixdotorg/status/1550534909089189888">editor</a></li>
<li>Lightmap support for beautiful high-performance static lighting and shadows</li>
<li>Full post-processing pipeline (bloom, depth-of-field, anti-aliasing etc)</li>
<li>Integrating with OIDC for login, registration, and account management (see OIDC below)</li>
</ul>
<p>As a quick teaser - here’s an example of a <a href="https://assetstore.unity.com/packages/3d/environments/sci-fi/3d-scifi-kit-vol-3-121447">Unity asset</a> exported into Third Room, showing off lightmaps (check out the light and shadows cast by the strip lighting inside, or the shadow on the ground outside).  Ignore the blurry HDR environment map of Venice in the background, which is just there to give the metals something to reflect.  Check out the stats on the right-hand side: on Robert’s M1 Macbook Pro we’re getting a solid 60fps at 2000x1244px, with 13.12ms of unused gametime available for every 16.67ms frame, despite already showing a relatively complicated asset!</p>
<iframe src="https://www.youtube.com/embed/xvjMyYxZbmM" title="Third Room prototype demo 1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Meanwhile, here are some shots of Robert and Nate chasing each other around the UK City demo environment (also exported from <a href="https://assetstore.unity.com/packages/3d/environments/urban/city-builder-london-214943">Unity</a>), showing off blended Mixamo animations and throwing around crates thanks to the Rapier physics engine.</p>
<iframe src="https://www.youtube.com/embed/y2mU19QwZPg" title="Third Room prototype demo 2" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<iframe src="https://www.youtube.com/embed/QEt80wvO4yY" title="Third Room prototype demo 3" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<br/>
<p>And don't forget, it's just a Matrix client - with no infrastructure required other than a normal Matrix server:</p>
<p><img src="/blog/img/2022-08-15-thirdroom-overlay.jpg" alt="Third Room Overlay" /></p>
<p>As you can see, we are rapidly approaching the point where we’ll need support from technical artists to help create beautiful scenes and avatars and assets in order to make it all come to life - especially once the Blender and Unity pipelines, and/or the Third Room editor are finished. If you’re interested in getting involved come chat at <a href="https://matrix.to/#/#thirdroom:matrix.org">#thirdroom:matrix.org</a>!</p>
<h3 id="wysiwyg">WYSIWYG</h3>
<p>Back in the real world, a recent new project that we haven’t spoken about much yet is adding consistent WYSIWYG (What You See Is What You Get) editing to the message composer in matrix-{react,ios,android}-sdk as used by Element Web/iOS/Android - as well as publishing the resulting WYSIWYG editor for the greater glory of the wider ecosystem.</p>
<p>This is a bit of a contentious area, because we’ve tried several times over the years to add a rich text editor to matrix-react-sdk - firstly with the <a href="https://draftjs.org/">Draft.js</a> <a href="https://github.com/matrix-org/matrix-react-sdk/pull/292">implementation</a> by Aviral (which we abandoned after Facebook de-staffed Draft), and then later with a <a href="https://www.slatejs.org">Slate</a> <a href="https://github.com/matrix-org/matrix-react-sdk/pull/1890">implementation</a> by me (which we abandoned thanks to the maintenance burden of keeping up with Slate’s API changes).  Finally, burnt by the experience with third party solutions, Bruno wrote his own editor called <a href="https://github.com/matrix-org/matrix-react-sdk/blob/develop/docs/ciderEditor.md">CIDER</a>, which was a great success and is what Element Web uses today to author messages including ‘pills’ for structured rooms/users etc… but this deliberately didn’t provide full WYSIWYG functionality.  Meanwhile, Slack added WYSIWYG, forced it on, and <a href="https://quuxplusone.github.io/blog/2019/11/20/slack-rich-text-box/">screwed it up</a> - and apps like WhatsApp and Discord seem to get by fine without WYSIWYG. </p>
<p>However, given that users are now used to WYSIWYG in Teams and Slack, we’ve now decided to have another go at it, inspired by CIDER’s success - and with the novel twist that the heavy lifting of modelling and versioning the document and handling Unicode + CJK voodoo will be provided by a cross-platform native library written in Rust, ensuring that matrix-{react,ios,android}-sdk (and in future matrix-rust-sdk-based apps like Element X) all have precisely the same consistent semantics, and we don’t spend our lives fixing per-platform WYSIWYG bugs unless it really is a platform-specific issue with the user interface provided on that particular platform.</p>
<p>The project is fairly young but developing fast, and lives over at <a href="https://github.com/matrix-org/matrix-wysiwyg">https://github.com/matrix-org/matrix-wysiwyg</a> (better name suggestions welcome ;) - we’re aiming to get it into clients by the end of October.  The editor itself is not Matrix specific at all, so it’ll be interesting to see if other projects pick it up at all - and meanwhile, if we’ve done a good job, it’ll be interesting to see if this can be used to power Matrix-backed collaborative-editing solutions in future…</p>
<iframe src="https://www.youtube.com/embed/9_UhNBKUk7A" title="WYSIWYG teaser on Android" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Update</strong>: we should have mentioned that the WYSIWYG editor project is being built out by staff at Element, who very kindly have been sponsored to work on it by one of Element's Big Public Sector Customers in order to get to parity with Teams.  Thank you!!</p>
<h3 id="are-we-oidc-yet">Are We OIDC Yet?</h3>
<p>On the other hand, a project we recently <a href="https://matrix.org/blog/2022/08/10/areweoidcyet-com-matrix-and-open-id-connect">yelled about</a> a lot is Matrix’s transition to Open ID Connect for standards-based authentication and account management.  We announced this at the <a href="https://matrix.org/blog/2021/12/22/the-mega-matrix-holiday-special-2021#openid-connect">end of the year</a> and the project has built up huge momentum subsequently, culminating with the release of <a href="https://areweoidcyet.com">https://areweoidcyet.com</a> last week to track the progress and remaining work.</p>
<p>Our plan is to use native OIDC in production for the first time to provide all the login, registration and account management for Third Room when it launches in a few weeks (using a branded Keycloak instance as the identity provider, for convenience).  After all, the last thing we wanted to do was to waste time building fiddly Matrix-specific login/registration UI in Third Room when we’re about to move to OIDC!  This will be an excellent case study to see how it works, and how it feels, and inform the rest of the great OIDC experiment and proposed migration.</p>
<h3 id="dendrite-p2p">Dendrite + P2P</h3>
<p>Meanwhile, the Next Generation team has continued to focus on their mission to make Dendrite as efficient and usable as possible. Within recent months, Dendrite has matured dramatically, with a considerable list of bugs fixed, performance significantly improved and new features added - push notifications, history visibility and presence to name a few notable additions.</p>
<p>Neil Alexander, Kegan and Till have continued to streamline the Dendrite architecture and to refactor areas of the codebase which have long needed attention, as well as moving from Kafka to NATS JetStream, an all-new caching model and some other fairly major architectural changes. We’ve also seen an increase of code contributions from the community and outside organisations, which is exciting, and the <a href="https://github.com/matrix-org/gomatrixserverlib">gomatrixserverlib</a> library which underpins much of Dendrite is also seeing more active development and attention thanks to its use in the <a href="https://github.com/matrix-org/complement">Complement</a> integration testing suite.</p>
<p>With the most recent <a href="https://github.com/matrix-org/dendrite/releases">0.9.3 release</a>, we are proud to announce that <strong>Dendrite now</strong> <strong>passes 90% of Client-Server API tests and 95% of Server-Server API tests</strong> and has support for all specced room versions in use today. We have a growing community of users who are (quite successfully) trialling using Dendrite homeservers day-to-day, as well as our own public <code>dendrite.matrix.org</code> homeserver, which is open to the public for registration for anyone who wants to experiment with Dendrite without running their own deployment.</p>
<p>Dendrite plays an important role in our future strategy as it is also the homeserver implementation used for embedded homeservers, P2P development and experimentation. In addition to being able to scale up, we have also successfully scaled down, with the Element P2P demos proving that an embedded Dendrite homeserver can run comfortably on an iOS or Android device.</p>
<p>Research on the <a href="https://github.com/matrix-org/pinecone/">Pinecone</a> overlay network for P2P Matrix has also continued, with Devon and Neil having experimented with a number of protocol iterations and spent considerable time bringing the <a href="https://github.com/matrix-org/pinecone/tree/main/cmd/pineconesim">Pinecone Simulator</a> up to scratch to help us to test our designs more rapidly. Our work in this area is helping us to form a better direction and strategy for P2P Matrix as a whole, which is moving more towards a hybridised model with the current Matrix federation — a little different to our original vision, but will hopefully result in a much smoother transition path for existing users whilst solving some potential scaling problems. The <a href="https://arewep2pyet.com">arewep2pyet.com</a> site is a living page which contains a high level overview of our goals and all the progress being made.</p>
<h2 id="what-s-left">What’s left?</h2>
<p>Comparing all of the above with the <a href="https://matrix.org/blog/2021/12/22/the-mega-matrix-holiday-special-2021#2022">predictions for 2022</a> section of the end-of-year blog post, we’re making very strong progress in a tonne of areas - and the list above isn’t comprehensive.  For instance, we haven’t called out all the work that the Trust &amp; Safety team are doing to roll out advanced moderation features by default to all communities - or the work that Eric has been doing to close the remaining gap between Gitter and Matrix by creating new static archives throughout Matrix.  Hydrogen has also been beavering away to provide a tiny but perfectly formed web client suitable for embedding, including the new embeddable Hydrogen SDK. We haven’t spoken about the work that the Cryptography team have been doing to adopt vodozemac and matrix-rust-sdk-crypto throughout matrix-{js,ios,android}-sdk, or improve encryption stability and security throughout.  We’ve also not spoken about the new initiative to fix long-term chronic bugs (outside of the work above) in general - or all the work being done around <a href="https://matrix.org/blog/2022/03/30/technical-faq-on-the-digital-markets-act">Digital Markets Act interoperability</a>…</p>
<p>Other things left on the menu for this year include getting Threads out of beta: we’ve had a bit of an adventure here figuring out how to get the right semantics for notification badges and unread state in rooms with threads (especially if you use a mix of clients which support and don’t support threads), and once that’s done we’ll be returning to Spaces (performance, group permissions etc).</p>
<h2 id="matrix-2-0">Matrix 2.0?</h2>
<p>Looking through this post (and congratulations if you’re still reading it at this point ;P), it really feels that Matrix is on the verge of shifting into a new phase.  Much as MacOS X started off as a promising but distinctly unoptimised operating system, and then subsequently got unrecognisably faster year by year (even on the same hardware!) as Apple diligently worked away optimising the kernel… similarly: we are now landing the architectural changes to completely transform how Matrix performs.</p>
<p>Between protocol changes like Sliding Sync, Faster Joins, native OIDC and native VoIP conferencing all landing at roughly the same time - and alongside new implementations like matrix-rust-sdk and vodozemac, let alone Third Room - it feels unquestionably like we have an unrecognisable step change on the horizon.  Our aim is to land as much of this as possible by the end of the year, and if we pull it off, I’m tempted to suggest we call the end result Matrix 2.0.</p>
<p>To the future! 🚀</p>
<p>Matthew, Amandine &amp; the whole core team.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;12&#x2F;this-week-in-matrix-2022-08-12&#x2F;" title="This Week in Matrix 2022-08-12">This Week in Matrix 2022-08-12</a></h1>
            <span>
                12.08.2022 00:00
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/andrew-morgan-anoa">
                    Andrew Morgan (anoa)
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/F2f7RsnUZAQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<h3 id="matrix-spec">Matrix Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:element.io">Andrew Morgan (anoa)</a> announces</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://spec.matrix.org/proposals/.</p>
<h3 id="msc-status">MSC Status</h3>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3865">[WIP] MSC3865: User-given attributes for <strong>users</strong></a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3864">[WIP] MSC3864: User-given attributes for <strong>rooms</strong></a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3862">MSC3862: event_match (almost) anything</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs entered FCP this week.</em></li>
</ul>
<p><strong>Accepted MSCs:</strong></p>
<ul>
<li><em>No MSCs were accepted this week.</em></li>
</ul>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3828">MSC1197: Content Repository CORP Headers</a></li>
</ul>
<h3 id="spec-updates">Spec Updates</h3>
<p>The Spec Core Team had another retro this week, and part of what we talked about was how most of the spec PR writing falls to just a few people. Starting this week, we're going to try and diversify that work across the Spec Core Team, both for reducing <a href="https://en.wikipedia.org/wiki/Bus_factor">bus factor</a> and increasing bandwidth of spec PRs. Hopefully the results of that will be noticeable!</p>
<h3 id="random-msc-of-the-week">Random MSC of the Week</h3>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3783">MSC3783: Fixed base64 for SAS verification</a>!</p>
<p>For those that don't know, &quot;SAS verification&quot; refers to the act of two devices verifying each other through the use of Short Authentication Strings (SAS). This is the backbone of emoji verification when you verify with another user or one of your own devices.</p>
<p>It turns out that libolm, the olm and megolm encryption library, originally incorrectly encoded the base64 output of the message authentication code (MAC) calculation, which is a values that's passed between devices. Due to trying to maintain backwards-compatibility with older clients, this has not been fixed in newer clients yet.</p>
<p>This MSC proposes bumping the MAC algorithm identifier (which is agreed upon between devices when verifying) to a something new, which allows newer clients to know when to use the new or old (and incorrect) method of calculating the base64 encoding of MAC values.</p>
<p>As far as I can tell, this has no security implications. It's just unfortunate to have incorrect base64 encoding when interfacing with other, non-libolm, implementations of olm and megolm.
<img src="/blog/img/924bf833e05cf44a6b03f63e441ac052d5e080dd.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@shayshay:matrix.org">Shay</a> reports</p>
<blockquote>
<p>The Synapse team is hard at work making Synapse faster and leaner. Work continues
apace on faster room joins over federation, and it seems that the work might land
sooner rather than later, although there are no solid dates yet.
In other news, profiling work is being done to determine ways to hopefully increase
the speed of local room joins and DM creation. Stay tuned for more information in the future on that.
Finally, it was an RC release week. <a href="https://github.com/matrix-org/synapse/releases/tag/v1.65.0rc2">Synapse 1.65.0rc2</a> was released, and it contains some fun features and bugfixes. Check it out!</p>
</blockquote>
<h3 id="dendrite-gomatrixserverlib-website">Dendrite / gomatrixserverlib (<a href="https://github.com/matrix-org/dendrite">website</a>)</h3>
<p>Dendrite is a second-generation Matrix homeserver</p>
<p><a href="https://matrix.to/#/@neilalexander:dendrite.matrix.org">neilalexander</a> says</p>
<blockquote>
<p>This week we released <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.9.2">Dendrite 0.9.2</a> which contains the following updates:</p>
<ul>
<li>Dendrite now supports history visibility on the <code>/sync</code>, <code>/messages</code> and <code>/context</code> endpoints
<ul>
<li>It should now be possible to view the history of a room in more cases (as opposed to limiting scrollback to the join event or defaulting to the restrictive <code>&quot;join&quot;</code> visibility rule as before)</li>
</ul>
</li>
<li>The default room version for newly created rooms is now room version 9</li>
<li>New admin endpoint <code>/_dendrite/admin/resetPassword/{userID}</code> has been added, which replaces the <code>-reset-password</code> flag in <code>create-account</code></li>
<li>The <code>create-account</code> binary now uses shared secret registration over HTTP to create new accounts, which fixes a number of problems with account data and push rules not being configured correctly for new accounts</li>
<li>The internal HTTP APIs for polylith deployments have been refactored for correctness and consistency</li>
<li>The federation API will now automatically clean up some EDUs that have failed to send within a certain period of time</li>
<li>The <code>/hierarchy</code> endpoint will now return potentially joinable rooms (contributed by <a href="https://github.com/texuf">texuf</a>)</li>
<li>The user directory will now show or hide users correctly</li>
<li>Send-to-device messages should no longer be incorrectly duplicated in <code>/sync</code></li>
<li>The federation sender will no longer create unnecessary destination queues as a result of a logic error</li>
<li>A bug where database migrations may not execute properly when upgrading from older versions has been fixed</li>
<li>A crash when failing to update user account data has been fixed</li>
<li>A race condition when generating notification counts has been fixed</li>
<li>A race condition when setting up NATS has been fixed (contributed by <a href="https://github.com/brianathere">brianathere</a>)</li>
<li>Stale cache data for membership lazy-loading is now correctly invalidated when doing a complete sync</li>
<li>Data races within user-interactive authentication have been fixed (contributed by <a href="https://github.com/tak-hntlabs">tak-hntlabs</a>)</li>
</ul>
<p>This brings our current test compliance figures to:</p>
<ul>
<li>Client-server APIs: 90%</li>
<li>Server-server APIs: 95%</li>
</ul>
<p>As always, please feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for Dendrite-related discussion.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="matrix-appservice-discord-website">matrix-appservice-discord (<a href="https://github.com/matrix-org/matrix-appservice-discord">website</a>)</h3>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> reports</p>
<blockquote>
<p>Announcing <code>matrix-appservice-discord</code> 3.0.0!</p>
<p>What? Another week, another major release?
Yes, we want to make breaking changes obvious, and the bridge now requires Node.js 16+.</p>
<p>The release fixes the outdated <code>yarn.lock</code> file. Thanks to the package maintainers of NixOS to point this out! 👋
Furthermore, mentioning Matrix users in Discord got fixed.</p>
<p>And, for the fans of containers, we've re-added the release of Docker images. 🐳
The URL changed and we don't plan to update <code>halfshot/matrix-appservice-discord</code> on Docker Hub.
The image can be pulled from <code>ghcr.io/matrix-org/matrix-appservice-discord:v3.0.0</code>.</p>
<p>https://github.com/matrix-org/matrix-appservice-discord/releases/tag/v3.0.0</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="nheko-website">Nheko (<a href="https://nheko-reborn.github.io">website</a>)</h3>
<p>Desktop client for Matrix using Qt and C++17.</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> reports</p>
<blockquote>
<p>Nheko now shows you a pretty preview for rooms you are trying to join. This uses <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3266">MSC3266</a>, which you might need to enable in your synapse config, if you want to see more than the roomid of the room you are trying to join. It tries to fall back to the /hierarchy endpoint, but that won't work over federation.</p>
<p>Similarly you can now somewhat edit what rooms are in a space. I grew up with Windows 98, so this is a very nested right click menu. We are still discussing some of the wording choices for the options there, so if you have any opinions about it, feel free to give feedback about it! This is part of the bigger goal to be able to manage your communities from within Nheko, so stay tuned for more features coming in that area.</p>
<p>red_sky (nheko.im) also improved our notifications code on macOS. You can now disable the notification sound in the system settings, which for some reason requires badge permissions to show that option... macOS will always remain a mystery to us! Similarly we fixed the source text for notifications on Windows, which should now not show a stray %1 anymore as well as a few other cleanups.
<img src="/blog/img/NNagXCPgjVmOTNplvrIZhKRL.png" alt="" />
<img src="/blog/img/KtwMlOypeTYnXsRRZLSSHPZX.png" alt="" /></p>
</blockquote>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@kittykat:matrix.org">kittykat</a> says</p>
<blockquote>
<ul>
<li>Ever started a DM with someone, only to get distracted and leave them staring into an empty timeline wondering who you are and what you want. Well, it is no more! In this update new DMs will only notify the person you’re messaging once you’ve sent your first message.</li>
<li>That’s not the only exciting update in EleWeb/Desktop this week, including the newly extended voice messages! Instead of voice messages capped at 2 minutes, users are now able to send a voice note of up to 15 minutes long. Go forth and record 🎤</li>
<li>In upcoming releases we’re also looking at how to improve a user’s first few days in Element. We know that it can be daunting to stare at an empty screen and wonder how to get going, which is why we’ve designed and built a checklist for new users. This checklist will help them to get off the ground and messaging friends in no time.</li>
</ul>
<p>In labs (you can enable labs features in settings on develop.element.io or on Nightly):</p>
<ul>
<li>Threads improvements are still very much underway. We have a proof of concept (PoC) for improving notifications that we’re testing to ensure scalability and performance.</li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@douge:matrix.org">Doug</a> says</p>
<blockquote>
<ul>
<li>Our release this week was rejected by Apple. Their feedback? Our info.plist comments do not provide enough context as to why we’re asking for access to things like the camera, photos, or contacts. Never fear! We’ve updated our copy and we’re confident that it’s clearer than ever.</li>
<li>Also in the upcoming release:
<ul>
<li>Fixing the crashes that some users were running into when switching space.</li>
<li>The new in-app notifications now also appear in the notification centre</li>
<li>And a bug fix for the rare issue of sending duplicate images to a timeline when sending multiple photos</li>
</ul>
</li>
<li>We’re also working on changing the layout of our mobile apps, and work is well underway on iOS. We’re excited to share these big changes with you so keep your eyes peeled on our socials and in other TWIM notes.</li>
<li>Join us over at <a href="https://matrix.to/#/#element-community-testing:matrix.org">#element-community-testing:matrix.org</a> on Tuesday 16th August at 12:00 BST to try out the new app layout on iOS! There’s a little bit of setup required so check out the room ahead of time for instructions :)</li>
</ul>
</blockquote>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> says</p>
<blockquote>
<ul>
<li>In the upcoming Android release we’ve fixed some crashes; including where the app would crash if a user attempted putting non-ASCII characters in their MXID during account creation.</li>
<li>Biometric login is now disabled if the device you’re on does not support biometrics.</li>
<li>We’ve also been working hard on adding unit tests to increase coverage.</li>
<li>There’s work being done on the modularisation of languages that may help decrease the complexity of translation and move us towards a set of common strings between platforms.</li>
<li>Join us over at <a href="https://matrix.to/#/#element-community-testing:matrix.org">#element-community-testing:matrix.org</a> on Tuesday 16th August at 15:00 BST to try out the new app layout on Android! There’s a little bit of setup needed so check out the room ahead of time for instructions 🙂</li>
</ul>
</blockquote>
<h3 id="cinny-website">Cinny (<a href="https://cinny.in">website</a>)</h3>
<p>Cinny is a Matrix client focused on simplicity, elegance and security</p>
<p><a href="https://matrix.to/#/@ajbura:matrix.org">ajbura</a> says</p>
<blockquote>
<h4 id="v2-1-custom-emojis-and-stickers-birthday-edition">v2.1: Custom emojis and stickers (Birthday edition)</h4>
<p>Hello everyone,</p>
<p>On July 28 project marked its one-year milestone. During this time it has grown at an unexpected rate, both in terms of development as well as popularity. This is great news, so let's celebrate that with this birthday edition.</p>
<p>In this update, we have added <strong>Custom emoji and sticker support</strong> to Cinny. Custom emoji and stickers were not in our roadmap but that's the surprise. Aren't they cool?
Apart from the emoji and stickers, there are tons of other features such as Blurhash, Mark entire space as read, user pills, and bug fixes. Check out the <a href="https://github.com/cinnyapp/cinny/releases/tag/v2.1.0">release</a> <a href="https://github.com/cinnyapp/cinny/releases/tag/v2.1.1">page</a> for a <a href="https://github.com/cinnyapp/cinny/releases/tag/v2.1.2">detailed changelog</a>.</p>
<p>In the case of the roadmap, we are still on that, work on the &quot;Rich input editor&quot; is in progress and will come as the next release. Stay tuned for that!</p>
<p>The update is live on <a href="https://app.cinny.in/">https://app.cinny.in</a> and the desktop app can be downloaded from <a href="https://github.com/cinnyapp/cinny-desktop/releases/tag/v2.1.2">Github</a>.</p>
<p><strong>Pro-Tip</strong>: Join <a href="https://matrix.to/#/#cinny-space:matrix.org">#cinny-space:matrix.org</a>  to check out some cool sticker packs. There are some great packs in <a href="https://matrix.to/#/#stickers-and-emojis:pixie.town">#stickers-and-emojis:pixie.town</a> too.</p>
<p>Thank you. See you all next time!
<img src="/blog/img/DdgwgXwNulNoDKgGHGktpNUm.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="libkazv-website">libkazv (<a href="https://lily-is.land/kazv/libkazv/">website</a>)</h3>
<p><a href="https://matrix.to/#/@tusooa:tusooa.xyz">tusooa</a> reports</p>
<blockquote>
<p>We released a bugfix <a href="https://lily-is.land/kazv/libkazv/-/tree/v0.2.1">v0.2.1</a> . Thanks to nannanko who discovered and fixed this bug. There are also <a href="https://lily-is.land/kazv/libkazv/container_registry/4?orderBy=NAME&amp;sort=asc&amp;search%5B%5D=v0.2.1&amp;search%5B%5D=">docker images</a>.</p>
<h3 id="0-2-1">0.2.1</h3>
<ul>
<li>Fix crash when receiving a redacted encrypted event. https://lily-is.land/kazv/libkazv/-/commit/98870fa04fa78361f5092cd77f88895e4a228d34</li>
</ul>
</blockquote>
<h3 id="ruby-matrix-sdk-website">ruby-matrix-sdk (<a href="https://github.com/ananace/ruby-matrix-sdk">website</a>)</h3>
<p>Ruby SDK for the Matrix communication protocol</p>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> says</p>
<blockquote>
<p>A new version of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby Matrix SDK</a> has now been released, adding a new abstraction in the form of a Sinatra-inspired bot DSL, as well as general fixes and improvements. Making a Ruby-based Matrix bot can now be as simple as;</p>
<pre data-lang="ruby" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-ruby "><code class="language-ruby" data-lang="ruby"><span style="color:#608b4e;">#!/usr/bin/env ruby
</span><span>
</span><span style="color:#569cd6;">require </span><span style="color:#d69d85;">&#39;matrix_sdk/bot&#39;
</span><span>
</span><span>command(</span><span style="color:#b4cea8;">:praise</span><span>, </span><span style="color:#b4cea8;">desc: </span><span style="color:#d69d85;">&#39;Gives you praise&#39;</span><span>, </span><span style="color:#b4cea8;">only: </span><span>-&gt; { room.user_can_send? client.mxid, </span><span style="color:#d69d85;">&#39;m.reaction&#39; </span><span>}) </span><span style="color:#569cd6;">do
</span><span>  room.send_notice </span><span style="color:#d69d85;">&quot;</span><span>#{sender}</span><span style="color:#d69d85;">, you tha&#39; man!&quot;
</span><span>  room.send_event </span><span style="color:#d69d85;">&#39;m.reaction&#39;</span><span>, {
</span><span>    </span><span style="color:#d69d85;">&#39;m.relates_to&#39;</span><span style="color:#569cd6;">: </span><span>{
</span><span>      </span><span style="color:#b4cea8;">rel_type: </span><span style="color:#d69d85;">&#39;m.annotation&#39;</span><span>,
</span><span>      </span><span style="color:#b4cea8;">event_id:</span><span> event[</span><span style="color:#b4cea8;">:event_id</span><span>],
</span><span>      </span><span style="color:#b4cea8;">key: </span><span style="color:#d69d85;">&#39;👍️&#39;
</span><span>    }
</span><span>  }
</span><span style="color:#569cd6;">end
</span></code></pre>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="matrix-docker-ansible-deploy-website">matrix-docker-ansible-deploy (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">website</a>)</h3>
<p>Matrix server setup using Ansible and Docker.</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> reports</p>
<blockquote>
<p>Thanks to <a href="https://github.com/cvwright">Charles Wright</a>, <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> now has optional experimental <a href="https://conduit.rs">Conduit</a> homeserver support for new installations. This comes as a follow-up to the playbook getting <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/CHANGELOG.md#dendrite-support">Dendrite support</a> earlier this year.</p>
<p>For more details, see our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/CHANGELOG.md#conduit-support">Conduit support</a> changelog entry.</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks 🗣️</h2>
<h3 id="one-week-until-froscon-website">One week until FrOSCon (<a href="https://www.froscon.org/">website</a>)</h3>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> announces</p>
<blockquote>
<p>Next weekend, Sat 20th and Sun 21st, FrOSCon will be taking place. It's a conference about open source software near Bonn, Germany.</p>
<p>There will be some program around Matrix, though I'm still looking for volunteers to help me with a stand and DevRoom.</p>
<p>For the stand we want a small group to explain Matrix to others. For the DevRoom we want some talks and workshops. Anyone's welcome to ask me for more info or to get involved.</p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰️</h2>
<h3 id="matrix-locust-website">matrix-locust (<a href="https://gitlab.futo.org/cvwright/matrix-locust">website</a>)</h3>
<p><a href="https://matrix.to/#/@cvwright:matrix.org">cvwright</a> says</p>
<blockquote>
<p>Announcing <a href="https://gitlab.futo.org/cvwright/matrix-locust">matrix-locust</a>, a new tool for load testing Matrix homeservers, based on the Python load testing framework <a href="https://locust.io/">Locust</a>.  It's very early days for this project, but we're already discovering some interesting results.  There isn't an official tagged &quot;release&quot; yet, but anyone interested in this topic is encouraged to stop by <a href="https://matrix.to/#/#load-testing:matrix.org">#load-testing:matrix.org</a> and say hello.</p>
</blockquote>
<h2 id="room-of-the-week-calendar">Room of the Week 📆</h2>
<p><a href="https://matrix.to/#/@ssorbom:chat.shawnsorbom.net">ssorbom ⚡️</a> says</p>
<blockquote>
<p>Have you ever felt lost in the Matrix world? Too many rooms and spaces to manage? Well, back by popular demand  (with Timo's blessing), I present, The Room of the Week! Every week we strive to highlight a room or a space that we believe deserves attention for discussing interesting going on across the Matrix Network.</p>
<p>This week, we are highlighting:
<a href="https://matrix.to/#/#coffee-discuss:matrix.org">#coffee-discuss:matrix.org</a></p>
<p>A place to discuss buying, brewing, and drinking everyone's favorite morning beverage of choice! I had no idea there was so much Nuance to this topic until I joined this room . For example, did you know there was a correct way to distribute coffee grounds when you first pour to ensure maximum flavor? Neither did I! Whether you are new to the world of coffee drinking, or a seasoned connoisseur of morning Joe, this room has something for everyone who loves coffee.</p>
<p>If you have a room you wish to see highlighted, join us at:
https://matrix.to/#/!bIyiUUnriVoHtYzuPS:fachschaften.org?via=chat.shawnsorbom.net&amp;via=matrix.org&amp;via=fachschaften.org
to get your favorite room of the week highlighted.</p>
</blockquote>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;10&#x2F;areweoidcyet-com-matrix-and-open-id-connect&#x2F;" title="areweoidcyet.com - Matrix and OpenID Connect">areweoidcyet.com - Matrix and OpenID Connect</a></h1>
            <span>
                10.08.2022 16:23
                —
                <a href="/category/general">
                    General
                </a>
                —
                <a href="/author/hugh-nimmo-smith">
                    Hugh Nimmo-Smith
                </a>
            </span>
            
        </header>
        <div>
            <p>TL;DR: we’ve just launched <a href="https://areweoidcyet.com">areweoidcyet.com</a> to track the project to adopt OpenID Connect (OIDC) as <em>the</em> authentication method used by Matrix. It has a load of useful resources (<a href="https://areweoidcyet.com/#faqs">FAQs</a>, <a href="https://areweoidcyet.com/#when">status</a> etc.) so do please check it out!</p>
<p>Hey folks,</p>
<p>As you may know, there is a <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3861">proposal</a> and project afoot to change the way authentication is done in Matrix…</p>
<p>Currently Matrix uses a <a href="https://spec.matrix.org/v1.3/client-server-api/#client-authentication">custom authentication protocol</a> baked into the Matrix spec. This poses a number of drawbacks. To overcome these drawbacks the project proposes migrating to use the industry standard authentication protocol OpenID Connect (OIDC) instead.</p>
<p>In terms of why this is a good idea: <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/hughns/delegated-oidc-architecture/proposals/3861-delegated-oidc-architecture.md">MSC3861</a> has all the details - please check it out! </p>
<p>The bottom line is that Matrix should focus on being a decentralised communication protocol - <strong>not</strong> an authentication protocol… and by adopting a dedicated authentication protocol we can benefit from all sorts of goodies such as easy 2FA and MFA, passwordless-auth via WebAuthn, Login via QR-code, alternative CAPTCHAs and so much more.</p>
<p>In support of this the proposal extends to the Matrix.org Foundation joining the OpenID Foundation as a non-profit member to support the work that the OpenID Foundation is doing to build a robust and audited ecosystem for open authentication.</p>
<p>Whilst this project proposes a significant change to the Matrix ecosystem that would take some time to migrate to, we believe that it will better support the continued growth and adoption of Matrix in the years to come.</p>
<p>Today we are launching the <a href="https://areweoidcyet.com/">areweoidcyet.com</a> website which is packed with information and resources on the project:</p>
<ul>
<li>What? Why? When?</li>
<li>MSC proposals</li>
<li>Status of homeservers, clients, auth servers (OIDC Providers/OPs)</li>
<li>A client implementation guide</li>
<li>Links to the Matrix OIDC Playground environment where you can try out the latest progress</li>
</ul>
<p>Please do take a look and come join us at <a href="https://matrix.to/#/#matrix-auth:matrix.org">#matrix-auth:matrix.org</a>!</p>
<p>Best wishes,</p>
<p>Hugh &amp; Quentin</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;05&#x2F;this-week-in-matrix-2022-08-05&#x2F;" title="This Week in Matrix 2022-08-05">This Week in Matrix 2022-08-05</a></h1>
            <span>
                05.08.2022 19:46
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/andrew-morgan-anoa">
                    Andrew Morgan (anoa)
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe  src="https://www.youtube.com/embed/6KHQSeJTXm0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://matrix.to/#/@andrewm:element.io">Andrew Morgan (anoa)</a> says</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://matrix.org/docs/spec/proposals.</p>
<h2 id="msc-status">MSC Status</h2>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3861">MSC3861: Matrix architecture change to delegate authentication via OIDC</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3860">MSC3860: Add media download redirect proposal</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3859">MSC3859: Add well known media domain proposal</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3857">MSC3857: Welcome messages</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are currently in FCP.</em></li>
</ul>
<p><strong>Accepted MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3818">MSC3818: Copy room type on upgrade</a></li>
</ul>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2832">MSC2832: HS -&gt; AS authorization header</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3818">MSC3818: Copy room type on upgrade</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3844">MSC3844: Remove unused policy room sharing mechanism</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3786">MSC3786: Add a default push rule to ignore <code>m.room.server_acl</code> events</a></li>
</ul>
<h2 id="spec-updates">Spec Updates</h2>
<p>This week saw the merge of three MSCs from first-time MSC authors! <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3818">MSC3818</a> (Copy room type on upgrade) from <a href="https://github.com/Mikaela">@Mikaela</a> and both <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3786">MSC3786</a> (Add a default push rule to ignore <code>m.room.server_acl</code> events) and <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3827</a> (Filtering of <code>/publicRooms</code> by room type) from <a href="https://github.com/SimonBrandner">@SimonBrandner</a>. Nice work to both of them!</p>
<h2 id="random-msc-of-the-week">Random MSC of the Week</h2>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2499">MSC2499: Fixes for Well-known URIs</a>!</p>
<p>A bundle of small quality-of-life changes to the .well-known server and client endpoints. Removing some ambiguities, replacing old and deprecated endpoints as well as a potential size cap suggestion.</p>
<p>Looks like a good contender for one to push over the line given a bit of review and response!</p>
</blockquote>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> reports</p>
<blockquote>
<p>TWIM: someone in <a href="https://matrix.to/#/#matrix:matrix.org">#matrix:matrix.org</a> complained that the image in the spec section is always the same, so I made this gif (actually webp) out of all those images:</p>
<img style="width: 35em" src="/blog/img/qKNVGEePdLFTjTyuDhaUcFud.webp"/>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="hghs-website">hghs (<a href="https://github.com/heusalagroup/hghs">website</a>)</h3>
<p><a href="https://matrix.to/#/@thejhh:matrix.org">thejhh</a> reports</p>
<blockquote>
<p>We've started work on our HG HomeServer written in pure TypeScript, compilable as a single JS file, with no dependencies except NodeJS. It's intended for a special use cases when Matrix is used as a backbone for custom apps. It's lightweight, minimal and for the moment isn't even planned to support full Matrix spec. We might make it possible to run it on browser later. https://github.com/heusalagroup/hghs</p>
</blockquote>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@shayshay:matrix.org">Shay</a> reports</p>
<blockquote>
<p>Another week, another release! Synapse 1.64.0 was released this week, featuring
a host of new features, bugfixes, and internal changes aimed at reducing memory usage,
increasing performance, and improving the developer experience. Check out the full list of changes
<a href="https://github.com/matrix-org/synapse/releases/tag/v1.64.0">here</a>. In addition, work continues on faster room joins. The goal gets closer every day!</p>
</blockquote>
<h3 id="dendrite-website">Dendrite (<a href="https://github.com/matrix-org/dendrite">website</a>)</h3>
<p>Second generation Matrix homeserver</p>
<p><a href="https://matrix.to/#/@neilalexander:dendrite.matrix.org">neilalexander</a> announces</p>
<blockquote>
<p>This week we released <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.9.0">Dendrite 0.9.0</a> and <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.9.1">Dendrite 0.9.1</a>. There are quite a few big changes, including an all-new caching model and several optimisations. This release also moves our baseline supported Go version up to Go 1.18.</p>
<p>The following changes are included across both releases:</p>
<ul>
<li>Dendrite now uses Ristretto for managing in-memory caches
<ul>
<li>Should improve cache utilisation considerably over time by more intelligently selecting and managing cache entries compared to the previous LRU-based cache</li>
<li>Defaults to a 1GB cache size if not configured otherwise</li>
<li>The estimated cache size in memory and maximum age can now be configured with new <a href="https://github.com/matrix-org/dendrite/blob/e94ef84aaba30e12baf7f524c4e7a36d2fdeb189/dendrite-sample.monolith.yaml#L44-L61">configuration options</a> to prevent unbounded cache growth</li>
</ul>
</li>
<li>Added support for serving the <code>/.well-known/matrix/client</code> hint directly from Dendrite
<ul>
<li>Configurable with the new <a href="https://github.com/matrix-org/dendrite/blob/e94ef84aaba30e12baf7f524c4e7a36d2fdeb189/dendrite-sample.monolith.yaml#L67-L69">configuration option</a></li>
</ul>
</li>
<li>Refactored membership updater, which should eliminate some bugs caused by the membership table getting out of sync with the room state</li>
<li>The User API is now responsible for sending account data updates to other components, which may fix some races and duplicate account data events</li>
<li>Optimised database query for checking whether a remote server is allowed to request an event over federation without using anywhere near as much CPU time (PostgreSQL only)</li>
<li>Database migrations have been refactored to eliminate some problems that were present with <code>goose</code> and upgrading from older Dendrite versions</li>
<li>Media fetching will now use the <code>/v3</code> endpoints for downloading media from remote homeservers</li>
<li>HTTP 404 and HTTP 405 errors from the client-facing APIs should now be returned with CORS headers so that web-based clients do not produce incorrect access control warnings for unknown endpoints</li>
<li>Some preparation work for full history visibility support</li>
<li>Upgrades a dependency which caused issues building Dendrite with Go 1.19</li>
<li>The roomserver will no longer give up prematurely after failing to call <code>/state_ids</code></li>
<li>Removes the faulty room info cache, which caused of a number of race conditions and occasional bugs (including when creating and joining rooms)</li>
<li>The media endpoint now sets the <code>Cache-Control</code> header correctly to prevent web-based clients from hitting media endpoints excessively</li>
<li>The sync API will now advance the PDU stream position correctly in all cases (contributed by <a href="https://github.com/sergekh2">sergekh2</a>)</li>
<li>The sync API will now delete the correct range of send-to-device messages when advancing the stream position</li>
<li>The device list <code>changed</code> key in the <code>/sync</code> response should now return the correct users</li>
<li>A data race when looking up missing state has been fixed</li>
<li>The <code>/send_join</code> API is now applying stronger validation to the received membership event</li>
<li>Fixes a crash that could occur during event redaction</li>
<li>The <code>/members</code> endpoint will no longer incorrectly return HTTP 500 as a result of some invite events</li>
<li>Send-to-device messages should now be ordered more reliably and the last position in the stream updated correctly</li>
<li>Parsing of appservice configuration files is now less strict (contributed by <a href="https://github.com/Kab1r">Kab1r</a>)</li>
<li>The sync API should now identify shared users correctly when waking up for E2EE key changes</li>
<li>The federation <code>/state</code> endpoint will now return a HTTP 403 when the state before an event isn't known instead of a HTTP 500</li>
<li>Presence timestamps should now be calculated with the correct precision</li>
<li>A race condition in the roomserver's room info has been fixed</li>
<li>A race condition in the sync API has been fixed</li>
</ul>
<p>As always, please feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for more Dendrite-related discussion.</p>
</blockquote>
<h2 id="homeserver-deployment-inbox-tray">Homeserver Deployment 📥️</h2>
<h3 id="helm-chart-website">Helm Chart (<a href="https://gitlab.com/ananace/charts">website</a>)</h3>
<p>Matrix Kubernetes applications packaged into helm charts</p>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> announces</p>
<blockquote>
<p>This week has seen the usual updates to <a href="https://gitlab.com/ananace/charts">my Helm Charts</a> - with element-web being updated to 1.11.2 and matrix-synapse to 1.64.0.
Additionally, the matrix-synapse chart now also allows for adding entirely custom .well-known data - along with an example on how to use that for MSC1929.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h2 id="matrix-appservice-discord">matrix-appservice-discord</h2>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> announces</p>
<blockquote>
<p>This bridge connects users on Matrix and Discord – or other platforms, if combined with other bridges.
Earlier this year the community bridge has been adopted by the Matrix.org bridge team to give it some attention.
Its most recent update dated back to December 2020 and some fixes waited for a new release.</p>
<p>Well, here it is! v2.0.0
Its breaking changes are the requirement of NodeJS 14 or newer and the usage of <code>yarn</code> instead of <code>npm install</code>.
Furthermore, the update introduces a changelog and rolls out the guidelines we use for developing other matrix.org bridges.</p>
<p>https://github.com/matrix-org/matrix-appservice-discord/releases/tag/v2.0.0</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@kittykat:matrix.org">kittykat</a> reports</p>
<blockquote>
<ul>
<li>Version 1.11.2 is out!</li>
<li>„<a href="https://github.com/vector-im/element-web/issues/14736">Start DM only on first message</a>“ has landed on develop. Changing the DM flow from invite → message to message &amp; invite at the same time. If you want to see it live, join <a href="https://matrix.to/#/#element-community-testing:matrix.org">our testing session</a> at 12:00 BST on Tuesday</li>
<li><a href="https://github.com/vector-im/element-web/issues/22919">New user onboarding experience</a> is getting closer to release!</li>
<li>You can also now <a href="https://github.com/matrix-org/matrix-react-sdk/pull/8629">disable sending read receipts</a> on develop, coming out on 16 August in a release</li>
<li>Finished porting end to end tests to Cypress! Also <a href="https://github.com/matrix-org/matrix-react-sdk/pull/9111">started looking into adding support for accessibility testing</a></li>
<li>Final comment period for our <a href="https://github.com/vector-im/element-meta/pull/216">new code style</a> is over. Next up is updating our contribution guidelines to include changes</li>
<li>We finished the task around <a href="https://github.com/matrix-org/matrix-react-sdk/pull/9052">improving tracking of unused code</a> to reduce maintenance burden
<img src="/blog/img/JzstMcyysNWBFmqPdBDKoDbA.gif" alt="" /></li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@douge:matrix.org">Doug</a> announces</p>
<blockquote>
<ul>
<li>Version 1.8.24 is available on the App Store with our new Sign Up and Sign In flows. The update is rolling out slowly and should be available to everyone by Monday.</li>
<li>The work on our new app layout is coming along nicely with much of it merged into the repo (but disabled behind a build flag).</li>
<li>In-app notifications will now also be delivered to Notification Centre.</li>
<li>Continuous improvements are being made to the Live Location sharing feature.</li>
<li>Integration tests are now run for every PR on matrix-ios-sdk more than doubling the reported test coverage!</li>
</ul>
</blockquote>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@ouchadam:matrix.org">adam</a> announces</p>
<blockquote>
<ul>
<li>1.4.31 is rolling out which includes the new and improved FTUE onboarding experience along with fixes for markdown lists no longer always starting from 1 and html entities showing up in messages.</li>
<li>The new app layout is starting to materialise with PRs available on github for anyone interested in having a sneak peek!</li>
<li>We’re continuing to make improvements to Live Location sharing and cross signing verification as well as investigating performance issues.</li>
</ul>
</blockquote>
<h2 id="dept-of-non-chat-clients-control-knobs">Dept of Non Chat Clients 🎛️</h2>
<h3 id="effektio-website">Effektio (<a href="https://effektio.org">website</a>)</h3>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> reports</p>
<blockquote>
<p>Development marches forward, with the focus on getting chat into a usable state and task's up as the first MVP app on top: Effektio <a href="https://github.com/effektio/effektio/pull/189">now support sending multiple images at once</a> in chat, has seen <a href="https://github.com/effektio/effektio/pull/193">fixes to the chat in widescreen mode</a>, and now support <a href="https://github.com/effektio/effektio/pull/191">markdown for chat messages</a>. Meanwhile device verification is drawing to a close with a few <a href="https://github.com/effektio/effektio/pull/196">remaining UI fixes being implement</a> and <a href="https://github.com/effektio/effektio/pull/188">the state machine for tasks being fleshed out</a> slowly but steadily.</p>
<p>📰 You want updates more frequently and close to when they actually happen? Join our <a href="https://matrix.to/#/#news:effektio.org">Effektio Matrix News room</a>, discuss general aspect in our <a href="https://matrix.to/#/#foyer:effektio.org">foyer</a> or hang out with the devs in our <a href="https://matrix.to/#/#tech:effektio.org">tech channel</a>.</p>
</blockquote>
<h3 id="populus-viewer-website">Populus Viewer (<a href="https://github.com/opentower/populus-viewer">website</a>)</h3>
<p>A Social Annotation Tool Powered by Matrix</p>
<p><a href="https://matrix.to/#/@gleachkr:matrix.org">gleachkr</a> reports</p>
<blockquote>
<p>After a short vacation, I've done some new work on populus-viewer. Most of this has been UX and bugfixes, but I've added one new feature that I wanted to share. <a href="https://github.com/opentower/matrix-doc/blob/audio-markup/proposals/3775-markup-locations-for-audiovisual-media.md">MSC3775: Markup Locations for Audiovisual Media</a> gives a spec for annotating audio and video on matrix, but it also allows you to annotate images. So, for completeness sake, I've added support for annotating image files in Populus! This might be useful for discussing publication layouts, product designs, or for teaching art history. So populus can now annotate: video, audio, images and pdfs.</p>
<p>As always, if you want to learn more, follow populus development, or discuss the future of decentralized social annotation on Matrix, come join us at <a href="https://matrix.to/#/#opentower:matrix.org">#opentower:matrix.org</a>.</p>
<iframe src="https://www.youtube.com/embed/N-l3QYsR_Lo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</blockquote>
<h2 id="dept-of-widgets">Dept of Widgets 🧩</h2>
<h3 id="matrix-widget-api">matrix-widget-api</h3>
<p><a href="https://matrix.to/#/@robin:robin.town">Robin</a> says</p>
<blockquote>
<p><a href="https://github.com/matrix-org/matrix-widget-api/">matrix-widget-api</a> v1.0.0 was released yesterday, reflecting the fact that we're not expecting any big changes to the library's architecture for the foreseeable future, and that it's more or less ready for wider use.</p>
<p>It also comes with a couple of new features ✨ for widget authors: Sending and receiving to-device messages with <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3819">MSC3819</a>, and getting TURN servers from the client with <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3846/">MSC3846</a>. Together, these features enable some new complex use-cases, such as doing VoIP from inside a widget. See Matrix Live for a preview of what that looks like with Element Call! 📹️</p>
<p>This is as good a time as any to mention that matrix-widget-api doesn't have to just be for web-based apps. If you're building mobile apps with Matrix and want to make use of widgets, running matrix-widget-api inside a web view to liaison with the actual widget can make it a lot simpler to start supporting widget API features. If you're curious, watch Element iOS+Android for upcoming examples of this.</p>
</blockquote>
<h2 id="dept-of-voip-call-me-hand">Dept of VoIP 🤙</h2>
<h3 id="element-call-website">Element Call (<a href="https://github.com/vector-im/element-call">website</a>)</h3>
<p><a href="https://matrix.to/#/@dave:matrix.org">Dave</a> reports</p>
<blockquote>
<ul>
<li>This week we've been building on the initial work on the pion call server (SFU) from Sean, and have made our very first call through it with Element Call! It's still very early and there's still lots of work to do, but this will allow Element Call to scale up to much higher numbers of people.</li>
<li>The VoIP team are also looking after widgets now, and in our quest to embed Element Call into the Element apps, we've hit the milestone of releasing matrix-widget-api 1.0.0. We're also making great progress towards embedding into Element Web.
<img src="/blog/img/YSRzIKVxVvsByyfREWQcQdcF.png" alt="" /></li>
</ul>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="matrix-rust-sdk-website">matrix-rust-sdk (<a href="https://github.com/matrix-org/matrix-rust-sdk">website</a>)</h3>
<p>Matrix Client-Server SDK for Rust</p>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> reports</p>
<blockquote>
<p>This week saw a few major improvements on the dev-ex of the Rust SDK (among others): <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/892">support for refresh tokens</a> landed; we have a setup for <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/855">integration tests against an actual synapse instance now</a> (and started writing tests); our <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/897">docs for <code>main</code> now contain the js bindings, too</a>; <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/889">event handlers can now be unregistered</a> and we've added an API for <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/899">room specific event handlers</a>. Further more, we've <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/903">refactored the examples</a> (now to be found in <code>/examples</code> rather than some sub-sub-directory no one finds) and created two more: <a href="https://github.com/matrix-org/matrix-rust-sdk/blob/dfec17e6afbf6c1ea35e9ee968c7668eb4a46a04/examples/getting_started/src/main.rs"><code>getting-started</code></a> combines the autojoin and command-example with a lot more additional inline comment to explain what is going on and <a href="https://github.com/matrix-org/matrix-rust-sdk/blob/dfec17e6afbf6c1ea35e9ee968c7668eb4a46a04/examples/custom_events/src/main.rs"><code>custom-events</code></a> showcases how to use the sdk and ruma types to send any custom events (in that case a ping-ack example) over matrix!</p>
<p>This was also a week of fighting the ci. After the integration tests landed, coverage reporting broke and an investigation was kicked off to check whether llvm-cov is in a usable state for us by now (it is not), but a fix was found. We've also started regretting adding <code>npm</code>-based workflows in our repo, as we've found ourselves at the end of an upgrade bug and the saw CI failing without us changing anything :shakes_fist_at_sky: . A fix was found quickly by pinning a sub-dependency. On a similar note, we've postponed merging the kotlin bindings until the android team is back on it and available to answer some questions we have, and the wasm-js bindings showed build failures on CI, which the original author will have to take a look at after coming back from vacation - thus delaying <code>crypto-js</code> a bit further.</p>
<p>👉️ Wanna hack on matrix rust? Go check out our <a href="https://github.com/matrix-org/matrix-rust-sdk/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22"><code>help wanted</code> tagged issues</a> and join our matrix channel at Matrix Rust SDK.</p>
</blockquote>
<h3 id="polyjuice-website">Polyjuice (<a href="https://gitlab.com/polyjuice">website</a>)</h3>
<p>Elixir libraries related to the Matrix communications protocol.</p>
<p><a href="https://matrix.to/#/@hubert:uhoreg.ca">uhoreg</a> announces</p>
<blockquote>
<p>It's been a while since I've made an update on <a href="https://gitlab.com/polyjuice/polyjuice_client_test">Polyjuice Client Test</a>.  Since the last update:</p>
<ul>
<li>several more tests have been added</li>
<li>there have been some some front-end improvements</li>
<li>I've also improved the documentation, done some refactoring, and added some helper/utility modules to make things clearer.  My goal is to make it easier for people who don't know Elixir to be able to read and write tests without running away screaming.</li>
<li>compatibility with some Matrix clients has been improved</li>
<li>added some functions to make it easy for tests to completely override Matrix endpoints</li>
</ul>
<p>I'm also happy to say that Polyjuice Client Test has helped find bugs in some clients, which have since been fixed.</p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services 🚀</h2>
<h3 id="matrix-public-archive-website">Matrix Public Archive (<a href="https://github.com/matrix-org/matrix-public-archive">website</a>)</h3>
<p><a href="https://matrix.to/#/@madlittlemods:matrix.org">madlittlemods (Eric Eastwood)</a> announces</p>
<blockquote>
<p>This week I'm showing off an early look at the <a href="https://github.com/matrix-org/matrix-public-archive">Matrix public archive</a>. As the name suggests, it acts as an archive of history for your world-readable Matrix rooms. This allows you to view historical content day-by-day and jump back years ago to see what your Matrix room was up to.</p>
<p>More importantly, it also allows Google to do the same thing so you’ll probably start finding Matrix content from your favorite search engine and be able to harness the massive knowledge base stored in Matrix. Imagine seeing Matrix logs instead of Stack Overflow answers when googling questions! The new portal into the Matrix ecosystem 🌌</p>
<p>You can also see this demoed in <a href="https://youtu.be/6KHQSeJTXm0?t=583">this week's Matrix Live video</a> (at the top of the page).</p>
<p><img src="/blog/img/zFISGvYfCIhdqunsrPZMhOF.png" alt="" /></p>
<p>Under the hood, we use the <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3030">MSC3030 <code>/timestamp_to_event</code></a> endpoint to fetch the messages for a given day and then we sever-side render the events with the <a href="https://github.com/vector-im/hydrogen-web">Hydrogen SDK</a>. Re-using Hydrogen gets us pretty and native(to Element) looking UI and keeps the maintenance burden of supporting new event types in Hydrogen.</p>
<p>If you want to follow what’s going on and see how it's coming along, you can checkout the project on GitHub, https://github.com/matrix-org/matrix-public-archive</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="matrix-registration-bot-website">Matrix Registration Bot (<a href="https://github.com/zeratax/matrix-registration">website</a>)</h3>
<p><a href="https://matrix.to/#/@moanos:hyteck.de">moanos [he/him]</a> says</p>
<blockquote>
<p>Thanks to <a href="https://matrix.to/#/@lifeofbrian:justprojects.de">@lifeofbrian:justprojects.de</a> and <a href="https://matrix.to/#/@ben:rs485.network">@ben:rs485.network</a> the Docker image of the bot was shrunk from 406.28 MB to 69 MB (nice)! You can get the new image from <a href="https://hub.docker.com/r/moanos/matrix-registration-bot/#!">Dockerhub</a> or install it via the <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a>.</p>
</blockquote>
<h2 id="dept-of-guides">Dept of Guides 🧭</h2>
<p><a href="https://matrix.to/#/@jbara:matrix.org">jbara</a> announces</p>
<blockquote>
<p>I was able to to host a matrix-synapse server on termux app on an android device. I documented the process on <a href="https://github.com/medanisjbara/synapse-termux/">termux-synapse</a> github repo And started working on a script that automates the process (final commit is being currently tested before pushing).
It was a &quot;for fun&quot; type of thing. But I can see it being useful for people who do not have access to a raspberry pi (such as myself at the moment) to use as a small homeserver. It can hold up in 1 to 1 Direct Messages and in small rooms.
<img src="/blog/img/eHPwxLXejvaHnKtnyaWpyawZ.png" alt="" /></p>
</blockquote>
<h2 id="room-of-the-week-calendar">Room of the Week 📆</h2>
<p><a href="https://matrix.to/#/@ssorbom:chat.shawnsorbom.net">ssorbom ⚡️</a> reports</p>
<blockquote>
<p>Have you ever felt lost in the Matrix world? Too many rooms and spaces to manage? Well, back by popular demand  (with Timo's blessing), I present, The Room of the Week! Every week we strive to highlight a room or a space that we believe deserves attention for discussing interesting goings on across the Matrix Network.</p>
<p>This week, we are highlighting: <a href="https://matrix.to/#/#libregaming-games:tchncs.de">#libregaming-games:tchncs.de</a></p>
<p>A matrix space dedicated to finding all of the free open source games, engines, and assets  in the Matrix world so that you don't have to. Helpfully organized, and well maintained, it is the Premier stop for open source gaming on The Matrix Network!</p>
<p>If you know of a room that you would like to see highlighted, please visit
https://matrix.to/#/!bIyiUUnriVoHtYzuPS:fachschaften.org to let us know of the room that you would like to spotlight.</p>
</blockquote>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;08&#x2F;03&#x2F;synapse-1-64-released&#x2F;" title="Synapse 1.64 released">Synapse 1.64 released</a></h1>
            <span>
                03.08.2022 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/brendan-abolivier">
                    Brendan Abolivier
                </a>
            </span>
            
        </header>
        <div>
            <p>It's that time again: there's a new Synapse release, fresh out of the oven!
Let's take a look at what's inside <a href="https://github.com/matrix-org/synapse/releases/tag/v1.64.0">Synapse
1.64</a>.</p>
<h2 id="delegating-email-verification-is-now-deprecated">Delegating email verification is now deprecated</h2>
<p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.4.0">Synapse 1.4.0</a>
introduced a configuration option (<code>account_threepid_delegates.email</code>) to allow
homeservers to delegate validating the ownership of email addresses to an
external identity server. This validation is used by Synapse when adding an
email address to a Matrix account, or before performing a password reset.</p>
<p>As of Synapse 1.64, this option is deprecated, and Synapse will print a warning
if it is used. This is because this option relies on old API endpoints that have
since been
<a href="https://spec.matrix.org/v1.3/changelog/#identity-service-api-1-1">removed</a> from the
Matrix specification.</p>
<p>Synapse can do this validation internally provided it is configured with details
of an SMTP server. Administrators currently relying on
<code>account_threepid_delegates.email</code> should therefore ensure that an SMTP server
is correctly configured, and remove the <code>account_threepid_delegates.email</code>
option. See the <a href="https://matrix-org.github.io/synapse/v1.64/usage/configuration/config_documentation.html#email">configuration
guide</a>
for more information.</p>
<p>We plan to fully remove this configuration option in Synapse 1.66, which is
expected to be released on August 30th.</p>
<p>Note that the equivalent option to validate the ownership of phone numbers
(<code>account_threepid_delegates.msisdn</code>) can still be used, though we expect to
deprecate it in a future release of Synapse.</p>
<h2 id="improved-tls-support-for-sending-emails">Improved TLS support for sending emails</h2>
<p>When configuring an SMTP server to use to send out emails to users, server
administrators can configure Synapse to use TLS to communicate to that server.
Until now, only <a href="https://en.wikipedia.org/wiki/Opportunistic_TLS">STARTTLS</a> was
supported in this case.</p>
<p>Synapse 1.64 introduces a new <code>force_tls</code> configuration option in the <code>email</code>
section of the configuration file. If this new setting is set to <code>true</code> Synapse
will use TLS for the initial connection rather than upgrading via STARTTLS.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.64/usage/configuration/config_documentation.html#email">configuration
guide</a>
for more information.</p>
<h2 id="memory-leak-in-frozendict">Memory leak in <code>frozendict</code></h2>
<p>A couple of weeks ago, we
<a href="https://github.com/Marco-Sulla/python-frozendict/issues/60">identified</a> a
memory leak within <a href="https://pypi.org/project/frozendict/">frozendict</a>, which is
a library that Synapse relies on. This would in turn cause Synapse instances to
slowly leak memory when processing <code>/sync</code> requests.</p>
<p>We highly encourage server administrators who installed Synapse via <code>pip</code> to
upgrade their local version of <code>frozendict</code> to version 2.3.3 or later, which
includes a fix to this issue. The Docker image <code>matrixdotorg/synapse</code> and the
Debian packages from <code>packages.matrix.org</code> already include the updated library.</p>
<h2 id="everything-else">Everything else</h2>
<p>This version of Synapse introduces support for room version 10! This new room
version enables support for the new <code>knock_restricted</code> join rule, to allow
knocking into rooms which are otherwise restricted to members of a specific room
(or space). See <a href="https://spec.matrix.org/v1.3/rooms/v10/">the Matrix specification about room version
10</a> for more information.</p>
<p>Additionally, Synapse 1.64 features a new rate limiter to limit the rate of joins to the same
room. It is intended as a mitigation against abuse scenarios involving joining a
lot of users from different homeservers to a room to then send spam across it.
See the <a href="https://matrix-org.github.io/synapse/latest/usage/configuration/config_documentation.html#rc_joins_per_room">configuration
guide</a>
for more information.</p>
<p>This release of Synapse also extends the <a href="https://matrix-org.github.io/synapse/latest/admin_api/rooms.html#list-room-api">List
Rooms</a>
and <a href="https://matrix-org.github.io/synapse/latest/admin_api/rooms.html#room-details-api">Room
Details</a>
admin APIs to include the type of a room in responses, allowing server
administrators to differentiate spaces from other rooms.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.64.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.64/upgrade#upgrading-to-v1640">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>,
<a href="https://github.com/andrewdoh">andrewdoh</a>, <a href="https://github.com/thomasweston12">Thomas
Weston</a>, <a href="https://github.com/jejo86">jejo86</a>,
<a href="https://github.com/villepeh">villepeh</a>, <a href="https://github.com/behrmann">Jörg
Behrmann</a> and <a href="https://github.com/Vetchu">Jacek
Kuśnierz</a>, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;07&#x2F;29&#x2F;this-week-in-matrix-2022-07-29&#x2F;" title="This Week in Matrix 2022-07-29">This Week in Matrix 2022-07-29</a></h1>
            <span>
                29.07.2022 19:01
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/thib">
                    Thib
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/OHsGBcnv8oQ " title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://matrix.to/#/@travis:t2l.io">TravisR</a> says</p>
<blockquote>
<p>Hello everyone! For this week's spec update you get me, Travis, instead of anoa (sorry). The heart of Matrix is the specification, modified by Matrix Spec Change (MSC) proposals - learn more at https://spec.matrix.org/unstable/proposals/</p>
<p>Be sure to read the Spec Core Team (SCT) section in today's update for some exciting news about Matrix though - this has a good chance of affecting how the MSC process works in the future.</p>
<h2 id="msc-status">MSC Status</h2>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3844">MSC3844: Remove unused policy room sharing mechanism</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3828">MSC3828: Content Repository CORP Headers</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3827: Filtering of <code>/publicRooms</code> by room type</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2153">MSC2153: Add a default push rule to ignore m.reaction events</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3818">MSC3818: Copy room type on upgrade</a> (merge)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3255">MSC3255: Use SRV record for homeservers discovery by clients</a> (close)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2836">MSC2836: Threading</a> (close)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3799">Threading API</a> (close)</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3856">MSC3856: Threads List API</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3852">MSC3852: Expose user agent information on <code>Device</code></a></li>
</ul>
<h2 id="spec-core-team">Spec Core Team</h2>
<p>The SCT has been powering through MSCs for the second week in a row, using a new internal process to encourage activity and hopefully keep momentum going. If there's an MSC you think should be on the agenda, please visit the <a href="https://matrix.to/#/#sct-office:matrix.org">#sct-office:matrix.org</a> and raise it for consideration 🙂</p>
<p>We've also been at IETF 114 to talk about <a href="https://datatracker.ietf.org/doc/draft-mahy-mimi-problem-outline/">MIMI</a> - an initiative to define a standard for messaging interoperability inspired by the <a href="https://matrix.org/blog/2022/03/30/technical-faq-on-the-digital-markets-act">DMA</a>. Matrix appears to fit perfectly into this use-case, so we've been talking with various folks involved to ensure Matrix is on the radar, including preparing our own Internet-Draft to demonstrate how it could work. MIMI is not currently a working group within the IETF, but the expectation is that it will be soon - we look forward to this happening, and are eager to contribute to the process here - or proposing Matrix itself to IETF as an initiative in its own right.</p>
<p>Watch this space for updates, or visit <a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> to ask questions 🙂</p>
<h2 id="random-msc-of-the-week">Random MSC of the Week</h2>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3554">MSC3554: Extensible Events - Translatable Text</a>!</p>
<p>This MSC covers an Extensible Events (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/1767">MSC1767</a>) schema definition for translatable text! This would allow a client to send a message in multiple languages, with the receiver able to choose which language they're prefer to see the message in (ideally falling back to a default or machine translation if their preferred language was not available).</p>
<p>Like other MSCs that rely on Extensible Events, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/1767">MSC1767</a> will need to land before this MSC can. But until then, it's great to see all of the wonderful things this feature will allow Matrix to do!
<img src="/blog/img/41350f50f74ae8dee4d89604a5a20cd5af0b4a4e.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@shayshay:matrix.org">Shay</a> says</p>
<blockquote>
<p>Greetings! We have been hard at work on Synapse this week. Work on faster room joins continues. In addition, Synapse 1.64.0rc2 was released. Notable features include:</p>
<ul>
<li>support for room version 10</li>
<li>per-room rate limiting for room joins</li>
<li>support for Implicit TLS for sending emails
and much more, as well as a number of bugfixes, improvements to the documentation, and other changes to make Synapse leaner, faster, and generally more awesome.</li>
</ul>
</blockquote>
<h3 id="construct-server">Construct Server</h3>
<p><a href="https://matrix.to/#/@jevolk:matrix.org">Jason Volk</a> reports</p>
<blockquote>
<p>This week The Construct server runs on Alpine Linux using freshly cut docker images building on the 0.7 release announced last week. A few images are available for preview while a more complete matrix is filled out. I am proud to announce to TWIM that Construct offers the most compact docker image for a Matrix server at just under 15 MiB; the only caveat is that media
thumbnailing won't be available.</p>
<p>There's still a lot of room for optimization and docker experts to critique! Feel free to join the discussion at <a href="https://matrix.to/#/#construct:zemos.net">#construct:zemos.net</a> and check out https://github.com/matrix-construct/construct today!</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> announces</p>
<blockquote>
<ul>
<li>It’s holiday season but that won’t slow us down! We’ve been hard at work fixing defects and improving features.</li>
<li>Our recently released new search experience is continuing to be improved. This week we’ve added more accessibility, so it can be helpful to all.</li>
<li>We’ve completely finished the migration of our tests.</li>
<li>There’s a new “use case” screen for users who sign up, it asks folks who they'll talk to the most on Element and, in the future, that will help us to tailor the experience.</li>
</ul>
<p><strong>In labs (you can enable labs features in settings on develop.element.io or on Nightly):</strong></p>
<ul>
<li>Video rooms continue to improve. Check it out!</li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@stefan.ceriu:matrix.org">Ștefan</a> reports</p>
<blockquote>
<ul>
<li>It’s an exciting week for both our mobile teams as we’re ready to release our new authentication flow! If you’ve been reading TWIM for a while you’ll know that we’ve been working hard, across all Element teams, to improve our onboarding experience. Part of this work on iOS was a new Create Account flow.
<ul>
<li>We’re rolling the changes out slowly, so don’t panic if you don’t see the new experience yet!</li>
</ul>
</li>
<li>In even more exciting news, our test coverage has increased with a big bump. We’ve gone from 12% to 51%!</li>
<li>We’ve also continued to make updates and improvements to our location sharing feature.</li>
<li>On the ElementX front we have our first proof of concept for sliding sync (sync v3) working and we’ve almost finished setting up snapshot and integration testing. We also have Rust logs, a new authentication service and performance tests incoming.</li>
<li>Finally, the account deactivation button has had a change of copy - this keeps us inline with Apple guidelines around deleting and deactivating accounts.</li>
</ul>
</blockquote>
<iframe src="https://www.youtube.com/embed/zWJ7IWDcslU " title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> says</p>
<blockquote>
<ul>
<li>
<p>Our new Nightly releases are now available and allowing us to catch any bugs or regressions even faster - exciting!</p>
</li>
<li>
<p>It will soon be easier than ever to create an account on Element, so if you’ve been waiting for an update before you recommend us to others, it’s nearly time! We’ll be rolling these changes out slowly over the next week or so.</p>
<ul>
<li>Alongside the new create account flow will be an updated sign in and reset password experience. Check it out and let us know what you think.</li>
</ul>
</li>
<li>
<p>Also in this release we’ve added a “match system settings” to the Font size screen.</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="trixnity-website">Trixnity (<a href="https://gitlab.com/trixnity/trixnity">website</a>)</h3>
<p>Multiplatform Kotlin SDK for Matrix</p>
<p><a href="https://matrix.to/#/@benedict:imbitbu.de">Benedict</a> says</p>
<blockquote>
<p>Trixnity 2.2.0 has been released.</p>
<ul>
<li>Mac builds are enabled, which means, that olm is bundled into macOS and iOS builds too. So no need to build olm yourself anymore.</li>
<li><code>trixnity-crypto</code> has been introduced, which contains the matrix e2e-encryption stuff and was previously located in <code>trixnity-client</code>. The relocation allows you to possibly use this in e. g. appservices. Key trust level calculation, key backup, key verification will be moved into it too.</li>
<li>client: basic event relation support has been added to be prepared for the next matrix spec</li>
<li>client: added server discovery</li>
<li>updated to kotlin 1.7</li>
<li>some bug fixes</li>
</ul>
</blockquote>
<h3 id="matrix-rust-sdk-website">matrix-rust-sdk (<a href="https://github.com/matrix-org/matrix-rust-sdk">website</a>)</h3>
<p>Matrix Client-Server SDK for Rust</p>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> reports</p>
<blockquote>
<p>It's been a week of quite, constant progress on many fronts, most not that visible to the outside observer. For once, the progress on integration sliding sync into element-x for iOS has taken up speed, with many smaller bug fixes and additional features exposed through the FFI being added and performance optimisations. After the internal jack-in testing tool, this is the first actual trial of sliding sync for rust (and after the js-implementation, only the second client to actually use sliding sync overall)—and it has been tremendous. Latest tests put the loading time to first view on the first 20-ish rooms at a 150ms range 🎉.</p>
<p>More visible to the keen observers of the repository has been that <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/874">we've updated the <code>event_handler</code> API</a> to allow removing existing handlers, an important step towards implementing <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/868">completion guaranteeing API calls</a>, and that we've <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/882">support for custom encrypted events</a> now.</p>
<p>👉️ Wanna hack on matrix rust? Go check out our <a href="https://github.com/matrix-org/matrix-rust-sdk/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22"><code>help wanted</code> tagged issues</a> and join our matrix channel at <a href="https://matrix.to/#/#matrix-rust-sdk:matrix.org">#matrix-rust-sdk:matrix.org</a>.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="matrix-docker-ansible-deploy-website">matrix-docker-ansible-deploy (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">website</a>)</h3>
<p>Matrix server setup using Ansible and Docker</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> reports</p>
<blockquote>
<p>Thanks to <a href="https://github.com/MdotAmaan">MdotAmaan</a>'s efforts, <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> now supports bridging to <a href="https://discordapp.com/">Discord</a> via the <a href="https://mau.dev/mautrix/discord">mautrix-discord</a> bridge. See our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bridge-mautrix-discord.md">Setting up Mautrix Discord bridging</a> documentation page for getting started.</p>
<p><strong>Note</strong>: this is a new Discord bridge. The playbook still retains Discord bridging via <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bridge-appservice-discord.md">matrix-appservice-discord</a> and <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bridge-mx-puppet-discord.md">mx-puppet-discord</a>. You're free too use the bridge that serves you better, or even all three of them (for different users and use-cases).</p>
</blockquote>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> reports</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> now supports bridging to <a href="https://www.kakaocorp.com/page/service/service/KakaoTalk?lang=ENG">Kakaotalk</a> via <a href="https://src.miscworks.net/fair/matrix-appservice-kakaotalk">matrix-appservice-kakaotalk</a> - a bridge based on <a href="https://github.com/storycraft/node-kakao">node-kakao</a> (now unmaintained) and some <a href="https://github.com/mautrix/facebook">mautrix-facebook</a> code. Thanks to <a href="https://github.com/hnarjis">hnarjis</a> for helping us add support for this!</p>
<p>See our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bridge-appservice-kakaotalk.md">Setting up Appservice Kakaotalk bridging</a> documentation to get started.</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks 🗣️</h2>
<h3 id="a-new-hope-nyc-concluded-website">A New HOPE (NYC) concluded (<a href="https://xiv.hope.net/">website</a>)</h3>
<p><a href="https://matrix.to/#/@cel:spruceid.com">cel</a> says</p>
<blockquote>
<p>Thanks Element Matrix Services (EMS) for hosting our homeserver (<code>hope.net</code>)!</p>
<p>Previously: https://matrix.org/blog/2022/07/22/this-week-in-matrix-2022-07-22#hope-conference</p>
<p>See you in 2024, hopefully!</p>
<h3 id="may-container-hackers-mch-concluded">May Container Hackers (MCH) concluded</h3>
<p>https://mch2022.org/</p>
<p>MCH2022 in the Netherlands successfully occurred!</p>
<p>MCH2022 has an IRC-bridged Matrix room: <a href="https://matrix.to/#/#_oftc_#mch2022:matrix.org">https://matrix.to/#/#_oftc_#mch2022:matrix.org</a></p>
<p>HOPE and MCH had a bridge room/tent: <a href="https://wiki.mch2022.org/Hope#HOPE-MCH_Portal">https://wiki.mch2022.org/Hope#HOPE-MCH_Portal</a></p>
<p>See you in 2026 or so!
<img src="/blog/img/493e42137d8b3c84fd1c57ab4e9f85fc91790bed.jpg" alt="" /></p>
</blockquote>
<h4 id="matrix-summit-schedule">Matrix Summit schedule</h4>
<p><a href="https://matrix.to/#/@yan:datanauten.de">Yan</a> says</p>
<blockquote>
<p>By the end of last week we received a bunch of proposal for talks and workshops for the conference.
It were all together 32 proposals and we accepted almost all of them.</p>
<p>We released already multiple <a href="https://cfp.summit2022.matrixmeetup.de/matrix-summit-conference-2022/schedule/changelog/">versions</a> of our schedule. The current version is 0.5 <a href="https://cfp.summit2022.matrixmeetup.de/matrix-summit-conference-2022/schedule/v/0.5/#">html</a> <a href="https://cfp.summit2022.matrixmeetup.de/matrix-summit-conference-2022/schedule/export/schedule.json">json</a></p>
<p>There is even some space left for late comers. In case you decide spontaneously to come and want to talk let us know, we will find a way.</p>
<h3 id="tickets">Tickets</h3>
<p>You now <a href="https://tickets.summit2022.matrixmeetup.de/matrix-meetup-berlin/summit2022/">get tickets</a> for the summit for the fantastic price of 0 euro. We like to know in advance how many people will come.
If you have already a ticket and can’t come please let us know. So we can give them to people on the waiting list.</p>
<h3 id="sharing-is-caring">Sharing is caring</h3>
<p>I case you have a room or ride to share or you are looking for transport or accommodation please visit our <a href="https://matrix.to/#/#matrix-summit-sharing:c-base.org">#matrix-summit-sharing:c-base.org</a>.</p>
<p><img src="/blog/img/OBcLGfUajPBCoDIdYdSptSJq.png" alt="" /></p>
</blockquote>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> reports</p>
<blockquote>
<p>If you'd rather listen to Yan and me talking about the Matrix Summit and its schedule, we recorded a podcast episode for you to get informed on the go.</p>
<p>https://fyyd.de/episode/9085227 (German)</p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰️</h2>
<h3 id="effektio-website">Effektio (<a href="https://effektio.org/">website</a>)</h3>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> reports</p>
<blockquote>
<p>The team of effektio, the mobile-first organizing app build on matrix, is <a href="https://effektio.org/2022/07/29/being-more-public/">happy to announce</a> the <a href="https://effektio.org/">new website</a>. Aside from the revamped <a href="https://effektio.org/team/">team section</a>, we are particularly excited about the <a href="https://effektio.org/product/">new product progress page</a>, as the questions &quot;what are you building exactly, and how far are you with the progress&quot; are commonplace. With the product page we hope to provide more clarity what we mean, in actual features, when we say &quot;organize yourself, your friends, family, clubs and all other communities from the palm of your hand&quot;. Each feature also links right into the specific section of the Github project, so you can get an unobstructed view of the actual progress happening—and contribute, if you like.</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server.</p>
<h3 id="ping-maunium-net"><a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">maunium.net</td><td style="text-align: center">239.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">babel.sh</td><td style="text-align: center">432</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">trygve.me</td><td style="text-align: center">479</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">envs.net</td><td style="text-align: center">555.5</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">maximiliangaedig.com</td><td style="text-align: center">660.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">alemann.dev</td><td style="text-align: center">674</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">kittenface.studio</td><td style="text-align: center">752.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">pikaviestin.fi</td><td style="text-align: center">798</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">kootstra.frl</td><td style="text-align: center">881</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">babel1.eu</td><td style="text-align: center">946.5</td></tr>
</tbody></table>
<h3 id="ping-no-synapse-maunium-net"><a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">babel.sh</td><td style="text-align: center">151.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">kernel-error.com</td><td style="text-align: center">281</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">babel1.eu</td><td style="text-align: center">303.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">foxo.me</td><td style="text-align: center">447</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">rustybever.be</td><td style="text-align: center">499</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">grin.hu</td><td style="text-align: center">520.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">cutema.re</td><td style="text-align: center">679.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">zemos.net</td><td style="text-align: center">1179.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;07&#x2F;22&#x2F;this-week-in-matrix-2022-07-22&#x2F;" title="This Week in Matrix 2022-07-22">This Week in Matrix 2022-07-22</a></h1>
            <span>
                22.07.2022 18:57
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/thib">
                    Thib
                </a>
            </span>
            <br>
            <small>Last update: 22.07.2022 18:39</small>
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/9LrUHTn5iEA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>An episode with the maintainers of Threematrix, the 100% Rust bridge between Matrix and Threema!</p>
<p>In addition to that, <a href="https://matrix.org/open-tech-will-save-us/">Open Tech Will Save Us will be back on Wednesday 27 at 16:00 UTC</a>! The topic will be &quot;what makes a platform&quot;, or more specifically: &quot;are Linux or the web platforms&quot;. There are many fascinating topics to discuss, such as &quot;is it possible to create an app for Linux&quot; (it's not as simple as it sounds), &quot;why are some people against theming?&quot;, or &quot;why do developers want to use platforms&quot;.</p>
<p>And to answer that, who other than the Linux desktop most advanced projects GNOME and KDE, and people working on Matrix, the protocol that wants to become as unmissable as the web itself, and more specifically on a deeper integration of widgets with Matrix clients?</p>
<p>You can join <a href="https://matrix.to/#/#otwsu:matrix.org">#otwsu:matrix.org</a> to ask your questions on July 27 during the live show, and bookmark either https://stream.matrix.org or the <a href="https://www.youtube.com/watch?v=pGE2KEasjbc">YouTube stream</a>.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://matrix.to/#/@andrewm:element.io">Andrew Morgan (anoa)</a> says</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://matrix.org/docs/spec/proposals.</p>
<h2 id="msc-status">MSC Status</h2>
<p>MSC status updates from the past week!</p>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3852">MSC3852: Expose user agent information on <code>Device</code></a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3851">MSC3851: Allow custom room presets when creating a room</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3849">MSC3849: Observations and Reinforcement</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3848">MSC3848: Introduce errcodes for specific event sending failures</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3844">MSC3844: Remove unused policy room sharing mechanism</a> (merge)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3828">MSC3828: Content Repository CORP Headers</a> (merge)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3827: Filtering of <code>/publicRooms</code> by room type</a> (merge)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2153">MSC2153: Add a default push rule to ignore m.reaction events</a> (close)</li>
</ul>
<p><strong>Accepted MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3786">MSC3786: Add a default push rule to ignore <code>m.room.server_acl</code> events</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3267">MSC3267: Reference relations</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2832">MSC2832: HS -&gt; AS authorization header</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2676">MSC2676: Message editing</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2285">MSC2285: Private read receipts</a></li>
</ul>
<p><strong>Closed MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3429">MSC3429: Individual room preview API</a></li>
</ul>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged to the spec this week.</em></li>
</ul>
<h2 id="spec-updates">Spec Updates</h2>
<p>Lots of MSCs moving through the pipeline in the last couple weeks! As always, be sure to take a look at those in Final Comment Period above - only a few days left to comment on them before they merge/close!</p>
<p>Otherwise the Spec Core Team is looking to try and get a handle on the current MSC backlog - this means taking a look at all of the open MSCs, triaging them and organising them into a loose priority queue. This is likely to take quite a while to do and may not ever be complete - but should give us and everyone else an idea of what's expected to land in upcoming Matrix spec versions.</p>
<h2 id="random-msc-of-the-week">Random MSC of the Week</h2>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3217">MSC3217: Soft kicks</a>!</p>
<p>The idea this MSC proposes is to add a possible <code>m.softkick</code> field to room membership events of type &quot;leave&quot;, which if present will inform clients that the user has only been kicked temporarily, and they are welcome to rejoin.</p>
<p>This helps with the IRC bridging use case laid out in the MSC.</p>
<p><img src="/blog/img/2022-07-22-spec.png" alt="" /></p>
</blockquote>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> says</p>
<blockquote>
<h2 id="offline-matrix-spec-for-dash-and-zeal">Offline Matrix Spec for Dash and Zeal</h2>
<p>I use Zeal – an offline documentation browser using the same docsets as Dash for MacOS.
It allows me to browse MDN, ExpressJS docs, NodeJS docs and other languages and formats while not relying on the Internet when traveling.
They have &quot;208 awesome docsets&quot;, and I guess you know which one I'm missing – or used to miss, until I packaged it myself.</p>
<p>Introducing: The <a href="https://gitlab.com/jaller94/dash-matrix-spec">Matrix Spec for Dash and Zeal</a></p>
<p>If you use Dash or Zeal, give it a try. Let me know, if you find pages that are not working.
I hope that Matrix will be included in their list of user-contributed docsets.</p>
<p>Note, this is not an official release distribution of the Matrix Spec. Enjoy at your own risk of this breaking or not getting updated.</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="construct-server">Construct Server</h3>
<p><a href="https://matrix.to/#/@jevolk:matrix.org">Jason Volk</a> says</p>
<blockquote>
<p>Construct server has been refurbished to support the Ubuntu 22.04+ platform. I am happy to
report that Construct performs faster and more reliably than ever before. It's been
a long time since the last update due to COVID-related health problems, but development
has picked up again. I'd like to thank @manu_kamath:matrix.org and @uis246 for their
contributions, and of course Yan Minari for keeping things together over the past year.
Additional work implementing the latest MSC's will continue in the coming weeks so I
encourage everyone to show support in <a href="https://matrix.to/#/#construct:zemos.net">#construct:zemos.net</a> and contribute if possible.</p>
<p>Several enhancements have taken place this release, so I'd just like to highlight one
here: The media database has been eliminated and has been integrated into the main
events database. Construct did always store media in rooms by splitting files
into blocks, but it offloaded the content block to separate storage leaving just a
hash of the content in the matrix event. Construct now stores blocks directly in event
content via hardware-accelerated base64 encoding. The result performs better because 
there's only one database query instead of two, and the room can be shared between
servers in a Construct Cluster.</p>
<p>Construct is a performant and robust Matrix Server and Natural Language Processor.
Please be mindful of any laws in your country which require registering your instance
for commercial use.</p>
<p>https://github.com/matrix-construct/construct</p>
</blockquote>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@babolivier:element.io">Brendan Abolivier</a> announces</p>
<blockquote>
<p>This week we've released Synapse 1.63! This release includes a few features such as better rate limiting for invites, as well as experimental support for <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3827</a> which allows filtering public room search results by room type. The latter will, once stabilised, allow for better discoverability of public spaces since it will allow clients to specifically look for them. Read all about this new release on the matrix.org blog: https://matrix.org/blog/2022/07/20/synapse-1-63-released</p>
<p>We've also spent some time clarifying documentation and prompts about the usage statistics Synapse automatically reports if configured with <code>report_stats</code> set to <code>true</code>. The <a href="https://matrix-org.github.io/synapse/v1.63/usage/administration/monitoring/reporting_homeserver_usage_statistics.html">new documentation page</a> lists exactly what is reported and how this reporting works. This clarification work included removing the use of &quot;anonymised&quot; when referring to this feature to make it clearer that, even though Synapse does not report identifiable information about users and rooms, it does report the homeserver's name (i.e. the value of the <code>server_name</code> configuration setting).</p>
</blockquote>
<h2 id="homeserver-deployment-inbox-tray">Homeserver Deployment 📥️</h2>
<h3 id="helm-chart-website">Helm Chart (<a href="https://gitlab.com/ananace/charts">website</a>)</h3>
<p>Matrix Kubernetes applications packaged into helm charts</p>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> says</p>
<blockquote>
<p>Since people seemed to like seeing updates on <a href="https://gitlab.com/ananace/charts">my Helm Charts</a>; matrix-synapse got bumped to 1.63.0 and then 1.63.1, as well as receiving some expanded handling of workers - all worker instances now come with both startup- and liveness probes attached by default.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges 🌉</h2>
<h3 id="threematrix-website">Threematrix (<a href="https://github.com/bitbetterde/Threematrix">website</a>)</h3>
<p>A bridge to the Threema messenger </p>
<p><a href="https://matrix.to/#/@moritz:fabcity.hamburg">Moritz Stückler</a> says</p>
<blockquote>
<p>Say hello to a new bridge in Matrix universe (or rather fediverse): <strong>Threematrix</strong>. As you might've guessed from the name: It's a bridge between the Threema messenger and Matrix. Threema is a very popular messenger in europe, especially in German speaking countries (it's a swiss company). We've just released our very first alpha version – it's a very simple bot bridge for now, but we have quite a lot of improvements on our todo list. Currently, it only works with the (paid) Threema Gateway API product, but we're trying to talk to Threema to come up with a more affordable hobbyist pricing model for bridge use. Feel free to follow our releases in the <a href="https://github.com/bitbetterde/Threematrix">GitHub repo</a>, follow our <a href="https://mastodon.social/web/@threematrix">Mastodon account</a> and join our <a href="https://matrix.to/#/#threema-bridge:matrix.org">Matrix room</a> to stay up to date or ask any questions.</p>
<p>P.S.: We're two freelance developers and we're being <a href="https://prototypefund.de/project/threematrix-eine-bruecke-zwischen-threema-und-dem-matrix-protokoll/">funded by the German Prototype Fund</a> program. If you're an OSS developer in Germany, check them out!
<img src="/blog/img/SXpBDeanEHwRBFnJcmUBZwKt.png" alt="" /></p>
</blockquote>
<h3 id="matrix-hookshot-website">matrix-hookshot (<a href="https://github.com/Half-Shot/matrix-hookshot">website</a>)</h3>
<p>A multi purpose multi platform bridge, formerly known as matrix-github</p>
<p><a href="https://matrix.to/#/@andrewf:element.io">Andrew F</a> says</p>
<blockquote>
<p>Hookshot 1.8.1</p>
<p>Hello all -- since our last TWIM announcement, Hookshot has been updated from 1.7.2 to <a href="https://github.com/matrix-org/matrix-hookshot/releases/tag/1.8.1">1.8.1</a>. Aside from usability fixes and documentation improvements, there have been some notable changes to generic webhook support:</p>
<ul>
<li><strong>XML webhook payloads are now decoded</strong> instead of being treated as blobs of text. This means they render more nicely as room messages, and more importantly, it allows them to work with custom <a href="https://matrix-org.github.io/matrix-hookshot/latest/setup/webhooks.html#javascript-transformations">JavaScript transformations</a>. (<a href="https://github.com/matrix-org/matrix-hookshot/issues/410">#410</a>)</li>
<li><strong><code>GET</code> requests for generic webhooks are no longer supported by default.</strong> For details, refer to <a href="https://matrix-org.github.io/matrix-hookshot/latest/setup/webhooks.html#get-requests">the documentation</a>. (<a href="https://github.com/matrix-org/matrix-hookshot/issues/397">#397</a>)</li>
</ul>
<p>As usual, visit <a href="https://matrix.to/#/#hookshot:half-shot.uk">#hookshot:half-shot.uk</a> to follow the development in real-time.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="quadrix-website">Quadrix (<a href="https://github.com/alariej/quadrix">website</a>)</h3>
<p>A Minimal, simple, multi-platform chat client for the Matrix protocol.</p>
<p><a href="https://matrix.to/#/@alariej:matrix.org">JFA</a> says</p>
<blockquote>
<p>Quadrix v1.2.2 is now available for Linux (https://snapcraft.io/quadrix, https://flathub.org/apps/details/chat.quadrix.Quadrix) and Android (https://play.google.com/store/apps/details?id=chat.quadrix.android). Other platforms will soon follow.</p>
<p>New in this release:</p>
<ul>
<li>Spanish translation!!!</li>
<li>Fix for the Jitsi Meet link displayed to non-Quadrix users (thanks to @alpabrz:matrix.org)</li>
</ul>
<p>Please leave feedback/comments at <a href="https://matrix.to/#/#quadrix:matrix.org">#quadrix:matrix.org</a> or in the issues at https://github.com/alariej/quadrix (stars welcome :-)</p>
</blockquote>
<h3 id="nheko-website">Nheko (<a href="https://nheko-reborn.github.io">website</a>)</h3>
<p>Desktop client for Matrix using Qt and C++17.</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> reports</p>
<blockquote>
<p>I got a fantastic release for you to day and it won't fit inside a normal sized update so without further ado, here are the highlights:</p>
<ul>
<li>Notification counts 💯 (LorenDB, d42)
<ul>
<li>You can now see notification counts in more spaces, like your task bar or in
the community sidebar.</li>
<li>For better work-life balance you can hide the notification counts on a per
space basis.</li>
<li>For notification counts in the task bar your desktop environment needs to
support the Unity protocol.</li>
<li>Notifications are also preserved across restarts now.</li>
</ul>
</li>
<li>Moderation 👮‍♀️
<ul>
<li>You can now change the permissions and aliases of a room.</li>
<li>Permissions are shown in the Memberlist</li>
<li>A new <code>/redact</code> command to redact an event or all messages by a user.</li>
<li>You can now provide a reason when inviting, knocking, kicking and banning
users.</li>
</ul>
</li>
<li>Faster startup ⚡
<ul>
<li>On at least some systems startup should now be instant even with thousands
of rooms.</li>
</ul>
</li>
<li>Encryption improvements 🛡️
<ul>
<li>Support for the most recent changes to Matrix E2EE including fallback keys,
no longer relying on the sender_key.</li>
<li>Compatibility and stability improvements when dealing with different base64
encodings and when verifying users and devices.</li>
<li>Fetch the whole online key backup at the click of a button.</li>
</ul>
</li>
<li>Integration with external apps 🗺️ (LorenDB)
<ul>
<li>Nheko now has a D-Bus API, which you can enable in the settings menu.</li>
<li>This allows applications like KRunner or Rofi to list and switch between
rooms.</li>
</ul>
</li>
</ul>
<p>If you are reading this a bit early, the release builds might still be cooking, but they should be available in the next few hours. There about 40 more features and at least 30 bugfixes waiting for you, so checkout the release here: https://github.com/Nheko-Reborn/nheko/releases/tag/v0.10.0 . I'd like to thank as always everyone who contributed to this release, it has been a pleasure to work with you folks and I hope I will see a few of you in the next release as well.</p>
<p>As you might be able to tell, moderation features were a big topic this release. But they are clearly not done yet and I expect more of those to land in the future now that Nheko is fairly mature. There are also a few other cool features planned, so while this release is exciting, there will always be more! Same bad client, same bad... wait, this is not my outro!</p>
<p>Please give this release a whirl and tell us how you like it in <a href="https://matrix.to/#/#nheko:nheko.im">#nheko:nheko.im</a>!</p>
</blockquote>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@kittykat:matrix.org">kittykat</a> says</p>
<blockquote>
<ul>
<li>We’ve made more improvements to the new search</li>
<li>Added a new emoji effect for 💝 which you can also send with a <code>/hearts</code> command in the composer</li>
<li><a href="https://github.com/CicadaCinema">CicadaCinema</a> and <a href="https://github.com/luixxiul">luixxiul</a> have submitted <a href="https://github.com/matrix-org/matrix-react-sdk/pull/6914">more</a> layout <a href="https://github.com/matrix-org/matrix-react-sdk/pull/9037">polishes</a> to the app</li>
<li>Frequently used emojis will <a href="https://github.com/matrix-org/matrix-react-sdk/pull/8998">appear at the top</a> of the autocomplete suggestions in the composer</li>
<li>Meanwhile, work continues on <a href="https://github.com/vector-im/element-web/issues/22453">message favouriting</a> and live location sharing</li>
<li>Lazy Loading tests have now been migrated to Cypress. We are coming closer to finishing porting.</li>
<li><a href="https://github.com/vector-im/element-meta/pull/216">Code style guide</a> is now in final commenting period</li>
<li>This week’s release (<a href="https://github.com/vector-im/element-web/tree/release-v1.11.1">1.11.1</a>) has been delayed until next Tuesday while we fix some last minute issues
<img src="/blog/img/lNUoyrxMVzQKTbctmoRVBZMo.gif" alt="" /></li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@stefan.ceriu:matrix.org">Ștefan</a> announces</p>
<blockquote>
<ul>
<li>Version 1.8.23 (with in-app notifications!) is now available on the AppStore</li>
<li>The new first time user experience is getting very close to release</li>
<li>Good progress is continuing to be made on the new home screen layout</li>
<li>We can now silence unwanted push notifications, dare I say, finally!</li>
<li>We have started experimenting with adopting Sync V3 in ElementX</li>
<li>And, as always, we have fixed various bugs including edited messages not showing the right text</li>
</ul>
<p><img src="/blog/img/ZmAofohLMwjKGSwWzIOxPyMr.png" alt="" /></p>
</blockquote>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> announces</p>
<blockquote>
<ul>
<li><strong>Release 1.4.28 has been dropped</strong>, to give us time to fix the regression and performance issue added when key share history was worked on. The next RC 1.4.30 will be done next week as usual.</li>
<li>We have started to work on using the new Realm Kotlin SDK (we are using the legacy Java SDK at the moment): it should improve the stability of the app (and so the crash free session) and improve devX. Nearly all the possible blocking points have been handled. This will force us to use suspend methods, which will be useful for ElementX.</li>
<li>Latest tweaks on FTUE have been merged on develop. We will iterate on a few things, but we are close to releasing the feature! New wordings for FTUE are waiting for translations on Weblate. Thanks to all the contributors!</li>
<li>We have set up a nightly build using Firebase app distribution. We keep it internal for the moment, we will see in the future if we want to open it to the community.</li>
</ul>
</blockquote>
<h3 id="open-super-dapp-android">Open Super dApp (Android)</h3>
<p><a href="https://matrix.to/#/@bmiller59:matrix.org">Brendan A. Miller</a> reports</p>
<blockquote>
<p>New project! <code>open-super-dapp-android</code> is a fully open source, open standard, decentralized &quot;super app&quot; including a secure, encrypted Matrix compatible messenger based off of the Element Messenger, and an Ethereum crypto wallet and web3 browser based off of Alpha Wallet. Our mission is to foster, and provide access to, a decentralized and secure digital commons for all. Github repo: https://github.com/2gatherproject/open-super-dapp-android</p>
<p>OSD is a downstream project of Element, aiming to provide the functionalities of a &quot;super app&quot; like WeChat, just as an open, distributed and not-for-profit app instead of a proprietary, closed and for-profit one.</p>
<p>This software is pre-alpha, actively seeking contributors, donors and maintainers/leaders. Get in on the ground floor and help build something amazing!</p>
<p>Currently, Open Super dApp builds and runs with full functionality of the Element messenger and Alpha Wallet in the same Android app, with all existing tests passing. Efforts to further integrate their functionalities are just beginning.</p>
<p>Next steps include:</p>
<ul>
<li>Demonstrate easy to use person to person Ethereum payment functionality between Matrix users.</li>
<li>Provide a powerful and easy to use messaging and payment javascript API for use by web3 applications accessed through the Open Super dApp. Produce sample web dApps using this API.</li>
<li>Centralize cryptographic secrets between the wallet and the messenger.</li>
<li>Build a parallel iOS version for iPhones using Element iOS and Alpha Wallet iOS.</li>
</ul>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<p><a href="https://matrix.to/#/@tusooa:tusooa.xyz">tusooa</a> says</p>
<blockquote>
<p>We released <a href="https://lily-is.land/kazv/libkazv/-/commits/v0.2.0">0.2.0</a> of libkazv. Change log is as follows:</p>
<ul>
<li>Support streaming uploads. https://gitlab.com/kazv/libkazv/-/merge_requests/1</li>
<li>Fix ctx.dispatch() returning promises resolving to empty EffectStatus. https://gitlab.com/kazv/libkazv/-/commit/c7796a6ab8325773bf47fe83254a377204d6abcf</li>
<li>Prevent leaking full file path when uploading to matrix server by using only basename for the request.</li>
<li>Deal with timeline gaps properly. https://lily.kazv.moe/kazv/libkazv/-/merge_requests/1</li>
<li>Record state events in timeline. https://lily.kazv.moe/kazv/libkazv/-/merge_requests/2</li>
<li>Add support for streaming download. https://lily.kazv.moe/kazv/libkazv/-/merge_requests/3</li>
<li>Add support for Boost.Serialization. https://lily.kazv.moe/kazv/libkazv/-/merge_requests/4</li>
<li>Support encrypted attachments. https://lily.kazv.moe/kazv/libkazv/-/merge_requests/5</li>
<li>Allow custom random generator with crypto. https://lily.kazv.moe/kazv/libkazv/-/merge_requests/6</li>
<li>Support auto-discovery. https://lily.kazv.moe/kazv/libkazv/-/merge_requests/12</li>
<li>Support profile API. https://lily.kazv.moe/kazv/libkazv/-/merge_requests/13</li>
<li>Support kick/ban API. https://lily-is.land/kazv/libkazv/-/merge_requests/15</li>
<li>Support room heroes. https://lily-is.land/kazv/libkazv/-/merge_requests/16</li>
<li>Add coverage report. https://lily-is.land/kazv/libkazv/-/merge_requests/17</li>
</ul>
<h3 id="deprecated">Deprecated</h3>
<ul>
<li><code>makeDefaultEncryptedSdk()</code> is now deprecated. Use <code>makeDefaultSdkWithCryptoRandom()</code> instead.</li>
</ul>
</blockquote>
<h3 id="matrix-rust-sdk-website">matrix-rust-sdk (<a href="https://github.com/matrix-org/matrix-rust-sdk">website</a>)</h3>
<p>Matrix Client-Server SDK for Rust</p>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> says</p>
<blockquote>
<p>This week has seen an merges of many minor, partially longer-pending PRs into the mainline code base: among them a <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/851">fix for a longer pending CI problem with Apply builds</a>, an <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/854">update to latest ruma</a> and many minor fixes and style improvements. We've also gotten the Crypto-bindings for the JS in web using WASM a lot further, the only thing remaining for a release are some last minute PRs and fixes in the release infrastructure. But the most changes to the code base this week have been coming from the appservice department, who've submitted, reviewed and merged a whopping seven PRs this week, fixing various problems and adding a bunch of appservice specific features.</p>
<p>Beyond purely code changes this week has seen a lot of project starts, too: For ones, with the help of the rust team, the iOS Team has started integrating the Sliding-Sync/Sync V3 into the upcoming Element-X-Series;  the team has put up the <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/855">first PR to add integration tests against an actual synapse server</a> (some issues pending); a workshop set out the first ideas for the new upcoming timeline API; and a very <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/868">interesting draft PR</a> was brought in from community member <a href="https://github.com/docweirdo">docweirdo</a> proposing a new API on top of the existing SDK to have futures wait for actual completion - no more sending a message and observing sync for the appropriate response yourself.</p>
<p>👉️ Wanna hack on matrix rust? Go check out our <a href="https://github.com/matrix-org/matrix-rust-sdk/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22"><code>help wanted</code> tagged issues</a> and join our matrix channel at <a href="https://matrix.to/#/#matrix-rust-sdk:matrix.org">#matrix-rust-sdk:matrix.org</a>.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="synatainer-website">Synatainer (<a href="https://gitlab.com/mb-saces/synatainer">website</a>)</h3>
<p>Synapse Maintenance Container – Docker container with tools for synapse &amp; postgres database maintenance</p>
<p><a href="https://matrix.to/#/@saces:c-base.org">saces</a> reports</p>
<blockquote>
<p>Synatainer v0.4.1-RC1</p>
<p>Synapse Maintenance Container – Docker container with tools for synapse &amp; postgres database maintenance</p>
<p>A lot of things added and changed, and I'm sure I missed something, so I will go with a release candidate this time</p>
<p>New in v0.4.1-RC1</p>
<ul>
<li>enable PGPASSFILE support for better database password handling</li>
<li>add tools to detect and maybe fix synapse issue <a href="https://github.com/matrix-org/synapse/issues/12507">12507</a> and <a href="https://github.com/matrix-org/synapse/issues/13026">13026</a> (No state group for unknown or outlier event)</li>
<li>internal: added an extension for <a href="https://github.com/mautrix/go">mautrix-go</a> to serve synapse admin api requests</li>
<li>lots of iternal changes</li>
</ul>
<p><code>stui</code> is a typical golang binary, it's also available as stand alone version from the <a href="https://gitlab.com/mb-saces/synatainer/-/releases">release page</a></p>
<p>Tools for <code>No state group for unknown or outlier event</code></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>[docker run -it --rm registry.gitlab.com/mb-saces/synatainer:0.4.1-RC1] stui 12507 --help
</span><span>[docker run -it --rm registry.gitlab.com/mb-saces/synatainer:0.4.1-RC1] stui 13026 --help
</span></code></pre>
<p>The tools scan the database for the issues and tells you which rooms are affected. Adding the <code>--fix</code> option, it ~~destroys your database~~deletes the bogous extremeties. Use at your own risc. And make a backup.</p>
<p>The doc have still a lot of space for improvements…</p>
<hr />
<p>Start the container without command and let do its magic :)</p>
<p>What it does by default:</p>
<ul>
<li>daily:
<ul>
<li>purge all rooms without local members</li>
<li>run the state autocompressor (500/100)</li>
</ul>
</li>
<li>weekly:
<ul>
<li>delete old remote media (&gt;90 days)</li>
<li>delete old message history from public joinable rooms (&gt;180 days)</li>
</ul>
</li>
<li>monthly:
<ul>
<li>vacuum the database</li>
</ul>
</li>
</ul>
<p>Source: https://gitlab.com/mb-saces/synatainer</p>
<p>Room: <a href="https://matrix.to/#/#synatainer:c-base.org">#synatainer:c-base.org</a></p>
</blockquote>
<h3 id="matrix-docker-ansible-deploy-website">matrix-docker-ansible-deploy (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">website</a>)</h3>
<p>Matrix server setup using Ansible and Docker</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> reports</p>
<blockquote>
<p>Thanks to <a href="https://github.com/cadair">Stuart Mumford (@Cadair)</a> for starting (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/pull/373">PR #373</a> and <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/pull/622">PR #622</a>) and to <a href="https://github.com/moan0s">Julian-Samuel Gebühr (@moan0s)</a> for finishing up (in <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/pull/1894">PR #1894</a>), <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> can now help you set up <a href="https://github.com/maubot/maubot">maubot</a> - a plugin-based Matrix bot system.</p>
<p>See our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bot-maubot.md">Setting up maubot</a> documentation to get started.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="auto-reply-maubot-plugin">Auto-reply maubot plugin</h3>
<p><a href="https://matrix.to/#/@babolivier:element.io">Brendan Abolivier</a> says</p>
<blockquote>
<p>Because I don't like having to change my display name to tell coworkers when I'm away, I've written a maubot plugin for an auto-responder bot.</p>
<p>It allows me to signal when I'm away, at which point anyone who sends a message in an existing DM will be sent an automated reply so they know that I'm away, when I'll be back, and how to reach out to me in case of emergencies (it does this once per DM until I come back). When I'm back, I just need to tell the bot and it will automatically turn off the auto-responder and give me a summary of the DMs in which I've missed messages while I was away.</p>
<p>The source code and package for this plugin are available right here: https://github.com/babolivier/maubot-autoreply 🙂</p>
</blockquote>
<h3 id="msc-bot">MSC Bot</h3>
<p><a href="https://matrix.to/#/@minecraftchest1:matrix.org">minecraftchest1</a> says</p>
<blockquote>
<p>I just created a simple bot that generates a MSC url from the specified MSC id.
The source code for the project can be found at https://mau.dev/minecraftchest1/mscbot/. And example instance can be found at @maubottest1:synapse1.arsrobotics.org Demo and use the bot in <a href="https://matrix.to/#/#msc-bot:synapse1.arsrobotics">#msc-bot:synapse1.arsrobotics</a>.org</p>
</blockquote>
<p><a href="https://matrix.to/#/@cat:feline.support">Cat</a> reminds us</p>
<blockquote>
<p>This feature is already in the MSC bot used in #matrix-spec or atleast in one of those bots.</p>
</blockquote>
<h3 id="matrix-release-tracker-website">Matrix Release Tracker (<a href="https://github.com/ananace/matrix-releasetracker">website</a>)</h3>
<p>A release tracker that posts updates into Matrix rooms</p>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> announces</p>
<blockquote>
<p>My <a href="https://github.com/ananace/matrix-releasetracker">release tracking bot</a> received a bunch more work since the last update. It now supports tracking repos, groups, and user stars on GitHub, GitLab (both .com and self-hosted), as well as Gitea (though Gitea requires a token for reading stars). And also tracking &quot;releases&quot; - a.k.a. tags - on bare Git repos, at least as long as they don't require SSH key authorization. Things are getting ever closer to a 1.0 release, with only really some missing bang commands and error reporting being the remaining pieces.</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks 🗣️</h2>
<h3 id="hope-conference">HOPE conference</h3>
<p><a href="https://matrix.to/#/@cel:fosdem.org">cel</a> reports</p>
<blockquote>
<p>HOPE conference (today/tomorrow/Sunday) is using Matrix
https://hope.net/</p>
</blockquote>
<h3 id="end-of-matrix-summit-2022-cfp">End of Matrix Summit 2022 CfP</h3>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> announces</p>
<blockquote>
<p>The <a href="https://summit2022.matrixmeetup.de">Matrix Summit 2022</a> is a community event taking place Thu, 25th to Sun, 28th Aug
at c-base in Berlin. Today's the last day to propose presentations and workshop. The exact deadline is 22:22 (Europe/Berlin).</p>
<p>Will you be in Berlin and have a Matrix project to talk about? Can you organise a workshop about how to use Matrix? How does your community or workplace use Matrix?
Submit your proposal now!</p>
<p>https://cfp.summit2022.matrixmeetup.de</p>
</blockquote>
<h3 id="matrix-devroom-at-froscon">Matrix-DevRoom at FrOSCon</h3>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> reports</p>
<blockquote>
<p>FrOSCon is a conference that takes place in Siegburg/Bonn, Germany on 21st and 22nd August. Most presentations will be German, but there are some in English as well. It's all about free, open source software.</p>
<p>And, best of all, we'll have an entire DevRoom track for a day – full of Matrix. Furthermore, you can come by the Matrix stand for that famous <em>hallway</em> track. ✨ I know I'll be there. 👋</p>
<p>https://programm.froscon.org/2021/events.html#matrix%20track</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server.</p>
<h3 id="ping-maunium-net"><a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">envs.net</td><td style="text-align: center">309</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">babel.sh</td><td style="text-align: center">392</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">keks.club</td><td style="text-align: center">473</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">rom4nik.pl</td><td style="text-align: center">641</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">babel1.eu</td><td style="text-align: center">750.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">alemann.dev</td><td style="text-align: center">793</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">mindlesstux.com</td><td style="text-align: center">892</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">kittenface.studio</td><td style="text-align: center">989</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">roeckx.be</td><td style="text-align: center">1063</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">supersandro.de</td><td style="text-align: center">1110</td></tr>
</tbody></table>
<h3 id="ping-no-synapse-maunium-net"><a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">babel.sh</td><td style="text-align: center">172.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">dendrite.matrix.org</td><td style="text-align: center">275</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">joeth.uk</td><td style="text-align: center">294</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">babel1.eu</td><td style="text-align: center">302</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">dendrite.babel.sh</td><td style="text-align: center">509.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">rustybever.be</td><td style="text-align: center">708</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;07&#x2F;20&#x2F;synapse-1-63-released&#x2F;" title="Synapse 1.63 released">Synapse 1.63 released</a></h1>
            <span>
                20.07.2022 00:00
                —
                <a href="/category/releases">
                    Releases
                </a>
                —
                <a href="/author/brendan-abolivier">
                    Brendan Abolivier
                </a>
            </span>
            
        </header>
        <div>
            <p>Hey all, it's time for another Synapse release! That's right, <a href="https://github.com/matrix-org/synapse/releases/tag/v1.63.0">Synapse
1.63</a> is out,
let's have a look at it.</p>
<h2 id="clarifications-on-anonymised-server-statistics">Clarifications on &quot;anonymised&quot; server statistics</h2>
<p>Synapse has the ability to report usage statistics to the Matrix.org Foundation
(or to another location, if configured to do so). These statistics, such as
number of users, number of rooms joined by the server, etc. (they don't feature
any identifiable information about users and rooms) help us monitor the health
of the public federation.</p>
<p>In this release of Synapse, we have updated our public documentation about this
feature to clarify how it works and what exactly is being reported. This
documentation can be found <a href="https://matrix-org.github.io/synapse/v1.63/usage/administration/monitoring/reporting_homeserver_usage_statistics.html">right
here</a>.</p>
<p>Note that previous documentation and prompts surrounding this feature called it
&quot;anonymised&quot; server statistics. This could easily be misinterpreted, as while
per-user statistics are not reported, homeserver server names are. We have
therefore changed said documentation and prompts to be clearer about
what is actually reported.</p>
<p>Note that your homeserver will never report any statistics if the <code>report_stats</code>
configuration option is set to <code>false</code>. Server admins who are curious about
which software is used by the Matrix.org Foundation to record server statistics
can check out <a href="https://github.com/matrix-org/panopticon">panopticon</a>.</p>
<h2 id="improved-filtering-for-public-room-search">Improved filtering for public room search</h2>
<p>This version of Synapse ships with an experimental implementation of
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3827</a> which
allows filtering public room search results by room type. This feature will
enable better discoverability for Matrix Spaces (which are rooms with a specific
type, under the hood), as it will enable clients to search specifically for
public spaces.</p>
<p>This feature is still experimental as <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">its
MSC</a> hasn't
completed the MSC process yet, though it is in its final comment period at the
time this post is being written. This means a stable implementation will be
coming to Synapse very soon, so watch this space!</p>
<h2 id="everything-else">Everything else</h2>
<p>Synapse 1.63 also includes a new rate limiter to limit invites per issuer. This
rate limiter can be configured using the new <code>rc_invites.per_issuer</code>
configuration setting, see <a href="https://matrix-org.github.io/synapse/latest/usage/configuration/config_documentation.html#rc_invites">the
documentation</a>
for more information.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.63.0">full
changelog</a> for a
complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>,
<a href="https://github.com/villepeh">villepeh</a> and <a href="https://github.com/arkamar">Petr
Vaněk</a>, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.</p>

        </div>
    </article>
    
    <article class="post">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;07&#x2F;15&#x2F;this-week-in-matrix-2022-07-15&#x2F;" title="This Week in Matrix 2022-07-15">This Week in Matrix 2022-07-15</a></h1>
            <span>
                15.07.2022 18:54
                —
                <a href="/category/this-week-in-matrix">
                    This Week in Matrix
                </a>
                —
                <a href="/author/thib">
                    Thib
                </a>
            </span>
            
        </header>
        <div>
            <h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/3JWFLDL_3Qw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>This week Matthew gives us a general update on everything Matrix and Element. What is going on with Sliding Sync, OpenID Connect or P2P Matrix? Let's find out!</p>
<p>We're also pleased to announce the next episode of Open Tech Will Save Us has been scheduled. We will be talking live and interacting with you on July 27, 16:00 UTC (18:00 CEST) on the subject of platforms with people from GNOME, KDE and Element.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://matrix.to/#/@andrewm:element.io">Andrew Morgan (anoa)</a> reports</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://matrix.org/docs/spec/proposals.</p>
<h2 id="msc-status">MSC Status</h2>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3847">MSC3847: Ignoring invites with policy rooms</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3846">MSC3846: Allowing widgets to access TURN servers</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3845">MSC3845: Draft: Expanding policy rooms to reputation</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3844">MSC3844: Remove unused policy room sharing mechanism</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3843">MSC3843: Reporting content over federation</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3786">MSC3786: Add a default push rule to ignore <code>m.room.server_acl</code> events</a> (merge)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3267">MSC3267: Reference relations</a> (merge)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2832">MSC2832: HS -&gt; AS authorization header</a> (merge)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2676">MSC2676: Message editing</a> (merge)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2529">MSC2529: Proposal to use existing events as captions for images</a> (close)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2285">MSC2285: Private read receipts</a> (merge)</li>
</ul>
<p><strong>Accepted MSCs:</strong></p>
<ul>
<li><em>No MSCs were accepted this week.</em></li>
</ul>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<h2 id="spec-updates">Spec Updates</h2>
<p>The Spec Core Team took a concentrated effort to work through our priority backlog of MSCs, resulting in the decent amount of MSCs hitting FCP this week!</p>
<p>Thankfully the community has nearly matched this number by adding quite a few more MSCs into the fray. But we're still up by 1!</p>
<p>Perhaps one of the most exciting MSCs to move forwards is <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2676">MSC2676: Message editing</a>, which allows users to edit events (including messages) that they've previously sent. Part of the aggregations work, this functionality has been used extensively throughout the ecosystem. But only now is it making its way into the spec proper. I'm also personally excited about <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2285">MSC2285: Private read receipts</a>, which allows users to read a room's contents without advertising it.</p>
<p>Of course the above MSCs are still in Final Comment Period; a 5 day period where anyone can raise their concerns about an MSC before it is accepted. So if you have any last-minute comments, be sure to get them in now!</p>
<h2 id="random-msc-of-the-week">Random MSC of the Week</h2>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2666">MSC2666: Get rooms in common with another user</a>!</p>
<p>Another MSC I'm personally excited about! This MSC provides an endpoint on the homeserver to request the rooms (or spaces) you have in common with another user. I would find this useful for incoming DMs from users I may or may not know. Note that the client may not already have this information if it is making use of <a href="https://spec.matrix.org/v1.3/client-server-api/#lazy-loading-room-members">lazy loading room members</a>, so it needs a way to ask the server for this information.</p>
<p>Looks like the MSC is currently sitting in the Spec Core Team's review backlog. We'll get to it soon!</p>
<p><img src="/blog/img/2022-07-15-spec.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@shayshay:matrix.org">Shay</a> reports</p>
<blockquote>
<p>The Synapse team has been hard at work! This week we published <a href="https://github.com/matrix-org/synapse/releases/tag/v1.63.0rc1">Synapse 1.63.0rc1</a>. Among the notable features are support for MSC3827: filtering <code>/publicRooms</code> by room type, allowing for better discovery of Spaces. You can read more about that <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">here</a>. In addition, the release contains a number of bugfixes, updates to the documentation, and internal changes focused on reducing memory usage and increasing performance, as well as supporting the long-standing goal of faster room joins. More on these next week in the official release announcement!</p>
</blockquote>
<h3 id="conduit-website">Conduit (<a href="https://conduit.rs">website</a>)</h3>
<p>Conduit is a simple, fast and reliable chat server powered by Matrix</p>
<p><a href="https://matrix.to/#/@timo:conduit.rs">Timo on Conduit ⚡️</a> says</p>
<blockquote>
<p>Good news, as you might have noticed, conduit.rs is back online and better than ever! Matrix.org is so kind and donates this Linux server to me. I already host a discord appservice and handle 23k messages per day and, most importantly, now I'm at the top of both #ping rooms ;)</p>
<p>On the development side, I'm currently working on a big refactor, see https://gitlab.com/famedly/conduit/-/merge_requests/365 and please give feedback if you have experience this is your chance to have a lasting impact.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<p><a href="https://matrix.to/#/@lordmzte:mzte.de">LordMZTE ⚡️</a> reports</p>
<blockquote>
<p>rofi is a application launcher and dmenu replacement. https://github.com/davatorium/rofi. I made a little plugin for it to switch channels on the nheko matrix client https://mzte.de/git/LordMZTE/rofi-nheko</p>
<p><img src="/blog/img/DCFNo7hghAmbuye06QDKRpLvMkX9qHIH.png" alt="" /></p>
</blockquote>
<h3 id="nheko-website">Nheko (<a href="https://nheko-reborn.github.io">website</a>)</h3>
<p>Desktop client for Matrix using Qt and C++17.</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> reports</p>
<blockquote>
<p>You can now edit aliases in Nheko! This means you can publish your own aliases in the room directory as well as in the room. If an alias can't be used by people (because it isn't listed in the room directory), that alias is highlighted in red with an easy option to fix it (if you have permissions to do so). You can also easily switch the primary (canonical) alias of the room.</p>
<p>With this the feature set I wanted to have for the next release is complete. I wanted to focus on improving moderation and room management capabilities in Nheko and it does now have a very basic sets of capabilities to do so. I do already have plans to expand on them though!</p>
<p>So instead of working on new features, I will be focusing on bug fixes. For a start if someone has the username <code>room</code>, Nheko will now omit the reply fallback to prevent pinging the whole room. The verification window now also should always be big enough to show its contents and we now properly explain to users, why emojis might look different on different devices fixing an issue reported via Twitter... There is also a new icon for the room directory (it is now a building, very punny, huh?).</p>
</blockquote>
<h3 id="neochat-website">Neochat (<a href="https://invent.kde.org/network/neochat">website</a>)</h3>
<p>A client for matrix, the decentralized communication protocol</p>
<p><a href="https://matrix.to/#/@tobiasfella:kde.org">Tobias Fella</a> says</p>
<blockquote>
<ul>
<li>Tobias has done some internal refactoring, which will allow us to create more automated tests and prepare for the eventual Qt6 migration</li>
<li>Nvrwhere has improved NeoChat's Timeline layout: On a wide window, the bubbles will now be centered in the window, in order to better use the space while not stretching the timeline out too far</li>
<li>He's also fixed several papercut issues around the UI, for example editing and replying using the keyboard shortcuts</li>
<li>The browser will now properly open when clicking on a link when using wayland</li>
<li>The first part of Snehit's GSoC project is almost ready to land: The room list is gaining a list of spaces, which can be used to filter for the rooms included in that space</li>
<li>We're also moving forward on the E2EE support, with NeoChat now allowing a user to send an encrypted message into a matrix room - provided libQuotient supports it 🙂</li>
<li>Tobias is also working on improved Reaction &amp; Emoji pickers, which will allow users to select different variants like skin tones and which will behave better on mobile devices</li>
</ul>
<p><img src="/blog/img/51ed89c9dabe6fc776110536edaf8484cf497ad5.png" alt="" /></p>
</blockquote>
<h3 id="element-website">Element (<a href="https://element.io">website</a>)</h3>
<p>Everything related to Element but not strictly bound to a client</p>
<p><a href="https://matrix.to/#/@kittykat:matrix.org">kittykat</a> says</p>
<blockquote>
<p><strong>Community testing</strong></p>
<ul>
<li>After some successful testing on current registration flows, we are running testing sessions on the new and improved registration flows over the next week.</li>
<li>Join us at <a href="https://matrix.to/#/#element-community-testing:matrix.org">#element-community-testing:matrix.org</a> to give it a go!</li>
<li>We are also moving away from spreadsheets over to TestRail, a test case management tool which will help us track regressions and issues. We’ll be offering our community testers a change to try it out over the next few weeks.</li>
</ul>
</blockquote>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@kittykat:matrix.org">kittykat</a> reports</p>
<blockquote>
<ul>
<li>Started experimenting with matrix-react-sdk for an improved crypto(graphy) experience</li>
<li>The share screen button in video rooms on desktop has been temporarily removed until the <a href="https://github.com/vector-im/element-web/issues/4880">underlying issues</a> can be resolved</li>
<li>We have removed most of unused code in the Element Web repositories and are working on setting up tools to avoid forgetting to remove unused code in the future</li>
<li>The new search experience and <a href="https://github.com/matrix-org/matrix-react-sdk/pull/3225">DM flow</a> have received some bug fixes and polish in addition to more polish to CSS</li>
<li>For community contributors:
<ul>
<li>We have <a href="https://github.com/matrix-org/matrix-react-sdk/pull/9046">added a checklist for PRs</a></li>
<li>We are nearing completion on our first code style guide
<ul>
<li><a href="https://github.com/vector-im/element-meta/pull/216/files">Check out the code style PR</a></li>
<li>Final commenting period expected to start next week</li>
</ul>
</li>
<li>We’ve been tackling our process around reviewing PRs to reduce review time, taking a two pronged approach at focusing on reviewing new PRs quickly and resolving our oldest non-draft PRs every week</li>
<li>Did you know that some of our issues in GitHub are labelled with “<a href="https://github.com/vector-im/element-web/issues?q=is%3Aissue+is%3Aopen+label%3A%22Help+Wanted%22">Help wanted</a>” and “<a href="https://github.com/vector-im/element-web/issues?page=2&amp;q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">good first issue</a>” if they’re especially suited for community contributions?</li>
</ul>
</li>
<li>In the works (you can enable labs features in settings on develop.element.io or on Nightly):
<ul>
<li>Live location sharing has received some <a href="https://github.com/matrix-org/matrix-react-sdk/pull/9047">updates to permission handling</a> and improvements to labels</li>
<li>The new user type screens which are part of registration have landed on develop.element.io and will be released around 2nd of August</li>
<li>Message pinning has also received a bug fix for edited messages</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@douge:matrix.org">Doug</a> reports</p>
<blockquote>
<ul>
<li>Version 1.8.22 RC was released to TestFlight and comes with the following changes:
<ul>
<li>In-app notifications are now available.</li>
<li>A shiny new offline indicator that's visible in more parts of the app.</li>
<li>A handful of fixes for issues when making calls.</li>
</ul>
</li>
<li>Unfortunately this build was rejected following the latest requirements for account deletion in the App Store Review Guidelines. We’re looking into ways we can resolve this problem.</li>
<li>We have started to use Sentry to provide more insights into technical issues encountered whilst using the app.</li>
<li>Work continues on implementing the new app layout.</li>
</ul>
</blockquote>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@ouchadam:matrix.org">adam</a> says</p>
<blockquote>
<p>1.4.28 is being prepared with the following changes:</p>
<ul>
<li>Makes the build process compatible with F-Droid again!</li>
<li>Fixes for voice messages not playing and some characters showing in their escaped html form - such as quotes showing as <code>&amp;quot;</code></li>
<li>Nightly builds are on the way, these builds will be under a separate Application ID allowing them to be installed alongside the production Element app. Expect more information to come soon.</li>
<li>We’re investigating general performance regressions across the app, with some improvements already in the pipeline.</li>
</ul>
</blockquote>
<h2 id="dept-of-non-chat-clients-control-knobs">Dept of Non Chat Clients 🎛️</h2>
<h3 id="populus-viewer-website">Populus Viewer (<a href="https://github.com/opentower/populus-viewer">website</a>)</h3>
<p>A Social Annotation Tool Powered by Matrix</p>
<p><a href="https://matrix.to/#/@gleachkr:matrix.org">gleachkr</a> announces</p>
<blockquote>
<p>In the last two weeks or so, we've made some UX improvements:</p>
<ul>
<li>unified SSO and ordinary login cards</li>
<li>unified media and regular file-uploads, and improved drag-and-drop support</li>
<li>improved feedback while validating login and registration input</li>
</ul>
<p>We also added one feature that friends of mine were requesting 😃: annotations can now be equipped with a &quot;motivation&quot; (part of the w3c web annotation data model, mentioned in <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3574">MSC3574</a>), and filtered by motivation. This makes it easy to, for example, mark some discussions as &quot;questions&quot; about the text, which is pretty useful when managing a class.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="ruby-matrix-sdk-website">ruby-matrix-sdk (<a href="https://github.com/ananace/ruby-matrix-sdk">website</a>)</h3>
<p>Ruby SDK for the Matrix communication protocol</p>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> says</p>
<blockquote>
<p>And I've now finally managed to cut a long-overdue new 2.6.0 release of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby SDK</a>, which includes better support for concurrent multi-threaded usage as well as improvements on Ruby 3.0+. (The tests are currently green for Ruby 2.6 to 3.1)</p>
</blockquote>
<h3 id="matrix-rust-sdk-website">matrix-rust-sdk (<a href="https://github.com/matrix-org/matrix-rust-sdk">website</a>)</h3>
<p>Matrix Client-Server SDK for Rust</p>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> reports</p>
<blockquote>
<p>The team is proud to announce the first release of <a href="https://www.npmjs.com/package/@matrix-org/matrix-sdk-crypto-nodejs"> @matrix-org/matrix-sdk-crypto-nodejs to npmjs.com</a> (<code>0.1.0-beta.1</code>) for all the best npm user friendliness you can get. This marks the first release of the crypto ffi for nodejs from the rust team supreseeding the previously existing project. It is also the very first release for nodejs featuring the great new vodozemac core (replacement of libolm).  We've marked this as a beta release while we work out any remaining minor hickups or problems, so if you see something, say something! However, the main point of contact to it for most people is probably TravisR |s <a href="https://www.npmjs.com/package/matrix-bot-sdk">Nodejs Bot SDK</a>, which is already consuming that beta in its latest release.</p>
<p>👉️ Wanna hack on matrix rust? Go check out our <a href="https://github.com/matrix-org/matrix-rust-sdk/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22"><code>help wanted</code> tagged issues</a> and join our matrix channel at <a href="https://matrix.to/#/#matrix-rust-sdk:matrix.org">#matrix-rust-sdk:matrix.org</a>.</p>
</blockquote>
<h3 id="matrix-bot-sdk-website">matrix-bot-sdk (<a href="https://github.com/turt2live/matrix-bot-sdk">website</a>)</h3>
<p>A TypeScript/JavaScript SDK for Matrix bots</p>
<p><a href="https://matrix.to/#/@travis:t2l.io">TravisR</a> reports</p>
<blockquote>
<p>matrix-bot-sdk v0.6.0</p>
<p>After a year of working on different ways to support encryption, the <a href="https://github.com/turt2live/matrix-bot-sdk">bot-sdk</a> has finally stabilized on the <a href="https://github.com/matrix-org/matrix-rust-sdk/tree/main/bindings/matrix-sdk-crypto-nodejs">rust-sdk crypto crate</a> for crypto bindings internally. Tutorials on how to get your bot/appservice set up and working with the new crypto code are <a href="https://turt2live.github.io/matrix-bot-sdk/tutorial-encryption.html">here</a> (note that for appservices you'll need to turn on EDUs and MSC3202 in Synapse). If you run into problems, please <a href="https://github.com/matrix-org/matrix-spec-proposals/issues/new/choose">report bugs</a> or pop by <a href="https://matrix.to/#/#matrix-bot-sdk:t2bot.io">#matrix-bot-sdk:t2bot.io</a> on Matrix for help.</p>
<p>Alongside support for encryption, v0.6.0 brings a whole lot of other functionality for appservices, Synapse Admin API users, and bots wanting to make use of real DMs. Check out the full changelog <a href="https://github.com/turt2live/matrix-bot-sdk/releases/tag/v0.6.0">here</a>.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="axon-sh-website">axon.sh (<a href="https://git.thisisjoes.site/joe/axon.sh">website</a>)</h3>
<p><a href="https://matrix.to/#/@joe:matrix.thisisjoes.site">joe</a> announces</p>
<blockquote>
<p><a href="https://git.thisisjoes.site/joe/axon.sh/releases/tag/v0.17.0">axon.sh v0.17.0 has been released</a> which adds support for managing per-user ratelimits, and includes a fix for a bug related to server discovery. Please try it out and report your experience in <a href="https://matrix.to/#/#axon:matrix.thisisjoes.site">#axon:matrix.thisisjoes.site</a>, I'd appreciate feedback!</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="matrix-release-tracker-website">Matrix Release Tracker (<a href="https://github.com/ananace/matrix-releasetracker">website</a>)</h3>
<p>A release tracker that posts updates into Matrix rooms</p>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> says</p>
<blockquote>
<p>A whole heaping of work has landed for my <a href="https://github.com/ananace/matrix-releasetracker">release tracker</a> project, with it now supporting tracking releases for projects (loose projects, all users stars, or all projects under a namespace) on both GitHub and GitLab (for .com as well as self-hosted instances).
Documentation is currently still a bit lacking, but hoping to have more information both on setting it up as well as using it Soon™.</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks 🗣️</h2>
<h3 id="accu-talk">ACCU Talk</h3>
<p><a href="https://matrix.to/#/@andybalaam:matrix.org">andybalaam</a> announces</p>
<blockquote>
<p>my conference talk at ACCU this year is now out on YouTube: <a href="https://www.youtube.com/watch?v=9BR85IJI8b0">Matrix is a Distributed Real-time Database</a>. I explain what Matrix is, and show how to use curl to send and receive messages, and why it's &quot;interesting&quot; to write a server, and, as the title hints, I introduce the idea that Matrix can be for a lot more than messaging.</p>
</blockquote>
<h3 id="matrix-summit-conference-berlin">Matrix Summit Conference Berlin</h3>
<p><a href="https://matrix.to/#/@/dev/saces:saces.de">/dev/saces</a> announces</p>
<blockquote>
<p>Reminder: Matrix Summit Conference Berlin call for participation ends next week</p>
<p>As announced earlier, there will be a conference all about matrix. (See <a href="https://matrix.org/blog/2022/07/01/this-week-in-matrix-2022-07-01#matrix-summit-conference-berlin-calls-for-your-participation">TWIM 2022-07-01</a>)</p>
<p>We encourage everyone with matrix-related projects, products and ideas to come around and give a talk: From the past to the future, from the moment of the idea, the story of the creation or the vision of the future. We’d like to understand the principles as well as the technology. The conference is from people for people, so if you’d like to talk about yourself, your community, your organization, please do. Showcase yourself and your relation to the Matrix world. Let's get to know each other!
We aim to compile a versatile program. We are open to contributions of any length, from 5 minutes (lightning talks) to presentations and talks to workshops and hacksessions up to 5 hours. We’ll come together to discover, celebrate and enjoy the world of matrix. Also, if you have any arty, cultural or playful contribution in mind, please offer it.</p>
<p>➡️ Proposals for the Matrix Summit in Berlin can be submitted until next Friday (2022-07-22 22:22, TZ=Europe/Berlin) via <a href="https://cfp.summit2022.matrixmeetup.de/matrix-summit-conference-2022/cfp">pretalx</a>. 📝</p>
<p>Related spaces and rooms 💬:
<a href="https://matrix.to/#/#matrix-summit-berlin-2022:c-base.org">#matrix-summit-berlin-2022</a>
<a href="https://matrix.to/#/#matrix-summit-2022-orga:datanauten.de">#matrix-summit-2022-orga</a></p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server.</p>
<h3 id="ping-maunium-net"><a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">maunium.net</td><td style="text-align: center">263</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">matrix.org</td><td style="text-align: center">265</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">neko.dev</td><td style="text-align: center">280</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">336</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">nognu.de</td><td style="text-align: center">422.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">babel.sh</td><td style="text-align: center">596</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">alemann.dev</td><td style="text-align: center">678</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">pikaviestin.fi</td><td style="text-align: center">739.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">shortestpath.dev</td><td style="text-align: center">765</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">matrix.nicfab.it</td><td style="text-align: center">897</td></tr>
</tbody></table>
<h3 id="ping-no-synapse-maunium-net"><a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">babel.sh</td><td style="text-align: center">192.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">198</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">maunium.net</td><td style="text-align: center">207</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">matrix.sum7.eu</td><td style="text-align: center">234.5</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">rustybever.be</td><td style="text-align: center">234.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">sspaeth.de</td><td style="text-align: center">262</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">neko.dev</td><td style="text-align: center">299</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">dendrite.matrix.org</td><td style="text-align: center">331.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">joeth.uk</td><td style="text-align: center">352</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">babel1.eu</td><td style="text-align: center">378.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

        </div>
    </article>
    
    <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;2&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">3 / 64</span>
    <div class="prev">
        
        <a href="&#x2F;blog&#x2F;page&#x2F;4&#x2F;">Next ›</a>
        
    </div>
</nav>

</div>
    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
