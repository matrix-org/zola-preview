<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Blog</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    </head>

<body>
    
    


<header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            current">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    
<main id="section">
    
    <article class="content">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;30&#x2F;this-week-in-matrix-2022-09-30&#x2F;" title="This Week in Matrix 2022-09-30">This Week in Matrix 2022-09-30</a></h1>
            <span>30.09.2022 17:35 ‚Äî <a
                    href="/category/this-week-in-matrix">This Week in Matrix</a>
                 ‚Äî <a href="/author/thib">Thib</a>
            </span>
            
            <br><small>Last update: 01.10.2022 15:56</small>
            
        </header>
        <div class="post">
            
            <h2 id="matrix-live">Matrix Live</h2>
<iframe src="https://www.youtube.com/embed/cJHlndIcgMM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> reports</p>
<blockquote>
<p>There‚Äôs been a lot of discussion in the cryptography community on whether the fact Matrix currently lets homeservers define room membership counts as a E2EE vulnerability or not. On one hand, we consider it to be a low severity issue because we warn users when unexpected devices or users join an E2EE room (if you have verified users; if you haven‚Äôt verified all bets are off anyway). On the other hand, many in the cryptography community consider this a serious misdesign. Eitherway, it‚Äôs avoidable behaviour and we‚Äôre ramping up work now to address it by signing room memberships so the clients control membership rather than the server.</p>
</blockquote>
<p><a href="https://matrix.to/#/@thib:ergaster.org">Thib</a> adds</p>
<blockquote>
<p>For a balanced coveraged of the vulnerability, see the following articles:</p>
<ul>
<li><a href="https://matrix.org/blog/2022/09/28/upgrade-now-to-address-encryption-vulns-in-matrix-sdks-and-clients">Matrix.org Foundation ‚Äî Upgrade now to address E2EE vulnerabilities in matrix-js-sdk, matrix-ios-sdk and matrix-android-sdk2</a></li>
<li><a href="https://nebuchadnezzar-megolm.github.io">The original paper ‚Äî Practically-exploitable Cryptographic Vulnerabilities in Matrix</a></li>
<li><a href="https://arstechnica.com/information-technology/2022/09/matrix-patches-vulnerabilities-that-completely-subvert-e2ee-guarantees/">ars technica ‚Äî Serious vulnerabilities in Matrix‚Äôs end-to-end encryption have been patched</a></li>
</ul>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:element.io">Andrew Morgan (anoa)</a> reports</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h2 id="msc-status">MSC Status</h2>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3901">MSC3901: Deleting state</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3898">[WIP] MSC3898: Native Matrix VoIP signalling for cascaded SFUs</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3896">MSC3896: Appservice media</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>Accepted MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3856">MSC3856: Threads List API</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3771">MSC3771: Read receipts for threads</a></li>
</ul>
<h2 id="spec-updates">Spec updates</h2>
<p>This last week the SCT has largely been focusing on getting <a href="https://matrix.org/blog/2022/09/29/matrix-v-1-4-release">Matrix 1.4</a> out the door, with threads being the last major piece of it all üéâ</p>
<p>With the inclusion of edits and private read receipts too, it's one of the larger feature releases we've done in a while, but fret not: v1.5 (due approximately November 2022) is expected to be mostly spec maintenance rather than features this time around. That said, if you have any MSCs you think would be good to include in v1.5, please let us know in the <a href="https://matrix.to/#/#sct-office:matrix.org">#sct-office:matrix.org</a> so we can figure out how to make forward progress on them.</p>
<p>Otherwise, a new simplified spec process guide has been merged to the <a href="https://github.com/matrix-org/matrix-spec-proposals/#the-matrix-spec-process">Matrix Spec Proposals repo</a>. If the MSC process has ever seemed mysterious or complex, or you'd just like a refresher on some spec terminology, feel free to give it a read. <a href="https://github.com/matrix-org/matrix-spec-proposals/#the-matrix-spec-process">Check it out</a>!</p>
<h2 id="random-msc-of-the-week">Random MSC of the Week</h2>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2596">MSC2596: Proposal to always allow rescinding invites</a>!</p>
<p>When you invite a user to a room in Matrix, you send a membership state event of &quot;invite&quot; with their Matrix ID as a state key. This requires a high enough power level to &quot;invite&quot; users. If you would like to rescind this invite, you would send a second membership state event of &quot;leave&quot;. A separate power level is required to the do the latter.</p>
<p>There is an edge case whereas if you have the power level required to invite a user, but not set their membership to &quot;leave&quot; (aka <em>kicking</em> them), then you wind up not being able to rescind an invite. This can be unwelcome, especially if you accidentally invited a user.</p>
<p>This MSC aims to define rescinding an invite as a special case, with separate power level logic from the generic &quot;set a user's membership to 'leave'&quot; action - allowing anyone to rescind an invite they sent regardless of their current power level.</p>
<p>Seems useful to me! If this is something that bothers you, feel free to weigh in on the proposal with feedback.</p>
<p><img src="/blog/2022/09/30/this-week-in-matrix-2022-09-30/89fdc6c4f5bd3c069ed2aeb7926e11790fb243a8.png" alt="" /></p>
</blockquote>
<p><a href="https://matrix.to/#/@jaller94:matrix.org">jaller94</a> says</p>
<blockquote>
<h3 id="matrix-spec-v1-4-for-dash-and-zeal">Matrix Spec v1.4 for Dash and Zeal</h3>
<p>I've updated the Dash/Zeal Docset which you can use to read the Matrix Spec offline.</p>
<p>Link to the new Docset: <a href="https://chrpaul.de/dash/Matrix-docset-1.4-1.tgz">https://chrpaul.de/dash/Matrix-docset-1.4-1.tgz</a></p>
<p>If you use Dash or Zeal, give it a try. Let me know, if you find pages that are not working. I hope that <a href="https://github.com/Kapeli/Dash-User-Contributions/issues/3750">Matrix will be included in their list of user-contributed docsets.</a></p>
<p><a href="https://gitlab.com/jaller94/dash-matrix-spec">Project on Gitlab.com</a></p>
<p>Note, this is not an official release distribution of the Matrix Spec. Enjoy at your own risk of this breaking or not getting updated.</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="sliding-sync-proxy">Sliding Sync Proxy</h3>
<p><a href="https://matrix.to/#/@kegan:matrix.org">Kegan</a> says</p>
<blockquote>
<p>The sliding sync proxy has seen a number of massive architectural changes to support horizontal scaling in a kubernetes-like environment. The intention is to run a version of this scalable proxy to support expected user loads on matrix.org.</p>
</blockquote>
<blockquote>
<p>This is currently a work in progress, but the <a href="https://github.com/matrix-org/sliding-sync/pull/49">majority of the work</a> is now complete, so watch this space! To get a high-level overview of the changes, take a look at the <a href="https://github.com/matrix-org/sliding-sync/blob/5a13a02e8c48d1b0cd450f99f15e5158043ccfeb/SCALING.md">scaling design doc</a>.</p>
</blockquote>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@shayshay:matrix.org">Shay</a> announces</p>
<blockquote>
<p>Hello all. Synapse team has been hard at work, and just released v1.68.0. As mentioned last week, this will be the
first version to require Rust. Some other notable features are:</p>
<ul>
<li>Add an admin API endpoint to fetch messages within a particular window of time.</li>
<li>Add an admin API endpoint to find a user based on their external ID in an auth provider.
Plus a host of bugfixes, internal changes to speed up Synapse üöÄ(including work on faster joins-stay tuned as this is quickly approaching), improvements to the documentation, and more. Check it out here!: <a href="https://matrix.org/blog/2022/09/27/synapse-1-68-released">https://matrix.org/blog/2022/09/27/synapse-1-68-released</a></li>
</ul>
</blockquote>
<h3 id="dendrite-website">Dendrite (<a href="https://github.com/matrix-org/dendrite">website</a>)</h3>
<p>Second generation Matrix homeserver</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a> reports</p>
<blockquote>
<p>This week we released <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.10.0">Dendrite 0.10.0</a> which contains a number of significant improvements and fixes. If you are running a Dendrite server, please upgrade! Changes include:</p>
<ul>
<li>High performance full-text searching has been added to Dendrite
<ul>
<li>Search must be enabled in the <a href="https://github.com/matrix-org/dendrite/blob/6348486a1365c7469a498101f5035a9b6bd16d22/dendrite-sample.monolith.yaml#L279-L290"><code>search</code> section of the <code>sync_api</code> config</a> before it can be used</li>
<li>The search index is stored on the filesystem rather than the sync API database, so a path to a suitable storage location on disk must be configured</li>
</ul>
</li>
<li>Sync requests should now complete faster and use considerably less database connections as a result of better transactional isolation</li>
<li>The notifications code has been refactored to hopefully make notifications more reliable</li>
<li>A new <code>/_dendrite/admin/refreshDevices/{userID}</code> admin endpoint has been added for forcing a refresh of a remote user's device lists without having to modify the database by hand</li>
<li>A new <code>/_dendrite/admin/fulltext/reindex</code> admin endpoint has been added for rebuilding the search index (although this may take some time)</li>
<li>A number of bugs in the device list updater have been fixed, which should help considerably with federated device list synchronisation and E2EE reliability</li>
<li>A state resolution bug has been fixed which should help to prevent unexpected state resets</li>
<li>The deprecated <code>&quot;origin&quot;</code> field in events will now be correctly ignored in all cases</li>
<li>Room versions 8 and 9 will now correctly evaluate <code>&quot;knock&quot;</code> join rules and membership states</li>
<li>A database index has been added to speed up finding room memberships in the sync API (contributed by <a href="https://github.com/PiotrKozimor">PiotrKozimor</a>)</li>
<li>The client API will now return an <code>M_UNRECOGNIZED</code> error for unknown endpoints/methods, which should help with client error handling</li>
<li>A bug has been fixed when updating push rules which could result in <code>database is locked</code> on SQLite</li>
</ul>
<p>As always, please feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for more related discussion.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="smalltalk-website">SmallTalk (<a href="https://github.com/ouchadam/small-talk">website</a>)</h3>
<p>Minimal Android messenger powered by Matrix</p>
<p><a href="https://matrix.to/#/@adam:iswell.cool">adam</a> reports</p>
<blockquote>
<p><em>A lightweight Android matrix client, focused on family and friends messaging.</em></p>
<p>It's been a while since the last TWIM update, development is still progressing and the app is still small (1.84mb~ when delivered via app bundle)!</p>
<p>Some of the bigger recent highlights -</p>
<ul>
<li><a href="https://material.io/blog/announcing-material-you">Material You</a> theme</li>
<li>Notifications overhaul - adding support for <a href="https://unifiedpush.org/">UnifiedPush</a>, consistent ping rules and a first pass at invitations.</li>
<li>Attaching or sharing images.</li>
<li>A FOSS variant hosted on <a href="https://apt.izzysoft.de/fdroid/index/apk/app.dapk.st">IzzySoft's F-Droid repository</a>.</li>
<li>Automatic Monday &amp; Thursday release trains.</li>
<li>A separate repository for <a href="https://github.com/ouchadam/small-talk-features">feature requests</a></li>
</ul>
<p>There's still a few big features missing like room history, verification and a form of markdown support but if you're feeling brave SmallTalk is in the <em>it's kinda usable</em> phase, links below for trying it out!</p>
<p>| <a href="https://play.google.com/apps/testing/app.dapk.st">Google Play Beta</a> | <a href="https://apt.izzysoft.de/fdroid/index/apk/app.dapk.st">F-Droid via IzzySoft</a> | <a href="https://github.com/ouchadam/small-talk">Repository</a> | <a href="https://app.element.io/#/room/#small-talk:iswell.cool">Matrix room</a> |</p>
</blockquote>
<h3 id="quadrix-website">Quadrix (<a href="https://github.com/alariej/quadrix">website</a>)</h3>
<p>A Minimal, simple, multi-platform chat client for the Matrix protocol.</p>
<p><a href="https://matrix.to/#/@alariej:matrix.org">JFA</a> reports</p>
<blockquote>
<p>Quadrix v1.3.6 has been released and is available for mobiles and desktops in the respective app stores (the iOS version is still awaiting approval).</p>
<p>The release brings bug fixes, &quot;under the hood&quot; improvements, with upgrades to React 18 and React-Native 0.70, and also two new features:</p>
<ol>
<li>A floating &quot;Send&quot; button just above the virtual keyboard on mobile devices, useful especially on larger phones.</li>
<li>An information button on the main screen, for now only used to inform users that a new app version is available.</li>
</ol>
<p>Please leave feedback/comments at <a href="https://matrix.to/#/#quadrix:matrix.org">#quadrix:matrix.org</a> or in the issues at <a href="https://github.com/alariej/quadrix">https://github.com/alariej/quadrix</a> (stars welcome :-)</p>
</blockquote>
<h3 id="nheko-website">Nheko (<a href="https://nheko-reborn.github.io">website</a>)</h3>
<p>Desktop client for Matrix using Qt and C++17.</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> reports</p>
<blockquote>
<p>Nheko version 0.10.2 is out now.</p>
<p><strong>This is a security release!</strong></p>
<p>A malicious homeserver could intercept the secrets requests after a verification or when clicking the button for it in the settings and poison the cached secrets in Nheko. This could in theory be used to mark some devices as cross-signed over federation that weren't or to attack the online key backup as such this is fairly high severity.</p>
<p>To protect against this update to 0.10.2 or don't do any verifications of your own devices while on a vulnerable version (and don't hit the request buttons in the settings).</p>
<p>Thanks goes out to the matrix.org team for disclosing this!</p>
</blockquote>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> announces</p>
<blockquote>
<p>As mentionedin the security update earlier, we had a small security release on Wednesday. As part of that we requested our first CVE. While security issues are never something you want to have, this still feels like a major milestone for Nheko. It is certainly not something I even imagined when I started contributing to Nheko and yet here we are. I'd like to thank everyone who made this security release as seamless as it was and I appreciate that all of you were as understanding as you were! I certainly don't take that for granted! But now on to some more fun stuff:</p>
<p>Nheko now has crude support for threading. This means you can start and participate in a thread and replies automatically land in a thread by default. Threads are also now marked in the timeline. Noticeably are ways to filter down the timeline to a specific thread, which will be added at a later date. This now makes Nheko technically implement all new features of Matrix 1.4 in some way or another.</p>
<p>Nheko now also allows you to edit permissions in a community and all the rooms in the community at once as long as you have permission to do so. This should make managing larger communities much easier. As part of that we now also try to handle rate limits more gracefully.</p>
<p>We also upgraded our codebase to some subset of C++20. The major blocker there is Apple, who only implements a very tiny subset of C++20 features at this time (even though they default to C++23...). As part of that we also made our Apple codesigning much more robust and widened our build testing matrix.</p>
</blockquote>
<h3 id="fractal-website">Fractal (<a href="https://gitlab.gnome.org/GNOME/fractal">website</a>)</h3>
<p>Matrix messaging app for GNOME written in Rust.</p>
<p><a href="https://matrix.to/#/@jsparber:gnome.org">Julian Sparber</a> announces</p>
<blockquote>
<p>This week we tagged Fractal as 5.alpha1. This is our first release since Fractal has been rewritten to take advantage of GTK 4 and the Matrix Rust SDK. It is the result of eighteen months of work.
Currently supported features are:</p>
<ul>
<li>Sending and receiving messages and files</li>
<li>Sending files via Drag-n-Drop and pasting in the message entry</li>
<li>Rendering of rich formatted (HTML) messages, as well as media</li>
<li>Displaying edited messages, redacting messages</li>
<li>Showing and adding reactions</li>
<li>Tab completion of user names</li>
<li>Sending and displaying replies</li>
<li>Sharing the current location</li>
<li>Exploring the room directory</li>
<li>Sorting the rooms by category</li>
<li>Joining rooms</li>
<li>Sending and accepting invitations</li>
<li>Logging into multiple accounts at once</li>
<li>Logging in with Single-Sign On</li>
<li>Sending and reading encrypted messages</li>
<li>Verifying user sessions using cross-signing</li>
<li>Exporting and importing encryption keys</li>
<li>Managing the connected devices</li>
<li>Changing the user profile details</li>
<li>Deactivating the account</li>
</ul>
<p>Major missing features are:</p>
<ul>
<li>Notifications</li>
<li>Read markers</li>
</ul>
<p>As the name implies, this is still considered alpha stage and is not ready for general use just yet. If you want to give this development version a try, you can get it from the <a href="https://wiki.gnome.org/Apps/Nightly">GNOME Apps Nightly flatpak repository</a>.
A list of known issues and missing features for a 5.0 release can be found in the <a href="https://gitlab.gnome.org/GNOME/fractal/-/milestones/18">Fractal v5 milestone</a> on Gitlab.</p>
<p>We also published a blogpost about the security quick scan performed by Radically Open Security as part of the NLnet grant <a href="https://blogs.gnome.org/jsparber/2022/09/27/fractal-security-audit/">https://blogs.gnome.org/jsparber/2022/09/27/fractal-security-audit/</a></p>
<p><img src="/blog/2022/09/30/this-week-in-matrix-2022-09-30/3a48fa5b0fd4b0e1f67fdf5dd8c51c683a6b7573.png" alt="" /></p>
<p><img src="/blog/2022/09/30/this-week-in-matrix-2022-09-30/fractal-sessions.png" alt="" /></p>
</blockquote>
<h3 id="ement-el-website">Ement.el (<a href="https://github.com/alphapapa/ement.el">website</a>)</h3>
<p>Matrix client for Emacs</p>
<p><a href="https://matrix.to/#/@alphapapa:matrix.org">alphapapa</a> says</p>
<blockquote>
<p><a href="https://github.com/alphapapa/ement.el">Ement.el</a>, a Matrix client for <a href="https://www.gnu.org/software/emacs/">GNU Emacs</a>, has been updated to version 0.3.  It can be installed directly from <a href="https://elpa.gnu.org/packages/ement.html">GNU ELPA</a> with the command <code>M-x package-install RET ement RET</code>.</p>
<p>Since the last announcement on TWIM, the following improvements have been made.  The most notable is the addition of the <code>ement-directory</code> commands that allow listing and searching public room directories.</p>
<p><em>Additions</em></p>
<ul>
<li>Command <code>ement-directory</code> shows a server's room directory.</li>
<li>Command <code>ement-directory-search</code> searches a server's room directory.</li>
<li>Command <code>ement-directory-next</code> fetches the next batch of rooms in a directory.</li>
<li>Command <code>ement-leave-room</code> accepts a <code>FORCE-P</code> argument (interactively, with prefix) to leave a room without prompting.</li>
<li>Command <code>ement-forget-room</code> accepts a <code>FORCE-P</code> argument (interactively, with prefix) to also leave the room, and to forget it without prompting.</li>
<li>Option <code>ement-notify-mark-frame-urgent-predicates</code> marks the frame as urgent when (by default) a message mentions the local user or &quot;@room&quot; and the message's room has an open buffer.</li>
</ul>
<p><em>Changes</em></p>
<ul>
<li>Read receipts are re-enabled.</li>
<li>When determining whether a room is considered unread, non-message events like membership changes, reactions, etc. are ignored.  This fixes a bug that caused certain rooms that had no message events (like some bridged rooms) to appear as unread when they shouldn't have.</li>
<li>The <code>ement-taxy-room-list</code> view no longer automatically refreshes the list if the region is active in the buffer.  (This allows the user to operate on multiple rooms without the contents of the buffer changing before completing the process.)</li>
<li>Minor improvements to date/time headers.</li>
</ul>
<p><em>Fixes</em></p>
<ul>
<li>Links to only rooms (as opposed to links to events in rooms) may be activated to join them.</li>
<li>Read receipts mark the last completely visible event (rather than one that's only partially displayed).</li>
<li>Prevent error when a room avatar image fails to load.</li>
<li>Info manual export filename.</li>
<li>Command <code>ement-describe-room</code> for rooms without topics.</li>
<li>Improve insertion of old messages around existing timestamp headers.</li>
<li>Reduce D-Bus notification system check timeout to 2 seconds (from the default of 25).</li>
<li>Compatibility with Emacs 27.</li>
</ul>
</blockquote>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> reports</p>
<blockquote>
<ul>
<li>We‚Äôve released a security update this week, <a href="https://element.io/blog/important-security-update/">more info here</a>. Please make sure to upgrade.</li>
<li>Now you can create and join new Element Call powered rooms! Element Call rooms are available on <a href="http://develop.element.io/">develop.element.io</a> so be sure to check it out.
<ul>
<li>Head to; Settings ‚Üí Labs ‚Üí Enable Video Rooms Beta, and then enable Element Call video rooms.</li>
</ul>
</li>
<li>We‚Äôre progressing on a new WYSIWYG composer. You‚Äôll be able to avoid markdown (if you want) to craft and preview messages before sending them.</li>
<li>Updates are being made on the new device manager, including the ability to rename sessions. The whole thing‚Äôs is a lot simpler</li>
<li>There‚Äôs also a fix for the missing dot on the notification panel. The bell in the top right should now let you know if you have something new. üîî</li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@stefan.ceriu:matrix.org">»òtefan</a> says</p>
<blockquote>
<ul>
<li>We‚Äôve released a security update this week, more info <a href="https://element.io/blog/important-security-update/">here</a>. Please make sure to upgrade.</li>
<li>There‚Äôs been several other bug fixes in iOS this week, including:
<ul>
<li>Fixed the flashing spinner when trying to view media attachments</li>
<li>Fixed crash on iPad when you click sign out or invite to element</li>
</ul>
</li>
<li>We‚Äôve started hearing that performance of the iOS is decreasing - research has started and we‚Äôll be doing what we can!</li>
</ul>
</blockquote>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> says</p>
<blockquote>
<ul>
<li>We‚Äôve released a security update this week, more info here. Please make sure to upgrade.</li>
<li>There‚Äôs exciting work happening on deferring DM creation until the first message is sent. </li>
<li>Also, improvements have been made to the new app layout. It‚Äôs available in Labs today but will be the default from the next release so be sure to check it out and let us know what you think?</li>
</ul>
</blockquote>
<h3 id="element-website">Element (<a href="https://element.io">website</a>)</h3>
<p>Everything related to Element but not strictly bound to a client</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> announces</p>
<blockquote>
<p>There have been security releases across our platforms this week; please make sure to upgrade to the following versions:</p>
<ul>
<li>Element Web/Desktop 1.11.8 or later</li>
<li>Element Android 1.5.1 or later</li>
<li>Element iOS 1.9.7 or later</li>
</ul>
<p>The upgrades resolve two critical severity vulnerabilities in end-to-end encryption found in the SDKs which power Element, Beeper, Cinny, SchildiChat, Circuli, Synod.im and any other clients based on matrix-js-sdk, matrix-ios-sdk or matrix-android-sdk2.</p>
<p>The issues are fixed by the upgrades. Neither Element or Matrix have seen any evidence of them being exploited in the wild.</p>
<p>For the full background on the update, visit the <a href="https://matrix.org/blog/2022/09/28/upgrade-now-to-address-encryption-vulns-in-matrix-sdks-and-clients">Matrix blog post.</a></p>
</blockquote>
<h3 id="cinny-website">Cinny (<a href="https://cinny.in">website</a>)</h3>
<p>Cinny is a Matrix client focused on simplicity, elegance and security</p>
<p><a href="https://matrix.to/#/@kfiven:matrix.org">Lozenge</a> announces</p>
<blockquote>
<p>Cinny v2.2.2
*-----------</p>
<p>In <a href="https://github.com/cinnyapp/cinny/releases/tag/v2.2.2">this release</a> we have bumped <code>matrix-js-sdk</code> to v20.0.0 as being a user of SDK, Cinny was affected with vulnerabilities found in it. So please make sure you are using Cinny <strong>v2.2.2 or higher</strong>.</p>
<p>Apart from that, this release also fixes some issues with markdown, crash on leaving space, and improves <code>View source</code> of events.</p>
<p>Since we are talking about vulnerabilities, since v2 we have also taken <strong>zero vulnerable dependency approach</strong> and reduced vulnerable npm packages from 18 to just 3. We are working on 3 as well but good thing is that they are just dev dependencies so production builds doesn't include them.</p>
<p>Lastly, if you like you know more about Cinny, join our Matrix space: <a href="https://matrix.to/#/#cinny-space:matrix.org">https://matrix.to/#/#cinny-space:matrix.org</a> or see: <a href="https://cinny.in">https://cinny.in</a></p>
</blockquote>
<h2 id="dept-of-non-chat-clients-control-knobs">Dept of Non Chat Clients üéõÔ∏è</h2>
<h3 id="thirdroom-website">Thirdroom (<a href="https://github.com/matrix-org/thirdroom">website</a>)</h3>
<p>A browser-based open metaverse client</p>
<p><a href="https://matrix.to/#/@arobertlong:matrix.org">Robert Long</a> says</p>
<blockquote>
<p>Hey everyone! We just launched Third Room Tech Preview 1! 3D decentralized virtual worlds built on Matrix! Go check it out: <a href="https://thirdroom.io">https://thirdroom.io</a></p>
</blockquote>
<h2 id="dept-of-widgets">Dept of Widgets üß©</h2>
<h3 id="matrix-widget-api">matrix-widget-api</h3>
<p><a href="https://matrix.to/#/@dhenneke:matrix.org">Dominik Henneke</a> reports</p>
<blockquote>
<p>We from <a href="https://nordeck.net/">Nordeck</a> added support for <a href="https://github.com/matrix-org/matrix-widget-api/pull/72">retrieving related events</a> in Widgets into the matrix-widget-api over the last weeks. With the existing APIs we could not reliable read all the data from the room, as the room timeline is lazily loaded in Element. To learn more about the issue, have a look at the related <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3869">MSC</a>. With this weeks <a href="https://github.com/vector-im/element-web/releases/tag/v1.11.6">Element release 1.11.6</a> this feature has now landed. The change improves using the room as a data storage for Matrix Widgets, which allows us to build cool tools. We keep you updated when we publish our widgets as Open Source.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="matrix-rust-sdk-website">matrix-rust-sdk (<a href="https://github.com/matrix-org/matrix-rust-sdk">website</a>)</h3>
<p>Next-gen crypto-included SDK for developing Clients, Bots and Appservices; written in Rust with bindings for Node, Swift and WASM</p>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> reports</p>
<blockquote>
<p>The Matrix Rust SDK team is proud to announce, that <a href="https://github.com/matrix-org/matrix-rust-sdk/releases/tag/matrix-sdk-0.6.0">we've released a new version of the SDK</a> to the public: You can get the latest <a href="https://crates.io/crates/matrix-sdk/0.6.0"><code>matrix-sdk 0.6.0</code> (and its subcrates) on crates.io</a> since Wednesday, <a href="https://www.npmjs.com/package/@matrix-org/matrix-sdk-crypto-nodejs">matrix-sdk-crypto-nodejs 0.1.0-beta.2 via npm</a> since Thursday. Please note that this is a breaking release, with a quite few public API changes, that will probably break your build if you don't change your code for that. You can find broad list and a troubleshooting guide, helping you adapt your code to common errors you'll see <a href="https://github.com/matrix-org/matrix-rust-sdk/blob/530f8057cc6622ec5ecb09fc88d50112a4855d47/UPGRADING-0.5-to-0.6.md">in the Upgrade Guide</a> provided. This also marks the first release, we have <code>sliding-sync</code> available behind a feature-flag for testing (note, that it doesn't yet support extensions for to-device messages or E2EE)If you are using latest <code>main</code>, be aware that most deprecated functions are going to be removed soon, as well as the previous <code>experimental-timeline</code>, which will be replaced <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/940">by the next generation</a>.</p>
<p>As you can imagine the release preparation and <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/1070">last</a> <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/1071">minute</a> <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/1062">fixes</a> to bugs have been the main focus for the team that last two weeks. Most notably, we have <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/1066">fixed a nasty deserialization bug</a> in encrypted to-device messages we found while experimenting with the [upcoming sliding sync extensions] and had to <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/1061">revert the changes to have join and leave return full room-types</a> as that caused internal state inconsistencies, which we have to rework our architecture for to support proper.</p>
<p>Ô∏è Wanna hack on matrix rust? Go check out our <a href="https://github.com/matrix-org/matrix-rust-sdk/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22"><code>help wanted</code> tagged issues</a> and join our matrix channel at Matrix Rust SDK.</p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞Ô∏è</h2>
<h3 id="other-clients-october">Other Clients October</h3>
<p><a href="https://matrix.to/#/@asbjorn:olli.ng">Asbj√∏rn</a> says</p>
<blockquote>
<p>I'd like to propose a community event. It's about exploring Matrix clients.</p>
<p>The concept is simple: For the month of October, only use Matrix clients that you don't normally use.</p>
<p>I have gotten stuck in my ways - using the same Matrix client for years on end.
When I was at the Matrix Community Summit in Berlin, I discovered that there are actually many mature clients, with distinct differences and advantages.
So, in order to break up my habits a little, I'm going to force myself to not use my daily-driver client for the month of October.</p>
<p>I hope some of you want to join me! To that end, I set up a room for this project, to share our discoveries and frustrations, and compare experiences.</p>
<p>Join the room here: <a href="https://matrix.to/#/%23other-clients-october:olli.ng">#other-clients-october:olli.ng</a></p>
</blockquote>
<h2 id="dept-of-guides">Dept of Guides üß≠</h2>
<p><a href="https://matrix.to/#/@ptman:kapsi.fi">Paul</a> reports</p>
<blockquote>
<p>I wrote a small <a href="https://paul.totterman.name/posts/matrix-menu-bot/">blog post</a> about a <a href="https://gitlab.com/ptman/matrix-menu-bot">bot</a> that demonstrates the use of polls as menu-driven bot interaction. DM @menubot:matrix.org to test</p>
</blockquote>
<h2 id="dept-of-ping">Dept of Ping</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server.</p>
<h3 id="ping-maunium-net"><a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">nognu.de</td><td style="text-align: center">485</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">envs.net</td><td style="text-align: center">510</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">kittenface.studio</td><td style="text-align: center">880.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">rom4nik.pl</td><td style="text-align: center">1156.5</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">matrix.tdstoragebay.com</td><td style="text-align: center">1314</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">mindlesstux.com</td><td style="text-align: center">1460.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">t2bot.io</td><td style="text-align: center">1509.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">jeroenhd.nl</td><td style="text-align: center">1964</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">utzutzutz.net</td><td style="text-align: center">2009</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">matrix.netho.tk</td><td style="text-align: center">2780</td></tr>
</tbody></table>
<h3 id="ping-no-synapse-maunium-net"><a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">dendrite.matrix.org</td><td style="text-align: center">220.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">matrix.awesomesheep48.me</td><td style="text-align: center">225.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">joeth.uk</td><td style="text-align: center">230</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">conduit.hazmat.jacksonchen666.com</td><td style="text-align: center">258.5</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">kumma.juttu.asia</td><td style="text-align: center">306.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">dendrite.s3cr3t.me</td><td style="text-align: center">950.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know">That's all I know</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

            
        </div>
        <div class="article_linebreak"></div>
    </article>
    
    <article class="content">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;29&#x2F;matrix-v-1-4-release&#x2F;" title="Matrix v1.4 release">Matrix v1.4 release</a></h1>
            <span>29.09.2022 13:30 ‚Äî <a
                    href="/category/releases">Releases</a>
                 ‚Äî <a href="/author/travis-ralston">Travis Ralston</a>
            </span>
            
        </header>
        <div class="post">
            
            <p>
Hey all,
</p>
<p>
It‚Äôs finally here: <a href="https://spec.matrix.org/v1.4/client-server-api/#threading">threads</a>, <a href="https://spec.matrix.org/v1.4/client-server-api/#event-replacements">edits</a>, and <a href="https://spec.matrix.org/v1.4/client-server-api/#private-read-receipts">private read receipts</a>. v1.4 has been a little later than usual in the quarter because we wanted to make sure we nailed down all the core MSCs for threads before publishing the spec itself, but we‚Äôve done that now and we‚Äôre excited about it.
</p>
<p>
Matrix 1.3 was <a href="https://matrix.org/blog/2022/06/16/matrix-v-1-3-release">just over 3 months ago</a>, though with the relatively large features there and the colossal implementation effort of v1.4 we‚Äôre not expecting everyone to have implementations on day 1. Instead, as with all spec releases, we encourage implementations to gradually update over the next few months. We‚Äôre additionally planning to make v1.5 (Q4 2022) more of a maintenance update to help make the backlog a bit easier on everyone, though we might prioritize a couple cool features in there too :)
</p>
<p>
Matrix 1.4 sees 14 MSCs get merged, but we can‚Äôt possibly go into detail on them all here. We‚Äôve instead focused on the 3 major features we‚Äôre excited about - check out the changelog at the end for the full picture.
</p>
<h2>üßµ Threads</h2>
<p>
<a href="https://spec.matrix.org/v1.4/client-server-api/#threading">Threads</a>, a critical feature in terms of parity with other chat systems, have landed thanks to a whopping 6 MSCs: <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3440">MSC3440</a>, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3816">MSC3816</a>, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3856">MSC3856</a>, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3715">MSC3715</a>, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3771">MSC3771</a>, and <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3773">MSC3773</a>. It‚Äôs been a lot of iteration on the reference implementations to get threads this far, and we‚Äôre excited to see how the client implementations evolve to provide more structured and less noisy communication for everyone - keep us updated with <a href="https://matrix.org/blog/category/this-week-in-matrix">TWIM</a> posts, please!
</p>
<p>
Threads have involved changes to event relationships (which were <a href="https://matrix.org/blog/2022/06/16/matrix-v-1-3-release#aggregations-and-the-relationships-made-along-the-way">fixed in v1.3</a>), read receipts, and notification counts, resulting in several different models and ways of solving the problem. We think we‚Äôve reached a point that works for conversational threads, though there‚Äôs work on the horizon for threads-only rooms, Twitter-style free-form threads, etc to cover more needs of users.
</p>
<p>
Currently, the demonstration implementation of threads in Synapse and Element is working its way out of the proof-of-concept and beta stages (which were sufficient to validate the MSCs) and are on their way to exiting beta. Keep an eye on the respective blogs for news about production-ready threads!
</p>
<h2>üìù Edits</h2>
<p>
Similar to reactions, err, <em><a href="https://matrix.org/blog/2022/06/16/matrix-v-1-3-release#aggregations-and-the-relationships-made-along-the-way">aggregations</a></em>, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2676">MSC2676</a> and its predecessors have been around for a long while. Edits have existed in the Element clients seemingly forever, and other clients have had troubles trying to implement the same feature: with it now in the spec, it should be a lot easier to bring edits into clients.
</p>
<p>
For edits, we‚Äôve taken the route of making the MSC match reality, for better or worse. MSCs which improve or add functionality to the system are very much welcome - <a href="https://spec.matrix.org/proposals/">writing an MSC</a> is relatively easy and helps the whole community.
</p>
<h2>üë• Private read receipts</h2>
<p>
Not everyone wants to broadcast that they‚Äôve read a message, but also with read receipts tied into notifications those same people also probably don‚Äôt want stuck notifications. To address the problem, we‚Äôve added a new <a href="https://spec.matrix.org/v1.4/client-server-api/#private-read-receipts">m.read.private receipt type</a> which behaves exactly like m.read, but is only visible to you.
</p>
<p>
We still have a rework of the notifications system in our long-term plan, but this should hopefully cover the privacy concerns for the time being :)
</p>
<h2>The full changelog</h2>
<p>
MSCs are how the spec changes in the way it does - adding, fixing, and maintaining features for the whole ecosystem to use. The blog post can‚Äôt cover them all, but that doesn‚Äôt make them any less important! Check out the full changelog below, and the <a href="https://spec.matrix.org/proposals/">Spec Change Proposals</a> page for more information on how these MSCs got merged (hint: they submitted a proposal, which anyone can do - take a look at the <a href="https://www.youtube.com/watch?v=SFkZz60RRfc">Matrix Live episode</a> where Matthew covers the proposal process).
</p>
<h3 id="client-server-api">Client-Server API</h3>
<p><strong>Removed Endpoints</strong></p>
<ul>
<li>Remove unused policy room sharing mechanism, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3844">MSC3844</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1196">#1196</a>)</li>
</ul>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add a <code>.m.rule.room.server_acl</code> push rule to match <code>m.room.server_acl</code> events, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3786">MSC3786</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1190">#1190</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1201">#1201</a>)</li>
<li>Add <code>Cross-Origin-Resource-Policy</code> (CORP) headers to media repository, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3828">MSC3828</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1197">#1197</a>)</li>
<li>Copy a room's <code>type</code> when upgrading it, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3818">MSC3818</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1198">#1198</a>)</li>
<li>Add <code>room_types</code> filter and <code>room_type</code> response to <code>/publicRooms</code>, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3827</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1199">#1199</a>)</li>
<li>Add <code>m.replace</code> relations (event edits), as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2676">MSC2676</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1211">#1211</a>)</li>
<li>Add <code>m.read.private</code> receipts, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2285">MSC2285</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1216">#1216</a>)</li>
<li>Make <code>m.fully_read</code> optional on <code>/read_markers</code>, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2285">MSC2285</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1216">#1216</a>)</li>
<li>Allow <code>m.fully_read</code> markers to be set from <code>/receipts</code>, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2285">MSC2285</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1216">#1216</a>)</li>
<li>Add threading via <code>m.thread</code> relations, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3440">MSC3440</a>, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3816">MSC3816</a>, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3856">MSC3856</a>, and <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3715">MSC3715</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1254">#1254</a>)</li>
<li>Add per-thread notifications and read receipts, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3771">MSC3771</a> and <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3773">MSC3773</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1255">#1255</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Mention that the <code>/rooms/{roomId}/invite</code> endpoint will return a 200 response if the user is already invited to the room. (<a href="https://github.com/matrix-org/matrix-spec/issues/1084">#1084</a>)</li>
<li>Fix various typos throughout the specification. (<a href="https://github.com/matrix-org/matrix-spec/issues/1135">#1135</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1161">#1161</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1164">#1164</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1170">#1170</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1180">#1180</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1215">#1215</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1238">#1238</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1243">#1243</a>)</li>
<li>Describe return codes for account data endpoints, and clarify that per-room data does not inherit from the global data. (<a href="https://github.com/matrix-org/matrix-spec/issues/1155">#1155</a>)</li>
<li>Clarify that policy rule globs work like ACL globs. Contributed by Nico. (<a href="https://github.com/matrix-org/matrix-spec/issues/1165">#1165</a>)</li>
<li>Clarify the format of some structures in the End-to-end encryption module. (<a href="https://github.com/matrix-org/matrix-spec/issues/1166">#1166</a>)</li>
<li>Add HTML anchors for object definitions in the formatted specification. (<a href="https://github.com/matrix-org/matrix-spec/issues/1174">#1174</a>)</li>
<li>Tweak the styling of <code>&lt;code&gt;</code> snippets in tables rendered from OpenAPI definitions. (<a href="https://github.com/matrix-org/matrix-spec/issues/1179">#1179</a>)</li>
<li>Update &quot;API Standards&quot; section to clarify how JSON is used. (<a href="https://github.com/matrix-org/matrix-spec/issues/1185">#1185</a>)</li>
<li>Clarify that the &quot;device_id&quot;, &quot;user_id&quot; and &quot;access_token&quot; fields are required in the response body of <code>POST /_matrix/client/v3/login</code>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1210">#1210</a>)</li>
<li>Reinforce the relationship of refreshed access tokens to transaction IDs. (<a href="https://github.com/matrix-org/matrix-spec/issues/1236">#1236</a>)</li>
<li>Clarify enum values by separating possible values with commas. (<a href="https://github.com/matrix-org/matrix-spec/issues/1240">#1240</a>)</li>
</ul>
<h3 id="server-server-api">Server-Server API</h3>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add per-thread notifications and read receipts, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3771">MSC3771</a> and <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3773">MSC3773</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1255">#1255</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Add HTML anchors for object definitions in the formatted specification. (<a href="https://github.com/matrix-org/matrix-spec/issues/1174">#1174</a>)</li>
<li>Tweak the styling of <code>&lt;code&gt;</code> snippets in tables rendered from OpenAPI definitions. (<a href="https://github.com/matrix-org/matrix-spec/issues/1179">#1179</a>)</li>
<li>Update &quot;API Standards&quot; section to clarify how JSON is used. (<a href="https://github.com/matrix-org/matrix-spec/issues/1185">#1185</a>)</li>
</ul>
<h3 id="application-service-api">Application Service API</h3>
<p><strong>Breaking Changes</strong></p>
<ul>
<li>Replace homeserver authorization approach with an <code>Authorization</code> header instead of <code>access_token</code> when talking to the application service, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2832">MSC2832</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1200">#1200</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Add HTML anchors for object definitions in the formatted specification. (<a href="https://github.com/matrix-org/matrix-spec/issues/1174">#1174</a>)</li>
</ul>
<h3 id="identity-service-api">Identity Service API</h3>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Add HTML anchors for object definitions in the formatted specification. (<a href="https://github.com/matrix-org/matrix-spec/issues/1174">#1174</a>)</li>
<li>Update &quot;API Standards&quot; section to clarify how JSON is used. (<a href="https://github.com/matrix-org/matrix-spec/issues/1185">#1185</a>)</li>
</ul>
<h3 id="push-gateway-api">Push Gateway API</h3>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Add HTML anchors for object definitions in the formatted specification. (<a href="https://github.com/matrix-org/matrix-spec/issues/1174">#1174</a>)</li>
</ul>
<h3 id="room-versions">Room Versions</h3>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>For room versions 1 through 10, clarify that events with rejected <code>auth_events</code> must be rejected. (<a href="https://github.com/matrix-org/matrix-spec/issues/1137">#1137</a>)</li>
<li>For room versions 2‚Äì10: correct a mistaken clarification to the state resolution algorithm. (<a href="https://github.com/matrix-org/matrix-spec/issues/1158">#1158</a>)</li>
<li>For room versions 7 through 10: Clarify that <code>invite-&gt;knock</code> is actually a legal transition. (<a href="https://github.com/matrix-org/matrix-spec/issues/1175">#1175</a>)</li>
</ul>
<h3 id="appendices">Appendices</h3>
<p>No significant changes.</p>
<h3 id="internal-changes-tooling">Internal Changes/Tooling</h3>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add internal changes changelog section. (<a href="https://github.com/matrix-org/matrix-spec/issues/1194">#1194</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Render HTML anchors for object definition tables. (<a href="https://github.com/matrix-org/matrix-spec/issues/1191">#1191</a>)</li>
<li>Give rendered-data sections a background and some padding. (<a href="https://github.com/matrix-org/matrix-spec/issues/1195">#1195</a>)</li>
<li>Fix rendering of shortcodes within the client-server API. (<a href="https://github.com/matrix-org/matrix-spec/issues/1205">#1205</a>)</li>
<li>Fix the spacing of mapping types generated from the OpenAPI spec. (<a href="https://github.com/matrix-org/matrix-spec/issues/1230">#1230</a>)</li>
</ul>

            
        </div>
        <div class="article_linebreak"></div>
    </article>
    
    <article class="content">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;28&#x2F;upgrade-now-to-address-encryption-vulns-in-matrix-sdks-and-clients&#x2F;" title="Upgrade now to address E2EE vulnerabilities in matrix-js-sdk, matrix-ios-sdk and matrix-android-sdk2">Upgrade now to address E2EE vulnerabilities in matrix-js-sdk, matrix-ios-sdk and matrix-android-sdk2</a></h1>
            <span>28.09.2022 15:41 ‚Äî <a
                    href="/category/security">Security</a>
                 ‚Äî <a href="/author/matthew-hodgson">Matthew Hodgson</a>
            </span>
            
        </header>
        <div class="post">
            
            <p><strong>TL;DR:</strong></p>
<ul>
<li>Two critical severity vulnerabilities in end-to-end encryption were found in
the SDKs which power Element, Beeper, Cinny, SchildiChat, Circuli, Synod.im
and any other clients based on matrix-js-sdk, matrix-ios-sdk or
matrix-android-sdk2.</li>
<li>These have now been fixed, and we have not seen evidence of them being
exploited in the wild. All of the critical vulnerabilities require
cooperation from a malicious homeserver to be exploited.</li>
<li><strong>Please upgrade immediately in order to be protected against these
vulnerabilities.</strong></li>
<li>Clients with other encryption implementations (including Hydrogen, ElementX,
Nheko, FluffyChat, Syphon, Timmy, Gomuks and Pantalaimon) are not affected;
<strong>this is not a protocol bug</strong>.</li>
<li>We take the security of our end-to-end encryption extremely seriously, and we
have an ongoing series of public independent audits booked to help guard
against future vulnerabilities.  We will also be making some protocol changes
in the future to provide additional layers of protection.</li>
<li>This resolves the <a href="https://matrix.org/blog/2022/09/23/pre-disclosure-upcoming-critical-security-release-of-matrix-sd-ks-and-clients">pre-disclosure</a> issued on September 23rd.</li>
</ul>
<p>Hi all,</p>
<p>Recently we have been hard at work investigating some subtle security
vulnerabilities in certain implementations of Matrix's end-to-end encryption
which were responsibly disclosed to us by researchers at Royal Holloway
University London, University of Sheffield and Brave Software. Two of these
vulnerabilities are critical severity, in that they could allow malicious
server admins to attack their users, and are implementation bugs in clients
using matrix-js-sdk (e.g. Element Web) or implementations derived from
matrix-js-sdk, rather than protocol flaws. matrix-rust-sdk (and other 2nd/3rd
generation SDKs) are not affected by these.  These vulnerabilities are fixed in
today's release, and we are not aware of them having been exploited in the
wild.</p>
<p><strong>If you're using Element or an application that shares the same SDKs (Beeper,
Cinny, SchildiChat, Circuli, Synod.im) then please upgrade now. Do not perform
verification with new devices until you have upgraded.</strong></p>
<p>We'd like to thank the security researchers for investing significant time and
effort into doing a deep dive to find these issues, and thus contributing
materially to making Matrix more secure for the whole ecosystem.  Despite our
best efforts, there is always a risk of security issues in software, and we're
very glad to have identified and fixed these issues while also taking the
opportunity to improve our vulnerability disclosure and coordinated upgrade
process.</p>
<p>Please note that the critical severity issues are implementation issues in
matrix-js-sdk and derivatives, and are <strong>not</strong> protocol issues in Matrix. The
latest version of the researchers' paper that we've seen incorrectly presents
Element as 'the reference Matrix client', and confuses the higher severity
implementation bugs with lower severity protocol critique.  This is very
unfortunate, given Hydrogen, ElementX, Nheko, FluffyChat, Syphon, Timmy, Gomuks
and Pantalaimon and other independent implementations are not affected. In
fact, every client independently implemented using the Matrix spec seems to
have got it right, which speaks well of the protocol.  It's only the first
generation SDK (predating the spec) and its derivatives which had these bugs.</p>
<p>The two critical severity issues lead to three attack scenarios, all of which
are prevented by today's releases:</p>
<ul>
<li>
<p>&quot;<em>Key/Device Identifier Confusion in SAS Verification</em>&quot; ‚Äì A bug existed in
matrix-js-sdk where it confused together device IDs and cross-signing keys
(given under the hood, cross-signing keys are represented as devices). This
could be exploited by a malicious server admin to break emoji-based
verification when cross-signing is in use, authenticating themselves rather
than the target user being verified. This bug is only present in
matrix-js-sdk (not iOS or Android SDKs), tracked as a critical severity CVE:
CVE-2022-39250.</p>
</li>
<li>
<p>&quot;<em>Trusted Impersonation</em>&quot; ‚Äì matrix-js-sdk (and derived SDKs) suffered from
a protocol-confusion bug where it would incorrectly accept to-device messages
encrypted by Megolm rather than Olm, attributing them to the Megolm sender
rather than the actual sender. As a result, an attacker could fake the
trusted sender of to-device messages, allowing them to send fake to-device
messages to devices - e.g. fake keys to spoof historical messages from other
users.  This bug is tracked as a critical severity CVE: CVE-2022-39251
(matrix-js-sdk), CVE-2022-39255 (matrix-ios-sdk) and CVE-2022-39248
(matrix-android-sdk2).</p>
</li>
<li>
<p>&quot;<em>Malicious key backup</em>&quot; ‚Äì the above 'trusted impersonation' bug in
matrix-js-sdk (and derived SDKs) could be used by a malicious homeserver
admin to add a malicious key backup to the user's account under certain
unusual conditions in order to exfiltrate message keys. While we are not
aware of this being exploited in the wild, out of an abundance of caution we
recommend checking your key backup settings. If you are particularly paranoid
you may wish to reset your online key backup.  This doesn't have a separate
CVE, as the root cause is the same as &quot;Trusted Impersonation&quot;.</p>
</li>
</ul>
<p>Three lower priority issues were also identified by the researchers:</p>
<ul>
<li>
<p>&quot;<em>Semi-trusted Impersonation</em>&quot; ‚Äì matrix-js-sdk (and derived SDKs) accepted keys
forwarded by other users, even if your client didn't request them. As
a result, a malicious server admin could fake an encrypted message to look as
if it was sent from a given user on that server. However, impersonated
messages like this are clearly marked  by clients like Element with a clear
&quot;The authenticity of this encrypted message can't be guaranteed&quot; warning
‚Äì which is why we consider this low severity. That said, it's an avoidable
attack, and we've fixed this by ensuring that clients don't accept 'unsafe'
keys (with the exception of keys forwarded when you invite a user to an
existing conversation).  In future, in Olm/Megolm v2 we're also linking
key-sending events to the underlying recipient Olm identity to ensure that
keys cannot be misappropriated.  This issue is tracked as a moderate severity
CVE: CVE-2022-39249 (matrix-js-sdk), CVE-2022-39257 (matrix-ios-sdk) and
CVE-2022-39246 (matrix-android-sdk2).</p>
</li>
<li>
<p>&quot;<em>Homeserver Control of Room Membership</em>&quot; ‚Äì A malicious homeserver can fake
invites on behalf of its users to invite malicious users into their
conversations, or add malicious devices into its users accounts.  However,
when this happens, we clearly warn the user: if you have verified the users
you are talking to, the room and user will be shown with a big red cross to
mark if malicious devices have been added.  Similarly, if an unexpected user
is invited to a conversation, all users can clearly see and take evasive
action.  Therefore we consider this a low severity issue.  That said, this
behaviour can be improved, and we've started work on switching our trust
model to trust-on-first-use (so that new untrusted devices are proactively
excluded from conversations, even if you haven't explicitly verified their
owner) - and we're also looking to add cryptographic signatures to membership
events in E2EE rooms to stop impersonated invites.  These fixes will land
over the coming months.</p>
</li>
<li>
<p>&quot;<em>IND-CCA break</em>&quot; ‚Äì Matrix's usage of AES-CTR to encrypt attachments, secrets
and symmetric key backups is not &quot;IND-CCA2 secure&quot;, because it does not
include the AES initialisation vector within the hash used to secure the
payload from tampering. As a result, if an attacker could observe the result
of both a given encryption and a given decryption operation, it would be
possible to extract the encryption private key. However, this is a purely
theoretical attack as Matrix does not provide a way to mount the attack. In
the future, we will fix our use of AES-CTR to include the IV within the hash.</p>
</li>
</ul>
<p>We'd like to again thank Martin R. Albrecht and Dan Jones from the Information
Security Group at Royal Holloway University London, Benjamin Dowling from
Security of Advanced Systems Group, University of Sheffield and Sof√≠a Celi from
Brave Software for discovering these issues and responsibly disclosing them to
us, and then working with us to agree on an extended disclosure window given
the amount of work needed to verify and ship fixes throughout Matrix over the
course of the summer period.  We welcome any further formal security analysis
work, and hope that it will distinguish clearly between Matrix-the-protocol and
Matrix implementations like matrix-js-sdk, rather than conflating them. You can
read their full paper <a href="https://nebuchadnezzar-megolm.github.io/">here</a>.</p>
<p>We'd also like to thank all the downstream Element package maintainers,
downstream forks and other affected clients for working together under time
constraints for this coordinated release - your patience and understanding is
very much appreciated indeed.</p>
<p>Meanwhile, we are taking extreme measures to avoid future E2EE vulnerabilities.
You will notice that matrix-rust-sdk, hydrogen-sdk and other 2nd and 3rd
generation SDKs were not affected by the bugs at the root cause of the critical
issues here. This is <strong>precisely</strong> why we have been working on replacing the
first generation SDKs with a clean, carefully written Rust implementation in
the form of matrix-rust-sdk, complete with an ongoing independent public audit.</p>
<p>We started the process of auditing matrix-rust-sdk with the <a href="https://matrix.org/blog/2022/05/16/independent-public-audit-of-vodozemac-a-native-rust-reference-implementation-of-matrix-end-to-end-encryption">Least Authority
vodozemac audit in May</a>, and we have three more audits agreed
‚Äì covering matrix-rust-sdk-crypto, matrix-rust-sdk, and a whole reference
Matrix stack.  Ironically, the mitigation work for these vulnerabilities in the
legacy SDKs has severely impacted our timelines for finishing
matrix-rust-sdk-crypto work (in fact, we had to push back the Least Authority
audit of matrix-rust-sdk-crypto given the
<a href="https://github.com/matrix-org/matrix-rust-sdk/milestone/1">burndown</a> has not
progressed), but we will be shifting to the new audited codebase as rapidly as
we possibly can.</p>
<p>Over the coming months we will also introduce our first ever major version
update of Olm and Megolm, in order to fix the MAC truncation issue highlighted
in the <a href="https://matrix.org/media/Least%20Authority%20-%20Matrix%20vodozemac%20Final%20Audit%20Report.pdf">vodozemac audit</a> (Issue J), and reduce the risk of further
key-forwarding issues (as per the &quot;Semi-trusted Impersonation&quot; vulnerability
above). New conversations will default to using v2 of Olm/Megolm for security,
and existing conversations can be optionally upgraded (similar to a 'room
version' upgrade in Matrix today). We are also adding extensive end-to-end
testing using <a href="https://gitlab.com/polyjuice">Polyjuice</a> and <a href="https://github.com/matrix-org/trafficlight">Traffic
Light</a> to stress-test encryption
and improve reliability.</p>
<p>Finally, we will continue our research into layering Matrix over Messaging
Layer Security (MLS) - the IETF proposed standard for interoperable end-to-end
encrypted group messaging.  This work has been delayed by the mitigation
activity above, but otherwise it's making good progress and we're excited to
see how Decentralised MLS performs in reality against Olm+Megolm v2.</p>
<p>We'd like to apologise to the wider Matrix community for the inconvenience and
disruption of these issues, and thank you for your patience while we've
resolved them.</p>
<p>Matthew, Denis and the Matrix cryptography &amp; security teams.</p>

            
        </div>
        <div class="article_linebreak"></div>
    </article>
    
    <article class="content">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;27&#x2F;announcing-third-room-tech-preview-1&#x2F;" title="Announcing Third Room Tech Preview 1">Announcing Third Room Tech Preview 1</a></h1>
            <span>27.09.2022 14:34 ‚Äî <a
                    href="/category/releases">Releases</a>
                 ‚Äî <a href="/author/matthew-hodgson">Matthew Hodgson</a>
            </span>
            
        </header>
        <div class="post">
            
            <p>We're excited to announce the first tech preview of <a href="https://thirdroom.io/">Third Room</a>, an open, standards-based, decentralised vision of the metaverse for the open Web, built entirely on Matrix‚Ä¶ without cryptocurrencies, NFTs or walled gardens.</p>
<p>To see what it's all about, head over to <a href="https://thirdroom.io/preview">https://thirdroom.io/preview</a> - or come chat in <a href="https://matrix.to/#/#thirdroom-dev:matrix.org">#thirdroom-dev:matrix.org</a> to learn more!</p>
<iframe src="https://www.youtube.com/embed/skC5TYRAgKE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

            
        </div>
        <div class="article_linebreak"></div>
    </article>
    
    <article class="content">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;27&#x2F;synapse-1-68-released&#x2F;" title="Synapse 1.68 released">Synapse 1.68 released</a></h1>
            <span>27.09.2022 14:34 ‚Äî <a
                    href="/category/releases">Releases</a>
                 ‚Äî <a href="/author/brendan-abolivier">Brendan Abolivier</a>
            </span>
            
        </header>
        <div class="post">
            
            <p>Hey everyone, it's time for a new Synapse release! <a href="https://github.com/matrix-org/synapse/releases/tag/v1.68.0">Synapse
1.68</a> just dropped,
let's have a look at what's inside.</p>
<h2 id="dependency-changes">Dependency changes</h2>
<p>As announced in the <a href="https://matrix.org/blog/2022/09/14/synapse-1-67-released">Synapse 1.67 release
announcement</a>, Synapse
1.68 raises the minimum supported version of SQLite to version v3.27.0. This
means that, if your installation of Synapse is using SQLite to manage its
database, and the SQLite version used is lower than 3.27, you will need to
upgrade to a more recent version before updating to Synapse 1.68. This change does not impact deployments using the <code>matrixdotorg/synapse</code> Docker image. </p>
<p>Synapse 1.68 also introduces the requirement of a Rust compiler for source
checkouts. The minimum required version of Rust is 1.58.1. Installations that
use <code>pip install matrix-synapse</code>, Debian packages from <code>packages.matrix.org</code> or
the <code>matrixdotorg/synapse</code> Docker image to manage and run Synapse, are not
impacted by this change.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.68/upgrade#upgrading-to-v1680">upgrade
notes</a> for more information.</p>
<h2 id="admin-api-improvements">Admin API improvements</h2>
<p>Synapse 1.68 introduces a new admin API which allows server administrators to
query events in a given room that have been sent within a specific time window.
This API mirrors <a href="https://spec.matrix.org/v1.3/client-server-api/#get_matrixclientv3roomsroomidmessages">the specification's <code>/messages</code>
endpoint</a>,
and allows, among other things, paginating through a room's history. See <a href="https://matrix-org.github.io/synapse/v1.68/admin_api/rooms.html#room-messages-api">the
documentation</a> for more information.</p>
<p>This version of Synapse also introduces a new admin API to help administrator of
homeservers using an external authentication provider. This endpoint allows
looking up a specific identifier on the authentication provider and resolving it
into the identifier of the local user it's associated with, if any. See <a href="https://matrix-org.github.io/synapse/v1.68/admin_api/user_admin_api.html#find-a-user-based-on-their-id-in-an-auth-provider">the
documentation</a> for more information.</p>
<p>The <a href="https://matrix-org.github.io/synapse/v1.68/admin_api/user_admin_api.html#user-admin-api">user admin
API</a>
has also been updated to allow administrator of homeservers <a href="https://matrix-org.github.io/synapse/latest/consent_tracking.html">requiring agreement
to the server's terms and
conditions</a>
to view and edit the timestamp at which each user has provided their agreement.</p>
<h2 id="everything-else">Everything else</h2>
<p>Synapse 1.68 greatly improves the validation of user input on most of the
account management API endpoints.</p>
<p>This version of Synapse also adds a new <code>request_id_header</code> option to the
configuration of HTTP listeners, which allows tracking the identifier Synapse
generates for each request in that request's response. This can be helpful for
correlating Synapse logs with reverse proxy logs. See <a href="https://matrix-org.github.io/synapse/v1.68/usage/configuration/config_documentation.html#listeners">the
documentation</a> for more information.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.68.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.68/upgrade#upgrading-to-v1680">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://github.com/dakariakin">Denis Kariakin</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a> and <a href="https://www.beeper.com/">Beeper</a>, as
well as anyone helping us make Synapse better by sharing their feedback and
reporting issues.</p>

            
        </div>
        <div class="article_linebreak"></div>
    </article>
    
    <article class="content">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;23&#x2F;this-week-in-matrix-2022-09-23&#x2F;" title="This Week in Matrix 2022-09-23">This Week in Matrix 2022-09-23</a></h1>
            <span>23.09.2022 16:41 ‚Äî <a
                    href="/category/this-week-in-matrix">This Week in Matrix</a>
                 ‚Äî <a href="/author/thib">Thib</a>
            </span>
            
            <br><small>Last update: 19.09.2022 17:09</small>
            
        </header>
        <div class="post">
            
            <h2 id="matrix-live">Matrix Live</h2>
<iframe src="https://www.youtube.com/embed/MwOh4NvPdtQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-social-good-ok-woman">Dept of Social Good üôÜ</h2>
<p><a href="https://matrix.to/#/@lalider:matrix.org">carla</a> says</p>
<blockquote>
<p><a href="https://carlagriggio.com">Carla Griggio, a researcher at the University of Aarhus</a>, is conducting Human-Computer Interaction research on how messaging interoperability affects personal expression and privacy attitudes in online communication. The study consists of a short questionnaire and a 30-60 minute interview about experiences with cross-app messaging (for example, privacy concerns related to differences between clients). The results will contribute an interpersonal perspective to the design of messaging interoperability and potentially influence future policy making.</p>
<p>Interested in participating? Eligible participants should live within the EU and either:
a) Have frequent conversations on a Matrix.org client with contacts that use <em>different</em> Matrix.org clients (such as Element-FluffyChat) or
b) Frequently use bridges between Matrix.org and other platforms (for example, using Beeper, or Element with bridges to Telegram, IRC, etc.) </p>
<p>Reach out directly to @lalider:matrix.org for questions and arranging an interview. Thank you!</p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:element.io">Andrew Morgan (anoa)</a> reports</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h2 id="msc-status">MSC Status</h2>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3895">MSC3895: Federation API Behaviour of Partial-State Resident Servers</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3856">MSC3856: Threads List API</a> (merge)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3771">MSC3771: Read receipts for threads</a> (merge)</li>
</ul>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3773">MSC3773: Notifications for threads</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3715">MSC3715: Add a pagination direction parameter to <code>/relations</code></a></li>
</ul>
<h2 id="spec-updates">Spec Updates</h2>
<p>The next major release of the spec is now just around the corner! <strong>The Spec Core Team expects to release Matrix v1.4 next week,</strong> so be on the look out for the announcement and blog post then! Highlights for v1.4 include Threads and Message Edits!</p>
<p>Review this week from the Spec Core Team has once again mainly focused on Threads as we work towards getting it over the line (and to see client and homeserver implementations stablise). With fixes for notification issues and increased support for querying threads in a room for clients, we expect to see it land in v1.4!</p>
<p>In addition, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2676">MSC2676</a> has been <a href="https://github.com/matrix-org/matrix-spec/pull/1211">merged to the spec</a> (finally)! This means that it is now <a href="https://spec.matrix.org/unstable/client-server-api/#event-replacements">available in the unstable space</a> and will be available in the next spec release. Congrats to all involved as it's been a particularly long-running MSC, and especially richvdh for pushing it over the line and writing up the spec bits, and TravisR for reviewing them.</p>
<h2 id="random-msc-of-the-week">Random MSC of the Week</h2>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3265">MSC3265: Login and SSSS with a Single Password</a>!</p>
<p>This MSC actually has a fairly detailed description right in the PR, so I encourage you to click through and see what it's all about!</p>
<p><img src="/blog/2022/09/23/this-week-in-matrix-2022-09-23/81710b9de109df619080580451679d2c266d0ff1.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC üéìÔ∏è</h2>
<h3 id="matrix-cerberus">matrix-cerberus</h3>
<p><a href="https://matrix.to/#/@kuries:matrix.org">kuries</a> announces</p>
<blockquote>
<p>The Google Summer of Code 2022 has officially ended this week and I'm proud to present the <a href="https://github.com/MatrixDoctors/matrix-cerberus">matrix-cerberus</a>!</p>
<p>It's an application that has the ability to delegate membership of a room based on a user‚Äôs interaction with other third-party services.</p>
<p>Some of the use cases could be:</p>
<ul>
<li>If you have a &quot;team&quot; of developers under an organisation in GitHub and would like to create a room just for them. Then instead of sending manual invites or making the room public, you can just add the condition under a room in the matrix-cerberus admin panel and the app will invite all of them for you!</li>
<li>Managing memberships for rooms where patrons belonging to a particular tier in a campaign have access.</li>
</ul>
<blockquote>
<p>Note: Both of the cases would require the user to log in with matrix and the respective third-party service in our app.</p>
</blockquote>
<p>The application is built using React (frontend), FastAPI (backend) and matrix-nio for the bot. The entire application is containerized with docker compose to reduce the effort required to set up all the services.</p>
<p>Currently, it has support for the following third-party services:</p>
<ul>
<li>GitHub</li>
<li>Patreon</li>
</ul>
<p>There's also an interesting feature in this app - Room External URL Invites. If you have one of these room external url invites you can just log in as a matrix user with our app and relevant invites will be issued.</p>
<p>You can find documentation related to the usage, installation and hosting over <a href="https://matrixdoctors.github.io/matrix-cerberus/">here</a>.
If you want to play around with the app and see how it works you can check out the demo version of the app hosted here: <a href="https://cerberus.cadair.dev/">https://cerberus.cadair.dev/</a></p>
<p>And finally, if you have any queries and issues related to setting up or just want to discuss the app then feel free to join: <a href="https://matrix.to/#/#matrix-cerberus:cadair.com">https://matrix.to/#/#matrix-cerberus:cadair.com</a></p>
</blockquote>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> adds</p>
<blockquote>
<p>Worth noting that the demo version of the app should only be used for experimenting, I make 0 promises for how long it will stay online for!</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="construct">Construct</h3>
<p><a href="https://matrix.to/#/@jevolk:matrix.org">Jason Volk</a> reports</p>
<blockquote>
<p>Construct 0.8 has been rolling out with a set of performance improvements courtesy of the new <code>io_uring(7)</code> backend added to Boost ASIO on Linux platforms. These improvements were not truly necessary since Construct is already backed by a custom <code>aio(7)</code> implementation on Linux, but there's still a significant all-around improvement with <code>io_uring</code>. Users building on systems with boost 1.78+ will benefit from <code>io_uring</code> replacing the core <code>epoll(2)</code> event loop and networking. This has a significant impact for certain operations like sending messages to large rooms with lots of servers by greatly reducing the number of system calls. Users with boost 1.79+ get the added benefit of some local filesystem operations using the <code>io_uring</code> rather than <code>aio</code>. If your distribution ships an older version of Boost, rebuild Construct with the option <code>--with-included-boost=1.80.0</code> to <code>./configure</code> so you too can enjoy these benefits.</p>
<p>For questions or support don't forget to idle and perform <a href="https://matrix.to/#/#construct:zemos.net">#construct:zemos.net</a></p>
</blockquote>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@babolivier:element.io">Brendan Abolivier</a> reports</p>
<blockquote>
<p>This week we've released not one, but two release candidates for Synapse 1.68. This Synapse version will be the first one to require a Rust compiler for installations from a source checkout. 1.68.0rc2 fixes an issue the previous RC had related to this change - so if you were bitten by Rust-related issues when trying out rc1, please try rc2! The minimum required version of Rust has also been set to 1.58 to make it easier for third-party packagers to package Synapse (it previously was 1.61).</p>
<p>Thanks a lot to everyone who help us by testing Synapse RCs and catching these issues early! Please report any feedback or bug in <a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a> or <a href="https://github.com/matrix-org/synapse/issues/new?assignees=&amp;labels=&amp;template=BUG_REPORT.yml">the issue tracker</a>, respectively üôÇ</p>
<p>In other news, Synapse 1.68 will also be raising the minimum required version of SQLite to 3.27. If you're running a Synapse instance with SQLite, please make sure your environment is up to date!</p>
</blockquote>
<h3 id="dendrite-website">Dendrite (<a href="https://github.com/matrix-org/dendrite">website</a>)</h3>
<p>Second generation Matrix homeserver</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a> reports</p>
<blockquote>
<p>This week we released <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.9.9">Dendrite 0.9.9</a> which contains some bug fixes and performance improvements ‚Äî if you are running Dendrite then it is recommended to upgrade! Changes include:</p>
<ul>
<li>Dendrite will now try to keep HTTP connections open to remote federated servers for a few minutes after a request and attempt to reuse those connections where possible
<ul>
<li>This should reduce the amount of time spent on TLS handshakes and often speed up requests to remote servers</li>
<li>This new behaviour can be disabled with the <code>federation_api.disable_http_keepalives</code> option if needed</li>
</ul>
</li>
<li>A number of dependencies have been updated</li>
<li>A bug where the roomserver did not correctly propagate rewritten room state to downstream components (like the federation API and sync API) has been fixed, which could cause issues when performing a federated join to a previously left room</li>
<li>Event auth now correctly parses the <code>join_authorised_via_users_server</code> field in the membership event content</li>
<li>Database migrations should no longer produce unique constraint errors at Dendrite startup</li>
<li>The <code>origin</code> of device list updates should now be populated correctly</li>
<li>Send-to-device messages will no longer be dropped if we fail to publish them to specific devices</li>
<li>The roomserver query to find state after events will now always resolve state if there are multiple prev events</li>
<li>The roomserver will now return no memberships if querying history visibility for an event which has no state snapshot</li>
<li>The device list updater will now mark a device list as stale if a requesting device ID is not known</li>
<li>Transactions sent to appservices should no longer have accidental duplicated transaction IDs (contributed by <a href="https://github.com/tak-hntlabs">tak-hntlabs</a>)</li>
</ul>
<p>As always, please feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for more related discussion.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="postmoogle-website">Postmoogle (<a href="https://gitlab.com/etke.cc/postmoogle">website</a>)</h3>
<p>An Email to Matrix bridge. 1 room = 1 mailbox.</p>
<p><a href="https://matrix.to/#/@aine:etke.cc">Aine</a> announces</p>
<blockquote>
<p><del>Postfix</del> Postmoogle v0.9.4</p>
<p><em>almost</em> Postfix. The biggest change: you can use postmoogle to send emails from your apps, scripts and other tools using standard SMTP protocol (or Matrix Client Server API, if you wish so)</p>
<ul>
<li>send emails in UTF-8 üëã</li>
<li>fix options descriptions</li>
<li>add SMTP auth</li>
<li>allow sending emails from your apps and scripts using postmoogle as email provider</li>
</ul>
<p><a href="https://gitlab.com/etke.cc/postmoogle">Source code</a>, say hi in <a href="https://matrix.to/#/#postmoogle:etke.cc">#postmoogle:etke.cc</a> </p>
<p>PS: now I'm wondering - can you use postmoogle as SMTP server/relay in synapse? Send emails from matrix, using matrix backend, using matrix.... üòµ‚Äçüí´</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="nheko-website">Nheko (<a href="https://nheko-reborn.github.io">website</a>)</h3>
<p>Desktop client for Matrix using Qt and C++17.</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> reports</p>
<blockquote>
<p>We completely redesigned how you can modify the access rules in a room. You now have a list of toggles to allow public access to a room, knocking and/or joining via a different room. You can also now edit what rooms you can access the current room via. By default the parent communities are in that list and you can enable joining via those using a toggle button, but you can also add other rooms in. This is helpful when you have a welcome room in a private community, but you still want people to be able to join the other community rooms after you explained the rules in the main room. We are still working on restructuring the room settings though, so that the new rules UI doesn't seem as out of place between the other settings.</p>
<p><img src="/blog/2022/09/23/this-week-in-matrix-2022-09-23/KSVTtGsolBXtfsLTeAciXnBc.png" alt="" /></p>
<p>Nheko now also shows you what community a room is in and allows you to switch to that community or join it if you haven't yet. This should make it easier to discover communities and related rooms. In this case too, we built the feature, but I am not happy yet with how it looks, so it might change in the future.</p>
<p><img src="/blog/2022/09/23/this-week-in-matrix-2022-09-23/pzqyYkifvrBHhmZlRYzPFkwL.png" alt="" /></p>
<p>q234rty also fixed sending messages using the Enter key, when an input method is active. We significantly shrunk our flatpak images (to almost a third) by using the upstream gstreamer again (which is recent enough in the recent runtimes now). Thanks to Forest users now have significantly more control over what Nheko logs when troubleshooting an issue and Hiers added an unread line to make it easier to find where you left off. (The blue line is the unread indicator, the names and avatars are just replaced with color boxes to protect the innocent.)</p>
<p><img src="/blog/2022/09/23/this-week-in-matrix-2022-09-23/WdOBhQssUkMYYmCyOPyNhnNQ.png" alt="" /></p>
<p>As you can see there were lots of new features that might need some time to figure out the UI, so feedback is welcome as always in <a href="https://matrix.to/#/#nheko:nheko.im">#nheko:nheko.im</a>.</p>
</blockquote>
<h3 id="neochat-website">Neochat (<a href="https://invent.kde.org/network/neochat">website</a>)</h3>
<p>A client for matrix, the decentralized communication protocol</p>
<p><a href="https://matrix.to/#/@tobiasfella:kde.org">Tobias Fella</a> says</p>
<blockquote>
<p>This week, Bharadwaj implemented showing link previews. While working on E2EE, support for showing stickers broke a while ago, which James now fixed. I (Tobias) finished the work on basic device verification; it will start working once libQuotient officially supports it. I also implemented support for reporting messages to the server admins.</p>
<p><img src="/blog/2022/09/23/this-week-in-matrix-2022-09-23/8a23c8c49bbac8575f938f7049d8e8a639ef5029.png" alt="" /></p>
<p><img src="/blog/2022/09/23/this-week-in-matrix-2022-09-23/ca462762f4ed3db4825e70a1ce973b7f6af2da14.png" alt="" /></p>
</blockquote>
<h3 id="element-website">Element (<a href="https://element.io">website</a>)</h3>
<p>Everything related to Element but not strictly bound to a client</p>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> announces</p>
<blockquote>
<p>upcoming critical security update for matrix-{js,ios,android}-sdk on Wednesday Sept 28 at 16:00 UTC: https://matrix.org/blog/2022/09/23/pre-disclosure-upcoming-critical-security-release-of-matrix-sd-ks-and-clients</p>
</blockquote>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@robin:robin.town">Robin</a> says</p>
<blockquote>
<p>Hi üëã It's just the VoIP team this week, but we're excited to share that Element Call is on its way into the app! We've added an experimental implementation of Element Call video rooms in Labs, which you can try out on develop.element.io and Nightly, and are working on bringing native group calls to text rooms as well. Thanks to everyone who contributed to last week's community testing session, and please keep the feedback coming.</p>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@stefan.ceriu:matrix.org">»òtefan</a> reports</p>
<blockquote>
<ul>
<li>This was a busy week in iOS land. Version 1.9.6 is now available on the AppStore and brings with it a lot of significant improvements: 
<ul>
<li>Crash fixes when logging out, previewing rooms or displaying the keyboard</li>
<li>New layout tweaks for when logging out and back in again</li>
</ul>
</li>
<li>We also have made a lot of progress on ElementX:
<ul>
<li>We have successfully merged the sliding sync mechanism with the new timeline API</li>
<li>We have redesigned the home screen, the settings, the timeline bubbles, the message composer and more</li>
<li>We received support for local echoes</li>
<li>We have also had our first look at encryption working through sliding sync and the Rust SDK and it‚Äôs even more magical than expected</li>
</ul>
</li>
</ul>
<p><img src="/blog/2022/09/23/this-week-in-matrix-2022-09-23/JxNgpBiRhBfZnnQNCBfKNbyS.png" alt="" /></p>
</blockquote>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> reports</p>
<blockquote>
<ul>
<li>Element Android 1.5.0 will land on the stores soon. We finally decided to postpone the activation of the new App Layout by default, to give us some time to fix the remaining bugs. In this version there will be deferred DM creation on the first message, i.e. the DM will be created and the invite sent only when a first message is sent to the room.</li>
<li>We are working to fix our flaky tests. Some of them have been disabled in the past because they were not passing on the CI. It‚Äôs time to restore and update them, and ensure there is no regression on the app. Our priority is to make sure the releases we push to the stores have no regression and only working features!</li>
<li>The support for Android 12 has been merged on develop, it will be for the next release, with hopefully the new App Layout enabled by default!</li>
</ul>
</blockquote>
<h3 id="cinny-website">Cinny (<a href="https://cinny.in">website</a>)</h3>
<p>Cinny is a Matrix client focused on simplicity, elegance and security</p>
<p><a href="https://matrix.to/#/@ajbura:matrix.org">ajbura</a> reports</p>
<blockquote>
<p>Cinny v2.2.0</p>
<h4 id="features">Features</h4>
<ul>
<li>Open image in lightbox</li>
<li>Update sidebar on room/space switch</li>
<li>Edit last message with up arrow key</li>
<li>Improve commands
<ul>
<li>Commands now works as they are sent</li>
<li>Add /plain text command</li>
<li>Add /myroomnick and /myroomavatar</li>
<li>Add /converttodm and /converttoroom</li>
<li>Add /me and /shrug</li>
<li>Add /help command</li>
<li>/startdm /ban /unban /kick /invite /disinvite /ignore /unignore /join now accept multiple targets</li>
</ul>
</li>
<li>Notification settings
<ul>
<li>Add notification on favicon in browser tab</li>
<li>Add Global notification settings in user settings</li>
<li>Can manage notification keywords</li>
</ul>
</li>
<li>Manage ignored users</li>
<li>Rework Markdown parsing
<ul>
<li>Fix Emojis rendering in code-blocks</li>
<li>Strip excessive whitespace in HTML formatted messages</li>
<li>Support sending spoilers with reason <code>||spoiler||(reason)</code></li>
<li>Fix everything between two $ rendering as TeX math</li>
<li>Fix Numbered lists are numbered wrongly</li>
<li>Preserve Markdown newlines</li>
<li>Send room address as matrix.to links</li>
</ul>
</li>
<li>Delete notifications after messages have been read or deleted</li>
<li>Improve MIME type handling on File Upload and in Message Component</li>
<li>Cancel edit-message on <code>Esc</code> Key press</li>
<li>Cancel replyto on <code>Esc</code> key press</li>
<li>Add Clear cache and reload button</li>
</ul>
<h4 id="bugs">Bugs</h4>
<ul>
<li>Fix room not selecting with bad emoji data</li>
<li>Fix emojiboard icon background</li>
<li>Fix crash in manage device</li>
<li>Fix crash with unknown mime type</li>
<li>Fix wrong notification count</li>
<li>Copy Olm directly from node modules</li>
<li>Handle messages with invalid body</li>
<li>Ignore mimetype parameters in safety check</li>
<li>Change &quot;Join public room&quot; label to &quot;Explore public rooms&quot;</li>
<li>Fix grammar of read receipt text</li>
</ul>
<h4 id="docker-image">Docker Image</h4>
<ul>
<li>Push Docker image to ghcr registry</li>
</ul>
<p><strong>Release</strong>: <a href="https://github.com/cinnyapp/cinny/releases/tag/v2.2.0">https://github.com/cinnyapp/cinny/releases/tag/v2.2.0</a>
<strong>Full Changelog</strong>: <a href="https://github.com/cinnyapp/cinny/compare/v2.1.2...v2.2.0">https://github.com/cinnyapp/cinny/compare/v2.1.2...v2.2.0</a>
<img src="/blog/2022/09/23/this-week-in-matrix-2022-09-23/nHPgFgyvkPnvPDETuAFzniPw.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="matrix-bot-sdk-website">matrix-bot-sdk (<a href="https://github.com/turt2live/matrix-bot-sdk">website</a>)</h3>
<p>A TypeScript/JavaScript SDK for Matrix bots</p>
<p><a href="https://matrix.to/#/@travis:t2l.io">TravisR</a> reports</p>
<blockquote>
<p><a href="https://github.com/turt2live/matrix-bot-sdk">matrix-bot-sdk</a> has just had a <a href="https://github.com/turt2live/matrix-bot-sdk/releases/tag/v0.6.2">v0.6.2</a> release with mostly bug fixes this time around. Please give it a go, and if you run into issues please report bugs or visit <a href="https://matrix.to/#/#matrix-bot-sdk:t2bot.io">#matrix-bot-sdk:t2bot.io</a> üôÇ </p>
<p>Also, check out the <a href="https://matrix.org/docs/guides/usage-of-matrix-bot-sdk">matrix.org guide</a> to learn more about how to use this SDK.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="hsl-matrix-notifier-website">HSL Matrix Notifier (<a href="https://git.jae.fi/jae/hsl-matrix-notifier">website</a>)</h3>
<p><a href="https://matrix.to/#/@me:jae.fi">Jae (DN0)</a> says</p>
<blockquote>
<p>A very simple bot to notify rooms every 12h of HSL (Helsinki Regional Transports) disruptions (for instance, cancelled trains, metros, buses or trams).<br />
For now, the bot is very barebones but more is planned:</p>
<ul>
<li>Only new events shown (RSS-feed style)</li>
<li>Per-room language</li>
<li>More customizable transport methods (select from bus, train, metro, tram)</li>
</ul>
<p>At some point will also be added more beautiful display of those events but for now the focus is on pure functionality.</p>
<p><img src="/blog/2022/09/23/this-week-in-matrix-2022-09-23/f97b8cc850c4a44c5bb82abedbd4dbcede6dde5e.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-ping">Dept of Ping</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server.</p>
<h3 id="ping-maunium-net"><a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">298</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">nognu.de</td><td style="text-align: center">359.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">babel.sh</td><td style="text-align: center">380.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">alemann.dev</td><td style="text-align: center">526</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">kittenface.studio</td><td style="text-align: center">774</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">dendrite.babel.sh</td><td style="text-align: center">790.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">kootstra.frl</td><td style="text-align: center">928.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">almum.de</td><td style="text-align: center">1111.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">kif.rocks</td><td style="text-align: center">1456</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">aria-net.org</td><td style="text-align: center">1518</td></tr>
</tbody></table>
<h3 id="ping-no-synapse-maunium-net"><a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">123</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">babel.sh</td><td style="text-align: center">169</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">dendrite.matrix.org</td><td style="text-align: center">201</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">conduit.hazmat.jacksonchen666.com</td><td style="text-align: center">237.5</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">dendrite.babel.sh</td><td style="text-align: center">260.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">babel1.eu</td><td style="text-align: center">278</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">joeth.uk</td><td style="text-align: center">305.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">kumma.juttu.asia</td><td style="text-align: center">327</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">dendrite.s3cr3t.me</td><td style="text-align: center">432.5</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">matrix.awesomesheep48.me</td><td style="text-align: center">516</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know">That's all I know</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

            
        </div>
        <div class="article_linebreak"></div>
    </article>
    
    <article class="content">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;23&#x2F;pre-disclosure-upcoming-critical-security-release-of-matrix-sd-ks-and-clients&#x2F;" title="Pre-disclosure: upcoming critical security release of Matrix SDKs and clients">Pre-disclosure: upcoming critical security release of Matrix SDKs and clients</a></h1>
            <span>23.09.2022 12:53 ‚Äî <a
                    href="/category/security">Security</a>
                 ‚Äî <a href="/author/matrix-security">Matrix Security</a>
            </span>
            
        </header>
        <div class="post">
            
            <p>We will be releasing a security update to matrix-js-sdk, matrix-ios-sdk and matrix-android-sdk2 and clients which implement end-to-end encryption with these libraries, to patch <strong>critical</strong> security issues, on <strong>Wed, Sept 28th</strong>. The releases will be published in the afternoon, followed by the disclosure blog post around 16:00 UTC. The affected clients include Element Web, Desktop, iOS and Android.  We will also be working with downstream packagers and forks over the coming days to ensure a synchronised release to address affected clients.</p>
<p>Clients using matrix-rust-sdk, hydrogen-sdk and matrix-nio are not affected by these critical issues.  We are also auditing third-party client SDKs and clients in advance of the release, and will work with the projects if action is needed. So far we've confirmed that other popular SDK/clients including mtxclient (nheko), Matrix Dart SDK (FluffyChat), Trixnity (Timmy), Syphon, mautrix-go (Gomuks) and mautrix-python are not affected by the issues in question.</p>
<p>If you maintain or package a (potentially) affected E2EE-capable Matrix client and need to coordinate on the release, please contact <a href="mailto:security@matrix.org">security@matrix.org</a>.</p>
<p><strong>We advise to upgrade as soon as possible after the patched versions are released.</strong></p>
<p>Thank you for your patience while we work to resolve this issue.</p>

            
        </div>
        <div class="article_linebreak"></div>
    </article>
    
    <article class="content">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;16&#x2F;this-week-in-matrix-2022-09-16&#x2F;" title="This Week in Matrix 2022-09-16">This Week in Matrix 2022-09-16</a></h1>
            <span>16.09.2022 16:32 ‚Äî <a
                    href="/category/this-week-in-matrix">This Week in Matrix</a>
                 ‚Äî <a href="/author/thib">Thib</a>
            </span>
            
            <br><small>Last update: 19.09.2022 14:33</small>
            
        </header>
        <div class="post">
            
            <h2 id="matrix-live">Matrix Live</h2>
<iframe src="https://www.youtube.com/embed/9uwd35KhWsw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<p><a href="https://matrix.to/#/@thib:ergaster.org">Thib</a> reports</p>
<blockquote>
<p><a href="https://matrix.to">matrix.to</a> links can now be opened with <a href="https://matrix.to/#/#thunderbird:mozilla.org">Thunderbird</a> and <a href="https://matrix.to/#/#syphon:matrix.org">Syphon</a>!</p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:element.io">Andrew Morgan (anoa)</a> reports</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h2 id="msc-status">MSC Status</h2>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3892">MSC3892: Custom Emotes with Encryption</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3890">MSC3890: Remotely silence local notifications</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3773">MSC3773: Notifications for threads</a> (merge)</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3715">MSC3715: Add a pagination direction parameter to <code>/relations</code></a> (merge)</li>
</ul>
<p><strong>Accepted MSCs:</strong></p>
<ul>
<li><em>No MSCs were accepted this week.</em></li>
</ul>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<h2 id="spec-updates">Spec Updates</h2>
<p>This week has seen more review on threads from the Spec Core Team, as well as some further aggregations work. See the FCP list above! <a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3771">MSC3771</a> (Read Receipts for Threads) and <a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3856">MSC3856</a> (Threads List API) are also looking quite close to starting FCP.</p>
<p>In other news, yours truly has written up some words (adapted from some internal docs written by @erikjohnston) amounting to <a href="https://github.com/matrix-org/matrix-spec-proposals/blob/anoa/spec_process_docs/README.md">a simplified guide to writing MSCs</a>. The hope is that it'll help spell out the process in a more succinct manner, as well as provide answers to common questions/edge cases.</p>
<p>The document's words are still in flux, and still only exist <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3891">as a PR</a>; so do feel free to leave some suggestions or feedback if you have some!</p>
<h2 id="random-msc-of-the-week">Random MSC of the Week</h2>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3775">MSC3775: Markup Locations for Audiovisual Media</a>!</p>
<p>I recommend looking at <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3574">MSC3574</a> (marking up resources) first as MSC3775 builds upon it. But as for MSC3775 itself, the MSC adds support for annotating media - storing those annotations as events in a Matrix room!</p>
<p>This could be useful for building a decentralised app for marking up audio files. Collaborative audio editing anyone?</p>
<p>As far as I can tell, this MSC is currently waiting for <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3574">MSC3574</a> to progress before it itself moves much further. But feel free to check out both in the meantime if you're interested.</p>
<p><img src="/blog/2022/09/16/this-week-in-matrix-2022-09-16/20220916-spec.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@babolivier:element.io">Brendan Abolivier</a> announces</p>
<blockquote>
<p>This week we've released <a href="https://matrix.org/blog/2022/09/14/synapse-1-67-released/">Synapse 1.67</a>! This Synapse release is the first one to use <a href="https://python-poetry.org/blog/announcing-poetry-1.2.0/">Poetry 1.2</a>, and also removes the long-deprecated TCP-based replication protocol. Synapse workers are now required to use the Redis-based protocol which we introduced back in 2020. If this isn't already the case for your deployment of Synapse, see the <a href="https://matrix-org.github.io/synapse/v1.67/workers.html#shared-configuration">documentation for workers</a> as well as the <a href="https://matrix-org.github.io/synapse/v1.67/upgrade.html#direct-tcp-replication-is-no-longer-supported-migrate-to-redis">upgrade notes</a>, to update your configuration.</p>
<p>In other news, Synapse 1.68 (which is due to release on the 27th of September) will introduce a couple of changes in dependencies. The minimum supported SQLite version will be raised to 3.26, meaning that Synapse 1.67 is the last version of Synapse supporting SQLite versions 3.22 to 3.26. In addition to this, a Rust compiler will be required for source checkouts, as we are starting to introduce Rust code in Synapse (as I <a href="https://matrix.org/blog/2022/09/09/this-week-in-matrix-2022-09-09#synapse-website">mentioned last week</a>). This latter change should not impact installations that use <code>pip install matrix-synapse</code>, Debian packages from <code>packages.matrix.org</code> or the <code>matrixdotorg/synapse</code> Docker image to manage and run Synapse. See the <a href="https://matrix-org.github.io/synapse/v1.67/upgrade.html#rust-requirement-in-the-next-release">upgrade notes</a> for more information about these two changes.</p>
</blockquote>
<h2 id="homeserver-deployment-inbox-tray">Homeserver Deployment üì•Ô∏è</h2>
<h3 id="helm-chart-website">Helm Chart (<a href="https://gitlab.com/ananace/charts">website</a>)</h3>
<p>Matrix Kubernetes applications packaged into helm charts</p>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> announces</p>
<blockquote>
<p>This week sees some of the usual updates to <a href="https://gitlab.com/ananace/charts">my Helm Charts</a>, with element-web being updated to 1.11.5 and matrix-synapse to 1.67.0.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="postmoogle-website">Postmoogle (<a href="https://gitlab.com/etke.cc/postmoogle">website</a>)</h3>
<p>An Email to Matrix bridge. 1 room = 1 mailbox.</p>
<p><a href="https://matrix.to/#/@aine:etke.cc">Aine</a> announces</p>
<blockquote>
<p>Postmoogle v0.9.2</p>
<ul>
<li>bugfixes</li>
<li>speed up email delivery</li>
<li>StartTLS enabled automatically if TLS cert and key are provided</li>
<li>set <code>msgtype</code> by attachment's mime-type (received image -&gt; got rendered image in your matrix client; received audio -&gt; got audio player in your matrix client; etc)</li>
</ul>
<p><a href="https://gitlab.com/etke.cc/postmoogle">Source code</a>, say hi in the <a href="https://matrix.to/#/#postmoogle:etke.cc">#postmoogle:etke.cc</a> room</p>
</blockquote>
<h3 id="matrix-hookshot-website">matrix-hookshot (<a href="https://github.com/Half-Shot/matrix-hookshot">website</a>)</h3>
<p>A multi purpose multi platform bridge, formerly known as matrix-github</p>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> says</p>
<blockquote>
<h3 id="matrix-hookshot-2-2-0-arrives-with-fewer-bugs-and-more-features">matrix-hookshot 2.2.0 arrives with fewer bugs and more features!</h3>
<p>Hello gang. This week, another hookshot release. They do come fast!</p>
<p>We've fixed a bug which had the potential to cause crashes when JSON logging is enabled, and written a whole torture test for the logger to ensure it won't do that again. We've also made some quality of life improvements to the GitLab connection type :)</p>
<p>The highlights are:</p>
<ul>
<li>Ready/draft state changes for GitLab merge requests are now reported. (<a href="https://github.com/matrix-org/matrix-hookshot/issues/480">#480</a>)</li>
<li>Merge GitLab MR approvals and comments into one message. (<a href="https://github.com/matrix-org/matrix-hookshot/issues/484">#484</a>)</li>
</ul>
<p>You can get the latest release <a href="https://github.com/matrix-org/matrix-hookshot/releases/tag/2.2.0">here</a></p>
<hr />
<p>But I have a bit more for you this week, we're working on a few new features to hopefully improve the lives of developers out there building webhook integrations.</p>
<p>First, we are adding the ability to <strong>view requests and logging</strong> from within the widget UI. This means you can now debug why your webhooks might not be working without
having to leave your client. This includes the ability to log debug messages and read them back later!</p>
<iframe src="https://www.youtube.com/embed/DStAgLhmZqs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Secondly, we're adding some new sci-fi functions to the scripting environment. The first of which will allow you to <strong>embed images / videos</strong> into the message output, with a
function to to create matrix content URLs from a regular URL.</p>
<p>Finally, and this is probably the most sci-fi. We're working on a feature for you to <strong>load scripts from other rooms</strong> for use in your webhook. This means developers will be able to build
whole webhook handling libraries within rooms, and then share those libraries across the federation. At the moment, this looks a bit like:</p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#569cd6;">const </span><span>resultOfScript = </span><span style="color:#569cd6;">await </span><span>loadMatrixScript(</span><span style="color:#d69d85;">&quot;matrix:r/my-room-alias:domain/$my-event-id&quot;</span><span>);
</span><span style="color:#608b4e;">// ... mutate the result
</span><span style="color:#569cd6;">return </span><span>= resultOfScript
</span></code></pre>
<p>We're still thinking about how to ensure it's both performant, and safe but the initial results are looking quite good.</p>
<p>That's all we have for you in bridging corner today, have a good weekend üëã</p>
</blockquote>
<h3 id="matrix-appservice-kakaotalk-website">matrix-appservice-kakaotalk (<a href="https://src.miscworks.net/fair/matrix-appservice-kakaotalk/">website</a>)</h3>
<p>A Matrix-KakaoTalk puppeting bridge.</p>
<p><a href="https://matrix.to/#/@fair:miscworks.net">Fair</a> announces</p>
<blockquote>
<p>It has been brought to my attention that the KakaoTalk service has been updated to block older clients, and unfortunately this bridge is affected.  As of this writing, <strong>using the bridge may get your KakaoTalk account banned!</strong>  It has happened to both me and at least one other person, so this isn't just a hypothetical risk.</p>
<p>To be clear about this, I've updated the <code>master</code> branch to throw an error on startup, which must be manually removed from source code if you wish to continue using the bridge at your own risk.</p>
<p>It's currently unknown what it takes to log in safely, but discussion about it is ongoing (albeit intermittently) in the discussion channel (linked below).</p>
<p>Once the bridge is safe to use again, I'll post a TWIM update about it üôÇ</p>
<hr />
<ul>
<li>Discussion: <a href="https://matrix.to/#/#matrix-appservice-kakaotalk:miscworks.net">#matrix-appservice-kakaotalk:miscworks.net</a> </li>
<li>Testing room: <a href="https://matrix.to/#/#kakaotalk-bridge-testing:miscworks.net">#kakaotalk-bridge-testing:miscworks.net</a> / <a href="https://open.kakao.com/o/gjGQFuae">https://open.kakao.com/o/gjGQFuae</a></li>
<li>Issue page: <a href="https://src.miscworks.net/fair/matrix-appservice-kakaotalk/issues">https://src.miscworks.net/fair/matrix-appservice-kakaotalk/issues</a></li>
</ul>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="quadrix-website">Quadrix (<a href="https://github.com/alariej/quadrix">website</a>)</h3>
<p>A Minimal, simple, multi-platform chat client for the Matrix protocol.</p>
<p><a href="https://matrix.to/#/@alariej:matrix.org">JFA</a> says</p>
<blockquote>
<p>Quadrix v1.3.3 has been released! It's available for mobiles and desktops in the respective app stores. This release introduces:</p>
<ol>
<li>
<p>a new menu structure making it easier to add new functions without affecting the main UI,</p>
</li>
<li>
<p>new page animations in the &quot;wide&quot; app layout (on desktops and tablets) when switching between rooms or going back to the home screen, and</p>
</li>
<li>
<p>for PinePhone enthusiasts, Wayland display on KDE and SXMO UI's (it was already available on Phosh).</p>
</li>
</ol>
<p>Please leave feedback/comments at <a href="https://matrix.to/#/#quadrix:matrix.org">#quadrix:matrix.org</a> or in the issues at <a href="https://github.com/alariej/quadrix">https://github.com/alariej/quadrix</a> (stars welcome :-)</p>
</blockquote>
<h3 id="neochat-website">Neochat (<a href="https://invent.kde.org/network/neochat">website</a>)</h3>
<p>A client for matrix, the decentralized communication protocol</p>
<p><a href="https://matrix.to/#/@tobiasfella:kde.org">Tobias Fella</a> reports</p>
<blockquote>
<ul>
<li>Will now show you the exact time a message was sent at when hovering over a message's timestamp (Thanks to James Graham)</li>
<li>Context Menus will now open more reliably</li>
<li>You will also no longer see useless horizontal scrollbars</li>
<li>Thanks to the GSoC work by Snehit, NeoChat now has some support for spaces: at the top of the room list, you can select a space to make the room list only show rooms of that space</li>
<li>Audio playback has been fixed</li>
<li>A few problems relating to message input have been fixed, most notable that reply and edit texts will now only be visible in the correct room when multiple rooms are opened at the same time (Thanks to James Graham)</li>
<li>Quitting NeoChat now is less crashy</li>
<li>Adding custom emojis has been fixed (Thanks to Jan Bidler)</li>
<li>Links in spoilers will now be correctly hidden</li>
<li>You can now edit notification settings for each room (Thanks to James Graham)</li>
<li>NeoChat will now better follow Kirigami's style of progress indicator and the system's color for text selection (Thanks to Bharadwaj Raju)</li>
</ul>
<p><img src="/blog/2022/09/16/this-week-in-matrix-2022-09-16/2c5afae81a1ee8d120cf71dce2d14fb66a5b5407.png" alt="" /></p>
</blockquote>
<h3 id="ement-el-website">Ement.el (<a href="https://github.com/alphapapa/ement.el">website</a>)</h3>
<p>Matrix client for Emacs</p>
<p><a href="https://matrix.to/#/@alphapapa:matrix.org">alphapapa</a> announces</p>
<blockquote>
<p>Ement.el, a Matrix client for <a href="https://www.gnu.org/software/emacs/">GNU Emacs</a>, has finally been published on the official <a href="https://elpa.gnu.org/packages/ement.html">GNU ELPA</a> package repository. Now the current stable release can be installed by any Emacs user by simply using the command <code>M-x package-install RET ement RET</code>.  More improvements to come. Feel free to join us in <a href="https://matrix.to/#/#ement.el:matrix.org">#ement.el:matrix.org</a>.</p>
</blockquote>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> reports</p>
<blockquote>
<ul>
<li>On Web we‚Äôve been working on perfecting the app and fixing bugs</li>
<li>Also in the roadmap and currently in development:
<ul>
<li>Updates to the composer. We‚Äôre working on improving the composer and creating a WYSIWYG version (What You See Is What You Get). Keep your eyes peeled for more info in the coming weeks!</li>
<li>There are also improvements to the ‚Äòforgot password‚Äô flow on their way. We made these same improvements to the mobile apps some weeks ago and received great feedback.</li>
</ul>
</li>
</ul>
<p><strong>In labs (you can enable labs features in settings on develop.element.io or on Nightly):</strong></p>
<ul>
<li>Threads work continues as 2 of our 3 MSCs make their way into their FCP (Final Comment Period). We‚Äôre excited to bring improvements to you and will be dropping them straight into the product as soon as they‚Äôre ready.</li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@stefan.ceriu:matrix.org">»òtefan</a> reports</p>
<blockquote>
<ul>
<li>Following this week‚Äôs release of the new app layout we‚Äôre heads down reading feedback and looking for improvements. We hope you‚Äôre enjoying it as much as we are - use the Feedback button in the top-left to let us know! </li>
<li>The team is also making improvements on the next generation of the Element app for iOS (Element X). 
<ul>
<li>We‚Äôre experimenting with merging together the sliding sync mechanism and the new timeline API. </li>
<li>We‚Äôve added support for reactions, redactions, permalinks and replying, we have a new log out mechanism and soft logout, and we‚Äôve also overhauled the UI.</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> reports</p>
<blockquote>
<ul>
<li>
<p>Not only are we hard at work smashing bugs but we‚Äôre also working on 2 big updates for the coming releases:</p>
<ul>
<li>The new app layout! While you can currently access this via Labs, we‚Äôre closing bugs and addressing feedback that will allow us to make it the default layout for all users. Check out <a href="https://element.io/blog/an-unrecognisable-improvement-elements-new-design-is-here/">more info here</a></li>
<li>Also coming up, starting a DM when the first message is sent. No more waiting around for the room to be created before you say hi to the recipients - your invite and message will be received together. Yey! :ta_da:</li>
</ul>
</li>
<li>
<p>We‚Äôre also working on a fix for the bug that‚Äôs making verifying others difficult.</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="matrix-rust-sdk-website">matrix-rust-sdk (<a href="https://github.com/matrix-org/matrix-rust-sdk">website</a>)</h3>
<p>Next-gen crypto-included SDK for developing Clients, Bots and Appservices; written in Rust with bindings for Node, Swift and WASM</p>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> reports</p>
<blockquote>
<p>Major Milestone: yesterday <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/728">Sliding Sync was merged into <code>main</code></a>, now available behind the <code>sliding-sync</code>-feature flag and enabled by default for <code>matrix-sdk-ffi</code> for your convenience. This, too, means the <code>jack-in</code> sliding sync-test client is merged and part of our <code>labs</code> section - go out and have a try! Furthermore the <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/788">key verification for crypto-js</a> has been merged, as well as <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/1013">support for logging out</a>, including tracking the soft-logout state in FFI, and support for sending <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/1038"><code>markdown</code> from FFI</a>,</p>
<p>Similarly the new <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/940">Timeline API</a>, is making big leaps forward, we expecting it to land, too. It will also be available behind a feature-flag replacing the previous <code>experimental-timeline</code>-feature. If you were using that, please pay close attention to what is going on, as it will replace most of if not all of the previous API and data store.</p>
<p>Both will be available, also together, in the upcoming release 0.6 of matrix-sdk, which we expect to land before the end of the month. It was slightly pushed back as the <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/1022"><code>sync event</code> changes turned out to be more of a rabbit hole</a> than anticipated.</p>
<p>üëâ Wanna hack on matrix rust? Go check out our <a href="https://github.com/matrix-org/matrix-rust-sdk/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22"><code>help wanted</code> tagged issues</a> and join our matrix channel at Matrix Rust SDK.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="matrix-docker-ansible-deploy-website">matrix-docker-ansible-deploy (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">website</a>)</h3>
<p>Matrix server setup using Ansible and Docker</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> announces</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> now has much-improved Synapse worker support:</p>
<ul>
<li>we've added support for <a href="https://matrix-org.github.io/synapse/latest/workers.html#stream-writers">Stream writer</a> workers</li>
<li>we've added support for running multiple federation sender workers (until now, we only supported 1 at most)</li>
<li>we've added support for running multiple pusher workers (until now, we only supported 1 at most)</li>
<li>we've added support for running <a href="https://matrix-org.github.io/synapse/latest/workers.html#background-tasks">background tasks on a worker</a></li>
<li>we've restored support for <code>appservice</code> workers (we had removed support for these after Synapse v1.59.0 deprecated them and redid how this type of worker is meant to be spawned)</li>
<li>we've restored support for <code>user_dir</code> workers (we had removed support for these after Synapse v1.59.0 deprecated them and redid how this type of worker is meant to be spawned)</li>
<li>we've made it possible to reliably use more than 1 <code>media_repository</code> worker (until now, using more than 1 could have caused issues due to us not correctly restricting where media background tasks run)</li>
</ul>
<p>Some backward incompatible changes were made, which could affect some people.</p>
<p>People who are using some reocmmendation configuration like <code>matrix_synapse_workers_preset: one-of-each</code> will now get 9 additional worker processes by default.</p>
<p>To learn more, see <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/CHANGELOG.md#potential-backward-compatibility-break-major-improvements-to-synapse-workers">our changelog entry</a></p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services üöÄ</h2>
<h3 id="etke-cc-website">etke.cc (<a href="https://etke.cc">website</a>)</h3>
<p>Your matrix server on your conditions</p>
<p><a href="https://matrix.to/#/@aine:etke.cc">Aine</a> announces</p>
<blockquote>
<p>@twim:cadair.com
We're happy to announce that the <a href="https://etke.cc/">etke.cc Matrix hosting service</a> is now better prepared to serve German customers!</p>
<p>Besides having completely localized the website (see <a href="https://etke.cc/de/">etke.cc in German here</a>) and Matrix server ordering flow, we're now also able to offer customer support in German.</p>
<p>If you're in Germany and would like to get a managed self-hosted Matrix server, neither self-hosting difficulties nor the language barrier is getting in the way anymore.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<p><a href="https://matrix.to/#/@progserega:matrix.org">use @progserega:rsprim.ru</a> says</p>
<blockquote>
<p>New bot to help admins of large rooms.
Capabilities:</p>
<ol>
<li>The admin can add a reaction signature to the user, which will be added by the bot to each message from this user, for example: &quot;spammer&quot;</li>
<li>The admin can fix violations of the rules of the room by the user. The counter of violations is also displayed as a reaction under each user message in the form: &quot;N ‚ùóÔ∏è&quot;, where N is the number of violations.</li>
<li>The bot captures who added the signature or violation, when it happened and for what reason (description). All this can be asked from the bot by any member of the room</li>
<li>The user can add his own description, which the bot will report to any member of the room on the appropriate request.</li>
<li>The moderator can switch the language that the bot speaks in this room. Message translations are stored in standard po files.</li>
</ol>
<p>Anybody can try bot by invite @react-sig-bot:sibnsk.net to his room.</p>
<p>Source code for the bot: <a href="https://github.com/progserega/matrix-reaction-signature-bot">https://github.com/progserega/matrix-reaction-signature-bot</a></p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks üó£Ô∏è</h2>
<h3 id="w3c-tpac-2022">W3C TPAC 2022</h3>
<p><a href="https://matrix.to/#/@cel:hope.net">cel</a> reports</p>
<blockquote>
<p>World Wide Web Consortium (W3C)'s TPAC (Technical Plenary and Advisory Committee, i.e. &quot;Annual W3C Conference&quot;) takes place, 12-16 September, Vancouver, BC, Canada: <a href="https://www.w3.org/2022/09/TPAC/">https://www.w3.org/2022/09/TPAC/</a></p>
<h3 id="w3c-matrix-space">W3C Matrix Space</h3>
<p>W3C now has a public Matrix space: #w3.org:matrix.org</p>
</blockquote>
<h2 id="dept-of-ping">Dept of Ping</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server.</p>
<h3 id="ping-maunium-net"><a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">nognu.de</td><td style="text-align: center">346</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">jameskitt616.one</td><td style="text-align: center">366.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">alemann.dev</td><td style="text-align: center">598</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">kittenface.studio</td><td style="text-align: center">824</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">matrix.nicfab.it</td><td style="text-align: center">1443</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">quyo.de</td><td style="text-align: center">1501</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">helderferreira.io</td><td style="text-align: center">1547</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">cutema.re</td><td style="text-align: center">1693</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">rom4nik.pl</td><td style="text-align: center">1763.5</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">jacksonchen666.com</td><td style="text-align: center">1824</td></tr>
</tbody></table>
<h3 id="ping-no-synapse-maunium-net"><a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a></h3>
<p>Join <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">conduit.hazmat.jacksonchen666.com</td><td style="text-align: center">231</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">sspaeth.de</td><td style="text-align: center">322</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">joeth.uk</td><td style="text-align: center">326</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">dendrite.matrix.org</td><td style="text-align: center">371</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">dendrite.neilalexander.dev</td><td style="text-align: center">539</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">rustybever.be</td><td style="text-align: center">627</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">kumma.juttu.asia</td><td style="text-align: center">711</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">matrix.awesomesheep48.me</td><td style="text-align: center">967</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">forlorn.day</td><td style="text-align: center">1611</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know">That's all I know</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

            
        </div>
        <div class="article_linebreak"></div>
    </article>
    
    <article class="content">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;14&#x2F;synapse-1-67-released&#x2F;" title="Synapse 1.67 released">Synapse 1.67 released</a></h1>
            <span>14.09.2022 11:03 ‚Äî <a
                    href="/category/releases">Releases</a>
                 ‚Äî <a href="/author/brendan-abolivier">Brendan Abolivier</a>
            </span>
            
        </header>
        <div class="post">
            
            <p>It's that time again - Synapse release time! <a href="https://github.com/matrix-org/synapse/releases/tag/v1.67.0">Synapse
1.67</a> is fresh out
of the oven, let's have a look at what's inside.</p>
<h2 id="removal-of-tcp-replication">Removal of TCP replication</h2>
<p>As announced in the <a href="https://matrix.org/blog/2022/09/02/synapse-1-66-released">Synapse 1.66 release
announcement</a>, Synapse 1.67 removes support for the legacy TCP replication protocol.</p>
<p>As a reminder, Synapse can be configured to use workers to spread its load over
multiple processes, or even multiple machines. These workers communicate between
each other (and with the main Synapse process) using something we call
&quot;replication&quot;.</p>
<p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.18.0">Synapse 1.18</a>
deprecated its TCP-based replication protocol, and replaced it with a brand new
one using <a href="https://redis.io/">Redis</a>. As of Synapse 1.67, this Redis-based
protocol is now the only protocol that can be used.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.67/upgrade.html#direct-tcp-replication-is-no-longer-supported-migrate-to-redis">upgrade
notes</a>
for more information.</p>
<h2 id="changes-for-installations-using-a-source-checkout">Changes for installations using a source checkout</h2>
<p>Server admins who installed Synapse using a source checkout might already be
familiar with <a href="https://python-poetry.org/">Poetry</a>. This is a tool we use
to better manage dependencies within Synapse. As of this version, we have
updated Synapse's dependency on Poetry to require Poetry 1.2, which was recently
released.</p>
<p>It is also worth noting that Synapse 1.68, which is due to release on the 27th
of September, will require a Rust compiler when installed from a source
checkout. This is because we are in the process of introducing Rust in Synapse's
code base, in order to make some hot code paths more efficient. See the <a href="https://matrix-org.github.io/synapse/v1.67/upgrade.html#rust-requirement-in-the-next-release">upgrade
notes</a>
for more information.</p>
<p>These two changes should not impact installations that use <code>pip install matrix-synapse</code>, Debian packages from <code>packages.matrix.org</code> or the
<code>matrixdotorg/synapse</code> Docker image to manage and run Synapse.</p>
<h2 id="everything-else">Everything else</h2>
<p>Synapse 1.68 (due on the 27th of September) will also require SQLite v3.27.0 or
higher when run with SQLite. Synapse 1.67 is the last version of Synapse to
support SQLite versions 3.22 to 3.26. See the <a href="https://matrix-org.github.io/synapse/v1.67/upgrade.html#sqlite-version-requirement-in-the-next-release">upgrade
notes</a>
for more information.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.67.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.67/upgrade#upgrading-to-v1670">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://github.com/dklimpel">Dirk Klimpel</a>,
<a href="https://www.beeper.com/">Beeper</a> and <a href="https://github.com/Vetchu">Jacek
Ku≈õnierz</a>, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.</p>

            
        </div>
        <div class="article_linebreak"></div>
    </article>
    
    <article class="content">
        <header>
            <h1><a href="&#x2F;blog&#x2F;2022&#x2F;09&#x2F;13&#x2F;security-release-of-matrix-appservice-irc-0-35-0-high-severity&#x2F;" title="Security release of matrix-appservice-irc 0.35.0 (High severity)">Security release of matrix-appservice-irc 0.35.0 (High severity)</a></h1>
            <span>13.09.2022 14:56 ‚Äî <a
                    href="/category/security">Security</a>
                 ‚Äî <a href="/author/denis-kasak">Denis Kasak</a>
            </span>
            
        </header>
        <div class="post">
            
            <p>We've released a new version of matrix.org's node-irc 1.3.0 and
matrix-appservice-irc 0.35.0, to patch several security issues:</p>
<ul>
<li>IRC mode operator confusion (Low, <a href="https://github.com/matrix-org/matrix-appservice-irc/security/advisories/GHSA-cq7q-5c67-w39w">GHSA-cq7q-5c67-w39w</a>)</li>
<li>Parsing issue leading to room takeovers (High, <a href="https://github.com/matrix-org/matrix-appservice-irc/security/advisories/GHSA-xvqg-mv25-rwvw">GHSA-xvqg-mv25-rwvw</a>)</li>
<li>Undisclosed issue (Moderate, <a href="https://github.com/matrix-org/matrix-appservice-irc/security/advisories/GHSA-r3p6-cg2c-c4qw">GHSA-r3p6-cg2c-c4qw</a>)</li>
</ul>
<p>The details of the final vulnerability will be released at a later date,
pending an audit of the codebase to ensure it's not affected by other similar
vulnerabilities.</p>
<p>The vulnerabilities have been patched in node-irc version 1.3.0 and
matrix-appservice-irc 0.35.0. You can get the release on
<a href="https://github.com/matrix-org/matrix-appservice-irc/releases">Github</a>.</p>
<p>The bridges running on the Libera Chat, OFTC and other networks bridged by the
Matrix.org Foundation have been patched.</p>
<p><strong>Please upgrade your IRC bridge as soon as possible.</strong></p>
<p>The above vulnerabilities were reported by <a href="https://valentin-lorentz.fr/">Val
Lorentz</a>. Thank you!</p>

            
        </div>
        <div class="article_linebreak"></div>
    </article>
    
    <nav class="pagination content">
        
        <div></div>
        
        
        <a class="w-button button-dark" href="&#x2F;blog&#x2F;page&#x2F;2&#x2F;">Next ‚Ä∫</a>
        
    </nav>
</main>


    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;matrixlive">Matrix Live</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
        </div>
    </div>
    <p>¬© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
