<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - General</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/category/general/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>General</h1>
            98 posts tagged with "General" <a href="/category">(See all Category)</a>
            
            <h2>
                <small><a href="/category/general/atom.xml">Atom Feed</a></small>
            </h2>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;02&#x2F;16&#x2F;android-matrix-console-0-5-3&#x2F;" title="Android Matrix Console 0.5.3">Android Matrix Console 0.5.3</a></h2>
                <span>
                    16.02.2016 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/oddvar-lovaas">
                        Oddvar Lovaas
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>We have put an updated version of the Android Matrix Console app (v0.5.3) on the Play store!</p>
<p>This release mainly includes performance improvements, such as using the new &quot;V2&quot; sync API, and other optimisations which should make your user experience a lot nicer. There's also a few new features in the SDK (e.g. tags support) - these will be added to the app hopefully soon.</p>
<p>For the full list of changes, look at the CHANGES files in the android <a href="https://github.com/matrix-org/matrix-android-console/blob/master/CHANGES.rst">console</a> and <a href="https://github.com/matrix-org/matrix-android-sdk/blob/master/CHANGES.rst">SDK</a> projects</p>
<p>Get it from the <a href="https://play.google.com/store/apps/details?id=org.matrix.androidsdk.alpha">Google play store</a>!</p>
<p>Enjoy! And please do let us know your feedback in <a href="https://vector.im/beta/#/room/#matrix:matrix.org">#matrix:matrix.org</a> or <a href="https://vector.im/beta/#/room/#android:matrix.org">#android:matrix.org</a>!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;02&#x2F;10&#x2F;advanced-synapse-setup-with-let-s-encrypt&#x2F;" title="Advanced Synapse setup with Let&#x27;s Encrypt">Advanced Synapse setup with Let&#x27;s Encrypt</a></h2>
                <span>
                    10.02.2016 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/david-baker">
                        David Baker
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>So, you've installed an configured synapse and started chatting from your very own Matrix home server? What's the next step? Well, right now you're probably accessing your new home server over plaintext HTTP, which is bad, particularly because you'll be sending your password over this connection when you log in. You could connect to Synapse's secure HTTP port, but your browser won't trust it by default because you'd normally need to pay for a certificate that your browser would recognise. That is, until recently!</p>
<p><a href="https://letsencrypt.org/" target="_blank">Let's Encrypt</a> is a new initiative that issues SSL certificates free of charge, in an effort to make SSL universal on the Internet. In this blog post, we'll be walking through an example of how we can use this service to get ourselves a securely hosted Synapse.</p>
<p>We're going to assume you have a Synapse installed and listening on the standard ports, 8008 and 8448. If not, follow the <a href="https://github.com/matrix-org/synapse/blob/master/README.rst" target="_blank">Synapse README</a> and come back here when you're done. Everybody ready? Okay, good.</p>
<p>So, in order to get a certificate from Let's Encrypt, we need to prove that we own our domain. The simplest way to do this is to host some special files on our web server. Now, Synapse won't do this. We could use a separate web server, but then we'd have to stop Synapse and start the other web server every time we renewed our certificate, and that means downtime. Instead, let's put our Synapse behind a proper web server and let that serve the files. This has added advantages, including that we can host our Matrix home server on the standard port 443 without having to run Synapse as root.</p>
<p>For this example, we're going to use NGINX, so start by installing NGINX in whatever way your Linux distribution of choice recommends.</p>
<p>Now, you should have a webroot for your new web server somewhere. Hopefully your helpful Linux distribution has started you off with a config file - let's see:</p>
<pre># nano /etc/nginx/nginx.conf
</pre>
<p>We're looking for the 'server' section of that file. We need to make it look something like this:</p>
<pre>    server {'{'}
        # Make sure this is 0.0.0.0: no use listening on 127.0.0.1 or we'll only be
        # serving to ourselves! There's no port here, which means we'll listen on
        # port 80
        listen 0.0.0.0;

        server_name example.com www.example.com;

        access_log /var/log/nginx/example.com.access_log main;
        error_log /var/log/nginx/example.com info;

        # This is where we put the files we want on our site
        root /var/www/examplecom/htdocs;

        # Here's where it gets interesting: This will send any path that starts
        # with /_matrix to our Synapse!

        location /_matrix {'{'}
            proxy_pass http://localhost:8008;
        {'}'}
    {'}'}
</pre>
<p>When you're happy with the look of that file, let's restart the server:</p>
<pre># nginx -s reload
</pre>
<p class="p1">Before we go any further, let's test our new configuration:</p>
<pre>$ curl http://example.com/_matrix/key/v2/server/auto
{'{'}"old_verify_keys":{'{'}{'}'},"server_name":"example.com","signatures":{'{'}"example.com":{'{'}"ed25519:auto":"RWb+w6vHUUokoDgElwG6Cg50ezZvBrzXtJmJIH8jEwI5x0JQ7prn3FwjhbgKTH5jE7J8Ily3HEc4COn4JCCvCA"{'}'}{'}'},"tls_fingerprints":[{'{'}"sha256":"DMbzSZ5Uj7/6p/RT/UtQYJLHm5o0TwBSVYXsqpDdVDs"{'}'}],"valid_until_ts":1455203001035,"verify_keys":{'{'}"ed25519:auto":{'{'}"key":"1YiTDjmE86AlmrbIYE2lyqauV9wPo8jw2kxZAZFfl/Q"{'}'}{'}'}{'}'}
</pre>
<p class="p1">Those are your server's public keys! Now we have a web server running, we can get our SSL certificate. Let's Encrypt have their own client which will automate everything including rewriting your NGINX config file, however that means it has a large number of dependencies and needs to be run as root. For this example, we're going to use the much simpler <a href="https://github.com/diafygi/acme-tiny" target="_blank">acme_tiny.py</a>. I'm going to assume you have a user called, 'letsencrypt', so, as root, let's set up the place for it to write its challenge files:</p>
<pre># mkdir /var/www/examplecom/htdocs/.well-known/acme-challenge
# chown letsencrypt:users /var/www/examplecom/htdocs/.well-known/acme-challenge
</pre>
<p class="p1">Now let's switch to our letsencrypt user:</p>
<pre>$ ssh letsencrypt@example.com
</pre>
<p class="p1">We'll start by getting ourselves a copy of acme_tiny.py:</p>
<pre>$ git clone https://github.com/diafygi/acme-tiny.git
</pre>
<p class="p1">Now let's set up a directory structure (let's say we might want to manage more than one domain someday):</p>
<pre>$ mkdir examplecom
$ cd examplecom
$ ln -s /var/www/examplecom/htdocs/.well-known/acme-challenge challenges
</pre>
<p class="p1">Now, we'll need to generate two keys for Let's Encrypt, and account key and a domain key. The former is what we use to identify ourselves to Let's Encrypt and the latter is the key we use to do the actual SSL.</p>
<pre>$ openssl genrsa 4096 &gt; letsencrypt_examplecom_account.key
Generating RSA private key, 4096 bit long modulus
..++
.................................................................................................................................................................................................................................................................................................................................................................................................................++
e is 65537 (0x10001)
$ chmod 600 letsencrypt_examplecom_account.key
$ openssl genrsa 4096 &gt; letsencrypt_examplecom_domain.key
Generating RSA private key, 4096 bit long modulus
.............++
.............................................................................................................................................................................................++
e is 65537 (0x10001)
$ chmod 600 letsencrypt_examplecom_domain.key
</pre>
<p class="p1">Now, store those keys somewhere safe! After you've done that, let's generate a certificate request for our domain. Note that we're requesting one for both example.com and www.example.com: this isn't strictly necessary for Matrix but could be useful if we want to host a website too.</p>
<pre>$ openssl req -new -sha256 -key letsencrypt_examplecom_domain.key -subj "/" -reqexts SAN -config &lt;(cat /etc/ssl/openssl.cnf &lt;(printf "[SAN]\\nsubjectAltName=DNS:example.com,DNS:www.example.com")) &gt; examplecom.csr
</pre>
<p class="p1">Okay, we have our keys, our certificate request, and somewhere to host our challenge files, so we're ready to request a certificate! Be careful about this part and make sure you've got everything right, because Let's Encrypt enforce strict rate limits on the number of certificates you can request for one domain. Here we go:</p>
<pre>$ python ~/acme-tiny/acme_tiny.py --account letsencrypt_examplecom_account.key --csr examplecom.csr --acme-dir challenges/ &gt; examplecom.crt
Parsing account key...
Parsing CSR...
Registering account...
Registered!
Verifying example.com...
example.com verified!
Verifying www.example.com...
www.example.com verified!
Signing certificate...
Certificate signed!
</pre>
<p class="p1">Is that it, did it work? Well, let's see:</p>
<pre>$ openssl x509 -in examplecom.crt -noout -text
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            01:02:22:77:02:1b:eb:d5:3d:c3:14:6d:87:43:22:3d:fc:0f
    Signature Algorithm: sha256WithRSAEncryption
        Issuer: C=US, O=Let's Encrypt, CN=Let's Encrypt Authority X3
        Validity
            Not Before: Feb  6 21:37:00 2016 GMT
            Not After : May  6 21:37:00 2016 GMT
        Subject: CN=example.com
        Subject Public Key Info:
[etc]
</pre>
<p class="p1">Congratulations, you have an official, signed certificate for your domain! Now, before we can use it, we need to add the Let's Encrypt certificate to it, because our web server needs to send both:</p>
<pre>$ wget https://letsencrypt.org/certs/lets-encrypt-x3-cross-signed.pem
--2016-02-06 23:38:55--  https://letsencrypt.org/certs/lets-encrypt-x3-cross-signed.pem
Resolving letsencrypt.org... 23.66.17.98, 2a02:26f0:60:489::2a1f, 2a02:26f0:60:481::2a1f
Connecting to letsencrypt.org|23.66.17.98|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 1675 (1.6K) [application/x-x509-ca-cert]
Saving to: ‘lets-encrypt-x3-cross-signed.pem'
lets-encrypt-x3-cross-signed.pe 100%[======================================================&gt;]   1.64K  --.-KB/s   in 0s
2016-02-06 23:38:55 (61.5 MB/s) - ‘lets-encrypt-x3-cross-signed.pem' saved [1675/1675]
$ cat examplecom/examplecom.crt lets-encrypt-x3-cross-signed.pem &gt;examplecom/examplecom_cert_chain.crt
</pre>
<p class="p1">Now's let's symlink it in place, along with the domain key, so we can renew it easily later. We'll need to be root again for this:</p>
<pre>$ ssh root@example.com
# ln -s /home/letsencrypt/examplecom/examplecom_cert_chain.crt /etc/ssl/nginx/examplecom_cert.pem
# ln -s /home/letsencrypt/examplecom/letsencrypt_examplecom_domain.key /etc/ssl/nginx/examplecom_key.pem
</pre>
<p class="p1">Now, one more crucial thing we have to do before using our SSL is to give NGINX some Diffie Hellman parameters. This is a good thing to do for any SSL configuration (it will increase your score on <a href="https://www.ssllabs.com/ssltest/" target="_blank">SSL Labs</a>) but it's absolutely crucial for us because Synapse will only negotiate forward secret connections, so otherwise other Matrix home servers will refuse to talk to us! (Technically, Synapse also support elliptic curve Diffie Hellman, which doesn't need DH parameters, but not all Synapses will support this.) You'll already have some Diffie Hellman parameters from you existing Synapse, so you could use them:</p>
<pre># cp /home/synapse/synapse/matrix.example.com.tls.dh /etc/ssl/nginx/examplecom_dhparams.pem
</pre>
<p class="p1">...or you can generate your own. You'll probably want to do this on your desktop or laptop if you have OpenSSL installed, it will be much faster:</p>
<pre>$ openssl dhparam -out examplecom_dhparams.pem 2048
Generating DH parameters, 2048 bit long safe prime, generator 2
This is going to take a long time
........................................................+................[etc, etc]
$ scp examplecom_dhparams.pem root@example.com:/etc/ssl/nginx/examplecom_dhparams.pem
</pre>
<p class="p1">Now, let's get our new certificate in action! Open up your NGINX config file again, and add another server block that look like this:</p>
<pre>    server {'{'}
        listen 0.0.0.0:443;
        server_name example.com www.example.com;
        ssl on;
        ssl_certificate /etc/ssl/nginx/examplecom_crt.pem;
        ssl_certificate_key /etc/ssl/nginx/examplecom_key.pem;
        ssl_dhparam /etc/ssl/nginx/examplecom_dhparams.pem;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_prefer_server_ciphers on;
        # mozilla intermediate list, jan 2016
        ssl_ciphers "ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:ECDHE-RSA-DES-CBC3-SHA:ECDHE-ECDSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA";
        ssl_session_cache shared:SSL:50m;
        access_log /var/log/nginx/examplecom.ssl_access_log main;
        error_log /var/log/nginx/examplecom.ssl_error_log info;
        root /var/www/examplecom/htdocs;
        location /_matrix {'{'}
            proxy_pass http://localhost:8008;
        {'}'}
    {'}'}
</pre>
<p class="p2">It looks pretty similar to our previous server block, except for all that stuff about SSL in the middle. We're pointing NGINX at our certificate, key and Diffie Hellman parameter files and specifying what protocols and ciphers we want our server to talk. The long list here is taken from <a href="https://wiki.mozilla.org/Security/Server_Side_TLS" target="_blank">Mozilla's Server Side TLS guidelines</a> and is their 'Intermediate' list. See that page for more information on what that means, and choose a different list of ciphers if you prefer: just remember we must support at least the ephemeral Diffie Hellman ciphers, or other home servers won't talk to us!</p>
<p class="p2">Now let's restart our NGINX and see if it works:</p>
<pre># nginx -s reload
</pre>
<p class="p2">...and that command again, this time with https:</p>
<pre>$ curl https://example.com/_matrix/key/v2/server/auto
{'{'}"old_verify_keys":{'{'}{'}'},"server_name":"example.com","signatures":{'{'}"example.com":{'{'}"ed25519:auto":"RWb+w6vHUUokoDgElwG6Cg50ezZvBrzXtJmJIH8jEwI5x0JQ7prn3FwjhbgKTH5jE7J8Ily3HEc4COn4JCCvCA"{'}'}{'}'},"tls_fingerprints":[{'{'}"sha256":"DMbzSZ5Uj7/6p/RT/UtQYJLHm5o0TwBSVYXsqpDdVDs"{'}'}],"valid_until_ts":1455203001035,"verify_keys":{'{'}"ed25519:auto":{'{'}"key":"1YiTDjmE86AlmrbIYE2lyqauV9wPo8jw2kxZAZFfl/Q"{'}'}{'}'}{'}'}
</pre>
<p class="p1">Hooray! You should now be able to open a browser to https://example.com/matrix/ and log in securely over SSL!</p>
<h2 class="p1">Renewing Your Certificate</h2>
<p class="p1">Now, there's one important step left, and that's to set up renewal for the certificate, otherwise we'll find our shiny new SSL will stop working in three months time. We can use the same acme_tiny command to do this:</p>
<pre>$ python ~/acme-tiny/acme_tiny.py --account letsencrypt_examplecom_account.key --csr examplecom.csr --acme-dir challenges/ &gt; examplecom.crt
Parsing account key...
Parsing CSR...
Registering account...
Already registered!
Verifying example.com...
example.com verified!
Verifying www.example.com...
www.example.com verified!
Signing certificate...
Certificate signed!
$ wget https://letsencrypt.org/certs/lets-encrypt-x3-cross-signed.pem
--2016-02-06 23:38:55--  https://letsencrypt.org/certs/lets-encrypt-x3-cross-signed.pem
Resolving letsencrypt.org... 23.66.17.98, 2a02:26f0:60:489::2a1f, 2a02:26f0:60:481::2a1f
Connecting to letsencrypt.org|23.66.17.98|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 1675 (1.6K) [application/x-x509-ca-cert]
Saving to: ‘lets-encrypt-x3-cross-signed.pem'
lets-encrypt-x3-cross-signed.pe 100%[======================================================&gt;]   1.64K  --.-KB/s   in 0s
2016-02-06 23:38:55 (61.5 MB/s) - ‘lets-encrypt-x3-cross-signed.pem' saved [1675/1675]
$ cat examplecom/examplecom.crt lets-encrypt-x3-cross-signed.pem &gt;examplecom/examplecom_cert_chain.crt
</pre>
<p class="p1">Synapse will automatically pick up the new certificate, but we'll need to tell NGINX to reload:</p>
<pre># nginx -s reload
</pre>
<p class="p1">Setting up a cronjob to automate this is left as an exercise to the reader!</p>
<h2 class="p1">Federation behind the HTTP Proxy</h2>
<p class="p1">If you like, you can stop reading now: our clients can access our home server securely but other home server are still talking to our Synapse directly on port 8448. This is fine, and if you're happy with this, you can stop reading now. But remember how we made sure other Synapses could talk to our NGINX? Well, why not put federation behind our new web server too?</p>
<p class="p1">Now, we need to do a couple of things to make this work: were you looking carefully at the JSON those curl commands returned? If you were, you might have noticed a key called, 'tls_fingerprints'. Our home server serves up a fingerprint of the TLS certificate its using from this API, and we've just given our web server a different certificate, so we need to give Synapse our new certificate.</p>
<p class="p1">How are we going to tell other home servers to talk to our NGINX instead? Well, ultimately we're going to change our DNS SRV record to point at port 443 instead of port 8448, but that change could take a while to propagate through caches, so let's test it by having our NGINX listen on port 8448 temporarily. We can do this by copying that same block from above, but with a different port:</p>
<pre>    server {'{'}
        listen 0.0.0.0:8448;
        server_name example.com www.example.com;
    [etc]
</pre>
<p class="p2">Don't restart NGINX just yet: we need to tell our Synapse to stop listening on that port first, so lets do that and give it our new certificate:</p>
<pre>$ nano /home/synapse/synapse/homeserver.yaml
</pre>
<p class="p2">Now we'll want to find and edit the following lines:</p>
<pre>tls_certificate_path: "/etc/ssl/nginx/examplecom_crt.pem"
# We can comment this out, as long as we set no_tls to true below
# tls_private_key_path: "/whatever/path/synapse/generated"
# PEM dh parameters for ephemeral keys
tls_dh_params_path: "/whatever/path/synapse/generated"
# Turn off TLS everywhere (this overrides the listeners section below)
no_tls: True
  - port: 8008
    tls: false
    # We can bind to only localhost since only the local nginx needs to hit this
    bind_address: '127.0.0.1'
    type: http
    # Set this so that Synapse obeys nginx's X-Forwarded-For headers, then IP addresses will be correct in Synapse's logs
    x_forwarded: true
    resources:
      - names: [client, webclient]
        compress: true
      - names: [federation]
        compress: false
</pre>
<p class="p2">Note: if you have an old enough config file that you have 'bind_host' and 'bind_port' directives, now is the time to remove them.</p>
<p class="p2">Now let's restart Synapse and our web server to swap over what's listening on our port 8448:</p>
<pre>$ synctl restart
# nginx -s reload
</pre>
<p class="p2">Now let's try that test again on port 8448:</p>
<pre>$ curl https://example.com:8448/_matrix/key/v2/server/auto
{'{'}"old_verify_keys":{'{'}{'}'},"server_name":"example.com","signatures":{'{'}"example.com":{'{'}"ed25519:auto":"bdca31805e4209f6ff4d644251a29d0cb1dc828a4d6131c57cf8305288f337c0"{'}'}{'}'},"tls_fingerprints":[{'{'}"sha256":"1d9ec66599e229654a79f28e26675fdeb585027553af6d581926e821a6b6527c"{'}'}],"valid_until_ts":1455203001035,"verify_keys":{'{'}"ed25519:auto":{'{'}"key":"1YiTDjmE86AlmrbIYE2lyqauV9wPo8jw2kxZAZFfl/Q"{'}'}{'}'}{'}'}
</pre>
<p class="p1">Notice anything different? The tls_fingerprints part has changed because we now have a different certificate. The signatures/example.com/ed25519:auto value has changed too: that's because that part is a signature of the rest of JSON object, so changing the tls_fingerprints has caused this to change too.</p>
<p class="p1">And that's it! If you're happy everything is working, you can then change your DNS SRV record to point at port 443 instead of 8448, then after leaving a few days for the change to propagate through caches, remove the extra server block from your nginx.conf and restart to stop your nginx listening on port 8448.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;02&#x2F;09&#x2F;matrix-in-japan&#x2F;" title="Matrix in Japan!">Matrix in Japan!</a></h2>
                <span>
                    09.02.2016 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/oddvar-lovaas">
                        Oddvar Lovaas
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>こんにちは </p>
<p>Matrix is on its way to Japan where Kegan is attending the <a href="http://tadhack.com/2016/mini-japan/">TADHack-mini</a> (Feb 13th and 14th) and <a href="http://webrtcconference.jp/">WebRTC Conference</a> (Feb 16th and 17th).</p>
<p>Kegan will help hackers with their projects during the TADHack, but first, he will give a talk on Matrix and how it can be used. We are again awarding a <a href="http://www.trossenrobotics.com/">trossen robot</a> to the best hack using Matrix, and we are as always curious to see what kind of cool and crazy ideas people will come up with!</p>
<p>A couple of days later, Kegan will be giving a talk during the <a href="http://webrtcconference.jp/session/#">WebRTC Conference</a>: &quot;The missing signalling layer for WebRTC&quot;. </p>
<p>Both of the talks will be live-translated, and there will also be a translator available during the events, so please come and say hello to Kegan-san! As always, we are also available in the Matrix HQ room, via a client like <a href="https://vector.im/beta/#/room/#matrix:matrix.org">Vector</a> or <a href="http://matrix.org/blog/try-matrix-now/">any other client</a>!</p>
<img src="/blog/wp-content/uploads/2016/02/Item_A_150x100.jpg" alt="Item_A_150x100" width="425" height="283" class="aligncenter size-full wp-image-1512" />

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;12&#x2F;01&#x2F;matrix-at-32c3-congress&#x2F;" title="Matrix at 32C3 Congress!">Matrix at 32C3 Congress!</a></h2>
                <span>
                    01.12.2015 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/oddvar-lovaas">
                        Oddvar Lovaas
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="http://ccc.de/"><img src="http://matrix.org/blog/wp-content/uploads/2015/12/fairydust.jpg" alt="fairydust" width="128" height="128" class="alignright size-full wp-image-1399" /></a>
Matrix will be represented at the 32nd Chaos Computer Club, Dec 27th-30th, 2015. We hope to be arranging an <a href="https://events.ccc.de/congress/2015/wiki/Assembly:Matrix">assembly</a>, where people can come along to learn about Matrix and our recent work on end-to-end encryption, find out what they can use Matrix for - and also do some hacking at the same time!</p>
<p><b>UPDATE: We've snagged a table for the assembly at: &quot;hackcenter room with C-base, a table along the pathway&quot;. In practice only Mjark is there from Matrix and may be moving around, so may be easiest to coordinate meetups via #32C3:matrix.org</b></p>
<p>The session is free of charge, although you do need a ticket to the Congress itself.</p>
<p>If you are interested, please register by sending an email to mark@matrix.org. All you need for the session is curiosity - but do bring your own laptop if you want to hack as well!</p>
<p>Anyone is welcome to join - it will basically be a fairly open-ended chat about all things relating to Matrix, and a good chance to do some deep digging into Matrix itself.</p>
<p>Hope to see you there!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;11&#x2F;22&#x2F;matrix-console-ios-0-5-6&#x2F;" title="Matrix Console iOS 0.5.6">Matrix Console iOS 0.5.6</a></h2>
                <span>
                    22.11.2015 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/oddvar-lovaas">
                        Oddvar Lovaas
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>In addition to the Android release a couple of days ago, we also released a new version of Matrix Console iOS: v0.5.6! </p>
<p>This release includes a new version of MatrixKit (v0.2.7) that you can take advantage of in your MatrixKit powered app. There are several changes in MatrixKit since the last release, including improved performance, better handling of unrecognized certificates and fixes of reported crash issues. We have also introduced read receipts, improved the chat history display, made room invites more obvious, and fixed a whole lot of JIRA issues.</p>
<p>You can find the full list of changes in the MatrixKit <a href="https://github.com/matrix-org/matrix-ios-kit/blob/master/CHANGES.rst">CHANGES.rst</a> and the Matrix Console iOS <a href="https://github.com/matrix-org/matrix-ios-console/blob/master/CHANGES.rst">CHANGES.rst</a> files.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;11&#x2F;20&#x2F;android-matrix-console-0-5-2&#x2F;" title="Android Matrix Console 0.5.2">Android Matrix Console 0.5.2</a></h2>
                <span>
                    20.11.2015 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/oddvar-lovaas">
                        Oddvar Lovaas
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>The Android Matrix Console app v0.5.2 is currently in the queue to go live on the Play store!</p>
<p>This release includes:</p>
<ul>
	<li>Read receipts!</li>
	<li>Call ring volume is now based on device ring volume</li>
	<li>Accessibility tweaks from Peter Vágner - thanks!</li>
	<li>Better SSL support for older devices</li>
	<li>We fixed an echo problem in Android{'<->'}Android VOIP calls</li>
	<li>A ringback tone for placing outbound calls was added</li>
	<li>Lots of small improvements, e.g. better recent message display and add account dialog</li>
	<li>Fixed several reported issues/crashes - for the full list look at the CHANGES files in the <a href="https://github.com/matrix-org/matrix-android-console/blob/master/CHANGES.rst">console</a> and <a href="https://github.com/matrix-org/matrix-android-sdk/blob/master/CHANGES.rst">SDK</a> projects</li>
</ul>
<p>Get it RSN from the <a href="https://play.google.com/store/apps/details?id=org.matrix.androidsdk.alpha">Google play store</a>!</p>
<p>Enjoy! And please do let us know your feedback in <a href="/beta/#/room/#matrix:matrix.org">#matrix:matrix.org</a>!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;11&#x2F;17&#x2F;synapse-0-11-0-is-here&#x2F;" title="Synapse 0.11.0 is here!">Synapse 0.11.0 is here!</a></h2>
                <span>
                    17.11.2015 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/oddvar-lovaas">
                        Oddvar Lovaas
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Today, we are releasing Synapse version 0.11.0. In the last week, we have had two release candidates, and this release also includes changes in v0.10.1-rc1 from October. </p>
<p>New features include a new Search API and better options for logging in (CAS and login fallback support) - thanks to Steven for contributing CAS support. We also introduce room tagging and as usual, there are plenty of improvements and fixes. For the full info, see the changelog below.</p>
<p>To upgrade, go read <a href="https://github.com/matrix-org/synapse/blob/master/UPGRADE.rst">https://github.com/matrix-org/synapse/blob/master/UPGRADE.rst</a> - to install for the first time, go to <a href="https://github.com/matrix-org/synapse/blob/master/README.rst">https://github.com/matrix-org/synapse/blob/master/README.rst</a>.</p>
<code>
Changes in synapse v0.11.0 (2015-11-17)
=======================================
<ul>
<li>Change CAS login API (PR #349)</li>
</ul>
<h1 id="changes-in-synapse-v0-11-0-rc2-2015-11-13">Changes in synapse v0.11.0-rc2 (2015-11-13)</h1>
<ul>
<li>Various changes to /sync API response format (PR #373)</li>
<li>Fix regression when setting display name in newly joined room over federation (PR #368)</li>
<li>Fix problem where /search was slow when using SQLite (PR #366)</li>
</ul>
<h1 id="changes-in-synapse-v0-11-0-rc1-2015-11-11">Changes in synapse v0.11.0-rc1 (2015-11-11)</h1>
<ul>
<li>Add Search API (PR #307, #324, #327, #336, #350, #359)</li>
<li>Add 'archived' state to v2 /sync API (PR #316)</li>
<li>Add ability to reject invites (PR #317)</li>
<li>Add config option to disable password login (PR #322)</li>
<li>Add the login fallback API (PR #330)</li>
<li>Add room context API (PR #334)</li>
<li>Add room tagging support (PR #335)</li>
<li>Update v2 /sync API to match spec (PR #305, #316, #321, #332, #337, #341)</li>
<li>Change retry schedule for application services (PR #320)</li>
<li>Change retry schedule for remote servers (PR #340)</li>
<li>Fix bug where we hosted static content in the incorrect place (PR #329)</li>
<li>Fix bug where we didn't increment retry interval for remote servers (PR #343)</li>
</ul>
<h1 id="changes-in-synapse-v0-10-1-rc1-2015-10-15">Changes in synapse v0.10.1-rc1 (2015-10-15)</h1>
<ul>
<li>Add support for CAS, thanks to Steven Hammerton (PR #295, #296)</li>
<li>Add support for using macaroons for access_token (PR #256, #229)</li>
<li>Add support for m.room.canonical_alias (PR #287)</li>
<li>Add support for viewing the history of rooms that they have left. (PR #276, #294)</li>
<li>Add support for refresh tokens (PR #240)</li>
<li>Add flag on creation which disables federation of the room (PR #279)</li>
<li>Add some room state to invites. (PR #275)</li>
<li>Atomically persist events when joining a room over federation (PR #283)</li>
<li>Change default history visibility for private rooms (PR #271)</li>
<li>Allow users to redact their own sent events (PR #262)</li>
<li>Use tox for tests (PR #247)</li>
<li>Split up syutil into separate libraries (PR #243)</li>
</ul>
</code>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;10&#x2F;19&#x2F;redecentralize-conference-taking-back-the-net&#x2F;" title="Redecentralize Conference - taking back the net">Redecentralize Conference - taking back the net</a></h2>
                <span>
                    19.10.2015 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/oddvar-lovaas">
                        Oddvar Lovaas
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="http://matrix.org/blog/wp-content/uploads/2015/10/rdc15.png"><img src="http://matrix.org/blog/wp-content/uploads/2015/10/rdc15.png" alt="rdc15" width="200" height="200" class="alignright size-full wp-image-1330" /></a> This weekend, I went to the first <a href="http://redecentralize.org/conference/">Redecentralize Conference</a>. I thought it was a good mix of traditional tech talks and sessions where we discussed how to make people aware of why the net needs to be decentralised. There were a lot of interesting people and we had some really thought-provoking discussions. Sessions in the main room were filmed and <a href="https://www.youtube.com/channel/UCxfh-2aOR5hZUjxJLQ2CIHw">can be found here</a>.</p>
<p>I did a talk on Matrix in one of the tutorial rooms, and it was great to see people with lots of questions and comments in the session. If you missed the talk - or have further questions: the <a href="http://matrix.org/docs/guides/faq.html">FAQ</a> might have the answer, or maybe <a href="http://matrix.org/docs/spec/">the Spec</a> itself - and there's always <a href="/beta/#/room/#matrix:matrix.org">#matrix:matrix.org</a> where you can find me and the whole matrix team.</p>
<p>At the <a href="https://www.youtube.com/watch?v=ZuPIoN5DO_k">end of day-panel</a> on the first day, the question &quot;are there any projects that are ready for mass adoption&quot; was posed, and <a href="https://twitter.com/shevski">Ira</a> picked Matrix as her answer, which was great to hear. We have come a long way <a href="http://matrix.org/blog/2015/09/07/matrix-one-year-in/">in the last year</a>, and I think Matrix now has &quot;enough&quot; features to be a realistic option for your IM/VoIP and group chat needs.</p>
<p>I really enjoyed redecentralize and hope it will be repeated! Thanks to the <a href="http://redecentralize.org/">redecentralize.org</a> gang for arranging it!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;10&#x2F;07&#x2F;android-matrix-console-0-5-1-released&#x2F;" title="Android Matrix Console 0.5.1 released!">Android Matrix Console 0.5.1 released!</a></h2>
                <span>
                    07.10.2015 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/oddvar-lovaas">
                        Oddvar Lovaas
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Following from the addition of voice and video calling in the previous release, we have added some new features and fixed more bugs - and released v0.5.1 of the Android version of the Matrix Console app. </p>
<p><strong>Please note that installing this update will log you out of the app and require you to sign in again!</strong></p>
<p>This release includes:</p>
<ul>
	<li>Support for self-signed certificates</li>
	<li>Support for recording and sending video messages</li>
	<li>We have improved the performance when you resume the app</li>
	<li>We fixed a bug where a picture/video would disappear after rotation</li>
	<li>Fixed several reported issues/crashes - for the full list look at the CHANGES files in the <a href="https://github.com/matrix-org/matrix-android-console/blob/master/CHANGES.rst">console</a> and <a href="https://github.com/matrix-org/matrix-android-sdk/blob/master/CHANGES.rst">SDK</a> projects</li>
</ul>
<p>Get it now from the <a href="https://play.google.com/store/apps/details?id=org.matrix.androidsdk.alpha">Google play store</a>!</p>
<p>Enjoy! And please do let us know your feedback in <a href="/beta/#/room/#matrix:matrix.org">#matrix:matrix.org</a>!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;10&#x2F;06&#x2F;congrats-to-our-tadhack-matrix-winner&#x2F;" title="Congrats to our TADHack Matrix Winner!">Congrats to our TADHack Matrix Winner!</a></h2>
                <span>
                    06.10.2015 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/oddvar-lovaas">
                        Oddvar Lovaas
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>A weekend of intense prototyping and hacking at <a href="http://tadhack.com/2015/tadhack-mini-chicago/">TADHack-mini Chicago</a> is over, and we were very happy to again see some really interesting projects using Matrix!</p>
<p>Team 'Vivo' - Nestor Bermudez and Arin Sime - used Matrix, Tropo, and Telestax to create an Apple Watch app that notifies your loved ones when you are having a heart attack. Find <a href="https://webrtc.ventures/2015/10/apple-watch-heart-rate-monitor/">more information here</a> - and <a href="https://www.youtube.com/watch?v=dYrbKSgAZZI">a recording of their presentation here</a>. This project won the Telestax prize.</p>
<p>Charles Solar and Jiang Shuyang used Matrix and Flowroute resources for a platform independent app called 'Samaritan' which allows users to post help requests like &quot;I got a flat tire!&quot; or &quot;My computer crashed!&quot;. Others can then call / text / video chat with them to solve their problem. <a href="https://www.youtube.com/watch?v=jTcbFaAPArY">A video of their presentation can be seen here</a>. This hack won the Flowroute prize.</p>
<p>Vladimir Beloborodov demoed his award-winning Matrix-hack from <a href="http://matrix.org/blog/2014/12/24/matrix-wins-best-innovation-award-at-webrtc-paris/">WebRTC Paris</a>: using Matrix just to set up a WebRTC connection between his iPad and robot, thus proving that you can have a robot with telepresence functions without having to depend on a remote server - see <a href="https://www.youtube.com/watch?v=Jq2vzavYiBI">his demo here</a>.</p>
<p>Adnan Baleh, Caterina Lazaro, Javier Garcia, Ernesto G. Grabwosky, Sergio Gil and Marion Le Callonnec - Team 'ProbatioNerds' - created a mobile Matrix app to control the provided <a href="http://www.trossenrobotics.com/HR-OS1">Trossen Robotics HR-OS1 Humanoid Endoskeleton robot</a> over the Internet - even making it dance the Macarena! <a href="https://www.youtube.com/watch?v=lCv8dfbwr88">Presentation video can be seen here</a>. We awarded team 'ProbatioNerds' the TADHack Matrix prize - an HR-OS1 - and we hope the team and the robot will keep learning new tricks and moves!</p>
<p>[caption id=&quot;attachment_1307&quot; align=&quot;aligncenter&quot; width=&quot;1024&quot;]<a href="http://blog.tadhack.com/2015/10/04/tadhack-mini-chicago-winners/"><img src="//matrix.org/blog/wp-content/uploads/2015/10/2015-10-04-16.30.09-1024x683.jpg" alt="Daniel presenting the HR-OS1 to team &#039;ProbatioNerds&#039;" width="1024" height="683" class="size-full wp-image-1307" /></a> Daniel presenting the HR-OS1 to team 'ProbatioNerds' <em>(Photo courtesy of Alan Quayle)</em>[/caption]</p>
<p>We keep being impressed by the quality of projects developed at TADHacks - remember, in practice you only have around 12 hours to work on your hack. Congrats to all who participated - and thanks to <a href="https://twitter.com/Alan_Quayle">Alan</a> for arranging it!</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;category&#x2F;general&#x2F;page&#x2F;6&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">7 / 10</span>
    <div class="prev">
        
        <a href="&#x2F;category&#x2F;general&#x2F;page&#x2F;8&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
