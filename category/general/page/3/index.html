<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - General</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/category/general/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true" >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow"></div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>General</h1>
            131 posts tagged with "General" <a href="/category">(See all Category)</a>
            
            <h2>
                <small><a href="/category/general/atom.xml">Atom Feed</a></small>
            </h2>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;12&#x2F;17&#x2F;matrix-to-reloaded&#x2F;" title="Matrix.to: Reloaded">Matrix.to: Reloaded</a></h2>
                <span>
                    17.12.2020 15:08
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/nad-chishtie">
                        Nad Chishtie
                    </a>
                </span>
                <br>
                <small>Last update: 17.12.2020 14:11</small>
            </header>
            <div>
                
                <p>One of the goals on the core team is to reduce friction for new users joining Matrix. A challenge we regularly face is all the factors which make Matrix flexible and powerful as an open, secure decentralised protocol also increase the difficulty of getting started.</p>
<p>As one example— to create a healthy, vibrant ecosystem and put power back into the hands of end users, it’s critical multiple clients exist, and that users ultimately have control over which one to use. However, needing to choose a client before getting going is counter-intuitive, and adds cognitive load which proprietary services simply don’t have.</p>
<p>Striking this balance is tricky, and one we’re aiming to improve with the latest version of <a href="https://www.matrix.to">Matrix.to</a>.</p>
<h2 id="what-s-matrix-to">What's Matrix.to?</h2>
<p>Matrix.to is a simple URL redirection service which lets users share links to rooms, users and communities. It isn’t tied to any client, and for end users it serves as a landing page for many as their first touch to Matrix. And until the matrix:// URI scheme is deployed commonplace (we finally <a href="https://www.iana.org/assignments/uri-schemes/prov/matrix">registered it with IANA</a> a few months ago!) it is the only client-agnostic way to link to content in Matrix.</p>
<p>It’s privacy preserving, with no information stored server side, with all calculation done in client-side JavaScript. It started life years ago as a temporary minimum viable hack by Matthew which then hung around untouched for years being… minimally viable. But we’ve recently given it a huge upgrade in usability and functionality at last!</p>
<h2 id="what-s-new">What's new?</h2>
<p><img src="https://matrix.org/blog/img/2020-12-17-matrix_to.png" alt="The matrix.to room, on the new matrix.to!" /></p>
<p>We’ve re-written matrix.to from scratch, giving it a visual upgrade and refocused the experience around:</p>
<ol>
<li>
<p><strong>Helping new users find the best client for them to easily get going.</strong> By default, links will prioritise showing clients which are compatible with the platform the link is being viewed from, including mobile platforms.</p>
</li>
<li>
<p><strong>Optionally, remembering your preferred client for future visits.</strong> This also includes deeplinking into native apps for Element Desktop &amp; Element Mobile (and in future, other clients too, of course).</p>
</li>
<li>
<p><strong>Fetching useful previews.</strong> One of our main observations when testing with new users is a lack of confidence trying out a new service without personalised, contextual information on the rooms or people they’re heading to. Matrix.to now displays room metadata like avatars, names and topics directly (fetched via matrix.org by default, asking for permission).</p>
</li>
</ol>
<h2 id="what-s-next">What's next?</h2>
<p>We’ve baked in the ability to specify clients and deployments within links, allowing sharing to give the option of a specific destination to guarantee a predictable experience. For instance, Mozilla might share matrix.to links which recommend using chat.mozilla.org, if you don’t already have a preferred Matrix client configured. We’ve yet to implement this feature in Element, but we’ll be researching and experimenting with different implementations soon and will recommend best practises when we have them.</p>
<p>We plan to evolve matrix.to over time, including eventually evolving it to better support the <a href="https://github.com/matrix-org/matrix-doc/pull/2312">Matrix URI scheme</a>. As before, you can find the source code <a href="https://github.com/matrix-org/matrix.to">on GitHub</a> and please go ahead and submit pull requests to get your Matrix client listed.</p>
<p>Let us know what you think over in the matrix.to room, <a href="https://matrix.to/#/#matrix.to:matrix.org">linked to via matrix.to</a>!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;12&#x2F;15&#x2F;dendrite-2020-progress-update&#x2F;" title="Dendrite 2020 Progress Update">Dendrite 2020 Progress Update</a></h2>
                <span>
                    15.12.2020 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/neil-alexander">
                        Neil Alexander
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>It's been a year since Dendrite development picked up again and it's certainly
been a busy one at that! We started off 2020 by sprinting to complete the FOSDEM P2P
demo and, since then, we have continued to develop Dendrite into a more featureful
and stable homeserver.</p>
<p>In October, we <a href="https://matrix.org/blog/2020/10/08/dendrite-is-entering-beta">moved Dendrite into beta</a>,
and have since released a number of releases. We've also seen quite a lot of interest
from the community, so I'm here today to write about some of the fun things that have
been going on in Dendrite-land.</p>
<h2 id="announcing-dendrite-matrix-org">Announcing dendrite.matrix.org</h2>
<p>I'm happy to announce that we've finally deployed our own public Dendrite instance at
<strong>dendrite.matrix.org</strong>! It's running the latest Dendrite code and is open for
registration, so if you have been looking for an opportunity to play with Dendrite
without hosting your own deployment, here's your chance!</p>
<p>There are still bugs and missing features, but overall the server is quite usable, so
please feel free to register and try it and <a href="https://matrix.to/#/#dendrite:matrix.org">let us know how you get on</a>.</p>
<p>This is the first deployment that we've built for any kind of scale, so we are cautious
of the fact that there may be performance bottlenecks still. That said, over the last
few weeks, a number of performance-improving changes have been merged, including:</p>
<ul>
<li>Around 20x performance improvement on the State Resolution v2 algorithm, which is used
in room versions 2 and above</li>
<li>Significantly reducing the amount of time spent recalculating event reference hashes
and event IDs in the roomserver and sync API, reducing CPU usage</li>
<li>Optimised memory usage and reduced database hits in the federation sender, which helps
particularly in large rooms with lots of resident servers</li>
</ul>
<p>We're optimistic that running this deployment will help us to identify scaling pain
points and to make Dendrite leaner in the long run. Feel free to sign up and give it
a spin! :-)</p>
<h2 id="features">Features</h2>
<p>Since the beginning of the year, we've added a number of new features, including but
not limited to:</p>
<ul>
<li>Room versions support for all currently specced versions (v1-v6), including support
for State Resolution v2</li>
<li>SQLite storage support in addition to PostgreSQL, largely useful for the P2P demos</li>
<li>Support for database schema upgrades, making updating Dendrite significantly easier</li>
<li>Early end-to-end encryption support, including device list syncing and send-to-device
messages, although with key backup and cross-signing still to come</li>
<li>A number of federation features, including invites, retries and backing off unreachable
homeservers</li>
<li>User-interactive authentication (UIA), which is used in password changes and deleting
devices from your device list</li>
<li>Support for local pagination, backfilling over federation and fetching missing events</li>
<li>Redaction of events both locally and over federation</li>
<li>Entirely new microservices for managing server signing keys, E2E keys, user and device
management</li>
<li>Lots of great contributions from the community - including all of Read Receipts (thanks to <a href="https://github.com/S7evinK">S7evinK</a>) and Read Markers (thanks to <a href="https://github.com/Lesterpig">Lesterpig</a>)!</li>
</ul>
<p>...and of course <a href="https://matrix.org/blog/2020/10/08/dendrite-is-entering-beta">entered Beta</a> in October!</p>
<h2 id="spec-compliance">Spec compliance</h2>
<p>Of course, Dendrite also needs to be able to fulfill the promise of being a usable
next-generation Matrix homeserver at the same time as being a sci-fi development
platform. We have spent much of the last year working specifically on this. Today,
Dendrite's <a href="https://github.com/matrix-org/sytest">Sytest</a> compliance sits at:</p>
<ul>
<li><strong>59%</strong> compliance for Client-Server APIs, up from 33% in May 2020</li>
<li><strong>83%</strong> compliance for Server-Server APIs, up from 26% in May 2020</li>
</ul>
<p>As you can see, these are significant leaps in the numbers of tests passing against
Dendrite. </p>
<h2 id="experimental-mscs">Experimental MSCs</h2>
<p>We have been increasingly trying to use Dendrite for the development and testing of
some new Matrix feature proposals. Recently we've seen early support added for
<a href="https://github.com/matrix-org/matrix-doc/pull/2753">Peeking (MSC2753)</a> and there
is work in progress on <a href="https://github.com/matrix-org/matrix-doc/pull/2444">Peeking over Federation (MSC2444)</a>.</p>
<p>Peeking enables temporarily subscribing to a room for real-time events without joining
the room. This will only be possible with rooms that are world-readable, but it reduces
the overhead of looking into a room significantly as there is no need to update the room
state for each peeking user/device.</p>
<p>In addition to that, we've also been working on <a href="https://github.com/matrix-org/matrix-doc/pull/2836">Threading (MSC2836)</a>
support, which is the gateway to building some pretty new and interesting Matrix
experiences. Twitter-like or Reddit-like social prototypes like this have traditionally
been difficult to build on top of Matrix as the <code>m.reference</code> relation type from <a href="https://github.com/matrix-org/matrix-doc/pull/1849">MSC1849</a>
had never really been fleshed out.</p>
<p>Threading adds <code>m.relationship</code> fields for embedding these relationships, and also
specifies an additional <code>/event_relationships</code> API endpoint for finding other events
related to a given event in either direction. This makes it possible to build threads.</p>
<h2 id="p2p-matrix">P2P Matrix</h2>
<p>Dendrite has also been our primary development platform for P2P Matrix. This year we
have released multiple P2P Matrix demos, including:</p>
<ul>
<li><a href="https://p2p.riot.im">p2p.riot.im</a>, which uses libp2p rendezvous and embeds a full
Dendrite homeserver into an in-browser Service Worker</li>
<li><a href="http://testflight.apple.com/join/Tgh2MEk6">Element iOS P2P</a>, available on TestFlight,
which embeds a full Dendrite homeserver into the Element iOS app, initially using
QUIC over <a href="https://yggdrasil-network.github.io">Yggdrasil</a> as a transport for federation
traffic, but with more recent versions using QUIC over the experimental Pinecone protocol</li>
<li><a href="https://github.com/matrix-org/dendrite/tree/master/cmd/dendrite-demo-libp2p">dendrite-demo-libp2p</a>,
a standalone binary which formed the basis of the FOSDEM 2020 P2P demo, using libp2p and
local multicast discovery as a transport for federation traffic</li>
<li><a href="https://github.com/matrix-org/dendrite/tree/master/cmd/dendrite-demo-yggdrasil">dendrite-demo-yggdrasil</a>,
another standalone binary like above, but using QUIC over Yggdrasil connectivity instead
of libp2p as the transport for federation traffic</li>
</ul>
<p>Each experiment teaches us more about potential issues that need to be resolved in order
to bring P2P Matrix closer to being reality, and we are continuing to use Dendrite for
this work. We'll be announcing more information in the New Year about our latest efforts
and the Pinecone routing scheme that we are developing.</p>
<p>It's also worth highlighting that all of the other experimental work taking place right
now, including Threading and Peeking, also work over P2P!</p>
<h2 id="what-s-next">What's next</h2>
<p>We'll be taking a short break for Christmas, but will then be continuing work on
Dendrite in 2021, with the main aims being to add new features, improve spec compliance
further, fix bugs and eventually exit beta. We'll also be continuing further experimental work in the
P2P and Threading areas, as well as supporting the development of new MSCs such as
<a href="https://github.com/matrix-org/matrix-doc/pull/2787">Portable Identities (MSC2787)</a>.</p>
<p>We'd like to say thank you for the community support and interest, and also to send
out a special thanks to our community contributors who have contributed a number of
fixes and features in recent months! We always welcome code contributions via
<a href="https://github.com/matrix-org/dendrite">GitHub</a> if you are an interested developer.</p>
<p>As always, stay tuned for more Dendrite updates either by joining us in
<a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> or by getting your
regular dose of <a href="https://matrix.org/blog/category/this-week-in-matrix">This Week in Matrix</a>!</p>
<p>— Neil Alexander and Kegan</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;12&#x2F;07&#x2F;gitter-now-speaks-matrix&#x2F;" title="Gitter now speaks Matrix!">Gitter now speaks Matrix!</a></h2>
                <span>
                    07.12.2020 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>It’s been just over 2 months since we revealed that <a href="https://matrix.org/blog/2020/09/30/welcoming-gitter-to-matrix">Gitter was going to join Matrix</a> - and
we are incredibly proud to announce that Gitter has officially turned on true native Matrix connectivity:
<strong>all public Gitter rooms are now available natively via Matrix, and all Gitter users now natively exist on Matrix.</strong>
So, if you wanted to join the official Node.js language support room at <a href="https://gitter.im/nodejs/node">https://gitter.im/nodejs/node</a>
from Matrix, just head over to <a href="https://matrix.to/#/#nodejs_node:gitter.im">#nodejs_node:gitter.im</a> and *boom*, you’re in!</p>
<p>This means Gitter is now running a Matrix homeserver at gitter.im which exposes all the active public rooms - so if you go to the the room directory in Element (for instance) and select gitter.im as a homeserver, you can jump straight in:</p>
<p><img src="https://matrix.org/blog/img/2020-12-07-gitter-roomdir.png" alt="Gitter room directory" /></p>
<p>Once you’re in, you can chat back and forth transparently between users on the Gitter side and the Matrix side, and you no longer have the ugly “Matrixbot” user faking the messages back and forth - these are ‘real’ users talking directly to one another, and every public msg in every public room is now automatically exposed into Matrix.</p>
<p><img src="https://matrix.org/blog/img/2020-12-07-gitter-matrix.gif" alt="Gitter and Matrix going native!" /></p>
<p>So, suddenly all the developer communities previously living only in Gitter (<a href="https://gitter.im/scala">Scala</a>, <a href="https://gitter.im/nodejs/home">Node</a>, <a href="https://gitter.im/webpack">Webpack</a>, <a href="https://gitter.im/angular">Angular</a>, <a href="https://gitter.im/rails">Rails</a> and thousands of others) are now available to anyone anywhere on Matrix - alongside communities bridged from Freenode and Slack; the native Matrix communities for Mozilla, KDE, GNOME communities etc. We’re hopeful that glueing everything together via Matrix will usher in a new age of open and defragmented dev collaboration, a bit like we used to have on IRC, back in the day.</p>
<p>This is also great news for mobile Gitter users - as the original mobile Gitter clients have been in a <a href="https://gitlab.com/gitlab-org/gitter/webapp/-/issues/2281">holding pattern for over a year</a>, and native Matrix support for Gitter means they are now officially deprecated in favour of Element (or indeed any other mobile Matrix client).</p>
<h2 id="what-features-are-ready">What features are ready?</h2>
<p>Now, this is the first cut of native Matrix support in Gitter: much of the time since Gitter joined Element has been spent migrating stuff over from Gitlab to Element, and it’s only really been a month of work so far in hooking up Matrix. As a result: all the important features work, but there’s also stuff that’s yet to land:</p>
<p>Features ready today:</p>
<ul>
<li>Ability to join rooms from Matrix via #org_repo:gitter.im</li>
<li>Bridging Edits, Replies (mapped to Threads on Gitter), Deletes, File transfer</li>
<li>Bridging Markdown &amp; Emoji</li>
</ul>
<p>What remains:</p>
<ul>
<li>Ability to send/receive Direct Messages</li>
<li>Ability to plumb existing Matrix rooms into Gitter natively</li>
<li>Ability to view past Gitter history from Matrix. This is planned thanks to <a href="https://github.com/matrix-org/matrix-doc/pull/2716">https://github.com/matrix-org/matrix-doc/pull/2716</a></li>
<li>Synchronising the full Gitter membership list to Matrix. Currently the membership syncs incrementally as people speak</li>
<li>Turning off the old Gitter bridge</li>
<li>Bridging emotes (/me support) (almost landed!)</li>
<li>Bridging read receipts</li>
<li>Synchronising room avatars</li>
<li>Bridge LaTeX</li>
</ul>
<p>Stuff we’re not planning to support:</p>
<ul>
<li>Ability to join arbitrary rooms on Matrix from Gitter. This could consume huge resources on Gitter, and we’re not in a rush to mirror all of Matrix into Gitter. This will get addressed when Gitter merges with Element into a pure Matrix client.</li>
<li>Bridging Reactions. Gitter doesn’t have these natively today, and rather than adding them to Gitter, we’d rather work on merging Gitter &amp; Element together.</li>
</ul>
<p>For more details, we strongly recommend checking out the <a href="https://gitlab.com/groups/gitterHQ/-/epics/10">native Matrix epic on Gitlab</a> for the unvarnished truth straight from the coal-face!</p>
<h2 id="how-do-you-make-an-existing-chat-system-talk-matrix">How do you make an existing chat system talk Matrix?</h2>
<p>In terms of the work which has gone into this - Gitter has been an excellent case study of how you can easily plug an existing large established chat system into Matrix.</p>
<p>At high level, the core work needed was as simple as:</p>
<ul>
<li>Add ‘virtual users’, so remote Matrix users can be modelled and represented in Gitter correctly: <a href="https://gitlab.com/gitterHQ/webapp/-/merge_requests/2027/diffs">https://gitlab.com/gitterHQ/webapp/-/merge_requests/2027/diffs</a>.
<ul>
<li>This can be accomplished by simply adding a <code>virtualUser</code> property to your chat message/post/tweet schema which holds the mxid, displayName, and avatar as an alternative to your <code>author</code> field. Then display the <code>virtualUser</code> whenever available over the <code>author</code>.</li>
</ul>
</li>
<li>Add an application service to Gitter to bridge traffic in &amp; out of Matrix: <a href="https://gitlab.com/gitterHQ/webapp/-/merge_requests/2041/diffs">https://gitlab.com/gitterHQ/webapp/-/merge_requests/2041/diffs</a>
<ul>
<li>This &quot;application service&quot; comes pre-packaged for you in many cases, so for example you can simply drop in a library like <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> in a Node.js application, and all of the Matrix talking complexity is handled for you.</li>
</ul>
</li>
<li>Polish it!</li>
</ul>
<p>In practice, Eric (lead Gitter dev) laid out the waypoints of the full journey:</p>
<ol>
<li>First big step was to add the concept of virtual users to Gitter. We could also have created a new Gitter user for every new matrix ID that appears, but tagging them as virtual users is a bit cleaner.</li>
<li>Figuring out how to balance the Matrix traffic coming into/out of Gitter.
<ol>
<li>Spreading the inbound load comes for free via our existing load-balancer setup (ELB) where we already have 8 webapp servers running the various services of gitter.im. We just run the Matrix bridge on those servers alongside each web and api process, and then the load-balancer’s <code>matrix.gitter.im</code> spreads out to the servers.</li>
<li>Events from Matrix then hit the load balancer and reach one of the servers (no duplication when processing events).</li>
<li>If something on Gitter happens, the action occurs on one server and we just propagate it over to Matrix (no duplication or locking needed).</li>
</ol>
</li>
<li>We have realtime websockets and Faye subscriptions already in the app which are backed by Mongoose database hooks whenever something changes. We just tapped into the same thing to be able to bridge across new information to Matrix as we receive it on Gitter.</li>
<li>Hooking up the official Matrix bridging <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> library to use Gitter’s existing MongoDB for storage instead of nedb.</li>
<li>Figuring out how to namespace the mxids of the gitter users:
<ol>
<li>It’s nice to have the mxid as human readable as possible instead of just the numerical userId in your service.</li>
<li>But if people can change their username in your service, you can’t change your mxid on Matrix. In the future, we’ll have portable accounts in Matrix to support this (<a href="https://github.com/matrix-org/matrix-doc/pull/2787">MSC2787</a>) but sadly these are still vapourware at this point.</li>
<li>If you naively just switch the user’s mxid when they rename their username, then you could end up leaking conversation history between mxids(!)</li>
<li>So we went with <code>@username-userid:gitter.im</code> for the Matrix ID to make it a bit more human readable but also unique so any renames can happen without affecting anything.</li>
</ol>
</li>
<li>For room aliases, we decided to change our <code>community/room</code> URI syntax to underscores for the room aliases, <code>#community_room:gitter.im</code></li>
<li>Figuring out how to bridge features correctly;
<ol>
<li>Emoji - mapping between <code>:shortcode:</code> and unicode emojis</li>
<li>Mapping between Gitter threaded conversations &lt;-&gt; Matrix replies</li>
<li>Mapping between Matrix mentions and Gitter mentions</li>
</ol>
</li>
<li>Keeping users and room data in sync
<ol>
<li>We haven’t gotten there yet, but the data comes through the same Mongoose hook and we can update the bridged data as they change on the Gitter end.</li>
</ol>
</li>
</ol>
<p>Meanwhile, the Matrix side of gitter.im is hosted by <a href="https://element.io/matrix-services">Element Matrix Services</a> and is a plain old Synapse, talking through to Gitter via the Application Service API. An alternative architecture would be to have got Gitter directly federating with Matrix by embedding a “homeserver library” into it (e.g. embedding <a href="https://github.com/matrix-org/dendrite">Dendrite</a>). However, given Dendrite is still beta and assumes it is storing its data itself (rather than persisting in an existing backend such as Gitter’s mongodb), we went for the simpler option to start with.</p>
<p>It’s been really interesting to see how this has played out week by week in the Gitter updates in This Week in Matrix: you can literally track the progress and see how the integration came to life between <a href="https://matrix.org/blog/2020/10/09/this-week-in-matrix-2020-10-09#gitter">Oct 9</a>, <a href="https://matrix.org/blog/2020/10/23/this-week-in-matrix-2020-10-23#gitter">Oct 23</a>, <a href="https://matrix.org/blog/2020/11/06/this-week-in-matrix-2020-11-06#gitter">Nov 6</a>, <a href="https://matrix.org/blog/2020/11/27/this-week-in-matrix-2020-11-27#gitter">Nov 27</a> and finally <a href="https://matrix.org/blog/2020/12/04/this-week-in-matrix-2020-12-04#gitter">Dec 4</a>.</p>
<p>Huge thanks go to Eric Eastwood, the lead dev of Gitter and mastermind behind the project - and also to Half-Shot and Christian who’ve been providing all the support and review from the Matrix bridging team.</p>
<h2 id="what-s-next">What’s next?</h2>
<p>First and foremost we’re going to be working through the “What remains” section of the list above: killing off the old bridge, sorting out plumbed rooms, hooking up DMs, importing old Gitter history into Matrix, etc. This should then give us an exceptionally low impedance link between Gitter &amp; Matrix.</p>
<p>Then, <a href="https://matrix.org/blog/2020/09/30/welcoming-gitter-to-matrix">as per our original announcement</a>, the plan is:</p>
<p><em>In the medium/long term, it’s simply not going to be efficient for the combined Element/Gitter team to split our efforts maintaining two high-profile Matrix clients. Our plan is instead to merge Gitter’s features into Element (or next generations of Element) itself and then - if and only if Element has achieved parity with Gitter - we expect to upgrade the deployment on gitter.im to a Gitter-customised version of Element. The inevitable side-effect is that we’ll be adding new features to Element rather than Gitter going forwards.</em></p>
<p>Now, that means implementing some features in Matrix/Element to match...</p>
<ul>
<li>Instant live room peeking (less than a second to load the webapp into a live-view of a massive room with 20K users!!)</li>
<li>Seamless onboarding thanks to using GitLab &amp; GitHub for accounts</li>
<li>Curated hierarchical room directory</li>
<li>Magical creation of rooms on demand for every GitLab and GitHub project ever</li>
<li>GitLab/GitHub activity as a first-class citizen in a room’s side-panel</li>
<li>Excellent search-engine-friendly static content and archives</li>
<li>KaTeX support for Maths communities</li>
<li>Threads!</li>
</ul>
<p>...and this work is in full swing:</p>
<ul>
<li>We have a proposal for fast peeking (via lazy-loading state over federation) at <a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc2775/proposals/2775-lazy-loading-over-federation.md">MSC2775</a> and the new peek APIs at <a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc2753/proposals/2753-peeking-via-sync-v2.md">MSC2753</a> and <a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc2444/proposals/2444-peeking-over-federation-peek-api.md">MSC2444</a> (and even implemented by Dendrite)</li>
<li>Social Login for seamless onboarding via GitLab, GitHub &amp; friends is almost landed in Element: <a href="https://github.com/matrix-org/matrix-react-sdk/pull/5426">https://github.com/matrix-org/matrix-react-sdk/pull/5426</a></li>
<li>Spaces gives a curated hierarchical room directory: <a href="https://github.com/vector-im/roadmap/issues/2">https://github.com/vector-im/roadmap/issues/2</a></li>
<li>KaTeX support landed in Element Web a few weeks ago thanks to <a href="https://github.com/akissinger">akissinger</a> and <a href="https://github.com/thosgood">thosgood</a></li>
<li>Threads are on the horizon, thanks to <a href="https://github.com/matrix-org/matrix-doc/pull/2836">MSC2836</a>.</li>
</ul>
<p>The only bits which aren’t already progressing yet are tighter GL/GH integration, and better search engine optimised static archives.</p>
<p>So, the plan is to get cracking on the rest of the feature parity, then merge Gitter &amp; Element together - and meanwhile continue getting the rest of the world into Matrix :)</p>
<p>We live in exciting times: open standards-based interoperable communication is on the rise again, and we hope Gitter’s new life in Matrix is the beginning of a new age of cross-project developer collaboration, at last escaping the fragmentation we’ve suffered over the last few years.</p>
<p>Finally, please do give feedback via <a href="https://gitter.im/matrix-org/gitter">Gitter</a> or <a href="https://matrix.to/#/#matrix-org_gitter:gitter.im">Matrix</a> (or <a href="mailto:matrix@matrix.org">mail</a>!) on the integration and where you’d like to see it go next!</p>
<p>Thanks for flying Matrix and Gitter,</p>
<p>-- The Matrix Team</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;10&#x2F;19&#x2F;combating-abuse-in-matrix-without-backdoors&#x2F;" title="Combating abuse in Matrix - without backdoors.">Combating abuse in Matrix - without backdoors.</a></h2>
                <span>
                    19.10.2020 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <h3 id="update-nov-9th-2020">UPDATE: Nov 9th 2020</h3>
<p>Not only are UK/US/AU/NZ/CA/IN/JP considering mandating
backdoors, but it turns out that the Council of the European Union is working on it too, having created an advanced
<a href="https://files.orf.at/vietnam2/files/fm4/202045/783284_fh_st12143-re01en20_783284.pdf">Draft Council Resolution on Encryption</a>
as of Nov 6th, which could be approved by the Council as early as Nov 25th if it passes approval.  This doesn't directly
translate into EU legislation, but would set the direction for subsequent EU policy.</p>
<p>Even though the Draft Council Resolution does not explicitly call for backdoors, the language used...</p>
<blockquote>
<p>Competent authorities must be able to access data in a lawful and targeted manner</p>
</blockquote>
<p>...makes it quite clear that they are seeking the ability to break encryption on demand: i.e. a backdoor.</p>
<p>Please help us spread the word that backdoors are fundamentally flawed - read on for the rationale, and an alternative
approach to combatting online abuse.</p>
<hr />
<p>Hi all,</p>
<p>Last Sunday (Oct 11th 2020), the UK Government published an <a href="https://www.gov.uk/government/publications/international-statement-end-to-end-encryption-and-public-safety">international statement on end-to-end encryption and public safety</a>, co-signed by representatives from the US, Australia, New Zealand, Canada, India and Japan.  The statement is well written and well worth a read in full, but the central point is this:</p>
<blockquote>
<p>We call on technology companies to [...] enable law enforcement access to content in a readable and usable format where an authorisation is lawfully issued, is necessary and proportionate, and is subject to strong safeguards and oversight.</p>
</blockquote>
<p>In other words, this is an explicit request from seven of the biggest governments in the world to mandate a backdoor in end-to-end encrypted (E2EE) communication services: a backdoor to which the authorities have a secret key, letting them view communication on demand.  This is big news, and is of direct relevance to Matrix as an end-to-end encrypted communication protocol whose core team is currently centred in the UK.</p>
<p>Now, we sympathise with the authorities’ predicament here: we utterly abhor child abuse, terrorism, fascism and similar - and we did not build Matrix to enable it.  However, trying to mitigate abuse with backdoors is, unfortunately, <strong>fundamentally flawed</strong>.</p>
<ul>
<li>
<p>Backdoors necessarily introduce a fatal weak point into encryption for <em>everyone</em>, which then becomes the ultimate high value target for attackers.  Anyone who can determine the secret needed to break the encryption will gain full access, and you can be absolutely sure <strong><a href="https://techcrunch.com/2016/07/27/security-experts-have-cloned-all-seven-tsa-master-keys/">the backdoor key will leak</a></strong> - whether that’s via intrusion, social engineering, brute-force attacks, or accident.  And even if you unilaterally trust your current government to be responsible with the keys to the backdoor, is it wise to unilaterally trust their successors?  Computer security is only ever a matter of degree, and the only safe way to keep a secret like this safe is for it not to exist in the first place.</p>
</li>
<li>
<p>End-to-end encryption is nowadays a completely ubiquitous technology; <strong>an attempt to legislate against it is like trying to turn back the tide</strong> or declare a branch of mathematics illegal.  Even if Matrix did compromise its encryption, users could easily use any number of other approaches to additionally secure their conversations - from PGP, to OTR, to using one-time pads, to sharing content in password-protected ZIP files.  Or they could just switch to a E2EE chat system operating from a jurisdiction without backdoors.</p>
</li>
<li>
<p>Governments protect their own data using end-to-end encryption, precisely because they do not want other governments being able to snoop on them.  So not only is it hypocritical for governments to argue for backdoors,** it immediately puts their own governmental data at risk of being compromised**.  Moreover, creating infrastructure for backdoors sets an incredibly bad precedent to the rest of the world - where less salubrious governments will inevitably use the same technology to the massive detriment of their citizens’ human rights.</p>
</li>
<li>
<p>Finally, in Matrix’s specific case: Matrix is an encrypted decentralised open network powered by open source software, where anyone can run a server.  Even if the Matrix core team were obligated to add a backdoor, this would be visible to the wider world - and <strong>there would be no way to make the wider network adopt it</strong>.  It would just damage the credibility of the core team, push encryption development to other countries,  and the wider network would move on irrespectively.</p>
</li>
</ul>
<p>In short, we need to keep E2EE as it is so that it benefits the 99.9% of people who are good actors. If we enforce backdoors and undermine it, then the bad 0.1% percent simply will switch to non-backdoored systems while the 99.9% are left vulnerable.</p>
<p>We’re not alone in thinking this either: the GDPR (the world-leading regulation towards data protection and privacy) explicitly calls out robust encryption as a necessary information security measure. In fact, the risk of US governmental backdoors explicitly caused the <a href="http://curia.europa.eu/juris/document/document.jsf?docid=228677&amp;doclang=EN">European Court of Justice to invalidate the Privacy Shield</a> for EU-&gt;US data.  The position of the seven governments here (alongside <a href="https://ec.europa.eu/home-affairs/sites/homeaffairs/files/what-we-do/policies/european-agenda-security/20200724_com-2020-607-commission-communication_en.pdf">recent communications by the EU commissioner</a> on the ‘problem’ of encryption) is a significant step back on the protection of the fundamental right of privacy.</p>
<p>So, how do we solve this predicament for Matrix?</p>
<p>Thankfully: <strong>there is another way.</strong></p>
<p>This statement from the seven governments aims to protect the general public from bad actors, but it clearly undermines the good ones.  What we <em>really</em> need is something that empowers users and administrators to identify and protect themselves from bad actors, without undermining privacy.</p>
<p>What if we had a standard way to let users themselves build up and share their own views of whether other users, messages, rooms, servers etc. are obnoxious or not?  What if you could visualise and choose which filters to apply to your view of Matrix?</p>
<p>Just like the Web, Email or the Internet as a whole, there is literally no way to unilaterally censor or block content in Matrix.  But what we <em>can</em> do is provide first-class infrastructure to let users (and room/community moderators and server admins) make up their own mind about who to trust, and what content to allow.  This would also provide a means for authorities to publish reputation data about illegal content, providing a privacy-respecting mechanism that admins/mods/users can use to keep illegal content away from their servers/clients.</p>
<p>The model we currently have in mind is:</p>
<ul>
<li>Anyone can gather reputation data about Matrix rooms / users / servers / communities / content, and publish it to as wide or narrow an audience as they like - providing their subjective score on whether something in Matrix is positive or negative in a given context.</li>
<li>This reputation data is published in a privacy preserving fashion - i.e. you can look up reputation data if you know the ID being queried, but the data is stored pseudonymised (e.g. indexed by a hashed ID).</li>
<li>Anyone can subscribe to reputation feeds and blend them together in order to inform how they filter their content.  The feeds might be their own data, or from their friends, or from trusted sources (e.g. a fact-checking company).  Their blended feed can be republished as their own.</li>
<li>To prevent users getting trapped in a factional filter bubble of their own devising, we’ll provide UI to visualise and warn about the extent of their filtering - and make it easy and fun to shift their viewpoint as needed.</li>
<li>Admins running servers in particular jurisdictions then have the option to enforce whatever rules they need on their servers (e.g. they might want to subscribe to reputation feeds from a trusted source such as <a href="https://www.iwf.org.uk/">the IWF</a>, identifying child sexual abuse content, and use it to block it from their server).</li>
<li>This isn’t just about combating abuse - but the same system can also be used to empower users to filter out spam, propaganda, unwanted NSFW content, etc on their own terms.</li>
</ul>
<p>This forms a <em>relative</em> reputation system.  As uncomfortable as it may be, one man’s terrorist is another man’s freedom fighter, and different jurisdictions have different laws - and it’s not up to the Matrix.org Foundation to play God and adjudicate.  Each user/moderator/admin should be free to make up their own mind and decide which reputation feeds to align themselves with.  That is not to say that this system would help users locate extreme content - the privacy-preserving nature of the reputation data means that it’s only useful to filter <em>out</em> material which would otherwise already be visible to you - not to locate new content.</p>
<p>In terms of how this interacts with end-to-end-encryption and mitigating abuse: the reality is that the vast majority of abuse in public networks like Matrix, the Web or Email is visible from the public unencrypted domain. Abusive communities generally want to attract/recruit/groom users - and that means providing a public front door, which would be flagged by a reputation system such as the one proposed above.  Meanwhile, communities which are entirely private and entirely encrypted typically still have touch-points with the rest of the world - and even then, the chances are extremely high that they will avoid any hypothetical backdoored servers.  In short, investigating such communities requires traditional infiltration and surveillance by the authorities rather than an ineffective backdoor.</p>
<p>Now, this approach may sound completely sci-fi and implausibly overambitious (our speciality!) - but we’ve actually started successfully building this already, having been refining the idea over the last few years.  <a href="https://github.com/matrix-org/matrix-doc/blob/msc2313/proposals/2313-moderation-policy-rooms.md">MSC2313</a> is a first cut at the idea of publishing and subscribing to reputation data - starting off with simple binary ban rules.  It’s been implemented and in production for over a year now, and is used to maintain shared banlists used by both matrix.org and mozilla.org communities.  The next step is to expand this to support a blendable continuum of reputation data (rather than just binary banlists), make it privacy preserving, and get working on the client UX for configuring and visualising them.</p>
<p>Finally: we are continuing to hire a dedicated Reputation Team to work full time on building this (kindly funded by Element).  This is a major investment in the future of Matrix, and frankly is spending money that we don’t really have - but it’s critical to the long-term success of the project, and perhaps the health of the Internet as a whole.  There’s nothing about a good relative reputation system which is particularly specific to Matrix, after all, and many other folks (decentralised and otherwise) are clearly in desperate need of one too. We are actively looking for funding to support this work, so if you’re feeling rich and philanthropic (or a government wanting to support a more enlightened approach) we would <em>love</em> to hear from you at <a href="mailto:funding@matrix.org">funding@matrix.org</a>!</p>
<p>Here’s to a world where users have excellent tools to protect themselves online - and a world where their safety is not compromised by encryption backdoors.</p>
<p>-- The Matrix.org Core Team</p>
<p>*Comments at <a href="https://news.ycombinator.com/item?id=24826951">HN</a>, <a href="https://lobste.rs/s/ntyvtw/combating_abuse_matrix_without">lobste.rs</a>, and <a href="https://www.reddit.com/r/linux/comments/je8s7x/combating_abuse_in_matrix_without_backdoors/">r/linux</a>, <a href="https://lwn.net/Articles/834710/">LWN</a></p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;09&#x2F;30&#x2F;welcoming-gitter-to-matrix&#x2F;" title="Welcoming Gitter to Matrix!">Welcoming Gitter to Matrix!</a></h2>
                <span>
                    30.09.2020 16:28
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                <br>
                <small>Last update: 30.09.2020 14:58</small>
            </header>
            <div>
                
                <p><img src="/blog/img/2020-09-30-gitter.png" alt="Gitter ♥️ Matrix" /></p>
<p>Hi all,</p>
<p>We are ridiculously excited to announce that <a href="https://gitter.im">Gitter</a> is joining the Matrix ecosystem and will become the first major existing chat platform to switch to natively speaking Matrix!</p>
<p>If you’re reading this from the Gitter community and have no idea what Matrix is: we’re an open source project that provides an open protocol for secure, decentralised communication - effectively the missing real-time communication layer of the open Web.  The open Matrix network has more than 20M users on it and is growing fast (adding another 1.7M or so with the arrival of Gitter!)</p>
<p>Gitter is easily one of the best developer community chat systems out there, used by the communities of some massive projects (<a href="https://gitter.im/nodejs/home">Node</a>, <a href="https://gitter.im/Microsoft/TypeScript">TypeScript</a>, <a href="https://gitter.im/angular/home">Angular</a>, <a href="https://gitter.im/scala/home">Scala</a> etc) and is a custodian of huge archives of knowledge via their chat logs. Gitter is unique in specifically focusing on developers: their tagline is literally “Where developers come to talk” (unlike Slack, which has barely any community features - or Discord, with its ban on unofficial clients, where developers are a bit of an afterthought relative to the gamers). With Gitter natively joining Matrix, we’re super excited to see the global developer community converging on the open Matrix network - and Gitter’s community rooms should see a huge new lease of life as they’re properly made natively available to the wider network as first class citizens :)</p>
<p>We’ve always had a bit of a crush on Gitter ever since we ended up opposite each other in the exhibition hall at TechCrunch Disrupt Europe 2014 - particularly when they demoed us not only their sexy webapp but also their official IRC server bridge at irc.gitter.im :D  Over the years we’ve been gently nudging them to consider fully embracing Matrix, but perhaps understandably they’ve been busy focusing on their own stuff. However, earlier this year, our friends at GitLab (who acquired Gitter in 2017) reached out to explore the opportunity of Gitter becoming a core part of Matrix rather than a non-core project at GitLab… and we’ve jumped on that opportunity to bring Gitter fully into Matrix.</p>
<p>In practice, the way this is happening is that Element (the company founded by the Matrix core team to fund Matrix development) is acquiring Gitter from GitLab, with a combined Gitter and Element dev team focusing on giving Gitter a new life in Matrix!  You can read about it from the Element angle over on <a href="https://element.io/blog/gitter-is-joining-element/">the Element blog</a>.</p>
<p>Practically speaking, we have a pretty interesting plan here, which we’d like to be very transparent about given it’s a little unusual:</p>
<p>At first, Gitter will keep running as it always has - needless to say, we will be doing everything we can to delight the Gitter community and keep the service in good shape.</p>
<p>Then we’re going to build out native Matrix connectivity - running a dedicated Matrix homeserver on gitter.im with a new bridge direct into the heart of Gitter; letting all Gitter rooms be available to Matrix directly as (say) #angular_angular:gitter.im, and bridging all the historical conversations into Matrix via <a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc2716/proposals/2716-importing-history-into-existing-rooms.md">MSC2716</a> or similar. We will of course do this entirely as open source, just as Gitter itself is open source thanks to GitLab releasing it under the MIT license in 2017. The plan is to comprehensively document our progress as the flagship worked example case study of “how do you make an existing chat system talk Matrix.”</p>
<p>This will of course replace the old and creaky <a href="https://github.com/matrix-org/matrix-appservice-gitter">matrix-appservice-gitter</a> bridge we’ve been running since 2016. Gitter users will also be able to talk to other users elsewhere in the open Matrix network - e.g. DMing them, and (possibly) joining arbitrary Matrix rooms. Effectively, <strong>Gitter will have become a Matrix client</strong>.</p>
<p>Now we come to the interesting bit. Gitter has some <em>really</em> nice features which are sorely lacking in Element today:</p>
<ul>
<li>Instant live room peeking (less than a second to load the webapp into a live-view of a massive room with 20K users!!)</li>
<li>Seamless onboarding thanks to using GitLab &amp; GitHub for accounts</li>
<li>Curated hierarchical room directory</li>
<li>Magical creation of rooms on demand for every GitLab and GitHub project ever</li>
<li>GitLab/GitHub activity as a first-class citizen in a room’s side-panel</li>
<li>Excellent search-engine-friendly static content and archives</li>
<li>KaTeX support for Maths communities</li>
<li>Threads!</li>
</ul>
<p>...and we promise to do everything in our power to preserve and honour these features at all costs and continue to give the Gitter community the experience they’ve come to know and love.</p>
<p><strong>However</strong>: in the medium/long term, it’s simply not going to be efficient for the combined Element/Gitter team to split our efforts maintaining two high-profile Matrix clients. Our plan is instead to merge Gitter’s features into Element (or next generations of Element) itself and then - if and only if Element has achieved parity with Gitter based on the above list - we expect to upgrade the deployment on gitter.im to a Gitter-customised version of Element. The inevitable side-effect is that we’ll be adding new features to Element rather than Gitter going forwards.</p>
<p>In practice, the main outcome in the end should be Element having benefited massively from levelling up with Gitter - and Gitter benefiting massively from all the goodies which Element and Matrix brings, including:</p>
<ul>
<li>E2E Encryption</li>
<li>Reactions</li>
<li>Constantly improving native iOS &amp; Android clients (which should be a welcome alternative to Gitter’s natives ones, which are <a href="https://gitlab.com/gitlab-org/gitter/webapp/-/issues/2281">already being deprecated</a>)</li>
<li>VoIP and conferencing</li>
<li>All the alternative clients, bots, bridges and servers in Matrix</li>
<li>The full open standard Matrix API</li>
<li>Widgets (embedding webapps into rooms!)</li>
<li>...and of course participation in the wider decentralised Matrix network.</li>
</ul>
<p>So, there you have it. It’s a new era for Gitter - and we look forward to reinvigorating Gitter’s communities over the coming months. We hope Gitter users will be blown away by the features arriving from Matrix… and we hope that Element users will be ecstatic with the performance and polish work that Gitter-parity will drive us towards. Imagine having guest access in Element that can launch and load a massive room in less than a second!</p>
<p>Finally, we would like to explicitly reassure the Gitter community again that we love and understand Gitter (it was one of the very first ever bridges we wrote for Matrix, for instance) - and we will be doing everything we can to not screw up our responsibility in looking after it. Please, please let us know if you have any concerns or if we ever fall short on this.</p>
<p>Any questions, come talk to us on <a href="https://matrix.to/#/#gitter:matrix.org">#gitter:matrix.org</a> - which is bridged with <a href="https://gitter.im/matrix-org/gitter">https://gitter.im/matrix-org/gitter</a>.  Exciting times ahead!</p>
<p>- Matthew, Amandine, and the whole Matrix, Element and Gitter teams.</p>
<div style="text-align: center">
    <img src="/blog/img/2020-09-30-gitter-photo.jpg" width="480" alt="Matthew & Amandine being dorky"/>
    <br/>
    <i><small>Matthew and Amandine model 2014-vintage Matrix & Gitter swag in celebration :D</small></i>
</div>
<h2 id="bonus-update-the-changelog-interview">Bonus update - The Changelog Interview!</h2>
<p>Sid Sijbrandij (CEO at GitLab) and Matthew had a chance to sit down with <a href="https://changelog.com">The Changelog</a> to talk about Gitter's Big Adventure - so tune in to hear the story first hand!  Warning: contains non-ironic use of the word &quot;synergy&quot; :D</p>
<br/>
<div style="text-align: center">
<a rel="noopener" href="https://cdn.changelog.com/uploads/podcast/414/the-changelog-414.mp3">
    <img src="https://matrix.org/blog/img/2020-09-30-gitter-changelog.png" alt="Changelog podcast 414"/>
</a>
<p><a href="https://changelog.com/podcast/414">The Changelog 414: Gitter's Big Adventure</a> - Listen on <a href="https://changelog.com/">Changelog.com</a></p>
</div>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;06&#x2F;16&#x2F;matrix-decomposition-an-independent-academic-analysis-of-matrix-state-resolution&#x2F;" title="Matrix Decomposition: an independent academic analysis of Matrix State Resolution">Matrix Decomposition: an independent academic analysis of Matrix State Resolution</a></h2>
                <span>
                    16.06.2020 20:15
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                <br>
                <small>Last update: 16.06.2020 19:09</small>
            </header>
            <div>
                
                <p>Hi all,</p>
<p>Regular readers of <a href="https://matrix.org/blog/category/this-week-in-matrix/">TWIM</a> may be familiar with the <a href="https://dsn.tm.kit.edu/english/index.php">Decentralized Systems and Network Services Research Group</a> at Karlsruhe Institute of Technology, who have been busy over the last few years analysing Matrix from an independent academic point of view.  The work started in 2018 with Florian Jacob’s <a href="https://dsn.tm.kit.edu/matrix/traveller/explained.html">DSN Traveler</a> spidering project, resulting in the <a href="https://publikationen.bibliothek.kit.edu/1000100364">Glimpse of the Matrix</a> paper analysing Matrix’s scale and room/server distribution (at least as it was back then).</p>
<p>Last week, they released an entirely new paper: <a href="https://dl.acm.org/doi/10.1145/3381991.3395399">Matrix Decomposition: Analysis of an Access Control Approach on Transaction-based DAGs without Finality</a> by Florian Jacob, Luca Becker, Jan Grashöfer and Hannes Hartenstein, presented at <a href="https://www.sacmat.org/2020/index.php">ACM SACMAT ‘20</a>.</p>
<p>Now, the new paper is an absolutely fascinating deep dive analysis into <a href="https://github.com/matrix-org/matrix-doc/blob/master/proposals/1442-state-resolution.md">State Resolution v2</a> - the algorithm at the heart of Matrix which defines how servers merge together their potentially conflicting copies of a given room, such that everyone ends up eventually with a consistent view… even in the face of bad actors. This means that Matrix effectively implements a decentralised access control system - ensuring that users stay banned, and only users with permission can ban, etc.  You can see the <a href="https://matrix.org/blog/img/SACMAT_2020_Talk_Matrix_Decomposition.pdf">slides</a> below, and read the <a href="https://dl.acm.org/doi/pdf/10.1145/3381991.3395399">full paper</a> here. The video of Florian’s talk from SACMAT should be published shortly.</p>
<br/>
<p><object data="https://matrix.org/blog/img/SACMAT_2020_Talk_Matrix_Decomposition.pdf" type="application/pdf" width="1024" height="768"></object></p>
<br/>
<p>To give some context from the Matrix side: designing and implementing State Resolution v2 back in 2018 was a bit of a mission. Our original v1 implementation had some bugs which meant that the result of the merge could unexpectedly favour historical state over the current state (so called ‘state resets’) - thus giving an attacker a way to maliciously revert the state of the room.  In v2 we thought much more carefully about the algorithm, considering state present in one version of the room but not the other as a conflict, separating and applying access control events from regular events, and adding additional ordering of the state in the room by considering events in the context of their authorisation chain (the ‘auth DAG’).  The end result is that we feel confident in v2 State Res, and we haven’t seen any problems with it in the wild since we shipped it in July 2018.</p>
<p>However: state resolution is not intuitive at first - for instance, when you merge two versions of a room together, you treat the state events as unordered sets… even though they are ordered in the context of the room DAG.  The reason is that state res needs to work even if you don’t have a copy of the whole room DAG (otherwise you’d have to download way too much data to participate in a large room).  Another example is the sequence in which orderings are then applied to the state events - and how that interacts with re-authorising those events, to stop malicious ones creeping in.  In the core team, we’ve end up describing it several different ways to try to help folks understand: first Erik’s original <a href="https://github.com/matrix-org/matrix-doc/blob/erikj/state_res_msc/proposals/1442-state-resolution.md">MSC1442</a>, then uhoreg’s <a href="https://matrix.uhoreg.ca/stateres/reloaded.html">literary Haskell implementation</a>, then the terse reference version in <a href="https://matrix.org/docs/spec/rooms/v2">the Spec</a> itself, and most recently Neil Alexander’s <a href="https://matrix.org/docs/guides/implementing-stateres">State Resolution v2 for the Hopelessly Unmathematical</a>.</p>
<p>As a result we are <strong>very</strong> excited and happy that Florian and the DSN team have now published the first ever independent in-depth analysis of the algorithm, particularly in the context of decentralised access control (i.e. enforcing bans, power levels, etc).  We’re pleasantly surprised that apparently “To the best of our knowledge, Matrix is the only system that implements access control based on an eventually consistent partial order without finality and without a consensus algorithm”.</p>
<p>Even better, the DSN team found some remaining thinkos in Synapse’s implementation and the Matrix specification, which could have caused resolution results to diverge from other implementations, specifically:</p>
<ol>
<li>we weren’t enforcing integers in JSON to be within range [-2<sup>53</sup>+1, 2<sup>53</sup>-1], fixed in <a href="https://github.com/matrix-org/synapse/pull/7381">https://github.com/matrix-org/synapse/pull/7381</a> and <a href="https://github.com/matrix-org/matrix-doc/blob/clokep/json-validation-room-ver/proposals/2540-stricter-event-validation.md">MSC2540</a></li>
<li>we forgot to include the notification field when authing power level events, fixed in  <a href="https://github.com/matrix-org/synapse/issues/7501">https://github.com/matrix-org/synapse/issues/7501</a> and <a href="https://github.com/lucavb/matrix-doc/blob/master/proposals/2209-auth-rules-other-keys-in-m.room.power.levels.md">MSC2209</a> (thanks to Luca from DSN for the MSC!)</li>
<li>we forgot to spec the limit that one should apply to the number of parents of an event in the DAG (fixed in <a href="https://github.com/matrix-org/matrix-doc/pull/2538">https://github.com/matrix-org/matrix-doc/pull/2538</a>)</li>
<li>we missed that moderators could set server ACLs which could let them undermine room admins (fixed in <a href="https://github.com/matrix-org/synapse/pull/6834">https://github.com/matrix-org/synapse/pull/6834</a>).</li>
</ol>
<p>All of these have now been fixed in Synapse and the latest versions of the spec (room v6), and we’d like to sincerely thank Florian and Luca for rapidly and responsibly disclosing the issues to us.  In other words: this research is directly improving Matrix, and it’s even more exciting that the stated future work for the DSN team is to work on a <a href="https://en.wikipedia.org/wiki/Formal_verification">formal verification</a> for the security of Matrix’s authorisation rules and state resolution.  This stuff is tough, as anyone who’s played with <a href="https://en.wikipedia.org/wiki/TLA%2B">TLA<sup>+</sup></a> will know, and we are incredibly glad that the research community is helping out to formalise and hopefully prove that State Res v2 is as good as we think it is.</p>
<p>We should stress that DSN’s work is completely independent of The Matrix.org Foundation or anyone else building on the protocol; we’re just writing about it here because we think it’s incredibly cool and deserves the attention of the whole Matrix ecosystem.</p>
<p>Thanks again to Florian and the team - we look forward to seeing what comes next!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;06&#x2F;02&#x2F;introducing-p2p-matrix&#x2F;" title="Introducing P2P Matrix">Introducing P2P Matrix</a></h2>
                <span>
                    02.06.2020 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>TL;DR: we shipped a major update (v0.1.1) to <a href="https://p2p.riot.im">https://p2p.riot.im</a> - fire up a desktop Chrome or Firefox in not-private-browsing mode and give it a go!</p>
<p>Hi folks,</p>
<p>As many know by now, a few of us have been working away since mid-December on experimenting with running Matrix in a peer-to-peer architecture - one where every user has absolute total autonomy and ownership of their conversations, because the only place their conversations exist is on the devices they own.</p>
<p>In some ways this is the logical end goal of Matrix: our aim has always been to empower users to have full control over their communication rather than being beholden to any given service provider, and in a P2P world we completely return power over secure communication to the people.</p>
<h3 id="why-p2p">Why P2P?</h3>
<p>P2P Matrix is about more than just letting users store their own conversations: it can also avoid dependencies on the Internet itself by working over local networks, mesh networks, or situations where the Internet has been cut off.  Even more interestingly, without homeservers, there is nowhere for metadata to accumulate about who is talking to who, and when - which is a legitimate complaint about today’s Matrix network, given the homeservers of all users in a given conversation necessarily have to store that conversation’s metadata.  P2P also lets us radically simplify signup for new users if they don’t have to pick a server to get going - and we avoid the unintentional centralisation of users piling onto public servers.</p>
<p>P2P also forces us to solve many of the hardest remaining problems in Matrix: e.g multi-homed accounts, given multi-device P2P requires your account to exist in multiple places. This in turn unlocks high availability and geo-redundancy for accounts on today’s Matrix network (imagine having a primary and backup homeserver that magically did the right thing!), as well as account portability, and thus also vhosting and load-balancing accounts between servers, and even improved GDPR compliance (for if your user IDs are ephemeral they are no longer personally identifying information baked into your Matrix rooms).  We’ll also need better safety mechanisms to avoid folks exploiting the anonymous nature of the network for abuse, accelerating the work we’re already doing for today’s Matrix network.</p>
<p>The way we’ve been approaching P2P is the “<a href="https://twitter.com/Lucid00/status/1263974339294175232">hamfisted but genius</a>” approach of taking homeservers and running them on the client, alongside or within your Matrix client - meaning that there are literally <strong>no</strong> changes required for any Matrix client to talk P2P Matrix, and so P2P Matrix can instantly benefit from all the work which has gone into Riot and other apps.  As a result, P2P is also a huge motivator towards developing much smaller homeservers which can run efficiently clientside (e.g. Dendrite!) - which is of course great news for Matrix as a whole.  It also forces us to develop more scalable routing algorithms (as you don’t want your client to have to talk to every other device in a room every time it sends a message!) and also spurs development of low bandwidth Matrix transports (as you don’t want the additional chatter of talking to multiple peers to consume all your bandwidth).  Finally, it forces us to really ruggedize federation, given nodes are constantly appearing and disappearing, giving the federation much more of a stress test than we see with today’s relatively static homeservers.</p>
<h3 id="p2p-in-practice">P2P in Practice</h3>
<p>So, P2P has been acting as fuel for a lot of our longer term Matrix work over the last few months.  There have been three main experiments so far: at <a href="https://fosdem.org/2020/schedule/event/dip_p2p_matrix/">FOSDEM</a> we showed off running our next-gen Dendrite homeserver running clientside using HTTP over <a href="https://libp2p.io/">libp2p</a> as the transport.  We also highlighted Timothée Floure’s <a href="https://www.epfl.ch/labs/dedis/wp-content/uploads/2020/01/presentation-2019-2-Timothee-Floure-Experimenting-with-Matrix-federation-over-Yggdrasil.pdf">project at EPFL</a> experimenting with Synapse talking P2P CoAP over yggdrasil as the transport via a proxy.</p>
<p>Most recently, however, we’ve been experimenting with compiling Dendrite down to Web Assembly and running it embedded in Riot Web as a Service Worker, using HTTP over libp2p’s websocket transport (coordinated via a websocket rendezvous server).  Architecturally, it looks like this:</p>
<p><img src="/blog/img/p2p-diag.png" alt="P2P Architecture Diagram" /></p>
<p>Today, we’re shipping a major new alpha (v0.1.1) of this P2P demo up at <a href="https://p2p.riot.im">https://p2p.riot.im</a> (requires desktop Chrome or Firefox in non-private-browsing mode) - which hopefully should give a really usable and concrete taste of the shape of things to come.</p>
<p>The main features are:</p>
<ul>
<li>Your conversations are now persisted in your browser storage (via IndexedDB), meaning that as long as all the browsers participating in a given conversation don’t clear their local storage, rooms on the P2P network are here to stay!</li>
<li>Your room directory lists all the aliases for all the rooms published by active nodes on the network.  Moreover, we now automatically publish a local room alias whenever you join a public room, so that others will be able to discover that room via you, even if the server who originally created the alias has disappeared.</li>
<li>Lots and lots of federation improvements between the nodes - for instance, when a node comes online, others should now automatically detect and send scrollback to it.  Invites should work, and there should no longer be any unexpectedly redacted messages.</li>
</ul>
<p>Needless to say, all the code for this is open source under the Apache license, and if you’re feeling particularly adventurous you can embed your very own P2P Dendrite into Riot Web by using the Dockerfile at <a href="https://github.com/matrix-org/dendrite/blob/master/build/docker/DendriteJS.Dockerfile">https://github.com/matrix-org/dendrite/blob/master/build/docker/DendriteJS.Dockerfile</a> or following the instructions at  <a href="https://github.com/matrix-org/dendrite/blob/master/docs/p2p.md">https://github.com/matrix-org/dendrite/blob/master/docs/p2p.md</a>.</p>
<p>Please report bugs to <a href="https://github.com/matrix-org/dendrite/issues">https://github.com/matrix-org/dendrite/issues</a>!</p>
<p>Finally, please understand that the demo is very likely <strong>not</strong> what the final version of P2P Matrix will look like - this is just one step in a series of experiments as we investigate the best paths forward :)</p>
<h3 id="what-s-next">What’s next?</h3>
<p>For the current demo, there’s still lots of stuff remaining, including:</p>
<ul>
<li>More federation debugging (and hooking in <a href="https://github.com/matrix-org/tardis">tardis</a> and writing up everything we’ve learned about implementing federation in Dendrite!)</li>
<li>Making the content repository work in-browser (gotta fill up those IndexedDBs with some GIFs!)</li>
<li>Hooking up E2E Encryption APIs in Dendrite (not that it buys us much in a pure P2P world)</li>
<li>WebRTC transports.  Turns out that service workers aren’t allowed to speak WebRTC, so we’ll have to shim through to Riot to speak true peer-to-peer WebRTC data channels rather than relaying all the traffic through the websocket rendezvous server.</li>
<li>Decentralised accounts for multidevice support - reviewing <a href="https://github.com/matrix-org/matrix-doc/blob/rav/proposal/remove_mxids_from_events/proposals/1228-removing-mxids-from-events.md">MSC1228</a> and getting Dendrite supporting multihoming accounts!</li>
<li>Finishing all of Dendrite’s other remaining APIs.</li>
</ul>
<p>Beyond this, there are some bigger picture questions left to be answered in future experiments.</p>
<p>Firstly: we do not yet have a solution for “store and forward” nodes which can relay messages on behalf of a room if all the participating devices are offline.  A first cut will be to run a P2P-capable homeserver server-side for this, but then metadata will start to accumulate server-side for the conversations it hosts.  A more interesting approach would be to use a store and forward system which obfuscates who is talking to who, such as a mixnet, and could even provide resistance to network traffic pattern analysis.  This is very much an open area of research, but one we are getting into :D</p>
<p>Secondly: we want to experiment more with other transports, and find out which works best for Matrix.  Libp2p has some really exciting new stuff in the form of <a href="https://blog.ipfs.io/2020-05-20-gossipsub-v1.1">Gossipsub v1.1</a> - a much smarter routing algorithm for pubsub traffic in libp2p, which David Dias gave us a <a href="https://youtu.be/APVp-20ATLk?t=3598">VIP tour</a> of at the first Open Tech Will Save Us meetup.  So we’ll need to restructure our libp2p transport as pubsub to see how it works in practice.  Separately, we also want to play with hooking up <a href="https://yggdrasil-network.github.io/">Yggdrasil</a> (the encrypted overlay network) as a transport as a totally different approach - Yggdrasil will easily let us span different underlying network transports, but comes with different tradeoffs (e.g. no browser support yet).  We also want to take a look at the <a href="https://dat.foundation/">DAT</a> / <a href="https://github.com/hypercore-protocol/hypercore">hypercore</a> / <a href="https://github.com/hyperswarm/hyperswarm">hyperswarm</a> / <a href="https://cabal.chat/">Cabal</a> ecosystem to see if there’s a match :)</p>
<p>Thirdly and finally: we obviously want to unify the new P2P Matrix network with today’s federated one.  The ideal outcome here would be to have a hybrid model, where teams who want their users to have a dedicated homeserver (for availability, IT policies, etc) can continue to have one as they do today - but newbies who have just installed Riot would float around on P2P unless they decided to consciously put down roots on a server or two.  Best of all, it would let us turn off the matrix.org homeserver: the best public homeserver is one you run yourself on your own phone ;)  The approach we take for linking P2P and today’s Matrix will depend very much on the transport we select for P2P in the long run, but the likelihood is that today’s homeservers will sprout P2P gateways to link the networks.</p>
<h2 id="conclusion">Conclusion</h2>
<p>So, there you have it.  P2P Matrix exists, and is developing at an alarming speed - and pushing Dendrite development along with it.  Most excitingly, there have been no changes yet to the Matrix spec for P2P at all; we’ve just swapped https for http-over-libp2p as the transport.  So <strong>all</strong> of the work we’ve been doing making Dendrite work in a P2P world has directly translated into making Dendrite work on today’s Matrix too  You can now stand up a Dendrite and have it federate pretty reliably with the wider Matrix network, although we’re still rushing through implementing APIs (we’re up to 35% passing <a href="https://github.com/matrix-org/sytest">sytest</a> coverage - although that 35% does contain most of the important tests :)</p>
<p>Finally, in case you’re worried about why the Matrix core team is off chasing P2P dreams rather than improving Riot’s UX, or implementing Communities, or Extensible Profiles, or working through the MSC backlog etc... in practice only two people (ignoring Matthew) have been working on P2P - Neil Alexander (author of the original FOSDEM demo, Dendrite wrangler and Yggdrasil co-maintainer) and Kegan Dougal (of the original Matrix dev team, one of the original authors of Dendrite, and now wrangling the WASM P2P work too).  Huge thanks to Kegan &amp; Neil for pushing P2P forwards - and huge thanks to everyone else on the core team and the wider community for keeping today’s Matrix advancing too!</p>
<p>Hope this has given a tempting glimpse of the shape of things to come.  Honestly we never thought we’d get as far as P2P when we started Matrix back in 2014, but it’s really fun to be finally catching up with the future :D</p>
<p>-- Matthew</p>
<p>P.S. You can read more about this from Neil Alexander’s point of view <a href="https://neilalexander.dev/2020/06/02/thoughts-p2p-matrix.html">over at his blog</a> (including more thoughts on the potential Yggdrasil demo!)</p>
<p>P.P.S You can read the gory details of the P2P and WASM implementation from Kegan's point of view <a href="https://github.com/matrix-org/dendrite/wiki/How-p2p.riot.im-works">over at the Dendrite wiki</a>.</p>
<p>P.P.P.S Comments over at <a href="https://news.ycombinator.com/item?id=23393935">HN</a></p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;05&#x2F;21&#x2F;welcoming-automattic-to-matrix&#x2F;" title="Welcoming Automattic to Matrix!">Welcoming Automattic to Matrix!</a></h2>
                <span>
                    21.05.2020 01:42
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                <br>
                <small>Last update: 21.05.2020 01:28</small>
            </header>
            <div>
                
                <p><img src="https://matrix.org/blog/img/2020-05-21-automattic.png" alt="Automattic ♥️ Matrix" /></p>
<p>Hi all,</p>
<p>We’re very excited indeed to announce that <a href="https://automattic.com/">Automattic</a>, the creators of <a href="https://wordpress.com/">WordPress.com</a>, are jumping head first into the Matrix ecosystem with a strategic investment of almost $5M into <a href="https://vector.im">New Vector</a> (the company which makes <a href="https://riot.im">Riot</a> and <a href="https://modular.im">Modular.im</a>, founded by the core Matrix team in 2017).  More importantly, Matt Mullenweg (co-founder of WordPress and founder of Automattic) and the Automattic gang are committing to make the most of Matrix in their work going forwards!</p>
<p>This is huge news, not least because WordPress literally runs over 36% of the websites on today’s web - and the potential of bringing Matrix to all those users is incredible.  Imagine if every WP site automatically came with its own Matrix room or community?  Imagine if all content in WP automatically was published into Matrix as well as the Web?  (This isn’t so far fetched an idea - turns out that Automattic already runs a XMPP bridge for wordpress.com over at <a href="https://im.wordpress.com">im.wordpress.com</a>!).  Imagine there was an excellent Matrix client available as a WordPress plugin for embedding realtime chat into your site? Imagine if <a href="https://tumblr.com">Tumblr</a> (which is part of Automattic these days) became decentralised!?</p>
<p>In fact, if you’re a developer in either the Matrix or WordPress communities, now might be a good time to think about how to cross the streams.... not least because Automattic just opened up a role for a <a href="https://automattic.com/work-with-us/matrix-integrations-engineer/">Matrix.org/WordPress Integrations Engineer</a>! Quite aside from the investment, this shows Automattic is serious about Matrix - and we’d like to thank them for opening up jobs in these challenging times to further accelerate Matrix.  Perhaps some day Matrix Engineer will be as common a career choice as Web Developer ;)</p>
<p>That said, it’s super early days for integration work, and there isn’t a concrete project to announce yet beyond the investment in New Vector (which is effectively an extension of the funding NV raised in October) and Automattic’s Job opening - but these are the sort of ideas we’ve been kicking around. And at the very least, we should expect to see Automattic’s communities migrating over to Matrix in the coming months.</p>
<p>It’s been loads of fun working with Matt and the team on this: we see a huge overlap in terms of a genuine love for the open web, open source and open standards.  It’s also no coincidence that Matt (independently of Automattic) donated substantially to Matrix via Patreon back in 2017 when we needed it the most.  We’re also looking forward to benefiting from Automattic’s experience in sustainably and responsibly funding and growing open source projects in general - WordPress.com is an excellent example of how one can support development of a project like WordPress without compromising its open source nature.</p>
<p>So, we’d like to formally welcome WordPress and the rest of the Automattic family into Matrix.  It’s incredibly exciting times, and we can’t wait to see what will come of the partnership!  And meanwhile, if any other massive open source organisations want to join Automattic and <a href="https://matrix.org/blog/2019/12/19/welcoming-mozilla-to-matrix">Mozilla</a> in leaping into Matrix, you know where to find us… :D</p>
<p>Huge thanks go to Matt for believing in Matrix - watch this space for updates.</p>
<ul>
<li>Matthew, Amandine &amp; the Matrix Team.</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;05&#x2F;06&#x2F;cross-signing-and-end-to-end-encryption-by-default-is-here&#x2F;" title="Cross-signing and End-to-end Encryption by Default is HERE!!!">Cross-signing and End-to-end Encryption by Default is HERE!!!</a></h2>
                <span>
                    06.05.2020 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>As of today, Matrix is end-to-end encrypted <strong>by default</strong> for private conversations.</p>
<p>Three years have passed since we <a href="https://matrix.org/blog/2016/11/21/matrixs-olm-end-to-end-encryption-security-assessment-released-and-implemented-cross-platform-on-riot-at-last">first announced End-to-end Encryption in
Matrix</a>
and started to beta test it in Riot - and after an enormous amount of
polishing and refinement on its user experience, we are finally declaring it
out of beta and enabling it by default for all new private conversations in
Riot.  As Riot is currently the most common Matrix client, this means that
Matrix as a whole should now be considered end-to-end encrypted by default for
DMs and invite-only rooms.</p>
<p>Work on E2EE in Matrix has progressed in waves since we first shipped it - including:</p>
<ul>
<li>adding keysharing (letting you share encryption keys between your devices to improve reliability)</li>
<li>making Riot Web's encryption resilient to running concurrently in multiple tabs</li>
<li>adding online key backup (so you don't lose all your history if you lose all your devices)</li>
<li>making encryption resilient to restoring the app from a backup</li>
<li>adding interactive key verification via emoji to make the verification process easier.</li>
</ul>
<p>However, our goal was always to enable E2EE by default for all private rooms,
which means having feature parity between unencrypted and E2EE Matrix so that
we can enable encryption without <em>any</em> negative impact on usability.  The
high-level remaining items were significant:</p>
<ul>
<li>Cross-signing: verifying your own logins so others don’t have to.</li>
<li>Adding QR codes for even better verification UX, to make cross-signing as painless as possible.</li>
<li>Replacing the old prototype UI for E2EE with final polished UI/UX.</li>
<li>Ability to support non-E2EE clients.</li>
<li>Ability to search encrypted rooms.</li>
<li>Ability to view file indexes in encrypted rooms.</li>
<li>Fixing the remaining “Unable to decrypt” errors.</li>
</ul>
<p>Over the last few months the Riot team has been almost entirely focused on
implementing solutions to these items - and we're finally at the point where
the switch can be flipped and as of Riot Web/Desktop 1.6, Riot iOS 0.11.1 and
RiotX Android 0.19, all new private rooms will be encrypted by default;
completing the transition we began at <a href="https://fosdem.org/2020/schedule/event/matrix/">FOSDEM
2020</a> when we landed
cross-signing E2E-by-default in the development branches of Riot.</p>
<p><strong>For full details, please go check out the <a href="https://blog.riot.im/e2e-encryption-by-default-cross-signing-is-here/">massive deep dive over at the Riot
blog</a></strong> - also featuring all the other recent progress in Riot!</p>
<p>Heads up that encrypted traffic is slightly heavier on the server than
unencrypted (due to exchanging keys, verification traffic, and keybackup
traffic), and so there is a risk that the already-over-popular Matrix.org
server instance may feel a little hugged to death.  However, unprecedented
Synapse performance breakthroughs are on the horizon in the coming weeks which
will fix this - and, of course, you can (and should!) be using your own
instance anyway.</p>
<p>Thanks everyone for helping us test encryption over the years and getting us
to this point: cross-signing provides a more secure way of tracking device
trust than almost any other comms system out there, and we hope that you'll
agree the improved UX has been worth the wait.</p>
<p>Next stop: Synapse performance, and rebuilding Riot's first time user experience!</p>
<p>thanks,</p>
<p>Matthew, Amandine &amp; the Matrix Team.</p>
<p>(Comments over at <a href="https://news.ycombinator.com/item?id=23107564">HN</a>)</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;04&#x2F;29&#x2F;new-categories-for-matrix-spec-changes&#x2F;" title="New Categories for Matrix Spec Changes">New Categories for Matrix Spec Changes</a></h2>
                <span>
                    29.04.2020 22:37
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/andrew-morgan">
                        Andrew Morgan
                    </a>
                </span>
                <br>
                <small>Last update: 29.04.2020 20:50</small>
            </header>
            <div>
                
                <p>On April 14th, the Spec Core Team conducted a long-overdue retrospective
about the things that were working in the
<a href="https://matrix.org/docs/spec/proposals">Matrix Spec Proposal process</a>,
and those that were not.</p>
<p>The most glaring item on the list was the sluggish pace that many Matrix
Spec Changes (MSCs) take throughout the proposal process, as well as the
general lack of activity from the Spec Core Team members on proposals that
have not yet started a Final Comment Period.</p>
<p>We deeply apologize for the frustration this has likely caused many MSC
authors, and want to shed some light on the reasoning behind it, and what we
plan to do to prevent leaving authors in the dark about why there may be no
Spec Core Team activity on their proposal.</p>
<h2 id="proposal-triaging">Proposal Triaging</h2>
<p>There are currently 136 open MSCs that have yet to undergo Final Comment
Period (FCP), 75 of which are marked as proposal-in-review, and 20 that have
a FCP proposed. Relative to the 65 MSCs that have ever been closed, this is a
lot of outstanding ideas, features and maintenance changes.</p>
<p>The Spec Core Team itself is made up of 8 members, each of which have
separate full-time jobs. All team members are well-placed to be on the team
given their wide breadth of knowledge across the Matrix ecosystem,
however the majority are some of the most busy pushing forward Matrix's
reference implementations - without which, Matrix will unquestionably fail.
This limits the amount of MSCs that the team can effectively work on at a
given time.</p>
<p>The team understands that there are MSCs that provide incredibly useful
features, such as
<a href="https://github.com/matrix-org/matrix-doc/pull/2191">support for LaTeX in messages</a>
or
<a href="https://github.com/matrix-org/matrix-doc/pull/2403">the ability to &quot;knock&quot; on rooms</a>,
and would undoubtedly like to see them land at some point.</p>
<p>But there is also a large backlog of MSCs that provide even more fundamental
fixes and additions to the protocol that the team needs to prioritise. These
include things like
<a href="https://github.com/matrix-org/matrix-doc/pull/2472">cross-signing devices</a>,
<a href="https://github.com/matrix-org/matrix-doc/pull/1772">the communities rewrite</a> and
finally merging
<a href="https://github.com/matrix-org/matrix-doc/pull/1849">reactions and edits</a> into the spec.</p>
<p>While we announce what MSCs we're focusing on during a given week during
<a href="https://matrix.org/twim">TWIM</a>, it's not as clear which items we're looking
to pull from the backlog next. To help tackle this, and to help keep us
honest, we've begun putting each MSC into either &quot;feature&quot;, &quot;maintenance&quot;, or
&quot;core&quot; buckets. This materialises in the form of github tags, which can be
used to filter the list of MSCs like so:
<a href="https://github.com/matrix-org/matrix-doc/issues?q=is%3Aopen+label%3Akind%3Afeature">feature</a>,
<a href="https://github.com/matrix-org/matrix-doc/issues?q=is%3Aopen+label%3Akind%3Amaintenance">maintenance</a>,
<a href="https://github.com/matrix-org/matrix-doc/issues?q=is%3Aopen+label%3Akind%3Acore">core</a>.
For a given timespan, we’ll pick a track and pull MSCs out of that category
when possible. More information about MSC categories are now detailed on
<a href="https://matrix.org/docs/spec/proposals#categories">the proposals page</a>.</p>
<p>As for the next 6 to 12 months, we plan to work on items from the “core”
category. We need to get Matrix to a point where it can compete with other,
proprietary chat protocols and items in &quot;core&quot; are decidedly the proposals
that will take us the furthest in that direction. This doesn't mean we won't
occasionally look at an MSC in a different category, but it will heavily
influence our prioritisation.</p>
<h2 id="future">Future</h2>
<p>We'll try this approach out over the next few months and see how it goes. The
next Spec Core Team retro will occur in the middle of May, where we will
review the process once again.</p>
<p>For now, if you have any feedback please come and chat with us in
<a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> :)</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;category&#x2F;general&#x2F;page&#x2F;2&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">3 / 14</span>
    <div class="prev">
        
        <a href="&#x2F;category&#x2F;general&#x2F;page&#x2F;4&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
