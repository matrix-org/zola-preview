<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Releases</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/category/releases/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true" >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow"></div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Releases</h1>
            132 posts tagged with "Releases" <a href="/category">(See all Category)</a>
            
            <h2>
                <small><a href="/category/releases/atom.xml">Atom Feed</a></small>
            </h2>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;07&#x2F;20&#x2F;synapse-1-63-released&#x2F;" title="Synapse 1.63 released">Synapse 1.63 released</a></h2>
                <span>
                    20.07.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey all, it's time for another Synapse release! That's right, <a href="https://github.com/matrix-org/synapse/releases/tag/v1.63.0">Synapse
1.63</a> is out,
let's have a look at it.</p>
<h2 id="clarifications-on-anonymised-server-statistics">Clarifications on &quot;anonymised&quot; server statistics</h2>
<p>Synapse has the ability to report usage statistics to the Matrix.org Foundation
(or to another location, if configured to do so). These statistics, such as
number of users, number of rooms joined by the server, etc. (they don't feature
any identifiable information about users and rooms) help us monitor the health
of the public federation.</p>
<p>In this release of Synapse, we have updated our public documentation about this
feature to clarify how it works and what exactly is being reported. This
documentation can be found <a href="https://matrix-org.github.io/synapse/v1.63/usage/administration/monitoring/reporting_homeserver_usage_statistics.html">right
here</a>.</p>
<p>Note that previous documentation and prompts surrounding this feature called it
&quot;anonymised&quot; server statistics. This could easily be misinterpreted, as while
per-user statistics are not reported, homeserver server names are. We have
therefore changed said documentation and prompts to be clearer about
what is actually reported.</p>
<p>Note that your homeserver will never report any statistics if the <code>report_stats</code>
configuration option is set to <code>false</code>. Server admins who are curious about
which software is used by the Matrix.org Foundation to record server statistics
can check out <a href="https://github.com/matrix-org/panopticon">panopticon</a>.</p>
<h2 id="improved-filtering-for-public-room-search">Improved filtering for public room search</h2>
<p>This version of Synapse ships with an experimental implementation of
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">MSC3827</a> which
allows filtering public room search results by room type. This feature will
enable better discoverability for Matrix Spaces (which are rooms with a specific
type, under the hood), as it will enable clients to search specifically for
public spaces.</p>
<p>This feature is still experimental as <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3827">its
MSC</a> hasn't
completed the MSC process yet, though it is in its final comment period at the
time this post is being written. This means a stable implementation will be
coming to Synapse very soon, so watch this space!</p>
<h2 id="everything-else">Everything else</h2>
<p>Synapse 1.63 also includes a new rate limiter to limit invites per issuer. This
rate limiter can be configured using the new <code>rc_invites.per_issuer</code>
configuration setting, see <a href="https://matrix-org.github.io/synapse/latest/usage/configuration/config_documentation.html#rc_invites">the
documentation</a>
for more information.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.63.0">full
changelog</a> for a
complete list of changes in this release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>,
<a href="https://github.com/villepeh">villepeh</a> and <a href="https://github.com/arkamar">Petr
Vaněk</a>, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;07&#x2F;06&#x2F;synapse-1-62-released&#x2F;" title="Synapse 1.62 released">Synapse 1.62 released</a></h2>
                <span>
                    06.07.2022 16:37
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey all, <a href="https://github.com/matrix-org/synapse/releases/tag/v1.62.0">Synapse
1.62</a> is out! Let's
have a look inside.</p>
<h2 id="spam-checker-improvements">Spam checker improvements</h2>
<p>In the past few weeks, the Synapse team has been working with the Matrix.org
Trust &amp; Safety team to help module developers build more efficient protections
against spam. As a consequence of this work, Synapse 1.62 introduces new ways
for modules to communicate the result of actions taken against a specific
message or operation through the <a href="https://matrix-org.github.io/synapse/v1.62/modules/spam_checker_callbacks.html">spam checker module
callbacks</a>.</p>
<p>Previously, most spam checker callbacks would be expected to return a boolean
indicating whether a specific operation should be qualified as spam. Starting
from Synapse 1.62, modules are now expected to return either
<code>synapse.module_api.NOT_SPAM</code> (to indicate an action is not spammy), or an error
code that is part of <code>synapse.module_api.errors.Codes</code>.</p>
<p>Note that the previous behaviour is still supported but is now deprecated, and
will be removed in a future version of Synapse.</p>
<p>See <a href="https://matrix-org.github.io/synapse/v1.62/upgrade.html#new-signatures-for-spam-checker-callbacks">the upgrade
notes</a>
for a list of the affected callbacks and an example of this change. Note that on
top of the list described there, the <code>check_event_for_spam</code> callback was also
<a href="https://matrix-org.github.io/synapse/v1.62/upgrade.html#new-signature-for-the-spam-checker-callback-check_event_for_spam">updated with a similar
change</a>
in Synapse 1.61.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release of Synapse includes important performance improvements around
syncing, specifically around handling device lists and notifications.</p>
<p>Synapse 1.62 also introduce a changes of its optional dependency on the <a href="https://github.com/matrix-org/matrix-synapse-ldap3">LDAP3
authentication provider
module</a> to
<a href="https://github.com/matrix-org/matrix-synapse-ldap3/releases/tag/v0.2.1">v0.2.1</a>
in order to fix an issue with usernames that include uppercase characters.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.62.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.62/upgrade#upgrading-to-v1620">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/olmari">Sami
Olmari</a>, <a href="https://github.com/Danieloni1">Daniel
Aloni</a>,
<a href="https://github.com/Thumbscrew">Thumbscrew</a> and <a href="https://github.com/aytchell">Hannes
Lerchl</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;06&#x2F;28&#x2F;security-release-synapse-1-61-1&#x2F;" title="Security release: Synapse 1.61.1">Security release: Synapse 1.61.1</a></h2>
                <span>
                    28.06.2022 16:19
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey everyone!</p>
<p>Today we're exceptionally releasing <a href="https://github.com/matrix-org/synapse/releases/tag/v1.61.1">Synapse
1.61.1</a>, which comes
as a security release. <strong>Server administrators are encouraged to update as soon as
possible.</strong></p>
<p>This release fixes a vulnerability with Synapse's URL preview feature. URL
previews of some web pages can lead to unbounded recursion, causing the request
to either fail, or in some cases crash the running Synapse process.</p>
<p>Homeservers with the <code>url_preview_enabled</code> configuration option set to <code>false</code>
(the default value) are unaffected. Instances with the <code>enable_media_repo</code>
configuration option set to <code>false</code> are also unaffected, as this also disables
the URL preview functionality.</p>
<p>Server administrators who are unable to update Synapse should disable URL
previews by setting <code>url_preview_enabled: false</code> in their configuration file.
They can also delegate URL preview to a separate, dedicated worker to ensure the
process crashing does not impact other functionality of Synapse.</p>
<p>Please see <a href="https://github.com/matrix-org/synapse/security/advisories/GHSA-22p3-qrh9-cx32">this security
advisory</a>
for more information.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;06&#x2F;17&#x2F;synapse-1-61-released&#x2F;" title="Synapse 1.61 released">Synapse 1.61 released</a></h2>
                <span>
                    17.06.2022 11:48
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey everyone! Guess what? <a href="https://github.com/matrix-org/synapse/releases/tag/v1.61.0">Synapse
1.61</a> is out! Let's
have a look at it.</p>
<h2 id="farewell-groups">Farewell, groups</h2>
<p>If you are new to Matrix, you might have not heard of the feature referred to as
&quot;groups&quot; or &quot;communities&quot; (depending on the context). This feature allowed
grouping rooms and users to better represent a community, one of which being
<code>+matrix:matrix.org</code> which used to represent the Matrix community. This may
sound similar to <a href="https://matrix.org/blog/2021/05/17/the-matrix-space-beta">Matrix
Spaces</a>, and it would
make sense since Spaces are meant to be a more powerful replacement for groups.</p>
<p>In <a href="https://matrix.org/blog/2022/04/05/synapse-1-56-released">Synapse 1.56</a>,
support for groups was deprecated, with a plan to fully remove it in a
later release of Synapse. This has now been done as of Synapse 1.61, and most of the
code supporting this feature has now been removed.</p>
<p>Note that this means that administrators of homeservers using workers can remove
endpoints related to groups from their reverse proxy configuration. See <a href="https://matrix-org.github.io/synapse/v1.61/upgrade.html#removal-of-deprecated-communitygroups">the
upgrade
notes</a>
for more information.</p>
<h2 id="media-retention">Media retention</h2>
<p>A common issue we see homeserver administrators struggle with is managing the
disk space used by Synapse. A non-negligible part of that disk space usage is
dedicated to storing files uploaded by Matrix users, both local and remote.</p>
<p>Up until now Synapse would only provide administrators with limited, manual ways
to manage the media store of their homeserver, via the <a href="https://matrix-org.github.io/synapse/develop/admin_api/media_admin_api.html">admin
API</a>.</p>
<p>As of this release, Synapse now allows administrators to define retention
lifetimes for local and remote media. This allows media that hasn't been
accessed in a long time to be automatically deleted, therefore freeing up disk
space. Server administrators wishing to control media retention more finely can
also define different policies for remote and local media.</p>
<p>This feature can be enabled by configuring the <code>media_retention</code> setting, see
<a href="https://matrix-org.github.io/synapse/develop/usage/configuration/config_documentation.html#media_retention">the configuration
guide</a>
for more information.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release of Synapse introduces a change in the return value of the
<code>check_event_for_spam</code> spam checker module callback, in order to allow modules
more flexibility in communicating to users why their messages are rejected. This
is part of ongoing improvement works around spam checker callbacks, watch this
space next time for more information!</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.61.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.61/upgrade#upgrading-to-v1610">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a> and <a href="https://github.com/Vetchu">Jacek
Kuśnierz</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;06&#x2F;16&#x2F;matrix-v1-3-release&#x2F;" title="Matrix v1.3 release">Matrix v1.3 release</a></h2>
                <span>
                    16.06.2022 17:16
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/travis-ralston">
                        Travis Ralston
                    </a>
                </span>
                <br>
                <small>Last update: 15.06.2022 22:00</small>
            </header>
            <div>
                
                <p>Hey all,</p>
<p>It’s another quarter and therefore <a href="https://spec.matrix.org/v1.3/">another spec release</a>! Matrix 1.2 was <a href="https://matrix.org/blog/2022/02/02/matrix-v-1-2-release">released</a> back in February, and while a bit late in the quarter this time around we’ve still got some exciting additions coming to you in this release.</p>
<p>Like last time, the speed of these releases might feel a bit quick for developers: fret not if you’re still working on v1.1 or v1.2 implementations. We’re not expecting that implementations update as soon as a new spec release is published, but rather that the ecosystem gradually update over the course of the next few months. Implementations should be aiming for as close to realtime as they can get though, particularly considering v1.4 is expected to have some large features (more on that later on).</p>
<p>Matrix 1.3 sees 14 MSCs get merged, but we can’t possibly go into detail on them all here. We’ve picked some notable highlights and recommend the full changelog at the bottom for a complete idea of what’s been going on.</p>
<h2 id="aggregations-and-the-relationships-made-along-the-way">Aggregations and the relationships made along the way</h2>
<p>It’s no secret that <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/1849">MSC1849</a>-style server-side aggregation of related messages have been in the review backlog for a while. We ended up splitting <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/1849">MSC1849</a> down into more reviewable chunks like <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2675">MSC2675</a>, allowing us to finally land the first pieces into Matrix 1.3 today.</p>
<p>In the spec there aren’t currently any defined relationships which make use of aggregations or even the <code>rel_type</code> described by <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2674">MSC2674</a>, but we do expect that v1.4 of the spec will have support for at least threads (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3440">MSC3440</a>) and edits (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2676">MSC2676</a>), filling the gap. For now, we’ve decided that holding aggregations back until v1.4 doesn’t make a lot of sense, so we have launched them into the world as-is for custom relations or for clients &amp; servers to prepare for what’s expected to be coming in v1.4 of the spec.</p>
<p>To further prepare for threads, we’ve also removed some restrictions of rich replies through <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3676">MSC3676</a>, thus allowing replies to be constructed with non-text messages like images. Check out the <a href="https://spec.matrix.org/v1.3/client-server-api/#rich-replies">new rich replies module</a> for more information.</p>
<h2 id="join-if-you-can-or-just-knock">Join if you can, or just knock</h2>
<p>When we launched restricted rooms in Matrix 1.2 we <a href="https://matrix.org/blog/2022/02/02/matrix-v-1-2-release#public-but-not-too-public-join-rules">noted</a> that we forgot to handle a case where someone might want to support <em>both</em> knocking and restricted rooms at the same time. We’ve fixed that with a stop-gap join rule from <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3787">MSC3787</a> in <a href="https://spec.matrix.org/v1.3/rooms/v10/">room version 10</a>.</p>
<p>The new <code>knock_restricted</code> join rule allows the room to keep its desire to be restricted whilst also allowing members who do not meet the criteria to knock on the room instead. We’ll likely expand on this sort of mixing of join rules in proposals like <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3386">MSC3386</a> down the line, however for now this should cover the gap in support. Next up: figuring out how to make encrypted room history available to these new joiners in a safe way.</p>
<h2 id="a-thread-for-next-time">A thread for next time</h2>
<p>Originally planned for this release, <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3440">MSC3440</a>-style threads are anticipated to be ready for v1.4 (next quarter) with support for notifications and, of course, a whole new way to communicate in a room.</p>
<p>Threads are one of the more complicated features we’ve tried to land in recent history as it has a large impact on a wide variety of the spec: everything from event relationships (fixed in this release) to read receipts to push notifications needs to be worked out to build a system that not only users can understand, but also the developers trying to build it. With this massive surface area we just weren’t comfortable with adding threads to v1.3 as-is, given problems like notifications aren’t yet fully solved.</p>
<p>Alongside threads, we also anticipate that <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2676">MSC2676</a>-style message editing will be landing in v1.4, finally specifying how to update an event’s contents without having to redact &amp; re-send. Although message editing has been supported for a long time in some clients, we're excited that it will finally become part of the official specification, meaning it can be implemented more widely. Messaging clients are encouraged to give the proposal an early read and possibly even attempt implementation if not already done to help us ensure the system is in a reasonable state for inclusion in the spec, though we do note that feature requests for edits will likely be deferred to a future MSC.</p>
<p>Keep an eye on <a href="https://matrix.org/blog/category/this-week-in-matrix">This Week In Matrix</a> for updates on what v1.4 is expected to include, and how things are progressing.</p>
<h2 id="the-full-changelog">The full changelog</h2>
<p>MSCs are how the spec changes in the way it does - adding, fixing, and maintaining features for the whole ecosystem to use. The blog post can’t cover them all, but that doesn’t make them any less important! Check out the full changelog below, and the <a href="https://spec.matrix.org/unstable/proposals/">Spec Change Proposals</a> page for more information on how these MSCs got merged (hint: they submitted a proposal, which anyone can do - take a look at the <a href="https://www.youtube.com/watch?v=SFkZz60RRfc">Matrix Live episode</a> where Matthew covers the proposal process).</p>
<h3 id="client-server-api">Client-Server API</h3>
<p><strong>Deprecations</strong></p>
<ul>
<li>Deprecate the <code>sender_key</code> and <code>device_id</code> on <code>m.megolm.v1.aes-sha2</code> events, and the <code>sender_key</code> on <code>m.room_key_request</code> to-device messages, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3700">MSC3700</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1101">#1101</a>)</li>
</ul>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Make <code>from</code> optional on <code>GET /_matrix/client/v3/messages</code> to allow requesting events from the start or end of the room history, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3567">MSC3567</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1002">#1002</a>)</li>
<li>Add refresh tokens, per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2918">MSC2918</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1056">#1056</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1113">#1113</a>)</li>
<li>Relax the restrictions on Rich Replies, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3676">MSC3676</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1062">#1062</a>)</li>
<li>Describe a structured system for event relationships, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2674">MSC2674</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1062">#1062</a>)</li>
<li>Describe how relationships between events can be &quot;aggregated&quot;, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2675">MSC2675</a> and <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3666">MSC3666</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1062">#1062</a>)</li>
<li>Add support for a new <code>knock_restricted</code> join rule in supported room versions, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3787">MSC3787</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Clarify that the url field in <code>m.room.avatar</code> events is not required. (<a href="https://github.com/matrix-org/matrix-spec/issues/987">#987</a>)</li>
<li>Clarify that the <code>type</code> in user-interactive authentication can be omitted. (<a href="https://github.com/matrix-org/matrix-spec/issues/989">#989</a>)</li>
<li>Adjust the OpenAPI specification so that the type <code>Flow information</code> is explicitly defined when the client-server API is rendered. (<a href="https://github.com/matrix-org/matrix-spec/issues/1003">#1003</a>)</li>
<li>Correct the default value for <code>invite</code> where it is not specified in an <code>m.room.power_levels</code> event. (<a href="https://github.com/matrix-org/matrix-spec/issues/1021">#1021</a>)</li>
<li>Update various links which pointed to the old <code>matrix-doc</code> github repository. (<a href="https://github.com/matrix-org/matrix-spec/issues/1032">#1032</a>)</li>
<li>Removed <code>m.room.message.feedback</code> per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3582">MSC3582</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1035">#1035</a>)</li>
<li>Fix various typos throughout the specification. (<a href="https://github.com/matrix-org/matrix-spec/issues/1051">#1051</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1054">#1054</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1059">#1059</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1081">#1081</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1097">#1097</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1110">#1110</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1115">#1115</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1126">#1126</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1127">#1127</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1128">#1128</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1129">#1129</a>, <a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3681">#3681</a>, <a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3708">#3708</a>)</li>
<li>Clarify that state keys starting with <code>@</code> are in fact reserved. Regressed from <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3658">#3658</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1100">#1100</a>)</li>
<li>Remove unenforced size limit on the <code>name</code> field of <code>m.room.name</code> events. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3669">#3669</a>)</li>
<li>Remove erroneous <code>room_id</code> field from examples of <code>m.read</code>, <code>m.typing</code> in <code>/sync</code> and <code>m.fully_read</code> in room account data. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3679">#3679</a>)</li>
<li>Clarify the behaviour of <code>event_match</code> in push rule conditions. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3690">#3690</a>)</li>
<li>Fix incorrectly referenced <code>m.login.appservice</code> login identifier, instead using <code>m.login.application_service</code>. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3711">#3711</a>)</li>
<li>Fix membership state transitions to denote that <code>invite-&gt;knock</code> and <code>external-&gt;leave</code> are valid transitions. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3730">#3730</a>)</li>
</ul>
<h3 id="server-server-api">Server-Server API</h3>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add a <code>destination</code> property to the Authorization header, as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3383">MSC3383</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1067">#1067</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Remove largely unused <code>origin</code> field from PDUs. (<a href="https://github.com/matrix-org/matrix-spec/issues/998">#998</a>)</li>
<li>Update various links which pointed to the old <code>matrix-doc</code> github repository. (<a href="https://github.com/matrix-org/matrix-spec/issues/1032">#1032</a>)</li>
<li>Clarify the format for the Authorization header. (<a href="https://github.com/matrix-org/matrix-spec/issues/1038">#1038</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1067">#1067</a>)</li>
<li>Clarify what a &quot;valid event&quot; means when performing checks on a received PDU. (<a href="https://github.com/matrix-org/matrix-spec/issues/1045">#1045</a>)</li>
<li>Clarify that <code>valid_until_ts</code> is in milliseconds, like other timestamps used in Matrix. (<a href="https://github.com/matrix-org/matrix-spec/issues/1055">#1055</a>)</li>
<li>Clarify that checks on PDUs should refer to the state <em>before</em> an event. (<a href="https://github.com/matrix-org/matrix-spec/issues/1070">#1070</a>)</li>
<li>Clarify the historical handling of non-integer power levels. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
<li>Fix various typos throughout the specification. (<a href="https://github.com/matrix-org/matrix-spec/issues/1110">#1110</a>)</li>
<li>Correct misleading text for <code>/send_join</code> response. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3703">#3703</a>)</li>
<li>Clarify that the <code>content</code> for <code>X-Matrix</code> signature validation is the parsed JSON body. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3727">#3727</a>)</li>
</ul>
<h3 id="application-service-api">Application Service API</h3>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add timestamp massaging as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3316">MSC3316</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1094">#1094</a>)</li>
</ul>
<h3 id="identity-service-api">Identity Service API</h3>
<p>No significant changes.</p>
<h3 id="push-gateway-api">Push Gateway API</h3>
<p>No significant changes.</p>
<h3 id="room-versions">Room Versions</h3>
<p><strong>Backwards Compatible Changes</strong></p>
<ul>
<li>Add room version 10 as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3604">MSC3604</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
<li>Enforce integer power levels in room version 10 as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3667">MSC3667</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
<li>Add a <code>knock_restricted</code> join rule supported by room version 10 as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3787">MSC3787</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
<li>Update the default room version to 9 as per <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3589">MSC3589</a>. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3739">#3739</a>)</li>
</ul>
<p><strong>Spec Clarifications</strong></p>
<ul>
<li>Improve readability and understanding of the state resolution algorithms. (<a href="https://github.com/matrix-org/matrix-spec/issues/1037">#1037</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1042">#1042</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1043">#1043</a>, <a href="https://github.com/matrix-org/matrix-spec/issues/1120">#1120</a>)</li>
<li>Improve readability of the authorization rules. (<a href="https://github.com/matrix-org/matrix-spec/issues/1050">#1050</a>)</li>
<li>For room versions 8, 9, and 10: clarify which homeserver is required to sign the join event. (<a href="https://github.com/matrix-org/matrix-spec/issues/1093">#1093</a>)</li>
<li>Clarify that room versions 1 through 9 accept stringy power levels, as noted by <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3667">MSC3667</a>. (<a href="https://github.com/matrix-org/matrix-spec/issues/1099">#1099</a>)</li>
<li>For all room versions: Add <code>m.federate</code> to the authorization rules, as originally intended. (<a href="https://github.com/matrix-org/matrix-spec/issues/1103">#1103</a>)</li>
<li>For room versions 2 through 10: More explicitly define the mainline of a power event and the mainline ordering of other events. (<a href="https://github.com/matrix-org/matrix-spec/issues/1107">#1107</a>)</li>
<li>For room versions 7, 8, 9, and 10: fix join membership authorization rules when <code>join_rule</code> is <code>knock</code>. (<a href="https://github.com/matrix-org/matrix-spec-proposals/issues/3737">#3737</a>)</li>
</ul>
<h3 id="appendices">Appendices</h3>
<p>No significant changes.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;05&#x2F;18&#x2F;synapse-1-59-released&#x2F;" title="Synapse 1.59 released">Synapse 1.59 released</a></h2>
                <span>
                    18.05.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.59.0">Synapse 1.59</a> is
out! Let's see what's new in this version.</p>
<h2 id="generic-worker-types">Generic worker types</h2>
<p>When Synapse instances are subject to high load, it can be useful to use workers
to balance the load more effectively. Workers are separate processes that can
take some of the load off the main Synapse process, and allow the homeserver to
scale more effectively.</p>
<p>In the past, Synapse only provided a specific set of types of workers, each
capable of handling a specific set of operations. For some time now we have been
working on allowing more flexibility around worker configuration, which started
all the way back in <a href="https://matrix.org/blog/2020/03/23/synapse-1-12-0-released">Synapse
1.12.0</a> with the
introduction of a generic worker application type.</p>
<p>Synapse 1.59 furthers this work by deprecating the <code>synapse.app.appservice</code> and
<code>synapse.app.user_dir</code> worker application types. Homeserver administrators
should change the configuration of instances using these types to the generic
<code>synapse.app.generic_worker</code> application type, and use the
<code>notify_appservices_from_worker</code> and <code>update_user_directory_from_worker</code> to
delegate application service and user directory work (respectively) to a worker.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.59/upgrade.html#deprecation-of-the-synapseappappservice-and-synapseappuser_dir-worker-application-types">upgrade
notes</a>
for more information on this change.</p>
<h2 id="push-rules">Push rules</h2>
<p>Push rules allow Matrix clients to define notification rules on a homeserver.
One often reported issue with notification in Matrix is the fact that
notifications are sent out when server ACLs, which define which server(s) can
and cannot interact in a room, change. This is especially annoying during big
waves of abuse, as there might be multiple servers that need to be banned from
rooms, thus causing a lot of unneeded notifications.</p>
<p>Synapse 1.59 now supports silencing server ACL updates, by implementing the new
push rule documented in
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3786">MSC3786</a>.
However, since this MSC hasn't been incorporated into the spec yet, this
behaviour is disabled by default in Synapse: see <a href="https://github.com/matrix-org/synapse/pull/12601">the implementation pull
request</a> for more information
on turning it on.</p>
<p>Synapse 1.59 also allows third-party modules to validate and change the actions
associated with an existing push rule via the <a href="https://github.com/matrix-org/synapse/blob/d24a1486e5c5d69a8798a9d159fd9e06dfc8c3e3/synapse/module_api/__init__.py#L1360-L1420">Module
API</a>.
This is helpful for modules wishing to, for example, configuring specific
notification settings when new users register.</p>
<h2 id="everything-else">Everything else</h2>
<p>As of Synapse 1.59, Synapse will not communicate the name of devices over
federation (unless configured otherwise), in order to better preserve user
privacy. See the <a href="https://matrix-org.github.io/synapse/v1.59/upgrade.html#device-name-lookup-over-federation-has-been-disabled-by-default">upgrade
notes</a>
for more information.</p>
<p>Also note that we have issued a patch release for 1.59 (1.59.1) which fixes a
long-standing bug that started to bite a good amount of server administrators.
Server admins that are looking into upgrading their instance to Synapse 1.59 are
recommended to upgrade to 1.59.1 rather than 1.59.0.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.59.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.59/upgrade#upgrading-to-v1590">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, <a href="https://github.com/SimonBrandner">Šimon
Brandner</a>,
<a href="https://github.com/henryclw">henryclw</a> and <a href="https://github.com/andrewdoh">Andrew
Do</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;05&#x2F;05&#x2F;synapse-1-58-released&#x2F;" title="Synapse 1.58 released">Synapse 1.58 released</a></h2>
                <span>
                    05.05.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.58.0">Synapse 1.58</a> is
out! Let's dive into this new release.</p>
<h2 id="poetry">Poetry</h2>
<p>If you've been reading the past few Synapse release announcements, you might
have already heard about our efforts to integrate
<a href="https://python-poetry.org/">Poetry</a> into Synapse. Poetry is a tool which
manages dependencies of a Python project. Its killer feature is its lockfile,
which explicitly pins all dependencies (direct and transitive) to a fixed
version, even across multiple Python versions and platforms. See more about why
we choose Poetry <a href="https://github.com/matrix-org/synapse/issues/11537">here</a>.</p>
<p>During the past few months, we've been hard at work converting Synapse and its
CI to use Poetry. The goal is to make our Docker images and Debian packages more
reproducible and to provide a fixed, known-good environment for CI. This will
help us to ensure the stability and security of Synapse installations.</p>
<p>Synapse 1.57's Docker image was the first to use Poetry; after a successful
trial, this was extended to Synapse 1.58's Debian packages. Installations from
PyPI using <code>pip</code> will <em>not</em> use the locked environment, though everyone is
welcome to install from source using <a href="https://github.com/matrix-org/synapse/blob/develop/poetry.lock">our
lockfile</a>.</p>
<p>Huge props to <a href="https://github.com/DMRobertson">David</a> from the Synapse team for
leading the work on this front.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release of Synapse also includes performance improvements around sharing
device list updates, which should greatly improve login times for large Matrix
accounts.</p>
<p>Synapse 1.58 also features the implementation of two MSCs:
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3383">MSC3383</a> to
include a <code>destination</code> parameter in federation authentication headers, and
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2815">MSC2815</a> which
(if enabled) allows room moderators to see the content of a redacted event (as
long as it hasn't already been deleted by the homeserver).</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.58.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.58/upgrade#upgrading-to-v1580">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, <a href="https://famedly.com/">Famedly</a> and
<a href="https://github.com/olmari">Sami Olmari</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;05&#x2F;04&#x2F;0-34-0-security-release-for-matrix-appservice-irc-high-severity&#x2F;" title="0.34.0 security release for matrix-appservice-irc (High severity)">0.34.0 security release for matrix-appservice-irc (High severity)</a></h2>
                <span>
                    04.05.2022 11:02
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/tadeusz-sosnierz">
                        Tadeusz Sośnierz
                    </a>
                </span>
                <br>
                <small>Last update: 04.05.2022 09:27</small>
            </header>
            <div>
                
                <p>We've released updates to matrix-appservice-irc and our forked node-irc that it depends on to patch a High security vulnerability.
It's advised to update to 0.34.0 as soon as possible.</p>
<p>The vulnerability allows an attacker to manipulate a Matrix user into executing IRC commands
by having them reply to a maliciously crafted message.</p>
<p>Incorrect handling of a CR character allowed for making part of the message be sent to the IRC server verbatim
rather than as a message to the channel.</p>
<p>If you are currently a matrix-appservice-irc user, exercise caution when replying to messages from untrusted participants
in IRC bridged rooms until your bridge instance has been upgraded.</p>
<p>The vulnerability has been patched in node-irc version 1.2.1 and matrix-appservice-irc 0.34.0.
You can get the release <a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.34.0">on Github</a>.</p>
<p>The bridges running on the Libera Chat, OFTC and other networks bridged by the Matrix.org Foundation have been patched.</p>
<p>The vulnerabilities are tracked as <a href="https://github.com/matrix-org/matrix-appservice-irc/security/advisories/GHSA-37hr-348p-rmf4">GHSA-37hr-348p-rmf4</a> and
<a href="https://github.com/matrix-org/node-irc/security/advisories/GHSA-52rh-5rpj-c3w6">GHSA-52rh-5rpj-c3w6</a>.</p>
<p>Thank you, <a href="https://valentin-lorentz.fr/">Val Lorentz</a> for reporting this vulnerability.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;04&#x2F;19&#x2F;synapse-1-57-released&#x2F;" title="Synapse 1.57 released">Synapse 1.57 released</a></h2>
                <span>
                    19.04.2022 16:28
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey everyone! Guess what? <a href="https://github.com/matrix-org/synapse/releases/tag/v1.57.0">Synapse
1.57</a> has just been
released! Let's see what's new in this version!</p>
<h2 id="application-services">Application services</h2>
<p>Application services are piece of software that have privileged access to some
of the homeserver's features. For example, they can create and manage multiple
users at the same time, which is especially useful for bridges.</p>
<p>This release of Synapse changes the way Synapse manually manages transaction
identifiers when talking to application services (a transaction being a group of
events the application service should know about). While this doesn't have much
impact on the everyday life of a server administrator (besides fixing a
<a href="https://github.com/matrix-org/synapse/pull/12209">bug</a> and paving the way for
future performance improvements), this change means server admins should take
extra care when updating Synapse.</p>
<p>More specifically, if you are running a dedicated Synapse worker for handling
traffic related to application services, this worker <strong>must</strong> be stopped when
upgrading the main Synapse process to ensure the update is performed safely. See
the <a href="https://matrix-org.github.io/synapse/v1.57/upgrade#changes-to-database-schema-for-application-services">upgrade
notes</a>
for more information about this change, and instructions on recovering from an
incorrect upgrade.</p>
<p>This release of Synapse also continues work on bringing end-to-end capabilities
to application services, which I was already telling you about in the <a href="https://matrix.org/blog/2022/01/18/synapse-1-50-released">Synapse
1.50 release blog
post</a>. More
specifically, Synapse now supports sending device list updates to applications
services, as part of implementing
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3202">MSC3202</a>. This
is still very experimental and definitely not production ready, but also very
exciting!</p>
<h2 id="improvements-to-the-module-system">Improvements to the module system</h2>
<p>Modules allow third-party developers to expand Synapse with extra features that
wouldn't necessarily fit into the Matrix specification and/or ecosystem. In the
past release of Synapse, we have been improving this system to add more
functionality to it, and this one is no exception!</p>
<p>Synapse modules can now implement new callbacks to <a href="https://matrix-org.github.io/synapse/v1.57/modules/account_data_callbacks.html#on_account_data_updated">react to account data
updates</a>,
as well as to <a href="https://matrix-org.github.io/synapse/v1.57/modules/third_party_rules_callbacks.html#on_threepid_bind">react to new 3PID (email address, phone number)
associations</a>.
On the latter, note that this callback will only be called after a 3PID has been
validated on the homeserver, and does not trigger when the validation happens on
an identity server (e.g. when publishing a 3PID so that other users can look it
up).</p>
<p>The <code>ModuleApi</code> (which is the Python class enabling modules to interact with
Synapse) has also been updated to allow module to read and write global account
data. This can be done by using the new
<a href="https://github.com/matrix-org/synapse/blob/e31d06f6f0923d001736f5e6e08616293bd4b120/synapse/module_api/__init__.py#L1401-L1464"><code>AccountDataManager</code></a>
class, which can be accessed as <code>api.account_data_manager</code> (where <code>api</code> is an
instance of <code>ModuleApi</code>).</p>
<p>The module API has also been updated with a <a href="https://github.com/matrix-org/synapse/blob/e31d06f6f0923d001736f5e6e08616293bd4b120/synapse/module_api/__init__.py#L543-L552">new
method</a>,
to allow modules to promote an existing user to server administrator (or demote
a server administrator to a normal user). This follows up on an improvement
introduced in <a href="https://matrix.org/blog/2022/04/05/synapse-1-56-released">Synapse
1.56</a> allowing modules
to promote users to server administrators when registering them.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release also includes a performance improvement for workers handling
<code>/sync</code> requests. While this change makes starting this kind of workers slightly
more heavy performance-wise, it aims at improving the load associated with the
first <code>/sync</code> requests hitting it right after starting. See <a href="https://github.com/matrix-org/synapse/pull/12367#issuecomment-1088574192">this
comment</a>
for more details.</p>
<p>Synapse 1.57 also now includes bundled aggregations in message search results by
default, as
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3666">MSC3666</a> has
been accepted and has finished its final comment period.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.57.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.57/upgrade#upgrading-to-v1570">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, <a href="https://famedly.com/">Famedly</a> and
<a href="https://github.com/watson28">Jorge Florian</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;04&#x2F;05&#x2F;synapse-1-56-released&#x2F;" title="Synapse 1.56 released">Synapse 1.56 released</a></h2>
                <span>
                    05.04.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Happy release day everyone! <a href="https://github.com/matrix-org/synapse/releases/tag/v1.56.0">Synapse
1.56</a> is out! Let's
have a look at what's new in this release.</p>
<h2 id="additional-restrictions-around-registration">Additional restrictions around registration</h2>
<p>One common abuse scenario we have seen on Matrix over the years is attackers
making use of public homeservers with open registration to automatically create
multiple accounts in order to evade sanctions. Sometimes, this can lead to these
public homeservers being banned across multiple public rooms despite their
administrator(s) not being directly at fault.</p>
<p>In order to mitigate this, starting from this release, Synapse will refuse to
start by default if it is configured with open registration with no additional
verification. This means users wishing to register on these homeservers will
need to authenticate themselves, either via
<a href="https://github.com/matrix-org/synapse/blob/8a519f8abc6de772167c2cca101d22ee2052fafc/docs/sample_config.yaml#L1285">email</a>,
<a href="https://matrix-org.github.io/synapse/v1.56/CAPTCHA_SETUP.html">recaptcha</a> or
<a href="https://matrix-org.github.io/synapse/v1.56/usage/administration/admin_api/registration_tokens.html">registration
tokens</a>.</p>
<p>Please see the <a href="https://matrix-org.github.io/synapse/v1.56/upgrade.html#open-registration-without-verification-is-now-disabled-by-default">upgrade
notes</a>
for more information.</p>
<h2 id="so-long-groups-and-thanks-for-all-the-fish">So long groups, and thanks for all the fish</h2>
<p>Long-time users of Matrix might remember when, <a href="https://matrix.org/blog/2017/10/24/synapse-0-24-is-here">way back in
2017</a>, we introduced
groups (also known as communities in some clients). Groups would let users
define a curated set of users and rooms to represent a given community that
others could refer to. We even used to have <code>+matrix:matrix.org</code> which was
the official group for the Matrix team and community.</p>
<p>If this sounds a bit familiar to you (and remind you of a certain other feature
of Matrix), that's no coincidence. Some time ago, we had already identified a
good amount of shortcomings with groups, and decided to redesign the feature
entirely and release it under the name &quot;spaces&quot;. If you're curious about this,
then you may wish to read the <a href="https://matrix.org/blog/2021/05/17/the-matrix-space-beta">spaces announcement
blogpost</a> we released
at the time.</p>
<p>Now that spaces have been out of beta for some time, and have shown to be a very
useful feature to the ecosystem, we decided it was time to retire support for
groups from Synapse, after more than 4 years of good and loyal service. This
release of Synapse deprecates the feature, with a plan to disable it by default
in Synapse 1.58 (which is expected to be released next month).</p>
<h2 id="everything-else">Everything else</h2>
<p>As of this version, Synapse will also refuse to start the if the Postgres
database it is running against has a non-<code>C</code> locale, in order to prevent
accidental database corruption. See the <a href="https://matrix-org.github.io/synapse/v1.56/upgrade.html#change-in-behaviour-for-postgresql-databases-with-unsafe-locale">upgrade
notes</a>
for more information.</p>
<p>This release also includes the ability for modules to register server
administrators through the <code>register_user</code> method, as well as a <a href="https://github.com/matrix-org/synapse/blob/v1.56.0/synapse/module_api/__init__.py#L1290-L1312">new
method</a>
to allow modules to store external 3PID associations into Synapse's database.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.56.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.56/upgrade#upgrading-to-v1560">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://github.com/dklimpel">Dirk Klimpel</a>,
<a href="https://www.beeper.com/">Beeper</a>, <a href="https://famedly.com/">Famedly</a>,
<a href="https://github.com/IronTooch">IronTooch</a> and
<a href="https://github.com/villepeh">villepeh</a>.</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;category&#x2F;releases&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">2 / 14</span>
    <div class="prev">
        
        <a href="&#x2F;category&#x2F;releases&#x2F;page&#x2F;3&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
