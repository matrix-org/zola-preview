<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Releases</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/category/releases/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Releases</h1>
            138 posts tagged with "Releases" <a href="/category">(See all Category)</a>
            
            <h2>
                <small><a href="/category/releases/atom.xml">Atom Feed</a></small>
            </h2>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;11&#x2F;01&#x2F;synapse-v0-33-8-is-here&#x2F;" title="Synapse v0.33.8 is here!">Synapse v0.33.8 is here!</a></h2>
                <span>
                    01.11.2018 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Wowzers - our 8th dot release for v0.33!</p>
<p>This time we have a bunch of bug fixes and db performance improvements as well as better support for auto-join rooms and the ability for admins to limit who can create rooms aliases.</p>
<p>v0.33.8 also contains more python 3 fixes: we are running most of matrix.org on python 3 as of right now and seeing some pretty impressive performance improvements. Look out for Hawkowl's write up coming soon.</p>
<p>For those interested in what we are working on right now, take a look at our <a href="https://github.com/orgs/matrix-org/projects/2">task board</a>.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.8">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>.</p>
<h3 id="synapse-0-33-8-changelog">Synapse 0.33.8 changelog</h3>
<h4 id="features">Features</h4>
<ul>
 	<li>Servers with auto-join rooms will now automatically create those rooms when the first user registers (<a href="https://github.com/matrix-org/synapse/issues/3975" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3975/hovercard" aria-describedby="hovercard-aria-description">#3975</a>)</li>
 	<li>Add config option to control alias creation (<a href="https://github.com/matrix-org/synapse/issues/4051" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4051/hovercard" aria-describedby="hovercard-aria-description">#4051</a>)</li>
 	<li>The register_new_matrix_user script is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/4085" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4085/hovercard" aria-describedby="hovercard-aria-description">#4085</a>)</li>
 	<li>Configure Docker image to listen on both ipv4 and ipv6. (<a href="https://github.com/matrix-org/synapse/issues/4089" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4089/hovercard" aria-describedby="hovercard-aria-description">#4089</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Fix HTTP error response codes for federated group requests. (<a href="https://github.com/matrix-org/synapse/issues/3969" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3969/hovercard" aria-describedby="hovercard-aria-description">#3969</a>)</li>
 	<li>Fix issue where Python 3 users couldn't paginate /publicRooms (<a href="https://github.com/matrix-org/synapse/issues/4046" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4046/hovercard" aria-describedby="hovercard-aria-description">#4046</a>)</li>
 	<li>Fix URL previewing to work in Python 3.7 (<a href="https://github.com/matrix-org/synapse/issues/4050" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4050/hovercard" aria-describedby="hovercard-aria-description">#4050</a>)</li>
 	<li>synctl will use the right python executable to run worker processes (<a href="https://github.com/matrix-org/synapse/issues/4057" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4057/hovercard" aria-describedby="hovercard-aria-description">#4057</a>)</li>
 	<li>Manhole now works again on Python 3, instead of failing with a "couldn't match all kex parts" when connecting. (<a href="https://github.com/matrix-org/synapse/issues/4060" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4060/hovercard" aria-describedby="hovercard-aria-description">#4060</a>, <a href="https://github.com/matrix-org/synapse/issues/4067" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4067/hovercard" aria-describedby="hovercard-aria-description">#4067</a>)</li>
 	<li>Fix some metrics being racy and causing exceptions when polled by Prometheus. (<a href="https://github.com/matrix-org/synapse/issues/4061" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4061/hovercard" aria-describedby="hovercard-aria-description">#4061</a>)</li>
 	<li>Fix bug which prevented email notifications from being sent unless an absolute path was given for <code>email_templates</code>. (<a href="https://github.com/matrix-org/synapse/issues/4068" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4068/hovercard" aria-describedby="hovercard-aria-description">#4068</a>)</li>
 	<li>Correctly account for cpu usage by background threads (<a href="https://github.com/matrix-org/synapse/issues/4074" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4074/hovercard" aria-describedby="hovercard-aria-description">#4074</a>)</li>
 	<li>Fix race condition where config defined reserved users were not being added to
the monthly active user list prior to the homeserver reactor firing up (<a href="https://github.com/matrix-org/synapse/issues/4081" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4081/hovercard" aria-describedby="hovercard-aria-description">#4081</a>)</li>
 	<li>Fix bug which prevented backslashes being used in event field filters (<a href="https://github.com/matrix-org/synapse/issues/4083" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4083/hovercard" aria-describedby="hovercard-aria-description">#4083</a>)</li>
</ul>
<h4 id="internal-changes">Internal Changes</h4>
<ul>
 	<li>Add information about the <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> playbook (<a href="https://github.com/matrix-org/synapse/issues/3698" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3698/hovercard" aria-describedby="hovercard-aria-description">#3698</a>)</li>
 	<li>Add initial implementation of new state resolution algorithm (<a href="https://github.com/matrix-org/synapse/issues/3786" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3786/hovercard" aria-describedby="hovercard-aria-description">#3786</a>)</li>
 	<li>Reduce database load when fetching state groups (<a href="https://github.com/matrix-org/synapse/issues/4011" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4011/hovercard" aria-describedby="hovercard-aria-description">#4011</a>)</li>
 	<li>Various cleanups in the federation client code (<a href="https://github.com/matrix-org/synapse/issues/4031" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4031/hovercard" aria-describedby="hovercard-aria-description">#4031</a>)</li>
 	<li>Run the CircleCI builds in docker containers (<a href="https://github.com/matrix-org/synapse/issues/4041" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4041/hovercard" aria-describedby="hovercard-aria-description">#4041</a>)</li>
 	<li>Only colourise synctl output when attached to tty (<a href="https://github.com/matrix-org/synapse/issues/4049" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4049/hovercard" aria-describedby="hovercard-aria-description">#4049</a>)</li>
 	<li>Refactor room alias creation code (<a href="https://github.com/matrix-org/synapse/issues/4063" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4063/hovercard" aria-describedby="hovercard-aria-description">#4063</a>)</li>
 	<li>Make the Python scripts in the top-level scripts folders meet pep8 and pass flake8. (<a href="https://github.com/matrix-org/synapse/issues/4068" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4068/hovercard" aria-describedby="hovercard-aria-description">#4068</a>)</li>
 	<li>The README now contains example for the Caddy web server. Contributed by steamp0rt. (<a href="https://github.com/matrix-org/synapse/issues/4072" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4072/hovercard" aria-describedby="hovercard-aria-description">#4072</a>)</li>
 	<li>Add psutil as an explicit dependency (<a href="https://github.com/matrix-org/synapse/issues/4073" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4073/hovercard" aria-describedby="hovercard-aria-description">#4073</a>)</li>
 	<li>Clean up threading and logcontexts in pushers (<a href="https://github.com/matrix-org/synapse/issues/4075" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4075/hovercard" aria-describedby="hovercard-aria-description">#4075</a>)</li>
 	<li>Correctly manage logcontexts during startup to fix some "Unexpected logging context" warnings (<a href="https://github.com/matrix-org/synapse/issues/4076" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4076/hovercard" aria-describedby="hovercard-aria-description">#4076</a>)</li>
 	<li>Give some more things logcontexts (<a href="https://github.com/matrix-org/synapse/issues/4077" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4077/hovercard" aria-describedby="hovercard-aria-description">#4077</a>)</li>
 	<li>Clean up some bits of code which were flagged by the linter (<a href="https://github.com/matrix-org/synapse/issues/4082" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4082/hovercard" aria-describedby="hovercard-aria-description">#4082</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;18&#x2F;synapse-0-33-7-released&#x2F;" title="Synapse 0.33.7 released!">Synapse 0.33.7 released!</a></h2>
                <span>
                    18.10.2018 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey ho, let's go. Synapse 0.33.7 has arrived.</p>
<p>Regular readers will know how close we are to a full python 3 release. We are not quite there yet but 0.33.7 has support for Synapse under worker mode and we've running it on matrix.org this week. We need more time to conclusively gauge performance improvements but the Synchrotron workers are running with 33% less RAM. Thanks to everyone who has been running their servers under py3, if you do spot anything unusual just let us know. Once we've been running it a bit longer on matrix.org, we'll cut a 0.34.0 release with a recommendation that one and all upgrade to python 3.</p>
<p>Aside from that this release contains support for server side end to end key backups, paving the way for client side support in Riot and Rich continues his long running federation bug squash-a-thon which should help with a whole host of federation snafus.</p>
<p>Up next on the horizon is returning in earnest to getting the server to server r0 spec out starting with shipping our brand new super shiny state resolution algorithm.</p>
<p>As a final point, for those of you that deploy from git checkout or a snapshot url and have email notifications enabled please take a look warning in the change log.</p>
<p>As a final final point #synapse:matrix.org is now an officially supported room, aimed at Synapse admins. If you've not done so already please do drop by and say Hi.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.7">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>.</p>
<p>Onwards!</p>
<h3 id="synapse-0-33-7-change-log">Synapse 0.33.7 Change Log</h3>
<p><strong>Warning</strong>: This release removes the example email notification templates from <code>res/templates</code> (they are now internal to the python package). This should only affect you if you (a) deploy your Synapse instance from a git checkout or a github snapshot URL, and (b) have email notifications enabled.</p>
<p>If you have email notifications enabled, you should ensure that <code>email.template_dir</code> is either configured to point at a directory where you have installed customised templates, or leave it unset to use the default templates.</p>
<p>The configuration parser will try to detect the situation where <code>email.template_dir</code> is incorrectly set to <code>res/templates</code> and do the right thing, but will warn about this.</p>
<h4 id="features">Features</h4>
<ul>
 	<li>Ship the example email templates as part of the package (<a href="https://github.com/matrix-org/synapse/issues/4052" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4052/hovercard" aria-describedby="hovercard-aria-description">#4052</a>)</li>
 	<li>Add support for end-to-end key backup (MSC1687) (<a href="https://github.com/matrix-org/synapse/issues/4019" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4019/hovercard" aria-describedby="hovercard-aria-description">#4019</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Fix bug which made get_missing_events return too few events (<a href="https://github.com/matrix-org/synapse/issues/4045" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4045/hovercard" aria-describedby="hovercard-aria-description">#4045</a>)</li>
 	<li>Fix bug in event persistence logic which caused 'NoneType is not iterable' (<a href="https://github.com/matrix-org/synapse/issues/3995" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3995/hovercard" aria-describedby="hovercard-aria-description">#3995</a>)</li>
 	<li>Fix exception in background metrics collection (<a href="https://github.com/matrix-org/synapse/issues/3996" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3996/hovercard" aria-describedby="hovercard-aria-description">#3996</a>)</li>
 	<li>Fix exception handling in fetching remote profiles (<a href="https://github.com/matrix-org/synapse/issues/3997" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3997/hovercard" aria-describedby="hovercard-aria-description">#3997</a>)</li>
 	<li>Fix handling of rejected threepid invites (<a href="https://github.com/matrix-org/synapse/issues/3999" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/3999/hovercard" aria-describedby="hovercard-aria-description">#3999</a>)</li>
 	<li>Workers now start on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/4027" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4027/hovercard" aria-describedby="hovercard-aria-description">#4027</a>)</li>
 	<li>Synapse now starts on Python 3.7. (<a href="https://github.com/matrix-org/synapse/issues/4033" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4033/hovercard" aria-describedby="hovercard-aria-description">#4033</a>)</li>
</ul>
<h3 id="internal-changes">Internal Changes</h3>
<ul>
 	<li>Log exceptions in looping calls (<a href="https://github.com/matrix-org/synapse/issues/4008" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4008/hovercard" aria-describedby="hovercard-aria-description">#4008</a>)</li>
 	<li>Optimisation for serving federation requests (<a href="https://github.com/matrix-org/synapse/issues/4017" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4017/hovercard" aria-describedby="hovercard-aria-description">#4017</a>)</li>
 	<li>Add metric to count number of non-empty sync responses (<a href="https://github.com/matrix-org/synapse/issues/4022" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4022/hovercard" aria-describedby="hovercard-aria-description">#4022</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;04&#x2F;synapse-0-33-6-released&#x2F;" title="Synapse 0.33.6 released!">Synapse 0.33.6 released!</a></h2>
                <span>
                    04.10.2018 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Right folks, time for Synapse 0.33.6.</p>
<p>These past few weeks we've been focusing on fixing a whole host of federation bugs to improve reliability and latency. Additionally we've squashed some py3 bugs, improved lazy loading and been working hard in the background to improve our CI infrastructure. Finally, we cleaned up the Docker file, the image is now half the size of 0.33.5.1's standing at 58 MB.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.6">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>.</p>
<h3 id="synapse-0-33-6">Synapse 0.33.6</h3>
<h4 id="features">Features</h4>
<ul>
 	<li>Adding the ability to change MAX_UPLOAD_SIZE for the docker container variables. (<a href="https://github.com/matrix-org/synapse/issues/3883">#3883</a>)</li>
 	<li>Report "python_version" in the phone home stats (<a href="https://github.com/matrix-org/synapse/issues/3894">#3894</a>)</li>
 	<li>Always LL ourselves if we're in a room (<a href="https://github.com/matrix-org/synapse/issues/3916">#3916</a>)</li>
 	<li>Include eventid in log lines when processing incoming federation transactions (<a href="https://github.com/matrix-org/synapse/issues/3959">#3959</a>)</li>
 	<li>Remove spurious check which made 'localhost' servers not work (<a href="https://github.com/matrix-org/synapse/issues/3964">#3964</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Fix problem when playing media from Chrome using direct URL (thanks <a class="user-mention" href="https://github.com/remjey" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=13684203" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@remjey</a>!) (<a href="https://github.com/matrix-org/synapse/issues/3578">#3578</a>)</li>
 	<li>support registering regular users non-interactively with register_new_matrix_user script (<a href="https://github.com/matrix-org/synapse/issues/3836">#3836</a>)</li>
 	<li>Fix broken invite email links for self hosted riots (<a href="https://github.com/matrix-org/synapse/issues/3868">#3868</a>)</li>
 	<li>Don't ratelimit autojoins (<a href="https://github.com/matrix-org/synapse/issues/3879">#3879</a>)</li>
 	<li>Fix 500 error when deleting unknown room alias (<a href="https://github.com/matrix-org/synapse/issues/3889">#3889</a>)</li>
 	<li>Fix some b'abcd' noise in logs and metrics (<a href="https://github.com/matrix-org/synapse/issues/3892">#3892</a>, <a href="https://github.com/matrix-org/synapse/issues/3895">#3895</a>)</li>
 	<li>When we join a room, always try the server we used for the alias lookup first, to avoid unresponsive and out-of-date servers. (<a href="https://github.com/matrix-org/synapse/issues/3899">#3899</a>)</li>
 	<li>Fix incorrect server-name indication for outgoing federation requests (<a href="https://github.com/matrix-org/synapse/issues/3907">#3907</a>)</li>
 	<li>Fix adding client IPs to the database failing on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3908">#3908</a>)</li>
 	<li>Fix bug where things occasionally were not being timed out correctly. (<a href="https://github.com/matrix-org/synapse/issues/3910">#3910</a>)</li>
 	<li>Fix bug where outbound federation would stop talking to some servers when using workers (<a href="https://github.com/matrix-org/synapse/issues/3914">#3914</a>)</li>
 	<li>Fix some instances of ExpiringCache not expiring cache items (<a href="https://github.com/matrix-org/synapse/issues/3932">#3932</a>, <a href="https://github.com/matrix-org/synapse/issues/3980">#3980</a>)</li>
 	<li>Fix out-of-bounds error when LLing yourself (<a href="https://github.com/matrix-org/synapse/issues/3936">#3936</a>)</li>
 	<li>Sending server notices regarding user consent now works on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3938">#3938</a>)</li>
 	<li>Fix exceptions from metrics handler (<a href="https://github.com/matrix-org/synapse/issues/3956">#3956</a>)</li>
 	<li>Fix error message for events with m.room.create missing from auth_events (<a href="https://github.com/matrix-org/synapse/issues/3960">#3960</a>)</li>
 	<li>Fix errors due to concurrent monthly_active_user upserts (<a href="https://github.com/matrix-org/synapse/issues/3961">#3961</a>)</li>
 	<li>Fix exceptions when processing incoming events over federation (<a href="https://github.com/matrix-org/synapse/issues/3968">#3968</a>)</li>
 	<li>Replaced all occurrences of e.message with str(e). Contributed by Schnuffle (<a href="https://github.com/matrix-org/synapse/issues/3970">#3970</a>)</li>
 	<li>Fix lazy loaded sync in the presence of rejected state events (<a href="https://github.com/matrix-org/synapse/issues/3986">#3986</a>)</li>
 	<li>Fix error when logging incomplete HTTP requests (<a href="https://github.com/matrix-org/synapse/issues/3990">#3990</a>)</li>
</ul>
<h4 id="internal-changes">Internal Changes</h4>
<ul>
 	<li>Unit tests can now be run under PostgreSQL in Docker using <code>test_postgresql.sh</code>. (<a href="https://github.com/matrix-org/synapse/issues/3699">#3699</a>)</li>
 	<li>Speed up calculation of typing updates for replication (<a href="https://github.com/matrix-org/synapse/issues/3794">#3794</a>)</li>
 	<li>Remove documentation regarding installation on Cygwin, the use of WSL is recommended instead. (<a href="https://github.com/matrix-org/synapse/issues/3873">#3873</a>)</li>
 	<li>Fix typo in README, synaspse -&gt; synapse (<a href="https://github.com/matrix-org/synapse/issues/3897">#3897</a>)</li>
 	<li>Increase the timeout when filling missing events in federation requests (<a href="https://github.com/matrix-org/synapse/issues/3903">#3903</a>)</li>
 	<li>Improve the logging when handling a federation transaction (<a href="https://github.com/matrix-org/synapse/issues/3904">#3904</a>, <a href="https://github.com/matrix-org/synapse/issues/3966">#3966</a>)</li>
 	<li>Improve logging of outbound federation requests (<a href="https://github.com/matrix-org/synapse/issues/3906">#3906</a>, <a href="https://github.com/matrix-org/synapse/issues/3909">#3909</a>)</li>
 	<li>Fix the docker image building on python 3 (<a href="https://github.com/matrix-org/synapse/issues/3911">#3911</a>)</li>
 	<li>Add a regression test for logging failed HTTP requests on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3912">#3912</a>)</li>
 	<li>Comments and interface cleanup for on_receive_pdu (<a href="https://github.com/matrix-org/synapse/issues/3924">#3924</a>)</li>
 	<li>Fix spurious exceptions when remote http client closes connection (<a href="https://github.com/matrix-org/synapse/issues/3925">#3925</a>)</li>
 	<li>Log exceptions thrown by background tasks (<a href="https://github.com/matrix-org/synapse/issues/3927">#3927</a>)</li>
 	<li>Add a cache to get_destination_retry_timings (<a href="https://github.com/matrix-org/synapse/issues/3933">#3933</a>, <a href="https://github.com/matrix-org/synapse/issues/3991">#3991</a>)</li>
 	<li>Automate pushes to docker hub (<a href="https://github.com/matrix-org/synapse/issues/3946">#3946</a>)</li>
 	<li>Require attrs 16.0.0 or later (<a href="https://github.com/matrix-org/synapse/issues/3947">#3947</a>)</li>
 	<li>Fix incompatibility with python3 on alpine (<a href="https://github.com/matrix-org/synapse/issues/3948">#3948</a>)</li>
 	<li>Run the test suite on the oldest supported versions of our dependencies in CI. (<a href="https://github.com/matrix-org/synapse/issues/3952">#3952</a>)</li>
 	<li>CircleCI now only runs merged jobs on PRs, and commit jobs on develop, master, and release branches. (<a href="https://github.com/matrix-org/synapse/issues/3957">#3957</a>)</li>
 	<li>Fix docstrings and add tests for state store methods (<a href="https://github.com/matrix-org/synapse/issues/3958">#3958</a>)</li>
 	<li>fix docstring for FederationClient.get_state_for_room (<a href="https://github.com/matrix-org/synapse/issues/3963">#3963</a>)</li>
 	<li>Run notify_app_services as a bg process (<a href="https://github.com/matrix-org/synapse/issues/3965">#3965</a>)</li>
 	<li>Clarifications in FederationHandler (<a href="https://github.com/matrix-org/synapse/issues/3967">#3967</a>)</li>
 	<li>Further reduce the docker image size (<a href="https://github.com/matrix-org/synapse/issues/3972">#3972</a>)</li>
 	<li>Build py3 docker images for docker hub too (<a href="https://github.com/matrix-org/synapse/issues/3976">#3976</a>)</li>
 	<li>Updated the installation instructions to point to the matrix-synapse package on PyPI. (<a href="https://github.com/matrix-org/synapse/issues/3985">#3985</a>)</li>
 	<li>Disable USE_FROZEN_DICTS for unittests by default. (<a href="https://github.com/matrix-org/synapse/issues/3987">#3987</a>)</li>
 	<li>Remove unused Jenkins and development related files from the repo. (<a href="https://github.com/matrix-org/synapse/issues/3988">#3988</a>)</li>
 	<li>Improve stacktraces in certain exceptions in the logs (<a href="https://github.com/matrix-org/synapse/issues/3989">#3989</a>)</li>
 	<li>Pin to prometheus_client&lt;0.4 to avoid renaming all of our metrics (<a href="https://github.com/matrix-org/synapse/issues/4002">#4002</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;24&#x2F;synapse-0-33-5-released&#x2F;" title="Synapse 0.33.5.1 released!">Synapse 0.33.5.1 released!</a></h2>
                <span>
                    24.09.2018 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Folks, Synapse 0.33.5.1 is here.</p>
<p>0.33.5.1 is an interesting release. On the one hand it contains the usual bug fixes and performance improvements of a point release, but it also our first versioned release where monolith installs can be run under Python 3.5 and 3.6! Python 3 support is very much in beta, so please be cautious but if you would like to try running under a py3 environment we'd love to get your feedback.</p>
<p>We've been running it ourselves for the past few weeks, and feel pretty good about it, not least the 2-3x improvement in RAM usage.</p>
<p>Currently the only way to run under python 3 is to download via github, there is no deb support as yet, though this will come as soon as we are confident to recommend python 3 as the default version.</p>
<p>We'll be blogging about our porting project in more detail in the future, so watch this space - exciting times!</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.5.1">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, for the first time, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>.</p>
<h2 id="synapse-0-33-5-1">Synapse 0.33.5.1</h2>
<h3 id="internal-changes">Internal Changes</h3>
<ul>
 	<li>Fix incompatibility with older Twisted version in tests. Thanks <a class="user-mention" href="https://github.com/OlegGirko" data-hovercard-user-id="6013515" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@OlegGirko</a>! (<a href="https://github.com/matrix-org/synapse/issues/3940">#3940</a>)</li>
</ul>
<h2 id="synapse-0-33-5">Synapse 0.33.5</h2>
<h3 id="features">Features</h3>
<ul>
 	<li>Python 3.5 and 3.6 support is now in beta. (<a href="https://github.com/matrix-org/synapse/issues/3576">#3576</a>)</li>
 	<li>Implement <code>event_format</code> filter param in <code>/sync</code> (<a href="https://github.com/matrix-org/synapse/issues/3790">#3790</a>)</li>
 	<li>Add synapse_admin_mau:registered_reserved_users metric to expose number of real reaserved users (<a href="https://github.com/matrix-org/synapse/issues/3846">#3846</a>)</li>
</ul>
<h3 id="bugfixes">Bugfixes</h3>
<ul>
 	<li>Remove connection ID for replication prometheus metrics, as it creates a large number of new series. (<a href="https://github.com/matrix-org/synapse/issues/3788">#3788</a>)</li>
 	<li>guest users should not be part of mau total (<a href="https://github.com/matrix-org/synapse/issues/3800">#3800</a>)</li>
 	<li>Bump dependency on pyopenssl 16.x, to avoid incompatibility with recent Twisted. (<a href="https://github.com/matrix-org/synapse/issues/3804">#3804</a>)</li>
 	<li>Fix existing room tags not coming down sync when joining a room (<a href="https://github.com/matrix-org/synapse/issues/3810">#3810</a>)</li>
 	<li>Fix jwt import check (<a href="https://github.com/matrix-org/synapse/issues/3824">#3824</a>)</li>
 	<li>fix VOIP crashes under Python 3 (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/issues/3821" data-error-text="Failed to load issue title" data-id="358016305" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3821">#3821</a>) (<a href="https://github.com/matrix-org/synapse/issues/3835">#3835</a>)</li>
 	<li>Fix manhole so that it works with latest openssh clients (<a href="https://github.com/matrix-org/synapse/issues/3841">#3841</a>)</li>
 	<li>Fix outbound requests occasionally wedging, which can result in federation breaking between servers. (<a href="https://github.com/matrix-org/synapse/issues/3845">#3845</a>)</li>
 	<li>Show heroes if room name/canonical alias has been deleted (<a href="https://github.com/matrix-org/synapse/issues/3851">#3851</a>)</li>
 	<li>Fix handling of redacted events from federation (<a href="https://github.com/matrix-org/synapse/issues/3859">#3859</a>)</li>
 	<li>(<a href="https://github.com/matrix-org/synapse/issues/3874">#3874</a>)</li>
 	<li>Mitigate outbound federation randomly becoming wedged (<a href="https://github.com/matrix-org/synapse/issues/3875">#3875</a>)</li>
</ul>
<h3 id="internal-changes-1">Internal Changes</h3>
<ul>
 	<li>CircleCI tests now run on the potential merge of a PR. (<a href="https://github.com/matrix-org/synapse/issues/3704">#3704</a>)</li>
 	<li>http/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3771">#3771</a>)</li>
 	<li>Improve human readable error messages for threepid registration/account update (<a href="https://github.com/matrix-org/synapse/issues/3789">#3789</a>)</li>
 	<li>Make /sync slightly faster by avoiding needless copies (<a href="https://github.com/matrix-org/synapse/issues/3795">#3795</a>)</li>
 	<li>handlers/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3803">#3803</a>)</li>
 	<li>Limit the number of PDUs/EDUs per federation transaction (<a href="https://github.com/matrix-org/synapse/issues/3805">#3805</a>)</li>
 	<li>Only start postgres instance for postgres tests on Travis CI (<a href="https://github.com/matrix-org/synapse/issues/3806">#3806</a>)</li>
 	<li>tests/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3808">#3808</a>)</li>
 	<li>crypto/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3822">#3822</a>)</li>
 	<li>rest/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3823">#3823</a>)</li>
 	<li>add some logging for the keyring queue (<a href="https://github.com/matrix-org/synapse/issues/3826">#3826</a>)</li>
 	<li>speed up lazy loading by 2-3x (<a href="https://github.com/matrix-org/synapse/issues/3827">#3827</a>)</li>
 	<li>Improved Dockerfile to remove build requirements after building reducing the image size. (<a href="https://github.com/matrix-org/synapse/issues/3834">#3834</a>)</li>
 	<li>Disable lazy loading for incremental syncs for now (<a href="https://github.com/matrix-org/synapse/issues/3840">#3840</a>)</li>
 	<li>federation/ is now ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3847">#3847</a>)</li>
 	<li>Log when we retry outbound requests (<a href="https://github.com/matrix-org/synapse/issues/3853">#3853</a>)</li>
 	<li>Removed some excess logging messages. (<a href="https://github.com/matrix-org/synapse/issues/3855">#3855</a>)</li>
 	<li>Speed up purge history for rooms that have been previously purged (<a href="https://github.com/matrix-org/synapse/issues/3856">#3856</a>)</li>
 	<li>Refactor some HTTP timeout code. (<a href="https://github.com/matrix-org/synapse/issues/3857">#3857</a>)</li>
 	<li>Fix running merged builds on CircleCI (<a href="https://github.com/matrix-org/synapse/issues/3858">#3858</a>)</li>
 	<li>Fix typo in replication stream exception. (<a href="https://github.com/matrix-org/synapse/issues/3860">#3860</a>)</li>
 	<li>Add in flight real time metrics for Measure blocks (<a href="https://github.com/matrix-org/synapse/issues/3871">#3871</a>)</li>
 	<li>Disable buffering and automatic retrying in treq requests to prevent timeouts. (<a href="https://github.com/matrix-org/synapse/issues/3872">#3872</a>)</li>
 	<li>mention jemalloc in the README (<a href="https://github.com/matrix-org/synapse/issues/3877">#3877</a>)</li>
 	<li>Remove unmaintained "nuke-room-from-db.sh" script (<a href="https://github.com/matrix-org/synapse/issues/3888">#3888</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;11&#x2F;synapse-0-33-4-released&#x2F;" title="Synapse 0.33.4 released!">Synapse 0.33.4 released!</a></h2>
                <span>
                    11.09.2018 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Roll up, roll up, get it while it's hot, Synapse 0.33.4 is here.</p>
<p>This release brings together a whole host of bug fixes, some enhancements to resource usage management and a bunch of internal changes in readiness for room member state lazy loading and our ongoing port to Python 3 (we are hoping to ship a py3 test candidate rsn!).</p>
<p>As ever, you can get the new update from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.4">https://github.com/matrix-org/synapse/releases/tag/v0.33.4</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>.</p>
<h4 id="features">Features</h4>
<ul>
 	<li>Support profile API endpoints on workers (<a href="https://github.com/matrix-org/synapse/issues/3659">#3659</a>)</li>
 	<li>Server notices for resource limit blocking (<a href="https://github.com/matrix-org/synapse/issues/3680">#3680</a>)</li>
 	<li>Allow guests to use /rooms/:roomId/event/:eventId (<a href="https://github.com/matrix-org/synapse/issues/3724">#3724</a>)</li>
 	<li>Add mau_trial_days config param, so that users only get counted as MAU after N days. (<a href="https://github.com/matrix-org/synapse/issues/3749">#3749</a>)</li>
 	<li>Require twisted 17.1 or later (fixes <a href="https://github.com/matrix-org/synapse/issues/3741">#3741</a>). (<a href="https://github.com/matrix-org/synapse/issues/3751">#3751</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Fix error collecting prometheus metrics when run on dedicated thread due to threading concurrency issues (<a href="https://github.com/matrix-org/synapse/issues/3722">#3722</a>)</li>
 	<li>Fix bug where we resent "limit exceeded" server notices repeatedly (<a href="https://github.com/matrix-org/synapse/issues/3747">#3747</a>)</li>
 	<li>Fix bug where we broke sync when using limit_usage_by_mau but hadn't configured server notices (<a href="https://github.com/matrix-org/synapse/issues/3753">#3753</a>)</li>
 	<li>Fix 'federation_domain_whitelist' such that an empty list correctly blocks all outbound federation traffic (<a href="https://github.com/matrix-org/synapse/issues/3754">#3754</a>)</li>
 	<li>Fix tagging of server notice rooms (<a href="https://github.com/matrix-org/synapse/issues/3755">#3755</a>, <a href="https://github.com/matrix-org/synapse/issues/3756">#3756</a>)</li>
 	<li>Fix 'admin_uri' config variable and error parameter to be 'admin_contact' to match the spec. (<a href="https://github.com/matrix-org/synapse/issues/3758">#3758</a>)</li>
 	<li>Don't return non-LL-member state in incremental sync state blocks (<a href="https://github.com/matrix-org/synapse/issues/3760">#3760</a>)</li>
 	<li>Fix bug in sending presence over federation (<a href="https://github.com/matrix-org/synapse/issues/3768">#3768</a>)</li>
 	<li>Fix bug where preserved threepid user comes to sign up and server is mau blocked (<a href="https://github.com/matrix-org/synapse/issues/3777">#3777</a>)</li>
</ul>
<h4 id="internal-changes">Internal Changes</h4>
<ul>
 	<li>Removed the link to the unmaintained matrix-synapse-auto-deploy project from the readme. (<a href="https://github.com/matrix-org/synapse/issues/3378">#3378</a>)</li>
 	<li>Refactor state module to support multiple room versions (<a href="https://github.com/matrix-org/synapse/issues/3673">#3673</a>)</li>
 	<li>The synapse.storage module has been ported to Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3725">#3725</a>)</li>
 	<li>Split the state_group_cache into member and non-member state events (and so speed up LL /sync) (<a href="https://github.com/matrix-org/synapse/issues/3726">#3726</a>)</li>
 	<li>Log failure to authenticate remote servers as warnings (without stack traces) (<a href="https://github.com/matrix-org/synapse/issues/3727">#3727</a>)</li>
 	<li>The CONTRIBUTING guidelines have been updated to mention our use of Markdown and that .misc files have content. (<a href="https://github.com/matrix-org/synapse/issues/3730">#3730</a>)</li>
 	<li>Reference the need for an HTTP replication port when using the federation_reader worker (<a href="https://github.com/matrix-org/synapse/issues/3734">#3734</a>)</li>
 	<li>Fix minor spelling error in federation client documentation. (<a href="https://github.com/matrix-org/synapse/issues/3735">#3735</a>)</li>
 	<li>Remove redundant state resolution function (<a href="https://github.com/matrix-org/synapse/issues/3737">#3737</a>)</li>
 	<li>The test suite now passes on PostgreSQL. (<a href="https://github.com/matrix-org/synapse/issues/3740">#3740</a>)</li>
 	<li>Fix MAU cache invalidation due to missing yield (<a href="https://github.com/matrix-org/synapse/issues/3746">#3746</a>)</li>
 	<li>Make sure that we close db connections opened during init (<a href="https://github.com/matrix-org/synapse/issues/3764">#3764</a>)</li>
 	<li>Unignore synctl in .dockerignore to fix docker builds (<a href="https://github.com/matrix-org/synapse/issues/3802">#3802</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;06&#x2F;critical-security-update-synapse-0-33-3-1&#x2F;" title="Critical Security Update: Synapse 0.33.3.1">Critical Security Update: Synapse 0.33.3.1</a></h2>
                <span>
                    06.09.2018 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi All,</p>
<p>As referenced in yesterday's <a href="/blog/2018/09/05/pre-disclosure-upcoming-critical-security-fix-for-synapse/">pre-disclosure</a>, today we are releasing Synapse 0.33.3.1 as a critical security update.</p>
<p>We have patched two security vulnerabilities we identified whilst working on the upcoming r0 spec release for the Server-Server API (see details below). We do not believe either have been exploited in the wild, but strongly recommend everybody running a federated Synapse upgrades immediately. </p>
<p>As always you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.3.1">here</a> or from any of the sources mentioned at <a href="https://github.com/matrix-org/synapse/">https://github.com/matrix-org/synapse/</a></p>
<p>Many thanks for your patience and understanding; with fixes like this we are moving ever closer to Synapse reaching a 1.0 Thanks also to the package maintainers who have coordinated with us to ensure distro packages are available for a speedy upgrade!</p>
<p>Note, for anyone running Debian Jessie, we have prepared a 0.33.2.1 deb (as 0.33.3 dropped support for Jessie).</p>
<h3 id="synapse-0-33-3-1-2018-09-06">Synapse 0.33.3.1 (2018-09-06)</h3>
<h4 id="security-fixes">SECURITY FIXES</h4>
<ul>
 	<li>Fix an issue where event signatures were not always correctly validated (<a href="https://github.com/matrix-org/synapse/issues/3796">#3796</a>)</li>
 	<li>Fix an issue where server_acls could be circumvented for incoming events (<a href="https://github.com/matrix-org/synapse/issues/3796">#3796</a>)</li>
</ul>
<h4 id="internal-changes">Internal Changes</h4>
<ul>
 	<li>Unignore synctl in .dockerignore to fix docker builds (<a href="https://github.com/matrix-org/synapse/issues/3802">#3802</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;08&#x2F;22&#x2F;synapse-0-33-3-released&#x2F;" title="Synapse 0.33.3 Released">Synapse 0.33.3 Released</a></h2>
                <span>
                    22.08.2018 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>All the threes, Synapse 0.33.3!</p>
<p>This release brings together a lot of bugfixes, and also some preparation for support for Lazy Loading and Room Versioning.</p>
<p>We also have, as a great contribution from <a href="https://github.com/vojeroen">@vojeroen</a>, SNI extension support! With v0.33.3, Synapse now supports sending SNI over federation for vhosted servers, which resolves <a href="https://github.com/matrix-org/synapse/issues/1491">this long-standing request</a>.</p>
<p>As always, you can get the new update from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.3">https://github.com/matrix-org/synapse/releases/tag/v0.33.3</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>.</p>
<h4 id="features">Features</h4>
<ul>
 	<li>Add support for the SNI extension to federation TLS connections. Thanks to <a href="https://github.com/vojeroen">@vojeroen</a>! (<a href="https://github.com/matrix-org/synapse/issues/3439">#3439</a>)</li>
 	<li>Add /_media/r0/config (<a href="https://github.com/matrix-org/synapse/issues/3184">#3184</a>)</li>
 	<li>speed up /members API and add <code>at</code> and <code>membership</code> params as per MSC1227 (<a href="https://github.com/matrix-org/synapse/issues/3568">#3568</a>)</li>
 	<li>implement <code>summary</code> block in /sync response as per MSC688 (<a href="https://github.com/matrix-org/synapse/issues/3574">#3574</a>)</li>
 	<li>Add lazy-loading support to /messages as per MSC1227 (<a href="https://github.com/matrix-org/synapse/issues/3589">#3589</a>)</li>
 	<li>Add ability to limit number of monthly active users on the server (<a href="https://github.com/matrix-org/synapse/issues/3633">#3633</a>)</li>
 	<li>Support more federation endpoints on workers (<a href="https://github.com/matrix-org/synapse/issues/3653">#3653</a>)</li>
 	<li>Basic support for room versioning (<a href="https://github.com/matrix-org/synapse/issues/3654">#3654</a>)</li>
 	<li>Ability to disable client/server Synapse via conf toggle (<a href="https://github.com/matrix-org/synapse/issues/3655">#3655</a>)</li>
 	<li>Ability to whitelist specific threepids against monthly active user limiting (<a href="https://github.com/matrix-org/synapse/issues/3662">#3662</a>)</li>
 	<li>Add some metrics for the appservice and federation event sending loops (<a href="https://github.com/matrix-org/synapse/issues/3664">#3664</a>)</li>
 	<li>Where server is disabled, block ability for locked out users to read new messages (<a href="https://github.com/matrix-org/synapse/issues/3670">#3670</a>)</li>
 	<li>set admin uri via config, to be used in error messages where the user should contact the administrator (<a href="https://github.com/matrix-org/synapse/issues/3687">#3687</a>)</li>
 	<li>Synapse's presence functionality can now be disabled with the "use_presence" configuration option. (<a href="https://github.com/matrix-org/synapse/issues/3694">#3694</a>)</li>
 	<li>For resource limit blocked users, prevent writing into rooms (<a href="https://github.com/matrix-org/synapse/issues/3708">#3708</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Fix occasional glitches in the synapse_event_persisted_position metric (<a href="https://github.com/matrix-org/synapse/issues/3658">#3658</a>)</li>
 	<li>Fix bug on deleting 3pid when using identity servers that don't support unbind API (<a href="https://github.com/matrix-org/synapse/issues/3661">#3661</a>)</li>
 	<li>Make the tests pass on Twisted &lt; 18.7.0 (<a href="https://github.com/matrix-org/synapse/issues/3676">#3676</a>)</li>
 	<li>Don't ship recaptcha_ajax.js, use it directly from Google (<a href="https://github.com/matrix-org/synapse/issues/3677">#3677</a>)</li>
 	<li>Fixes test_reap_monthly_active_users so it passes under postgres (<a href="https://github.com/matrix-org/synapse/issues/3681">#3681</a>)</li>
 	<li>Fix mau blocking calculation bug on login (<a href="https://github.com/matrix-org/synapse/issues/3689">#3689</a>)</li>
 	<li>Fix missing yield in synapse.storage.monthly_active_users.initialise_reserved_users (<a href="https://github.com/matrix-org/synapse/issues/3692">#3692</a>)</li>
 	<li>Improve HTTP request logging to include all requests (<a href="https://github.com/matrix-org/synapse/issues/3700">#3700</a>, <a href="https://github.com/matrix-org/synapse/issues/3723">#3723</a>)</li>
 	<li>Avoid timing out requests while we are streaming back the response (<a href="https://github.com/matrix-org/synapse/issues/3701">#3701</a>)</li>
 	<li>Support more federation endpoints on workers (<a href="https://github.com/matrix-org/synapse/issues/3705">#3705</a>, <a href="https://github.com/matrix-org/synapse/issues/3713">#3713</a>)</li>
 	<li>Fix "Starting db txn 'get_all_updated_receipts' from sentinel context" warning (<a href="https://github.com/matrix-org/synapse/issues/3710">#3710</a>)</li>
 	<li>Fix bug where <code>state_cache</code> cache factor ignored environment variables (<a href="https://github.com/matrix-org/synapse/issues/3719">#3719</a>)</li>
</ul>
<h4 id="deprecations-and-removals">Deprecations and Removals</h4>
<ul>
 	<li>The Shared-Secret registration method of the legacy v1/register REST endpoint has been removed. For a replacement, please see <a href="https://github.com/matrix-org/synapse/blob/master/docs/admin_api/register_api.rst">the admin/register API documentation</a>. (<a href="https://github.com/matrix-org/synapse/issues/3703">#3703</a>)</li>
</ul>
<h4 id="internal-changes">Internal Changes</h4>
<ul>
 	<li>The test suite now can run under PostgreSQL. (<a href="https://github.com/matrix-org/synapse/issues/3423">#3423</a>)</li>
 	<li>Refactor HTTP replication endpoints to reduce code duplication (<a href="https://github.com/matrix-org/synapse/issues/3632">#3632</a>)</li>
 	<li>Tests now correctly execute on Python 3. (<a href="https://github.com/matrix-org/synapse/issues/3647">#3647</a>)</li>
 	<li>Sytests can now be run inside a Docker container. (<a href="https://github.com/matrix-org/synapse/issues/3660">#3660</a>)</li>
 	<li>Port over enough to Python 3 to allow the sytests to start. (<a href="https://github.com/matrix-org/synapse/issues/3668">#3668</a>, <a href="https://github.com/matrix-org/synapse/issues/3732">#3732</a>)</li>
 	<li>Update docker base image from alpine 3.7 to 3.8. (<a href="https://github.com/matrix-org/synapse/issues/3669">#3669</a>)</li>
 	<li>Rename synapse.util.async to synapse.util.async_helpers to mitigate async becoming a keyword on Python 3.7. (<a href="https://github.com/matrix-org/synapse/issues/3678">#3678</a>)</li>
 	<li>Synapse's tests are now formatted with the black autoformatter. (<a href="https://github.com/matrix-org/synapse/issues/3679">#3679</a>)</li>
 	<li>Implemented a new testing base class to reduce test boilerplate. (<a href="https://github.com/matrix-org/synapse/issues/3684">#3684</a>)</li>
 	<li>Rename MAU prometheus metrics (<a href="https://github.com/matrix-org/synapse/issues/3690">#3690</a>)</li>
 	<li>add new error type ResourceLimit (<a href="https://github.com/matrix-org/synapse/issues/3707">#3707</a>)</li>
 	<li>Logcontexts for replication command handlers (<a href="https://github.com/matrix-org/synapse/issues/3709">#3709</a>)</li>
 	<li>Update admin register API documentation to reference a real user ID. (<a href="https://github.com/matrix-org/synapse/issues/3712">#3712</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;08&#x2F;09&#x2F;synapse-0-33-2-is-here&#x2F;" title="Synapse 0.33.2 is here!">Synapse 0.33.2 is here!</a></h2>
                <span>
                    09.08.2018 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Folks, it's release time, Synapse 0.33.2 has landed.</p>
<p>The release focuses on performance, notable highlights include reducing CPU consumption through speeding up state delta calculations (<a href="https://github.com/matrix-org/synapse/issues/3592">#3592</a>) and reducing I/O through lazily loading state on the master process (<a href="https://github.com/matrix-org/synapse/issues/3579">#3579</a>, <a href="https://github.com/matrix-org/synapse/issues/3581">#3581</a>, <a href="https://github.com/matrix-org/synapse/issues/3582">#3582</a>, <a href="https://github.com/matrix-org/synapse/issues/3584">#3584</a>)</p>
<p>Separately work continues on our python 3 port and we hope to have something concrete to trial very soon - we're really excited about this and expect step change improvements in CPU and memory use.</p>
<p>Finally we have some ground work for upcoming room membership lazy loading, there is nothing to see here as yet, but rest assured we will make a lot of noise as soon as it is ready. Stay tuned.</p>
<p> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>.</p>
<h3 id="synapse-0-33-2-2018-08-09">Synapse 0.33.2 (2018-08-09)</h3>
<p>No significant changes.</p>
<h3 id="synapse-0-33-2rc1-2018-08-07">Synapse 0.33.2rc1 (2018-08-07)</h3>
<h4 id="features">Features</h4>
<ul>
 	<li>add support for the lazy_loaded_members filter as per MSC1227 (<a href="https://github.com/matrix-org/synapse/issues/2970">#2970</a>)</li>
 	<li>add support for the include_redundant_members filter param as per MSC1227 (<a href="https://github.com/matrix-org/synapse/issues/3331">#3331</a>)</li>
 	<li>Add metrics to track resource usage by background processes (<a href="https://github.com/matrix-org/synapse/issues/3553">#3553</a>, <a href="https://github.com/matrix-org/synapse/issues/3556">#3556</a>, <a href="https://github.com/matrix-org/synapse/issues/3604">#3604</a>, <a href="https://github.com/matrix-org/synapse/issues/3610">#3610</a>)</li>
 	<li>Add <code>code</code> label to <code>synapse_http_server_response_time_seconds</code> prometheus metric (<a href="https://github.com/matrix-org/synapse/issues/3554">#3554</a>)</li>
 	<li>Add support for client_reader to handle more APIs (<a href="https://github.com/matrix-org/synapse/issues/3555">#3555</a>, <a href="https://github.com/matrix-org/synapse/issues/3597">#3597</a>)</li>
 	<li>make the /context API filter & lazy-load aware as per MSC1227 (<a href="https://github.com/matrix-org/synapse/issues/3567">#3567</a>)</li>
 	<li>Add ability to limit number of monthly active users on the server (<a href="https://github.com/matrix-org/synapse/issues/3630">#3630</a>)</li>
 	<li>When we fail to join a room over federation, pass the error code back to the client. (<a href="https://github.com/matrix-org/synapse/issues/3639">#3639</a>)</li>
 	<li>Add a new /admin/register API for non-interactively creating users. (<a href="https://github.com/matrix-org/synapse/issues/3415">#3415</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Make /directory/list API return 404 for room not found instead of 400 (<a href="https://github.com/matrix-org/synapse/issues/2952">#2952</a>)</li>
 	<li>Default inviter_display_name to mxid for email invites (<a href="https://github.com/matrix-org/synapse/issues/3391">#3391</a>)</li>
 	<li>Don't generate TURN credentials if no TURN config options are set (<a href="https://github.com/matrix-org/synapse/issues/3514">#3514</a>)</li>
 	<li>Correctly announce deleted devices over federation (<a href="https://github.com/matrix-org/synapse/issues/3520">#3520</a>)</li>
 	<li>Catch failures saving metrics captured by Measure, and instead log the faulty metrics information for further analysis. (<a href="https://github.com/matrix-org/synapse/issues/3548">#3548</a>)</li>
 	<li>Unicode passwords are now normalised before hashing, preventing the instance where two different devices or browsers might send a different UTF-8 sequence for the password. (<a href="https://github.com/matrix-org/synapse/issues/3569">#3569</a>)</li>
 	<li>Fix potential stack overflow and deadlock under heavy load (<a href="https://github.com/matrix-org/synapse/issues/3570">#3570</a>)</li>
 	<li>Respond with M_NOT_FOUND when profiles are not found locally or over federation. Fixes #3585 (<a href="https://github.com/matrix-org/synapse/issues/3585">#3585</a>)</li>
 	<li>Fix failure to persist events over federation under load (<a href="https://github.com/matrix-org/synapse/issues/3601">#3601</a>)</li>
 	<li>Fix updating of cached remote profiles (<a href="https://github.com/matrix-org/synapse/issues/3605">#3605</a>)</li>
 	<li>Fix 'tuple index out of range' error (<a href="https://github.com/matrix-org/synapse/issues/3607">#3607</a>)</li>
 	<li>Only import secrets when available (fix for py &lt; 3.6) (<a href="https://github.com/matrix-org/synapse/issues/3626">#3626</a>)</li>
</ul>
<h4 id="internal-changes">Internal Changes</h4>
<ul>
 	<li>Remove redundant checks on who_forgot_in_room (<a href="https://github.com/matrix-org/synapse/issues/3350">#3350</a>)</li>
 	<li>Remove unnecessary event re-signing hacks (<a href="https://github.com/matrix-org/synapse/issues/3367">#3367</a>)</li>
 	<li>Rewrite cache list decorator (<a href="https://github.com/matrix-org/synapse/issues/3384">#3384</a>)</li>
 	<li>Move v1-only REST APIs into their own module. (<a href="https://github.com/matrix-org/synapse/issues/3460">#3460</a>)</li>
 	<li>Replace more instances of Python 2-only iteritems and itervalues uses. (<a href="https://github.com/matrix-org/synapse/issues/3562">#3562</a>)</li>
 	<li>Refactor EventContext to accept state during init (<a href="https://github.com/matrix-org/synapse/issues/3577">#3577</a>)</li>
 	<li>Improve Dockerfile and docker-compose instructions (<a href="https://github.com/matrix-org/synapse/issues/3543">#3543</a>)</li>
 	<li>Release notes are now in the Markdown format. (<a href="https://github.com/matrix-org/synapse/issues/3552">#3552</a>)</li>
 	<li>add config for pep8 (<a href="https://github.com/matrix-org/synapse/issues/3559">#3559</a>)</li>
 	<li>Merge Linearizer and Limiter (<a href="https://github.com/matrix-org/synapse/issues/3571">#3571</a>, <a href="https://github.com/matrix-org/synapse/issues/3572">#3572</a>)</li>
 	<li>Lazily load state on master process when using workers to reduce DB consumption (<a href="https://github.com/matrix-org/synapse/issues/3579">#3579</a>, <a href="https://github.com/matrix-org/synapse/issues/3581">#3581</a>, <a href="https://github.com/matrix-org/synapse/issues/3582">#3582</a>, <a href="https://github.com/matrix-org/synapse/issues/3584">#3584</a>)</li>
 	<li>Fixes and optimisations for resolve_state_groups (<a href="https://github.com/matrix-org/synapse/issues/3586">#3586</a>)</li>
 	<li>Improve logging for exceptions when handling PDUs (<a href="https://github.com/matrix-org/synapse/issues/3587">#3587</a>)</li>
 	<li>Add some measure blocks to persist_events (<a href="https://github.com/matrix-org/synapse/issues/3590">#3590</a>)</li>
 	<li>Fix some random logcontext leaks. (<a href="https://github.com/matrix-org/synapse/issues/3591">#3591</a>, <a href="https://github.com/matrix-org/synapse/issues/3606">#3606</a>)</li>
 	<li>Speed up calculating state deltas in persist_event loop (<a href="https://github.com/matrix-org/synapse/issues/3592">#3592</a>)</li>
 	<li>Attempt to reduce amount of state pulled out of DB during persist_events (<a href="https://github.com/matrix-org/synapse/issues/3595">#3595</a>)</li>
 	<li>Fix a documentation typo in on_make_leave_request (<a href="https://github.com/matrix-org/synapse/issues/3609">#3609</a>)</li>
 	<li>Make EventStore inherit from EventFederationStore (<a href="https://github.com/matrix-org/synapse/issues/3612">#3612</a>)</li>
 	<li>Remove some redundant joins on event_edges.room_id (<a href="https://github.com/matrix-org/synapse/issues/3613">#3613</a>)</li>
 	<li>Stop populating events.content (<a href="https://github.com/matrix-org/synapse/issues/3614">#3614</a>)</li>
 	<li>Update the /send_leave path registration to use event_id rather than a transaction ID. (<a href="https://github.com/matrix-org/synapse/issues/3616">#3616</a>)</li>
 	<li>Refactor FederationHandler to move DB writes into separate functions (<a href="https://github.com/matrix-org/synapse/issues/3621">#3621</a>)</li>
 	<li>Remove unused field "pdu_failures" from transactions. (<a href="https://github.com/matrix-org/synapse/issues/3628">#3628</a>)</li>
 	<li>rename replication_layer to federation_client (<a href="https://github.com/matrix-org/synapse/issues/3634">#3634</a>)</li>
 	<li>Factor out exception handling in federation_client (<a href="https://github.com/matrix-org/synapse/issues/3638">#3638</a>)</li>
 	<li>Refactor location of docker build script. (<a href="https://github.com/matrix-org/synapse/issues/3644">#3644</a>)</li>
 	<li>Update CONTRIBUTING to mention newsfragments. (<a href="https://github.com/matrix-org/synapse/issues/3645">#3645</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;08&#x2F;02&#x2F;security-update-synapse-0-33-1&#x2F;" title="Security update: Synapse 0.33.1">Security update: Synapse 0.33.1</a></h2>
                <span>
                    02.08.2018 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi All,</p>
<p>We have patched two securities vulnerabilities (details follow), we do not believe either have been exploited in the wild, but recommend upgrading asap.</p>
<p>As always you can get the new update from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.1">https://github.com/matrix-org/synapse/releases/tag/v0.33.1</a> or from any of the sources mentioned at <a href="https://github.com/matrix-org/synapse/">https://github.com/matrix-org/synapse/</a></p>
<p>Thanks</p>
<h3 id="changes-in-synapse-v0-33-1-2018-08-2">Changes in Synapse v0.33.1 (2018-08-2)</h3>
<ul>
 	<li>Fix a potential issue where servers could request events for rooms they have not joined. (<a href="https://github.com/matrix-org/synapse/issues/3641">#3641</a>)</li>
 	<li>Fix a potential issue where users could see events in private rooms before they joined. (<a href="https://github.com/matrix-org/synapse/issues/3642">#3642</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;07&#x2F;06&#x2F;security-update-synapse-0-32-0&#x2F;" title="Security update: Synapse 0.32.0">Security update: Synapse 0.32.0</a></h2>
                <span>
                    06.07.2018 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Folks, Synapse 0.32.0 is an important security update: please upgrade as soon as you can.</p>
<p>The release focuses on security; fixing several federation bugs and adding new features for countering abuse. Notably it includes the ability to blacklist &amp; whitelist servers allowed to send events to a room on a per-room basis via the new 
m.room.server_acl
state event: see <a href="https://docs.google.com/document/d/1aiuROf1__7ZFkJvDdAZQfBNxyzjYd-ijiRAcHJYqJCM/edit">MSC1383</a> for details.  This also closes out <a href="https://github.com/matrix-org/matrix-doc/issues/709">https://github.com/matrix-org/matrix-doc/issues/709</a> - one of our oldest feature requests from users who wish to be able to limit the servers allowed to participate in a given room.</p>
<p>It's important to understand that server ACLs only work if all the servers participating in the room honour them.  In future this will be handled better (as part of ongoing work in making it easier to incrementally version and upgrade the federation protocol).  This means that for the ACLs to work, any servers which don't yet implement ACLs (e.g. older Synapses) have to be ACL'd from the room for the access control to work.  
<b>Therefore please upgrade as soon as possible to avoid this problem.</b></p>
<p>This ongoing flurry of security work is in general all part of moving towards the long-awaited stable release of the Server-Server API. In parallel we've been working on the other main outstanding point: State Resets (i.e. scenarios where you get unexpected results when resolving conflicts between different servers' copies of a room).  There will be a few more major changes and upgrades on the horizon as we fix these, but then we'll finally be able to cut an r0 release of the Server-Server API and Matrix will be one massive step closer to being out of beta!</p>
<p>As always, you can get the new update from <a href="https://github.com/matrix-org/synapse/releases/tag/v0.32.1">https://github.com/matrix-org/synapse/releases/tag/v0.32.1</a>
 or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>.</p>
<h2 id="changes-in-synapse-v0-32-0-2018-07-06">Changes in synapse v0.32.0 (2018-07-06)</h2>
<p>No changes since 0.32.0rc1</p>
<h2 id="synapse-0-32-0rc1-2018-07-05">Synapse 0.32.0rc1 (2018-07-05)</h2>
<h4 id="features">Features</h4>
<ul>
 	<li>Add blacklist & whitelist of servers allowed to send events to a
room via <code>m.room.server_acl</code> event. (<a href="https://github.com/matrix-org/synapse/commit/feef8461d19c51f3766471e17e2a2f8a2b36c785">merge</a>)</li>
 	<li>Cache factor override system for specific caches (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3334" data-error-text="Failed to load issue title" data-id="329021103" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3334">#3334</a>)</li>
 	<li>Add metrics to track appservice transactions (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3344" data-error-text="Failed to load issue title" data-id="329432100" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3344">#3344</a>)</li>
 	<li>Try to log more helpful info when a sig verification fails
(<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3372" data-error-text="Failed to load issue title" data-id="330617906" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3372">#3372</a>)</li>
 	<li>Synapse now uses the best performing JSON encoder/decoder according
to your runtime (simplejson on CPython, stdlib json on PyPy).
(<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3462" data-error-text="Failed to load issue title" data-id="336619861" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3462">#3462</a>)</li>
 	<li>Add optional ip_range_whitelist param to AS registration files to
lock AS IP access (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3465" data-error-text="Failed to load issue title" data-id="336751400" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3465">#3465</a>)</li>
 	<li>Reject invalid server names in federation requests (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3480" data-error-text="Failed to load issue title" data-id="337874054" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3480">#3480</a>)</li>
 	<li>Reject invalid server names in homeserver.yaml (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3483" data-error-text="Failed to load issue title" data-id="338348899" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3483">#3483</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Strip access_token from outgoing requests (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3327" data-error-text="Failed to load issue title" data-id="328782473" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3327">#3327</a>)</li>
 	<li>Redact AS tokens in logs (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3349" data-error-text="Failed to load issue title" data-id="329791545" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3349">#3349</a>)</li>
 	<li>Fix federation backfill from SQLite servers (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3355" data-error-text="Failed to load issue title" data-id="329865615" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3355">#3355</a>)</li>
 	<li>Fix event-purge-by-ts admin API (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3363" data-error-text="Failed to load issue title" data-id="330065602" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3363">#3363</a>)</li>
 	<li>Fix event filtering in get_missing_events handler (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3371" data-error-text="Failed to load issue title" data-id="330608172" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3371">#3371</a>)</li>
 	<li>Synapse is now stricter regarding accepting events which it cannot
retrieve the prev_events for. (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3456" data-error-text="Failed to load issue title" data-id="336184658" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3456">#3456</a>)</li>
 	<li>Fix bug where synapse would explode when receiving unicode in HTTP
User-Agent header (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3470" data-error-text="Failed to load issue title" data-id="337261723" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3470">#3470</a>)</li>
 	<li>Invalidate cache on correct thread to avoid race (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3473" data-error-text="Failed to load issue title" data-id="337463703" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3473">#3473</a>)</li>
</ul>
<h4 id="improved-documentation">Improved Documentation</h4>
<ul>
 	<li><code>doc/postgres.rst</code>: fix display of the last command block. Thanks to
<a class="user-mention" href="https://github.com/ArchangeGabriel" data-hovercard-user-id="490531" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" aria-describedby="hovercard-aria-description">@ArchangeGabriel</a>! (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3340" data-error-text="Failed to load issue title" data-id="329241972" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3340">#3340</a>)</li>
</ul>
<h4 id="deprecations-and-removals">Deprecations and Removals</h4>
<ul>
 	<li>Remove was_forgotten_at (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3324" data-error-text="Failed to load issue title" data-id="328600145" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3324">#3324</a>)</li>
</ul>
<h4 id="misc">Misc</h4>
<ul>
 	<li><a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3332" data-error-text="Failed to load issue title" data-id="328922729" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3332">#3332</a> <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3341" data-error-text="Failed to load issue title" data-id="329315777" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3341">#3341</a> <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3347" data-error-text="Failed to load issue title" data-id="329626817" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3347">#3347</a> <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3348" data-error-text="Failed to load issue title" data-id="329660142" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3348">#3348</a> <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3356" data-error-text="Failed to load issue title" data-id="329938222" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3356">#3356</a> <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3385" data-error-text="Failed to load issue title" data-id="331533857" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3385">#3385</a> <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3446" data-error-text="Failed to load issue title" data-id="335720791" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3446">#3446</a> <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/issues/3447" data-error-text="Failed to load issue title" data-id="335727844" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3447">#3447</a> <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3467" data-error-text="Failed to load issue title" data-id="336993276" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3467">#3467</a> <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/3474" data-error-text="Failed to load issue title" data-id="337465451" data-permission-text="Issue title is private" data-url="https://github.com/matrix-org/synapse/issues/3474">#3474</a></li>
</ul>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;category&#x2F;releases&#x2F;page&#x2F;12&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">13 / 14</span>
    <div class="prev">
        
        <a href="&#x2F;category&#x2F;releases&#x2F;page&#x2F;14&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
