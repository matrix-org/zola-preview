<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
	<title> - Releases</title>
	<link href="/category/releases/atom.xml" rel="self" type="application/atom+xml"/>
  <link href="/"/>
	<generator uri="https://www.getzola.org/">Zola</generator>
	<updated>2022-09-29T13:30:32+00:00</updated>
	<id>/category/releases/atom.xml</id>
	<entry xml:lang="en">
		<title>Matrix v1.4 release</title>
		<published>2022-09-29T13:30:32+00:00</published>
		<updated>2022-09-29T13:30:32+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/29/matrix-v-1-4-release/" type="text/html"/>
		<id>/blog/2022/09/29/matrix-v-1-4-release/</id>
		<content type="html">&lt;p&gt;Hey all,&lt;&#x2F;p&gt;
&lt;p&gt;It‚Äôs finally here: &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.4&#x2F;client-server-api&#x2F;#threading&quot;&gt;threads&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.4&#x2F;client-server-api&#x2F;#event-replacements&quot;&gt;edits&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.4&#x2F;client-server-api&#x2F;#private-read-receipts&quot;&gt;private read receipts&lt;&#x2F;a&gt;. v1.4 has been a little later than usual in the quarter because we wanted to make sure we nailed down all the core MSCs for threads before publishing the spec itself, but we‚Äôve done that now and we‚Äôre excited about it.&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;
&lt;p&gt;Matrix 1.3 was &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;06&#x2F;16&#x2F;matrix-v-1-3-release&quot;&gt;just over 3 months ago&lt;&#x2F;a&gt;, though with the relatively large features there and the colossal implementation effort of v1.4 we‚Äôre not expecting everyone to have implementations on day 1. Instead, as with all spec releases, we encourage implementations to gradually update over the next few months. We‚Äôre additionally planning to make v1.5 (Q4 2022) more of a maintenance update to help make the backlog a bit easier on everyone, though we might prioritize a couple cool features in there too :)&lt;&#x2F;p&gt;
&lt;p&gt;Matrix 1.4 sees 14 MSCs get merged, but we can‚Äôt possibly go into detail on them all here. We‚Äôve instead focused on the 3 major features we‚Äôre excited about - check out the changelog at the end for the full picture.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;threads&quot;&gt;üßµ Threads&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.4&#x2F;client-server-api&#x2F;#threading&quot;&gt;Threads&lt;&#x2F;a&gt;, a critical feature in terms of parity with other chat systems, have landed thanks to a whopping 6 MSCs: &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3440&quot;&gt;MSC3440&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3816&quot;&gt;MSC3816&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3856&quot;&gt;MSC3856&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3715&quot;&gt;MSC3715&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3771&quot;&gt;MSC3771&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3773&quot;&gt;MSC3773&lt;&#x2F;a&gt;. It‚Äôs been a lot of iteration on the reference implementations to get threads this far, and we‚Äôre excited to see how the client implementations evolve to provide more structured and less noisy communication for everyone - keep us updated with &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;category&#x2F;this-week-in-matrix&quot;&gt;TWIM&lt;&#x2F;a&gt; posts, please!&lt;&#x2F;p&gt;
&lt;p&gt;Threads have involved changes to event relationships (which were &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;06&#x2F;16&#x2F;matrix-v-1-3-release#aggregations-and-the-relationships-made-along-the-way&quot;&gt;fixed in v1.3&lt;&#x2F;a&gt;), read receipts, and notification counts, resulting in several different models and ways of solving the problem. We think we‚Äôve reached a point that works for conversational threads, though there‚Äôs work on the horizon for threads-only rooms, Twitter-style free-form threads, etc to cover more needs of users.&lt;&#x2F;p&gt;
&lt;p&gt;Currently, the demonstration implementation of threads in Synapse and Element is working its way out of the proof-of-concept and beta stages (which were sufficient to validate the MSCs) and are on their way to exiting beta. Keep an eye on the respective blogs for news about production-ready threads!&lt;&#x2F;p&gt;
&lt;h2 id=&quot;memo-edits&quot;&gt;üìù Edits&lt;&#x2F;h2&gt;
&lt;p&gt;Similar to reactions, err, &lt;em&gt;&lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;06&#x2F;16&#x2F;matrix-v-1-3-release#aggregations-and-the-relationships-made-along-the-way&quot;&gt;aggregations&lt;&#x2F;a&gt;&lt;&#x2F;em&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2676&quot;&gt;MSC2676&lt;&#x2F;a&gt; and its predecessors have been around for a long while. Edits have existed in the Element clients seemingly forever, and other clients have had troubles trying to implement the same feature: with it now in the spec, it should be a lot easier to bring edits into clients.&lt;&#x2F;p&gt;
&lt;p&gt;For edits, we‚Äôve taken the route of making the MSC match reality, for better or worse. MSCs which improve or add functionality to the system are very much welcome - &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;proposals&#x2F;&quot;&gt;writing an MSC&lt;&#x2F;a&gt; is relatively easy and helps the whole community.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;busts-in-silhouette-private-read-receipts&quot;&gt;üë• Private read receipts&lt;&#x2F;h2&gt;
&lt;p&gt;Not everyone wants to broadcast that they‚Äôve read a message, but also with read receipts tied into notifications those same people also probably don‚Äôt want stuck notifications. To address the problem, we‚Äôve added a new &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.4&#x2F;client-server-api&#x2F;#private-read-receipts&quot;&gt;m.read.private receipt type&lt;&#x2F;a&gt; which behaves exactly like m.read, but is only visible to you.&lt;&#x2F;p&gt;
&lt;p&gt;We still have a rework of the notifications system in our long-term plan, but this should hopefully cover the privacy concerns for the time being :)&lt;&#x2F;p&gt;
&lt;h2 id=&quot;the-full-changelog&quot;&gt;The full changelog&lt;&#x2F;h2&gt;
&lt;p&gt;MSCs are how the spec changes in the way it does - adding, fixing, and maintaining features for the whole ecosystem to use. The blog post can‚Äôt cover them all, but that doesn‚Äôt make them any less important! Check out the full changelog below, and the &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;proposals&#x2F;&quot;&gt;Spec Change Proposals&lt;&#x2F;a&gt; page for more information on how these MSCs got merged (hint: they submitted a proposal, which anyone can do - take a look at the &lt;a href=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=SFkZz60RRfc&quot;&gt;Matrix Live episode&lt;&#x2F;a&gt; where Matthew covers the proposal process).&lt;&#x2F;p&gt;
&lt;h3 id=&quot;client-server-api&quot;&gt;Client-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Removed Endpoints&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Remove unused policy room sharing mechanism, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3844&quot;&gt;MSC3844&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1196&quot;&gt;#1196&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add a &lt;code&gt;.m.rule.room.server_acl&lt;&#x2F;code&gt; push rule to match &lt;code&gt;m.room.server_acl&lt;&#x2F;code&gt; events, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3786&quot;&gt;MSC3786&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1190&quot;&gt;#1190&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1201&quot;&gt;#1201&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add &lt;code&gt;Cross-Origin-Resource-Policy&lt;&#x2F;code&gt; (CORP) headers to media repository, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3828&quot;&gt;MSC3828&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1197&quot;&gt;#1197&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Copy a room&#x27;s &lt;code&gt;type&lt;&#x2F;code&gt; when upgrading it, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3818&quot;&gt;MSC3818&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1198&quot;&gt;#1198&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add &lt;code&gt;room_types&lt;&#x2F;code&gt; filter and &lt;code&gt;room_type&lt;&#x2F;code&gt; response to &lt;code&gt;&#x2F;publicRooms&lt;&#x2F;code&gt;, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3827&quot;&gt;MSC3827&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1199&quot;&gt;#1199&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add &lt;code&gt;m.replace&lt;&#x2F;code&gt; relations (event edits), as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2676&quot;&gt;MSC2676&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1211&quot;&gt;#1211&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add &lt;code&gt;m.read.private&lt;&#x2F;code&gt; receipts, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2285&quot;&gt;MSC2285&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1216&quot;&gt;#1216&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Make &lt;code&gt;m.fully_read&lt;&#x2F;code&gt; optional on &lt;code&gt;&#x2F;read_markers&lt;&#x2F;code&gt;, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2285&quot;&gt;MSC2285&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1216&quot;&gt;#1216&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Allow &lt;code&gt;m.fully_read&lt;&#x2F;code&gt; markers to be set from &lt;code&gt;&#x2F;receipts&lt;&#x2F;code&gt;, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2285&quot;&gt;MSC2285&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1216&quot;&gt;#1216&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add threading via &lt;code&gt;m.thread&lt;&#x2F;code&gt; relations, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3440&quot;&gt;MSC3440&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3816&quot;&gt;MSC3816&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3856&quot;&gt;MSC3856&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3715&quot;&gt;MSC3715&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1254&quot;&gt;#1254&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add per-thread notifications and read receipts, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3771&quot;&gt;MSC3771&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3773&quot;&gt;MSC3773&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1255&quot;&gt;#1255&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Mention that the &lt;code&gt;&#x2F;rooms&#x2F;{roomId}&#x2F;invite&lt;&#x2F;code&gt; endpoint will return a 200 response if the user is already invited to the room. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1084&quot;&gt;#1084&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1135&quot;&gt;#1135&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1161&quot;&gt;#1161&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1164&quot;&gt;#1164&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1170&quot;&gt;#1170&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1180&quot;&gt;#1180&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1215&quot;&gt;#1215&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1238&quot;&gt;#1238&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1243&quot;&gt;#1243&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Describe return codes for account data endpoints, and clarify that per-room data does not inherit from the global data. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1155&quot;&gt;#1155&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that policy rule globs work like ACL globs. Contributed by Nico. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1165&quot;&gt;#1165&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify the format of some structures in the End-to-end encryption module. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1166&quot;&gt;#1166&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add HTML anchors for object definitions in the formatted specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1174&quot;&gt;#1174&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Tweak the styling of &lt;code&gt;&amp;lt;code&amp;gt;&lt;&#x2F;code&gt; snippets in tables rendered from OpenAPI definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1179&quot;&gt;#1179&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update &amp;quot;API Standards&amp;quot; section to clarify how JSON is used. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1185&quot;&gt;#1185&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that the &amp;quot;device_id&amp;quot;, &amp;quot;user_id&amp;quot; and &amp;quot;access_token&amp;quot; fields are required in the response body of &lt;code&gt;POST &#x2F;_matrix&#x2F;client&#x2F;v3&#x2F;login&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1210&quot;&gt;#1210&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Reinforce the relationship of refreshed access tokens to transaction IDs. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1236&quot;&gt;#1236&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify enum values by separating possible values with commas. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1240&quot;&gt;#1240&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;server-server-api&quot;&gt;Server-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add per-thread notifications and read receipts, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3771&quot;&gt;MSC3771&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3773&quot;&gt;MSC3773&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1255&quot;&gt;#1255&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add HTML anchors for object definitions in the formatted specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1174&quot;&gt;#1174&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Tweak the styling of &lt;code&gt;&amp;lt;code&amp;gt;&lt;&#x2F;code&gt; snippets in tables rendered from OpenAPI definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1179&quot;&gt;#1179&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update &amp;quot;API Standards&amp;quot; section to clarify how JSON is used. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1185&quot;&gt;#1185&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;application-service-api&quot;&gt;Application Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Breaking Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Replace homeserver authorization approach with an &lt;code&gt;Authorization&lt;&#x2F;code&gt; header instead of &lt;code&gt;access_token&lt;&#x2F;code&gt; when talking to the application service, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2832&quot;&gt;MSC2832&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1200&quot;&gt;#1200&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add HTML anchors for object definitions in the formatted specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1174&quot;&gt;#1174&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;identity-service-api&quot;&gt;Identity Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add HTML anchors for object definitions in the formatted specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1174&quot;&gt;#1174&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update &amp;quot;API Standards&amp;quot; section to clarify how JSON is used. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1185&quot;&gt;#1185&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;push-gateway-api&quot;&gt;Push Gateway API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add HTML anchors for object definitions in the formatted specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1174&quot;&gt;#1174&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;room-versions&quot;&gt;Room Versions&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;For room versions 1 through 10, clarify that events with rejected &lt;code&gt;auth_events&lt;&#x2F;code&gt; must be rejected. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1137&quot;&gt;#1137&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;For room versions 2‚Äì10: correct a mistaken clarification to the state resolution algorithm. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1158&quot;&gt;#1158&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;For room versions 7 through 10: Clarify that &lt;code&gt;invite-&amp;gt;knock&lt;&#x2F;code&gt; is actually a legal transition. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1175&quot;&gt;#1175&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;appendices&quot;&gt;Appendices&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;internal-changes-tooling&quot;&gt;Internal Changes&#x2F;Tooling&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add internal changes changelog section. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1194&quot;&gt;#1194&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Render HTML anchors for object definition tables. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1191&quot;&gt;#1191&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Give rendered-data sections a background and some padding. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1195&quot;&gt;#1195&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix rendering of shortcodes within the client-server API. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1205&quot;&gt;#1205&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix the spacing of mapping types generated from the OpenAPI spec. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1230&quot;&gt;#1230&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Announcing Third Room Tech Preview 1</title>
		<published>2022-09-27T14:34:55+00:00</published>
		<updated>2022-09-27T14:34:55+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/27/announcing-third-room-tech-preview-1/" type="text/html"/>
		<id>/blog/2022/09/27/announcing-third-room-tech-preview-1/</id>
		<content type="html">&lt;p&gt;We&#x27;re excited to announce the first tech preview of &lt;a href=&quot;https:&#x2F;&#x2F;thirdroom.io&#x2F;&quot;&gt;Third Room&lt;&#x2F;a&gt;, an open, standards-based, decentralised vision of the metaverse for the open Web, built entirely on Matrix‚Ä¶ without cryptocurrencies, NFTs or walled gardens.&lt;&#x2F;p&gt;
&lt;p&gt;To see what it&#x27;s all about, head over to &lt;a href=&quot;https:&#x2F;&#x2F;thirdroom.io&#x2F;preview&quot;&gt;https:&#x2F;&#x2F;thirdroom.io&#x2F;preview&lt;&#x2F;a&gt; - or come chat in &lt;a href=&quot;https:&#x2F;&#x2F;matrix.to&#x2F;#&#x2F;#thirdroom-dev:matrix.org&quot;&gt;#thirdroom-dev:matrix.org&lt;&#x2F;a&gt; to learn more!&lt;&#x2F;p&gt;
&lt;iframe src=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;embed&#x2F;skC5TYRAgKE&quot; loading=&quot;lazy&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;&#x2F;iframe&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 1.68 released</title>
		<published>2022-09-27T14:34:55+00:00</published>
		<updated>2022-09-27T14:34:55+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/27/synapse-1-68-released/" type="text/html"/>
		<id>/blog/2022/09/27/synapse-1-68-released/</id>
		<content type="html">&lt;p&gt;Hey everyone, it&#x27;s time for a new Synapse release! &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.68.0&quot;&gt;Synapse
1.68&lt;&#x2F;a&gt; just dropped,
let&#x27;s have a look at what&#x27;s inside.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;dependency-changes&quot;&gt;Dependency changes&lt;&#x2F;h2&gt;
&lt;p&gt;As announced in the &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;09&#x2F;14&#x2F;synapse-1-67-released&quot;&gt;Synapse 1.67 release
announcement&lt;&#x2F;a&gt;, Synapse
1.68 raises the minimum supported version of SQLite to version v3.27.0. This
means that, if your installation of Synapse is using SQLite to manage its
database, and the SQLite version used is lower than 3.27, you will need to
upgrade to a more recent version before updating to Synapse 1.68. This change does not impact deployments using the &lt;code&gt;matrixdotorg&#x2F;synapse&lt;&#x2F;code&gt; Docker image. &lt;&#x2F;p&gt;
&lt;p&gt;Synapse 1.68 also introduces the requirement of a Rust compiler for source
checkouts. The minimum required version of Rust is 1.58.1. Installations that
use &lt;code&gt;pip install matrix-synapse&lt;&#x2F;code&gt;, Debian packages from &lt;code&gt;packages.matrix.org&lt;&#x2F;code&gt; or
the &lt;code&gt;matrixdotorg&#x2F;synapse&lt;&#x2F;code&gt; Docker image to manage and run Synapse, are not
impacted by this change.&lt;&#x2F;p&gt;
&lt;p&gt;See the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;upgrade#upgrading-to-v1680&quot;&gt;upgrade
notes&lt;&#x2F;a&gt; for more information.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;admin-api-improvements&quot;&gt;Admin API improvements&lt;&#x2F;h2&gt;
&lt;p&gt;Synapse 1.68 introduces a new admin API which allows server administrators to
query events in a given room that have been sent within a specific time window.
This API mirrors &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.3&#x2F;client-server-api&#x2F;#get_matrixclientv3roomsroomidmessages&quot;&gt;the specification&#x27;s &lt;code&gt;&#x2F;messages&lt;&#x2F;code&gt;
endpoint&lt;&#x2F;a&gt;,
and allows, among other things, paginating through a room&#x27;s history. See &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;admin_api&#x2F;rooms.html#room-messages-api&quot;&gt;the
documentation&lt;&#x2F;a&gt; for more information.&lt;&#x2F;p&gt;
&lt;p&gt;This version of Synapse also introduces a new admin API to help administrator of
homeservers using an external authentication provider. This endpoint allows
looking up a specific identifier on the authentication provider and resolving it
into the identifier of the local user it&#x27;s associated with, if any. See &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;admin_api&#x2F;user_admin_api.html#find-a-user-based-on-their-id-in-an-auth-provider&quot;&gt;the
documentation&lt;&#x2F;a&gt; for more information.&lt;&#x2F;p&gt;
&lt;p&gt;The &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;admin_api&#x2F;user_admin_api.html#user-admin-api&quot;&gt;user admin
API&lt;&#x2F;a&gt;
has also been updated to allow administrator of homeservers &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;latest&#x2F;consent_tracking.html&quot;&gt;requiring agreement
to the server&#x27;s terms and
conditions&lt;&#x2F;a&gt;
to view and edit the timestamp at which each user has provided their agreement.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;Synapse 1.68 greatly improves the validation of user input on most of the
account management API endpoints.&lt;&#x2F;p&gt;
&lt;p&gt;This version of Synapse also adds a new &lt;code&gt;request_id_header&lt;&#x2F;code&gt; option to the
configuration of HTTP listeners, which allows tracking the identifier Synapse
generates for each request in that request&#x27;s response. This can be helpful for
correlating Synapse logs with reverse proxy logs. See &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;usage&#x2F;configuration&#x2F;config_documentation.html#listeners&quot;&gt;the
documentation&lt;&#x2F;a&gt; for more information.&lt;&#x2F;p&gt;
&lt;p&gt;See the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.68.0&quot;&gt;full
changelog&lt;&#x2F;a&gt; for a
complete list of changes in this release. Also please have a look at the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;upgrade#upgrading-to-v1680&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for this version.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;dakariakin&quot;&gt;Denis Kariakin&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;dklimpel&quot;&gt;Dirk
Klimpel&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;www.beeper.com&#x2F;&quot;&gt;Beeper&lt;&#x2F;a&gt;, as
well as anyone helping us make Synapse better by sharing their feedback and
reporting issues.&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 1.67 released</title>
		<published>2022-09-14T11:03:21+00:00</published>
		<updated>2022-09-14T11:03:21+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/14/synapse-1-67-released/" type="text/html"/>
		<id>/blog/2022/09/14/synapse-1-67-released/</id>
		<content type="html">&lt;p&gt;It&#x27;s that time again - Synapse release time! &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.67.0&quot;&gt;Synapse
1.67&lt;&#x2F;a&gt; is fresh out
of the oven, let&#x27;s have a look at what&#x27;s inside.&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;removal-of-tcp-replication&quot;&gt;Removal of TCP replication&lt;&#x2F;h2&gt;
&lt;p&gt;As announced in the &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;09&#x2F;02&#x2F;synapse-1-66-released&quot;&gt;Synapse 1.66 release
announcement&lt;&#x2F;a&gt;, Synapse 1.67 removes support for the legacy TCP replication protocol.&lt;&#x2F;p&gt;
&lt;p&gt;As a reminder, Synapse can be configured to use workers to spread its load over
multiple processes, or even multiple machines. These workers communicate between
each other (and with the main Synapse process) using something we call
&amp;quot;replication&amp;quot;.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.18.0&quot;&gt;Synapse 1.18&lt;&#x2F;a&gt;
deprecated its TCP-based replication protocol, and replaced it with a brand new
one using &lt;a href=&quot;https:&#x2F;&#x2F;redis.io&#x2F;&quot;&gt;Redis&lt;&#x2F;a&gt;. As of Synapse 1.67, this Redis-based
protocol is now the only protocol that can be used.&lt;&#x2F;p&gt;
&lt;p&gt;See the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.67&#x2F;upgrade.html#direct-tcp-replication-is-no-longer-supported-migrate-to-redis&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for more information.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;changes-for-installations-using-a-source-checkout&quot;&gt;Changes for installations using a source checkout&lt;&#x2F;h2&gt;
&lt;p&gt;Server admins who installed Synapse using a source checkout might already be
familiar with &lt;a href=&quot;https:&#x2F;&#x2F;python-poetry.org&#x2F;&quot;&gt;Poetry&lt;&#x2F;a&gt;. This is a tool we use
to better manage dependencies within Synapse. As of this version, we have
updated Synapse&#x27;s dependency on Poetry to require Poetry 1.2, which was recently
released.&lt;&#x2F;p&gt;
&lt;p&gt;It is also worth noting that Synapse 1.68, which is due to release on the 27th
of September, will require a Rust compiler when installed from a source
checkout. This is because we are in the process of introducing Rust in Synapse&#x27;s
code base, in order to make some hot code paths more efficient. See the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.67&#x2F;upgrade.html#rust-requirement-in-the-next-release&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for more information.&lt;&#x2F;p&gt;
&lt;p&gt;These two changes should not impact installations that use &lt;code&gt;pip install matrix-synapse&lt;&#x2F;code&gt;, Debian packages from &lt;code&gt;packages.matrix.org&lt;&#x2F;code&gt; or the
&lt;code&gt;matrixdotorg&#x2F;synapse&lt;&#x2F;code&gt; Docker image to manage and run Synapse.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;Synapse 1.68 (due on the 27th of September) will also require SQLite v3.27.0 or
higher when run with SQLite. Synapse 1.67 is the last version of Synapse to
support SQLite versions 3.22 to 3.26. See the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.67&#x2F;upgrade.html#sqlite-version-requirement-in-the-next-release&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for more information.&lt;&#x2F;p&gt;
&lt;p&gt;See the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.67.0&quot;&gt;full
changelog&lt;&#x2F;a&gt; for a
complete list of changes in this release. Also please have a look at the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.67&#x2F;upgrade#upgrading-to-v1670&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for this version.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;dklimpel&quot;&gt;Dirk Klimpel&lt;&#x2F;a&gt;,
&lt;a href=&quot;https:&#x2F;&#x2F;www.beeper.com&#x2F;&quot;&gt;Beeper&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Vetchu&quot;&gt;Jacek
Ku≈õnierz&lt;&#x2F;a&gt;, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Security release of matrix-appservice-irc 0.35.0 (High severity)</title>
		<published>2022-09-13T14:56:43+00:00</published>
		<updated>2022-09-13T14:56:43+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/13/security-release-of-matrix-appservice-irc-0-35-0-high-severity/" type="text/html"/>
		<id>/blog/2022/09/13/security-release-of-matrix-appservice-irc-0-35-0-high-severity/</id>
		<content type="html">&lt;p&gt;We&#x27;ve released a new version of matrix.org&#x27;s node-irc 1.3.0 and
matrix-appservice-irc 0.35.0, to patch several security issues:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;IRC mode operator confusion (Low, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-appservice-irc&#x2F;security&#x2F;advisories&#x2F;GHSA-cq7q-5c67-w39w&quot;&gt;GHSA-cq7q-5c67-w39w&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Parsing issue leading to room takeovers (High, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-appservice-irc&#x2F;security&#x2F;advisories&#x2F;GHSA-xvqg-mv25-rwvw&quot;&gt;GHSA-xvqg-mv25-rwvw&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Undisclosed issue (Moderate, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-appservice-irc&#x2F;security&#x2F;advisories&#x2F;GHSA-r3p6-cg2c-c4qw&quot;&gt;GHSA-r3p6-cg2c-c4qw&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;The details of the final vulnerability will be released at a later date,
pending an audit of the codebase to ensure it&#x27;s not affected by other similar
vulnerabilities.&lt;&#x2F;p&gt;
&lt;p&gt;The vulnerabilities have been patched in node-irc version 1.3.0 and
matrix-appservice-irc 0.35.0. You can get the release on
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-appservice-irc&#x2F;releases&quot;&gt;Github&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;The bridges running on the Libera Chat, OFTC and other networks bridged by the
Matrix.org Foundation have been patched.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Please upgrade your IRC bridge as soon as possible.&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The above vulnerabilities were reported by &lt;a href=&quot;https:&#x2F;&#x2F;valentin-lorentz.fr&#x2F;&quot;&gt;Val
Lorentz&lt;&#x2F;a&gt;. Thank you!&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 1.66 released</title>
		<published>2022-09-05T09:23:27+00:00</published>
		<updated>2022-09-08T07:08:36+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/02/synapse-1-66-released/" type="text/html"/>
		<id>/blog/2022/09/02/synapse-1-66-released/</id>
		<content type="html">&lt;p&gt;Hey all, we&#x27;ve just released &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.66.0&quot;&gt;Synapse 1.66&lt;&#x2F;a&gt;! Let&#x27;s have a
look at what&#x27;s inside this release.&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h2 id=&quot;removal-of-email-verification-delegation&quot;&gt;Removal of email verification delegation&lt;&#x2F;h2&gt;
&lt;p&gt;Before Synapse 1.66, homeserver administrators had the possibility to
configure Synapse to delegate verifying email addresses to an identity
server (using the &lt;code&gt;account_threepid_delegates.email&lt;&#x2F;code&gt; configuration setting).
This feature relied on old APIs from the Matrix specification that have since
been &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.3&#x2F;changelog&#x2F;#identity-service-api-1-1&quot;&gt;removed&lt;&#x2F;a&gt; from it.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;08&#x2F;03&#x2F;synapse-1-64-released&quot;&gt;Synapse 1.64&lt;&#x2F;a&gt; announced the
deprecation of this feature, and the addition of a warning at startup when
the configuration setting is in use.&lt;&#x2F;p&gt;
&lt;p&gt;As of Synapse 1.66, support for this feature has been fully removed, and
Synapse will refuse to start if the configuration setting for it is in use.&lt;&#x2F;p&gt;
&lt;p&gt;If this has not already been done, administrators of servers that were
previously using this feature are encouraged to configure an SMTP server that
Synapse can use to verify email addresses on its own. See the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.66&#x2F;usage&#x2F;configuration&#x2F;config_documentation.html#email&quot;&gt;configuration guide&lt;&#x2F;a&gt;
for more information.&lt;&#x2F;p&gt;
&lt;p&gt;Also see the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.66&#x2F;upgrade.html#delegation-of-email-validation-no-longer-supported&quot;&gt;upgrade notes&lt;&#x2F;a&gt;
for more information.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;planned-removal-of-support-for-tcp-replication&quot;&gt;Planned removal of support for TCP replication&lt;&#x2F;h2&gt;
&lt;p&gt;Most server administrators already know that Synapse can be made to scale
horizontally by deploying &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;latest&#x2F;workers.html&quot;&gt;workers&lt;&#x2F;a&gt;. Workers are
processes running alongside Synapse&#x27;s main process to allow offloading some
of the work it would otherwise be doing, load balancing some of the traffic,
etc.&lt;&#x2F;p&gt;
&lt;p&gt;In a deployment of Synapse that uses workers, these processes use replication
to share information between themselves. One of the earliest protocols
Synapse used for replication was built on top of TCP.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.18.0&quot;&gt;Synapse 1.18&lt;&#x2F;a&gt; introduced a new
Redis-based replication protocol for workers to use and deprecated the
TCP-based protocol, without specifying a removal date.&lt;&#x2F;p&gt;
&lt;p&gt;This week we&#x27;re announcing that support for TCP replication will be removed
from Synapse in version 1.67, which is expected to come out around Sep 13th.
See the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.66.0&quot;&gt;release notes&lt;&#x2F;a&gt; for more
details.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;Synapse 1.66 also includes some improvements to validation on endpoints using
&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;latest&#x2F;client-server-api&#x2F;#user-interactive-authentication-api&quot;&gt;User-Interactive Authentication&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;This version of Synapse also adds compression support for federation traffic.
See &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.66&#x2F;usage&#x2F;configuration&#x2F;config_documentation.html#listeners&quot;&gt;the configuration guide&lt;&#x2F;a&gt;
for more information on how to compress HTTP traffic.&lt;&#x2F;p&gt;
&lt;p&gt;Furthermore, Synapse 1.66 improves the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.66&#x2F;admin_api&#x2F;rooms.html#room-details-api&quot;&gt;Room Details amin API&lt;&#x2F;a&gt;
and allows administrators to see if all local users have marked a given room
as &amp;quot;forgotten&amp;quot;.&lt;&#x2F;p&gt;
&lt;p&gt;See the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.66.0&quot;&gt;full
changelog&lt;&#x2F;a&gt; for a
complete list of changes in this release. Also please have a look at the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.66&#x2F;upgrade#upgrading-to-v1660&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for this version.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend
our thanks to everyone who contributed to this release, including (in no
particular order) &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;dklimpel&quot;&gt;Dirk Klimpel&lt;&#x2F;a&gt; and
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;AntoninLoubiere&quot;&gt;Antonin Loubiere&lt;&#x2F;a&gt;, as well as anyone
helping us make Synapse better by sharing their feedback and reporting
issues.&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.34.0 released!</title>
		<published>2018-12-20T00:00:00+00:00</published>
		<updated>2018-12-20T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/12/20/synapse-0-34-0-released/" type="text/html"/>
		<id>/blog/2018/12/20/synapse-0-34-0-released/</id>
		<content type="html">&lt;p&gt;Folks this is a big day for us at Matrix Towers, because today we release 0.34.0.&lt;&#x2F;p&gt;
&lt;p&gt;The big news for 0.34.0 is that we now &lt;strong&gt;recommend Python 3 for production use&lt;&#x2F;strong&gt; and have been running matrix.org under Python 3 for the past month.&lt;&#x2F;p&gt;
&lt;p&gt;Performance improvements have been marked, in some contexts we have seen 50% reductions in RAM and CPU usage. Here are some illustrative graphs to get you going but look out for a dedicated post delving into much more detail on the port. You can also see a Matrix Live interview with the project lead Amber (hawkowl)¬†&lt;a href=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Ad3oqEo5leM&quot;&gt;here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;&#x2F;blog&#x2F;wp-content&#x2F;uploads&#x2F;2018&#x2F;12&#x2F;image2.png&quot;&gt;&lt;img class=&quot;alignnone wp-image-3822 size-large&quot; src=&quot;&#x2F;blog&#x2F;wp-content&#x2F;uploads&#x2F;2018&#x2F;12&#x2F;image2-1024x296.png&quot; alt=&quot;&quot; width=&quot;1024&quot; height=&quot;296&quot; &#x2F;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Matrix.org federation reader workers, the big drops signify roll over to python 3&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;&#x2F;blog&#x2F;wp-content&#x2F;uploads&#x2F;2018&#x2F;12&#x2F;image1.png&quot;&gt;&lt;img class=&quot;alignnone size-large wp-image-3824&quot; src=&quot;&#x2F;blog&#x2F;wp-content&#x2F;uploads&#x2F;2018&#x2F;12&#x2F;image1-1024x237.png&quot; alt=&quot;&quot; width=&quot;1024&quot; height=&quot;237&quot; &#x2F;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Synapse master on matrix.org, again the drop in RAM signifies the roll over to python 3&lt;&#x2F;p&gt;
&lt;p&gt;Many thanks to Amber for leading the effort, Rich and Erik for providing support as well as Notafile and Krombel from the community for pushing this effort right from the early days of the project.&lt;&#x2F;p&gt;
&lt;p&gt;If that wasn&#x27;t enough, 0.34.0 also all the usual bug fixes and perf improvements. In particular the media repository now no longer fails to decode UTF-8 filenames when downloading remote media and auto joining rooms now work on servers with consent requirements enabled.&lt;&#x2F;p&gt;
&lt;p&gt;As ever, you can get the new update¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.34.0&quot;&gt;here&lt;&#x2F;a&gt;¬†or any of the sources mentioned at¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&lt;&#x2F;a&gt;. Note, Synapse is now available from PyPI, pick it up¬†&lt;a href=&quot;https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;matrix-synapse&#x2F;&quot;&gt;here&lt;&#x2F;a&gt;. Also, check out our new &lt;a href=&quot;&#x2F;docs&#x2F;guides&#x2F;installing-synapse&quot;&gt;Synapse installation guide page.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;In particular, if you want to run Synapse 0.34.0 on Python 3 take a look at the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;release-v0.34.0&#x2F;UPGRADE.rst#upgrading-to-v0340&quot;&gt;upgrade notes&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;¬†&lt;&#x2F;p&gt;
&lt;h3&gt;Synapse 0.34.0 changelog&lt;&#x2F;h3&gt;
Synapse 0.34.0 is the first release to fully support Python 3. Synapse will now run on Python versions 3.5 or 3.6 (as well as 2.7). Support for Python 3.7 remains experimental.
&lt;p&gt;We recommend upgrading to Python 3, but make sure to read the¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;release-v0.34.0&#x2F;UPGRADE.rst#upgrading-to-v0340&quot;&gt;upgrade notes&lt;&#x2F;a&gt;¬†when doing so.&lt;&#x2F;p&gt;
&lt;h4&gt;Features&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Add &#x27;sandbox&#x27; to CSP for media reprository (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4284&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4284&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4284&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Make the new landing page prettier. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4294&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4294&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4294&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix deleting E2E room keys when using old SQLite versions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4295&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4295&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4295&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add a welcome page for the client API port. Credit to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;krombel&quot; data-hovercard-type=&quot;user&quot; data-hovercard-url=&quot;&#x2F;hovercards?user_id=11167142&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@krombel&lt;&#x2F;a&gt;! (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4289&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4289&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4289&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove Matrix console from the default distribution (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4290&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4290&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4290&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add option to track MAU stats (but not limit people) (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3830&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3830&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#3830&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add an option to enable recording IPs for appservice users (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3831&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3831&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#3831&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Rename login type¬†&lt;code&gt;m.login.cas&lt;&#x2F;code&gt;¬†to¬†&lt;code&gt;m.login.sso&lt;&#x2F;code&gt;¬†(&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4220&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4220&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4220&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add an option to disable search for homeservers that may not be interested in it. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4230&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4230&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4230&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Bugfixes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Pushrules can now again be made with non-ASCII rule IDs. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4165&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4165&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4165&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;The media repository now no longer fails to decode UTF-8 filenames when downloading remote media. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4176&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4176&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4176&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;URL previews now correctly decode non-UTF-8 text if the header contains a¬†&lt;code&gt;&amp;lt;meta http-equiv=&quot;Content-Type&quot;&lt;&#x2F;code&gt;¬†header. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4183&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4183&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4183&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix an issue where public consent URLs had two slashes. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4192&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4192&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4192&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fallback auth now accepts the session parameter on Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4197&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4197&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4197&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove riot.im from the list of trusted Identity Servers in the default configuration (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4207&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4207&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4207&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;fix start up failure when mau_limit_reserved_threepids set and db is postgres (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4211&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4211&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4211&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix auto join failures for servers that require user consent (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4223&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4223&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4223&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix exception caused by non-ascii event IDs (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4241&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4241&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4241&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Pushers can now be unsubscribed from on Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4250&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4250&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4250&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix UnicodeDecodeError when postgres is configured to give non-English errors (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4253&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4253&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4253&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Internal Changes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Debian packages utilising a virtualenv with bundled dependencies can now be built. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4212&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4212&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4212&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Disable pager when running git-show in CI (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4291&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4291&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4291&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;A coveragerc file has been added. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4180&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4180&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4180&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add a GitHub pull request template and add multiple issue templates (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4182&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4182&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4182&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Update README to reflect the fact that¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;1491&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;1491&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#1491&lt;&#x2F;a&gt;¬†is fixed (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4188&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4188&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4188&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Run the AS senders as background processes to fix warnings (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4189&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4189&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4189&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add some diagnostics to the tests to detect logcontext problems (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4190&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4190&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4190&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add missing¬†&lt;code&gt;jpeg&lt;&#x2F;code&gt;¬†package prerequisite for OpenBSD in README. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4193&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4193&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4193&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add a note saying you need to manually reclaim disk space after using the Purge History API (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4200&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4200&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4200&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;More logcontext checking in unittests (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4205&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4205&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4205&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Ignore¬†&lt;code&gt;__pycache__&lt;&#x2F;code&gt;¬†directories in the database schema folder (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4214&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4214&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4214&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add note to UPGRADE.rst about removing riot.im from list of trusted identity servers (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4224&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4224&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4224&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Added automated coverage reporting to CI. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4225&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4225&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4225&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Garbage-collect after each unit test to fix logcontext leaks (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4227&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4227&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4227&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;add more detail to logging regarding &quot;More than one row matched&quot; error (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4234&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4234&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4234&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Drop sent_transactions table (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4244&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4244&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4244&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add a basic .editorconfig (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4257&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4257&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4257&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Update README.rst and UPGRADE.rst for Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4260&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4260&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4260&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove obsolete¬†&lt;code&gt;verbose&lt;&#x2F;code&gt;¬†and¬†&lt;code&gt;log_file&lt;&#x2F;code&gt;¬†settings from¬†&lt;code&gt;homeserver.yaml&lt;&#x2F;code&gt;¬†for Docker image. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4261&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4261&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4261&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.33.9 is here!</title>
		<published>2018-11-20T00:00:00+00:00</published>
		<updated>2018-11-20T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/11/20/synapse-0-33-9-is-here/" type="text/html"/>
		<id>/blog/2018/11/20/synapse-0-33-9-is-here/</id>
		<content type="html">&lt;p&gt;Well here you are then, the 9th episode in the Synapse 0.33.x series.&lt;&#x2F;p&gt;
&lt;p&gt;Features wise, 0.33.9 contains a change to the way that GDPR consent works under the hood. It is now plumbed in to the login flow (rather than following immediately afterwards) such that it does not inadvertently break on-boarding. This is part of a broader set of changes that span Synapse and Riot to improve initial first impressions of using matrix.&lt;&#x2F;p&gt;
&lt;p&gt;Separately¬†we now have support for room version upgrades which is pre-requisite for rolling out the new state resolution algorithm, come and join us in¬†#teststateresv2:jki.re if you would like to help us test.&lt;&#x2F;p&gt;
&lt;p&gt;Finally we&#x27;ve spent a bunch of time further improving perf especially in and around reducing device ids federation traffic.&lt;&#x2F;p&gt;
&lt;p&gt;I know I say it every time, but full python 3 support is really really close now, matrix.org is now running entirely on py3 and seeing some amazing perf improvements - the remaining blocker is getting py3 deb packages ready and then we&#x27;ll ship an official python 3 release. There will also be a blog post to explain what we&#x27;ve been up to and what to expect perf wise.&lt;&#x2F;p&gt;
&lt;p&gt;As ever, you can get the new update¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.9&quot;&gt;here&lt;&#x2F;a&gt;¬†or any of the sources mentioned at¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&lt;&#x2F;a&gt;. Note, Synapse is now available from PyPI, pick it up¬†&lt;a href=&quot;https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;matrix-synapse&#x2F;&quot;&gt;here&lt;&#x2F;a&gt;. Also, check out our new &lt;a href=&quot;&#x2F;docs&#x2F;guides&#x2F;installing-synapse&quot;&gt;Synapse installation guide page.&lt;&#x2F;a&gt;
¬†&lt;&#x2F;p&gt;
&lt;h3&gt;Synapse 0.33.9 changelog&lt;&#x2F;h3&gt;
&lt;h4&gt;Features&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Include flags to optionally add¬†&lt;code&gt;m.login.terms&lt;&#x2F;code&gt;¬†to the registration flow when consent tracking is enabled. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4004&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4004&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4004&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4133&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4133&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4133&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4142&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4142&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4142&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4184&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4184&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4184&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Support for replacing rooms with new ones (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4091&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4091&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4091&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4099&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4099&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4099&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4100&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4100&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4100&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4101&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4101&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4101&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Bugfixes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix exceptions when using the email mailer on Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4095&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4095&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4095&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix e2e key backup with more than 9 backup versions (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4113&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4113&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4113&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Searches that request profile info now no longer fail with a 500. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4122&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4122&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4122&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;fix return code of empty key backups (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4123&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4123&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4123&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;If the typing stream ID goes backwards (as on a worker when the master restarts), the worker&#x27;s typing handler will no longer erroneously report rooms containing new typing events. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4127&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4127&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4127&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix table lock of device_lists_remote_cache which could freeze the application (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4132&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4132&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4132&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix exception when using state res v2 algorithm (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4135&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4135&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4135&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Generating the user consent URI no longer fails on Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4140&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4140&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4140&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4163&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4163&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4163&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Loading URL previews from the DB cache on Postgres will no longer cause Unicode type errors when responding to the request, and URL previews will no longer fail if the remote server returns a Content-Type header with the chartype in quotes. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4157&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4157&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4157&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;The hash_password script now works on Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4161&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4161&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4161&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix noop checks when updating device keys, reducing spurious device list update notifications. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4164&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4164&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4164&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Deprecations and Removals&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;The disused and un-specced identicon generator has been removed. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4106&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4106&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4106&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;The obsolete and non-functional &#x2F;pull federation endpoint has been removed. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4118&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4118&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4118&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;The deprecated v1 key exchange endpoints have been removed. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4119&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4119&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4119&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Synapse will no longer fetch keys using the fallback deprecated v1 key exchange method and will now always use v2. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4120&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4120&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4120&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Internal Changes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix build of Docker image with docker-compose (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3778&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3778&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#3778&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Delete unreferenced state groups during history purge (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4006&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4006&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4006&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;The &quot;Received rdata&quot; log messages on workers is now logged at DEBUG, not INFO. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4108&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4108&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4108&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Reduce replication traffic for device lists (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4109&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4109&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4109&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix¬†&lt;code&gt;synapse_replication_tcp_protocol_*_commands&lt;&#x2F;code&gt;¬†metric label to be full command name, rather than just the first character (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4110&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4110&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4110&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Log some bits about room creation (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4121&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4121&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4121&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix¬†&lt;code&gt;tox&lt;&#x2F;code&gt;¬†failure on old systems (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4124&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4124&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4124&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add STATE_V2_TEST room version (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4128&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4128&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4128&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Clean up event accesses and tests (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4137&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4137&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4137&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;The default logging config will now set an explicit log file encoding of UTF-8. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4138&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4138&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4138&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add helpers functions for getting prev and auth events of an event (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4139&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4139&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4139&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add some tests for the HTTP pusher. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4149&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4149&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4149&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;add purge_history.sh and purge_remote_media.sh scripts to contrib&#x2F; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4155&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4155&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4155&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;HTTP tests have been refactored to contain less boilerplate. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4156&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4156&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4156&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Drop incoming events from federation for unknown rooms (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4165&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4165&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4165&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse v0.33.8 is here!</title>
		<published>2018-11-01T00:00:00+00:00</published>
		<updated>2018-11-01T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/11/01/synapse-v0-33-8-is-here/" type="text/html"/>
		<id>/blog/2018/11/01/synapse-v0-33-8-is-here/</id>
		<content type="html">&lt;p&gt;Wowzers - our 8th dot release for v0.33!&lt;&#x2F;p&gt;
&lt;p&gt;This time we have a bunch of bug fixes and db performance improvements as well as better support for auto-join rooms and the ability for admins to limit who can create rooms aliases.&lt;&#x2F;p&gt;
&lt;p&gt;v0.33.8 also contains more python 3 fixes: we are running most of matrix.org on python 3 as of right now and seeing some pretty impressive performance improvements. Look out for Hawkowl&#x27;s write up coming soon.&lt;&#x2F;p&gt;
&lt;p&gt;For those interested in what we are working on right now, take a look at our &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;orgs&#x2F;matrix-org&#x2F;projects&#x2F;2&quot;&gt;task board&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;As ever, you can get the new update¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.8&quot;&gt;here&lt;&#x2F;a&gt;¬†or any of the sources mentioned at¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&lt;&#x2F;a&gt;. Note, Synapse is now available from PyPI, pick it up¬†&lt;a href=&quot;https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;matrix-synapse&#x2F;&quot;&gt;here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;¬†&lt;&#x2F;p&gt;
&lt;h3&gt;Synapse 0.33.8 changelog&lt;&#x2F;h3&gt;
&lt;h4&gt;Features&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Servers with auto-join rooms will now automatically create those rooms when the first user registers (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3975&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3975&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#3975&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add config option to control alias creation (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4051&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4051&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4051&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;The register_new_matrix_user script is now ported to Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4085&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4085&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4085&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Configure Docker image to listen on both ipv4 and ipv6. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4089&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4089&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4089&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Bugfixes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix HTTP error response codes for federated group requests. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3969&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3969&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#3969&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix issue where Python 3 users couldn&#x27;t paginate &#x2F;publicRooms (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4046&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4046&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4046&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix URL previewing to work in Python 3.7 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4050&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4050&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4050&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;synctl will use the right python executable to run worker processes (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4057&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4057&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4057&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Manhole now works again on Python 3, instead of failing with a &quot;couldn&#x27;t match all kex parts&quot; when connecting. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4060&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4060&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4060&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4067&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4067&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4067&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix some metrics being racy and causing exceptions when polled by Prometheus. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4061&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4061&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4061&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug which prevented email notifications from being sent unless an absolute path was given for¬†&lt;code&gt;email_templates&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4068&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4068&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4068&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Correctly account for cpu usage by background threads (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4074&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4074&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4074&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix race condition where config defined reserved users were not being added to
the monthly active user list prior to the homeserver reactor firing up (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4081&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4081&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4081&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug which prevented backslashes being used in event field filters (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4083&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4083&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4083&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Internal Changes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Add information about the¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;spantaleev&#x2F;matrix-docker-ansible-deploy&quot;&gt;matrix-docker-ansible-deploy&lt;&#x2F;a&gt;¬†playbook (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3698&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3698&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#3698&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add initial implementation of new state resolution algorithm (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3786&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3786&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#3786&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Reduce database load when fetching state groups (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4011&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4011&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4011&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Various cleanups in the federation client code (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4031&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4031&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4031&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Run the CircleCI builds in docker containers (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4041&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4041&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4041&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Only colourise synctl output when attached to tty (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4049&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4049&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4049&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor room alias creation code (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4063&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4063&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4063&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Make the Python scripts in the top-level scripts folders meet pep8 and pass flake8. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4068&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4068&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4068&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;The README now contains example for the Caddy web server. Contributed by steamp0rt. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4072&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4072&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4072&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add psutil as an explicit dependency (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4073&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4073&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4073&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Clean up threading and logcontexts in pushers (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4075&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4075&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4075&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Correctly manage logcontexts during startup to fix some &quot;Unexpected logging context&quot; warnings (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4076&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4076&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4076&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Give some more things logcontexts (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4077&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4077&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4077&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Clean up some bits of code which were flagged by the linter (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4082&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4082&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4082&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.33.7 released!</title>
		<published>2018-10-18T00:00:00+00:00</published>
		<updated>2018-10-18T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/10/18/synapse-0-33-7-released/" type="text/html"/>
		<id>/blog/2018/10/18/synapse-0-33-7-released/</id>
		<content type="html">&lt;p&gt;Hey ho, let&#x27;s go. Synapse 0.33.7 has arrived.&lt;&#x2F;p&gt;
&lt;p&gt;Regular readers will know how close we are to a full python 3 release. We are not quite there yet but 0.33.7 has support for Synapse under worker mode and we&#x27;ve running it on matrix.org this week. We need more time to conclusively gauge performance improvements but the Synchrotron workers are running with 33% less RAM. Thanks to everyone who has been running their servers under py3, if you do spot anything unusual just let us know. Once we&#x27;ve been running it a bit longer on matrix.org, we&#x27;ll cut a 0.34.0 release with a recommendation that one and all upgrade to python 3.&lt;&#x2F;p&gt;
&lt;p&gt;Aside from that this release contains support for server side end to end key backups, paving the way for client side support in Riot and Rich continues his long running federation bug squash-a-thon which should help with a whole host of federation snafus.&lt;&#x2F;p&gt;
&lt;p&gt;Up next on the horizon is returning in earnest to getting the server to server r0 spec out starting with shipping our brand new super shiny state resolution algorithm.&lt;&#x2F;p&gt;
&lt;p&gt;As a final point, for those of you that deploy from git checkout or a snapshot url and have email notifications enabled please take a look warning in the change log.&lt;&#x2F;p&gt;
&lt;p&gt;As a final final point #synapse:matrix.org is now an officially supported room, aimed at Synapse admins. If you&#x27;ve not done so already please do drop by and say Hi.&lt;&#x2F;p&gt;
&lt;p&gt;As ever, you can get the new update &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.7&quot;&gt;here&lt;&#x2F;a&gt; or any of the sources mentioned at¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&lt;&#x2F;a&gt;. Note, Synapse is now available from PyPI, pick it up¬†&lt;a href=&quot;https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;matrix-synapse&#x2F;&quot;&gt;here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Onwards!&lt;&#x2F;p&gt;
&lt;h3&gt;Synapse 0.33.7 Change Log&lt;&#x2F;h3&gt;
&lt;strong&gt;Warning&lt;&#x2F;strong&gt;: This release removes the example email notification templates from¬†&lt;code&gt;res&#x2F;templates&lt;&#x2F;code&gt;¬†(they are now internal to the python package). This should only affect you if you (a) deploy your Synapse instance from a git checkout or a github snapshot URL, and (b) have email notifications enabled.
&lt;p&gt;If you have email notifications enabled, you should ensure that¬†&lt;code&gt;email.template_dir&lt;&#x2F;code&gt;¬†is either configured to point at a directory where you have installed customised templates, or leave it unset to use the default templates.&lt;&#x2F;p&gt;
&lt;p&gt;The configuration parser will try to detect the situation where¬†&lt;code&gt;email.template_dir&lt;&#x2F;code&gt;¬†is incorrectly set to¬†&lt;code&gt;res&#x2F;templates&lt;&#x2F;code&gt;¬†and do the right thing, but will warn about this.&lt;&#x2F;p&gt;
&lt;h4&gt;Features&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Ship the example email templates as part of the package (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4052&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4052&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4052&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add support for end-to-end key backup (MSC1687) (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4019&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4019&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4019&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Bugfixes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix bug which made get_missing_events return too few events (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4045&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4045&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4045&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug in event persistence logic which caused &#x27;NoneType is not iterable&#x27; (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3995&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3995&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#3995&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix exception in background metrics collection (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3996&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3996&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#3996&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix exception handling in fetching remote profiles (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3997&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3997&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#3997&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix handling of rejected threepid invites (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3999&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3999&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#3999&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Workers now start on Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4027&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4027&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4027&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Synapse now starts on Python 3.7. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4033&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4033&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4033&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3&gt;Internal Changes&lt;&#x2F;h3&gt;
&lt;ul&gt;
 	&lt;li&gt;Log exceptions in looping calls (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4008&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4008&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4008&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Optimisation for serving federation requests (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4017&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4017&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4017&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add metric to count number of non-empty sync responses (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4022&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;4022&#x2F;hovercard&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;#4022&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.33.6 released!</title>
		<published>2018-10-04T00:00:00+00:00</published>
		<updated>2018-10-04T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/10/04/synapse-0-33-6-released/" type="text/html"/>
		<id>/blog/2018/10/04/synapse-0-33-6-released/</id>
		<content type="html">&lt;p&gt;Right folks, time for Synapse 0.33.6.&lt;&#x2F;p&gt;
&lt;p&gt;These past few weeks we&#x27;ve been focusing on fixing a whole host of federation bugs to improve reliability and latency. Additionally we&#x27;ve squashed some py3 bugs, improved lazy loading and been working hard in the background to improve our CI infrastructure. Finally, we cleaned up the Docker file, the image is now half the size of 0.33.5.1&#x27;s standing at 58 MB.&lt;&#x2F;p&gt;
&lt;p&gt;As ever, you can get the new update &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.6&quot;&gt;here&lt;&#x2F;a&gt; or any of the sources mentioned at¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&lt;&#x2F;a&gt;. Note, Synapse is now available from PyPI, pick it up¬†&lt;a href=&quot;https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;matrix-synapse&#x2F;&quot;&gt;here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;¬†&lt;&#x2F;p&gt;
&lt;h3&gt;Synapse 0.33.6&lt;&#x2F;h3&gt;
&lt;h4&gt;Features&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Adding the ability to change MAX_UPLOAD_SIZE for the docker container variables. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3883&quot;&gt;#3883&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Report &quot;python_version&quot; in the phone home stats (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3894&quot;&gt;#3894&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Always LL ourselves if we&#x27;re in a room (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3916&quot;&gt;#3916&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Include eventid in log lines when processing incoming federation transactions (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3959&quot;&gt;#3959&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove spurious check which made &#x27;localhost&#x27; servers not work (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3964&quot;&gt;#3964&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Bugfixes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix problem when playing media from Chrome using direct URL (thanks¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;remjey&quot; data-hovercard-type=&quot;user&quot; data-hovercard-url=&quot;&#x2F;hovercards?user_id=13684203&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@remjey&lt;&#x2F;a&gt;!) (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3578&quot;&gt;#3578&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;support registering regular users non-interactively with register_new_matrix_user script (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3836&quot;&gt;#3836&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix broken invite email links for self hosted riots (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3868&quot;&gt;#3868&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Don&#x27;t ratelimit autojoins (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3879&quot;&gt;#3879&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix 500 error when deleting unknown room alias (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3889&quot;&gt;#3889&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix some b&#x27;abcd&#x27; noise in logs and metrics (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3892&quot;&gt;#3892&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3895&quot;&gt;#3895&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;When we join a room, always try the server we used for the alias lookup first, to avoid unresponsive and out-of-date servers. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3899&quot;&gt;#3899&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix incorrect server-name indication for outgoing federation requests (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3907&quot;&gt;#3907&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix adding client IPs to the database failing on Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3908&quot;&gt;#3908&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug where things occasionally were not being timed out correctly. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3910&quot;&gt;#3910&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug where outbound federation would stop talking to some servers when using workers (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3914&quot;&gt;#3914&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix some instances of ExpiringCache not expiring cache items (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3932&quot;&gt;#3932&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3980&quot;&gt;#3980&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix out-of-bounds error when LLing yourself (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3936&quot;&gt;#3936&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Sending server notices regarding user consent now works on Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3938&quot;&gt;#3938&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix exceptions from metrics handler (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3956&quot;&gt;#3956&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix error message for events with m.room.create missing from auth_events (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3960&quot;&gt;#3960&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix errors due to concurrent monthly_active_user upserts (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3961&quot;&gt;#3961&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix exceptions when processing incoming events over federation (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3968&quot;&gt;#3968&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Replaced all occurrences of e.message with str(e). Contributed by Schnuffle (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3970&quot;&gt;#3970&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix lazy loaded sync in the presence of rejected state events (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3986&quot;&gt;#3986&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix error when logging incomplete HTTP requests (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3990&quot;&gt;#3990&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Internal Changes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Unit tests can now be run under PostgreSQL in Docker using¬†&lt;code&gt;test_postgresql.sh&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3699&quot;&gt;#3699&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Speed up calculation of typing updates for replication (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3794&quot;&gt;#3794&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove documentation regarding installation on Cygwin, the use of WSL is recommended instead. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3873&quot;&gt;#3873&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix typo in README, synaspse -&amp;gt; synapse (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3897&quot;&gt;#3897&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Increase the timeout when filling missing events in federation requests (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3903&quot;&gt;#3903&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve the logging when handling a federation transaction (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3904&quot;&gt;#3904&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3966&quot;&gt;#3966&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve logging of outbound federation requests (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3906&quot;&gt;#3906&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3909&quot;&gt;#3909&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix the docker image building on python 3 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3911&quot;&gt;#3911&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add a regression test for logging failed HTTP requests on Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3912&quot;&gt;#3912&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Comments and interface cleanup for on_receive_pdu (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3924&quot;&gt;#3924&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix spurious exceptions when remote http client closes connection (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3925&quot;&gt;#3925&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Log exceptions thrown by background tasks (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3927&quot;&gt;#3927&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add a cache to get_destination_retry_timings (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3933&quot;&gt;#3933&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3991&quot;&gt;#3991&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Automate pushes to docker hub (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3946&quot;&gt;#3946&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Require attrs 16.0.0 or later (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3947&quot;&gt;#3947&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix incompatibility with python3 on alpine (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3948&quot;&gt;#3948&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Run the test suite on the oldest supported versions of our dependencies in CI. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3952&quot;&gt;#3952&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;CircleCI now only runs merged jobs on PRs, and commit jobs on develop, master, and release branches. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3957&quot;&gt;#3957&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix docstrings and add tests for state store methods (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3958&quot;&gt;#3958&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;fix docstring for FederationClient.get_state_for_room (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3963&quot;&gt;#3963&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Run notify_app_services as a bg process (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3965&quot;&gt;#3965&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Clarifications in FederationHandler (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3967&quot;&gt;#3967&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Further reduce the docker image size (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3972&quot;&gt;#3972&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Build py3 docker images for docker hub too (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3976&quot;&gt;#3976&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Updated the installation instructions to point to the matrix-synapse package on PyPI. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3985&quot;&gt;#3985&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Disable USE_FROZEN_DICTS for unittests by default. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3987&quot;&gt;#3987&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove unused Jenkins and development related files from the repo. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3988&quot;&gt;#3988&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve stacktraces in certain exceptions in the logs (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3989&quot;&gt;#3989&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Pin to prometheus_client&amp;lt;0.4 to avoid renaming all of our metrics (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;4002&quot;&gt;#4002&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.33.5.1 released!</title>
		<published>2018-09-24T00:00:00+00:00</published>
		<updated>2018-09-24T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/09/24/synapse-0-33-5-released/" type="text/html"/>
		<id>/blog/2018/09/24/synapse-0-33-5-released/</id>
		<content type="html">&lt;p&gt;Folks, Synapse 0.33.5.1 is here.&lt;&#x2F;p&gt;
&lt;p&gt;0.33.5.1 is an interesting release. On the one hand it contains the usual bug fixes and performance improvements of a point release, but it also our first versioned release where monolith installs can be run under Python 3.5 and 3.6! Python 3 support is very much in beta, so please be cautious but if you would like to try running under a py3 environment we&#x27;d love to get your feedback.&lt;&#x2F;p&gt;
&lt;p&gt;We&#x27;ve been running it ourselves for the past few weeks, and feel pretty good about it, not least the 2-3x improvement in RAM usage.&lt;&#x2F;p&gt;
&lt;p&gt;Currently the only way to run under python 3 is to download via github, there is no deb support as yet, though this will come as soon as we are confident to recommend python 3 as the default version.&lt;&#x2F;p&gt;
&lt;p&gt;We&#x27;ll be blogging about our porting project in more detail in the future, so watch this space - exciting times!&lt;&#x2F;p&gt;
&lt;p&gt;As ever, you can get the new update &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.5.1&quot;&gt;here&lt;&#x2F;a&gt; or any of the sources mentioned at¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&lt;&#x2F;a&gt;. Note, for the first time, Synapse is now available from PyPI, pick it up &lt;a href=&quot;https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;matrix-synapse&#x2F;&quot;&gt;here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h3&gt;&lt;&#x2F;h3&gt;
&lt;h2&gt;Synapse 0.33.5.1&lt;&#x2F;h2&gt;
&amp;nbsp;
&lt;h3&gt;Internal Changes&lt;&#x2F;h3&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix incompatibility with older Twisted version in tests. Thanks¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;OlegGirko&quot; data-hovercard-user-id=&quot;6013515&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@OlegGirko&lt;&#x2F;a&gt;! (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3940&quot;&gt;#3940&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2&gt;Synapse 0.33.5&lt;&#x2F;h2&gt;
&amp;nbsp;
&lt;h3&gt;Features&lt;&#x2F;h3&gt;
&lt;ul&gt;
 	&lt;li&gt;Python 3.5 and 3.6 support is now in beta. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3576&quot;&gt;#3576&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Implement¬†&lt;code&gt;event_format&lt;&#x2F;code&gt;¬†filter param in¬†&lt;code&gt;&#x2F;sync&lt;&#x2F;code&gt;¬†(&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3790&quot;&gt;#3790&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add synapse_admin_mau:registered_reserved_users metric to expose number of real reaserved users (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3846&quot;&gt;#3846&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3&gt;Bugfixes&lt;&#x2F;h3&gt;
&lt;ul&gt;
 	&lt;li&gt;Remove connection ID for replication prometheus metrics, as it creates a large number of new series. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3788&quot;&gt;#3788&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;guest users should not be part of mau total (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3800&quot;&gt;#3800&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Bump dependency on pyopenssl 16.x, to avoid incompatibility with recent Twisted. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3804&quot;&gt;#3804&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix existing room tags not coming down sync when joining a room (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3810&quot;&gt;#3810&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix jwt import check (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3824&quot;&gt;#3824&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;fix VOIP crashes under Python 3 (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3821&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;358016305&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3821&quot;&gt;#3821&lt;&#x2F;a&gt;) (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3835&quot;&gt;#3835&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix manhole so that it works with latest openssh clients (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3841&quot;&gt;#3841&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix outbound requests occasionally wedging, which can result in federation breaking between servers. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3845&quot;&gt;#3845&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Show heroes if room name&#x2F;canonical alias has been deleted (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3851&quot;&gt;#3851&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix handling of redacted events from federation (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3859&quot;&gt;#3859&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;(&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3874&quot;&gt;#3874&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Mitigate outbound federation randomly becoming wedged (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3875&quot;&gt;#3875&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3&gt;Internal Changes&lt;&#x2F;h3&gt;
&lt;ul&gt;
 	&lt;li&gt;CircleCI tests now run on the potential merge of a PR. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3704&quot;&gt;#3704&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;http&#x2F; is now ported to Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3771&quot;&gt;#3771&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve human readable error messages for threepid registration&#x2F;account update (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3789&quot;&gt;#3789&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Make &#x2F;sync slightly faster by avoiding needless copies (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3795&quot;&gt;#3795&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;handlers&#x2F; is now ported to Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3803&quot;&gt;#3803&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Limit the number of PDUs&#x2F;EDUs per federation transaction (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3805&quot;&gt;#3805&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Only start postgres instance for postgres tests on Travis CI (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3806&quot;&gt;#3806&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;tests&#x2F; is now ported to Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3808&quot;&gt;#3808&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;crypto&#x2F; is now ported to Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3822&quot;&gt;#3822&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;rest&#x2F; is now ported to Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3823&quot;&gt;#3823&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;add some logging for the keyring queue (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3826&quot;&gt;#3826&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;speed up lazy loading by 2-3x (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3827&quot;&gt;#3827&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improved Dockerfile to remove build requirements after building reducing the image size. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3834&quot;&gt;#3834&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Disable lazy loading for incremental syncs for now (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3840&quot;&gt;#3840&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;federation&#x2F; is now ported to Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3847&quot;&gt;#3847&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Log when we retry outbound requests (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3853&quot;&gt;#3853&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Removed some excess logging messages. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3855&quot;&gt;#3855&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Speed up purge history for rooms that have been previously purged (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3856&quot;&gt;#3856&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor some HTTP timeout code. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3857&quot;&gt;#3857&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix running merged builds on CircleCI (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3858&quot;&gt;#3858&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix typo in replication stream exception. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3860&quot;&gt;#3860&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add in flight real time metrics for Measure blocks (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3871&quot;&gt;#3871&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Disable buffering and automatic retrying in treq requests to prevent timeouts. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3872&quot;&gt;#3872&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;mention jemalloc in the README (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3877&quot;&gt;#3877&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove unmaintained &quot;nuke-room-from-db.sh&quot; script (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3888&quot;&gt;#3888&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.33.4 released!</title>
		<published>2018-09-11T00:00:00+00:00</published>
		<updated>2018-09-11T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/09/11/synapse-0-33-4-released/" type="text/html"/>
		<id>/blog/2018/09/11/synapse-0-33-4-released/</id>
		<content type="html">&lt;p&gt;Roll up, roll up, get it while it&#x27;s hot, Synapse 0.33.4 is here.&lt;&#x2F;p&gt;
&lt;p&gt;This release brings together a whole host of bug fixes, some enhancements to resource usage management and a bunch of internal changes in readiness for room member state lazy loading and our ongoing port to Python 3 (we are hoping to ship a py3 test candidate rsn!).&lt;&#x2F;p&gt;
&lt;p&gt;As ever, you can get the new update from¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.4&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.4&lt;&#x2F;a&gt;¬†or any of the sources mentioned at¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h4&gt;Features&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Support profile API endpoints on workers (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3659&quot;&gt;#3659&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Server notices for resource limit blocking (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3680&quot;&gt;#3680&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Allow guests to use &#x2F;rooms&#x2F;:roomId&#x2F;event&#x2F;:eventId (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3724&quot;&gt;#3724&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add mau_trial_days config param, so that users only get counted as MAU after N days. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3749&quot;&gt;#3749&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Require twisted 17.1 or later (fixes¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3741&quot;&gt;#3741&lt;&#x2F;a&gt;). (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3751&quot;&gt;#3751&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Bugfixes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix error collecting prometheus metrics when run on dedicated thread due to threading concurrency issues (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3722&quot;&gt;#3722&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug where we resent &quot;limit exceeded&quot; server notices repeatedly (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3747&quot;&gt;#3747&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug where we broke sync when using limit_usage_by_mau but hadn&#x27;t configured server notices (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3753&quot;&gt;#3753&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix &#x27;federation_domain_whitelist&#x27; such that an empty list correctly blocks all outbound federation traffic (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3754&quot;&gt;#3754&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix tagging of server notice rooms (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3755&quot;&gt;#3755&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3756&quot;&gt;#3756&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix &#x27;admin_uri&#x27; config variable and error parameter to be &#x27;admin_contact&#x27; to match the spec. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3758&quot;&gt;#3758&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Don&#x27;t return non-LL-member state in incremental sync state blocks (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3760&quot;&gt;#3760&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug in sending presence over federation (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3768&quot;&gt;#3768&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug where preserved threepid user comes to sign up and server is mau blocked (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3777&quot;&gt;#3777&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Internal Changes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Removed the link to the unmaintained matrix-synapse-auto-deploy project from the readme. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3378&quot;&gt;#3378&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor state module to support multiple room versions (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3673&quot;&gt;#3673&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;The synapse.storage module has been ported to Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3725&quot;&gt;#3725&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Split the state_group_cache into member and non-member state events (and so speed up LL &#x2F;sync) (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3726&quot;&gt;#3726&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Log failure to authenticate remote servers as warnings (without stack traces) (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3727&quot;&gt;#3727&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;The CONTRIBUTING guidelines have been updated to mention our use of Markdown and that .misc files have content. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3730&quot;&gt;#3730&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Reference the need for an HTTP replication port when using the federation_reader worker (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3734&quot;&gt;#3734&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix minor spelling error in federation client documentation. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3735&quot;&gt;#3735&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove redundant state resolution function (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3737&quot;&gt;#3737&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;The test suite now passes on PostgreSQL. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3740&quot;&gt;#3740&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix MAU cache invalidation due to missing yield (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3746&quot;&gt;#3746&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Make sure that we close db connections opened during init (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3764&quot;&gt;#3764&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Unignore synctl in .dockerignore to fix docker builds (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3802&quot;&gt;#3802&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&amp;nbsp;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Critical Security Update: Synapse 0.33.3.1</title>
		<published>2018-09-06T00:00:00+00:00</published>
		<updated>2018-09-06T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/09/06/critical-security-update-synapse-0-33-3-1/" type="text/html"/>
		<id>/blog/2018/09/06/critical-security-update-synapse-0-33-3-1/</id>
		<content type="html">&lt;p&gt;Hi All,&lt;&#x2F;p&gt;
&lt;p&gt;As referenced in yesterday&#x27;s &lt;a href=&quot;&#x2F;blog&#x2F;2018&#x2F;09&#x2F;05&#x2F;pre-disclosure-upcoming-critical-security-fix-for-synapse&#x2F;&quot;&gt;pre-disclosure&lt;&#x2F;a&gt;, today we are releasing Synapse 0.33.3.1 as a critical security update.&lt;&#x2F;p&gt;
&lt;p&gt;We have patched two security vulnerabilities we identified whilst working on the upcoming r0 spec release for the Server-Server API (see details below). We do not believe either have been exploited in the wild, but strongly recommend everybody running a federated Synapse upgrades immediately. &lt;&#x2F;p&gt;
&lt;p&gt;As always you can get the new update &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.3.1&quot;&gt;here&lt;&#x2F;a&gt; or from any of the sources mentioned at &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Many thanks for your patience and understanding; with fixes like this we are moving ever closer to Synapse reaching a 1.0 Thanks also to the package maintainers who have coordinated with us to ensure distro packages are available for a speedy upgrade!&lt;&#x2F;p&gt;
&lt;p&gt;Note, for anyone running Debian Jessie, we have prepared a 0.33.2.1 deb (as 0.33.3 dropped support for Jessie).&lt;&#x2F;p&gt;
&lt;p&gt;¬†&lt;&#x2F;p&gt;
&lt;h3&gt;Synapse 0.33.3.1 (2018-09-06)&lt;&#x2F;h3&gt;
&lt;h4&gt;SECURITY FIXES&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix an issue where event signatures were not always correctly validated (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3796&quot;&gt;#3796&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix an issue where server_acls could be circumvented for incoming events (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3796&quot;&gt;#3796&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Internal Changes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Unignore synctl in .dockerignore to fix docker builds (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3802&quot;&gt;#3802&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.33.3 Released</title>
		<published>2018-08-22T00:00:00+00:00</published>
		<updated>2018-08-22T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/08/22/synapse-0-33-3-released/" type="text/html"/>
		<id>/blog/2018/08/22/synapse-0-33-3-released/</id>
		<content type="html">&lt;p&gt;All the threes, Synapse 0.33.3!&lt;&#x2F;p&gt;
&lt;p&gt;This release brings together a lot of bugfixes, and also some preparation for support for Lazy Loading and Room Versioning.&lt;&#x2F;p&gt;
&lt;p&gt;We also have, as a great contribution from &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;vojeroen&quot;&gt;@vojeroen&lt;&#x2F;a&gt;, SNI extension support!¬†With v0.33.3, Synapse now supports sending SNI over federation for vhosted servers, which resolves &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;1491&quot;&gt;this long-standing request&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;As always, you can get the new update from &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.3&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.3&lt;&#x2F;a&gt;¬†or any of the sources mentioned at &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;¬†&lt;&#x2F;p&gt;
&lt;h4 id=&quot;features&quot;&gt;Features&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Add support for the SNI extension to federation TLS connections. Thanks to &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;vojeroen&quot;&gt;@vojeroen&lt;&#x2F;a&gt;! (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3439&quot;&gt;#3439&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add &#x2F;_media&#x2F;r0&#x2F;config (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3184&quot;&gt;#3184&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;speed up &#x2F;members API and add &lt;code&gt;at&lt;&#x2F;code&gt; and &lt;code&gt;membership&lt;&#x2F;code&gt; params as per MSC1227 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3568&quot;&gt;#3568&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;implement &lt;code&gt;summary&lt;&#x2F;code&gt; block in &#x2F;sync response as per MSC688 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3574&quot;&gt;#3574&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add lazy-loading support to &#x2F;messages as per MSC1227 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3589&quot;&gt;#3589&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add ability to limit number of monthly active users on the server (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3633&quot;&gt;#3633&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Support more federation endpoints on workers (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3653&quot;&gt;#3653&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Basic support for room versioning (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3654&quot;&gt;#3654&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Ability to disable client&#x2F;server Synapse via conf toggle (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3655&quot;&gt;#3655&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Ability to whitelist specific threepids against monthly active user limiting (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3662&quot;&gt;#3662&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add some metrics for the appservice and federation event sending loops (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3664&quot;&gt;#3664&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Where server is disabled, block ability for locked out users to read new messages (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3670&quot;&gt;#3670&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;set admin uri via config, to be used in error messages where the user should contact the administrator (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3687&quot;&gt;#3687&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Synapse&#x27;s presence functionality can now be disabled with the &quot;use_presence&quot; configuration option. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3694&quot;&gt;#3694&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;For resource limit blocked users, prevent writing into rooms (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3708&quot;&gt;#3708&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;bugfixes&quot;&gt;Bugfixes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix occasional glitches in the synapse_event_persisted_position metric (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3658&quot;&gt;#3658&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug on deleting 3pid when using identity servers that don&#x27;t support unbind API (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3661&quot;&gt;#3661&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Make the tests pass on Twisted &amp;lt; 18.7.0 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3676&quot;&gt;#3676&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Don&#x27;t ship recaptcha_ajax.js, use it directly from Google (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3677&quot;&gt;#3677&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fixes test_reap_monthly_active_users so it passes under postgres (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3681&quot;&gt;#3681&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix mau blocking calculation bug on login (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3689&quot;&gt;#3689&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix missing yield in synapse.storage.monthly_active_users.initialise_reserved_users (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3692&quot;&gt;#3692&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve HTTP request logging to include all requests (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3700&quot;&gt;#3700&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3723&quot;&gt;#3723&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Avoid timing out requests while we are streaming back the response (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3701&quot;&gt;#3701&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Support more federation endpoints on workers (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3705&quot;&gt;#3705&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3713&quot;&gt;#3713&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix &quot;Starting db txn &#x27;get_all_updated_receipts&#x27; from sentinel context&quot; warning (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3710&quot;&gt;#3710&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug where &lt;code&gt;state_cache&lt;&#x2F;code&gt; cache factor ignored environment variables (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3719&quot;&gt;#3719&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;deprecationsandremovals&quot;&gt;Deprecations and Removals&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;The Shared-Secret registration method of the legacy v1&#x2F;register REST endpoint has been removed. For a replacement, please see &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;master&#x2F;docs&#x2F;admin_api&#x2F;register_api.rst&quot;&gt;the admin&#x2F;register API documentation&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3703&quot;&gt;#3703&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;internalchanges&quot;&gt;Internal Changes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;The test suite now can run under PostgreSQL. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3423&quot;&gt;#3423&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor HTTP replication endpoints to reduce code duplication (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3632&quot;&gt;#3632&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Tests now correctly execute on Python 3. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3647&quot;&gt;#3647&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Sytests can now be run inside a Docker container. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3660&quot;&gt;#3660&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Port over enough to Python 3 to allow the sytests to start. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3668&quot;&gt;#3668&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3732&quot;&gt;#3732&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Update docker base image from alpine 3.7 to 3.8. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3669&quot;&gt;#3669&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Rename synapse.util.async to synapse.util.async_helpers to mitigate async becoming a keyword on Python 3.7. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3678&quot;&gt;#3678&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Synapse&#x27;s tests are now formatted with the black autoformatter. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3679&quot;&gt;#3679&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Implemented a new testing base class to reduce test boilerplate. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3684&quot;&gt;#3684&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Rename MAU prometheus metrics (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3690&quot;&gt;#3690&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;add new error type ResourceLimit (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3707&quot;&gt;#3707&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Logcontexts for replication command handlers (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3709&quot;&gt;#3709&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Update admin register API documentation to reference a real user ID. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3712&quot;&gt;#3712&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.33.2 is here!</title>
		<published>2018-08-09T00:00:00+00:00</published>
		<updated>2018-08-09T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/08/09/synapse-0-33-2-is-here/" type="text/html"/>
		<id>/blog/2018/08/09/synapse-0-33-2-is-here/</id>
		<content type="html">&lt;p&gt;Folks, it&#x27;s release time, Synapse 0.33.2 has landed.&lt;&#x2F;p&gt;
&lt;p&gt;The release focuses on performance, notable highlights include reducing CPU consumption through speeding up state delta calculations¬†(&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3592&quot;&gt;#3592&lt;&#x2F;a&gt;) and reducing I&#x2F;O through lazily loading state on the master process (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3579&quot;&gt;#3579&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3581&quot;&gt;#3581&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3582&quot;&gt;#3582&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3584&quot;&gt;#3584&lt;&#x2F;a&gt;)&lt;&#x2F;p&gt;
&lt;p&gt;Separately work continues on our python 3 port and we hope to have something concrete to trial very soon - we&#x27;re really excited about this and expect step change improvements in CPU and memory use.&lt;&#x2F;p&gt;
&lt;p&gt;Finally we have some ground work for upcoming room membership lazy loading, there is nothing to see here as yet, but rest assured we will make a lot of noise as soon as it is ready. Stay tuned.&lt;&#x2F;p&gt;
&lt;p&gt;¬†or any of the sources mentioned at &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;¬†&lt;&#x2F;p&gt;
&lt;h3&gt;Synapse 0.33.2 (2018-08-09)&lt;&#x2F;h3&gt;
No significant changes.
&lt;h3&gt;&lt;a id=&quot;user-content-synapse-0332rc1-2018-08-07&quot; class=&quot;anchor&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;release-v0.33.2&#x2F;CHANGES.md#synapse-0332rc1-2018-08-07&quot; aria-hidden=&quot;true&quot;&gt;&lt;&#x2F;a&gt;Synapse 0.33.2rc1 (2018-08-07)&lt;&#x2F;h3&gt;
&lt;h4&gt;&lt;a id=&quot;user-content-features&quot; class=&quot;anchor&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;release-v0.33.2&#x2F;CHANGES.md#features&quot; aria-hidden=&quot;true&quot;&gt;&lt;&#x2F;a&gt;Features&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;add support for the lazy_loaded_members filter as per MSC1227 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2970&quot;&gt;#2970&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;add support for the include_redundant_members filter param as per MSC1227 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3331&quot;&gt;#3331&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add metrics to track resource usage by background processes (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3553&quot;&gt;#3553&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3556&quot;&gt;#3556&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3604&quot;&gt;#3604&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3610&quot;&gt;#3610&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add¬†&lt;code&gt;code&lt;&#x2F;code&gt;¬†label to¬†&lt;code&gt;synapse_http_server_response_time_seconds&lt;&#x2F;code&gt;¬†prometheus metric (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3554&quot;&gt;#3554&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add support for client_reader to handle more APIs (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3555&quot;&gt;#3555&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3597&quot;&gt;#3597&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;make the &#x2F;context API filter &amp;amp; lazy-load aware as per MSC1227 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3567&quot;&gt;#3567&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add ability to limit number of monthly active users on the server (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3630&quot;&gt;#3630&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;When we fail to join a room over federation, pass the error code back to the client. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3639&quot;&gt;#3639&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add a new &#x2F;admin&#x2F;register API for non-interactively creating users. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3415&quot;&gt;#3415&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;&lt;a id=&quot;user-content-bugfixes&quot; class=&quot;anchor&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;release-v0.33.2&#x2F;CHANGES.md#bugfixes&quot; aria-hidden=&quot;true&quot;&gt;&lt;&#x2F;a&gt;Bugfixes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Make &#x2F;directory&#x2F;list API return 404 for room not found instead of 400 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2952&quot;&gt;#2952&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Default inviter_display_name to mxid for email invites (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3391&quot;&gt;#3391&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Don&#x27;t generate TURN credentials if no TURN config options are set (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3514&quot;&gt;#3514&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Correctly announce deleted devices over federation (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3520&quot;&gt;#3520&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Catch failures saving metrics captured by Measure, and instead log the faulty metrics information for further analysis. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3548&quot;&gt;#3548&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Unicode passwords are now normalised before hashing, preventing the instance where two different devices or browsers might send a different UTF-8 sequence for the password. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3569&quot;&gt;#3569&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix potential stack overflow and deadlock under heavy load (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3570&quot;&gt;#3570&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Respond with M_NOT_FOUND when profiles are not found locally or over federation. Fixes #3585 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3585&quot;&gt;#3585&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix failure to persist events over federation under load (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3601&quot;&gt;#3601&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix updating of cached remote profiles (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3605&quot;&gt;#3605&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix &#x27;tuple index out of range&#x27; error (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3607&quot;&gt;#3607&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Only import secrets when available (fix for py &amp;lt; 3.6) (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3626&quot;&gt;#3626&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;&lt;a id=&quot;user-content-internal-changes&quot; class=&quot;anchor&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;release-v0.33.2&#x2F;CHANGES.md#internal-changes&quot; aria-hidden=&quot;true&quot;&gt;&lt;&#x2F;a&gt;Internal Changes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Remove redundant checks on who_forgot_in_room (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3350&quot;&gt;#3350&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove unnecessary event re-signing hacks (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3367&quot;&gt;#3367&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Rewrite cache list decorator (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3384&quot;&gt;#3384&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Move v1-only REST APIs into their own module. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3460&quot;&gt;#3460&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Replace more instances of Python 2-only iteritems and itervalues uses. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3562&quot;&gt;#3562&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor EventContext to accept state during init (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3577&quot;&gt;#3577&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve Dockerfile and docker-compose instructions (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3543&quot;&gt;#3543&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Release notes are now in the Markdown format. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3552&quot;&gt;#3552&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;add config for pep8 (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3559&quot;&gt;#3559&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Merge Linearizer and Limiter (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3571&quot;&gt;#3571&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3572&quot;&gt;#3572&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Lazily load state on master process when using workers to reduce DB consumption (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3579&quot;&gt;#3579&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3581&quot;&gt;#3581&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3582&quot;&gt;#3582&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3584&quot;&gt;#3584&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fixes and optimisations for resolve_state_groups (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3586&quot;&gt;#3586&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve logging for exceptions when handling PDUs (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3587&quot;&gt;#3587&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add some measure blocks to persist_events (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3590&quot;&gt;#3590&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix some random logcontext leaks. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3591&quot;&gt;#3591&lt;&#x2F;a&gt;,¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3606&quot;&gt;#3606&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Speed up calculating state deltas in persist_event loop (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3592&quot;&gt;#3592&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Attempt to reduce amount of state pulled out of DB during persist_events (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3595&quot;&gt;#3595&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix a documentation typo in on_make_leave_request (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3609&quot;&gt;#3609&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Make EventStore inherit from EventFederationStore (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3612&quot;&gt;#3612&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove some redundant joins on event_edges.room_id (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3613&quot;&gt;#3613&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Stop populating events.content (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3614&quot;&gt;#3614&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Update the &#x2F;send_leave path registration to use event_id rather than a transaction ID. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3616&quot;&gt;#3616&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor FederationHandler to move DB writes into separate functions (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3621&quot;&gt;#3621&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove unused field &quot;pdu_failures&quot; from transactions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3628&quot;&gt;#3628&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;rename replication_layer to federation_client (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3634&quot;&gt;#3634&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Factor out exception handling in federation_client (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3638&quot;&gt;#3638&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor location of docker build script. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3644&quot;&gt;#3644&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Update CONTRIBUTING to mention newsfragments. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3645&quot;&gt;#3645&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&amp;nbsp;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Security update: Synapse 0.33.1</title>
		<published>2018-08-02T00:00:00+00:00</published>
		<updated>2018-08-02T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/08/02/security-update-synapse-0-33-1/" type="text/html"/>
		<id>/blog/2018/08/02/security-update-synapse-0-33-1/</id>
		<content type="html">&lt;p&gt;Hi All,&lt;&#x2F;p&gt;
&lt;p&gt;We have patched two securities vulnerabilities (details follow), we do not believe either have been exploited in the wild, but recommend upgrading asap.&lt;&#x2F;p&gt;
&lt;p&gt;As always you can get the new update from¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.1&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.33.1&lt;&#x2F;a&gt; or from any of the sources mentioned at¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Thanks&lt;&#x2F;p&gt;
&lt;p&gt;¬†&lt;&#x2F;p&gt;
&lt;h3&gt;Changes in Synapse v0.33.1 (2018-08-2)&lt;&#x2F;h3&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix a potential issue where servers could request events for rooms they have not joined. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3641&quot;&gt;#3641&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix a potential issue where users could see events in private rooms before they joined. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3642&quot;&gt;#3642&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Security update: Synapse 0.32.0</title>
		<published>2018-07-06T00:00:00+00:00</published>
		<updated>2018-07-06T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/07/06/security-update-synapse-0-32-0/" type="text/html"/>
		<id>/blog/2018/07/06/security-update-synapse-0-32-0/</id>
		<content type="html">&lt;p&gt;Folks, Synapse 0.32.0 is an important security update: please upgrade as soon as you can.&lt;&#x2F;p&gt;
&lt;p&gt;The release focuses on security; fixing several federation bugs and adding new features for countering abuse. Notably it includes the ability to blacklist &amp;amp; whitelist servers allowed to send events to a room on a per-room basis via the new 
m.room.server_acl
state event: see &lt;a href=&quot;https:&#x2F;&#x2F;docs.google.com&#x2F;document&#x2F;d&#x2F;1aiuROf1__7ZFkJvDdAZQfBNxyzjYd-ijiRAcHJYqJCM&#x2F;edit&quot;&gt;MSC1383&lt;&#x2F;a&gt; for details. ¬†This also closes out &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-doc&#x2F;issues&#x2F;709&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-doc&#x2F;issues&#x2F;709&lt;&#x2F;a&gt; - one of our oldest feature requests from users who wish to be able to limit the servers allowed to participate in a given room.&lt;&#x2F;p&gt;
&lt;p&gt;It&#x27;s important to understand that server ACLs only work if all the servers participating in the room honour them. ¬†In future this will be handled better (as part of ongoing work in making it easier to incrementally version and upgrade the federation protocol). ¬†This means that for the ACLs to work, any servers which don&#x27;t yet implement ACLs (e.g. older Synapses) have to be ACL&#x27;d from the room for the access control to work. ¬†
&lt;b&gt;Therefore please upgrade as soon as possible to avoid this problem.&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;p&gt;This ongoing flurry of security work is in general all part of moving towards the long-awaited stable release of the Server-Server API. In parallel we&#x27;ve been working on the other main outstanding point: State Resets (i.e. scenarios where you get unexpected results when resolving conflicts between different servers&#x27; copies of a room). ¬†There will be a few more major changes and upgrades on the horizon as we fix these, but then we&#x27;ll finally be able to cut an r0 release of the Server-Server API and Matrix will be one massive step closer to being out of beta!&lt;&#x2F;p&gt;
&lt;p&gt;As always, you can get the new update from &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.32.1&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.32.1&lt;&#x2F;a&gt;
¬†or any of the sources mentioned at &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h2&gt;Changes in synapse v0.32.0 (2018-07-06)&lt;&#x2F;h2&gt;
No changes since 0.32.0rc1
&lt;h2&gt;Synapse 0.32.0rc1 (2018-07-05)&lt;&#x2F;h2&gt;
&amp;nbsp;
&lt;h4&gt;Features&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Add blacklist &amp;amp; whitelist of servers allowed to send events to a
room via¬†&lt;code&gt;m.room.server_acl&lt;&#x2F;code&gt;¬†event. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;commit&#x2F;feef8461d19c51f3766471e17e2a2f8a2b36c785&quot;&gt;merge&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Cache factor override system for specific caches (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3334&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;329021103&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3334&quot;&gt;#3334&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add metrics to track appservice transactions (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3344&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;329432100&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3344&quot;&gt;#3344&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Try to log more helpful info when a sig verification fails
(&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3372&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;330617906&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3372&quot;&gt;#3372&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Synapse now uses the best performing JSON encoder&#x2F;decoder according
to your runtime (simplejson on CPython, stdlib json on PyPy).
(&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3462&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;336619861&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3462&quot;&gt;#3462&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add optional ip_range_whitelist param to AS registration files to
lock AS IP access (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3465&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;336751400&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3465&quot;&gt;#3465&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Reject invalid server names in federation requests (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3480&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;337874054&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3480&quot;&gt;#3480&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Reject invalid server names in homeserver.yaml (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3483&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;338348899&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3483&quot;&gt;#3483&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Bugfixes&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Strip access_token from outgoing requests (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3327&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;328782473&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3327&quot;&gt;#3327&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Redact AS tokens in logs (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3349&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;329791545&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3349&quot;&gt;#3349&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix federation backfill from SQLite servers (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3355&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;329865615&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3355&quot;&gt;#3355&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix event-purge-by-ts admin API (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3363&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;330065602&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3363&quot;&gt;#3363&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix event filtering in get_missing_events handler (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3371&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;330608172&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3371&quot;&gt;#3371&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Synapse is now stricter regarding accepting events which it cannot
retrieve the prev_events for. (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3456&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;336184658&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3456&quot;&gt;#3456&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug where synapse would explode when receiving unicode in HTTP
User-Agent header (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3470&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;337261723&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3470&quot;&gt;#3470&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Invalidate cache on correct thread to avoid race (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3473&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;337463703&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3473&quot;&gt;#3473&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Improved Documentation&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;&lt;code&gt;doc&#x2F;postgres.rst&lt;&#x2F;code&gt;: fix display of the last command block. Thanks to
&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ArchangeGabriel&quot; data-hovercard-user-id=&quot;490531&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@ArchangeGabriel&lt;&#x2F;a&gt;! (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3340&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;329241972&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3340&quot;&gt;#3340&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Deprecations and Removals&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;Remove was_forgotten_at (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3324&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;328600145&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3324&quot;&gt;#3324&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Misc&lt;&#x2F;h4&gt;
&lt;ul&gt;
 	&lt;li&gt;&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3332&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;328922729&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3332&quot;&gt;#3332&lt;&#x2F;a&gt;¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3341&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;329315777&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3341&quot;&gt;#3341&lt;&#x2F;a&gt;¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3347&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;329626817&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3347&quot;&gt;#3347&lt;&#x2F;a&gt;¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3348&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;329660142&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3348&quot;&gt;#3348&lt;&#x2F;a&gt;¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3356&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;329938222&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3356&quot;&gt;#3356&lt;&#x2F;a&gt;¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3385&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;331533857&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3385&quot;&gt;#3385&lt;&#x2F;a&gt;¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3446&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;335720791&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3446&quot;&gt;#3446&lt;&#x2F;a&gt;¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3447&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;335727844&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3447&quot;&gt;#3447&lt;&#x2F;a&gt;¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3467&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;336993276&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3467&quot;&gt;#3467&lt;&#x2F;a&gt;¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3474&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;337465451&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3474&quot;&gt;#3474&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.31.1 Released!</title>
		<published>2018-06-08T00:00:00+00:00</published>
		<updated>2018-06-08T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/06/08/synapse-0-31-1-released/" type="text/html"/>
		<id>/blog/2018/06/08/synapse-0-31-1-released/</id>
		<content type="html">&lt;p&gt;Folks,&lt;&#x2F;p&gt;
&lt;p&gt;v0.31.1 fixes a security bug in the &lt;code&gt;get_missing_events&lt;&#x2F;code&gt; federation API where event visibility rules were not applied correctly.&lt;&#x2F;p&gt;
&lt;p&gt;We are not aware of it being actively exploited but please upgrade asap.&lt;&#x2F;p&gt;
&lt;p&gt;Sorry for the inconvenience, Synapse and the Matrix spec are still in beta and we still ironing out gaps such as this one.&lt;&#x2F;p&gt;
&lt;p&gt;You can get the release &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.31.1&quot;&gt;here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h4&gt;&lt;&#x2F;h4&gt;
&lt;h4&gt;Changes in synapse v0.31.1 (2018-06-08)&lt;&#x2F;h4&gt;
v0.31.1 fixes a security bug in the¬†&lt;code&gt;get_missing_events&lt;&#x2F;code&gt;¬†federation API
where event visibility rules were not applied correctly.
&lt;p&gt;We are not aware of it being actively exploited but please upgrade asap.&lt;&#x2F;p&gt;
&lt;p&gt;Bug Fixes:&lt;&#x2F;p&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix event filtering in get_missing_events handler (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3371&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;330608172&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3371&quot;&gt;#3371&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse v0.31.0 released!</title>
		<published>2018-06-06T00:00:00+00:00</published>
		<updated>2018-06-06T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/06/06/synapse-v0-31-0-released/" type="text/html"/>
		<id>/blog/2018/06/06/synapse-v0-31-0-released/</id>
		<content type="html">&lt;p&gt;Good people, it&#x27;s release time.&lt;&#x2F;p&gt;
&lt;p&gt;With the core team focusing on upcoming performance work and GDPR management tooling, v0.31.0 is most notable for improvements to system stats. Additionally, work continues on our py3 port and a host of small bug fixes and perf improvements.&lt;&#x2F;p&gt;
&lt;p&gt;Get it now from¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.31.0&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.31.0&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h4&gt;Changes in synapse v0.31.0 (2018-06-06)&lt;&#x2F;h4&gt;
Most notable change from v0.30.0 is to switch to python prometheus library to improve system stats reporting. WARNING this changes a number of prometheus metrics in a backwards-incompatible manner. For more details, see&lt;code&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;master&#x2F;docs&#x2F;metrics-howto.rst&quot;&gt;docs&#x2F;metrics-howto.rst&lt;&#x2F;a&gt;&lt;&#x2F;code&gt;
&lt;p&gt;Bug Fixes:&lt;&#x2F;p&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix metric documentation tables (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3341&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;329315777&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3341&quot;&gt;#3341&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix LaterGuage error handling (&lt;a class=&quot;commit-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;commit&#x2F;694968fa81aab4eac81309b1e16f6063103dd57f&quot;&gt;&lt;tt&gt;694968f&lt;&#x2F;tt&gt;&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix replication metrics (&lt;a class=&quot;commit-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;commit&#x2F;b7e7fd2d0edd4d46aaf9d6afc8df14cf3de911f9&quot;&gt;&lt;tt&gt;b7e7fd2&lt;&#x2F;tt&gt;&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4&gt;Changes in synapse v0.31.0-rc1 (2018-06-04)&lt;&#x2F;h4&gt;
Features:
&lt;ul&gt;
 	&lt;li&gt;Switch to the Python Prometheus library (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3256&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325104990&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3256&quot;&gt;#3256&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3274&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325830300&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3274&quot;&gt;#3274&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Let users leave the server notice room after joining (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3287&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;326461744&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3287&quot;&gt;#3287&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Changes:
&lt;ul&gt;
 	&lt;li&gt;daily user type phone home stats (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3264&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325386403&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3264&quot;&gt;#3264&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Use iter* methods for _filter_events_for_server (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3267&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325614605&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3267&quot;&gt;#3267&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Docs on consent bits (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3268&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325692950&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3268&quot;&gt;#3268&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove users from user directory on deactivate (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3277&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;326163134&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3277&quot;&gt;#3277&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Avoid sending consent notice to guest users (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3288&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;326470814&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3288&quot;&gt;#3288&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;disable CPUMetrics if no &#x2F;proc&#x2F;self&#x2F;stat (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3299&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;327143395&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3299&quot;&gt;#3299&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add local and loopback IPv6 addresses to url_preview_ip_range_blacklist (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3312&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;327707583&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3312&quot;&gt;#3312&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;thegcat&quot; data-hovercard-user-id=&quot;22835&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@thegcat&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Consistently use six&#x27;s iteritems and wrap lazy keys&#x2F;values in list() if they&#x27;re not meant to be lazy (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3307&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;327587988&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3307&quot;&gt;#3307&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add private IPv6 addresses to example config for url preview blacklist (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3317&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;328463163&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3317&quot;&gt;#3317&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;thegcat&quot; data-hovercard-user-id=&quot;22835&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@thegcat&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Reduce stuck read-receipts: ignore depth when updating (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3318&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;328480595&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3318&quot;&gt;#3318&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Put python&#x27;s logs into Trial when running unit tests (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3319&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;328483239&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3319&quot;&gt;#3319&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Changes, python 3 migration:
&lt;ul&gt;
 	&lt;li&gt;Replace some more comparisons with six (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3243&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324637327&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3243&quot;&gt;#3243&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;replace some iteritems with six (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3244&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324637417&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3244&quot;&gt;#3244&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Add batch_iter to utils (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3245&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324637631&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3245&quot;&gt;#3245&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;use repr, not str (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3246&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324637830&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3246&quot;&gt;#3246&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Misc Python3 fixes (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3247&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324638685&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3247&quot;&gt;#3247&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Py3 storage&#x2F;_base.py (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3278&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;326199044&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3278&quot;&gt;#3278&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;more six iteritems (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3279&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;326236209&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3279&quot;&gt;#3279&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;More Misc. py3 fixes (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3280&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;326237427&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3280&quot;&gt;#3280&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;remaining isintance fixes (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3281&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;326248255&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3281&quot;&gt;#3281&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;py3-ize state.py (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3283&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;326249587&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3283&quot;&gt;#3283&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;extend tox testing for py3 to avoid regressions (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3302&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;327341929&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3302&quot;&gt;#3302&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;krombel&quot; data-hovercard-user-id=&quot;11167142&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@krombel&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;use memoryview in py3 (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3303&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;327370655&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3303&quot;&gt;#3303&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Bugs:
&lt;ul&gt;
 	&lt;li&gt;Fix federation backfill bugs (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3261&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325289139&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3261&quot;&gt;#3261&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;federation: fix LaterGauge usage (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3328&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;328820215&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3328&quot;&gt;#3328&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;intelfx&quot; data-hovercard-user-id=&quot;1158172&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@intelfx&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse v0.30.0 released today!</title>
		<published>2018-05-24T00:00:00+00:00</published>
		<updated>2018-05-24T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/05/24/synapse-0-30-0-released-today/" type="text/html"/>
		<id>/blog/2018/05/24/synapse-0-30-0-released-today/</id>
		<content type="html">&lt;p&gt;It&#x27;s release o&#x27;clock - GDPR time!!!!&lt;&#x2F;p&gt;
&lt;p&gt;v0.30.0 sees the introduction of &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;master&#x2F;docs&#x2F;server_notices.md&quot;&gt;Server Notices&lt;&#x2F;a&gt;, which provides a channel whereby server administrators can send messages to users on the server, as well as &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;master&#x2F;docs&#x2F;consent_tracking.md&quot;&gt;Consent Management&lt;&#x2F;a&gt;¬†for tracking whether users have agreed to the terms and conditions set by the administrator of a server - and blocking access to the server until they have.&lt;&#x2F;p&gt;
&lt;p&gt;In conjunction these features support GDPR compliance in the form of providing a client agnostic means to contact users and ask for consent&#x2F;agreement to a Privacy Notice.&lt;&#x2F;p&gt;
&lt;p&gt;For more information about our approach to GDPR compliance take a look &lt;a href=&quot;&#x2F;blog&#x2F;2018&#x2F;05&#x2F;08&#x2F;gdpr-compliance-in-matrix&#x2F;&quot;&gt;here&lt;&#x2F;a&gt;¬†(although be aware that our position has evolved a bit; see the upcoming new privacy policy for the Matrix.org homeserver for details).&lt;&#x2F;p&gt;
&lt;p&gt;Additionally there are a host of bug fixes and refactors as well as an enhancement to our Dockerfile.&lt;&#x2F;p&gt;
&lt;p&gt;Get it now from¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.30.0&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.30.0&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;div class=&quot;release clearfix label-latest&quot;&gt;
&lt;div class=&quot;release-body commit open float-left&quot;&gt;
&lt;div class=&quot;markdown-body&quot;&gt;
&lt;h2&gt;Changes in synapse v0.30.0 (2018-05-24)&lt;&#x2F;h2&gt;
&#x27;Server Notices&#x27; are a new feature introduced in Synapse 0.30. They provide a
channel whereby server administrators can send messages to users on the server.
&lt;p&gt;They are used as part of communication of the server policies (see &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;master&#x2F;docs&#x2F;consent_tracking.md&quot;&gt;Consent Tracking&lt;&#x2F;a&gt;),
however the intention is that they may also find a use for features such
as &amp;quot;Message of the day&amp;quot;.&lt;&#x2F;p&gt;
&lt;p&gt;This feature is specific to Synapse, but uses standard Matrix communication mechanisms,
so should work with any Matrix client. For more details see &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;master&#x2F;docs&#x2F;server_notices.md&quot;&gt;here&lt;&#x2F;a&gt;.¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;blob&#x2F;master&#x2F;docs&#x2F;server_notices.md&quot;&gt;&lt;code&gt;&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Further Server Notices&#x2F;Consent Tracking Support:&lt;&#x2F;p&gt;
&lt;ul&gt;
 	&lt;li&gt;Allow overriding the server_notices user&#x27;s avatar (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3273&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325788990&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3273&quot;&gt;#3273&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Use the localpart in the consent uri (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3272&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325732749&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3272&quot;&gt;#3272&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Support for putting %(consent_uri)s in messages (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3271&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325731335&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3271&quot;&gt;#3271&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Block attempts to send server notices to remote users (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3270&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325706652&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3270&quot;&gt;#3270&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Docs on consent bits (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3268&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325692950&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3268&quot;&gt;#3268&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;release clearfix label-prerelease&quot;&gt;
&lt;div class=&quot;release-body commit open float-left&quot;&gt;
&lt;div class=&quot;markdown-body&quot;&gt;
&lt;h3&gt;Changes in synapse v0.30.0-rc1 (2018-05-23)&lt;&#x2F;h3&gt;
GDPR Support:
&lt;ul&gt;
 	&lt;li&gt;ConsentResource to gather policy consent from users (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3213&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;322329950&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3213&quot;&gt;#3213&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Move RoomCreationHandler out of synapse.handlers.Handlers (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3225&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;323966891&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3225&quot;&gt;#3225&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Infrastructure for a server notices room (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3232&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324110323&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3232&quot;&gt;#3232&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Send users a server notice about consent (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3236&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324363121&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3236&quot;&gt;#3236&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Reject attempts to send event before privacy consent is given (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3257&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325182001&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3257&quot;&gt;#3257&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add a &#x27;has_consented&#x27; template var to consent forms (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3262&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325308498&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3262&quot;&gt;#3262&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix dependency on jinja2 (PR¬†&lt;a class=&quot;issue-link js-issue-link tooltipped tooltipped-ne&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3263&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325308826&quot; data-permission-text=&quot;Issue title is private&quot; aria-label=&quot;#3263, Fix dependency on jinja2&quot;&gt;#3263&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Features:
&lt;ul&gt;
 	&lt;li&gt;Cohort analytics (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3163&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;319174463&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3163&quot;&gt;#3163&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3241&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324442563&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3241&quot;&gt;#3241&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3251&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324872139&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3251&quot;&gt;#3251&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add lxml to docker image for web previews (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3239&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324408394&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3239&quot;&gt;#3239&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ptman&quot; data-hovercard-user-id=&quot;24669&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@ptman&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Add in flight request metrics (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3252&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324955805&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3252&quot;&gt;#3252&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Changes:
&lt;ul&gt;
 	&lt;li&gt;Remove unused¬†&lt;code&gt;update_external_syncs&lt;&#x2F;code&gt;¬†(PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3233&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324114741&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3233&quot;&gt;#3233&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Use stream rather depth ordering for push actions (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3212&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;322319018&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3212&quot;&gt;#3212&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Make purge_history operate on tokens (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3221&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;323268684&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3221&quot;&gt;#3221&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Don&#x27;t support limitless pagination (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3265&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325389253&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3265&quot;&gt;#3265&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Bug Fixes:
&lt;ul&gt;
 	&lt;li&gt;Fix logcontext resource usage tracking (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3258&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;325229997&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3258&quot;&gt;#3258&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix error in handling receipts (PR¬†&lt;a class=&quot;issue-link js-issue-link tooltipped tooltipped-ne&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3235&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324313546&quot; data-permission-text=&quot;Issue title is private&quot; aria-label=&quot;#3235, Fix error in handling receipts&quot;&gt;#3235&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Stop the transaction cache caching failures (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3255&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;324972872&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3255&quot;&gt;#3255&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.29.1 Released!</title>
		<published>2018-05-18T00:00:00+00:00</published>
		<updated>2018-05-18T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/05/18/synapse-0-29-1/" type="text/html"/>
		<id>/blog/2018/05/18/synapse-0-29-1/</id>
		<content type="html">&lt;p&gt;It&#x27;s release time people, not to be outdone by our friends on the &lt;a href=&quot;https:&#x2F;&#x2F;medium.com&#x2F;@RiotChat&#x2F;stickers-are-here-introducing-riot-im-0-15-for-web-desktop-284c32b93acc&quot;&gt;Riot web team&lt;&#x2F;a&gt;, Synapse v0.29.1 lands today.&lt;&#x2F;p&gt;
&lt;p&gt;v0.29.1 contains an officially supported docker image¬†(many thanks to the contribution from¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;kaiyou&quot;&gt;@kaiyou&lt;&#x2F;a&gt;), continued progress towards Python 3 (thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;) - as well as a heap of refactorings and bug fixes.&lt;&#x2F;p&gt;
&lt;p&gt;Something worth noting is a potentially breaking change in the error code that &#x2F;login returns in the Client Server API. Details follow, but the change closes a gap between Synapse behaviour and the spec.&lt;&#x2F;p&gt;
&lt;p&gt;We&#x27;d like to give huge thanks to Silvio Fricke and Andreas Peters for writing and maintaining &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;AVENTER-UG&#x2F;docker-matrix&quot;&gt;Synapse&#x27;s first Dockerfile&lt;&#x2F;a&gt;, as well as¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;allmende&#x2F;docker-synapse&quot;&gt;allmende&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;jcgruenhage&#x2F;docker-synapse&quot;&gt;jcgruenhage&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ptman&#x2F;synapse-docker&quot;&gt;ptman&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;ilianaw&#x2F;dockerfiles&#x2F;tree&#x2F;master&#x2F;synapse&quot;&gt;ilianaw&lt;&#x2F;a&gt; for theirs!¬† The new Dockerfile from kaiyou has ended up being merged into the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;tree&#x2F;master&#x2F;contrib&#x2F;docker&quot;&gt;main synapse tree&lt;&#x2F;a&gt; and we&#x27;re going to try to maintain it going forwards, but folks should use whichever one they prefer.&lt;&#x2F;p&gt;
&lt;p&gt;You can pick it up from¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.29.1&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.29.1&lt;&#x2F;a&gt; and thanks to everyone who tested the release candidate.&lt;&#x2F;p&gt;
&lt;h2&gt;Changes in synapse v0.29.1 (2018-05-17)&lt;&#x2F;h2&gt;
Changes:
&lt;ul&gt;
 	&lt;li&gt;Update docker documentation (PR &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3222&quot;&gt;#3222&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3&gt;Changes in synapse v0.29.0 (2018-05-16)&lt;&#x2F;h3&gt;
No changes since v0.29.0-rc1
&lt;h3&gt;Changes in synapse v0.29.0-rc1 (2018-05-14)&lt;&#x2F;h3&gt;
Potentially breaking change:
&lt;ul&gt;
 	&lt;li&gt;Make Client-Server API return 401 for invalid token (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3161&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;319022836&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3161&quot;&gt;#3161&lt;&#x2F;a&gt;).This changes the Client-server spec to return a 401 error code instead of 403 when the access token is unrecognised. This is the behaviour required by the specification, but some clients may be relying on the old, incorrect behaviour.Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;¬†for fixing this.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Features:
&lt;ul&gt;
 	&lt;li&gt;Add a Dockerfile for synapse (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2846&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;294138160&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2846&quot;&gt;#2846&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;kaiyou&quot; data-hovercard-user-id=&quot;847861&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@kaiyou&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Changes - General:
&lt;ul&gt;
 	&lt;li&gt;nuke-room-from-db.sh: added postgresql option and help (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2337&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;240936932&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2337&quot;&gt;#2337&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;rubo77&quot; data-hovercard-user-id=&quot;1591563&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@rubo77&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Part user from rooms on account deactivate (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3201&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;321584384&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3201&quot;&gt;#3201&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Make &#x27;unexpected logging context&#x27; into warnings (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3007&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;305674363&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3007&quot;&gt;#3007&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Set Server header in SynapseRequest (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3208&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;322021667&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3208&quot;&gt;#3208&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;remove duplicates from groups tables (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3129&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;317640994&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3129&quot;&gt;#3129&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve exception handling for background processes (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3138&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318353806&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3138&quot;&gt;#3138&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add missing consumeErrors to improve exception handling (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3139&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318354891&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3139&quot;&gt;#3139&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;reraise exceptions more carefully (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3142&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318362067&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3142&quot;&gt;#3142&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove redundant call to preserve_fn (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3143&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318369685&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3143&quot;&gt;#3143&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Trap exceptions thrown within run_in_background (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3144&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318372621&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3144&quot;&gt;#3144&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Changes - Refactors:
&lt;ul&gt;
 	&lt;li&gt;Refactor &#x2F;context to reuse pagination storage functions (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3193&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;321240389&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3193&quot;&gt;#3193&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor recent events func to use pagination func (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3195&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;321511701&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3195&quot;&gt;#3195&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor pagination DB API to return concrete type (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3196&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;321514152&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3196&quot;&gt;#3196&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor get_recent_events_for_room return type (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3198&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;321524525&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3198&quot;&gt;#3198&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor sync APIs to reuse pagination API (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3199&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;321556855&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3199&quot;&gt;#3199&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove unused code path from member change DB func (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3200&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;321572270&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3200&quot;&gt;#3200&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor request handling wrappers (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3203&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;321896316&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3203&quot;&gt;#3203&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;transaction_id, destination defined twice (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3209&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;322050253&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3209&quot;&gt;#3209&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;damir-manapov&quot; data-hovercard-user-id=&quot;84543&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@damir-manapov&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor event storage to prepare for changes in state calculations (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3141&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318360848&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3141&quot;&gt;#3141&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Set Server header in SynapseRequest (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3208&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;322021667&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3208&quot;&gt;#3208&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Use deferred.addTimeout instead of time_bound_deferred (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3127&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;316624675&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3127&quot;&gt;#3127&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3178&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;319723346&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3178&quot;&gt;#3178&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Use run_in_background in preference to preserve_fn (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3140&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318358846&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3140&quot;&gt;#3140&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Changes - Python 3 migration:
&lt;ul&gt;
 	&lt;li&gt;Construct HMAC as bytes on py3 (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3156&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318672814&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3156&quot;&gt;#3156&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;run config tests on py3 (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3159&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318819505&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3159&quot;&gt;#3159&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Open certificate files as bytes (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3084&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;312978895&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3084&quot;&gt;#3084&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Open config file in non-bytes mode (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3085&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;312979176&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3085&quot;&gt;#3085&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Make event properties raise AttributeError instead (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3102&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314438601&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3102&quot;&gt;#3102&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Use six.moves.urlparse (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3108&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314444112&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3108&quot;&gt;#3108&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Add py3 tests to tox with folders that work (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3145&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318431714&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3145&quot;&gt;#3145&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Don&#x27;t yield in list comprehensions (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3150&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318628803&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3150&quot;&gt;#3150&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Move more xrange to six (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3151&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318628945&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3151&quot;&gt;#3151&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;make imports local (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3152&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318629082&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3152&quot;&gt;#3152&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;move httplib import to six (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3153&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318629172&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3153&quot;&gt;#3153&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Replace stringIO imports with six (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3154&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318629362&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3154&quot;&gt;#3154&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3168&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;319453092&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3168&quot;&gt;#3168&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;more bytes strings (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3155&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318672504&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3155&quot;&gt;#3155&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Bug Fixes:
&lt;ul&gt;
 	&lt;li&gt;synapse fails to start under Twisted &amp;gt;= 18.4 (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3157&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318721696&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3157&quot;&gt;#3157&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Half-Shot&quot; data-hovercard-user-id=&quot;2072976&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@Half-Shot&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix a class of logcontext leaks (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3170&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;319506071&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3170&quot;&gt;#3170&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix a couple of logcontext leaks in unit tests (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3172&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;319584239&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3172&quot;&gt;#3172&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix logcontext leak in media repo (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3174&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;319596214&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3174&quot;&gt;#3174&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Escape label values in prometheus metrics (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3175&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;319611493&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3175&quot;&gt;#3175&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3186&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;319955083&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3186&quot;&gt;#3186&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix &#x27;Unhandled Error&#x27; logs with Twisted 18.4 (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3182&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;319867481&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3182&quot;&gt;#3182&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Half-Shot&quot; data-hovercard-user-id=&quot;2072976&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@Half-Shot&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix logcontext leaks in rate limiter (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3183&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;319883299&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3183&quot;&gt;#3183&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;notifications: Convert next_token to string according to the spec (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3190&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;320496620&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3190&quot;&gt;#3190&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;mujx&quot; data-hovercard-user-id=&quot;6430350&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@mujx&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;nuke-room-from-db.sh: fix deletion from search table (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3194&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;321366575&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3194&quot;&gt;#3194&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;rubo77&quot; data-hovercard-user-id=&quot;1591563&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@rubo77&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;add guard for None on purge_history api (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3160&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;318873877&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3160&quot;&gt;#3160&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;krombel&quot; data-hovercard-user-id=&quot;11167142&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot; aria-describedby=&quot;hovercard-aria-description&quot;&gt;@krombel&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.28.0 Released!</title>
		<published>2018-04-27T00:00:00+00:00</published>
		<updated>2018-04-27T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/04/27/synapse-0-28-0-released/" type="text/html"/>
		<id>/blog/2018/04/27/synapse-0-28-0-released/</id>
		<content type="html">&lt;p&gt;Well now, today sees the release of Synapse 0.28.0!&lt;&#x2F;p&gt;
&lt;p&gt;This release is particularly exciting as it&#x27;s a major bump mainly thanks to lots and lots of contributions from the wider community - including support for running Synapse on PyPy (thanks Valodim) and lots of progress towards official Python3 support (thanks notafile)!! However, almost all the changes are under the hood (and some are quite major), so this is more a performance, bugfix and synapse internals release rather than adding many new APIs or features&lt;&#x2F;p&gt;
&lt;p&gt;As always, you can get it from¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.28.0&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.28.0&lt;&#x2F;a&gt;¬†and thanks to everyone who tested the release candidates.&lt;&#x2F;p&gt;
&lt;h3&gt;Changes in synapse v0.28.0 (2018-04-26)&lt;&#x2F;h3&gt;
Bug Fixes:
&lt;ul&gt;
 	&lt;li&gt;Fix quarantine media admin API and search reindex (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3130&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;317646661&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3130&quot;&gt;#3130&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix media admin APIs (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3134&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;317969752&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3134&quot;&gt;#3134&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3&gt;Changes in synapse v0.28.0-rc1 (2018-04-24)&lt;&#x2F;h3&gt;
Minor performance improvement to federation sending and bug fixes.
&lt;p&gt;(Note: This release does not include state resolutions discussed in matrix live)&lt;&#x2F;p&gt;
&lt;p&gt;Features:&lt;&#x2F;p&gt;
&lt;ul&gt;
 	&lt;li&gt;Add metrics for event processing lag (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3090&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;313326931&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3090&quot;&gt;#3090&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add metrics for ResponseCache (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3092&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;313664599&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3092&quot;&gt;#3092&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Changes:
&lt;ul&gt;
 	&lt;li&gt;Synapse on PyPy (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2760&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;286622617&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2760&quot;&gt;#2760&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Valodim&quot; data-hovercard-user-id=&quot;27813&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot;&gt;@Valodim&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;move handling of auto_join_rooms to RegisterHandler (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2996&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;305218362&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2996&quot;&gt;#2996&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;krombel&quot; data-hovercard-user-id=&quot;11167142&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot;&gt;@krombel&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve handling of SRV records for federation connections (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3016&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;306884886&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3016&quot;&gt;#3016&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;silkeh&quot; data-hovercard-user-id=&quot;5798032&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot;&gt;@silkeh&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Document the behaviour of ResponseCache (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3059&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;311125652&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3059&quot;&gt;#3059&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Preparation for py3 (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3061&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;311182479&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3061&quot;&gt;#3061&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3073&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;312120046&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3073&quot;&gt;#3073&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3074&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;312126869&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3074&quot;&gt;#3074&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3075&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;312144464&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3075&quot;&gt;#3075&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3103&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314439691&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3103&quot;&gt;#3103&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3104&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314439972&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3104&quot;&gt;#3104&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3106&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314440233&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3106&quot;&gt;#3106&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3107&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314440492&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3107&quot;&gt;#3107&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3109&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314459327&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3109&quot;&gt;#3109&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3110&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314459750&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3110&quot;&gt;#3110&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;update prometheus dashboard to use new metric names (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3069&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;311770477&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3069&quot;&gt;#3069&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;krombel&quot; data-hovercard-user-id=&quot;11167142&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot;&gt;@krombel&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;use python3-compatible prints (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3074&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;312126869&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3074&quot;&gt;#3074&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Send federation events concurrently (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3078&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;312485229&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3078&quot;&gt;#3078&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Limit concurrent event sends for a room (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3079&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;312488812&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3079&quot;&gt;#3079&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve R30 stat definition (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3086&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;313004914&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3086&quot;&gt;#3086&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Send events to ASes concurrently (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3088&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;313232647&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3088&quot;&gt;#3088&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor ResponseCache usage (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3093&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;313696664&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3093&quot;&gt;#3093&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Clarify that SRV may not point to a CNAME (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3100&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314327149&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3100&quot;&gt;#3100&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;silkeh&quot; data-hovercard-user-id=&quot;5798032&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot;&gt;@silkeh&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Use str(e) instead of e.message (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3103&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314439691&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3103&quot;&gt;#3103&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Use six.itervalues in some places (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3106&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314440233&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3106&quot;&gt;#3106&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Refactor store.have_events (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3117&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;315159849&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3117&quot;&gt;#3117&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Bug Fixes:
&lt;ul&gt;
 	&lt;li&gt;Return 401 for invalid access_token on logout (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2938&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;301972886&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2938&quot;&gt;#2938&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;dklug&quot; data-hovercard-user-id=&quot;8633205&quot; data-octo-click=&quot;hovercard-link-click&quot; data-octo-dimensions=&quot;link_type:self&quot;&gt;@dklug&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Return a 404 rather than a 500 on rejoining empty rooms (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3080&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;312501677&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3080&quot;&gt;#3080&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;fix federation_domain_whitelist (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3099&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314137025&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3099&quot;&gt;#3099&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Avoid creating events with huge numbers of prev_events (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3113&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;314753743&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3113&quot;&gt;#3113&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Reject events which have lots of prev_events (PR¬†&lt;a class=&quot;issue-link js-issue-link tooltipped tooltipped-ne&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3118&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;315273891&quot; data-permission-text=&quot;Issue title is private&quot;&gt;#3118&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&amp;nbsp;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.27.3 released!</title>
		<published>2018-04-11T00:00:00+00:00</published>
		<updated>2018-04-11T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/04/11/synapse-0-27-3-released/" type="text/html"/>
		<id>/blog/2018/04/11/synapse-0-27-3-released/</id>
		<content type="html">&lt;p&gt;Today we release Synapse 0.27.3!&lt;&#x2F;p&gt;
&lt;p&gt;Hot on the heels of 0.27.2, notable changes include API support for joining groups&#x2F;communities as well as a major bug fix (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3082&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;312859684&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3082&quot;&gt;#3082&lt;&#x2F;a&gt;), that is particularly important for those upgrading for the first time in a while. Also new metrics and phone home stats. Phone home stats include better visibility of system usage so we can have a better idea of how synapse&#x27;s RAM and CPU is behaving in the wild. Also, recording the number of users on the server who have been using it for at least 30 days.&lt;&#x2F;p&gt;
&lt;p&gt;Phone home stats are entirely optional and can be enabled&#x2F;disabled by setting &amp;quot;&lt;span class=&quot;s1&quot;&gt;report_&lt;&#x2F;span&gt;
&lt;span class=&quot;s2&quot;&gt;stat&lt;&#x2F;span&gt;
&lt;span class=&quot;s1&quot;&gt;s&amp;quot; in homeserver.yaml.¬†&lt;&#x2F;span&gt;
Please consider enabling phone home stats if you currently have not done so - this data is really important to us in improving Matrix as a whole (and justifying future funding for¬†&lt;a class=&quot;linkified&quot; href=&quot;http:&#x2F;&#x2F;matrix.org&#x2F;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Matrix.org&lt;&#x2F;a&gt;).&lt;&#x2F;p&gt;
&lt;p&gt;As always, you can get it from¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.27.3&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.27.3&lt;&#x2F;a&gt; and thanks to everyone who tested the release candidates.&lt;&#x2F;p&gt;
&lt;h3&gt;Changes in synapse v0.27.3 (2018-04-11)&lt;&#x2F;h3&gt;
Bug fixes:
&lt;ul&gt;
 	&lt;li&gt;URL quote path segments over federation (&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3082&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;312859684&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3082&quot;&gt;#3082&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3&gt;Changes in synapse v0.27.3-rc2 (2018-04-09)&lt;&#x2F;h3&gt;
v0.27.3-rc1 used a stale version of the develop branch so the changelog overstates
the functionality. v0.27.3-rc2 is up to date, rc1 should be ignored.
&lt;h3&gt;Changes in synapse v0.27.3-rc1 (2018-04-09)&lt;&#x2F;h3&gt;
Notable changes include API support for joinability of groups. Also new metrics
and phone home stats. Phone home stats include better visibility of system usage
so we can tweak synpase to work better for all users rather than our own experience
with matrix.org. Also, recording &#x27;r30&#x27; stat which is the measure we use to track
overall growth of the Matrix ecosystem. It is defined as:-
&lt;p&gt;Counts the number of native 30 day retained users, defined as:-&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Users who have created their accounts more than 30 days&lt;&#x2F;li&gt;
&lt;li&gt;Where last seen at most 30 days ago&lt;&#x2F;li&gt;
&lt;li&gt;Where account creation and last_seen are &amp;gt; 30 days&amp;quot;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Features:&lt;&#x2F;p&gt;
&lt;ul&gt;
 	&lt;li&gt;Add joinability for groups (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3045&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;309358488&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3045&quot;&gt;#3045&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Implement group join API (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3046&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;309437433&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3046&quot;&gt;#3046&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add counter metrics for calculating state delta (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3033&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;308901076&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3033&quot;&gt;#3033&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;R30 stats (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3041&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;309293623&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3041&quot;&gt;#3041&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Measure time it takes to calculate state group ID (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3043&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;309312509&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3043&quot;&gt;#3043&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add basic performance statistics to phone home (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3044&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;309323226&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3044&quot;&gt;#3044&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add response size metrics (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3071&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;311954815&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3071&quot;&gt;#3071&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;phone home cache size configurations (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3063&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;311248683&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3063&quot;&gt;#3063&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Changes:
&lt;ul&gt;
 	&lt;li&gt;Add a blurb explaining the main synapse worker (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2886&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;298059141&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2886&quot;&gt;#2886&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;turt2live&quot; data-hovercard-user-id=&quot;1190097&quot;&gt;@turt2live&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Replace old style error catching with &#x27;as&#x27; keyword (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3000&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;305290730&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3000&quot;&gt;#3000&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;NotAFile&quot; data-hovercard-user-id=&quot;5447747&quot;&gt;@NotAFile&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Use .iter* to avoid copies in StateHandler (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3006&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;305656885&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3006&quot;&gt;#3006&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Linearize calls to _generate_user_id (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3029&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;308526745&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3029&quot;&gt;#3029&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove last usage of ujson (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3030&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;308552644&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3030&quot;&gt;#3030&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Use simplejson throughout (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3048&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;309920407&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3048&quot;&gt;#3048&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Use static JSONEncoders (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3049&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;309920728&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3049&quot;&gt;#3049&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove uses of events.content (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3060&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;311128650&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3060&quot;&gt;#3060&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve database cache performance (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3068&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;311658915&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3068&quot;&gt;#3068&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Bug fixes:
&lt;ul&gt;
 	&lt;li&gt;Add room_id to the response of¬†&lt;code&gt;rooms&#x2F;{&#x27;{&#x27;}roomId{&#x27;}&#x27;}&#x2F;join&lt;&#x2F;code&gt;¬†(PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2986&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;304772714&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2986&quot;&gt;#2986&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;jplatte&quot; data-hovercard-user-id=&quot;951129&quot;&gt;@jplatte&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix replication after switch to simplejson (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3015&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;306553712&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3015&quot;&gt;#3015&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix replication after switch to simplejson (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3015&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;306553712&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3015&quot;&gt;#3015&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;404 correctly on missing paths via NoResource (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3022&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;307976332&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3022&quot;&gt;#3022&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix error when claiming e2e keys from offline servers (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3034&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;309039857&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3034&quot;&gt;#3034&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;fix tests&#x2F;storage&#x2F;test_user_directory.py (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3042&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;309299280&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3042&quot;&gt;#3042&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;use PUT instead of POST for federating groups&#x2F;m.join_policy (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3070&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;311932835&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3070&quot;&gt;#3070&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;krombel&quot; data-hovercard-user-id=&quot;11167142&quot;&gt;@krombel&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;postgres port script: fix state_groups_pkey error (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3072&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;311965025&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3072&quot;&gt;#3072&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.27 released!</title>
		<published>2018-03-26T00:00:00+00:00</published>
		<updated>2018-03-26T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2018/03/26/synapse-0-27-2-released/" type="text/html"/>
		<id>/blog/2018/03/26/synapse-0-27-2-released/</id>
		<content type="html">&lt;div class=&quot;release clearfix label-latest&quot;&gt;
&lt;div class=&quot;release-body commit open float-left&quot;&gt;
&lt;div class=&quot;release-header&quot;&gt;
&lt;div class=&quot;release clearfix label-latest&quot;&gt;
&lt;div class=&quot;release-body commit open float-left&quot;&gt;
&lt;div class=&quot;release-header&quot;&gt;
&lt;p class=&quot;release-title text-normal&quot;&gt;We released Synapse v0.27.2 today (the first stable release in the 0.27.x series) - it contains loads of work since Synapse v0.26 back in January.¬† The main highlights are:&lt;&#x2F;p&gt;
&lt;ul&gt;
 	&lt;li class=&quot;release-title text-normal&quot;&gt;All the perf improvements which we&#x27;ve been landing as we race to keep the matrix.org homeserver in the face of ever-expanding traffic levels over the last few months&lt;&#x2F;li&gt;
 	&lt;li class=&quot;release-title text-normal&quot;&gt;Support for custom storage providers for media repository.&lt;&#x2F;li&gt;
 	&lt;li class=&quot;release-title text-normal&quot;&gt;Ability to limit the email addresses allowed to register on your HS, and ability to limit the homeservers your homeserver is allowed to federate with&lt;&#x2F;li&gt;
 	&lt;li class=&quot;release-title text-normal&quot;&gt;All new purge API - letting you purge history by date as well as by event (and having a nice new async way of doing it)&lt;&#x2F;li&gt;
 	&lt;li class=&quot;release-title text-normal&quot;&gt;Make search work again!!! (by switching from GIST to GIN indexes)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
And a few release notes worth calling out:
&lt;ul&gt;
 	&lt;li&gt;The common case for running Synapse is not to run separate workers, but for those that do, be aware that synctl no longer starts the main synapse when using¬†&lt;code&gt;-a&lt;&#x2F;code&gt;¬†option with workers. A new worker file should be added with¬†&lt;code&gt;worker_app: synapse.app.homeserver&lt;&#x2F;code&gt;.&lt;&#x2F;li&gt;
 	&lt;li&gt;This release also begins the process of renaming a number of the metrics reported to prometheus. See¬†&lt;code&gt;docs&#x2F;metrics-howto.rst¬†&lt;&#x2F;code&gt;
Note that the v0.28.0 release will remove the deprecated metric names.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;div&gt;
As always, you can get it from¬†&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.27.2&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v0.27.2&lt;&#x2F;a&gt;
&lt;&#x2F;div&gt;
&amp;nbsp;
&lt;p&gt;thanks for flying Matrix!&lt;&#x2F;p&gt;
&lt;div class=&quot;release-body commit open float-left&quot;&gt;
&lt;div class=&quot;release-header&quot;&gt;
&lt;h3 class=&quot;f5 text-gray mt-1 mb-4&quot;&gt;&lt;&#x2F;h3&gt;
&lt;h3 class=&quot;f5 text-gray mt-1 mb-4&quot;&gt;Changes in synapse v0.27.2 (2018-03-26)&lt;&#x2F;h3&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;markdown-body&quot;&gt;
&lt;p&gt;Bug fixes:&lt;&#x2F;p&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix bug which broke TCP replication between workers (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3015&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;306553712&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3015&quot;&gt;#3015&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;release clearfix label-&quot;&gt;
&lt;div class=&quot;release-body commit open float-left&quot;&gt;
&lt;div class=&quot;markdown-body&quot;&gt;
&lt;h3&gt;&lt;&#x2F;h3&gt;
&lt;h3&gt;Changes in synapse v0.27.1 (2018-03-26)&lt;&#x2F;h3&gt;
Meta release as v0.27.0 temporarily pointed to the wrong commit
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;release clearfix label-&quot;&gt;
&lt;div class=&quot;release-body commit open float-left&quot;&gt;
&lt;div class=&quot;markdown-body&quot;&gt;
&lt;h3&gt;&lt;&#x2F;h3&gt;
&lt;h3&gt;Changes in synapse v0.27.0 (2018-03-26)&lt;&#x2F;h3&gt;
No changes since v0.27.0-rc2
&lt;h3&gt;&lt;&#x2F;h3&gt;
&lt;h3&gt;Changes in synapse v0.27.0-rc2 (2018-03-19)&lt;&#x2F;h3&gt;
Pulls in v0.26.1
&lt;p&gt;Bug fixes:&lt;&#x2F;p&gt;
&lt;ul&gt;
 	&lt;li&gt;Fix bug introduced in v0.27.0-rc1 that causes much increased memory usage in state cache (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;3005&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;305611773&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;3005&quot;&gt;#3005&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3&gt;&lt;&#x2F;h3&gt;
&lt;h3&gt;Changes in synapse v0.27.0-rc1 (2018-03-14)&lt;&#x2F;h3&gt;
The common case for running Synapse is not to run separate workers, but for those that do, be aware that synctl no longer starts the main synapse when using¬†&lt;code&gt;-a&lt;&#x2F;code&gt;¬†option with workers. A new worker file should be added with¬†&lt;code&gt;worker_app: synapse.app.homeserver&lt;&#x2F;code&gt;.
&lt;p&gt;This release also begins the process of renaming a number of the metrics
reported to prometheus. See¬†&lt;code&gt;docs&#x2F;metrics-howto.rst &amp;lt;docs&#x2F;metrics-howto.rst#block-and-response-metrics-renamed-for-0-27-0&amp;gt;&lt;&#x2F;code&gt;_.
Note that the v0.28.0 release will remove the deprecated metric names.&lt;&#x2F;p&gt;
&lt;p&gt;Features:&lt;&#x2F;p&gt;
&lt;ul&gt;
 	&lt;li&gt;Add ability for ASes to override message send time (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2754&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;286084501&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2754&quot;&gt;#2754&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add support for custom storage providers for media repository (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2867&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;297143892&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2867&quot;&gt;#2867&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2777&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288157999&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2777&quot;&gt;#2777&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2783&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288569577&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2783&quot;&gt;#2783&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2789&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288869854&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2789&quot;&gt;#2789&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2791&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288934607&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2791&quot;&gt;#2791&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2804&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;289336063&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2804&quot;&gt;#2804&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2812&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;289647722&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2812&quot;&gt;#2812&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2814&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;290067094&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2814&quot;&gt;#2814&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2857&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;295139747&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2857&quot;&gt;#2857&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2868&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;297189465&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2868&quot;&gt;#2868&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2767&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;287142685&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2767&quot;&gt;#2767&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add purge API features, see¬†&lt;code&gt;docs&#x2F;admin_api&#x2F;purge_history_api.rst &amp;lt;docs&#x2F;admin_api&#x2F;purge_history_api.rst&amp;gt;&lt;&#x2F;code&gt;_ for full details (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2858&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;295623787&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2858&quot;&gt;#2858&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2867&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;297143892&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2867&quot;&gt;#2867&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2882&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;297795332&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2882&quot;&gt;#2882&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2946&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;302323973&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2946&quot;&gt;#2946&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2962&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;303453845&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2962&quot;&gt;#2962&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2943&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;302274834&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2943&quot;&gt;#2943&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add support for whitelisting 3PIDs that users can register. (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2813&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;289822303&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2813&quot;&gt;#2813&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add¬†&lt;code&gt;&#x2F;room&#x2F;{&#x27;{&#x27;}id{&#x27;}&#x27;}&#x2F;event&#x2F;{&#x27;{&#x27;}id{&#x27;}&#x27;}&lt;&#x2F;code&gt;¬†API (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2766&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;287111856&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2766&quot;&gt;#2766&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add an admin API to get all the media in a room (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2818&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;290248966&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2818&quot;&gt;#2818&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;turt2live&quot; data-hovercard-user-id=&quot;1190097&quot;&gt;@turt2live&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Add¬†&lt;code&gt;federation_domain_whitelist&lt;&#x2F;code&gt;¬†option (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2820&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;290431422&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2820&quot;&gt;#2820&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2821&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;290535583&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2821&quot;&gt;#2821&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Changes:
&lt;ul&gt;
 	&lt;li&gt;Continue to factor out processing from main process and into worker processes. See updated¬†&lt;code&gt;docs&#x2F;workers.rst &amp;lt;docs&#x2F;metrics-howto.rst&amp;gt;&lt;&#x2F;code&gt;_ (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2892&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;298561185&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2892&quot;&gt;#2892&lt;&#x2F;a&gt;¬†-¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2904&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;299011997&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2904&quot;&gt;#2904&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2913&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;300641311&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2913&quot;&gt;#2913&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2920&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;301369053&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2920&quot;&gt;#2920&lt;&#x2F;a&gt;¬†-¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2926&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;301430108&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2926&quot;&gt;#2926&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2947&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;302345912&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2947&quot;&gt;#2947&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2847&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;294445742&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2847&quot;&gt;#2847&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2854&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;294788458&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2854&quot;&gt;#2854&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2872&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;297406819&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2872&quot;&gt;#2872&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2873&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;297453720&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2873&quot;&gt;#2873&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2874&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;297495962&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2874&quot;&gt;#2874&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2928&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;301499498&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2928&quot;&gt;#2928&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2929&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;301509586&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2929&quot;&gt;#2929&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2934&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;301790132&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2934&quot;&gt;#2934&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2856&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;295084944&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2856&quot;&gt;#2856&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2976&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;304706297&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2976&quot;&gt;#2976&lt;&#x2F;a&gt;¬†-¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2984&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;304740825&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2984&quot;&gt;#2984&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2987&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;304821270&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2987&quot;&gt;#2987&lt;&#x2F;a&gt;¬†-¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2989&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;304866716&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2989&quot;&gt;#2989&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2991&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;304872444&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2991&quot;&gt;#2991&lt;&#x2F;a&gt;¬†-¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2993&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;304884837&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2993&quot;&gt;#2993&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2995&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;305183031&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2995&quot;&gt;#2995&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2784&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288646985&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2784&quot;&gt;#2784&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Ensure state cache is used when persisting events (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2864&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;296733137&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2864&quot;&gt;#2864&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2871&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;297402993&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2871&quot;&gt;#2871&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2802&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;289312790&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2802&quot;&gt;#2802&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2835&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;292486340&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2835&quot;&gt;#2835&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2836&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;292488546&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2836&quot;&gt;#2836&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2841&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;293319852&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2841&quot;&gt;#2841&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2842&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;293516371&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2842&quot;&gt;#2842&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2849&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;294454677&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2849&quot;&gt;#2849&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Change the default config to bind on both IPv4 and IPv6 on all platforms (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2435&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;254819246&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2435&quot;&gt;#2435&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;silkeh&quot; data-hovercard-user-id=&quot;5798032&quot;&gt;@silkeh&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;No longer require a specific version of saml2 (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2695&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;275301530&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2695&quot;&gt;#2695&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;okurz&quot; data-hovercard-user-id=&quot;1693432&quot;&gt;@okurz&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove¬†&lt;code&gt;verbosity&lt;&#x2F;code&gt;&#x2F;&lt;code&gt;log_file&lt;&#x2F;code&gt;¬†from generated config (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2755&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;286276436&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2755&quot;&gt;#2755&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add and improve metrics and logging (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2770&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;287188683&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2770&quot;&gt;#2770&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2778&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288278959&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2778&quot;&gt;#2778&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2785&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288661455&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2785&quot;&gt;#2785&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2786&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288673610&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2786&quot;&gt;#2786&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2787&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288680996&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2787&quot;&gt;#2787&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2793&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288990634&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2793&quot;&gt;#2793&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2794&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288990935&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2794&quot;&gt;#2794&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2795&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288991781&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2795&quot;&gt;#2795&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2809&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;289596655&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2809&quot;&gt;#2809&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2810&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;289611347&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2810&quot;&gt;#2810&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2833&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;292478167&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2833&quot;&gt;#2833&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2834&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;292485874&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2834&quot;&gt;#2834&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2844&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;293722386&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2844&quot;&gt;#2844&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2965&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;303899583&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2965&quot;&gt;#2965&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2927&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;301458883&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2927&quot;&gt;#2927&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2975&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;304696133&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2975&quot;&gt;#2975&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2790&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288882318&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2790&quot;&gt;#2790&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2796&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;289002187&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2796&quot;&gt;#2796&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2838&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;292878012&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2838&quot;&gt;#2838&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;When using synctl with workers, don&#x27;t start the main synapse automatically (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2774&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;287752976&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2774&quot;&gt;#2774&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Minor performance improvements (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2773&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;287525837&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2773&quot;&gt;#2773&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2792&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;288956339&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2792&quot;&gt;#2792&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Use a connection pool for non-federation outbound connections (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2817&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;290150012&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2817&quot;&gt;#2817&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Make it possible to run unit tests against postgres (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2829&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;291766061&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2829&quot;&gt;#2829&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Update pynacl dependency to 1.2.1 or higher (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2888&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;298077542&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2888&quot;&gt;#2888&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;bachp&quot; data-hovercard-user-id=&quot;333807&quot;&gt;@bachp&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Remove ability for AS users to call &#x2F;events and &#x2F;sync (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2948&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;302351006&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2948&quot;&gt;#2948&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Use bcrypt.checkpw (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2949&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;302378538&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2949&quot;&gt;#2949&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;krombel&quot; data-hovercard-user-id=&quot;11167142&quot;&gt;@krombel&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Bug fixes:
&lt;ul&gt;
 	&lt;li&gt;Fix broken¬†&lt;code&gt;ldap_config&lt;&#x2F;code&gt;¬†config option (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2683&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;274548585&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2683&quot;&gt;#2683&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;seckrv&quot; data-hovercard-user-id=&quot;33725786&quot;&gt;@seckrv&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix error message when user is not allowed to unban (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2761&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;286627895&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2761&quot;&gt;#2761&lt;&#x2F;a&gt;) Thanks to¬†&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;turt2live&quot; data-hovercard-user-id=&quot;1190097&quot;&gt;@turt2live&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix publicised groups GET API (singular) over federation (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2772&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;287465272&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2772&quot;&gt;#2772&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix user directory when using¬†&lt;code&gt;user_directory_search_all_users&lt;&#x2F;code&gt;¬†config option (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2803&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;289317809&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2803&quot;&gt;#2803&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2831&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;291766486&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2831&quot;&gt;#2831&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix error on¬†&lt;code&gt;&#x2F;publicRooms&lt;&#x2F;code&gt;¬†when no rooms exist (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2827&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;291754519&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2827&quot;&gt;#2827&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix bug in quarantine_media (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2837&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;292821166&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2837&quot;&gt;#2837&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix url_previews when no Content-Type is returned from URL (PR¬†&lt;a class=&quot;issue-link js-issue-link tooltipped tooltipped-ne&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2845&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;293737258&quot; data-permission-text=&quot;Issue title is private&quot;&gt;#2845&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix rare race in sync API when joining room (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2944&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;302277324&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2944&quot;&gt;#2944&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix slow event search, switch back from GIST to GIN indexes (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2769&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;287153610&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2769&quot;&gt;#2769&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2848&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;294449553&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2848&quot;&gt;#2848&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 0.24 is here!</title>
		<published>2017-10-24T00:00:00+00:00</published>
		<updated>2017-10-24T00:00:00+00:00</updated>
		<link rel="alternate" href="/blog/2017/10/24/synapse-0-24-is-here/" type="text/html"/>
		<id>/blog/2017/10/24/synapse-0-24-is-here/</id>
		<content type="html">&lt;p&gt;Hi folks,&lt;&#x2F;p&gt;
&lt;p&gt;Synapse 0.24 is out (currently at 0.24.1)! This is a pretty big release as it includes initial support for Groups, also known as Communities (UI for which is landing currently on Riot&#x2F;Web and later Riot&#x2F;Mobile). Groups let you associate together a set of users and rooms, letting you define a community - e.g. &lt;a href=&quot;https:&#x2F;&#x2F;riot.im&#x2F;develop&#x2F;#&#x2F;group&#x2F;+matrix:matrix.org&quot;&gt;+matrix:matrix.org&lt;&#x2F;a&gt; is the community of the core Matrix project itself (whose users are the core Matrix.org team, and whose public rooms are the rooms we officially manage&#x2F;moderate as Matrix.org).¬† We&#x27;ll yell more about Groups once the UI is ready for action in the near future, but the good news is that Synapse should be ready to go (although the API is still fairly experimental and very much evolving).&lt;&#x2F;p&gt;
&lt;p&gt;Other stuff worth calling out in this release includes: massive performance improvements on receiving federation traffic (we now process federation traffic for different rooms in parallel); fixing a major cause of performance issues (caused when processing spurious events for rooms you&#x27;ve actually left); modularising and improving the the spamchecker; @room notification support; backup media repository support; and finally the ability to autojoin new users to a set of rooms on the server!&lt;&#x2F;p&gt;
&lt;p&gt;You can get the latest release from &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&quot;&gt;Github&lt;&#x2F;a&gt; as usual; have fun - and thanks for flying Matrix :)&lt;&#x2F;p&gt;
&lt;h1&gt;Changes in synapse v0.24.1 (2017-10-24)&lt;&#x2F;h1&gt;
Bug fixes:
&lt;ul&gt;
 	&lt;li&gt;Fix updating group profiles over federation (PR¬†&lt;a class=&quot;issue-link js-issue-link tooltipped tooltipped-ne&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2567&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;267687632&quot; data-permission-text=&quot;Issue title is private&quot;&gt;#2567&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h1&gt;Changes in synapse v0.24.0 (2017-10-23)&lt;&#x2F;h1&gt;
No changes since v0.24.0-rc1
&lt;h1&gt;Changes in synapse v0.24.0-rc1 (2017-10-19)&lt;&#x2F;h1&gt;
Features:
&lt;ul&gt;
 	&lt;li&gt;Add Group Server (PR¬†&lt;a class=&quot;issue-link js-issue-link tooltipped tooltipped-ne&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2352&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;241719376&quot; data-permission-text=&quot;Issue title is private&quot;&gt;#2352&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2363&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;242334015&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2363&quot;&gt;#2363&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2374&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;243375644&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2374&quot;&gt;#2374&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2377&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;244340948&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2377&quot;&gt;#2377&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2378&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;244341100&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2378&quot;&gt;#2378&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2382&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;245071091&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2382&quot;&gt;#2382&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2410&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;249656746&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2410&quot;&gt;#2410&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2426&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;251663325&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2426&quot;&gt;#2426&lt;&#x2F;a&gt;,
&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2430&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;252935837&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2430&quot;&gt;#2430&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2454&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;258756630&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2454&quot;&gt;#2454&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2471&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;260566156&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2471&quot;&gt;#2471&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2472&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;260655379&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2472&quot;&gt;#2472&lt;&#x2F;a&gt;,¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2544&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;265791503&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2544&quot;&gt;#2544&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add support for channel notifications (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2501&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;263095049&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2501&quot;&gt;#2501&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add basic implementation of backup media store (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2538&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;264965734&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2538&quot;&gt;#2538&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add config option to auto-join new users to rooms (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2545&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;265842040&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2545&quot;&gt;#2545&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Changes:
&lt;ul&gt;
 	&lt;li&gt;Make the spam checker a module (PR¬†&lt;a class=&quot;issue-link js-issue-link tooltipped tooltipped-ne&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2474&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;260721359&quot; data-permission-text=&quot;Issue title is private&quot;&gt;#2474&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Delete expired url cache data (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2478&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;261282574&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2478&quot;&gt;#2478&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Ignore incoming events for rooms that we have left (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2490&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;262374962&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2490&quot;&gt;#2490&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Allow spam checker to reject invites too (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2492&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;262416897&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2492&quot;&gt;#2492&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Add room creation checks to spam checker (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2495&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;262727329&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2495&quot;&gt;#2495&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Spam checking: add the invitee to user_may_invite (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2502&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;263117407&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2502&quot;&gt;#2502&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Process events from federation for different rooms in parallel (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2520&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;263967902&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2520&quot;&gt;#2520&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Allow error strings from spam checker (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2531&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;264590599&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2531&quot;&gt;#2531&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Improve error handling for missing files in config (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2551&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;266095819&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2551&quot;&gt;#2551&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
Bug fixes:
&lt;ul&gt;
 	&lt;li&gt;Fix handling SERVFAILs when doing AAAA lookups for federation (PR¬†&lt;a class=&quot;issue-link js-issue-link tooltipped tooltipped-ne&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2477&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;261269109&quot; data-permission-text=&quot;Issue title is private&quot;&gt;#2477&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix incompatibility with newer versions of ujson (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2483&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;261851143&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2483&quot;&gt;#2483&lt;&#x2F;a&gt;) Thanks to
&lt;a class=&quot;user-mention&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;jeremycline&quot;&gt;@jeremycline&lt;&#x2F;a&gt;!&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix notification keywords that start&#x2F;end with non-word chars (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2500&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;263077422&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2500&quot;&gt;#2500&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix stack overflow and logcontexts from linearizer (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2532&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;264600894&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2532&quot;&gt;#2532&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix 500 error when fields missing from power_levels event (PR¬†&lt;a class=&quot;issue-link js-issue-link&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2552&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;266187530&quot; data-permission-text=&quot;Issue title is private&quot; data-url=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;issues&#x2F;2552&quot;&gt;#2552&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
 	&lt;li&gt;Fix 500 error when we get an error handling a PDU (PR¬†&lt;a class=&quot;issue-link js-issue-link tooltipped tooltipped-ne&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;pull&#x2F;2553&quot; data-error-text=&quot;Failed to load issue title&quot; data-id=&quot;266256222&quot; data-permission-text=&quot;Issue title is private&quot;&gt;#2553&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
</feed>
