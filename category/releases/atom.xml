<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
	<title> - Releases</title>
	<link href="/category/releases/atom.xml" rel="self" type="application/atom+xml"/>
  <link href="/"/>
	<generator uri="https://www.getzola.org/">Zola</generator>
	<updated>2022-09-29T13:30:32+00:00</updated>
	<id>/category/releases/atom.xml</id>
	<entry xml:lang="en">
		<title>Matrix v1.4 release</title>
		<published>2022-09-29T13:30:32+00:00</published>
		<updated>2022-09-29T13:30:32+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/29/matrix-v-1-4-release/" type="text/html"/>
		<id>/blog/2022/09/29/matrix-v-1-4-release/</id>
		<content type="html">&lt;p&gt;
Hey all,
&lt;&#x2F;p&gt;
&lt;p&gt;
It‚Äôs finally here: &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.4&#x2F;client-server-api&#x2F;#threading&quot;&gt;threads&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.4&#x2F;client-server-api&#x2F;#event-replacements&quot;&gt;edits&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.4&#x2F;client-server-api&#x2F;#private-read-receipts&quot;&gt;private read receipts&lt;&#x2F;a&gt;. v1.4 has been a little later than usual in the quarter because we wanted to make sure we nailed down all the core MSCs for threads before publishing the spec itself, but we‚Äôve done that now and we‚Äôre excited about it.
&lt;&#x2F;p&gt;
&lt;p&gt;
Matrix 1.3 was &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;06&#x2F;16&#x2F;matrix-v-1-3-release&quot;&gt;just over 3 months ago&lt;&#x2F;a&gt;, though with the relatively large features there and the colossal implementation effort of v1.4 we‚Äôre not expecting everyone to have implementations on day 1. Instead, as with all spec releases, we encourage implementations to gradually update over the next few months. We‚Äôre additionally planning to make v1.5 (Q4 2022) more of a maintenance update to help make the backlog a bit easier on everyone, though we might prioritize a couple cool features in there too :)
&lt;&#x2F;p&gt;
&lt;p&gt;
Matrix 1.4 sees 14 MSCs get merged, but we can‚Äôt possibly go into detail on them all here. We‚Äôve instead focused on the 3 major features we‚Äôre excited about - check out the changelog at the end for the full picture.
&lt;&#x2F;p&gt;
&lt;h2&gt;üßµ Threads&lt;&#x2F;h2&gt;
&lt;p&gt;
&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.4&#x2F;client-server-api&#x2F;#threading&quot;&gt;Threads&lt;&#x2F;a&gt;, a critical feature in terms of parity with other chat systems, have landed thanks to a whopping 6 MSCs: &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3440&quot;&gt;MSC3440&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3816&quot;&gt;MSC3816&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3856&quot;&gt;MSC3856&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3715&quot;&gt;MSC3715&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3771&quot;&gt;MSC3771&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3773&quot;&gt;MSC3773&lt;&#x2F;a&gt;. It‚Äôs been a lot of iteration on the reference implementations to get threads this far, and we‚Äôre excited to see how the client implementations evolve to provide more structured and less noisy communication for everyone - keep us updated with &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;category&#x2F;this-week-in-matrix&quot;&gt;TWIM&lt;&#x2F;a&gt; posts, please!
&lt;&#x2F;p&gt;
&lt;p&gt;
Threads have involved changes to event relationships (which were &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;06&#x2F;16&#x2F;matrix-v-1-3-release#aggregations-and-the-relationships-made-along-the-way&quot;&gt;fixed in v1.3&lt;&#x2F;a&gt;), read receipts, and notification counts, resulting in several different models and ways of solving the problem. We think we‚Äôve reached a point that works for conversational threads, though there‚Äôs work on the horizon for threads-only rooms, Twitter-style free-form threads, etc to cover more needs of users.
&lt;&#x2F;p&gt;
&lt;p&gt;
Currently, the demonstration implementation of threads in Synapse and Element is working its way out of the proof-of-concept and beta stages (which were sufficient to validate the MSCs) and are on their way to exiting beta. Keep an eye on the respective blogs for news about production-ready threads!
&lt;&#x2F;p&gt;
&lt;h2&gt;üìù Edits&lt;&#x2F;h2&gt;
&lt;p&gt;
Similar to reactions, err, &lt;em&gt;&lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;06&#x2F;16&#x2F;matrix-v-1-3-release#aggregations-and-the-relationships-made-along-the-way&quot;&gt;aggregations&lt;&#x2F;a&gt;&lt;&#x2F;em&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2676&quot;&gt;MSC2676&lt;&#x2F;a&gt; and its predecessors have been around for a long while. Edits have existed in the Element clients seemingly forever, and other clients have had troubles trying to implement the same feature: with it now in the spec, it should be a lot easier to bring edits into clients.
&lt;&#x2F;p&gt;
&lt;p&gt;
For edits, we‚Äôve taken the route of making the MSC match reality, for better or worse. MSCs which improve or add functionality to the system are very much welcome - &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;proposals&#x2F;&quot;&gt;writing an MSC&lt;&#x2F;a&gt; is relatively easy and helps the whole community.
&lt;&#x2F;p&gt;
&lt;h2&gt;üë• Private read receipts&lt;&#x2F;h2&gt;
&lt;p&gt;
Not everyone wants to broadcast that they‚Äôve read a message, but also with read receipts tied into notifications those same people also probably don‚Äôt want stuck notifications. To address the problem, we‚Äôve added a new &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.4&#x2F;client-server-api&#x2F;#private-read-receipts&quot;&gt;m.read.private receipt type&lt;&#x2F;a&gt; which behaves exactly like m.read, but is only visible to you.
&lt;&#x2F;p&gt;
&lt;p&gt;
We still have a rework of the notifications system in our long-term plan, but this should hopefully cover the privacy concerns for the time being :)
&lt;&#x2F;p&gt;
&lt;h2&gt;The full changelog&lt;&#x2F;h2&gt;
&lt;p&gt;
MSCs are how the spec changes in the way it does - adding, fixing, and maintaining features for the whole ecosystem to use. The blog post can‚Äôt cover them all, but that doesn‚Äôt make them any less important! Check out the full changelog below, and the &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;proposals&#x2F;&quot;&gt;Spec Change Proposals&lt;&#x2F;a&gt; page for more information on how these MSCs got merged (hint: they submitted a proposal, which anyone can do - take a look at the &lt;a href=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=SFkZz60RRfc&quot;&gt;Matrix Live episode&lt;&#x2F;a&gt; where Matthew covers the proposal process).
&lt;&#x2F;p&gt;
&lt;h3 id=&quot;client-server-api&quot;&gt;Client-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Removed Endpoints&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Remove unused policy room sharing mechanism, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3844&quot;&gt;MSC3844&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1196&quot;&gt;#1196&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add a &lt;code&gt;.m.rule.room.server_acl&lt;&#x2F;code&gt; push rule to match &lt;code&gt;m.room.server_acl&lt;&#x2F;code&gt; events, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3786&quot;&gt;MSC3786&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1190&quot;&gt;#1190&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1201&quot;&gt;#1201&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add &lt;code&gt;Cross-Origin-Resource-Policy&lt;&#x2F;code&gt; (CORP) headers to media repository, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3828&quot;&gt;MSC3828&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1197&quot;&gt;#1197&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Copy a room&#x27;s &lt;code&gt;type&lt;&#x2F;code&gt; when upgrading it, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3818&quot;&gt;MSC3818&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1198&quot;&gt;#1198&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add &lt;code&gt;room_types&lt;&#x2F;code&gt; filter and &lt;code&gt;room_type&lt;&#x2F;code&gt; response to &lt;code&gt;&#x2F;publicRooms&lt;&#x2F;code&gt;, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3827&quot;&gt;MSC3827&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1199&quot;&gt;#1199&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add &lt;code&gt;m.replace&lt;&#x2F;code&gt; relations (event edits), as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2676&quot;&gt;MSC2676&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1211&quot;&gt;#1211&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add &lt;code&gt;m.read.private&lt;&#x2F;code&gt; receipts, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2285&quot;&gt;MSC2285&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1216&quot;&gt;#1216&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Make &lt;code&gt;m.fully_read&lt;&#x2F;code&gt; optional on &lt;code&gt;&#x2F;read_markers&lt;&#x2F;code&gt;, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2285&quot;&gt;MSC2285&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1216&quot;&gt;#1216&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Allow &lt;code&gt;m.fully_read&lt;&#x2F;code&gt; markers to be set from &lt;code&gt;&#x2F;receipts&lt;&#x2F;code&gt;, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2285&quot;&gt;MSC2285&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1216&quot;&gt;#1216&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add threading via &lt;code&gt;m.thread&lt;&#x2F;code&gt; relations, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3440&quot;&gt;MSC3440&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3816&quot;&gt;MSC3816&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3856&quot;&gt;MSC3856&lt;&#x2F;a&gt;, and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3715&quot;&gt;MSC3715&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1254&quot;&gt;#1254&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add per-thread notifications and read receipts, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3771&quot;&gt;MSC3771&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3773&quot;&gt;MSC3773&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1255&quot;&gt;#1255&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Mention that the &lt;code&gt;&#x2F;rooms&#x2F;{roomId}&#x2F;invite&lt;&#x2F;code&gt; endpoint will return a 200 response if the user is already invited to the room. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1084&quot;&gt;#1084&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix various typos throughout the specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1135&quot;&gt;#1135&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1161&quot;&gt;#1161&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1164&quot;&gt;#1164&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1170&quot;&gt;#1170&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1180&quot;&gt;#1180&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1215&quot;&gt;#1215&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1238&quot;&gt;#1238&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1243&quot;&gt;#1243&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Describe return codes for account data endpoints, and clarify that per-room data does not inherit from the global data. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1155&quot;&gt;#1155&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that policy rule globs work like ACL globs. Contributed by Nico. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1165&quot;&gt;#1165&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify the format of some structures in the End-to-end encryption module. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1166&quot;&gt;#1166&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Add HTML anchors for object definitions in the formatted specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1174&quot;&gt;#1174&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Tweak the styling of &lt;code&gt;&amp;lt;code&amp;gt;&lt;&#x2F;code&gt; snippets in tables rendered from OpenAPI definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1179&quot;&gt;#1179&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update &amp;quot;API Standards&amp;quot; section to clarify how JSON is used. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1185&quot;&gt;#1185&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify that the &amp;quot;device_id&amp;quot;, &amp;quot;user_id&amp;quot; and &amp;quot;access_token&amp;quot; fields are required in the response body of &lt;code&gt;POST &#x2F;_matrix&#x2F;client&#x2F;v3&#x2F;login&lt;&#x2F;code&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1210&quot;&gt;#1210&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Reinforce the relationship of refreshed access tokens to transaction IDs. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1236&quot;&gt;#1236&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Clarify enum values by separating possible values with commas. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1240&quot;&gt;#1240&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;server-server-api&quot;&gt;Server-Server API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add per-thread notifications and read receipts, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3771&quot;&gt;MSC3771&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;3773&quot;&gt;MSC3773&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1255&quot;&gt;#1255&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add HTML anchors for object definitions in the formatted specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1174&quot;&gt;#1174&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Tweak the styling of &lt;code&gt;&amp;lt;code&amp;gt;&lt;&#x2F;code&gt; snippets in tables rendered from OpenAPI definitions. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1179&quot;&gt;#1179&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update &amp;quot;API Standards&amp;quot; section to clarify how JSON is used. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1185&quot;&gt;#1185&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;application-service-api&quot;&gt;Application Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Breaking Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Replace homeserver authorization approach with an &lt;code&gt;Authorization&lt;&#x2F;code&gt; header instead of &lt;code&gt;access_token&lt;&#x2F;code&gt; when talking to the application service, as per &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec-proposals&#x2F;pull&#x2F;2832&quot;&gt;MSC2832&lt;&#x2F;a&gt;. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1200&quot;&gt;#1200&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add HTML anchors for object definitions in the formatted specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1174&quot;&gt;#1174&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;identity-service-api&quot;&gt;Identity Service API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add HTML anchors for object definitions in the formatted specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1174&quot;&gt;#1174&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Update &amp;quot;API Standards&amp;quot; section to clarify how JSON is used. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1185&quot;&gt;#1185&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;push-gateway-api&quot;&gt;Push Gateway API&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add HTML anchors for object definitions in the formatted specification. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1174&quot;&gt;#1174&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;room-versions&quot;&gt;Room Versions&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;For room versions 1 through 10, clarify that events with rejected &lt;code&gt;auth_events&lt;&#x2F;code&gt; must be rejected. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1137&quot;&gt;#1137&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;For room versions 2‚Äì10: correct a mistaken clarification to the state resolution algorithm. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1158&quot;&gt;#1158&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;For room versions 7 through 10: Clarify that &lt;code&gt;invite-&amp;gt;knock&lt;&#x2F;code&gt; is actually a legal transition. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1175&quot;&gt;#1175&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;appendices&quot;&gt;Appendices&lt;&#x2F;h3&gt;
&lt;p&gt;No significant changes.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;internal-changes-tooling&quot;&gt;Internal Changes&#x2F;Tooling&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;Backwards Compatible Changes&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Add internal changes changelog section. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1194&quot;&gt;#1194&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;strong&gt;Spec Clarifications&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Render HTML anchors for object definition tables. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1191&quot;&gt;#1191&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Give rendered-data sections a background and some padding. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1195&quot;&gt;#1195&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix rendering of shortcodes within the client-server API. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1205&quot;&gt;#1205&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Fix the spacing of mapping types generated from the OpenAPI spec. (&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-spec&#x2F;issues&#x2F;1230&quot;&gt;#1230&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Announcing Third Room Tech Preview 1</title>
		<published>2022-09-27T14:34:55+00:00</published>
		<updated>2022-09-27T14:34:55+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/27/announcing-third-room-tech-preview-1/" type="text/html"/>
		<id>/blog/2022/09/27/announcing-third-room-tech-preview-1/</id>
		<content type="html">&lt;p&gt;We&#x27;re excited to announce the first tech preview of &lt;a href=&quot;https:&#x2F;&#x2F;thirdroom.io&#x2F;&quot;&gt;Third Room&lt;&#x2F;a&gt;, an open, standards-based, decentralised vision of the metaverse for the open Web, built entirely on Matrix‚Ä¶ without cryptocurrencies, NFTs or walled gardens.&lt;&#x2F;p&gt;
&lt;p&gt;To see what it&#x27;s all about, head over to &lt;a href=&quot;https:&#x2F;&#x2F;thirdroom.io&#x2F;preview&quot;&gt;https:&#x2F;&#x2F;thirdroom.io&#x2F;preview&lt;&#x2F;a&gt; - or come chat in &lt;a href=&quot;https:&#x2F;&#x2F;matrix.to&#x2F;#&#x2F;#thirdroom-dev:matrix.org&quot;&gt;#thirdroom-dev:matrix.org&lt;&#x2F;a&gt; to learn more!&lt;&#x2F;p&gt;
&lt;iframe src=&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;embed&#x2F;skC5TYRAgKE&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;&#x2F;iframe&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 1.68 released</title>
		<published>2022-09-27T14:34:55+00:00</published>
		<updated>2022-09-27T14:34:55+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/27/synapse-1-68-released/" type="text/html"/>
		<id>/blog/2022/09/27/synapse-1-68-released/</id>
		<content type="html">&lt;p&gt;Hey everyone, it&#x27;s time for a new Synapse release! &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.68.0&quot;&gt;Synapse
1.68&lt;&#x2F;a&gt; just dropped,
let&#x27;s have a look at what&#x27;s inside.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;dependency-changes&quot;&gt;Dependency changes&lt;&#x2F;h2&gt;
&lt;p&gt;As announced in the &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;09&#x2F;14&#x2F;synapse-1-67-released&quot;&gt;Synapse 1.67 release
announcement&lt;&#x2F;a&gt;, Synapse
1.68 raises the minimum supported version of SQLite to version v3.27.0. This
means that, if your installation of Synapse is using SQLite to manage its
database, and the SQLite version used is lower than 3.27, you will need to
upgrade to a more recent version before updating to Synapse 1.68. This change does not impact deployments using the &lt;code&gt;matrixdotorg&#x2F;synapse&lt;&#x2F;code&gt; Docker image. &lt;&#x2F;p&gt;
&lt;p&gt;Synapse 1.68 also introduces the requirement of a Rust compiler for source
checkouts. The minimum required version of Rust is 1.58.1. Installations that
use &lt;code&gt;pip install matrix-synapse&lt;&#x2F;code&gt;, Debian packages from &lt;code&gt;packages.matrix.org&lt;&#x2F;code&gt; or
the &lt;code&gt;matrixdotorg&#x2F;synapse&lt;&#x2F;code&gt; Docker image to manage and run Synapse, are not
impacted by this change.&lt;&#x2F;p&gt;
&lt;p&gt;See the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;upgrade#upgrading-to-v1680&quot;&gt;upgrade
notes&lt;&#x2F;a&gt; for more information.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;admin-api-improvements&quot;&gt;Admin API improvements&lt;&#x2F;h2&gt;
&lt;p&gt;Synapse 1.68 introduces a new admin API which allows server administrators to
query events in a given room that have been sent within a specific time window.
This API mirrors &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.3&#x2F;client-server-api&#x2F;#get_matrixclientv3roomsroomidmessages&quot;&gt;the specification&#x27;s &lt;code&gt;&#x2F;messages&lt;&#x2F;code&gt;
endpoint&lt;&#x2F;a&gt;,
and allows, among other things, paginating through a room&#x27;s history. See &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;admin_api&#x2F;rooms.html#room-messages-api&quot;&gt;the
documentation&lt;&#x2F;a&gt; for more information.&lt;&#x2F;p&gt;
&lt;p&gt;This version of Synapse also introduces a new admin API to help administrator of
homeservers using an external authentication provider. This endpoint allows
looking up a specific identifier on the authentication provider and resolving it
into the identifier of the local user it&#x27;s associated with, if any. See &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;admin_api&#x2F;user_admin_api.html#find-a-user-based-on-their-id-in-an-auth-provider&quot;&gt;the
documentation&lt;&#x2F;a&gt; for more information.&lt;&#x2F;p&gt;
&lt;p&gt;The &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;admin_api&#x2F;user_admin_api.html#user-admin-api&quot;&gt;user admin
API&lt;&#x2F;a&gt;
has also been updated to allow administrator of homeservers &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;latest&#x2F;consent_tracking.html&quot;&gt;requiring agreement
to the server&#x27;s terms and
conditions&lt;&#x2F;a&gt;
to view and edit the timestamp at which each user has provided their agreement.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;Synapse 1.68 greatly improves the validation of user input on most of the
account management API endpoints.&lt;&#x2F;p&gt;
&lt;p&gt;This version of Synapse also adds a new &lt;code&gt;request_id_header&lt;&#x2F;code&gt; option to the
configuration of HTTP listeners, which allows tracking the identifier Synapse
generates for each request in that request&#x27;s response. This can be helpful for
correlating Synapse logs with reverse proxy logs. See &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;usage&#x2F;configuration&#x2F;config_documentation.html#listeners&quot;&gt;the
documentation&lt;&#x2F;a&gt; for more information.&lt;&#x2F;p&gt;
&lt;p&gt;See the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.68.0&quot;&gt;full
changelog&lt;&#x2F;a&gt; for a
complete list of changes in this release. Also please have a look at the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.68&#x2F;upgrade#upgrading-to-v1680&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for this version.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;dakariakin&quot;&gt;Denis Kariakin&lt;&#x2F;a&gt;, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;dklimpel&quot;&gt;Dirk
Klimpel&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;www.beeper.com&#x2F;&quot;&gt;Beeper&lt;&#x2F;a&gt;, as
well as anyone helping us make Synapse better by sharing their feedback and
reporting issues.&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 1.67 released</title>
		<published>2022-09-14T11:03:21+00:00</published>
		<updated>2022-09-14T11:03:21+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/14/synapse-1-67-released/" type="text/html"/>
		<id>/blog/2022/09/14/synapse-1-67-released/</id>
		<content type="html">&lt;p&gt;It&#x27;s that time again - Synapse release time! &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.67.0&quot;&gt;Synapse
1.67&lt;&#x2F;a&gt; is fresh out
of the oven, let&#x27;s have a look at what&#x27;s inside.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;removal-of-tcp-replication&quot;&gt;Removal of TCP replication&lt;&#x2F;h2&gt;
&lt;p&gt;As announced in the &lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;09&#x2F;02&#x2F;synapse-1-66-released&quot;&gt;Synapse 1.66 release
announcement&lt;&#x2F;a&gt;, Synapse 1.67 removes support for the legacy TCP replication protocol.&lt;&#x2F;p&gt;
&lt;p&gt;As a reminder, Synapse can be configured to use workers to spread its load over
multiple processes, or even multiple machines. These workers communicate between
each other (and with the main Synapse process) using something we call
&amp;quot;replication&amp;quot;.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.18.0&quot;&gt;Synapse 1.18&lt;&#x2F;a&gt;
deprecated its TCP-based replication protocol, and replaced it with a brand new
one using &lt;a href=&quot;https:&#x2F;&#x2F;redis.io&#x2F;&quot;&gt;Redis&lt;&#x2F;a&gt;. As of Synapse 1.67, this Redis-based
protocol is now the only protocol that can be used.&lt;&#x2F;p&gt;
&lt;p&gt;See the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.67&#x2F;upgrade.html#direct-tcp-replication-is-no-longer-supported-migrate-to-redis&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for more information.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;changes-for-installations-using-a-source-checkout&quot;&gt;Changes for installations using a source checkout&lt;&#x2F;h2&gt;
&lt;p&gt;Server admins who installed Synapse using a source checkout might already be
familiar with &lt;a href=&quot;https:&#x2F;&#x2F;python-poetry.org&#x2F;&quot;&gt;Poetry&lt;&#x2F;a&gt;. This is a tool we use
to better manage dependencies within Synapse. As of this version, we have
updated Synapse&#x27;s dependency on Poetry to require Poetry 1.2, which was recently
released.&lt;&#x2F;p&gt;
&lt;p&gt;It is also worth noting that Synapse 1.68, which is due to release on the 27th
of September, will require a Rust compiler when installed from a source
checkout. This is because we are in the process of introducing Rust in Synapse&#x27;s
code base, in order to make some hot code paths more efficient. See the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.67&#x2F;upgrade.html#rust-requirement-in-the-next-release&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for more information.&lt;&#x2F;p&gt;
&lt;p&gt;These two changes should not impact installations that use &lt;code&gt;pip install matrix-synapse&lt;&#x2F;code&gt;, Debian packages from &lt;code&gt;packages.matrix.org&lt;&#x2F;code&gt; or the
&lt;code&gt;matrixdotorg&#x2F;synapse&lt;&#x2F;code&gt; Docker image to manage and run Synapse.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;Synapse 1.68 (due on the 27th of September) will also require SQLite v3.27.0 or
higher when run with SQLite. Synapse 1.67 is the last version of Synapse to
support SQLite versions 3.22 to 3.26. See the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.67&#x2F;upgrade.html#sqlite-version-requirement-in-the-next-release&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for more information.&lt;&#x2F;p&gt;
&lt;p&gt;See the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.67.0&quot;&gt;full
changelog&lt;&#x2F;a&gt; for a
complete list of changes in this release. Also please have a look at the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.67&#x2F;upgrade#upgrading-to-v1670&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for this version.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;dklimpel&quot;&gt;Dirk Klimpel&lt;&#x2F;a&gt;,
&lt;a href=&quot;https:&#x2F;&#x2F;www.beeper.com&#x2F;&quot;&gt;Beeper&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Vetchu&quot;&gt;Jacek
Ku≈õnierz&lt;&#x2F;a&gt;, as well as anyone helping us make Synapse
better by sharing their feedback and reporting issues.&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Security release of matrix-appservice-irc 0.35.0 (High severity)</title>
		<published>2022-09-13T14:56:43+00:00</published>
		<updated>2022-09-13T14:56:43+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/13/security-release-of-matrix-appservice-irc-0-35-0-high-severity/" type="text/html"/>
		<id>/blog/2022/09/13/security-release-of-matrix-appservice-irc-0-35-0-high-severity/</id>
		<content type="html">&lt;p&gt;We&#x27;ve released a new version of matrix.org&#x27;s node-irc 1.3.0 and
matrix-appservice-irc 0.35.0, to patch several security issues:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;IRC mode operator confusion (Low, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-appservice-irc&#x2F;security&#x2F;advisories&#x2F;GHSA-cq7q-5c67-w39w&quot;&gt;GHSA-cq7q-5c67-w39w&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Parsing issue leading to room takeovers (High, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-appservice-irc&#x2F;security&#x2F;advisories&#x2F;GHSA-xvqg-mv25-rwvw&quot;&gt;GHSA-xvqg-mv25-rwvw&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Undisclosed issue (Moderate, &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-appservice-irc&#x2F;security&#x2F;advisories&#x2F;GHSA-r3p6-cg2c-c4qw&quot;&gt;GHSA-r3p6-cg2c-c4qw&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;The details of the final vulnerability will be released at a later date,
pending an audit of the codebase to ensure it&#x27;s not affected by other similar
vulnerabilities.&lt;&#x2F;p&gt;
&lt;p&gt;The vulnerabilities have been patched in node-irc version 1.3.0 and
matrix-appservice-irc 0.35.0. You can get the release on
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix-appservice-irc&#x2F;releases&quot;&gt;Github&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;The bridges running on the Libera Chat, OFTC and other networks bridged by the
Matrix.org Foundation have been patched.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Please upgrade your IRC bridge as soon as possible.&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The above vulnerabilities were reported by &lt;a href=&quot;https:&#x2F;&#x2F;valentin-lorentz.fr&#x2F;&quot;&gt;Val
Lorentz&lt;&#x2F;a&gt;. Thank you!&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Synapse 1.66 released</title>
		<published>2022-09-05T09:23:27+00:00</published>
		<updated>2022-09-08T07:08:36+00:00</updated>
		<link rel="alternate" href="/blog/2022/09/02/synapse-1-66-released/" type="text/html"/>
		<id>/blog/2022/09/02/synapse-1-66-released/</id>
		<content type="html">&lt;p&gt;Hey all, we&#x27;ve just released &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.66.0&quot;&gt;Synapse 1.66&lt;&#x2F;a&gt;! Let&#x27;s have a
look at what&#x27;s inside this release.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;removal-of-email-verification-delegation&quot;&gt;Removal of email verification delegation&lt;&#x2F;h2&gt;
&lt;p&gt;Before Synapse 1.66, homeserver administrators had the possibility to
configure Synapse to delegate verifying email addresses to an identity
server (using the &lt;code&gt;account_threepid_delegates.email&lt;&#x2F;code&gt; configuration setting).
This feature relied on old APIs from the Matrix specification that have since
been &lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;v1.3&#x2F;changelog&#x2F;#identity-service-api-1-1&quot;&gt;removed&lt;&#x2F;a&gt; from it.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;matrix.org&#x2F;blog&#x2F;2022&#x2F;08&#x2F;03&#x2F;synapse-1-64-released&quot;&gt;Synapse 1.64&lt;&#x2F;a&gt; announced the
deprecation of this feature, and the addition of a warning at startup when
the configuration setting is in use.&lt;&#x2F;p&gt;
&lt;p&gt;As of Synapse 1.66, support for this feature has been fully removed, and
Synapse will refuse to start if the configuration setting for it is in use.&lt;&#x2F;p&gt;
&lt;p&gt;If this has not already been done, administrators of servers that were
previously using this feature are encouraged to configure an SMTP server that
Synapse can use to verify email addresses on its own. See the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.66&#x2F;usage&#x2F;configuration&#x2F;config_documentation.html#email&quot;&gt;configuration guide&lt;&#x2F;a&gt;
for more information.&lt;&#x2F;p&gt;
&lt;p&gt;Also see the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.66&#x2F;upgrade.html#delegation-of-email-validation-no-longer-supported&quot;&gt;upgrade notes&lt;&#x2F;a&gt;
for more information.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;planned-removal-of-support-for-tcp-replication&quot;&gt;Planned removal of support for TCP replication&lt;&#x2F;h2&gt;
&lt;p&gt;Most server administrators already know that Synapse can be made to scale
horizontally by deploying &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;latest&#x2F;workers.html&quot;&gt;workers&lt;&#x2F;a&gt;. Workers are
processes running alongside Synapse&#x27;s main process to allow offloading some
of the work it would otherwise be doing, load balancing some of the traffic,
etc.&lt;&#x2F;p&gt;
&lt;p&gt;In a deployment of Synapse that uses workers, these processes use replication
to share information between themselves. One of the earliest protocols
Synapse used for replication was built on top of TCP.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.18.0&quot;&gt;Synapse 1.18&lt;&#x2F;a&gt; introduced a new
Redis-based replication protocol for workers to use and deprecated the
TCP-based protocol, without specifying a removal date.&lt;&#x2F;p&gt;
&lt;p&gt;This week we&#x27;re announcing that support for TCP replication will be removed
from Synapse in version 1.67, which is expected to come out around Sep 13th.
See the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.66.0&quot;&gt;release notes&lt;&#x2F;a&gt; for more
details.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;everything-else&quot;&gt;Everything else&lt;&#x2F;h2&gt;
&lt;p&gt;Synapse 1.66 also includes some improvements to validation on endpoints using
&lt;a href=&quot;https:&#x2F;&#x2F;spec.matrix.org&#x2F;latest&#x2F;client-server-api&#x2F;#user-interactive-authentication-api&quot;&gt;User-Interactive Authentication&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;This version of Synapse also adds compression support for federation traffic.
See &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.66&#x2F;usage&#x2F;configuration&#x2F;config_documentation.html#listeners&quot;&gt;the configuration guide&lt;&#x2F;a&gt;
for more information on how to compress HTTP traffic.&lt;&#x2F;p&gt;
&lt;p&gt;Furthermore, Synapse 1.66 improves the &lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.66&#x2F;admin_api&#x2F;rooms.html#room-details-api&quot;&gt;Room Details amin API&lt;&#x2F;a&gt;
and allows administrators to see if all local users have marked a given room
as &amp;quot;forgotten&amp;quot;.&lt;&#x2F;p&gt;
&lt;p&gt;See the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;synapse&#x2F;releases&#x2F;tag&#x2F;v1.66.0&quot;&gt;full
changelog&lt;&#x2F;a&gt; for a
complete list of changes in this release. Also please have a look at the
&lt;a href=&quot;https:&#x2F;&#x2F;matrix-org.github.io&#x2F;synapse&#x2F;v1.66&#x2F;upgrade#upgrading-to-v1660&quot;&gt;upgrade
notes&lt;&#x2F;a&gt;
for this version.&lt;&#x2F;p&gt;
&lt;p&gt;Synapse is a Free and Open Source Software project, and we&#x27;d like to extend
our thanks to everyone who contributed to this release, including (in no
particular order) &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;dklimpel&quot;&gt;Dirk Klimpel&lt;&#x2F;a&gt; and
&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;AntoninLoubiere&quot;&gt;Antonin Loubiere&lt;&#x2F;a&gt;, as well as anyone
helping us make Synapse better by sharing their feedback and reporting
issues.&lt;&#x2F;p&gt;
</content>
	</entry>
</feed>
