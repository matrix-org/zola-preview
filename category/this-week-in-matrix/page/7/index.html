<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - This Week in Matrix</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/category/this-week-in-matrix/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>This Week in Matrix</h1>
            194 posts tagged with "This Week in Matrix" <a href="/category">(See all Category)</a>
            
            <h2>
                <small><a href="/category/this-week-in-matrix/atom.xml">Atom Feed</a></small>
            </h2>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;11&#x2F;20&#x2F;this-week-in-matrix-2020-11-20&#x2F;" title="This Week in Matrix 2020-11-20">This Week in Matrix 2020-11-20</a></h2>
                <span>
                    20.11.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/7eIHkUdfR-A" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Something different this week as we welcomed the community to submit their own demos!</p>
<ol>
<li>Oleg presents his Matrix home-automation setup, which uses Opsdroid, home-assistant and the reminder maubot.</li>
<li>Nico gives presents a selection of small-ish new features in Nheko</li>
<li>Timo gives a tour of the current state of the Conduit homeserver</li>
<li>MTRNord (Marcel) presents the time-tracking bot used by Famedly</li>
<li>Sorunome presents bootstrapping (creating cross-signing keys and online keybackup) in Fluffychat.</li>
<li>Bala from Noteworthy presents <em>Deploy a Matrix home server in 2 minutes with Noteworthy</em> (set to royalty free music!)</li>
</ol>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<h3 id="bundeswehr-deployment-and-app-goes-live">Bundeswehr deployment and app goes live</h3>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> reported:</p>
<blockquote>
<p>The Matrix deployment for the Bundeswehr (German Armed Forces) has gone live - details (in German) at <a href="https://messenger.bwi.de/">https://messenger.bwi.de/</a> and <a href="https://www.bwi.de/news-blog/news/artikel/open-source-matrix-ist-einheitlicher-messenger-standard-fuer-die-bundeswehr">https://www.bwi.de/news-blog/news/artikel/open-source-matrix-ist-einheitlicher-messenger-standard-fuer-die-bundeswehr</a> and further coverage at <a href="https://www.egovernment-computing.de/bwi-und-bundeswehr-setzen-auf-open-source-a-980033/">https://www.egovernment-computing.de/bwi-und-bundeswehr-setzen-auf-open-source-a-980033/</a></p>
</blockquote>
<p><a href="https://matrix.to/#/@oleg:fiksel.info">Oleg</a> (same fellow from the video - wow!) added:</p>
<blockquote>
<p>Heise (German news portal) also quoted the news: <a href="https://www.heise.de/news/Matrix-steht-als-Messenger-fuer-Soldaten-und-zivile-Angehoerige-zur-Verfuegung-4963211.html">https://www.heise.de/news/Matrix-steht-als-Messenger-fuer-Soldaten-und-zivile-Angehoerige-zur-Verfuegung-4963211.html</a></p>
</blockquote>
<p><a href="https://matrix.to/#/@davebloggt:kif.rocks">David Mehren</a> linked to Element's own coverage:</p>
<blockquote>
<p><a href="https://element.io/blog/bwmessenger-goes-live-for-bundeswehr/">https://element.io/blog/bwmessenger-goes-live-for-bundeswehr/</a></p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<h3 id="new-spec-platform">New spec platform</h3>
<p><a href="https://matrix.to/#/@wbamberg:matrix.org">wbamberg</a> said:</p>
<blockquote>
<ul>
<li>
<p>Demo site is at <a href="https://adoring-einstein-5ea514.netlify.app/1.1/">https://adoring-einstein-5ea514.netlify.app/1.1/</a></p>
</li>
<li>
<p>This week we have:</p>
<ul>
<li>
<p>Migrated all spec documents into the new platform, updated all template calls to the new toolchain except those for versioning and changelogs.</p>
</li>
<li>
<p>Implemented basic support for representing spec versions in the new site, based on the <a href="https://github.com/matrix-org/matrix-doc/pull/2844">global versioning MSC</a>.</p>
</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> reported:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/1544">MSC1544: Key verification using QR codes</a>
<ul>
<li>This landed right after I wrote the first draft of this entry!</li>
</ul>
</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2870">MSC2870: Protect server ACLs from redaction</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2867">MSC2867: Marking rooms as unread</a></li>
</ul>
<p>Personally I would find that last one quite helpful!</p>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, we're sticking with the same three MSCs: <a href="https://github.com/matrix-org/matrix-doc/issues/2844">MSC2844</a> (global versioning), <a href="https://github.com/matrix-org/matrix-doc/issues/1544">MSC1544</a> (QR code verification) and <a href="https://github.com/matrix-org/matrix-doc/issues/2790">MSC2790</a> (modal widgets). <a href="https://github.com/matrix-org/matrix-doc/issues/2844">MSC2844</a> in particular I personally found quite interesting.</p>
</blockquote>
<p><img src="/blog/img/2020-11-20-M8ArJ-stacked_area_chart.png" alt="2020-11-20-M8ArJ-stacked_area_chart.png" /></p>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> said:</p>
<blockquote>
<p>We started out this week by releasing <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.3.0">Dendrite 0.3.0</a> and then ended the week with a bug-fix <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.3.1">Dendrite 0.3.1</a> release.</p>
<p>I'd like to say thank you especially to our community contributors who have been adding new features and filling gaps!</p>
<p>Changes this week include:</p>
<ul>
<li>
<p>Memory optimisation by reference passing, significantly reducing the number of allocations and duplications in memory</p>
</li>
<li>
<p>A concurrency bug has been fixed in the federation API that could cause Dendrite to crash</p>
</li>
<li>
<p>A hook API has been added for experimental MSCs, with an early implementation of MSC2836</p>
</li>
<li>
<p>Forgetting rooms is now supported (thanks to <a href="https://github.com/S7evinK">S7evinK</a>)</p>
</li>
<li>
<p>The last seen timestamp and IP address are now updated automatically when calling <code>/sync</code></p>
</li>
<li>
<p>The last seen timestamp and IP address are now reported in <code>/_matrix/client/r0/devices</code> (thanks to <a href="https://github.com/alexkursell">alexkursell</a>)</p>
</li>
<li>
<p>An optional configuration option <code>sync_api.real_ip_header</code> has been added for specifying which HTTP header contains the real client IP address (for if Dendrite is running behind a reverse HTTP proxy)</p>
</li>
<li>
<p>Partial implementation of <code>/_matrix/client/r0/admin/whois</code> (thanks to <a href="https://github.com/DavidSpenler">DavidSpenler</a>)</p>
</li>
<li>
<p>The error when registering a username with invalid characters has been corrected (thanks to <a href="https://github.com/bodqhrohro">bodqhrohro</a>)</p>
</li>
<li>
<p>The <code>-version</code> command line flag has been added (thanks to <a href="https://github.com/S7evinK">S7evinK</a>)</p>
</li>
<li>
<p>Backfilling should now work properly on rooms with world-readable history visibility (thanks to <a href="https://github.com/MayeulC">MayeulC</a>)</p>
</li>
<li>
<p>Some more client event fields have been marked as omit-when-empty (thanks to <a href="https://github.com/S7evinK">S7evinK</a>)</p>
</li>
<li>
<p>The <code>build.sh</code> script has been updated to work properly on all POSIX platforms (thanks to <a href="https://github.com/felix">felix</a>)</p>
</li>
</ul>
<p>Spec compliance is unchanged, although some Synapse-specific tests have been removed and some new tests have been added:</p>
<ul>
<li>
<p>Client-server APIs: 58%, same as last week</p>
</li>
<li>
<p>Server-server APIs: 83%, same as last week</p>
</li>
</ul>
<p>As always, feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for general Dendrite chat or <a href="https://matrix.to/#/#dendrite-dev:matrix.org">#dendrite-dev:matrix.org</a> for development discussion.</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@callahad:matrix.org">callahad</a> offered:</p>
<blockquote>
<p>We released Synapse 1.23.0 on Wednesday! Read all about it on the <a href="https://matrix.org/blog/2020/11/18/synapse-1-23-0-released">Matrix Blog</a>. Otherwise, we'd like to highlight a few developments over the past week:</p>
<ul>
<li>
<p>We're discussing a policy for ending support for old versions of Python and PostgreSQL. If you have opinions, please <a href="https://github.com/matrix-org/synapse/issues/8782">let us know on GitHub</a>.</p>
</li>
<li>
<p>Our initial implementation of <a href="https://github.com/matrix-org/matrix-doc/pull/2403">MSC2403: Add &quot;knock&quot; feature</a> is undergoing review, and will likely land soon.</p>
</li>
<li>
<p>We've been looking at ways to improve the efficiency of state resolution, and Erik has managed to <a href="https://github.com/matrix-org/synapse/issues/8622#issuecomment-729620021">devise some algorithmic improvements</a> that yield an order of magnitude speedup for a handful of pathologic cases. We hope to have a better idea of how this might work for real world workloads soon.</p>
</li>
</ul>
<p>Lastly, we'd like to take this opportunity to remind you to <strong>please regularly upgrade your Synapse.</strong> Especially if you're not yet on 1.20.0, as we'll be disclosing a denial of service issue which affects older versions on Monday.</p>
</blockquote>
<h3 id="maunium-synapse">maunium/synapse</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> said:</p>
<blockquote>
<p>mewmew wanted to use my fork of Synapse, so I made the changes there configurable (instead of hardcoding to my user ID) and even added a readme to list the features. It might also be useful for other people who want custom room IDs and other fun stuff.</p>
<p>The fork is available at <a href="https://mau.dev/maunium/synapse">https://mau.dev/maunium/synapse</a></p>
</blockquote>
<h2 id="homeserver-deployment-inbox-tray">Homeserver Deployment üì•Ô∏è</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> offered:</p>
<blockquote>
<p>And just to be on time, I just pushed an updated tag and new version of my K8s <a href="https://github.com/ananace/matrix-synapse">container image</a> and <a href="https://gitlab.com/ananace/charts">chart</a> for Synapse 1.23.0</p>
</blockquote>
<h3 id="dendrite">Dendrite</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@tr_slimey:an-atom-in.space">TR_SLimey</a> offered:</p>
<blockquote>
<p>I've updated the Dendrite ARM docker images to v0.3.0. They can be found at <a href="https://hub.docker.com/r/trslimey/dendrite-monolith">https://hub.docker.com/r/trslimey/dendrite-monolith</a> &amp; <a href="https://hub.docker.com/r/trslimey/dendrite-polylith">https://hub.docker.com/r/trslimey/dendrite-polylith</a></p>
</blockquote>
<p>and later</p>
<blockquote>
<p>I have once again updated the Docker ARM Dendrite images for version 0.3.1.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="mx-puppet-bridge">mx-puppet-bridge</h3>
<p><a href="https://github.com/matrix-discord/mx-puppet-discord">mx-puppet-discord</a> is a (double)puppeting and relay bridge for discord, based on mx-puppet-bridge</p>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> told us:</p>
<blockquote>
<p>Support for receiving EDUs from matrix (typing, read indicators and presence) has been added. Protocol implementations can start using the new events, if they want to. Version <code>0.1.0</code> has been released along with this. You have to enable the <code>de.sorunome.msc2409.push_ephemeral</code> flag in your registration file</p>
<h4 id="mx-puppet-discord">mx-puppet-discord</h4>
<p>Added support for bridging typing and presence matrix-&gt;discord</p>
</blockquote>
<h3 id="gitter">Gitter</h3>
<p><a href="https://matrix.to/#/@madlittlemods:matrix.org">Eric Eastwood</a> offered:</p>
<blockquote>
<p>The native Gitter &lt;-&gt; Matrix bridge is in production! üöÄüöÄ We're only testing it out in a single room but feel free to come by and send a message üòÄ</p>
<p><a href="https://gitter.im/gitter/testing-matrix-bridge">https://gitter.im/gitter/testing-matrix-bridge</a> &lt;-&gt; <a href="https://matrix.to/#/#5faa0809d73408ce4ff3ad8e:gitter.im">#5faa0809d73408ce4ff3ad8e:gitter.im</a></p>
<p>We also have edits from the Gitter side flowing to Matrix and soon to support <a href="https://gitlab.com/gitterHQ/webapp/-/merge_requests/2058">edits from Matrix</a>. You can track our full progress from the <a href="https://gitlab.com/groups/gitterHQ/-/epics/10">GitLab epic for the native Gitter &lt;-&gt; Matrix bridge</a>.</p>
</blockquote>
<p><img src="/blog/img/2020-11-20-YVtF0-editingmessages.gif" alt="2020-11-20-YVtF0-editingmessages.gif" /></p>
<h3 id="mx-puppet-vk">mx-puppet-vk</h3>
<p><a href="https://matrix.to/#/@commagray:sunbutt.faith">Coma Grayce</a> told us:</p>
<blockquote>
<p>Hey, our team of colorful ponies proud to introduce you a new Matrix bridge to VK.com chats. It's powered by mx-puppet-bridge and so far supports almost all of core features people want to see, like replies, message edits and file attachments.</p>
<p>Project home: <a href="https://github.com/innereq/mx-puppet-vk">https://github.com/innereq/mx-puppet-vk</a></p>
<p>Video introduction: <a href="https://www.youtube.com/watch?v=nBRBUA9beXs">https://www.youtube.com/watch?v=nBRBUA9beXs</a></p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> announced:</p>
<blockquote>
<ul>
<li>
<p>Profiles should now open again on older versions of Qt.</p>
</li>
<li>
<p>I've been slowly rewriting the message are to be qml, to make it easier to do fancy styling. As a result emojis in the emoji-completer are now colorful and the avatars in the username completer now match the avatars used in the timeline. It also open up a few other improvements, like finally sending mentions as links instead of plain text.</p>
</li>
<li>
<p>We have now CI running on our <a href="https://nheko.im">self hosted gitlab instance</a>. We will probably switch of the travis CI, once this is more battle tested. Repositories are now also automatically mirrored between gitlab and github.</p>
</li>
<li>
<p>Fixed a bug, where we tried to read the internal world group on your server instead of keeping that to ourself.</p>
</li>
</ul>
</blockquote>
<h3 id="konheko">Konheko</h3>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> offered:</p>
<blockquote>
<p>I released 0.0.3 a few days ago bundling a few smaller improvements like redactions, copying messages and the ability to click on more links as well as some visual cleanups. Nothing radical, but also nothing breaking (I hope).</p>
</blockquote>
<p><img src="/blog/img/2020-11-20-2M9RA-Bildschirmfoto_20201120_001.png" alt="2020-11-20-2M9RA-Bildschirmfoto_20201120_001.png" /></p>
<h3 id="element">Element</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> said:</p>
<blockquote>
<h4 id="delight-rich-vdh-michael-t3chguy-valere-steve-nique-nad">Delight (Rich vdH, Michael (t3chguy), Valere, Steve, Nique, Nad)</h4>
<ul>
<li>
<p><strong>Improving usability</strong></p>
<ul>
<li>
<p>Last week</p>
<ul>
<li>Observed user tests of people trying to use Element for the first time for personal and professional use cases</li>
</ul>
</li>
<li>
<p>This week:</p>
<ul>
<li>
<p>Began work on fixing several of the issues observed, like:</p>
<ul>
<li>adding an invite people button to new rooms, so users can more easily add people;</li>
<li>changing copy to help people understand what DMs are</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Spaces</strong></p>
<ul>
<li>Communities are coming back with a bang! Last week we said we renamed them to Spaces, and this week, we‚Äôve started designing what<a href="https://github.com/matrix-org/matrix-doc/pull/1772"> MSC1772</a> would look like for users on Element, to start user testing next week.</li>
</ul>
</li>
<li>
<p><strong>Social login</strong></p>
<ul>
<li>To make authentication easier, we‚Äôve started initial implementations of SSO in Element, exploring how homeservers &amp; Matrix clients can support multiple SSO providers. Most of the work so far is captured in <a href="https://github.com/matrix-org/matrix-doc/pull/2858">MSC2858</a>.</li>
</ul>
</li>
</ul>
<h4 id="voip-dave-brendan-ismail-francois-simon-nad">VoIP (Dave, Brendan, Ismail, Francois, Simon, Nad)</h4>
<ul>
<li>
<p>Web</p>
<ul>
<li>PR up for new look in-call UI, now looking at line 1 / 2 support</li>
</ul>
</li>
<li>
<p>Mobile</p>
<ul>
<li>Work ongoing to update both platforms to v1 VoIP</li>
</ul>
</li>
<li>
<p>Design</p>
<ul>
<li>Some tweaks as implementation is ongoing</li>
</ul>
</li>
</ul>
<h4 id="web-platform-ryan">Web Platform (Ryan)</h4>
<ul>
<li>
<p>Element Web 1.7.14-rc.1 is now available at <a href="https://staging.element.io"><a href="https://staging.element.io">https://staging.element.io</a></a>, including:</p>
<ul>
<li>
<p>Several tweaks and improvements to the room list filter</p>
</li>
<li>
<p>Improved registration based on user feedback</p>
</li>
<li>
<p>Improved invite / create DM flow</p>
</li>
</ul>
</li>
</ul>
<h4 id="ios-platform-manu-gil">iOS Platform (Manu, Gil)</h4>
<ul>
<li>
<p>Last week: </p>
<ul>
<li>
<p>The release has been blocked because a <a href="https://github.com/vector-im/element-ios/issues/3817">bug</a> has been found in the end to end encryption module. It has been fixed but we want to fix <a href="https://github.com/vector-im/element-ios/issues/3818#issuecomment-731174166">damages</a> it created on one time keys before releasing the new app version.</p>
</li>
<li>
<p>The new background sync service mechanism PR has been updated</p>
</li>
<li>
<p>We started to integrate <a href="https://tuist.io/">tuist</a> to stop to be annoyed with merge conflicts on the Xcode project file</p>
</li>
</ul>
</li>
<li>
<p>This week: </p>
<ul>
<li>Release!</li>
<li>Merge the background sync service mechanism PR and make more people test it</li>
</ul>
</li>
</ul>
<h4 id="android-platform-benoit-onuray">Android Platform (Benoit, Onuray)</h4>
<ul>
<li>
<p>Last week:</p>
<ul>
<li>We‚Äôve just merged a lot of PRs, to improve room creation form and fix some bugs.</li>
<li>SDK side, <a href="https://github.com/Dominaezzz">Dominaezzz</a> is converting some of the Service API methods to coroutines, for a cleaner code. See for instance <a href="https://github.com/vector-im/element-android/pull/2414"><a href="https://github.com/vector-im/element-android/pull/2414">https://github.com/vector-im/element-android/pull/2414</a></a> . 9 out of about 45 services have been migrated so far. We have about a 45 services in the SDK (!)</li>
</ul>
</li>
<li>
<p>This week:</p>
<ul>
<li>Release including a new way to invite friends to Matrix and to Element.</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> reported:</p>
<blockquote>
<p>Released 0.1.30 with image uploads. There is also a new preference in the settings to scale sent images down.</p>
</blockquote>
<iframe width="560" height="315" src="https://www.youtube.com/embed/wpAXR-HYKmI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="ruma">Ruma</h3>
<p>Ruma is a Rust project to create a comprehensive set of APIs for Matrix. Previously there was a Ruma homeserver project.</p>
<p><a href="https://matrix.to/#/@jplatte:privacytools.io">jplatte</a> said:</p>
<blockquote>
<p>Since our last update four weeks ago,</p>
<ul>
<li>
<p>iinuwa created issues for all of the identity service api endpoints (w/ suggested module names!) üéâ</p>
</li>
<li>
<p>I updated lots of enumerated types to allow unspecced values, for future compatibility &amp; robustness</p>
</li>
<li>
<p>Devin R made sure a custom Content-Type in responses overwrites the default rather than creating a duplicate header. <a href="https://github.com/ruma/ruma/pull/339">#339</a></p>
</li>
<li>
<p><a href="https://github.com/gnieto">gnieto</a> fixed a bunch of bugs in ruma-federation-api</p>
</li>
<li>
<p><a href="https://github.com/aledomu">Alejandro Dom√≠nguez</a> added support for deserializing string power levels (requires the <code>unstable-synapse-quirks</code> feature because these events are invalid according to the spec but Synapse used to (?) accept them)</p>
</li>
</ul>
</blockquote>
<h3 id="ruby-sdk">Ruby SDK</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> reported:</p>
<blockquote>
<p>Just released version 2.2.0 of the <a href="https://github.com/ananace/ruby-matrix-sdk">Matrix Ruby SDK</a> with the help of the community, with this release support for JRuby is improved - though still not perfect, in the higher-level abstraction direct messaging rooms are now exposed for all users - as well as all that the current user has, and the lower-level abstraction sees the addition of the CS API method to get an event context.</p>
<p>And just to reiterate; if you're using the gem - or have questions/comments about it. please do drop into the discussion room at <a href="https://matrix.to/#/#ruby-matrix-sdk:kittenface.studio">#ruby-matrix-sdk:kittenface.studio</a>.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<p>You can see demos of both bots in this section by watching Matrix Live \o/</p>
<h3 id="home-assistant-bot-v2-0-0-released"><a href="https://gitlab.com/olegfiksel/home-assistant-bot/-/releases/v2.0.0">home-assistant-bot v2.0.0 released</a></h3>
<p><a href="https://matrix.to/#/@oleg:fiksel.info">Oleg</a> told us:</p>
<blockquote>
<p>Opsdroid bot for triggering home-assistant automations.</p>
<h4 id="changes">Changes</h4>
<ul>
<li>
<p>‚ö†Ô∏è  Possible breaking change: <a href="https://gitlab.com/olegfiksel/home-assistant-bot/-/issues/4">change behavior how messages are matched</a></p>
<ul>
<li>
<p>Before: messages were matched only if a message starts with <code>!</code></p>
</li>
<li>
<p>In this version: the whole message is matched. This means in v2.0.0 this will work <code>Hey, please !turnon light1</code></p>
<ul>
<li>You can override this by using <code>^</code> in the config for. For example: <code>regex: &quot;^!turnon&quot;</code></li>
</ul>
</li>
<li>
<p>This allows one bot trigger another. See this TWIM video for details. üòâ</p>
</li>
</ul>
</li>
<li>
<p>Add <a href="https://gitlab.com/olegfiksel/home-assistant-bot/-/blob/master/howtos/wake-up-light/README.md">howto for setting up wakeup-light with home-assistant</a></p>
</li>
<li>
<p>Update Opsdroid to v0.19.0</p>
</li>
<li>
<p>Update opsdroid-homeassistant to 0.1.8</p>
</li>
<li>
<p>Add <code>debug</code> <a href="https://gitlab.com/olegfiksel/home-assistant-bot/-/blob/master/sample-config.yaml#L40">config parameter</a> to display messages in the chat, that the bot is getting but, maybe, is not processing/matching</p>
</li>
</ul>
<h4 id="feedback">Feedback</h4>
<ul>
<li>Join us at <a href="https://matrix.to/#/#home-assistant-bot:fiksel.info">#home-assistant-bot:fiksel.info</a> <a href="https://matrix.to/#/#opsdroid-general:matrix.org">#opsdroid-general:matrix.org</a></li>
</ul>
</blockquote>
<h3 id="famedly-timetracking-bot">Famedly Timetracking bot</h3>
<p><a href="https://matrix.to/#/@mtrnord:nordgedanken.dev">MTRNord</a> announced:</p>
<blockquote>
<p>As seen in the video I am working at famedly on a bot to track our work hours.</p>
<p>Until this happens the video gives you a sneakpeak on the functions of that bot.</p>
<h4 id="current-implemented-functions">Current (implemented) functions</h4>
<ul>
<li>
<p>Tracking of time using <code>!in</code> and <code>!out</code> commands with forced usage of a description as well as ISO 8601 timestamps.</p>
</li>
<li>
<p>Verification if a time is logical based on the known data</p>
</li>
<li>
<p>Saving the times tracked inside of postgresql</p>
</li>
<li>
<p>Tracking durations using a <code>!record</code> command</p>
</li>
<li>
<p>Responding to only allowed users. (Including ignoring invites if a user is not allowed to use the bot.)</p>
</li>
<li>
<p>Using <code>!delete</code> to remove entries from the database as needed</p>
</li>
</ul>
<h4 id="planned-functions">Planned functions</h4>
<ul>
<li>
<p>Handling of timezones based on users</p>
</li>
<li>
<p><code>!stats</code> command which prints you the tracked durations based on a predefined or custom range of time</p>
</li>
<li>
<p>CSV Export based on a defined range</p>
</li>
<li>
<p><code>!break</code> command. Putting a break in between a record or a in/out combination.</p>
</li>
<li>
<p>Better handling of multiple !in commands</p>
</li>
<li>
<p>Improved responses</p>
</li>
<li>
<p>Reminders to call !out and to take breaks</p>
</li>
</ul>
<p>Fell free to join us at <a href="https://matrix.to/#/#timetracking-bot:famedly.de">#timetracking-bot:famedly.de</a> . As soon as the repo gets opened up to public we will announce it in TWIM. Feel free to give suggestions or wishes in our room :)</p>
<p>Get it at: <a href="https://gitlab.com/famedly/bots/timetracking">https://gitlab.com/famedly/bots/timetracking</a></p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">envs.net</td><td style="text-align: center">297</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">neko.dev</td><td style="text-align: center">297.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">maescool.be</td><td style="text-align: center">346</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">sorunome.de</td><td style="text-align: center">396</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">apetre.sc</td><td style="text-align: center">439.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">maunium.net</td><td style="text-align: center">503</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">midov.moe</td><td style="text-align: center">520.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">matrix.sp-codes.de</td><td style="text-align: center">603</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">matrix.thedisco.zone</td><td style="text-align: center">608</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">casavant.org</td><td style="text-align: center">609</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;11&#x2F;13&#x2F;this-week-in-matrix-2020-11-13&#x2F;" title="This Week in Matrix 2020-11-13">This Week in Matrix 2020-11-13</a></h2>
                <span>
                    13.11.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/boQGjG9bkt8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>This marks the start of Season 6 of Matrix Live (S06E01), a decision M+A apparently made on the fly just now. Incrementing a mostly-arbitrary counter... Imagine wielding that kind of raw power!</p>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<h3 id="ietf-three-way-bridge">IETF three-way bridge</h3>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> reported:</p>
<blockquote>
<p>The IETF have been continuing to experiment with new chat systems, and <a href="https://matrix.to/#/#xmpp_bridgingmeta_jabber.ietf.org:matrix.org">#xmpp_bridgingmeta_jabber.ietf.org:matrix.org</a> exists as a three-way bridge to discuss the initiative spanning Matrix, XMPP &amp; Zulip.  Really fun to see open chat converging like this :)</p>
</blockquote>
<h2 id="dept-of-science">Dept of Science üß™</h2>
<h3 id="analysis-of-the-matrix-event-graph-replicated-data-type">Analysis of the Matrix Event Graph Replicated Data Type</h3>
<p><a href="https://matrix.to/#/@florian:dsn.tm.kit.edu">Florian</a> announced:</p>
<blockquote>
<p>Fresh off the arXiv presses comes our</p>
<p><a href="https://arxiv.org/abs/2011.06488">‚ÄúAnalysis of the Matrix Event Graph Replicated Data Type‚Äù</a> preprint!
This time, it is a deep dive into the data structure properties of the event graph:</p>
<p>What type of consistency guarantees does it provide,
how many of the other homeservers you share a room with can be faulty or malicious without violating those guarantees (short answer: all of them!),</p>
<p>and how is it possible that a frayed-out event graph ever laces back to just a few current events,
while there is a probability larger than zero for growth to arbitrarily high limits?</p>
<p>To shed light on those questions, we had a great cooperation between my <a href="https://dsn.tm.kit.edu/">Decentralized Systems and Network Services
Research Group</a> and <a href="https://www.math.kit.edu/stoch/~henze/">Prof. Dr. Norbert Henze from the Institute of Stochastics</a>.</p>
<p>While we are still in search of the right venue for peer-reviewed publication,
we went for a preprint this time to share our results with the scientific and the Matrix community in a timely manner.</p>
</blockquote>
<p><img src="/blog/img/2020-11-13-WTJwJ-next-step-expectations.png" alt="2020-11-13-WTJwJ-next-step-expectations.png" /></p>
<p>In this figure, k is the number of participating servers, U_n is the current width of the event graph.</p>
<blockquote>
<p>For example, with a current width of U_n = 1000 events and k = 200 servers,
we can expect that the width goes below E(U_{n+1}) &lt; 600 events in just one step.*</p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> reported:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2774">MSC2774: Expose the widget ID to the widget</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2765">MSC2765: Widget avatars</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2858">MSC2858: Multiple SSO Identity Providers</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2855">MSC2855: Server-Initiated Client Clear-Cache &amp; Reload</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, <a href="https://github.com/matrix-org/matrix-doc/issues/2744">MSC2744</a> has entered FCP. As such we're switching it out for <a href="https://github.com/matrix-org/matrix-doc/issues/2844">MSC2844</a>, which aims to define a global versioning system for all spec documents. Note that MSC2844 does not currently have FCP proposed. Its purpose for being in the focus this time around is for asking the team whether ideas proposed are plausible.</p>
<p>Thus this week's focus is <a href="https://github.com/matrix-org/matrix-doc/issues/1544">MSC1544</a> (QR Code verification), <a href="https://github.com/matrix-org/matrix-doc/issues/2790">MSC2790</a> (modal widgets) and <a href="https://github.com/matrix-org/matrix-doc/issues/2844">MSC2844</a> (global versioning).</p>
<p>We've also started making use of a Github board to track the state of an MSC through the currently somewhat ambiguous process of putting up an MSC that is ready for review to starting FCP. You can find the board here: <a href="https://github.com/orgs/matrix-org/projects/31">SCT Backlog</a>.</p>
<p>Some explanation of the columns:</p>
<ul>
<li>
<p>Awaiting SCT Input - These are MSCs that are deemed reviewable by the MSC author, and require review by a subsection of the Spec Core Team (usually one or two people) that are most familiar with the scope of Matrix that the MSC is relevant to.</p>
</li>
<li>
<p>Ready for FCP ticks - At least one individual from the Spec Core Team has signed off on the MSC. It is not time for others to give a cursory review - mainly sanity checking from the perspective of the part of Matrix that they work on. Note that fundamental flaws may still be found in this stage, requiring the MSC to be reworked.</p>
</li>
<li>
<p>In FCP - The MSC is in Final Comment Period, where everyone has a last chance to get their ideas in. This happens after most of the Spec Core Team have given their ticks from the previous column.</p>
</li>
<li>
<p>Done - These MSCs no longer need immediate attention by some portion of the Spec Core Team.</p>
</li>
</ul>
<p>These definitions are all flexible as we continue to see what works for the limited resources we have available for review.</p>
<p>Do not be alarmed if a particular MSC is not on this board, we're placing things on here as deemed necessary, and more will certainly be added in time.</p>
</blockquote>
<p><img src="/blog/img/2020-11-13-IBXkM-stacked_area_chart.png" alt="2020-11-13-IBXkM-stacked_area_chart.png" /></p>
<h3 id="new-spec-platform">New spec platform</h3>
<p><a href="https://matrix.to/#/@wbamberg:matrix.org">wbamberg</a> reported:</p>
<blockquote>
<p>Working on the <a href="https://adoring-einstein-5ea514.netlify.app/spec/">new spec platform</a>: this week we've been simplifying the toolchain that builds and renders the spec, to make spec authoring easier and faster.</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@callahad:matrix.org">callahad</a> offered:</p>
<blockquote>
<p><strong>Note:</strong> We are aware of a trivially exploitable denial of service vulnerability in versions of Synapse prior to 1.20.0. Complete details will be disclosed on Monday, November 23rd. If you have not upgraded recently, please do so.</p>
<p>Happy RC day! The first release candidate of Synapse 1.23 is <a href="https://github.com/matrix-org/synapse/releases/tag/v1.23.0rc1">now available</a>. For Synapse admins, we've added numerous new APIs thanks to contributions by <a href="https://github.com/dklimpel">@dklimpel</a>, and we now support generating <a href="https://github.com/matrix-org/synapse/blob/v1.23.0rc1/docs/structured_logging.md">structured logs</a> in a standard manner. The <code>structured</code> and <code>drains</code> logging options are now deprecated in Synapse's configuration.</p>
<p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.23.0rc1">Synapse 1.23.0rc1</a> also includes several significant bugfixes, especially around regressions in the SQLite-to-PostgreSQL database porting script, as well a fix to an issue that would prevent Synapse from recovering after losing its connection to the database. Synapse will also now reject modifications to access control lists which would otherwise result in a server blocking itself from a room. This is a particularly interesting case of unintended consequences in protocol design, and we hope to write more about it soon.</p>
<p>Next week should see the full release of 1.23, followed by a first implementation of <a href="https://github.com/matrix-org/matrix-doc/pull/2403"><em>MSC2403: Add &quot;knock&quot; feature</em></a> landing in the development branch for 1.24. Look for more information in next week's edition of TWiM!</p>
</blockquote>
<h3 id="dendrite">Dendrite</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@kegan:matrix.org">kegan</a> said:</p>
<blockquote>
<p>Neil is still working on P2P routing schemes and I am still working on <a href="https://github.com/matrix-org/cerulean">Cerulean</a>, but that doesn't mean nothing has happened this week! We've been busy reviewing PRs and have landed a big one this week:</p>
<ul>
<li>
<p>Read receipts are now implemented (thanks <a href="https://github.com/S7evinK">@S7evinK</a>!).</p>
</li>
<li>
<p>Usernames with <code>=</code> can now be created, in accordance with the spec.</p>
</li>
</ul>
<p>Spec compliance has improved as a result:</p>
<ul>
<li>
<p>Client-server APIs: 58%, up from 57% last week.</p>
</li>
<li>
<p>Server-server APIs: 83%, up from 81% last week.</p>
</li>
</ul>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@pierre:mamieserv.fr">Pierre</a> offered:</p>
<blockquote>
<p><a href="https://yunohost.org">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration had been updated to 1.21.2 (1.22.1 available in branch <code>testing</code>)</p>
<p><a href="https://github.com/YunoHost-Apps/element_ynh/tree/master">Element Web</a> integration had been updated to 1.7.12 (1.7.13 available in branch <code>testing</code>)</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> said:</p>
<blockquote>
<p>Hello all. Hydrogen gained emotes (/me) this week, together with file uploads and downloads! Also, encryption keys are setup while typing instead of after sending, so you should see less momentary &quot;the sender hasn't sent the keys yet&quot;. Also a good number of bugs were solved. Next up: image uploads!</p>
</blockquote>
<p>As expected, <code>/me</code> commands brought a chorus of:</p>
<blockquote>
<p>now that you support commands, you must add the single most important command in any decent Matrix client</p>
</blockquote>
<p>- tulir</p>
<p>Bruno got the idea pretty quickly:</p>
<p><font color="#ff00be">/</font><font color="#ff006e">r</font><font color="#ff4608">a</font><font color="#ff8600">i</font><font color="#f1ad00">n</font><font color="#a6c700">b</font><font color="#28d600">o</font><font color="#00df22">w</font> <font color="#00e7e1">p</font><font color="#00e7ff">e</font><font color="#00e3ff">r</font><font color="#00d9ff">h</font><font color="#00c3ff">a</font><font color="#69a0ff">p</font><font color="#ff68ff">s</font><font color="#ff00ff">?</font></p>
<h3 id="element">Element</h3>
<p><a href="https://matrix.to/#/@nadonomy:matrix.org">Nad</a> announced:</p>
<blockquote>
<p>Hello TWIM! From this week on we're changing how we're reporting updates on the Element clients. Each week, we'll include a section for cross-platform feature work the Element team is working on, and some sections for platform specific work too.</p>
<p><strong>Spaces (previously known as Communities)</strong></p>
<p>Communities are back! They've been renamed to Spaces, and on the Element team we've been busy exploring user experience and critical thinking for <a href="https://github.com/matrix-org/matrix-doc/pull/1772">MSC1772</a>, to allow users to organise rooms into useful groups.</p>
<p><strong>Social Login</strong></p>
<p>In an effort to reduce friction in authentication, we've been R&amp;Ding how to allow homeservers &amp; Matrix clients to support multiple SSO providers.. Most of the work so far is captured in <a href="https://github.com/matrix-org/matrix-doc/pull/2858">MSC2858</a> and we're starting initial implementations in Element web next week.</p>
<p><strong>VoIP: Voice &amp; Video Calls</strong></p>
<p>We've started foundational research, design and engineering to improve both the usability and stability of native matrix VoIP in Element. We've also started to look at how we can improve the continuity of the user experience between native Matrix calls and our current implementation of Jitsi.</p>
<p><strong>Usability</strong></p>
<p>We've been focusing on improving post-registration actions all round to make Element provide better prompts for first actions, and empty states for views on all platforms, with a multitude of fixes having landed on Element Web, iOS &amp; Android in the last week. We've also started paid user testing to better understand specific pain points in the first time user experience, which we're looking to improve significantly in the coming weeks. </p>
<p><strong>Web platform</strong></p>
<p>v1.7.13 is now live! Which includes a bunch of fixes &amp; improvements on VoIP.</p>
<p><strong>Android platform</strong></p>
<p>v1.0.10 is now available on the Play Store. We're also doing ongoing work to catch up with feature parity to Element Web, and <a href="https://github.com/Dominaezzz">Dominaezzz</a> is migrating SDK APIs to suspend functions: no more MatrixCallback!</p>
<p><strong>iOS platform</strong></p>
<p>v1.1.0 is soon to be live on TestFlight for beta testers, and we'll soon be turning our attention to fixing end-to-end encryption regressions.</p>
</blockquote>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> reported:</p>
<blockquote>
<ul>
<li>
<p>You can now see yourself too during a video call.</p>
</li>
<li>
<p>You can change the ringtone, as the default can be a bit annoying.</p>
</li>
<li>
<p>Avatars should now not look as pixelated in some weird edge cases.</p>
</li>
<li>
<p>You can now add text after a /shrug command.</p>
</li>
</ul>
<p>That's all, thank you trilene and MayeulC for the contributions!</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="matrix-app-service-ex-elixir-sdk">matrix_app_service.ex (Elixir SDK)</h3>
<p><a href="https://matrix.to/#/@pierre:matrix.asso-fare.fr">pierre</a> told us:</p>
<blockquote>
<p>We've (finally) released a first version of matrix_app_service.ex, an Elixir library for the application service API (<a href="https://hex.pm/packages/matrix_app_service/0.1.0">hex</a>, <a href="https://gitlab.com/kazarma/matrix_app_service.ex/">GitLab</a>)</p>
</blockquote>
<p>uhoreg (known Elixir fan, asked):</p>
<blockquote>
<p>that's cool.  Do you have any projects that are using it?</p>
</blockquote>
<p>Pierre:</p>
<blockquote>
<p>I don't want to &quot;sell&quot; it before there's some kind of poc, but with a few friends we're trying to build a bridge for ActivityPub. we're using the library of the same name by the people behind CommonsPub, of which a lot of code comes from Pleroma, so the application service appears as an ActivityPub server. it's still the beginning, and I'm just starting to think about which information a bridge needs to keep (I guess sometime I'll ask Half-Shot a big list of questions üòÅ)</p>
</blockquote>
<p>Today might be our highest-ever Pierre-ratio in TWIM!</p>
<h3 id="matrix-spring-boot-sdk">matrix-spring-boot-sdk</h3>
<p><a href="https://matrix.to/#/@benedict:imbitbu.de">Benedict</a> announced:</p>
<blockquote>
<p>A new release integrates an embedded h2 database into <a href="https://github.com/benkuly/matrix-spring-boot-sdk">matrix-spring-boot-bot</a>, which makes it a lot easier to write bots with persistency. You only need a few lines of code to write simple bots (<a href="https://github.com/benkuly/matrix-spring-boot-sdk/blob/master/matrix-spring-boot-bot-examples/ping-bot/src/main/kotlin/net/folivo/matrix/bot/examples/pingappservice/PingHandler.kt">e. g. a ping bot</a>). I also changed a lot under the hood (e. g. using type-safe Matrix-Id-classes instead of Strings).</p>
<h4 id="matrix-sms-bridge">matrix-sms-bridge</h4>
<p>The <a href="https://github.com/benkuly/matrix-sms-bridge">matrix-sms-bridge</a> now uses the h2 database from <a href="https://github.com/benkuly/matrix-spring-boot-sdk">matrix-spring-boot-bot</a> instead of neo4j, which makes it a lot more stable and fixes some bugs. We are using it in production with hundreds of target telephone numbers without problems. I also added an optional feature to use room aliases (e. g. #sms_4901234567:homeserver) to prevent multiple rooms with one target telephone number (which is still possible).</p>
<p>In a few weeks you can use this bridge with an old Android-Smartphone, which acts as an sms gateway with rest api.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h3>
<p>This <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">Ansible playbook</a> is meant to easily let you run your own Matrix homeserver.</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> announced:</p>
<blockquote>
<p>Thanks to <a href="https://github.com/scottcrossen">Scott Crossen</a>'s work, <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> can now manage Dynamic DNS using <a href="https://ddclient.net/">ddclient</a>.</p>
<p>To learn more, follow our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-dynamic-dns.md">Dynamic DNS docs page</a>.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="new-matrix-chat-bot-mozilla-focus-first">New Matrix chat bot, Mozilla-focus first</h3>
<p><a href="https://matrix.to/#/@bnjbvr:delire.party">bnjbvr</a> announced:</p>
<blockquote>
<p>I've written a small <a href="https://blog.benj.me/2020/11/12/botzilla/">blog post</a> about a Matrix chat bot I've developed with <a href="https://github.com/turt2live/matrix-js-bot-sdk">matrix-js-bot-sdk</a>, it was started to address Mozilla specific features first, but then I've added a few other generally useful features too! Hope you'll like it and find it useful!</p>
</blockquote>
<p><a href="https://matrix.to/#/#botzilla:delire.party">#botzilla:delire.party</a> is the room for discussion (thanks Davo)</p>
<h2 id="dept-of-built-on-matrix">Dept of <em>Built on Matrix</em> üèóÔ∏è</h2>
<h3 id="gurlic-com-new-social-network-getting-matrix-integration">gurlic.com, new social network getting Matrix integration</h3>
<p><a href="https://matrix.to/#/@ahq:matrix.org">ahq</a> said:</p>
<blockquote>
<p>Hello Matrix friends. I've been asked to share this here. I'm currently building a platform for building communities. I'm focused on deeper matrix integration with communities, private messaging built on top of matrix, and custom domain support. Feel free to check out <a href="https://gurlic.com">https://gurlic.com</a>. The matrix community is at <a href="https://gurlic.com/matrix">https://gurlic.com/matrix</a>, but I haven't had the time to post much. </p>
<p>We have communities (https://gurlic.com/space -&gt; <a href="https://gurlic.space">https://gurlic.space</a>)</p>
<p>We have galleries (https://gurlic.com/art -&gt; <a href="https://gurlic.art">https://gurlic.art</a>)
We have publications (https://gurlic.com/classics -&gt; <a href="https://classics.wtf">https://classics.wtf</a>)</p>
<p>We have user pages (https://gurlic.com/bob -&gt; https://bob.monster)</p>
<p>The UI is a little confusing now because we have longform articles (https://gurlic.com/homer/the-iliad-book-ii) and short social media posts (https://gurlic.com/privacy/post/324848317844422661).</p>
<p>I pretty much want all resources to have custom domain support, and matrix rooms for all communities, and nested communities. In the near future, I hope to have matrix servers for custom domains too. And of course, the source will also be open if folks want to host.</p>
<p>Right now, users on gurlic get a matrix account, and communities/galleries/publications get a room too, but i'm hoping to take some time to look at much deeper integration. Dendrite and hydrogen are great to build on top off...</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">maunium.net</td><td style="text-align: center">318</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">neko.dev</td><td style="text-align: center">363</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">finallycoffee.eu</td><td style="text-align: center">364</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">chatcloud.net</td><td style="text-align: center">384</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">envs.net</td><td style="text-align: center">586.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">acmelabs.space</td><td style="text-align: center">640</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">matrix.sp-codes.de</td><td style="text-align: center">696.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">kernelpanic.cafe</td><td style="text-align: center">750</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">casavant.org</td><td style="text-align: center">834</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">matrix.thedisco.zone</td><td style="text-align: center">904</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;11&#x2F;06&#x2F;this-week-in-matrix-2020-11-06&#x2F;" title="This Week in Matrix 2020-11-06">This Week in Matrix 2020-11-06</a></h2>
                <span>
                    06.11.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live-demos-week">Matrix Live üéô Demos Week</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/lv26TYmLZvE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Demos week is fun! Reminds me of walk-around-the-office-interrupting-people week, which we don't have any longer. :(</p>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°</h2>
<p><a href="https://matrix.org/open-tech-will-save-us/">Open Tech Will Save Us #8</a> will take place next Wednesday, join us! Calendar event coming soon.</p>
<ul>
<li><strong>Muhammad Radwan</strong>, on behalf of <strong>Tactical Tech</strong>, will present their work on <strong><a href="https://theglassroom.org/misinformation/">The Glass Room Misinformation Edition</a></strong>.
<em>What happens when we increasingly rely on social media and the web for nearly all our information? What information do we see, and what do we miss? How do we know if a picture or a tweet is genuine or truthful? And what can we do if we can‚Äôt be sure?</em></li>
<li><strong>Popi</strong> from <strong>CHATONS</strong> will present the work done by CHATONS (&quot;Collective of Alternative, Transparent, Open, Neutral and United Hosters&quot;)
<em>CHATONS has been initiated by Framasoft, in the wake of the success of its campaign &quot;De-google-ify Internet&quot;. A CHATONS member pledges to propose fully FLOSS-based online services, in an ethical and united spirit.</em></li>
<li><strong>Hubert|Uhoreg Chathi</strong> will present on the state of encryption in Matrix, and more broadly
<em>Why the PGP model is insufficient, what properties we want from encryption (e.g. why we want perfect forward secrecy), how the newer protocols (OTR, double-ratchet, megolm) give us some of the properties we want, and then what's coming in the future (MLS, and what that gives us)</em></li>
</ul>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> said:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a></p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2765">MSC2765: Widget avatars</a> (merge)</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2848">MSC2848: Globally unique event IDs</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2846">MSC2846: Decentralizing media through CIDs</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2845">MSC2845: Phone number lookups using third party API</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2844">[WIP] MSC2844: Global version number for the whole spec</a></p>
</li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, we're switching out <a href="https://github.com/matrix-org/matrix-doc/pull/2765">MSC2765</a> (widget avatars) for <a href="https://github.com/matrix-org/matrix-doc/pull/1544">MSC1544</a> (QR code verification), and keeping</p>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2774">MSC2774</a> (widget URL template param), and <a href="https://github.com/matrix-org/matrix-doc/pull/2790">MSC2790</a> (modal widgets).</p>
</blockquote>
<p><img src="/blog/img/2020-11-06-w-Fgj-stacked_area_chart.png" alt="2020-11-06-w-Fgj-stacked_area_chart.png" /></p>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@callahad:matrix.org">callahad</a> offered:</p>
<blockquote>
<p>Happy November from the Synapse team! As mentioned last week, we pushed a small <a href="https://github.com/matrix-org/synapse/releases/tag/v1.22.1">v1.22.1 release</a> last Friday which fixed two regressions:</p>
<ul>
<li>
<p>Fix a bug where an appservice may not be forwarded events for a room it was recently invited to. Broke in v1.22.0. (<a href="https://github.com/matrix-org/synapse/issues/8676">#8676</a>)</p>
</li>
<li>
<p>Fix <code>Object of type frozendict is not JSON serializable</code> exceptions when using third-party event rules. Broke in v1.22.0. (<a href="https://github.com/matrix-org/synapse/issues/8678">#8678</a>)</p>
</li>
</ul>
<p>If you haven't upgraded your Synapse in a while, <em>please do.</em></p>
<p>A major focus of Synapse is being able to meet the performance and reliability needs of massive homeservers like <code>matrix.org</code>. If you're curious about how Synapse's architecture has evolved over the years to meet these scaling challenges, check our our blog post from Tuesday: <a href="https://matrix.org/blog/2020/11/03/how-we-fixed-synapses-scalability">How we fixed Synapse's scalability!</a></p>
<p>Lastly, we anticipate releasing 1.23.0 in the next fortnight; keep your eyes peeled for release candidates and let us know if you have any feedback. For a preview of what's coming, <a href="https://github.com/matrix-org/synapse/compare/v1.22.1...develop">check out GitHub</a> for the new commits that have landed on the <code>develop</code> branch since our last release.</p>
</blockquote>
<p>PLUS <a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> said:</p>
<blockquote>
<p>Synapse now horizontally scales across multiple python processes, as of 1.22: you can configure it so that events are no longer sent through the main proc, eliminating the single biggest bottleneck for large scale Synapse deployments. Read all about it at <a href="https://matrix.org/blog/2020/11/03/how-we-fixed-synapses-scalability">https://matrix.org/blog/2020/11/03/how-we-fixed-synapses-scalability</a></p>
</blockquote>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> told us:</p>
<blockquote>
<p>Things have been quiet for Dendrite over the last week as I have been working on Pinecone/P2P and Kegan has been working on threading.</p>
<p>That said, a couple of minor changes have been merged:</p>
<ul>
<li>
<p>Forgetting rooms is now supported (thanks <a href="https://github.com/S7evinK">S7evinK</a>!)</p>
</li>
<li>
<p>The gjson dependency has been updated for correct integer safe ranges</p>
</li>
</ul>
<p>Spec compliance is the same as last week:</p>
<ul>
<li>
<p>Client-server APIs: 57%</p>
</li>
<li>
<p>Server-server APIs: 81%</p>
</li>
</ul>
<p>As always, feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for general Dendrite chat or <a href="https://matrix.to/#/#dendrite-dev:matrix.org">#dendrite-dev:matrix.org</a> for development discussion.</p>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@pierre:mamieserv.fr">Pierre</a> announced:</p>
<blockquote>
<p><a href="https://yunohost.org">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration had been updated to 1.21.2 (1.22.1 available in branch <code>testing</code>)</p>
<p><a href="https://github.com/YunoHost-Apps/element_ynh/tree/master">Element Web</a> integration had been updated to 1.7.9 (1.7.12 available in branch <code>testing</code>)</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="gitter">Gitter</h3>
<p><a href="https://matrix.to/#/@madlittlemods:matrix.org">Eric Eastwood</a> told us:</p>
<blockquote>
<p>Exciting visual progress this week with actual bridging between Gitter and Matrix utilizing the <code>virtualUser</code> feature,</p>
<p>we've been iterating on the past couple weeks. Check out the image with all of the user avatars and display name goodness
to make both chats on Element and Gitter feel one in the same!</p>
<p>You can also check out the live demo in Matrix Live!</p>
</blockquote>
<p><img src="/blog/img/2020-11-06-pC5bp-ScreenShot2020-11-06at12.23.37PM.png" alt="2020-11-06-pC5bp-ScreenShot2020-11-06at12.23.37PM.png" /></p>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> reported:</p>
<blockquote>
<p>As mentioned in the sync on Monday, I was mostly distracted from Hydrogen this week. (<em>sorry Bruno -BP</em>) I did release the picture lightbox on Monday, and yesterday managed to close 4 bugs. There's also a community PR for better usability and accessibility in the login screen (keep those coming!) and after some work to make encryption more robust, I hope to do a release with all those goodies tonight.</p>
</blockquote>
<p>Check out the demos vid for more Hydrogen!</p>
<h3 id="fractal">Fractal</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> said:</p>
<blockquote>
<p>Since <a href="https://matrix.org/blog/2020/10/23/this-week-in-matrix-2020-10-23#fractal">a couple of weeks ago</a>, we have merged a couple of branches that do a couple of things:</p>
<ul>
<li>
<p>Clean up use of deprecated gtk-rs API</p>
</li>
<li>
<p>Minimize use of child properties, which are gone in GTK4</p>
</li>
<li>
<p>Remove use of widgets what are gone in GTK4, such as GtkAlignment</p>
</li>
<li>
<p><a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/639">Ensure we unlock the default secrets collection for login</a></p>
</li>
</ul>
<p>And here‚Äôs another nudge, calling for reviewers for <a href="https://matrix.org/blog/2020/10/09/this-week-in-matrix-2020-10-09#fractal">that mega merge request for us to switch to <code>matrix-rust-sdk</code></a>.</p>
</blockquote>
<h3 id="element-for-android-1-0-10">Element for Android 1.0.10</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> said:</p>
<blockquote>
<p>Element for Android 1.0.10 has been released to the beta channel of the PlayStore. We will push it to prod if there is no major problem with it. Full release notes: <a href="https://github.com/vector-im/element-android/releases/tag/v1.0.10">https://github.com/vector-im/element-android/releases/tag/v1.0.10</a>.</p>
</blockquote>
<p><a href="https://github.com/vector-im/element-android/issues/1921">#1921</a> being fixed! ‚ù§Ô∏è</p>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> offered:</p>
<blockquote>
<p>This week, we came back to the background sync work to quickly display a notified message in the app. In parallel, we created a profiling tool at the SDK level to track performance like this one.</p>
</blockquote>
<h3 id="element-web-desktop">Element Web/Desktop</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> enunciated:</p>
<blockquote>
<p>We are working through some low hanging fruit around post registration, blank screen interaction prompts and toast tweaks. We are also  experimenting with SSO for matrix.org. Meaning that Element will give the user the option of either username/password or SSO. Finally, we are continuing our VoIP efforts and nailing down the designs, checkout Matrix Live for all the details. Next week we'll carry on with post registration UX, VoIP improvements.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="matrix-sdk-for-elixir">Matrix SDK for Elixir</h3>
<p><a href="https://matrix.to/#/@cognitive_tea:matrix.org">cognitive_tea</a> reported:</p>
<blockquote>
<p>Hi all! I <em>think</em> this is the right place to share this ü§û. I've been working on a Matrix SDK for Elixir over the last few months as a side project, it's very early days and it's currently just a bare-bones wrapper for the Client-Server API. I've also written the Elixir/Erlang bindings for Olm (currently missing group sessions) which should be added to the SDK soon. The repo can be found here: <a href="https://github.com/niklaslong/matrix-elixir-sdk">https://github.com/niklaslong/matrix-elixir-sdk</a> and the Elixir bindings for Olm are linked in the readme.</p>
</blockquote>
<p>It is the right place! Thanks cognitive_tea :D</p>
<p>Asked if there were big plans for use of the project</p>
<blockquote>
<p>Not as yet, though a few people have reached out to me already and are building on top of it. I started it as a way to get going with Matrix dev and as a fun side project. That being said, I think providing the tools to Matrix-enable Elixir apps might lead to some interesting things.
If anyone has any precise ideas on how they would want to integrate their Elixir apps with Matrix, I'd be super happy to have a chat üëçÔ∏è
Less precise ideas are also welcome, of course üôÇ</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="hemppa">Hemppa</h3>
<p><a href="https://matrix.to/#/@cos:hacklab.fi">Cos</a> announced:</p>
<blockquote>
<p>Hemppa the bot is a generic bot for writing modules as easily as possible in Python. Thanks to issues with Freenode IRC bridge Hemppa got a new module for basic relaybot bridging of any Matrix rooms. Relaybots are stupid, but sometimes there's no working alternative. <a href="https://github.com/vranki/hemppa#relay-bridge">https://github.com/vranki/hemppa#relay-bridge</a></p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks üó£Ô∏è</h2>
<h3 id="arch-conf-2020">Arch Conf 2020</h3>
<p><a href="https://matrix.to/#/@babolivier:vector.modular.im">Brendan Abolivier</a> reported:</p>
<blockquote>
<p>I did a talk at <a href="https://conf.archlinux.org/">Arch Conf 2020</a> last month, on a generic introduction of Matrix and how to install a Matrix homeserver on Arch Linux. The recording has just been uploaded; it can be found on <a href="https://media.ccc.de/v/arch-conf-online-2020-6306-enter-the-matrix-install-your-own-matrix-server-on-arch-linux">CCC's media site</a> as well as <a href="https://www.youtube.com/watch?v=lEDfv9X0II4">YouTube</a> üôÇ</p>
</blockquote>
<p>YES BRENDAN!</p>
<h2 id="matrix-in-the-news-newspaper">Matrix in the News üì∞</h2>
<h3 id="oleg-s-talk-the-article">Oleg's talk, the article</h3>
<p><a href="https://matrix.to/#/@emorrp1:freedombox.emorrp1.name">emorrp1</a> told us:</p>
<blockquote>
<p>New Matrix coverage in LWN via an Open Source Summit Europe talk <a href="https://lwn.net/SubscriberLink/835880/bd73956d4ceb6cf5/">https://lwn.net/SubscriberLink/835880/bd73956d4ceb6cf5/</a></p>
</blockquote>
<p>See last week for the talk!</p>
<h2 id="final-thoughts-thought-balloon">Final Thoughts üí≠</h2>
<p><a href="https://matrix.to/#/@teecee:midlertidig.online">TeeCee</a> reported:</p>
<blockquote>
<p>I stumbled upon this: <a href="https://www.reddit.com/r/linux/comments/jozg0v/how_i_got_my_group_chat_to_move_to_matrix/">https://www.reddit.com/r/linux/comments/jozg0v/how_i_got_my_group_chat_to_move_to_matrix/</a></p>
</blockquote>
<p>I love that the comments, even on Reddit, are mostly positive. A really nice report.</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">envs.net</td><td style="text-align: center">556</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">privacytools.io</td><td style="text-align: center">579.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">maescool.be</td><td style="text-align: center">621</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">casavant.org</td><td style="text-align: center">750</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">apetre.sc</td><td style="text-align: center">750</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">matrix.thedisco.zone</td><td style="text-align: center">1113</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">matrix.org</td><td style="text-align: center">1159</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">zemos.net</td><td style="text-align: center">1256.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">matrix.sp-codes.de</td><td style="text-align: center">1263</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">halogen.city</td><td style="text-align: center">2616</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;10&#x2F;30&#x2F;this-week-in-matrix-2020-10-30&#x2F;" title="This Week in Matrix 2020-10-30">This Week in Matrix 2020-10-30</a></h2>
                <span>
                    30.10.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/42Q-zUfvv04" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<blockquote>
<p>sometimes you'll come across us at FOSDEM and we'll say &quot;oh it's the future&quot;, and we're trying to make this an actual thing</p>
</blockquote>
<p>- Half-Shot on getting from sci-fi to reality</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> told us:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Closed MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/1777">[WIPish] MSC1777: peeking over federation (via server pseudousers)</a>
<ul>
<li>Obsoleted in favour of <a href="https://github.com/matrix-org/matrix-doc/pull/2444">MSC2444</a></li>
</ul>
</li>
</ul>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2758">MSC2758: Proposal for a common identifier grammar</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2839">MSC2839: Dynamic User-Interactive Authentication</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2836">MSC2836: Threading</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2835">MSC2835: Add UIA to the /login endpoint</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2834">MSC2834: Media IDs as hashes</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2832">MSC2832: HS -&gt; AS authorization header</a></p>
</li>
</ul>
<p>Also heads up, the nomenclature for Communities v2 (groups-as-rooms) is now Matrix Spaces! Check out <a href="https://github.com/matrix-org/matrix-doc/pull/1772">MSC1772</a> for the details!</p>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, we're continuing with the widget theme: <a href="https://github.com/matrix-org/matrix-doc/pull/2774">MSC2774</a> (widget URL template param), <a href="https://github.com/matrix-org/matrix-doc/pull/2765">MSC2765</a> (widget avatars), and <a href="https://github.com/matrix-org/matrix-doc/pull/2790">MSC2790</a> (modal widgets).</p>
</blockquote>
<p><img src="/blog/img/2020-10-30-3sOdI-stacked_area_chart.png" alt="2020-10-30-3sOdI-stacked_area_chart.png" /></p>
<h4 id="new-spec-platform">New spec platform</h4>
<p><a href="https://matrix.to/#/@wbamberg:matrix.org">wbamberg</a> told us:</p>
<blockquote>
<p>Updates on the new spec platform: we can render HTTP APIs (https://adoring-einstein-5ea514.netlify.app/spec/client-server/#login) and events (https://adoring-einstein-5ea514.netlify.app/spec/client-server/#room-events).</p>
</blockquote>
<h2 id="dept-of-built-on-matrix">Dept of <em>Built on Matrix</em> üèóÔ∏è</h2>
<h3 id="chupacabra-social">Chupacabra Social</h3>
<p><a href="https://matrix.to/#/@patrick:tincan.community">patrick</a> told us:</p>
<blockquote>
<p>From the creators of Noteworthy, introducing <strong>Chupacabra</strong>, a Matrix powered content sharing and discussion layer.</p>
<p>Video demo: <a href="https://youtu.be/hAouGTL7XAQ">https://youtu.be/hAouGTL7XAQ</a></p>
<p>Github: <a href="https://github.com/decentralabs/chupacabra">https://github.com/decentralabs/chupacabra</a></p>
<p>Join us in <a href="https://matrix.to/#/#chupacabra:chupa.social">#chupacabra:chupa.social</a> to learn more.</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:conduit.rs">Timo</a> announced:</p>
<blockquote>
<p>Hello everyone, I have some amazing news to share with you! While Conduit is getting better at federating, Famedly (https://famedly.com) has agreed to support me working on Conduit financially. With this news come some organizational changes:</p>
<p>Conduit development now happens at <a href="https://gitlab.com/famedly/conduit">https://gitlab.com/famedly/conduit</a>, please submit new issues and pull requests over there. I will update all links in the coming days.</p>
<p>Note: Famedly does not own the project and Conduit will stay free and open source forever!</p>
</blockquote>
<h3 id="matrix-media-repo">matrix-media-repo</h3>
<p><a href="https://github.com/turt2live/matrix-media-repo">matrix-media-repo</a> is a highly customizable multi-domain media repository for Matrix</p>
<p><a href="https://github.com/turt2live">TravisR</a> announced:</p>
<blockquote>
<p><a href="https://github.com/turt2live/matrix-media-repo/releases/tag/v1.2.1">v1.2.1</a> of matrix-media-repo, a third-party media repo for large homeservers, is out now. It's primarily a maintenance update though also has support for audio files if for some reason you need that.</p>
</blockquote>
<p><img src="/blog/img/2020-10-30-e_ntN-image.png" alt="2020-10-30-e_ntN-image.png" /></p>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@callahad:matrix.org">callahad</a> said:</p>
<blockquote>
<p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.22.0">Synapse 1.22.0</a> is out! We announced its first release candidate <a href="https://matrix.org/blog/2020/10/23/this-week-in-matrix-2020-10-23#synapse">last week</a>, and after a <a href="https://github.com/matrix-org/synapse/releases/tag/v1.22.0rc2">small rc2</a> the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.22.0">final release</a> was published last Tuesday. We anticipate a small 1.22.1 release later today with fixes for messages not always being sent to app services (<a href="https://github.com/matrix-org/synapse/issues/8673">#8673</a>) and serialization errors with third-party event rules (<a href="https://github.com/matrix-org/synapse/pull/8678">#8678</a>).</p>
<p>We continue to see improved client join <a href="https://en.wikipedia.org/wiki/Apdex">Apdex</a> scores for matrix.org, indicating that our work in 1.22.0 to split background tasks into separate workers and allow for sharded event persisters successfully improved the user-visible performance of large homeservers.</p>
<p>In other news, we pushed <a href="https://github.com/matrix-org/synapse/pull/8675">a temporary hotfix</a> to the matrix.org homeserver earlier this week, instructing it to drop all cross-user <code>m.key_share_request</code> messages. This was necessary to mitigate <a href="https://gitlab.com/famedly/famedlysdk/-/issues/126">a bug</a> in a third-party library which caused some clients to flood the server with requests. We'll re-enable these messages once we resolve <a href="https://github.com/matrix-org/synapse/issues/8677">issue #8677</a>. In the meantime, we strongly encourage <a href="https://fluffychat.im/">FluffyChat</a> users to upgrade to version 0.21.1.</p>
<p>We're hard at work on the next release of Synapse, and the development branch <a href="https://github.com/matrix-org/synapse/compare/v1.22.0...develop">already includes</a> many bugfixes, several new admin APIs, and support for structured logging‚Äîstay tuned!</p>
</blockquote>
<h3 id="dendrite">Dendrite</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@kegan:matrix.org">kegan</a> said:</p>
<blockquote>
<p>There is no release this week, be sure to have <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.2.1">v0.2.1</a> installed for a more stable experience! A few documentation changes have been made this week:</p>
<ul>
<li>
<p>Docker sample configs are now correct.</p>
</li>
<li>
<p>The <code>MaxMessageBytes</code> for Kafka messages is now configurable - thanks <a href="https://github.com/S7evinK">@S7evinK</a>!</p>
</li>
<li>
<p>A reverse-proxy sample now exists for Hiawatha - thanks <a href="https://github.com/ErgoPoe">@ErgoPoe</a>!</p>
</li>
</ul>
<p>Spec compliance remains unchanged:</p>
<ul>
<li>
<p>Client-server APIs: 57%</p>
</li>
<li>
<p>Server-server APIs: 81%</p>
</li>
</ul>
<p>Things have been quiet this week because Neil has been working on new P2P routing schemes and I have been working</p>
<p>on a <a href="https://github.com/matrix-org/matrix-doc/blob/kegan/msc/threading/proposals/2836-threading.md">Threading proposal</a> which will be tried out in Dendrite in the coming days.</p>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> announced:</p>
<blockquote>
<p>Just pushed the Synapse 1.22.0 versions for my <a href="https://github.com/ananace/matrix-synapse">K8s-optimized image</a> and <a href="https://gitlab.com/ananace/charts">Helm chart</a>.</p>
</blockquote>
<p>... üïõ time üïó went üïü by üï• ...</p>
<blockquote>
<p>Updated my Synapse chart and K8s-optimized image to 1.22.1 as well, and got the element-web chart updated to 1.7.12</p>
</blockquote>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@pierre:mamieserv.fr">Pierre</a> reported:</p>
<blockquote>
<p><a href="https://yunohost.org">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration had been updated to 1.20.1 (1.21.2 available in branch <code>testing</code>)</p>
<p><a href="https://github.com/YunoHost-Apps/element_ynh/tree/master">Element Web</a> integration had been updated to 1.7.9 (1.7.10 available in branch <code>testing</code>)</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="rainbow-bridge-at-night-bifrost-reaches-0-2-0">üåàüåâ Bifrost reaches 0.2.0</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> reported:</p>
<blockquote>
<p>Hey folks, today I bring you a gift wrapped rainbow coated present, which could only mean <strong>Bifrost 0.2.0 is out!</strong>.</p>
<p>We've been making major progress trying to align bifrost with the many XMPP clients out there like <a href="https://gajim.org/">Gajim</a> and <a href="https://swift.im/">Swift</a>, by improving it's compatibility with the various XEPs. I've also noticed a few users have started using it to bridge their Matrix and XMPP communities together which is super cool :)</p>
<p>Please read the latest changelogs over at <a href="https://github.com/matrix-org/matrix-bifrost/releases/tag/0.2.0">https://github.com/matrix-org/matrix-bifrost/releases/tag/0.2.0</a> and upgrade away!</p>
</blockquote>
<h3 id="gitter">Gitter</h3>
<p><a href="https://matrix.to/#/@madlittlemods:matrix.org">Eric</a> reported:</p>
<blockquote>
<p>The <a href="https://gitlab.com/gitlab-org/gitter/webapp/-/merge_requests/2040">merge request for the native Gitter bridge</a> has just got underway and we're making progress towards sharing all Gitter messages in public rooms across to Matrix.</p>
<p>We'll continue to iterate on the <a href="https://gitlab.com/groups/gitlab-org/gitter/-/epics/10">Gitter <code>virtualUser</code> support</a> as we go along.</p>
</blockquote>
<h3 id="mautrix-telegram">mautrix-telegram</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> said:</p>
<blockquote>
<p><a href="https://github.com/tulir/mautrix-telegram/releases/tag/v0.9.0-rc1">v0.9.0-rc1</a> was released last weekend. Changes since v0.8.x include:</p>
<ul>
<li>
<p>Prometheus metric names are now prefixed with <code>bridge_</code></p>
</li>
<li>
<p>Support for Telegram QR code login</p>
</li>
<li>
<p>Support for double puppeting for users on other servers</p>
</li>
<li>
<p>Options for automatic backfilling of missed messages and old messages when creating portals</p>
</li>
<li>
<p>Switched end-to-bridge encryption to use mautrix-python instead of the previous hacky matrix-nio solution</p>
</li>
</ul>
<p>This week I fixed some bugs, so I'll probably make a rc2 in the near future.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="fluffychat-0-21-1-is-released">Fluffychat 0.21.1 is released!</h3>
<p><a href="https://fluffychat.im">FluffyChat</a> is a cute cross-platform matrix client. It is available for Android, iOS, Web and Desktop.</p>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> announced:</p>
<blockquote>
<p>It is already in fdroid, google play and ios should follow shortly. We <em>highly</em> encourage people to update, as it contains an important bugfix of sending out way too many key requests, which can cause bad server performance</p>
<h4 id="features">Features</h4>
<ul>
<li>
<p>New user viewer</p>
</li>
<li>
<p>Add code syntax highlighting in messages</p>
</li>
<li>
<p>Updated translations: Thanks to all helpers</p>
</li>
</ul>
<h4 id="changes">Changes</h4>
<ul>
<li>Stories feature removed</li>
</ul>
<h4 id="fixes">Fixes</h4>
<ul>
<li>
<p>Fixes sentry</p>
</li>
<li>
<p>Fixes Android download</p>
</li>
<li>
<p>Minor fixes</p>
</li>
</ul>
</blockquote>
<p><img src="/blog/img/2020-10-30-8rQ9F-img_20201029_152401.jpg" alt="2020-10-30-8rQ9F-img_20201029_152401.jpg" /></p>
<p><img src="/blog/img/2020-10-30-DESJ--screenshot_20201029-152256_fluffychat.png" alt="2020-10-30-DESJ--screenshot_20201029-152256_fluffychat.png" /></p>
<h3 id="quotient">quotient</h3>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> reported:</p>
<blockquote>
<p>Hot on the heels of 0.0.9.5 beta, <a href="https://github.com/quotient-im/Quaternion/releases/tag/0.0.9.5-beta2">Quaternion 0.0.9.5 beta2</a>
is released, fixing a couple of blunders, notably inability to build with external libQuotient. Keep testing, keep translating!</p>
</blockquote>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> announced:</p>
<blockquote>
<p>Hydrogen can now show images in encrypted rooms! I hope to also release a lightbox feature this afternoon to show a zoomed version of an image.</p>
</blockquote>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> announced:</p>
<blockquote>
<p>This week, we have almost finished the authentication for widgets and jisti in particular. The project is now fully compatible  with Xcode 12.</p>
</blockquote>
<h3 id="element-android">Element Android</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> offered:</p>
<blockquote>
<p>We are making progress on the performance side. Now sending an event is much faster than before. We also are optimizing the crypto code. All those improvements will be available in the next release (v1.0.10), maybe next week?</p>
<p>Besides that, we are implementing the remaining features, we are trying to have the same level of functionality (= parity) than Element Web. We know that we have a great number of bugs to fix on the existing feature, we are also trying to fight them.</p>
<p>As a reminder, the new Android Matrix SDK is available at <a href="https://github.com/matrix-org/matrix-android-sdk2">https://github.com/matrix-org/matrix-android-sdk2</a> and a nice sample application has been developed and is available at <a href="https://github.com/matrix-org/matrix-android-sdk2-sample">https://github.com/matrix-org/matrix-android-sdk2-sample</a>.</p>
</blockquote>
<p>You had me at &quot;progress on the performance side&quot;! I am looking forward to the new Element Android :D</p>
<h3 id="element-web">Element Web</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> reported:</p>
<blockquote>
<p>This week we shipped Element 1.7.12 which contains some high priority fixes, specifically:</p>
<ul>
<li>Fixes secret storage / cross-signing reset to avoid asking for the previous key you no longer have</li>
<li>Fixes widget pinning and Jitsi calls when custom themes are used</li>
</ul>
<p>Aside from that we continue to work on the voice and video calling experience as well as improving the initial onboarding experience of the app.</p>
</blockquote>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> offered:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/XPAgKgpQFJY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<blockquote>
<p>This was an exciting week again. Trilene did the usual and just opened a PR, that implements the video part of call support. In my testing so far this seems to work amazingly well (ignore, that my webcam is crappy in the video, I only have so many devices...)! It's hard to overstate my satisfaction, if I am allowed to quote songs without getting a DMCA! If you want to try it out, you will need the qmlgl plugin at runtime (I had to patch some ebuilds on Gentoo to do so) and build Nheko from source. Support in our AppImage and Flatpak and for our Windows and MacOS builds will come at a later date. A big shoutout to trilene, who just works on VOIP in Nheko, without saying a word, and then drops a ready PR.</p>
<p>Another exciting new feature by lorendb, you can now specify <code>--profile &lt;profilename&gt;</code>, when you start Nheko, to create a separate profile. This allows you to open multiple instances and use multiple accounts at the same time (but it still uses separate instances of Nheko). This is pretty useful, if you have multiple accounts on different homeservers or are testing stuff for example. He also added a shortcut to delete the current content of the message area (Ctrl-U).</p>
<p>We also fixed a long standing bug, that crashed Nheko when pasting an image on mac OS, prevented copying text in some cases and build times should be about halfed again.</p>
<p>That's all I got today. I guess we should do a new release at some point?</p>
</blockquote>
<p>I asked about trilene, who is a reliable Nheko contributor, Nico replied:</p>
<blockquote>
<p>trilene seems to be a bit camera shy and prefer to work on code than take credit and talk about upcoming features. I'm surprised everytime, when a new PR is opened or trilene asks a weird question, that can only end up in an amazing contribution :3</p>
</blockquote>
<p>\o/</p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="matrix-bot-sdk-0-5-8-out-now">matrix-bot-sdk 0.5.8 out now</h3>
<p><a href="https://github.com/turt2live">TravisR</a> told us:</p>
<blockquote>
<p><a href="https://www.npmjs.com/package/matrix-bot-sdk">matrix-bot-sdk</a> v0.5.8 is out now with experimental support for EDUs being sent to appservices (per <a href="https://github.com/matrix-org/matrix-doc/pull/2409">MSC2409</a>). </p>
<p>To enable it you'll need Synapse 1.22.0 (released this week) and v0.5.8 of the bot-sdk. Then, add <code>&quot;de.sorunome.msc2409.ephemeral&quot;: true</code> to your appservice registration file (at the root level) and turn on the <code>de.sorunome.msc2409.ephemeral</code> flag in your <code>IAppserviceRegistration</code> supplied to the bot-sdk. If all goes according to plan, you'll be able to use <code>appservice.on(&quot;ephemeral.event&quot;, (ev) =&gt; {})</code> to start processing EDUs.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="icinga-end-to-end-check">Icinga End-to-End Check</h3>
<p><a href="https://matrix.to/#/@nik:matrix.teckids.org">Nik</a> said:</p>
<blockquote>
<p>I hacked together a maubot-based roundtrip test that leverages the echo bot's ping command reply and reports rtt to Icinga as a passive check result. Its practical use is scientifically questionnable, but it gives a hint on end-user experience. Find it here: <a href="https://edugit.org/nik/maubot-pingcheck">https://edugit.org/nik/maubot-pingcheck</a></p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services üöÄ</h2>
<h3 id="enabling-encryption-for-bots-on-t2bot-io">Enabling encryption for bots on t2bot.io</h3>
<p><a href="https://github.com/turt2live">TravisR</a> offered:</p>
<blockquote>
<p>Starting November 28th and 29th of this year, many bots on t2bot.io will be supporting end-to-end encryption. Though not all bots will be supporting it, this is an important milestone towards getting end-to-bridge encryption enabled on t2bot.io as a proof of being able to scale to the higher demand of encrypted rooms.</p>
<p>The eventual goal is to support encryption on all of t2bot.io‚Äôs bots and bridges, however we need to take small steps to get there üôÇ. Note that in order to function, bots will decrypt <em>all</em> messages they see, but only respond to the ones they care about - this can still be uncomfortable for some rooms though, so feel free to kick them out.</p>
<p>For more detail on which bots are getting support and what all this entails/means, please see the <a href="https://t2bot.io/blog/2020/10/30/enabling-encryption-for-bots/">dedicated blog post</a>.</p>
</blockquote>
<p>We teased this a little on Matrix Live last week (I think?), but so awesome to see this publicly announced.</p>
<h3 id="keymaker-serverlist-project">Keymaker (Serverlist Project)</h3>
<p><a href="https://matrix.to/#/@mtrnord:nordgedanken.dev">MTRNord</a> reported:</p>
<blockquote>
<p>Keymaker is a new WIP Project of some people (over at <a href="https://matrix.to/#/#serverlist:nordgedanken.dev">#serverlist:nordgedanken.dev</a>  ) that aim to provide a <a href="https://joinmastodon.org/communities/">mastodon</a> alike Server List and we would love to get some more input from the Community for this project on whats wanted, whats needed and whats maybe not that good to base on the mastodon counterpart.</p>
<p>This means we are building:</p>
<ul>
<li>
<p>A list of Servers where Owners can add their servers</p>
</li>
<li>
<p>We try to do Quality controls (No fully self add. Servers get reviewed.) using a Code of Conduct Ruleset</p>
</li>
<li>
<p>Verified Listings using well-known files on serverside (Also allowing Admins to modify server data themself)</p>
</li>
<li>
<p>Server Details like:</p>
<ul>
<li>
<p>Ping and Avalibility Stats (thanks to tulir for providing a API)</p>
</li>
<li>
<p>Public Room Lists fetched from the Server</p>
</li>
<li>
<p>NSFW Ratings (A NSFW tag was too generic for us)</p>
</li>
<li>
<p>A Section to list Rules</p>
</li>
<li>
<p>Admin addresses for easy ways of reaching the Server admins</p>
</li>
</ul>
</li>
<li>
<p>Allowing to select registration state (&quot;Open&quot;, &quot;Invite Only&quot;, &quot;Closed&quot;)</p>
</li>
</ul>
<p>The Code is fully written in Rust and using Postgres as a backend. Have a look at: <a href="https://github.com/daydream-mx/keymaker">https://github.com/daydream-mx/keymaker</a></p>
<p>Join us at: <a href="https://matrix.to/#/#serverlist:nordgedanken.dev">#serverlist:nordgedanken.dev</a> </p>
<p>In a further post we plan to announce the launch of this Project as a Website. Server owners might get a ping before that to allow for setting up servers for this. This Project is not yet deployed to be used.</p>
</blockquote>
<p>This is really cool. I suggested it might start to kickstart people hosting their own small, publicly open servers.</p>
<p><a href="https://matrix.to/#/@mtrnord:nordgedanken.dev">MTRNord</a> replied:</p>
<blockquote>
<p>As we also allow non public servers (registration -&gt; closed) it may also be a nice way to find communities that federate and have a look if they have a interesting room to join in the public rooms list. :)</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="bubo">Bubo</h3>
<p><a href="https://matrix.to/#/@jaywink:elokapina.fi">kapina-jaywink</a> reported:</p>
<blockquote>
<p><strong>Bubo</strong>, the community helping bot-in-progress, gets releases and a new command: <code>breakout</code>. The command can be used to create a breakout room from the current room. Bubo will create the room, invite and make the requester an admin, and confirm in the original room. Anyone who reacts with an emoji to the confirmation will get an invite to the breakout room. Currently breakout rooms are non-public and non-encrypted by default.</p>
<p>Find Bubo <a href="https://github.com/elokapina/bubo">v0.2.0 here</a>.</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks üó£Ô∏è</h2>
<h3 id="neil-on-being-an-eng-manager">Neil on being an eng manager</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> announced:</p>
<blockquote>
<p>Hey all, I do engineering managery stuff at Element, if you ever wondered what on earth that actually means, here is a video of me going on and on about it. <a href="https://www.youtube.com/watch?v=2NflccKdGqU">https://www.youtube.com/watch?v=2NflccKdGqU</a></p>
</blockquote>
<p>Sell it Neil! This is an insightful chat - if you're interested in the dilemmas and thoughts of an eng manager, be sure to check this out!</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">maescool.be</td><td style="text-align: center">653</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">aragon.space</td><td style="text-align: center">707</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">envs.net</td><td style="text-align: center">800</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">828</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">elcyb.org</td><td style="text-align: center">1044</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">neko.dev</td><td style="text-align: center">1104</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">fab.network</td><td style="text-align: center">1112</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">mailstation.de</td><td style="text-align: center">1128</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">aragon.sh</td><td style="text-align: center">1364</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">dodsorf.as</td><td style="text-align: center">1605</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;10&#x2F;23&#x2F;this-week-in-matrix-2020-10-23&#x2F;" title="This Week in Matrix 2020-10-23">This Week in Matrix 2020-10-23</a></h2>
                <span>
                    23.10.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/CfV1dkMcMh0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://github.com/turt2live">TravisR</a> offered:</p>
<blockquote>
<p>Hello everyone, normally anoa would be doing this update but today you get me (TravisR) instead. Luckily anoa has left me a script to run, so here's hoping I haven't completely messed up this week's update üòÖ</p>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>Nothing to report</em> üò¢</li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2758">MSC2758: Proposal for a common identifier grammar</a> (merge)</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2828">MSC2828: Proposal to restrict allowed user IDs over federation</a></li>
</ul>
<p><strong>Closed MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2773">MSC2773: Room kinds</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/1722">MSC1722: Support for displaying math(s) in messages</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, we're still focusing on the same MSCs from previous weeks to get widgets over the line. This includes <a href="https://github.com/matrix-org/matrix-doc/pull/2774">MSC2774</a> to have widgets aware of their widget ID, <a href="https://github.com/matrix-org/matrix-doc/pull/2765">MSC2765</a> so widgets can be pretty in clients like Element, and <a href="https://github.com/matrix-org/matrix-doc/pull/2790">MSC2790</a> to support a form of user input with widgets.</p>
<p>Normally there would be a graph here of our MSC progress, however my machine refuses to accept that line graphs are a real thing today. As a replacement, here's a <a href="https://climate.weather.gc.ca/climate_data/generate_chart_e.html?hlyRange=1997-12-02%7C2020-10-22&amp;dlyRange=1995-04-01%7C2020-10-22&amp;mlyRange=1995-04-01%7C2007-11-01&amp;StationID=27378&amp;Prov=AB&amp;urlExtension=_e.html&amp;searchType=stnProv&amp;optLimit=specDate&amp;StartYear=1840&amp;EndYear=2020&amp;selRowPerPage=25&amp;Line=46&amp;Month=10&amp;Day=22&amp;lstProvince=&amp;timeframe=2&amp;Year=2020&amp;type=bar&amp;MeasTypeID=snow">snowfall accumulation graph for Banff</a> as reported by Environment Canada.</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="mauliasproxy">mauliasproxy</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> told us:</p>
<blockquote>
<p>I made a simple room alias proxy: <a href="https://mau.dev/tulir/mauliasproxy">https://mau.dev/tulir/mauliasproxy</a>. It can be used to create room aliases on custom domains without having to host an actual Matrix homeserver there. The proxy basically just responds to federation room alias queries using data from another homeserver (that data is fetched with the C-S API).</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@callahad:matrix.org">callahad</a> reported:
&gt;</p>
<blockquote>
<p>A new release candidate appears! <a href="https://github.com/matrix-org/synapse/releases/tag/v1.22.0rc1">Synapse 1.22.0rc1</a> was published yesterday and includes support for running background tasks in separate worker processes, as well as fixes to sharded event persisters which were first introduced in 1.21.0.</p>
<p>These changes significantly improved our client join <a href="https://en.wikipedia.org/wiki/Apdex">Apdex</a> score for matrix.org by making join performance both faster <em>and</em> less variable.</p>
</blockquote>
<p><img src="/blog/img/2020-10-23-q7nrn-twim-synapse-2020-10-23-sparkles.png" alt="2020-10-23-q7nrn-twim-synapse-2020-10-23-sparkles.png" /></p>
<blockquote>
<p>Synapse 1.22.0rc1 also includes support for a few experimental MSCs:</p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2732">MSC2732</a>: Supporting olm fallback keys</p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2697">MSC2697</a>: Supporting device dehydration</p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2409">MSC2409</a>: Allowing appservices to receive ephemeral events like read receipts, presence, and typing indicators.</p>
</li>
</ul>
<p>Lastly, the default room version is now <a href="https://matrix.org/docs/spec/rooms/v6">version 6</a>, per <a href="https://github.com/matrix-org/matrix-doc/pull/2788/">MSC2788</a>.</p>
<p>In the coming weeks we'll focusing on improving Synapse's resilience in smaller to medium-sized deployments, primarily through improvements to state resolution. Stay tuned!</p>
</blockquote>
<p>Thanks Dan!</p>
<blockquote>
<p>Today's update comes courtesy of Dan Callahan (@callahad:matrix.org), who joined Element on Monday as an engineering manager supporting the Synapse team. Dan previously worked in Developer Relations at Mozilla, and he's excited to help Matrix realize its ambitious vision for private, secure, and standards-based communication for all.</p>
</blockquote>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> offered:</p>
<blockquote>
<p>This week we released <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.2.0">v0.2.0</a> on Tuesday, a <a href="https://matrix.org/blog/2020/10/20/dendrite-0-2-0-released">reasonably big update</a> containing various improvements over the initial beta release, and then followed it up with a bug-fix <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.2.1">v0.2.1</a> release on Thursday. </p>
<p>Thanks to everyone who has been running Dendrite and reporting their findings, and also to contributors who have been submitting pull requests!</p>
<p>Changes this week include:</p>
<ul>
<li>
<p>Dendrite no longer builds separate binaries for each polylith component, but instead has one multi-personality binary</p>
</li>
<li>
<p>Our Docker images have been simplified into two images: <a href="https://hub.docker.com/repository/docker/matrixdotorg/dendrite-monolith">dendrite-monolith</a> and <a href="https://hub.docker.com/repository/docker/matrixdotorg/dendrite-polylith">dendrite-polylith</a></p>
</li>
<li>
<p>Internal HTTP API calls are now made using H2C (HTTP/2) in polylith mode, which resolves some head-of-line issues with the connection pool</p>
</li>
<li>
<p>Forward extremities have been refactored, which should fix some cases where room state can end up corrupted</p>
</li>
<li>
<p>A couple of bugs when handling state rewrites have been fixed</p>
</li>
<li>
<p>The sync API no longer sends old state events to clients as if they were new</p>
</li>
<li>
<p>SQLite locking bugs around the latest events updater have been resolved</p>
</li>
<li>
<p>Notification levels are now parsed correctly in power level events (thanks to <a href="https://github.com/Pestdoktor">Pestdoktor</a>)</p>
</li>
<li>
<p>Invalid UTF-8 is now correctly rejected when making federation requests (thanks to <a href="https://github.com/Pestdoktor">Pestdoktor</a>)</p>
</li>
</ul>
<p>Spec compliance for v0.2.1:</p>
<ul>
<li>
<p>Client-server APIs: 57%, up from 56% last week</p>
</li>
<li>
<p>Server-server APIs: 81%, up from 80% last week</p>
</li>
</ul>
<p>As always, please feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for general Dendrite chat, and <a href="https://matrix.to/#/#dendrite-dev:matrix.org">#dendrite-dev:matrix.org</a> if you are interested in contributing!</p>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p><a href="https://matrix.to/#/@timo:conduit.rs">Timo</a> stepped in to tell us:</p>
<blockquote>
<p>This was another productive week:</p>
<ul>
<li>Improved thumbnailing algorithm (higher quality, less stored data, correct)</li>
<li>Allow unjoined users to read state of world readable rooms (this makes shields.io work with conduit)</li>
<li>Docs for cross compiling conduit</li>
<li>Fixed stuck / double-join over federation</li>
<li>Fixed random timeline reload bug</li>
<li>Welcome message in admin room</li>
<li>More frequent flushing</li>
</ul>
<p>Some WIP things:</p>
<ul>
<li>Provide Conduit binaries for most platforms to make setting up or updating a Conduit instance even easier</li>
<li>More reliable sending over federation</li>
<li>Bring all features of our Ruma fork upstream</li>
</ul>
<p>Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<h2 id="homeserver-deployment-inbox-tray">Homeserver Deployment üì•Ô∏è</h2>
<h3 id="dendrite-docker-images">Dendrite docker images</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@tr_slimey:an-atom-in.space">TR_SLimey</a> offered:</p>
<blockquote>
<p>I built some unofficial Dendrite docker images for Linux/ARM64, for those trying to run Dendrite on a Raspberry Pi, RockPro64 or others. They can be found here: <a href="https://hub.docker.com/r/trslimey/dendrite-monolith">https://hub.docker.com/r/trslimey/dendrite-monolith</a> &amp; <a href="https://hub.docker.com/r/trslimey/dendrite-polylith">https://hub.docker.com/r/trslimey/dendrite-polylith</a>.</p>
</blockquote>
<p><a href="https://matrix.to/#/@balaa:a.noteworthy.im">balaa</a> reported:</p>
<blockquote>
<p>Cool, we run Synapse on Pi0, Pi2 and Pi4 -- works reasonably well on each of them, i'm excited to try Dendrite</p>
</blockquote>
<p>Synapse running on a Pi zero..?</p>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="gitter">Gitter</h3>
<p><a href="https://matrix.to/#/@madlittlemods:matrix.org">Eric Eastwood</a> announced:</p>
<blockquote>
<p>The <a href="https://gitlab.com/gitlab-org/gitter/webapp/-/merge_requests/2027">initial iteration of <code>virtualUsers</code></a> is in shape to merge(check out the flair üî•) and will probably deploy in a release next week. We've split the rest of the <code>virtualUser</code> work into <a href="https://gitlab.com/groups/gitlab-org/gitter/-/epics/10">follow-up issues</a> we can iterate on. We're working on adding <a href="https://gitlab.com/gitlab-org/gitter/webapp/-/issues/2615">room ban</a> and <a href="https://gitlab.com/gitlab-org/gitter/webapp/-/issues/2616">spam detection</a> support for <code>virtualUsers</code> to stop any bad actors. Then want to start on the actual Application Service bridge (Gitter &lt;-&gt; Matrix).</p>
</blockquote>
<p><img src="/blog/img/2020-10-23-REdrD-5b2mZhH.png" alt="2020-10-23-REdrD-5b2mZhH.png" /></p>
<blockquote>
<p>If you're curious about more of the details, you can track the greater <a href="https://gitlab.com/groups/gitlab-org/gitter/-/epics/10">GitLab epic</a>.</p>
</blockquote>
<h3 id="rainbow-bridge-at-night-bifrost-0-2-0-is-nearly-out">üåàüåâ Bifrost* 0.2.0 is (nearly) out</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> offered:</p>
<blockquote>
<p>I couldn't really wait to talk about before we actually hit 0.2.0 so here is a sneak peek at what's happening. We've spent a ton of time working on ironing out the bugs and making the bridge more XMPP complaint. The major headlines are:</p>
<ul>
<li>
<p>Support Matrix -&gt; XMPP edits</p>
</li>
<li>
<p>Set XMPP user displayname in the room based on their nickname (thanks uhoreg for mucking in there)</p>
</li>
<li>
<p>Improve performance of Matrix -&gt; XMPP gateway messages and joining</p>
</li>
<li>
<p>Improve support for multiple devices for XMPP users connected to the gateway</p>
</li>
<li>
<p>maaaany bugfixes</p>
</li>
</ul>
<p>You can read about (and run!) the latest release over at <a href="https://github.com/matrix-org/matrix-bifrost/releases/tag/0.2.0-rc1">https://github.com/matrix-org/matrix-bifrost/releases/tag/0.2.0-rc1</a>.</p>
<p>Incidentally, if you've not yet, then try joining some rooms such as <code>#twim#matrix.org@matrix.org</code> from XMPP and see it live!</p>
<p>*rainbum, as Mathijs prefers</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> said:</p>
<blockquote>
<p>Hydrogen gained a settings panel this week with a better session backup UX and your end-to-end device information, which should make the manual verification easier. Messages with multiple lines are also rendered as such now, which makes a big difference in usability. The app also works offline again after session backup broke that. Apart from that, several smaller fixes also landed.</p>
</blockquote>
<p><img src="/blog/img/2020-10-23-wMcAA-image.png" alt="2020-10-23-wMcAA-image.png" /></p>
<blockquote>
<p>Also, image decryption is well on it's way with a prototype working. üéâ</p>
</blockquote>
<h3 id="fractal">Fractal</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> reported:</p>
<blockquote>
<p>The <a href="https://matrix.org/blog/2020/10/09/this-week-in-matrix-2020-10-09#fractal">massive MR to switch to matrix-rust-sdk</a> is still being reviewed and help is still welcome. We have been working on other stuff as well. Actually, since <a href="https://matrix.org/blog/2020/08/07/this-week-in-matrix-2020-08-07#fractal">our last news piece for the release of 4.4</a>, quite a lot happened (around 60 commits) that we haven‚Äôt reported here yet:</p>
<ul>
<li>
<p>Users can now go to the room settings to <a href="https://gitlab.gnome.org/GNOME/fractal/-/commit/eebfc9fdd502cc7e2b54a11253f1ae0f1b455c84">toggle notifications for each room individually</a>.</p>
</li>
<li>
<p>Rounded corners around everything to match the latest upstream design tweaks (in Adwaita, the official GNOME theme).</p>
</li>
<li>
<p>Many maintenance changes: several dependencies have been updated, cleanups in various places, tightened flatpak permissions for better sandboxing‚Ä¶</p>
</li>
</ul>
<p>And that‚Äôs not all! <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/642">Good progress has been made</a> towards rendering <code>formatted_body</code>. Hopefully that should be merged soon.</p>
</blockquote>
<p><img src="/blog/img/2020-10-23-yBL4B-image.png" alt="2020-10-23-yBL4B-image.png" /></p>
<h3 id="element-web">Element Web</h3>
<p><a href="https://matrix.to/#/@jryans:matrix.org">Ryan</a> offered:</p>
<blockquote>
<p>We released Element 1.7.10 on Tuesday with some high priority fixes:</p>
<ul>
<li>
<p>Several bugs fixed for both all widgets as well as a few specific to Jitsi call widgets</p>
</li>
<li>
<p>Widgets are now working again in Safari 13.1 (regressed by 1.7.9)</p>
</li>
</ul>
<p>Quite soon after that on Wednesday, Element Web 1.7.11-rc.1 made it's way to staging:</p>
<ul>
<li>
<p>Improved state management for voice / video calls</p>
</li>
<li>
<p>Revamped pinned widget UI to support resizing and more flexibility</p>
</li>
</ul>
</blockquote>
<h3 id="fluffychat">Fluffychat</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> told us:</p>
<blockquote>
<p>Fluffychat 0.20.0 is out! It should be available in fdroid, google play and on iOS soon!</p>
<h4 id="features">Features</h4>
<ul>
<li>
<p>Added translations: Arabic</p>
</li>
<li>
<p>Add ability to enable / disable emotes globally</p>
</li>
<li>
<p>Add ability to manage emote packs with different state keys</p>
</li>
<li>
<p>Add swipe to reply - Thanks @inexcode</p>
</li>
<li>
<p>Initial support for compiling to desktop</p>
</li>
<li>
<p>Initial snap metadata - Thanks @RAOF_47</p>
</li>
<li>
<p>Add latex parsing as per <a href="https://github.com/matrix-org/matrix-doc/pull/2191">MSC2191</a> - <code>$tex$</code> for inline and <code>$$</code> for blocks</p>
</li>
</ul>
<h4 id="changes">Changes</h4>
<ul>
<li>
<p>Re-scale images in a separate isolate to prevent the UI from freezing</p>
</li>
<li>
<p>URLs without https:// now linkify</p>
</li>
<li>
<p>Parse all URIs, not just URLs</p>
</li>
<li>
<p>emails will linkify now</p>
</li>
<li>
<p>Make sure login to dendrite is working properly</p>
</li>
</ul>
<h4 id="fixes">Fixes</h4>
<ul>
<li>
<p>Fix amoled / theme settings not always saving properly</p>
</li>
<li>
<p>Show device name in account information correctly</p>
</li>
<li>
<p>Fix tapping on aliases / room pills not always working</p>
</li>
<li>
<p>Link clicking in web not always working</p>
</li>
<li>
<p>Return message input field to previous state after editing message - Thanks @inexcode</p>
</li>
</ul>
</blockquote>
<p><img src="/blog/img/2020-10-23-ufb7O-img_20201023_180547.jpg" alt="2020-10-23-ufb7O-img_20201023_180547.jpg" /></p>
<p><a href="https://matrix.to/#/@mtrnord:nordgedanken.dev">MTRNord</a> added:</p>
<blockquote>
<p>perfect for university start. Finally I can write the thesis in the University matrix ;P</p>
</blockquote>
<h3 id="element-android">Element Android</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> offered:</p>
<blockquote>
<p>Element Android v1.0.9 is now available on the PlayStore. For the next release (1.0.10), we will optimize the performance (again!). We already have made some progress when sending a message to a room. We are now working on the crypto module and also we will probably upgrade the Realm database library, which seems more stable now. Besides that, we are still implementing the remaining features with the objective of getting a good feature parity with the other Element Matrix clients.</p>
</blockquote>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> reported:</p>
<blockquote>
<p>This week, we have been working to upgrade libs and tools to be compatible with Xcode 12.</p>
<p>We are making good progress to revive a kind of background sync so that a message appears quicker in the timeline when you tap on its notification. Authentication for widgets is still in progress.</p>
</blockquote>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> said:</p>
<blockquote>
<ul>
<li>
<p>Nheko now shows the filename of an image on hover. (Contributed by kamath_manu)</p>
</li>
<li>
<p>Nheko now shows the fontname in the font selection rendered using that font. This makes it easier to know, how the font will look, once you select it. (Contributed by lorendb)</p>
</li>
<li>
<p>Fixed a crash when closing Nheko. While this didn't really cause issues, since you were closing it anyway, it's just bad form to crash instead of exit properly.</p>
</li>
<li>
<p>Removed the membercache. Nheko used to load all members on startup and store them in memory. This made startup slower. Removing it sped up the start by a nice chunk and freed about 30MB of RAM on my system. One step closer to using reasonable amounts of RAM!</p>
</li>
<li>
<p>Fixed excessive clipping when rendering the timeline. This prevented all batching of text messages. Now it only clips the replied to message, which makes scrolling much smoother again!</p>
</li>
</ul>
<p>Finally, some controversial change, which is currently in master but may be reverted at some point: Nheko now automatically forwards keys to verified devices, when they request the keys, without prompting you. While that can be toggled off in the settings, it currently defaults to on. This weakens backward secrecy of e2ee a bit, but it makes it possible to recover from e2ee issues much more easily. Currently I'd argue, that it is an acceptable tradeoff. It is very hard to verify room membership of users at any point in time but the current one and room membership is not verified end to end in any way, so you need to trust the server to provide you with the correct memberlist or you just send keys to verified users. While Nheko still sends keys to all members of a room, when creating the session, it only forwards your own keys to trusted users without prompting you. Currently I think this is an acceptable tradeoff, as opening a popup with &quot;user x wants to have session y shared in room z&quot; is unlikely to be understood by anyone properly either. I'd be glad to hear your opinions though!</p>
<p>That's it for this week, but next week will be interesting too. Lorendb has been hacking on profile support, allowing you to run multiple login sessions of Nheko in separate windows and some other UI features.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="ruma">Ruma</h3>
<p><a href="https://matrix.to/#/@iinuwa:matrix.org">iinuwa</a> reported:</p>
<blockquote>
<p>In the past couple of weeks we implemented the last endpoint for the Federation</p>
<p>API. We are working on smoothing out some rough edges in the <code>ruma-federation-api</code>
crate, like a few that @Timo addressed this past week, so it will be a little while</p>
<p>before it's completely finished.</p>
<p>We've also created a milestone to track implementation of Identity Service API,</p>
<p>the last Matrix API we have to complete.</p>
<p>Finally, we've created a new Matrix room focused on Ruma development,</p>
<p><a href="https://matrix.to/#/#ruma-dev:matrix.org">#ruma-dev:matrix.org</a>, focusing the original room <a href="https://matrix.to/#/#ruma:matrix.org">#ruma:matrix.org</a> on Ruma
usage.</p>
</blockquote>
<h3 id="quotient">quotient</h3>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> told us:</p>
<blockquote>
<p><a href="https://github.com/quotient-im/libQuotient/releases/tag/0.6.2">Quotient 0.6.2</a> has been released, with a couple of minor bugfixes. This release is used as a foundation of <a href="https://github.com/quotient-im/Quaternion/releases/tag/0.0.9.5-beta1">Quaternion 0.0.9.5 beta</a> that's also getting out today - with support of (proper Matrix subset of) HTML, rich text user links (like pills, only lighter), initial Markdown support (if you build with fresh enough Qt), reactions (thanks to Karel Kosek @krkk), navigation to earlier events (thanks to Roland Pallai @rpallai) and quite a few other improvements. To make this release Quaternion had to gain its own basic HTML parser and Matrix-to-Qt-to-Matrix converter, which is likely to end up being a separate micro-library, in the hope that it will be useful for other Matrix projects building on Qt (even non-Quotient ones). A separate call to translators - quite a few strings got updated, so please head to <a href="https://app.lokalise.com/project/730769035bbc328c31e863.62506391/">Quaternion project at Lokalise</a> and push the numbers at least to 80%!</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks üó£Ô∏è</h2>
<p>Three talks this week!</p>
<h3 id="matrix-talk-at-open-source-summit-eu-virtual">Matrix talk at <a href="https://events.linuxfoundation.org/open-source-summit-europe/">Open Source Summit EU</a> (virtual)</h3>
<p><a href="https://matrix.to/#/@oleg:fiksel.info">Oleg</a> announced:</p>
<blockquote>
<p>If you are visiting the OSS EU next week - come to the <a href="https://sched.co/eCGN">Matrix talk</a>. üòâ</p>
<p>Or join us at <a href="https://matrix.to/#/#welcome:osseu2020.fiksel.info">#welcome:osseu2020.fiksel.info</a> !</p>
</blockquote>
<h3 id="dette-er-pa-utenlandsk">dette er p√• utenlandsk</h3>
<p><a href="https://matrix.to/#/@dandellion:dodsorf.as">dandellion</a> reported:</p>
<blockquote>
<p>In august I held an introduction to and demo of matrix talk during a conference hosted by my local makerspace.</p>
<p>This week the talk was uploaded! (Norwegian) <a href="https://www.youtube.com/watch?v=s9Xd0Wg_XqA">https://www.youtube.com/watch?v=s9Xd0Wg_XqA</a></p>
</blockquote>
<h3 id="astricon-plan-9-on-building-omnichannel-contact-centers-with-matrix-and-other-tech">AstriCon Plan (9) on building Omnichannel contact centers with Matrix (and other tech)</h3>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> said:</p>
<blockquote>
<p>Jose Franco gave a great talk at AstriCon Plan (9) on building Omnichannel contact centers with Matrix, Asterisk, Kamailio and friends. You can see the video at <a href="https://youtu.be/7S6GZz8f91o?t=18558">https://youtu.be/7S6GZz8f91o?t=18558</a> and the talk details at <a href="https://astricon2020.sched.com/event/e0GA/blending-open-source-rtc-tools-to-build-an-omnichannel-contact-center">https://astricon2020.sched.com/event/e0GA/blending-open-source-rtc-tools-to-build-an-omnichannel-contact-center</a></p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞Ô∏è</h2>
<h3 id="noteworthy-matrix-powered-distributed-overlay-networks-via-wireguard">Noteworthy (matrix powered distributed overlay networks via WireGuard)</h3>
<p><a href="https://matrix.to/#/@balaa:a.noteworthy.im">balaa</a> told us:</p>
<blockquote>
<p>hey TWIM peeps! we‚Äôve updated the README for our project Noteworthy (matrix powered distributed overlay networks via WireGuard) <a href="https://github.com/decentralabs/noteworthy">https://github.com/decentralabs/noteworthy</a> - join us over in <a href="https://matrix.to/#/#noteworthy:tincan.community">#noteworthy:tincan.community</a> with questions / comments!</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">maescool.be</td><td style="text-align: center">528</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">chatcloud.net</td><td style="text-align: center">533.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">matrix.thedisco.zone</td><td style="text-align: center">654.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">pc.koesters.xyz:59003</td><td style="text-align: center">779</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">shortestpath.dev</td><td style="text-align: center">817.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">helderferreira.io</td><td style="text-align: center">851.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">aragon.sh</td><td style="text-align: center">898</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">pleasecuminside.me</td><td style="text-align: center">1176</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">dodsorf.as</td><td style="text-align: center">1253</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">envs.net</td><td style="text-align: center">1304.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;10&#x2F;16&#x2F;this-week-in-matrix-2020-10-16&#x2F;" title="This Week in Matrix 2020-10-16">This Week in Matrix 2020-10-16</a></h2>
                <span>
                    16.10.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/xwsmdscTjJM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>In which I chat with Kitsune about the work done to get a <a href="https://github.com/matrix-org/matrix-doc/pull/2312/">Matrix URI schema</a> agreed, and the state of the work.</p>
<p>See also, <a href="https://www.youtube.com/watch?v=xJ2Tjc1Aj0A">Open Tech Will Save Us #7</a> took place this week! Go watch.</p>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<h3 id="meta-counting">Meta-counting</h3>
<p>As a crude measure of growth, <a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> commented about <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a>:</p>
<blockquote>
<p>I love that this room has ~700 people in it, spread over ~350 servers :D</p>
</blockquote>
<p>That is something to love. Come join us in the room to share your news and see what's new from others.</p>
<h3 id="elokapina-extinction-rebellion-finland-migrates-to-matrix">Elokapina (Extinction Rebellion Finland) migrates to Matrix</h3>
<p><a href="https://matrix.to/#/@jaywink:elokapina.fi">kapina-jaywink</a> told us:</p>
<blockquote>
<p>In recent weeks the XR Finland community has been moving over from Wire to our own Matrix homeserver for encrypted secure chat. This was something that had been planned for a while but kicked off in recent weeks due to Wire suffering from serious encryption key delivery issues, causing messages for many to be unreadable in large groups. Currently we've migrated almost 300 rebels with more to come. Feedback has mostly been very positive, people generally like the Element clients ü§© One of the interesting changes has been a huge uptick in the amount of discussion, which can be taken as a good sign. The plan is to next start bridging to some of the international XR chapters, for example those on Mattermost, Telegram and Slack. And maybe get them over to Matrix too eventually ;)</p>
<p>To aid in community management, we've started creating <a href="https://github.com/elokapina/bubo">a bot called Bubo</a>. Right now it mostly helps with maintaining rooms and allowing mass invites, but more features to help the community cooperate are coming. We were planning to utilize (actual) communities so it has some functionality for those, but decided then to wait for the communities rewrite. It doesn't yet have any releases, will update in coming weeks as features are added and releases made.</p>
</blockquote>
<p><a href="https://matrix.to/#/@jaywink:elokapina.fi">kapina-jaywink</a> also</p>
<blockquote>
<p>wants to clarify that XR is a decentralized movement and this does not mean other chapters will adapt Matrix - but we can hope and for sure here in Finland we'll be spreading the good experiences to other chapters ;)</p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<h3 id="new-spec-website">New Spec Website!</h3>
<p><a href="https://matrix.to/#/@wbamberg:matrix.org">wbamberg</a> told us:</p>
<blockquote>
<p>We're working on a new platform for the specification docs, aimed initially at improving navigation and general usability.</p>
<p>The initial demo site is at <a href="https://adoring-einstein-5ea514.netlify.app/spec/">https://adoring-einstein-5ea514.netlify.app/spec/</a> and the main tracking bug is at <a href="https://github.com/matrix-org/matrix-doc/issues/2822">https://github.com/matrix-org/matrix-doc/issues/2822</a></p>
</blockquote>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> reported:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2821">MSC2821: Testing Pushers</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2815">MSC2815: Proposal to allow room moderators to view redacted event content</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2813">MSC2813: Widget API error handling and validation</a></p>
</li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, widgets are still the main focus: <a href="https://github.com/matrix-org/matrix-doc/issues/2774">MSC2774</a> (widget URL template param), <a href="https://github.com/matrix-org/matrix-doc/issues/2765">MSC2765</a> (widget avatars), and <a href="https://github.com/matrix-org/matrix-doc/issues/2790">MSC2790</a> (modal widgets).</p>
</blockquote>
<p><img src="/blog/img/2020-10-16-KA5Yo-stacked_area_chart.png" alt="2020-10-16-KA5Yo-stacked_area_chart.png" /></p>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> reported:</p>
<blockquote>
<p>We <a href="https://matrix.org/blog/2020/10/08/dendrite-is-entering-beta">released our first beta last week</a> and we've been busy taking feedback from the community and fixing problems as they have been reported to us. We will be cutting a v0.2.0 release candidate later today, which contains a significant number of important fixes and performance improvements.</p>
<p>We didn't publish a full changelog last week due to the beta announcement, therefore the following list includes changes from the last two weeks:</p>
<ul>
<li>
<p>Database migrations are now ran automatically at startup</p>
</li>
<li>
<p>State resolution v2 performance has been improved dramatically on large state sets, seen to be running up to 20x faster in some rooms</p>
</li>
<li>
<p>Dendrite no longer runs state resolution over single trusted state snapshots</p>
</li>
<li>
<p>Monolith deployments with Kafka now work again (each component sets up connections independently to avoid duplicate consumers)</p>
</li>
<li>
<p>Dendrite now correctly rejects invalid UTF-8 - thanks to <a href="https://github.com/Lesterpig">Lesterpig</a></p>
</li>
<li>
<p>Fully read markers are now handled - thanks to <a href="https://github.com/Lesterpig">Lesterpig</a></p>
</li>
<li>
<p>The <code>completed</code> field is now returned properly for user-interactive auth - thanks to <a href="https://github.com/Lesterpig">Lesterpig</a></p>
</li>
<li>
<p>The devices table now tracks last seen timestamps, IPs and user agents - thanks to <a href="https://github.com/S7evinK">S7evinK</a></p>
</li>
<li>
<p>A bug has been fixed in the reverse topological ordering algorithm which resulted in us giving up on inbound references after the first prev/auth event</p>
</li>
<li>
<p>A bug with concurrent map writes in the rate limiting in the client API has been fixed</p>
</li>
<li>
<p>Forward extremities and their previous events are now checked fully against the database</p>
</li>
<li>
<p>Typing events are now ignored if the sender domain doesn't match the origin</p>
</li>
<li>
<p>Duplicate redaction entries no longer result in database errors</p>
</li>
<li>
<p>Some bugs in <code>/send</code> have been fixed where the full room state wasn't requested properly before sending a new snapshot to the roomserver</p>
</li>
<li>
<p>The membership updaters now use database writers properly, which fixes some SQLite locking issues</p>
</li>
<li>
<p>The sync API no longer burns CPU processing unnecessary device key change notifications</p>
</li>
<li>
<p><code>QueryStateAfterEvents</code> now resolves state from multiple snapshots properly</p>
</li>
<li>
<p>Cumulative room state is now sent to the roomserver when creating rooms locally</p>
</li>
<li>
<p>Missing auth events will now be retrieved from multiple servers in the room if necessary</p>
</li>
<li>
<p>Federation requests now have variable timeouts, allowing us to wait much longer for a remote server to process certain tasks</p>
</li>
<li>
<p>The <code>/send</code> endpoint now returns 500 errors far less often, reducing the frequency that other servers back off from sending to Dendrite</p>
</li>
<li>
<p>Backfill no longer uses the request context for persisting events, which was resulting in us failing to store those events sometimes</p>
</li>
<li>
<p>Invite stripped state from the sync API now includes the stripped invite itself, so that Element Web can display who sent the invite properly</p>
</li>
<li>
<p>The signing key fetch mechanism no longer gives up if it is unable to fetch specific keys</p>
</li>
<li>
<p>Handling of invalid display name or avatar URLs in membership events has been improved</p>
</li>
</ul>
<p>Spec compliance has improved a little:</p>
<ul>
<li>
<p>Client-server APIs: 56%, same as last week</p>
</li>
<li>
<p>Server-server APIs: 80%, up from 79% last week</p>
</li>
</ul>
<p>As always, please feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for general Dendrite chat, and <a href="https://matrix.to/#/#dendrite-dev:matrix.org">#dendrite-dev:matrix.org</a> if you are interested in contributing!</p>
</blockquote>
<p>Good grief that's a big update! For a video discussion of the status and future of Dendrite, check out <a href="https://www.youtube.com/watch?v=xJ2Tjc1Aj0A">Open Tech Will Save Us #7</a>.</p>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> added:</p>
<blockquote>
<p>my personal dendrite is now in roughly the same set of rooms as my personal synapse. Dendrite is idling at 180MB of RAM, Synapse is idling at 1.8GB of RAM :)</p>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p><a href="https://matrix.to/#/@timo:conduit.rs">Timo</a>:</p>
<blockquote>
<p>Hello everyone, this week we merged the federation branch into master. It's not ready to be used properly yet, but we're merging it as it seems stable enough for now. We also improved performance of the federation branch a lot by turning off debug logs.</p>
<p>Other news:</p>
<ul>
<li>I opened two issues on element-ios which currently break register and login support on Conduit, making it completely unusable. Hopefully they can be resolved soon (https://github.com/vector-im/element-ios/issues/3736, https://github.com/vector-im/element-ios/issues/3737)</li>
<li>I'm working on an MSC for threading. It's still WIP, but you can take a look here: https://demo.codimd.org/s/SykbuAUwP</li>
</ul>
<p>Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> offered:</p>
<blockquote>
<p><a href="https://dictionary.cambridge.org/dictionary/english/stonking">Stonking</a> week for Synapse as we landed sharded event persisters and deployed to matrix.org. This is the last significant component other than the main process to go through the sharding process and a major hurdle in horizontal scalability of Synapse.</p>
<p>Initial results look good with event persistence <a href="https://en.wikipedia.org/wiki/Apdex">apdex</a> improving, however we think there are still some significant performance improvements available through configuration and will continue to experiment.</p>
</blockquote>
<p><img src="/blog/img/2020-10-16-I-Plk-Screenshot2020-10-16at17.23.31.png" alt="2020-10-16-I-Plk-Screenshot2020-10-16at17.23.31.png" /></p>
<blockquote>
<p>We also moved off background processes from the main process. This is significant because it means that while the main process is not shardable it really doesn‚Äôt do anything anymore other than orchestration.</p>
<p>Again the initial impact looks very promising and we will continue to tune. Having moved the background processes away it also makes profiling the main process that much easier.</p>
</blockquote>
<p><img src="/blog/img/2020-10-16-fuKDh-main-cpu2.png" alt="2020-10-16-fuKDh-main-cpu2.png" /></p>
<blockquote>
<p>Aside from all of that we continue to progress room knocking put out a <a href="https://matrix.org/blog/2020/10/15/synapse-1-21-2-released-and-security-advisory">1.21.2</a>  - a bug fix release <strong>though please please ensure you are running at least Synapse &gt;= 1.21.0 since 1.21.0 contains a XSS security fix</strong>.</p>
<p>Next week we will carrying on tuning matrix.org and start to look at improving state resolution performance.</p>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> told us:</p>
<blockquote>
<p>Just pushed the updated image tags and <a href="https://gitlab.com/ananace/charts">chart version</a> for my <a href="https://github.com/ananace/matrix-synapse">K8s-optimized Synapse image</a> for version 1.21.0, as well as a <a href="https://gitlab.com/ananace/charts">chart</a> update for element-web 1.7.9</p>
</blockquote>
<p>then later</p>
<blockquote>
<p>And to expand on my previous update, got Synapse 1.21.2 up on the chart and K8s-optimized image.</p>
</blockquote>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@pierre:mamieserv.fr">Pierre</a> said:</p>
<blockquote>
<p><a href="https://yunohost.org">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration had been updated to 1.20.1 (1.21.0 available in branch <code>testing</code>)</p>
<p><a href="https://github.com/YunoHost-Apps/element_ynh/tree/master">Element Web</a> integration had been updated to 1.7.8 (1.7.9 available in branch <code>testing</code>)</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="bridges-increase-their-presence">Bridges increase their presence</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> told us:</p>
<blockquote>
<p>Small bit of news I wanted to talk about from Bridge Island. My <a href="https://github.com/matrix-org/synapse/pull/8437">implementation</a> for <a href="https://github.com/matrix-org/matrix-doc/pull/2409">MSC2409</a> has been merged which means appservices / bridges can now listen in for incoming presence, typing and read receipt events! This means that the Slack bridge can now reliably send your typing status to Slack, and Bifrost can reliably bridge your everything to XMPP. The MSC is still in flux and could change, but for now this could really improve the native feeling of bridges :)</p>
<p>(Oh and I should mention anyone using matrix-appservice-bridge v2.2.0+ can use this behaviour for free)</p>
</blockquote>
<h3 id="mautrix-python-implements-half-shot-s-new-features">mautrix-python implements Half-Shot's new features</h3>
<p>Hot on his heels, <a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> announced:</p>
<blockquote>
<p>I've been adding support for the MSCs Half-Shot implemented in Synapse to my bridges:</p>
<ul>
<li>
<p>Enabling end-to-bridge encryption now uses appservice login (<a href="https://github.com/matrix-org/matrix-doc/pull/2778">MSC2778</a>), which means setting up the shared secret login module is no longer required for e2be.</p>
</li>
<li>
<p>mautrix-python has support for receiving ephemeral events via <a href="https://github.com/matrix-org/matrix-doc/pull/2409">MSC2409</a> in a branch, which will be merged once Synapse v1.22 is released. After it's merged, <code>/sync</code>ing with double puppets will no longer be necessary to bridge ephemeral events.</p>
</li>
</ul>
<p>Both of these will also be implemented in mautrix-go/whatsapp soon.</p>
<p>Now I just need Half-Shot to make synapse send to-device events to appservices, after which bridges won't need any hacky <code>/sync</code>ing at all.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> offered:</p>
<blockquote>
<p>Several releases this week (0.1.11 to 0.1.15) with lots of changes:</p>
<ul>
<li>
<p>url-based navigation has landed! All navigation in the app is now done through urls, meaning you can also bookmark any UI state (e.g. grid configurations).</p>
</li>
<li>
<p>fixed 2 memory leaks (exposed now because you can unload your session without refreshing the page)</p>
</li>
<li>
<p>fixed an issue with libolm running out of memory if you send a message to more than 44 devices (see issue #150).</p>
</li>
<li>
<p>some logical additions now we have url navigation: restoring the last url when opening the app with the default route, and a button to close your session and go back to the picker.</p>
</li>
<li>
<p>the app now blocks concurrent access to the same session from different tabs (it just closes the session in the non-active tab). This will prevent multiple syncs tripping over each other writing to indexeddb (e.g. ConstraintErrors and friends).</p>
</li>
<li>
<p>updates are announced in the app (for now through a confirm dialog, but will use an in app notification once we have it)</p>
</li>
<li>
<p>fixes updates not installing on iOS, by having an update prompt. To get this update on iOS though, you'll need to unpin the app, and pinning it again. You'll need to login again after this. All future updates should be installable through the update prompt once you have 0.1.15 though, you won't have to do this again normally.</p>
</li>
<li>
<p>uses the hydrogen icon when pinning on iOS</p>
</li>
</ul>
</blockquote>
<p>I really recommend hitting <a href="https://hydrogen.element.io/">https://hydrogen.element.io/</a> - what great progress!</p>
<h3 id="element-android">Element Android</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> reported:</p>
<blockquote>
<p>We are currently preparing the release of the version 1.0.9 of Element Android, which contain searching messages in clear rooms and a lots of other improvements and new features.</p>
<p>The SDK 1.0.9 will also be released, with an updated readme, and a brand new sample app, written by Ganfra. It will help developers to start using the new SDK and can be found here: <a href="https://github.com/matrix-org/matrix-android-sdk2-sample">https://github.com/matrix-org/matrix-android-sdk2-sample</a>. This sample app is able to let the user connects to an existing account on any homeserver with password login, display the room list, display a room timeline and send message to a room.
a brand new sample app</p>
</blockquote>
<p>YES! This is the best documentation</p>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> offered:</p>
<blockquote>
<p>This week, we released <a href="https://github.com/vector-im/element-ios/releases/tag/v1.0.16">1.0.16</a> on the App Store (and TestFlight).</p>
</blockquote>
<h3 id="konheko-sailfish-client">Konheko (Sailfish client)</h3>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> offered:</p>
<blockquote>
<p>I published the first preview of my Sailfish client called Konheko. While you can run Android applications on Sailfish, they usually are a subpar experience, since they really don't fit the platforms design and style and also usually don't properly send notifications.</p>
<p>So about a year ago I started working on a Matrix client for SailfishOS, but I never really made much progress. Well, last weekend I did, and so it can now send plain text messages as well as various forms of media messages, I made a basic application icon and I've been using it this week already (for unencrypted rooms).</p>
<p>It is still missing a lot of features, but if you want you can install it from <a href="https://openrepos.net/content/deepbluev7/konheko">OpenRepos</a>. Sources are available <a href="https://nheko.im/nheko-reborn/konheko">here</a>. Just be aware, that it currently stores all messages in RAM, so every restart will take forever to load your rooms and it may run out of RAM at some point. Storing messages in some database will come at some point. Also, a lot of menus may lead nowhere, since those are just placeholders for me atm.</p>
</blockquote>
<p><img src="/blog/img/2020-10-16-QApie-Bildschirmfoto_20201016_002.png" alt="2020-10-16-QApie-Bildschirmfoto_20201016_002.png" /></p>
<p><img src="/blog/img/2020-10-16-I5_7M-Bildschirmfoto_20201016_007.png" alt="2020-10-16-I5_7M-Bildschirmfoto_20201016_007.png" /></p>
<h3 id="schildichat-web-desktop">SchildiChat Web/Desktop</h3>
<p><a href="https://matrix.to/#/@spiritcroc:matrix.org">SpiritCroc</a> announced:</p>
<blockquote>
<p>Recently, I tweaked Element-web to feature a few changes similar to SchildiChat for Android.</p>
<p>For now, it's probably best seen rather as a proof-of-concept than a finished product, as there are still some layout bugs, and no settings available for the added features (I know some people prefer separate lists for direct and group chats).
I consider it usable though.</p>
<p>Particular changes compared to upstream Element-web include:</p>
<ul>
<li>
<p>A common section for groups and direct chats in the overview</p>
</li>
<li>
<p>Message bubbles</p>
</li>
<li>
<p>Bigger items in the room overview</p>
</li>
<li>
<p>A different dark theme, similar to SchildiChat for Android</p>
</li>
</ul>
<p>I don't know how much I will work on this in the future, but I figured it might be interesting to share either way. Maybe even someone with more web-development skills than me might want to help improving it :)</p>
<p>For further discussion, I have created <a href="https://matrix.to/#/#schildichat-web:matrix.org">#schildichat-web:matrix.org</a> .</p>
<p>The current version of SchildiChat-Desktop is available for Desktop <a href="https://github.com/SpiritCroc/schildichat-desktop/releases">here</a>, and I host the web variant <a href="https://schildiweb.spiritcroc.de/">here</a>.
If you want to build it yourself, check out <a href="https://github.com/SpiritCroc/schildichat-desktop">this repo</a>.</p>
</blockquote>
<p><img src="/blog/img/2020-10-16-oMUqR-1.png" alt="2020-10-16-oMUqR-1.png" /></p>
<h3 id="element-web">Element Web</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> offered:</p>
<blockquote>
<p>Element 1.7.9 has landed, highlights include</p>
<ul>
<li>
<p>Many small fixes with edits and replies</p>
</li>
<li>
<p>Fixed a race during cross-signing key upload at registration time</p>
</li>
<li>
<p>Clarified when you have unsaved changes in profile settings</p>
</li>
</ul>
<p>Aside from that  has been pushing on with the widgets project. A picture says a thousand words, so here you go.</p>
</blockquote>
<p><img src="/blog/img/2020-10-16-wZher-image.png" alt="2020-10-16-wZher-image.png" /></p>
<blockquote>
<p>As you can see T3chguy was really pleased to have me interrupt him to take this picture. Expect the new design to merge next week. </p>
<p>Finally we will most likely ship a new release next week to fix some Jitsi bugs.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="wake-on-lan-bot">Wake-on-LAN bot</h3>
<p><a href="https://matrix.to/#/@jan.christian:gruenhage.xyz">JCG</a> announced:</p>
<blockquote>
<p>I wrote a <a href="https://en.wikipedia.org/wiki/Wake-on-LAN">Wake-on-LAN</a> bot to wake up hosts by sending a matrix message. It is configurable with multiple hosts and has a list of users per host who are allowed to wake it up. It's using the matrix-rust-sdk, source is available over at <a href="https://git.jcg.re/jcgruenhage/matrix-wol">https://git.jcg.re/jcgruenhage/matrix-wol</a>, and if anyone has questions, feel free to join <a href="https://matrix.to/#/#matrix-wol:jcg.re">#matrix-wol:jcg.re</a>.</p>
</blockquote>
<p>When I asked what this is used for:</p>
<blockquote>
<p>I have stuff on my workstation that I need access to most of the time, but keeping it running uses too much power (but I did it anyway so far), this is so that I can suspend it when I leave but can still power it on when I need something from there on the got</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks üó£Ô∏è</h2>
<h3 id="talking-about-bridges-and-bots-in-matrix-german">Talking about Bridges and Bots in Matrix (German)</h3>
<p><a href="https://matrix.to/#/@oleg:fiksel.info">Oleg</a> announced:</p>
<blockquote>
<p>I was invited to the German Podcast MacMittwoch (no, it's not only about Macs) to talk about Bridges and Bots in Matrix. It was a very interesting and funny round.</p>
<p>Here is the recording:</p>
<ul>
<li><a href="https://macmittwoch.de/podcast/matrix_mit_bridges_und_bots">https://macmittwoch.de/podcast/matrix_mit_bridges_und_bots</a></li>
</ul>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞Ô∏è</h2>
<h3 id="matrix-emoji-upload">matrix-emoji-upload</h3>
<p><a href="https://matrix.to/#/@mewmew:blob.cat">mewmew</a> offered:</p>
<blockquote>
<p>This is a script I've created for use with <a href="https://github.com/matrix-org/matrix-doc/pull/2545/">MSC2545</a>. It allows easy uploading of emoji packs to Matrix rooms. Feel free to check it out <a href="https://git.blob.cat/mewmew/matrix-emoji-upload">on Gitea</a>, or join the project room <a href="https://matrix.to/#/#matrix-emoji-upload:blob.cat">#matrix-emoji-upload:blob.cat</a> if you have any questions/comments/issues.</p>
</blockquote>
<h3 id="n8n-io-support">n8n.io support</h3>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> announced:</p>
<blockquote>
<p>n8n.io (FOSS extendable workflow automation) just added Matrix support! <a href="https://n8n.io/integrations/n8n-nodes-base.matrix">https://n8n.io/integrations/n8n-nodes-base.matrix</a> and <a href="https://github.com/n8n-io/n8n/pull/1046">https://github.com/n8n-io/n8n/pull/1046</a></p>
</blockquote>
<p>Exciting! Yet the saga that followed only adds to the excitement!</p>
<p>First <a href="https://matrix.to/#/@oleg:fiksel.info">Oleg</a> noticed a problem:</p>
<blockquote>
<p>Could it be that only matrix.org as HS currently is supported?</p>
<p>I'm getting <code>Matrix credentials are not valid!</code> and I see the request to matrix.org on a traffic capture.</p>
</blockquote>
<p><a href="https://matrix.to/#/@jaywink:federator.dev">jaywink</a> discovered the alarming truth:</p>
<blockquote>
<p>the original PR mentions mantrixorg indeed: <a href="https://github.com/n8n-io/n8n/pull/1024">https://github.com/n8n-io/n8n/pull/1024</a> .. sounds like PR time for someone :)</p>
</blockquote>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a>, like a coiled spring, provided a PR:</p>
<blockquote>
<p>well now it's a pull request <a href="https://github.com/n8n-io/n8n/pull/1065">https://github.com/n8n-io/n8n/pull/1065</a></p>
</blockquote>
<p>...</p>
<blockquote>
<p>oh nice it got merged already</p>
</blockquote>
<p><a href="https://matrix.to/#/@Faelar:matrix.org">Faelar</a> noticed:</p>
<blockquote>
<p>For those not following on github, n8n released a new version including the fix for homeserver</p>
</blockquote>
<p><a href="https://matrix.to/#/@oleg:fiksel.info">Oleg</a>, who brings us back to the start said:</p>
<blockquote>
<p>Just tested it.</p>
<p>It works! ü•≥</p>
</blockquote>
<p>Open Source!</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">imninja.net</td><td style="text-align: center">466.5</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">midov.pl</td><td style="text-align: center">531</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">mdpnd.ch</td><td style="text-align: center">540</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">chatcloud.net</td><td style="text-align: center">569</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">elcyb.org</td><td style="text-align: center">801</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">fab.network</td><td style="text-align: center">967</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">1168</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">envs.net</td><td style="text-align: center">1863.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">blob.cat</td><td style="text-align: center">2660</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">aragon.sh</td><td style="text-align: center">2743.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;10&#x2F;09&#x2F;this-week-in-matrix-2020-10-09&#x2F;" title="This Week in Matrix 2020-10-09">This Week in Matrix 2020-10-09</a></h2>
                <span>
                    10.10.2020 00:28
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                <br>
                <small>Last update: 09.10.2020 20:29</small>
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/DOHTmJFrvbM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<h3 id="matrix-in-use-at-ietf-and-teamspeak">Matrix in use at IETF and TeamSpeak</h3>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> said:</p>
<blockquote>
<p>IETF is trialling Matrix as a replacement to Slack and a complement to XMPP: <a href="https://mailarchive.ietf.org/arch/msg/tools-discuss/cUd9P35cj-nGsaioZ9HmMLmf1G4/">https://mailarchive.ietf.org/arch/msg/tools-discuss/cUd9P35cj-nGsaioZ9HmMLmf1G4/</a></p>
</blockquote>
<p>ALSO</p>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> commented:</p>
<blockquote>
<p>looks like teamspeak is using Matrix (a Matrix endpoint was previously noticed at https://tschat-1.teamspeak.com/)</p>
</blockquote>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> offered:</p>
<blockquote>
<p>More info here: <a href="https://community.teamspeak.com/t/teamspeak-development-status-update/11419/36">https://community.teamspeak.com/t/teamspeak-development-status-update/11419/36</a></p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> told us:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a></p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2788">MSC2788: Room version 6 as the default room version</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2414">MSC2414: Make reason and score parameters optional for reporting content</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2812">[WIP] MSC2812: Role-based power/permissions</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2810">MSC2810: Consistent globs specification</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2802">[WIP] MSC2802: Flip The Table for Full Room Abstraction</a></p>
</li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, we're going to be keeping the same three MSCs as last week, as their review is still a work in progress. As a reminder, those are <a href="https://github.com/matrix-org/matrix-doc/issues/2774">MSC2774</a> (widget URL template parameters), <a href="https://github.com/matrix-org/matrix-doc/issues/2765">MSC2765</a> (widget avatars), and <a href="https://github.com/matrix-org/matrix-doc/issues/2790">MSC2790</a> (modal widgets).</p>
</blockquote>
<p><img src="/blog/img/2020-10-09--3RtA-stacked_area_chart.png" alt="2020-10-09--3RtA-stacked_area_chart.png" /></p>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite-goes-beta">Dendrite goes beta</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@kegan:matrix.org">kegan</a> told us:</p>
<blockquote>
<p>Dendrite <a href="https://matrix.org/blog/2020/10/08/dendrite-is-entering-beta">has officially entered beta</a>!</p>
<p>It aims to be an efficient, reliable and scalable alternative to Synapse.</p>
<p>We encourage early adopters to try it out starting with v0.1.0 in Monolith/Postgres mode.</p>
<p>Dendrite supports a large amount of the Matrix spec including:</p>
<ul>
<li>
<p>All room versions</p>
</li>
<li>
<p>E2E encryption (but not cross-signing)</p>
</li>
<li>
<p>Federation</p>
</li>
<li>
<p>and many others!</p>
</li>
</ul>
<p>We'll be hard at work in the coming weeks ironing out any issues that crop up as Dendrite enters the global</p>
<p>federation of Matrix servers. At present, Dendrite has not been optimised for memory/CPU usage, nor does it
fully support sharding, so there is still much scope to improve the already impressive resource usage whilst</p>
<p>heading towards 100% spec compliance.</p>
<p>Spec compliance:</p>
<ul>
<li>
<p>Client-Server APIs: 56%, same as last week</p>
</li>
<li>
<p>Server-Server APIs: 77%, same as last week</p>
</li>
</ul>
</blockquote>
<p><a href="https://matrix.to/#/@rumpelsepp:hackbrettl.de">stefan</a> announced:</p>
<blockquote>
<p>I created an <a href="https://aur.archlinux.org/packages/dendrite/">AUR package</a> for dendrite. So it is easy to get it running on Arch Linux.</p>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> told us:</p>
<blockquote>
<p>This week I worked on a new feature: the Admin Room. This is a room that is automatically created for the first user of a new homeserver. This room will be used to send warnings to server admins in the future and can be used to control Conduit (like querying information, running cleanup, banning servers, hiding public rooms or restarting Conduit). Power levels can be used to control who in the room has access to which commands. The admin room will work over federation, so it's easy to help someone fix his server.</p>
<p>Other news:</p>
<ul>
<li>
<p>Federation is now disabled by default and can be enabled in the config</p>
</li>
<li>
<p>Bug with typing notifications is fixed</p>
</li>
</ul>
<p>Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<h2 id="synapse">Synapse</h2>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> told us:</p>
<blockquote>
<p>This week we put out <a href="https://github.com/matrix-org/synapse/releases/tag/v1.21.0rc3">v1.21.0rc3</a>, which fixes a duplicate messages bug. We expect the full release to go out early next week.</p>
<p>After a long and sometimes painful journey we plan to run sharded event persisters on matrix.org from Monday. All being well we will start running background processes on their own worker to free up the main process.
These two projects combined should noticeably improve performance of matrix.org and any large scale deployments.</p>
<p>Aside from that we are continuing to work on room knocking as a feature and have been considering ways to reduce load attributable to state resolution.</p>
<p>We will also dust off the notifications project.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="gitter">Gitter</h3>
<p><a href="https://matrix.to/#/@madlittlemods:matrix.org">Eric Eastwood</a> told us:</p>
<blockquote>
<p>The native Gitter &lt;-&gt; Matrix bridge is underway and we're working on <a href="https://gitlab.com/gitlab-org/gitter/webapp/-/merge_requests/2027">virtual users</a> which is the first piece to making the bridge feel native. You can see what this will look like in this ominous and exciting tweet: <a href="https://twitter.com/gitchat/status/1314252991705292800">https://twitter.com/gitchat/status/1314252991705292800</a></p>
<p>There is also a <a href="https://gitlab.com/groups/gitlab-org/gitter/-/epics/10#note_426385967">GitLab epic</a> you can track which breaks down some of the tasks and holds more details of what we're thinking of for the bridge.</p>
</blockquote>
<h3 id="rainbow-once-more-into-the-bifrost">üåà Once more into the Bifrost</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> announced:</p>
<blockquote>
<p>Asgardians rejoice, for Bifrost development resumed this week! We've worked extremely hard this week to improve general gateway performance, edge case bugs and basically plowing on with the project. A 0.2.0 release will shortly be due with the new changes, and matrix.org is already running the latest and greatest. You can checkout the project over at <a href="https://github.com/matrix-org/matrix-bifrost">https://github.com/matrix-org/matrix-bifrost</a></p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="fractal">Fractal</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> reported:</p>
<blockquote>
<p>Former Fractal GSoC intern Alejandro Dominguez üòéÔ∏è got his <a href="https://gitlab.gnome.org/GNOME/fractal/-/merge_requests/626">Integrate matrix-sdk (I)</a> merge request in ‚ÄúReady for review‚Äù state. That‚Äôs a +3910/-5439, 38 commits diff‚ÄºÔ∏è poljar, who is the main contributor of matrix-rust-sdk, already had a look and provided some insights, but given üò±Ô∏è the sheer size of the changeset, the moar üëÄÔ∏è we can get on it the better.</p>
</blockquote>
<h3 id="fluffychat">fluffychat</h3>
<p><a href="https://matrix.to/#/@krille:janian.de">krille</a> offered:</p>
<blockquote>
<p>FluffyChat now runs on native Linux desktop (x86).</p>
<p>You can download Linux tarballs from the CI and run them on any system which has sqlite3 installed (which all distros may have). If you have libolm3 installed, you can also use e2ee.
Oh and by the way. Its NOT electron or any html5 stuff! Its a native Linux app.
We are working on packaging solutions like snap and Flatpak. üòä</p>
</blockquote>
<h3 id="vtx">Vtx</h3>
<p><a href="https://matrix.to/#/@craftedcart:matrix.org">CraftedCart</a> offered:</p>
<blockquote>
<p>I've started to make a Matrix client over the past few weeks, just as a hobby project for now, using Qt and a 'lil C++20! :D</p>
<p>There's not a whole lot to show right now - currently we've got password login, and a simple timeline that can show plain text or <code>m.image</code> thumbnails.</p>
<p>Source code's up at <a href="https://gitlab.com/CraftedCart/vtx">https://gitlab.com/CraftedCart/vtx</a></p>
</blockquote>
<p><img src="/blog/img/2020-10-09-TATmq-vtx_main.png" alt="2020-10-09-TATmq-vtx_main.png" /></p>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> reported:</p>
<blockquote>
<p>This week we finally cleaned up the remaining parts of Chethans GSoC work and merged it. This means Nheko now has partial support for cross-signing. You can either start the verification from another client or when viewing the profile of a user. There are a few things still missing though:</p>
<ul>
<li>
<p>Nheko does not use the verification status at all at the moment. So while you can verify your master key and let others verify your master key, from Nhekos perspective there is not much benefit yet. You will however show up with a green checkmark in other clients.</p>
</li>
<li>
<p>While nheko supports verifying your own master key and after that will also let others verify your master key, it does not yet download the self and user signing keys. This means you won't be able to upload cross-signing signatures for your own devices and other users master keys yet. I'll see if I can implement in the next weeks or so (since literally only the private key download or sharing is missing).</p>
</li>
<li>
<p>Nheko can't bootstrap cross-signing yet. This means you need to bootstrap it from Element or another client once. That will probably take a bit until this is complete.</p>
</li>
<li>
<p>The UX is still WIP. Currently it shows a lot of unnecessary buttons, that are a bit confusing as well as not enough green checkmarks, so that needs some work.</p>
</li>
</ul>
<p>Other things that happened in the mean time or are work in progress:</p>
<ul>
<li>
<p>Decryption errors should be reduced by a bit now. This is still work in progress though. With device trust landed now, we should be able to do automatic key requests, sharing and key backup soon.</p>
</li>
<li>
<p>Lurkki is currently cleaning up the design of the built in video player.</p>
</li>
<li>
<p>manu_kamath is improving the design when showing images at the same time.</p>
</li>
<li>
<p>LorenDB has been updating our screenshots and working on an Esperanto translation.</p>
</li>
<li>
<p>trilene has been ever busy improving edge cases around the Voip support in Nheko.</p>
</li>
</ul>
<p>So far Hacktoberfest seems to be going well with quite a few people trying to clean up some of the rougher edges in Nheko. If you are using Nheko and think some things could be better, why not try to fix it yourself? October is the perfect time for that!</p>
<p>Featurework of this cycle is also slowly nearing its end. Once cross-signing, voip and the new event store are stable, we plan to improve the UX a bit more as well as some other annoyances and maybe we can do a new release then! A nice and spooky Hacktober everyone!</p>
</blockquote>
<p><a href="https://matrix.to/#/@davebloggt:kif.rocks">David Mehren</a> told us:</p>
<blockquote>
<p>I just built <code>nheko-git 0.7.2.r2021.517a126a-1</code> from the AUR and cross-signing works</p>
</blockquote>
<h3 id="element-web">Element Web</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> offered:</p>
<blockquote>
<p>This week we put out 1.7.9-rc.1 which is available at¬†<a href="https://staging.element.io">https://staging.element.io</a></p>
<p>Highlights include</p>
<ul>
<li>
<p>Many small fixes with edits and replies</p>
</li>
<li>
<p>Fixed a race during cross-signing key upload at registration time</p>
</li>
<li>
<p>Clarified when you have unsaved changes in profile settings</p>
</li>
</ul>
<p>Finally, the improved widget support is looking very exciting. Here is a design grab to give you an idea of what to expect. Note this is not a real Element screen shot, the base functionality is there, but the look and feel of the final version is subject to change.</p>
</blockquote>
<p><img src="/blog/img/2020-10-09-oANj9-widgets.png" alt="2020-10-09-oANj9-widgets.png" /></p>
<p><a href="https://matrix.to/#/@x:riot.ovh">Michael (t3chguy)</a> added:</p>
<blockquote>
<p>Element Web is currently transitioning the codebase over to TypeScript - track our progress at <a href="http://arewetsyet.bit.ovh/">http://arewetsyet.bit.ovh/</a></p>
</blockquote>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> told us:</p>
<blockquote>
<p>This week, Hydrogen gained better caching (and a little over-eager on Safari), room list filtering, a grid layout to show up to 6 rooms simultaneously (see screenshot) and work is well on its way for url-based navigation within the app.</p>
</blockquote>
<p><img src="/blog/img/2020-10-09-taU-L-hydrogen-grid.png" alt="2020-10-09-taU-L-hydrogen-grid.png" /></p>
<blockquote>
<p>also adding the screenshot on iOS that I didn't get in last week, showing the full range of display formats supported üôÇ</p>
</blockquote>
<p><img src="/blog/img/2020-10-09-OJHmu-hydrogen-ios.jpg" alt="2020-10-09-OJHmu-hydrogen-ios.jpg" /></p>
<blockquote>
<p>The app also received some visual polish, thanks to Nad, our designer.</p>
</blockquote>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> offered:</p>
<blockquote>
<p>We blocked the last week release (1.0.14) because of 2 issues: <a href="https://github.com/vector-im/element-ios/issues/3721">Unable to decrypt errors</a> and <a href="https://github.com/vector-im/element-ios/issues/3672#issuecomment-703510893">timeline not updating when coming from a notification</a>.</p>
<p><a href="https://github.com/vector-im/element-ios/releases/tag/v1.0.15">1.0.15</a> fixes those issues and more. The release should be available in TF soon. Hopefully, we will be able to publish it on the App Store on Monday</p>
</blockquote>
<h2 id="dept-of-voip-call-me-hand">Dept of VoIP ü§ô</h2>
<h3 id="matrix-voip-tester">Matrix VoIP Tester</h3>
<p><a href="https://matrix.to/#/@reivilibre:librepush.net">reivilibre</a> said:</p>
<blockquote>
<p><a href="https://github.com/matrix-org/voip-tester/pull/18">https://github.com/matrix-org/voip-tester/pull/18</a> (updated demo: <a href="https://test.voip.librepush.net">https://test.voip.librepush.net</a>)</p>
<p>This week, I have improved the scoring rubric, so that the verdict given to you by the tester more accurately reflects the likelihood of connection establishment.</p>
<p>I have also added more hints on what the verdicts mean.</p>
<p>Finally, I have added workarounds to support Chromium browsers that decided to break their WebRTC API so that they could pedantically rename <code>ip</code> to <code>address</code>. In any case, it now seems to be on par with Firefox.</p>
<p>The VoIP tester is now roughly 'usable' but please note that IPv6 support is totally untested (I don't have IPv6) ‚Äî it is also suspected that some browsers won't try IPv6 anyway.</p>
<p>There are also some more features on the wish list, such as screenshot safety and extra help when things go wrong.</p>
<p>For discussion, feel free to join <a href="https://matrix.to/#/#voip-tester:librepush.net">#voip-tester:librepush.net</a> .</p>
</blockquote>
<h2 id="dept-of-encryption-closed-lock-with-key">Dept of Encryption üîê</h2>
<h3 id="olm-lizard">Olm ü¶é</h3>
<p><a href="https://matrix.to/#/@hubert:uhoreg.ca">uhoreg</a> reported:</p>
<blockquote>
<p>Versions 3.2.0 and 3.2.1 of libolm have been released.  3.2.0 supports fallback keys (<a href="https://github.com/matrix-org/matrix-doc/pull/2732">MSC2732</a>) in the C library and the JavaScript binding, and includes several JavaScript/TypeScript fixes and improvements.  3.2.1 was just a fix to the TypeScript definition file.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="ruma">Ruma</h3>
<p>Ruma is a Rust project to create a comprehensive set of APIs for Matrix. Previously there was a Ruma homeserver project.</p>
<p><a href="https://matrix.to/#/@jplatte:matrix.org">jplatte</a> said:</p>
<blockquote>
<p>This week, q-b <a href="https://github.com/ruma/ruma/pull/289">implemented</a> moderation policy events, bringing us to full compatibility with r0.6.1 of the client-server API. iinuwa <a href="https://github.com/ruma/ruma/pull/288">added</a> the only endpoint we were missing from the appservice API. Additionally, I <a href="https://github.com/ruma/ruma/pull/286">improved</a> Ruma's JSON canonicalization, making it both simpler and more efficient.</p>
<p>Due to <a href="https://github.com/ruma/ruma/issues/215">two</a> <a href="https://github.com/ruma/ruma/issues/171">issues</a> regarding future-compatibility, we're still a while away from our next set of releases, but we're working on it!</p>
</blockquote>
<h3 id="new-library-objmatrix-objective-c">New library: ObjMatrix (Objective-C)</h3>
<p><a href="https://mtrix.to/#/@js:nil.im">js</a> introduced it with:</p>
<blockquote>
<p><a href="https://fossil.nil.im/objmatrix">ObjMatrix</a> (<a href="https://github.com/ObjFW/ObjMatrix">GitHub</a>) is a new Matrix client library written in modern Objective-C for <a href="https://objfw.nil.im/">ObjFW</a>. Because it uses ObjFW, it is not limited to Apple platforms, and instead is <a href="https://objfw.nil.im/doc/trunk/PLATFORMS.md">extremely portable</a> and should run on basically everything.</p>
<p>This is currently in its very early stages and is intended to be suitable to develop bots and clients with very soon. Being suitable to develop bridges with it is another goal for later.</p>
<p>Since ObjFW also works on platforms that are usually hard to support or port software to (e.g. <a href="https://www.morphos-team.net/">MorphOS</a>), this will hopefully also bring clients for these less mainstream operating systems. I'm especially hopeful about MorphOS here, since ObjFW already runs quite well there (parts of it are included with the OS even!), and hardware on which MorphOS runs on is usually not powerful enough to run Element Web. And eventually, I will want to have a Matrix client on my Amiga, too üòâ (which this should enable).</p>
<p>This currently does not have a decicated Matrix room yet, so all discussions about it currently happen in <a href="https://matrix.to/#/#objfw:nil.im">#objfw:nil.im</a>. So please feel free to join there and follow along development. And contributions are of course <em>very</em> welcome!</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="famedly-matrix-ansible-collection">famedly.matrix ansible collection</h3>
<p><a href="https://matrix.to/#/@jan.christian:gruenhage.xyz">JCG</a> told us:</p>
<blockquote>
<p>the <code>famedly.matrix</code> ansible collection has seen a release v0.2.0. Highlights since the last TWIM mention:</p>
<ul>
<li>
<p><strong>synapse_register</strong>: a new module for registering users using synapse's admin API.</p>
</li>
<li>
<p><strong>matrix_member</strong>: another new module, for inviting/kicking/banning people to/from rooms.</p>
</li>
<li>
<p>updates to synapse and element have been merged into their roles</p>
</li>
<li>
<p>support deploying release candidates of synapse and element</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-guides">Dept of Guides üß≠</h2>
<h3 id="noteworthy-hub-guide">Noteworthy Hub Guide</h3>
<p><a href="https://matrix.to/#/@balaa:a.noteworthy.im">balaa</a> told us:</p>
<blockquote>
<p>We‚Äôve put together a write up on how to deploy a Noteworthy Hub (transparent TLS proxy) in order to make it easy to run a federation capable matrix home server behind a firewall or NAT: <a href="https://noteworthy.tech/hub">https://noteworthy.tech/hub</a></p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">helderferreira.io</td><td style="text-align: center">487</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">heitkoetter.net</td><td style="text-align: center">627</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">asra.gr</td><td style="text-align: center">802</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">1178</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">matrix.thedisco.zone</td><td style="text-align: center">1275.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">shortestpath.dev</td><td style="text-align: center">1803</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">lelux.net</td><td style="text-align: center">2419</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">elcyb.org</td><td style="text-align: center">2685</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">test.zemos.net</td><td style="text-align: center">2800</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">blob.cat</td><td style="text-align: center">2882</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>Thanks anoa for TCB* the last two weeks! Was fun to be the one to read TWIM for myself. :D</p>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>
<p>* Taking Care of Business</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;10&#x2F;02&#x2F;this-week-in-matrix-2020-10-02&#x2F;" title="This Week in Matrix 2020-10-02">This Week in Matrix 2020-10-02</a></h2>
                <span>
                    02.10.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/andrew-morgan">
                        Andrew Morgan
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/J7aNMUg3pvA" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<br />
Don't forget that Matrix Live is also available in podcast form. Search for "Matrix Live" wherever you get your podcasts.
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<h3 id="gitter-enters-the-matrix">Gitter Enters the Matrix</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> reported:</p>
<blockquote>
<p>Gitter is joining the Matrix ecosystem!</p>
</blockquote>
<p>It's true! Element has acquired Gitter from GitLab and will be implementing
Gitter's current chat features in Matrix, before rebuilding Gitter as a Matrix
client! Before all that however, the first step is to build a proper, modern
bridge between the two networks, replacing the old one that's been around for
years.</p>
<p>The full spectrum of news is:</p>
<ul>
<li><a href="https://matrix.org/blog/2020/09/30/welcoming-gitter-to-matrix">The Matrix.org blog post</a></li>
<li><a href="https://element.io/blog/gitter-is-joining-element/">The Element blog post</a></li>
<li><a href="https://about.gitlab.com/blog/2020/09/30/gitter-moves-to-element">The Gitter blog post</a></li>
<li><a href="https://techcrunch.com/2020/09/30/element-acquires-gitter-to-get-more-developers-on-board-with-the-open-matrix-messaging-protocol/">Techcrunch article</a></li>
<li><a href="https://changelog.com/podcast/414">ChangeLog Podcast episode w/ Matthew Hodgson from Matrix and Sytse &quot;Sid&quot; Sijbrandij from GitLab</a></li>
</ul>
<p>And if you'd like to chat with your fellow Matrix and Gitter users, there's a
bridged room already set up at
<a href="https://matrix.to/#/#gitter:matrix.org">#gitter:matrix.org</a>!</p>
<p>Welcome to the community, Gitter! üéâ</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> reported:</p>
<blockquote>
<h3 id="spec">Spec</h3>
</blockquote>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals.">https://matrix.org/docs/spec/proposals.</a></p>
<h2 id="msc-status">MSC Status</h2>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2788">MSC2788: Room version 6 as the default room version</a> (merge)</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2414">MSC2414: Make reason and score parameters optional for reporting content</a> (merge)</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2801">MSC2801: Make it explicit that event bodies are untrusted data</a></li>
</ul>
<h2 id="spec-core-team">Spec Core Team</h2>
<p>In terms of Spec Core Team MSC focus for this week, after dropping off <a href="https://github.com/matrix-org/matrix-doc/pull/2414">MSC2414</a> in the FCP bucket, we're heading back for another big swing at widgets. <a href="https://github.com/matrix-org/matrix-doc/pull/2774">MSC2774</a> (widget ID URL parameter), <a href="https://github.com/matrix-org/matrix-doc/pull/2765">MSC2765</a> (widget avatars) and <a href="https://github.com/matrix-org/matrix-doc/pull/2790">MSC2790</a> (modal widgets) are the focus for this week üôÇ</p>
<p><img src="/blog/img/2020-10-02-BQKH9-stacked_area_chart.png" alt="2020-10-02-BQKH9-stacked_area_chart.png" /></p>
</blockquote>
<h3 id="matrix-uris">Matrix URIs</h3>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> told us:</p>
<blockquote>
<p>being totally shook up about the Gitter announcement for a good part of the week, I completed the work on <a href="https://github.com/matrix-org/matrix-doc/issues/2312">MSC2312</a> (it's about Matrix URIs, ICYMI) and it hopefully won't be long before it becomes the actual standard to share Matrix coordinates in popular web browsers. Ok, who am I kidding - before Matrix clients get on with adoption.</p>
</blockquote>
<p>This will allow people to post links to Matrix rooms/messages/users and when clicked will open right in your favourite Matrix client. Super convenient and great for adoption!</p>
<h2 id="dept-of-p2p-busts-in-silhouette">Dept of P2P üë•</h2>
<h3 id="ios-p2p-demo">iOS P2P Demo</h3>
<p>Dendrite is a next-generation homeserver written in Go. It is currently serving as the basis for peer-to-peer Matrix experiments</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> announced:</p>
<blockquote>
<p>Build 38 of the iOS P2P Demo, as built using Element iOS and Dendrite, has been submitted to TestFlight and will hopefully be available for testers shortly (pending Apple approval)! It features lots of updates in the Dendrite backend which should hopefully make it more reliable.</p>
<p>If you have an iPhone or iPad and enjoy things that sometimes work, <a href="https://testflight.apple.com/join/Tgh2MEk6">join the TestFlight here</a>!</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> reported:</p>
<blockquote>
<p>This week we put out a new release candidate -<a href="https://github.com/matrix-org/synapse/releases/tag/v1.21.0rc2">1.21.0rc2</a></p>
<p>Highlights include </p>
<ul>
<li>
<p>Add experimental support for sharding event persister. (<a href="https://github.com/matrix-org/synapse/issues/8294">#8294</a>, <a href="https://github.com/matrix-org/synapse/issues/8387">#8387</a>, <a href="https://github.com/matrix-org/synapse/issues/8396">#8396</a>, <a href="https://github.com/matrix-org/synapse/issues/8419">#8419</a>)</p>
</li>
<li>
<p>Add experimental prometheus metric to track numbers of &quot;large&quot; rooms for state resolutiom. (<a href="https://github.com/matrix-org/synapse/issues/8425">#8425</a>)</p>
</li>
<li>
<p>Add prometheus metrics to track federation delays. (<a href="https://github.com/matrix-org/synapse/issues/8430">#8430</a>)</p>
</li>
<li>
<p>Fix messages not being sent over federation until an event is sent into the same room. (<a href="https://github.com/matrix-org/synapse/issues/8230">#8230</a>, <a href="https://github.com/matrix-org/synapse/issues/8247">#8247</a>, <a href="https://github.com/matrix-org/synapse/issues/8258">#8258</a>, <a href="https://github.com/matrix-org/synapse/issues/8272">#8272</a>, <a href="https://github.com/matrix-org/synapse/issues/8322">#8322</a>)</p>
</li>
<li>
<p>Fix a regression in v1.21.0rc1 which broke thumbnails of remote media. <a href="https://github.com/matrix-org/synapse/pull/8438">#8438</a></p>
</li>
</ul>
<p>Aside from that we are working on moving background processes away from the main process, actually getting the event persister sharding onto matrix.org and trying to improve Synapse stability generally.</p>
</blockquote>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> said:</p>
<blockquote>
<p>Dendrite is nearing beta! Today we will be cutting a candidate 0.1.0rc1 version after a week of hunting and fixing bugs. We are on track to release version 0.1.0 next week, at which point we will be inviting people to try installing and using Dendrite!</p>
<p>Changes this week include:</p>
<ul>
<li>
<p>Initial sync is fixed after a bug caused us to fall back on incremental sync</p>
</li>
<li>
<p>The <code>Content-Type</code> HTTP header is now handled properly when MIME-formatted</p>
</li>
<li>
<p>Internal API calls over HTTP in polylith mode now use their own HTTP client with higher timeouts</p>
</li>
<li>
<p>Dendrite now tries harder to find missing auth events, using fetcher workers</p>
</li>
<li>
<p>Dendrite no longer falls back on <code>/state</code> unnecessarily, which was the cause of a major memory leak and high CPU usage</p>
</li>
<li>
<p>Federation HTTP calls now include the <code>User-Agent</code> header</p>
</li>
<li>
<p>The event <code>depth</code> field is now ignored in the federation API</p>
</li>
<li>
<p>We now report the password change capability properly (thanks <a href="https://github.com/bn4t">bn4t</a>!)</p>
</li>
<li>
<p>Registration flows now include the <code>completed</code> field after a failure (thanks <a href="https://github.com/Lesterpig">Lesterpig</a>!)</p>
</li>
<li>
<p>A bug in the previous event updater in the roomserver has been fixed</p>
</li>
<li>
<p>A bug where we didn't check our own old verify keys when verifying event signatures is fixed</p>
</li>
<li>
<p>A bug where we didn't handle event ID domains being different to the event origin in earlier room versions has been fixed</p>
</li>
<li>
<p>TLS fingerprints have been removed</p>
</li>
</ul>
<p>Spec compliance is unchanged:</p>
<ul>
<li>
<p>Client-Server APIs: 56%, same as last week</p>
</li>
<li>
<p>Server-Server APIs: 77%, same as last week</p>
</li>
</ul>
<p>Recently, we updated some of our documentation and created a whole new set of <a href="https://github.com/matrix-org/dendrite/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">easy first issues</a> and <a href="https://github.com/matrix-org/dendrite/issues?q=is%3Aissue+is%3Aopen+label%3Ahelp-wanted">medium to hard issues</a> for contributors.</p>
<p>If contributing to Dendrite sounds like something you would be interested in, please take a look at these issues and join us in <a href="https://matrix.to/#/#dendrite-dev:matrix.org">#dendrite-dev:matrix.org</a>! There's also <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for general Dendrite chat and updates and <a href="https://matrix.to/#/#dendrite-alerts:matrix.org">#dendrite-alerts:matrix.org</a> for release notifications and important alerts.</p>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> reported:</p>
<blockquote>
<ul>
<li>
<p>Fix bug leading to many requests at the same time due to error in waiting code</p>
</li>
<li>
<p>Implement /query/profile over federation</p>
</li>
<li>
<p>Start work on /invite over federation</p>
</li>
</ul>
<p>Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<h3 id="the-construct">The Construct</h3>
<p><a href="https://matrix.to/#/@jason:zemos.net">Jason</a> reported:</p>
<blockquote>
<p>This week in Matrix Construct supports aarch64 (ARMv8) architectures. The experience has been phenomenal, with performance exceeding all expectations. Last week I wrote about all new vector code inside Construct using SSE through AVX-512 hardware acceleration in servers; that same code is now accelerated by SVE (Scalable Vector Extensions) on ARM architectures when you compile with clang.</p>
<p>This result is important: ARM virtual machines are offered at a significantly lower price compared to x86 from the same vendor. The systems are cheaper, require less power, but generally perform worse. The trick is to optimize the software for the weaker hardware. The benefit allows, for example, Matrix server hosts running Construct to make th eir profit margin from the lower TCO, getting more out of every computing cycle.</p>
<p>Construct is available at <a href="https://github.com/matrix-construct/construct">https://github.com/matrix-construct/construct</a> and don't forget to idle and idle <a href="https://matrix.to/#/#construct:zemos.net">#construct:zemos.net</a>.</p>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@pierre:mamieserv.fr">Pierre</a> announced:</p>
<blockquote>
<p><a href="https://yunohost.org">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration had been updated to 1.19.3 (1.20.1 available in branch <code>testing</code>)</p>
<p><a href="https://github.com/YunoHost-Apps/element_ynh/tree/master">Element Web</a> integration had been updated to 1.7.7 (1.7.8 available in branch <code>testing</code>)</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="mautrix-signal">mautrix-signal</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> said:</p>
<blockquote>
<p>I made a Signal bridge using <a href="https://gitlab.com/thefinn93/signald">signald</a>.</p>
<p>Currently it supports bridging messages, reactions and signal read receipts. End-to-bridge encryption also exists (mautrix-python does all the work there). The bridge can be linked as a secondary device and possibly even registered as the main device, but I didn't actually test registering yet. Setup instructions are currently somewhat non-existent, but it's mostly the same as my other bridges plus signald as a separate daemon.</p>
<p>The repo is <a href="https://github.com/tulir/mautrix-signal">https://github.com/tulir/mautrix-signal</a> and the room is <a href="https://matrix.to/#/#signal:maunium.net">#signal:maunium.net</a></p>
</blockquote>
<p>He then popped up again a few days later to say:</p>
<blockquote>
<p>After the initial announcement earlier this week, I implemented a few of the missing features like media bridging, and even added setup instructions.</p>
</blockquote>
<p>The speed at which Tulir writes bridges scares me sometimes.</p>
<h3 id="mx-puppet-discord">mx-puppet-discord</h3>
<p><a href="https://github.com/matrix-discord/mx-puppet-discord">mx-puppet-discord</a> is a (double)puppeting and relay bridge for discord, based on mx-puppet-bridge</p>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> said:</p>
<blockquote>
<p>mx-puppet-discord got updated to the newest discord.js version, meaning you have to update if you want to continue to operate it, due to discord having changed their gateway url!</p>
</blockquote>
<blockquote>
<p>mx-puppet-discord now also supports the intent stuff, so be sure to update by 7th oct</p>
</blockquote>
<p><strong>If you run mx-puppet-discord (like I do), make sure to update by October 7th or it will stop working!</strong></p>
<h3 id="bridges-do-hackertoberfest">Bridges do Hackertoberfest</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> reported:</p>
<blockquote>
<p>Hey folks, I wanted to give another shoutout to say that we are still accepting PRs as part of <a href="https://hacktoberfest.digitalocean.com/">hacktoberfest</a>. Contributing 4 PRs will get you a T-Shirt (sadly not a Matrix one). Obviously, please ensure your PRs are meaningful (no copyright adjustments, typo fixes).</p>
<p>You can work on any issue, but we've highlighted some issues that would be perfect for newcomers over at <a href="https://github.com/matrix-org/matrix-appservice-bridge/issues?q=is%3Aopen+is%3Aissue+label%3Ahacktoberfest">https://github.com/matrix-org/matrix-appservice-bridge/issues?q=is%3Aopen+is%3Aissue+label%3Ahacktoberfest</a> and <a href="https://github.com/matrix-org/matrix-appservice-slack/issues?q=is%3Aopen+is%3Aissue+label%3Ahacktoberfest">https://github.com/matrix-org/matrix-appservice-slack/issues?q=is%3Aopen+is%3Aissue+label%3Ahacktoberfest</a></p>
</blockquote>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> reported:</p>
<blockquote>
<p>In the hope of expanding the number of people contributing to the matrix-appservice-slack repo I have spent a chunk of my morning improving the issue descriptions and labelling up issues. If you are interested in fixing a little annoyance with the slack bridge or just fancy writing some typescript see the <a href="https://github.com/matrix-org/matrix-appservice-slack/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">good first issue</a> label on the repo.</p>
</blockquote>
<h3 id="matrix-appservice-slack-1-6-0-rocks-the-block">matrix-appservice-slack 1.6.0 rocks the block</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> reported:</p>
<blockquote>
<p>The matrix.org team are delighted to bring you the latest in Slack bridging technology. Do not let the</p>
<p>minor version bump fool you, this release is packed with the good stuff. The headline feature is that
our phase 1 encryption feature has landed and is free for users to experiment with. Head over to the</p>
<p><a href="https://matrix-appservice-slack.readthedocs.io/en/stable/bridge-encryption/">docs</a> to see how to
set this up.</p>
<p>There have been other notable changes, such as:</p>
<ul>
<li>
<p>New configuration options to allow or deny some channels from being bridged.</p>
</li>
<li>
<p>Support removing <em>reactions</em> from Slack and Matrix messages.</p>
</li>
<li>
<p>Add onboarding message for new users when puppeting is enabled, to encourage them to puppet.</p>
</li>
<li>
<p>Improved feature documentation</p>
</li>
</ul>
<p>(and many many bugfixes)</p>
<p>You can read the release information over at <a href="https://github.com/matrix-org/matrix-appservice-slack/releases">https://github.com/matrix-org/matrix-appservice-slack/releases</a></p>
</blockquote>
<p>Looking forward to seeing all the new Hacktoberfest contributors! üéÉ</p>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="fluffychat">fluffychat</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> offered:</p>
<blockquote>
<p>Fluffychat 0.19.1 has been released!</p>
<h4 id="features">Features</h4>
<ul>
<li>
<p>Implemented ignore list</p>
</li>
<li>
<p>Jump to events in timeline: When tapping on a reply and when tapping a matrix.to link</p>
</li>
<li>
<p>Display messages with up to 10 emotes or emoji bigger</p>
</li>
<li>
<p>New design for the chat list and message bubbles</p>
</li>
<li>
<p>Implement reactions</p>
</li>
<li>
<p>Implement password change</p>
</li>
<li>
<p>Implement deactivate user account</p>
</li>
</ul>
<h4 id="fixes">Fixes</h4>
<ul>
<li>
<p>Timeline randomly resorting while more history is being fetched</p>
</li>
<li>
<p>Automatically request history if the &quot;load more&quot; button is on the screen</p>
</li>
</ul>
</blockquote>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> said:</p>
<blockquote>
<p>More browser compatibility work this week, making Hydrogen run IE11 on Windows 7, and on Safari on macOS and iOS (still with some caveats). Also fixed several bugs:</p>
<ul>
<li>
<p>fix for unable to open session after a synapse bug manifested itself</p>
</li>
<li>
<p>prevent the app locking up when you start the app with previously unsent messages</p>
</li>
<li>
<p>fix sync errors being reported as &quot;null&quot; in the banner</p>
</li>
<li>
<p>handle timeout during initial sync (important for large accounts) (although I have seen 1 report that this still isn't fixed, please report if you can't login with a large account)</p>
</li>
</ul>
</blockquote>
<h3 id="schildichat-for-android">SchildiChat for Android</h3>
<p><a href="https://matrix.to/#/@spiritcroc:matrix.org">SpiritCroc</a> said:</p>
<blockquote>
<p>SchildiChat's codebase has been updated to Element 1.0.8!</p>
<p>Furthermore, there have been a few design updates:</p>
<ul>
<li>
<p>Media items (pictures, videos, stickers) are no longer displayed in message bubbles</p>
</li>
<li>
<p>Bigger stickers</p>
</li>
<li>
<p>Avatars are now hidden in direct chats (when using dual-side message bubbles)</p>
</li>
</ul>
<p>Finally, Schildi doesn't crash anymore if somebody sends an empty message.</p>
</blockquote>
<p>SpiritCroc also mentioned some relevant links!</p>
<blockquote>
<ul>
<li>
<p>website: <a href="https://spiritcroc.de/schildichat-android">https://spiritcroc.de/schildichat-android</a></p>
</li>
<li>
<p>repo: <a href="https://github.com/SpiritCroc/SchildiChat-android">https://github.com/SpiritCroc/SchildiChat-android</a></p>
</li>
<li>
<p>room: <a href="https://matrix.to/#/#schildichat-android:matrix.org">#schildichat-android:matrix.org</a></p>
</li>
</ul>
</blockquote>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> announced:</p>
<blockquote>
<p>1.0.14 is in on the release path. It has:</p>
<ul>
<li>
<p>Room: Differentiate wordings for DMs</p>
</li>
<li>
<p>Room: New room details screen</p>
</li>
<li>
<p>Add Estonian support</p>
</li>
<li>
<p>Polishment in several areas and many bug fixes</p>
</li>
</ul>
<p>Full changelog:</p>
<p><a href="https://github.com/vector-im/element-ios/releases/tag/v1.0.14">https://github.com/vector-im/element-ios/releases/tag/v1.0.14</a>
<a href="https://github.com/vector-im/element-ios/releases/tag/v1.0.13">https://github.com/vector-im/element-ios/releases/tag/v1.0.13</a></p>
</blockquote>
<h3 id="element-web">Element Web</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> announced:</p>
<blockquote>
<p>This week released <a href="https://github.com/vector-im/element-web/releases/tag/v1.7.8">v1.7.8</a></p>
<p>Highlights include</p>
<ul>
<li>
<p>Secure Backup has been moved out of the registration flow to a toast when you first encounter an E2EE room, which simplifies the new user experience</p>
</li>
<li>
<p>Added options to hide various UI features when hosting a custom Element</p>
</li>
</ul>
<p>Aside from that we continue to improve on widget support for resizable widgets, modal widgets and generally making widgets better.</p>
<p>We are also continuing to work on instrumenting the app, improving mobile support for matrix.to and making jitsi calling more reliable.</p>
</blockquote>
<h3 id="element-android">Element Android</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> told us:</p>
<blockquote>
<p>Element Android: Version 1.0.8 is now available on the stores, it fixes issues with verification and PIN code among other issues (see <a href="https://github.com/vector-im/element-android/releases/tag/v1.0.8">https://github.com/vector-im/element-android/releases/tag/v1.0.8</a> for more details). Now we are working on improving performance when sending messages to rooms, and also improving global UX, especially of the home (rooms list). Search messages (in clear rooms for the moment) is coming soon, and it will be also possible to filter the room members list.</p>
<p>We will also spend some time on the new Android SDK, https://github.com/matrix-org/matrix-android-sdk2, which is for the moment a quick extract of what we have in Element Android. We have to take care of it as a real product now: document it properly, set up CI, export Javadoc, develop a sample app, etc.</p>
</blockquote>
<h3 id="element-for-nextcloud">Element for Nextcloud</h3>
<p><a href="https://matrix.to/#/@gary:garykim.dev">Gary Kim</a> reported:</p>
<blockquote>
<p><a href="https://github.com/gary-kim/riotchat">Element for Nextcloud</a> v0.6.11 has been released this week. The new version comes with various bug fixes, dependency upgrades, and an upgrade to Element Web v1.7.8. The version is also compatible with Nextcloud 20 which is being released soon.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="ruma">Ruma</h3>
<p><a href="https://matrix.to/#/@iinuwa:matrix.org">iinuwa</a> told us:</p>
<blockquote>
<p>Over the past couple of weeks, we've received PRs for all of the remaining federation endpoints, and all but one have already been merged!</p>
<p>Now that the end is in sight, we're turning our focus elsewhere. We're working on cleaning up and fixing a few bugs in our event signing code and soon will create tracking issues for filling out the Identity Service API.</p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services üöÄ</h2>
<h3 id="t2bot-io">t2bot.io</h3>
<p><a href="https://github.com/turt2live">TravisR</a> reported:</p>
<blockquote>
<p>t2bot.io has crossed 1M monthly active users</p>
<p>All of these users are Telegram/Discord users that have been brought into Matrix over the last 30 days. This doesn't appear to be a temporary spike either: over the last 8 weeks t2bot.io has been hovering at 900-950 thousand monthly active users, up from 600-700 thousand. Record-setting traffic levels have also been achieved, with matrix.org being able to keep up for the first time in a long while.</p>
<p>Overall it's a good sign to see so many communities making the jump to Matrix and sticking around ‚ù§Ô∏è</p>
</blockquote>
<p><img src="/blog/img/2020-10-02-uDiMG-image.png" alt="2020-10-02-uDiMG-image.png" /></p>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="zabbix-matrix">zabbix-matrix</h3>
<p><a href="https://matrix.to/#/@progserega:rsprim.ru">progserega</a> told us:</p>
<blockquote>
<p>I added zabbix-bot to my zabbix-matrix repo, which can get information about current problems from zabbix-server and send it to matrix user. <a href="https://github.com/progserega/matrix_zabbix">https://github.com/progserega/matrix_zabbix</a></p>
<p>In our company we use it for get current situation and <a href="https://github.com/progserega/im_sender_service">https://github.com/progserega/im_sender_service</a> for sending events from zabbix.</p>
</blockquote>
<p>I've found that having your systems reporting in a room while you chat around
it can be really productive. Props to supporting yet another monitoring platform!</p>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞Ô∏è</h2>
<h3 id="jitsi-e2ee-calls-using-olm">Jitsi E2EE Calls using Olm</h3>
<p>While 1-1 calls benefit from end-to-end encryption due to WebRTC, Jitsi group calls have always only benefitted from transport encryption.</p>
<p>A while ago <a href="https://jitsi.org/blog/e2ee/">Jitsi announced</a> that they were adding E2EE to Jitsi. But did you know that it's using Matrix's Olm encryption under the hood? It's currently available as an experimental feature on <a href="https://meet.jit.si">https://meet.jit.si</a>!</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">368</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">blob.cat</td><td style="text-align: center">543</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">nuclearlimes.co.uk</td><td style="text-align: center">580</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">nuclearlemons.uk</td><td style="text-align: center">889</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">912.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">mailstation.de</td><td style="text-align: center">1075</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">matrix.org</td><td style="text-align: center">1092</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">test.zemos.net</td><td style="text-align: center">1123</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">shortestpath.dev</td><td style="text-align: center">1251.5</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">chatcloud.net</td><td style="text-align: center">1338.5</td></tr>
</tbody></table>
<p>We also now have a room where the ping bots are only hosted on non-Synapse
servers! See the scoreboard below.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">104</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">settgast.org</td><td style="text-align: center">154</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">construct.grin.hu</td><td style="text-align: center">182</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">blob.cat</td><td style="text-align: center">209</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">grin.hu</td><td style="text-align: center">324.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">dendrite.neilalexander.dev</td><td style="text-align: center">367</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">test.zemos.net</td><td style="text-align: center">379</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">maunium.net</td><td style="text-align: center">448.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">conduit.nordgedanken.dev</td><td style="text-align: center">476</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">inferiorlattice.com</td><td style="text-align: center">592</td></tr>
</tbody></table>
<h2 id="final-thoughts-thought-balloon">Final Thoughts üí≠</h2>
<h3 id="xkcd-2365">XKCD 2365</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> told us:</p>
<blockquote>
<p>XKCD made <a href="https://xkcd.com/2365/">another strip about messaging systems</a> and I‚Äôm outraged to see that Matrix has been left out of it.</p>
</blockquote>
<p>Not to worry though, we've fixed it up!</p>
<p><img src="/blog/img/2020-10-02-xkcd.png" alt="2020-10-02-xkcd.png" /></p>
<h3 id="twim-authorship">TWIM authorship</h3>
<p>I hope you enjoyed this week and last's TWIM editions! Benpa will return next
week for more of your regularly scheduled programming. Ciao!</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;09&#x2F;25&#x2F;this-week-in-matrix-2020-09-25&#x2F;" title="This Week in Matrix 2020-09-25">This Week in Matrix 2020-09-25</a></h2>
                <span>
                    26.09.2020 00:38
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/andrew-morgan">
                        Andrew Morgan
                    </a>
                </span>
                <br>
                <small>Last update: 25.09.2020 22:21</small>
            </header>
            <div>
                
                <p>Hello all, and welcome to this week's addition of This Week in Matrix!
<a href="https://matrix.org">Matrix</a> is an open network protocol for secure,
decentralized communication on the web.</p>
<p>My name is Andrew (aka <code>anoa</code>), and I'm a Synapse developer at Element.
Thanks to Ben for letting me take over the reins of TWIM for this week! I'll
actually be doing the same for next week as well, so please adjust your
clocks to Anoa Nonstandard Time accordingly.</p>
<p>With that out of the way, let's jump right in!</p>
<h2 id="matrix-live">Matrix Live üéô</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Fk7YRiFIwZ4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>It's demos week again. This time around we've got the following lineup:</p>
<ul>
<li>Michael shows off all the new widget goodies coming to Element Web!</li>
<li>Bruno shows off Hydrogen's new encrypted session backup support!</li>
<li>Ismail details the new room creation flow on Element iOS!</li>
<li>Jorik presents his work on revamping the UX of https://matrix.to that he completed for his second summer internship at Element!</li>
<li>Hubert fixes another class of failure-to-decrypt messages edge case with Device Dehydration!</li>
<li>Half-Shot closes off with the tale of Encrypted Bridges!</li>
</ul>
<p>Don't forget that Matrix Live is also available in podcast form, if you're into that sort of thing. Search for &quot;Matrix Live&quot; wherever you get your podcasts.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> (hey that's me!) told us:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h2 id="msc-status">MSC Status</h2>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/1960">MSC1960: OpenID information exchange with widgets</a></li>
</ul>
</blockquote>
<blockquote>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
</blockquote>
<blockquote>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2790">MSC2790: Modal widgets (acquiring user input from a widget)</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2788">MSC2788: Room version 6 as the default room version</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2787">MSC2787: Portable Identities</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2785">MSC2785: Event notification attributes and actions</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2783">[WIP] MSC2783: Homeserver Migration Data Format</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2782">MSC2782: Pushers with the full event content</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2781">MSC2781: Deprecate the (reply) fallbacks in the Matrix specification</a></li>
</ul>
<h2 id="spec-core-team">Spec Core Team</h2>
<p>In terms of Spec Core Team MSC focus for this week, we've been rather busy with implementation, so we'll be continuing on with the same focus as last week. As a reminder, that's <a href="https://github.com/matrix-org/matrix-doc/issues/2414">MSC2414</a> (making reason and score optional on reports).</p>
</blockquote>
<blockquote>
<p><img src="/blog/img/2020-09-25-WozRC-image.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go.</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> announced:</p>
<blockquote>
<p>This week has mostly been spent trying to improve stability and to fix bugs ahead of the beta release, which is so far still planned to go ahead in the next two weeks.</p>
<p>Changes this week include:</p>
<ul>
<li>
<p>Room version 6 is now the default for newly created rooms</p>
</li>
<li>
<p>Soft-fail of events that aren't allowed by the current room state is now implemented</p>
</li>
<li>
<p>Support for configuring <code>old_verify_keys</code> has been added to the Dendrite config</p>
</li>
<li>
<p>Correct formatting for signing key IDs is now enforced in the configuration</p>
</li>
<li>
<p>Initial support for peeking over federation (<a href="https://github.com/matrix-org/matrix-doc/pull/2444">MSC2444</a>) is in progress and it &quot;even works!&quot; (thanks Matthew!)</p>
</li>
<li>
<p>Federated joins will now continue being processed even if the client gives up on the join due to a HTTP timeout</p>
</li>
<li>
<p>Backoff code has been refactored a bit more, and now correctly affects device list syncing</p>
</li>
<li>
<p><code>/make_join</code> now errors correctly if a federated user tries to join a room which all members have left</p>
</li>
<li>
<p>A bug where a single user could start multiple simultaneous federated joins to the same room has been fixed</p>
</li>
<li>
<p>Some initial (but unfinished) support for the <code>/key/v2/query</code> notary endpoint has been added</p>
</li>
<li>
<p>Signature verification has been updated to not fail if the event <code>origin</code> field is missing (although it still requires a signature from the domain of the <code>sender</code> field)</p>
</li>
<li>
<p>A number of places where we use SQL transactions have been updated with safe wrappers (thanks <a href="https://github.com/samcday">samcday</a>!)</p>
</li>
<li>
<p>A couple of error codes on invite endpoints for room version 6 JSON violations have been fixed</p>
</li>
</ul>
<p>Spec compliance has improved slightly for federation:</p>
<ul>
<li>
<p>Client-Server APIs: 56%, same as last week</p>
</li>
<li>
<p>Server-Server APIs: 77%, up from 74% last week</p>
</li>
</ul>
<p>As always, if contributing to Dendrite sounds like something you would be interested in, please feel free to join us in <a href="https://matrix.to/#/#dendrite-dev:matrix.org">#dendrite-dev:matrix.org</a> ! There's also <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a></p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> offered:</p>
<blockquote>
<p>This week we released <a href="https://matrix.org/blog/2020/09/22/synapse-1-20-0-released">1.20.0</a> (and <a href="https://github.com/matrix-org/synapse/releases/tag/v1.20.1">1.20.1</a>) highlights include shadow banning support and including unread message counts in the sync response. This will help client developers and is a precursor to improving notification support.</p>
<p>We‚Äôve also been looking at adding monitoring to get a better sense of which rooms are most expensive from a state resolution perspective, we also want a better way to track federation lag.</p>
<p>Up next we‚Äôll move all background tasks away from the main process and try it out on matrix.org, we are hoping for a 10-15% saving in CPU. Event persistence sharding, specifically the new stream token format is on hold slightly while we work on a nasty race condition on start up of the event persister. We hope to get back to the main sharding project next week.</p>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> announced:</p>
<blockquote>
<ul>
<li>Respect SRV record when sending requests over federation</li>
<li>Don't send new requests to servers if we are already waiting</li>
<li>Implement get_missing_events</li>
<li>Bug fixes and code cleanup</li>
</ul>
<p>We also started work on a system that retries failed or blocked requests after some time.</p>
</blockquote>
<blockquote>
<p>Thanks to everyone who supports me on &quot;Liberapay&quot; (https://liberapay.com/timokoesters) or Bitcoin!</p>
</blockquote>
<h3 id="the-construct">The Construct</h3>
<p><a href="https://matrix.to/#/@jason:zemos.net">Jason</a> reported:</p>
<blockquote>
<p>This week in Matrix concludes a summer of Construct where several transformative rounds of optimization took place. I'd like to talk about these achievements and why they are important for
future directions.</p>
<p>Over the summer, Construct introduced new vector extensions to the project. As server software, our primary target is the datacenter which (for now) is dominated by x86 hardware. The latest features of x86 chips include AVX-2, AVX-512, and on-die GPU. These advancements are important because they help mitigate current limitations of hardware, such as the cubic relationship between a processor's frequency and its power consumption. These limitations mean that CPU cores aren't completing more cycles-per-second every iteration of their development -- they're not getting much faster.</p>
<p>The problem with threads is that they can introduce a lot of complications to a project. Construct is able to forego multi-threading as a network server because it is primarily IO-bound. The benefits to a single-thread design in both performance and simplicity cannot be overstated. This is why Construct stands to benefit the most from features which allow more work to be accomplished at every individual computing cycle.</p>
<p>Construct undertook several endeavors over the summer which directly leverage platforms featuring SSE, AVX, AVX-512, etc. As an added bonus, our approach is designed to effortlessly port to ARM's Scalable Vector Extensions (SVE) as it becomes available (inside datacenters too!). Our focus has been JSON, Unicode, and finally Base64. Detailed explanations for each of these will need to be discussed in their own posts, but in summary:</p>
<ul>
<li>
<p>Matrix specifies a canonical form of JSON which is not necessarily the same as the JSON the server receives. Therefor it is imperative that Construct is liberal with what JSON it accepts and correct with its transformation into canonical JSON. Over the summer, a portion of Construct's canonical transform received some optimization to go beyond the default method of character-by-character read-modify-write. As seen in [1], a streaming hardware-accelerated transform now processes at least 16 characters at a time (with more possible) without forward branching except for the parts where transformation needs to occur. One of these transformations is UTF-16 to UTF-8 surrogate conversion, which leads into the second endeavor.</p>
</li>
<li>
<p>Construct introduced a completely branch-free Unicode toolset in [2]. Among the functions offered is a custom transform of UTF-16 surrogate pairs to UTF-8 sequences. Using the new vector registers, Construct can transform two UTF-16 surrogates in parallel to output two UTF-8 sequences, or two UTF-16 surrogates in a pair to output one UTF-8 sequence. Unfortunately, these specific functions were written at fixed vector widths, so more work needs to be done to really take advantage of the widest hardware. Each surrogate is 6 bytes, and a surrogate pair is 12 bytes; therefor we cannot make use of the last 4 bytes of a 16 byte vector. However, with a little more work this approach can be extended to a 64 byte vector, capable of decoding 5 surrogate pairs and 10 individual surrogates in parallel!</p>
</li>
<li>
<p>Professor Daniel Lemire recently published a paper about fast Base64 from hardware acceleration in [3]. This approach is extremely elegant on the 64-byte-wide AVX-512 system. Prior to Construct's implementation of this in [4], the Boost library base64 encoding and decoding took roughly 20 and 25 cycles per character respectively. Our implementation on the same system, an old system with only SSE2 (not even AVX-512!) yields 5 and 6 cycles per character!</p>
</li>
</ul>
<p>All of this helps lay a foundation for Construct to introduce Federated Media Rooms sometime in the future. Currently, Construct stores media in a separate database. Recently there's been work on a separate branch at [5] which stores actual file block inside events using Base64. It is for this reason sub-cycle and branchless JSON parsing and Base64 encoding is essential for maximum performance. The result is worthwhile, as the latency for querying the media database is slower than parsing and decoding the event content already in-hand.</p>
<p>That's all for today. Construct is available at <a href="https://github.com/matrix-construct/construct">https://github.com/matrix-construct/construct</a> and don't forget to idle and perform <a href="https://matrix.to/#/#construct:zemos.net">#construct:zemos.net</a> / <a href="https://matrix.to/#/#construct:maunium.net">#construct:maunium.net</a></p>
<p>Thanks!</p>
<ol>
<li>
<p><a href="https://github.com/matrix-construct/construct/blob/563f833ab325f27ff9e71af61af427fb02812f90/ircd/json.cc#L3483">https://github.com/matrix-construct/construct/blob/563f833ab325f27ff9e71af61af427fb02812f90/ircd/json.cc#L3483</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-construct/construct/blob/563f833ab325f27ff9e71af61af427fb02812f90/ircd/utf.cc">https://github.com/matrix-construct/construct/blob/563f833ab325f27ff9e71af61af427fb02812f90/ircd/utf.cc</a></p>
</li>
<li>
<p><a href="https://arxiv.org/abs/1910.05109">https://arxiv.org/abs/1910.05109</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-construct/construct/blob/563f833ab325f27ff9e71af61af427fb02812f90/ircd/b64.cc">https://github.com/matrix-construct/construct/blob/563f833ab325f27ff9e71af61af427fb02812f90/ircd/b64.cc</a></p>
</li>
<li>
<p><a href="https://github.com/jevolk/charybdis/tree/federated_media_rooms">https://github.com/jevolk/charybdis/tree/federated_media_rooms</a></p>
</li>
</ol>
</blockquote>
<p>It's really exciting to see Homeserver development ramping up from all
angles, and nice that the protocol warts are slowly getting ironed out in the
process.</p>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> told us:</p>
<blockquote>
<p>Before I forget (more) about it, I pushed the 1.20.0 tag for my <a href="https://github.com/ananace/matrix-synapse">K8s-optimized container image</a> as well as my <a href="https://gitlab.com/ananace/charts">Helm chart</a>.</p>
</blockquote>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@pierre:mamieserv.fr">Pierre</a> reported:</p>
<blockquote>
<p><a href="https://yunohost.org/">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration had been updated to 1.19.3 (1.20.0 available in branch <code>testing</code>)</p>
<p><a href="https://github.com/YunoHost-Apps/element_ynh/tree/master">Element Web</a> integration had been updated to 1.7.5 (1.7.7 available in branch <code>testing</code>)</p>
</blockquote>
<h3 id="dacruz21-matrix-chart">dacruz21/matrix-chart</h3>
<p><a href="https://matrix.to/#/@david:typokign.com">Typo Kign</a> announced:</p>
<blockquote>
<p>Thanks to <a href="https://www.github.com/Arkaniad">Arkaniad</a>, v2.7.0 of my Matrix Helm chart for Kubernetes is released with support for exporting Prometheus metrics. It pairs well with the <a href="https://grafana.com/grafana/dashboards/10046">Synapse Grafana dashboard</a>.</p>
</blockquote>
<h3 id="more-kubernetes">More Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> said:</p>
<blockquote>
<p>And just pushed the 1.20.1 tag too for my <a href="https://github.com/ananace/matrix-synapse">K8s-optimized container image</a> as well as my <a href="https://gitlab.com/ananace/charts">Helm chart</a>.</p>
</blockquote>
<h3 id="third-party-powerpc-and-arm64-support-for-synapse">Third-Party PowerPC and ARM64 support for Synapse</h3>
<p><a href="https://matrix.to/#/@andreas:matrix.aventer.biz">andreas</a> announced:</p>
<blockquote>
<p>The synapse docker image from AVENTER (https://www.aventer.biz), does support PowerPC (ppc64le) and ARM64 architecture now. But at the moment only under the docker tag &quot;ppc&quot;. <a href="https://hub.docker.com/r/avhost/docker-matrix/tags?page=1&amp;name=ppc">https://hub.docker.com/r/avhost/docker-matrix/tags?page=1&amp;name=ppc</a> We will be happy to get feedback.</p>
</blockquote>
<p>As a Synapse developer, it's great to see the community making personal and
enterprise Matrix deployments more accessible!</p>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="fluffychat">FluffyChat</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> told us:</p>
<blockquote>
<p>Fluffychat 0.19.1 has been released!</p>
<h4 id="features">Features</h4>
<ul>
<li>
<p>Implemented ignore list</p>
</li>
<li>
<p>Jump to events in timeline: When tapping on a reply and when tapping a matrix.to link</p>
</li>
<li>
<p>Display messages with up to 10 emotes or emoji bigger</p>
</li>
<li>
<p>New design for the chat list and message bubbles</p>
</li>
<li>
<p>Implement reactions</p>
</li>
<li>
<p>Implement password change</p>
</li>
<li>
<p>Implement deactivate user account</p>
</li>
</ul>
<h4 id="fixes">Fixes</h4>
<ul>
<li>Timeline randomly resorting while more history is being fetched</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Automatically request history if the &quot;load more&quot; button is on the screen</li>
</ul>
</blockquote>
<p>Sorunome briefly mentioned afterwards that there is no 0.19.0 due to some accidental messed up tagging, and that it was easiest to just call the new version 0.19.1.</p>
<h3 id="element-web">Element Web</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> offered:</p>
<blockquote>
<p>This week we put out a new release candidate <a href="https://staging.element.io">1.7.8-rc.1</a> highlights include:-</p>
<ul>
<li>
<p>Secure Backup has been moved out of the registration flow to a toast when you first encounter an E2EE room, which simplifies the new user experience</p>
</li>
<li>
<p>Added options to hide various UI features when hosting a custom Element
...along with various smaller fixes.</p>
</li>
</ul>
<p>Aside from that the work to improve the widget experience continues with modal widget next on the agenda.</p>
<p>Next week we will continue to improve widgets and add some more instrumentation into the app.</p>
</blockquote>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> said:</p>
<blockquote>
<p>Released 0.1.0 (and 0.1.1) this week with read-only session backup enabled üéâ Also doing more work to make Hydrogen work on IE11 on Windows 7 (it does already for Windows 10), Safari and other browsers where you get <code>TransactionInactiveError</code> during login, hope to release that soon.</p>
</blockquote>
<p>I need to give Hydrogren a shot myself, the quick speeds and low RAM usage
are really attractive.</p>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> offered:</p>
<blockquote>
<p>This week, room settings have been updated with a new intermediate screen. The codebase saw the introduction of an AppCoordinator (in swift) which will help us to have a better control on navigation within the app AND to use swift from end to end.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="polyjuice-client-mage">Polyjuice Client üßô</h3>
<p><a href="https://matrix.to/#/@hubert:uhoreg.ca">uhoreg</a> told us:</p>
<blockquote>
<p>Polyjuice Client v0.3.0 has been released.  This release includes many breaking changes.  (&quot;Breaking&quot; in the sense of API changes, rather than the sync process suddenly failing to work, which was already featured in a previous release.)  This release also includes many changes, such as the client managing more bookkeeping, detecting if it got logged out, and supporting more Matrix features.  See the <a href="https://gitlab.com/uhoreg/polyjuice_client/-/releases/v0.3.0">release notes</a> for more information.</p>
</blockquote>
<h3 id="igor">Igor</h3>
<p><a href="https://matrix.to/#/@hubert:uhoreg.ca">uhoreg</a> reported:</p>
<blockquote>
<p><a href="https://hex.pm/packages/igor/">Igor</a> is a bot framework for Elixir.  Igor v0.2.0 has been released.  The main change is updating it to use Polyjuice Client 0.3.0.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="matrix-architect">Matrix-Architect</h3>
<p><a href="https://matrix.to/#/@erdnaxeli:cervoi.se">erdnaxeli</a> announced:</p>
<blockquote>
<p>Hi!</p>
<p>I present you a new project I've been working on for some time. It's a bot that allows you to use the admin API through matrix, by typing commands to the bot. The inspiration comes from the OperServ-like bots that allow IRC operators to administrate an IRC server.</p>
<p>The bot exposes some of the available admin APIs and aims to provide some more high level commands by combining different APIs. There is currently one &quot;high level command&quot;, <code>!room garbage-collect</code>, which allow you to purge from your HS all rooms without local users.</p>
<p>The project is written in crystal and is my first project in this language. It should be stable in normal conditions, but don't hesitate to fill issues. A Docker image is provided for more convenience.</p>
<p>I hope you will find this project useful üôÇ</p>
<p><a href="https://github.com/erdnaxeli/matrix-architect">https://github.com/erdnaxeli/matrix-architect</a></p>
</blockquote>
<p>People administering their Synapse deployment through Matrix itself! How deep
does the rabbit hole go?</p>
<h3 id="songwhip-bot">Songwhip bot</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> reported:</p>
<blockquote>
<p>benpa wanted a bot that replies with a songwhip.com link whenever someone sends a music link (youtube, spotify, apple music, etc), so I wrote a small maubot plugin to do that: <a href="https://github.com/maubot/songwhip">https://github.com/maubot/songwhip</a></p>
<p>It's available at @songwhip:maunium.net</p>
</blockquote>
<p>I'm also desperately in need of this for the 10 <code>open.spotify.com</code> links that get thrown at me every week. Thanks Tulir!</p>
<h3 id="cyberbot">Cyberbot</h3>
<p><a href="https://matrix.to/#/@jj:sft.lol">jj</a> reported:</p>
<blockquote>
<p>There's a new bot! <a href="https://github.com/cybergruppe/cyberbot">Cyberbot</a>.</p>
<p>It supports E2EE and can be easily extended with Python plugins. Can be used e.g. for GitLab notifications, automated user invites, room creation, and of course can be programmed to react to any message posted in a room.</p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞Ô∏è</h2>
<h3 id="matrix-gotify">matrix-gotify</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> said:</p>
<blockquote>
<p>Soru made a new thing, <a href="https://gitlab.com/Sorunome/matrix-gotify">matrix-gotify</a>. It is a <a href="https://gotify.net/">gotify</a> plugin to receive matrix notifications. This means, you can now receive matrix push notifications on your android phone self-hosted without the need of google services! That is why putting the full event in the push notification is actually not a privacy leak in this case.</p>
<p>This plugin could also be used to receive push notifications on any other kind of device that gotify supports.</p>
<p>Please note that this is independent of any matrix client - you don't even need to run one to be able to use this!</p>
</blockquote>
<p>I asked whether an <a href="https://bubu1.eu/openpush/">OpenPush</a>-like solution be
built on top of this , and Sorunome responded that someone had already
started working on just that! https://github.com/gotify/android/pull/115</p>
<p>This would allow other matrix clients on your phone to get their push
notifications through your gotify client, instead of needing to run a process
each. Great for battery life without proprietary Google blobs!</p>
<h3 id="homeservers-on-the-go">Homeservers on-the-go</h3>
<p><a href="https://matrix.to/#/@js:nil.im">js</a> got Synapse running in a car on a German highway:</p>
<blockquote>
<p><img src="/blog/img/2020-09-25-njVLa-matrix_car.jpeg" alt="" /></p>
</blockquote>
<blockquote>
<p>the setup is a cigarette lighter to 2x 230V converter, one being used to power the RockPro64, the other being used to power my notebook. My notebook is connected to the hotspot from my phone, while also being connected to a USB ethernet, the other end of which is plugged into the RockPro64. </p>
<p>The notebook then acts as a gateway, as well as SSHing to a tiny VPS with -R, to get a public port, and forwarding that traffic to the RockPro64.</p>
</blockquote>
<p>Maybe one day we'll all have an embedded Synapse homeserver in our cars. P2P E2EE
car comms anyone?</p>
<h3 id="matrix-voip-tester">Matrix VoIP Tester</h3>
<p><a href="https://matrix.to/#/@reivilibre:librepush.net">reivilibre</a> announced:</p>
<blockquote>
<p><a href="https://github.com/matrix-org/voip-tester">https://github.com/matrix-org/voip-tester</a></p>
<p>I have been through the perils of setting up a TURN server and having VoIP continue to fail, whilst spending hours scratching my head and staring at Wireshark without getting anywhere. When I was given free reign over project choice last year during my internship, I chose to start a tool that tests your homeserver's VoIP configuration, hoping it would be useful to both me and the community at large.</p>
<p>It saw some progress but I never managed to iron out some of the 'last few things' or put a pretty front on it ‚Äî until about 2 weeks ago, when I got some more time to do it.</p>
<p>There are known issues ‚Äî such as the scores being very arbitrary, wrong and misleading; it crashes Chromium every time (on my machine) and it completely misbehaves in Brave Browser (on my machine). It may also not be the prettiest (but hopefully it is at least somewhat inoffensive). I hope to work on these annoying issues soon.</p>
<p>I have deployed a test instance at <a href="https://test.voip.librepush.net">https://test.voip.librepush.net</a> ‚Äî it can be tried in a WebRTC-supporting browser (probably Firefox if you want half a chance). Please don't take it to heart if you get a Fail or Poor score ‚Äî it's probably not your fault. :)</p>
</blockquote>
<p>Oliver was interning with us at Element this Summer. Fixing up and releasing
this VoIP tester was part of it, but he's still working on it in his spare
time even though his internship has finished :)</p>
<p>Through this I found out that I forgot to turn on my turnserver on my
homeserver again. Thanks Oliver!</p>
<h2 id="dept-of-guides">Dept of Guides üß≠</h2>
<h3 id="german-language-guide-for-getting-start-with-matrix">German-Language Guide for Getting Start with Matrix</h3>
<p><a href="https://matrix.to/#/@samuel-p:matrix.sp-codes.de">Samuel</a> told us:</p>
<blockquote>
<p>I started an article series about Matrix on my german blog. The goal is to make it easier for new users to get started with Matrix. <a href="https://blog.sp-codes.de/werde-teil-der-matrix-matrix-teil-1/">https://blog.sp-codes.de/werde-teil-der-matrix-matrix-teil-1/</a></p>
</blockquote>
<p>Guides like these are the essential entrypoints to a project for a lot of users. The more, in different languages, the merrier!</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">thomcat.rocks</td><td style="text-align: center">896</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">965</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">1226.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">neko.dev</td><td style="text-align: center">1232</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">kif.rocks</td><td style="text-align: center">1396</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">chatserver.ca</td><td style="text-align: center">1533.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">jauriarts.org</td><td style="text-align: center">1949.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">settgast.org</td><td style="text-align: center">2328</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">vkane.cz</td><td style="text-align: center">2419</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">conduit.nordgedanken.dev</td><td style="text-align: center">2519</td></tr>
</tbody></table>
<h3 id="ping-graphs-by-timotm">Ping Graphs by Timo‚Ñ¢Ô∏è</h3>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> told us:</p>
<blockquote>
<p>Here we look at how fast ping bots respond.</p>
<p>I changed the formatting of the plot a bit to make it more readable. Note that it is now using a log scale which allows us to see more data at the same time.</p>
<p><img src="/blog/img/2020-09-25-Osmfw-boxplot.svg" alt="(A graph showing conduit beating everyone)" /></p>
</blockquote>
<h3 id="non-synapse-ping-room">Non-Synapse Ping Room</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> reported:</p>
<blockquote>
<p>Now that we have multiple somewhat federating Matrix homeserver implementations, I decided to make a ping room where all the echo bots are hosted on second-gen homeservers: <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a>. Synapse users are still allowed to join and <code>!ping</code>, but all the pongs will come from non-Synapse servers.</p>
<p>Based on observations in that room so far, the new server implementations don't like eachother very much.</p>
</blockquote>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">110</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">pc.koesters.xyz:59003</td><td style="text-align: center">162</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">cd.mau.dev</td><td style="text-align: center">162.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">maunium.net</td><td style="text-align: center">181</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">c.mau.dev</td><td style="text-align: center">238</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">dendrite.neilalexander.dev</td><td style="text-align: center">370</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">conduit.nordgedanken.dev</td><td style="text-align: center">427</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">inferiorlattice.com</td><td style="text-align: center">592</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">matrix.org</td><td style="text-align: center">1294</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">grin.hu</td><td style="text-align: center">3560.5</td></tr>
</tbody></table>
<h2 id="final-thoughts-thought-balloon">Final Thoughts üí≠</h2>
<ul>
<li><a href="https://matrix.to/#/@magnus:ctrl-c.liu.se">Magnus Svensson</a> was <a href="https://matrix.to/#/!xYvNcQPhnkrdUmYczI:matrix.org/$Fu_LD4g2AfYGWjcRPTISLIpJEGZ_Pq-MwymfBMddoRo?via=matrix.org&amp;via=privacytools.io&amp;via=feneas.org">left speechless</a> by the amazing projects that we got to see this week.</li>
</ul>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;09&#x2F;18&#x2F;this-week-in-matrix-2020-09-18&#x2F;" title="This Week in Matrix 2020-09-18">This Week in Matrix 2020-09-18</a></h2>
                <span>
                    18.09.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/9oIUEZidP5w" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<h3 id="element-review-by-techradar">Element review by TechRadar</h3>
<p>TechRadar have published a fairly thorough <a href="https://www.techradar.com/uk/reviews/element-secure-messenger-review">Element secure messenger review</a>. This covers the Web, Android and iOS clients, and appears to use the matrix.org server for signup.</p>
<p>The review is very positive, awarding 4.5/5, and concludes:</p>
<blockquote>
<p>The Element messenger platform scores highly for its approach to security and its commitment to decentralization, and it's definitely going to be of interest to businesses wanting control over their own chats ‚Äì as well as plenty of individual users as well.</p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> told us:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/1960">MSC1960: OpenID information exchange with widgets</a> (merge)</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2778">MSC2778: Providing authentication method for appservice users</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2775">MSC2775: Lazy loading over federation</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2774">MSC2774: Expose the widget ID to the widget</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2773">[WIP] MSC2773: Room kinds</a></p>
</li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, <a href="https://github.com/matrix-org/matrix-doc/issues/1960">MSC1960</a> has made it into FCP, so this week our focus is <a href="https://github.com/matrix-org/matrix-doc/issues/2414">MSC2414</a>.</p>
</blockquote>
<p><img src="/blog/img/2020-09-18-8BoQF-stacked_area_chart.png" alt="2020-09-18-8BoQF-stacked_area_chart.png" /></p>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h1 id="synapse">Synapse</h1>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> announced:</p>
<blockquote>
<p>This week we put out two point releases to fix critical bugs. At the very least ensure that you have upgraded to <a href="https://github.com/matrix-org/synapse/releases/tag/v1.19.2">1.19.2</a> which is a security release but you may as well go the whole hog and upgrade to the hot off the press <a href="https://github.com/matrix-org/synapse/releases/tag/v1.19.3">1.19.3</a>. We will release 1.20.0 early next week.</p>
<p>Aside from that we continue to work on performance analysis and the sharding of the event persister continues - it‚Äôs proving to be a really tough job but we are getting there. We‚Äôve also been making progress on the room knocking implementation</p>
<p>This week we say goodbye to Oliver (reivilibre) as a leaving present he fixed a long standing bug that prevented servers catching up after a federating outage and as we speak is furiously trying to finish a service to test TURN configuration. Thanks Oliver!</p>
</blockquote>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> said:</p>
<blockquote>
<p>Not much has happened this week, as the Dendrite team have been taking some time off. However, we still have a couple of changes to report:</p>
<ul>
<li>
<p>Support for rejected events has been merged</p>
</li>
<li>
<p>Work on soft-fail has begun (although not complete yet)</p>
</li>
<li>
<p>A new mechanism for avoiding SQLite parameter limits was contributed (thanks HenrikSolver!)</p>
</li>
</ul>
<p>Spec compliance is on the up:</p>
<ul>
<li>
<p>Client-Server APIs: 56%, same as last week</p>
</li>
<li>
<p>Server-Server APIs: 74%, up from 71% last week</p>
</li>
</ul>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> announced:</p>
<blockquote>
<p>Welcome back! This week we made some groundbreaking progress - this is not a joke, we found a bug in Synapse while breaking multiple Matrix rooms, causing the Matrix team a lot of unnecessary stress. Let me explain:
The good news is that Conduit is starting to federate now. This means that you should be able to join all public rooms of the Matrix network and exchange messages. Note that Conduit does not do all the checks it should be doing yet making it stop sending messages from time to time as well as that advanced features like loading the history, syncing temporary data like read receipts or accepting invites are not implemented yet.</p>
<p>The bad news is that, while Synapse is happy to accept Conduit's messages when it is already part of the room, joining into one of the rooms Conduit servers are part of didn't work because of an event validation bug. The Matrix team did an excellent job at fixing this bug and releasing a Synapse patch the same day, but the damage has been done making a few rooms inaccessible to old Synapse servers.
Thanks to everyone who supports me on &quot;Liberapay&quot; (https://liberapay.com/timokoesters) or Bitcoin!</p>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="synapse-on-netbsd">Synapse on NetBSD</h3>
<p><a href="https://matrix.to/#/@js:nil.im">js</a> reported:</p>
<blockquote>
<p>I ported Synapse + its dependencies to <a href="https://www.netbsd.org/">NetBSD</a> and it is now in <a href="https://www.pkgsrc.org/">pkgsrc</a> as <code>chat/matrix-synapse</code>. This means that Synapse is now easily installable on any operating system that supports pkgsrc (which is many, e.g. NetBSD, Linux, macOS, Solaris, AIX, Haiku, ‚Ä¶). And while at it, I also ported mautrix-hangouts + dependencies (in pkgsrc as <code>chat/mautrix-hangouts</code>).</p>
</blockquote>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@pierre:mamieserv.fr">Pierre</a> told us:</p>
<blockquote>
<p><a href="https://yunohost.org">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration had been updated to 1.19.1 (1.19.2 available in branch <code>testing</code>)</p>
<p><a href="https://github.com/YunoHost-Apps/element_ynh/tree/master">Element Web</a> integration had been updated to 1.7.5 (1.7.7 available in branch <code>testing</code>)</p>
</blockquote>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> offered:</p>
<blockquote>
<p>Both image tags and a new chart version are hereby pushed for 1.19.2 for my <a href="https://github.com/ananace/matrix-synapse">Synapse image</a> and <a href="https://gitlab.com/ananace/charts">Helm chart</a></p>
</blockquote>
<p>then later</p>
<blockquote>
<p>Just pushed the updates for the K8s-optimized Synapse image and chart for 1.19.3</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="matrix-appservice-bridge-hits-2-0-0r-1">matrix-appservice-bridge hits 2.0.0 ≥·∂ú¬π</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> said:</p>
<blockquote>
<p>Hey bridge developer enthusiasts! Myself and ChristianP (bridge crew of matrix.org) have been working hard on freshening up the matrix-appservice-bridge library. It's no secret that it was using &quot;classic&quot; Javascript rather than ES6 syntax, was poorly documented in places and there were no types at all to make use of.</p>
<p>But that's all changed now, the <a href="https://github.com/matrix-org/matrix-appservice-bridge/releases/tag/2.0.0-rc1">2.0.0-rc1</a> release brings fresh types, new convenience methods, a total swichover from Bluebird Promises to native Promises and much much more. If you are looking to quickly get set up writing bridges, it's never been easier.</p>
<p>Check out the <a href="https://github.com/matrix-org/matrix-appservice-bridge/tree/develop/examples/slack-starter">slack-starter</a> project to get your first taste of bridge excellence and see what you think.</p>
<p>As this is an RC, feedback is valuable and logging bugs helps us all. Please do so if you encounter any issues üòÑ</p>
</blockquote>
<h3 id="bridge-encryption-support">Bridge Encryption Support</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> reported:</p>
<blockquote>
<p>Hi encryption fans. This week the bridge team has been churning away at adding support for encrypted rooms in the <code>matrix-appservice-bridge</code> library, to enable support in <code>matrix-appservice-irc</code>, <code>matrix-appservice-slack</code>, and anyone else using the library. This is probably the most exciting feature the library has seen in a long time! </p>
<p>The feature will be a simple config toggle, so existing bridges will have to do very little work to support it.</p>
<p>The first phase plans to use <a href="https://github.com/matrix-org/pantalaimon">Pantalaimon</a> with bridge users syncing like real users, but eventually the hope is that this will be all built into the library. Come check out <a href="https://github.com/matrix-org/matrix-appservice-bridge/issues/230">this issue</a> to keep track of progress.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="element-web">Element Web</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> announced:</p>
<blockquote>
<ul>
<li>
<p>Released 1.7.6 and 1.7.7 highlights include</p>
<ul>
<li>
<p>Redesigned right panel where top right actions are now revealed via the i icon</p>
</li>
<li>
<p>Widgets can now be opened in the right panel</p>
</li>
<li>
<p>Widgets won't be visible in the Apps Drawer (top of timeline) by default (except Jitsi) - you need to pin them from the right panel</p>
</li>
<li>
<p>Widgets can now be resized</p>
</li>
</ul>
</li>
</ul>
</blockquote>
<ul>
<li>A new version of matrix.to is now live you can check it out <a href="https://matrix.to/">here</a>, <a href="https://github.com/matrix-org/matrix.to/issues">bug reports welcome</a>
&gt;</li>
</ul>
<blockquote>
<ul>
<li>
<p>A new feature to defer e2ee set up until the user actually wishes to use an e2ee channel.</p>
</li>
<li>
<p>A series of config flags to remove various features from the UI thereby simplifying the experience.</p>
</li>
</ul>
</blockquote>
<h3 id="mirage">Mirage</h3>
<p><a href="https://matrix.to/#/@miruka:privacytools.io">miruka</a> said:</p>
<blockquote>
<p>0.6.3 and 0.6.4 were released this week, and I'm now working on desktop notifications support and push rules control.</p>
<h4 id="added">Added</h4>
<ul>
<li>
<p>Add a <strong>system tray icon</strong>.</p>
<p>A left click will bring up the Mirage window, 
middle will quit the application and right will show a menu with these </p>
<p>options.</p>
</li>
<li>
<p>Add a <code>closeMimizesToTray</code> setting to the config file, defaults to <code>false</code>.</p>
<p>Controls whether closing the Mirage window will leave it running in the 
system tray, or fully quit the application.</p>
</li>
<li>
<p>Add a discrete <strong>read marker indicator</strong> to messages, shows how many people </p>
<p>have this event as their last seen one in the room.<br />
A way to see who read the message and when will be added in the future.</p>
</li>
<li>
<p>Themes: add <code>chat.message.localEcho</code> and <code>chat.message.readCounter</code> color properties</p>
</li>
<li>
<p>Add a <code>zoom</code> setting, defaults to <code>1.0</code></p>
</li>
<li>
<p>Add a <code>lexicalRoomSorting</code> setting, to sort rooms by their name instead of</p>
<p>recent activity.<br />
A restart is needed to apply changes to this setting.</p>
</li>
</ul>
<h4 id="changed">Changed</h4>
<ul>
<li>
<p>Restrict Mirage to a single instance per config folder, trying to launch a</p>
<p>new window will instead focus the existing one.<br />
The <code>MIRAGE_CONFIG_DIR</code> and <code>MIRAGE_DATA_DIR</code> environment variables can be</p>
<p>set to run different &quot;profiles&quot; in parallel.</p>
</li>
<li>
<p>Reduce the visible lag when opening a chat page, switching rooms should be </p>
<p>a lot smoother</p>
</li>
<li>
<p>When using the <code>focusPreviousMessage</code> and <code>focusNextMessage</code> keybinds, if no</p>
<p>message is focused and the timeline has been scrolled up, 
focus the message in the center of the view instead of returning to the </p>
<p>bottom of the timeline and focusing the last one.</p>
</li>
<li>
<p>Don't re-center the room list on clicks by default.</p>
<p>This prevents the list from jumping around every time a room is selected.<br />
The previous behavior can be restored with the new <code>centerRoomListOnClick</code></p>
<p>setting.</p>
</li>
<li>
<p>Show a better terminal error message than &quot;Component is not ready&quot; when the </p>
<p>window creation fails, giving details on what went wrong in the code</p>
</li>
<li>
<p>If an account's access token is invalid (e.g. our session was signed out </p>
<p>externally), say so with a popup and cleanly remove it from the UI, 
instead of spamming the user with errors.</p>
</li>
<li>
<p>Rename message context menu option &quot;Debug this event&quot; to just &quot;Debug&quot;</p>
</li>
<li>
<p>Unify up/down and (shift+)Tab navigation for the account Sessions page</p>
</li>
<li>
<p>Changes to the UI scale/zoom via keybinds are now persisted across restarts</p>
</li>
<li>
<p>Themes: <code>uiScale</code> is now bound to <code>window.settings.zoom</code>.</p>
<p>This change is necessary to keep the zoom keybinds working.</p>
</li>
</ul>
<h4 id="fixed">Fixed</h4>
<ul>
<li>A bunch of stuff, see the full changelog for <a href="https://github.com/mirukana/mirage/releases/tag/v0.6.3">0.6.3</a> and <a href="https://github.com/mirukana/mirage/releases/tag/v0.6.4">0.6.4</a></li>
</ul>
</blockquote>
<h3 id="element-android-1-0-7">Element Android 1.0.7</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> offered:</p>
<blockquote>
<p>Element Android 1.0.7 has been released (still stuck in Google pipes writing those lines), and will be quickly followed by 1.0.8 to fix a problem with cross signing verification.</p>
<p>We are working to implement search of messages in a room and we keep on fighting bugs and improving performance of the application.</p>
<p>We are also iterating on the home screen, to improve user experience, and try to satisfy users with a few rooms as well as users with several hundreds of rooms.</p>
</blockquote>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> said:</p>
<blockquote>
<p>This week, we released <a href="https://github.com/vector-im/element-ios/releases/tag/v1.0.12">1.0.12</a> with several bug fixes including the one for background crashes due to PushKit</p>
</blockquote>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> told us:</p>
<blockquote>
<p>Released 0.037 on Monday with some polish for E2EE:</p>
<ul>
<li>
<p>remove outdated devices when querying</p>
</li>
<li>
<p>update room summary with decrypted events, also when retrying decryption</p>
</li>
<li>
<p>various crash protections</p>
</li>
<li>
<p>keep megolm session with earliest index when receiving a room key we already know about</p>
</li>
<li>
<p>add new icon</p>
</li>
<li>
<p>fix issue where olm would be loaded twice when login failed</p>
</li>
<li>
<p>show decryption errors in timeline</p>
</li>
<li>
<p>show encryption enabled tile in timeline</p>
</li>
</ul>
<p>The rest of the week was implementing session backup, which I hoped would be ready to release today but it needs some more polish unfortunately. In the meantime, here's a GIF teaser:</p>
</blockquote>
<p><img src="/blog/img/2020-09-18-uMR7F-session-backup.gif" alt="2020-09-18-uMR7F-session-backup.gif" /></p>
<h2 id="fluffychat">FluffyChat</h2>
<p>Thank you to <a href="https://matrix.to/#/@krille:janian.de">Krille</a>, who told us:</p>
<blockquote>
<p>FluffyChat version 0.18.0 is out now in F-Droid, Testflight and soon the PlayStore:</p>
<h3 id="features">Features</h3>
<ul>
<li>Added translations: Armenian, Turkish, Chinese (Simplified), Estonian</li>
<li>Url-ify matrix identifiers</li>
<li>Use server-side generated thumbnails in cleartext rooms</li>
<li>Add option to send images in their original resolution</li>
<li>Add additional confirmation for sending files &amp; share intents</li>
<li>Add option to opt-in to report issues / crashes to sentry</li>
<li>Write keys to online key backup, fully implementing online key backup</li>
</ul>
<h3 id="changes">Changes</h3>
<ul>
<li>Tapping links, pills, etc. now does stuff</li>
<li>Better handling of sending messages in bad network</li>
<li>Better recovery of &quot;keys not cached&quot;</li>
<li>E2EE is enabled again</li>
</ul>
<h3 id="fixes">Fixes:</h3>
<ul>
<li>Various html rendering and url-ifying fixes</li>
<li>Added support for blurhashes</li>
<li>Image viewer now eventually displays the original image, not only the thumbnail</li>
</ul>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="hemppa">Hemppa</h3>
<p>Hemppa the bot is a multi-purpose Matrix bot for writing new functionality easily with Python. </p>
<p><a href="https://matrix.to/#/@cos:hacklab.fi">Cos</a> said:</p>
<blockquote>
<p>Hemppa gained a small but big feature for making fediverse better: per-room Mastodon tooting support. This means that you can set up a Mastodon account in your room and anyone with moderator rights can toot to that account. This way you and your roommates can super easily send toots to the world directly from Matrix. Mastodon (unlike the big alternative) supports RSS feeds out of the box so it's very easy to subscribe to users and hashtags with stock RSS bot.  Toot #hemppathebot if you like it! Another new contribution worth mentioning is welcome which can send welcome messages to users registering on the server or joining a room. <a href="https://github.com/vranki/hemppa">https://github.com/vranki/hemppa</a></p>
</blockquote>
<h3 id="ruby">Ruby</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> said:</p>
<blockquote>
<p>Another week, another <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby SDK</a> release. This time adding a little fix to avoid duplicate state events being passed twice to the application if identical ones arrive in both state and timeline, also adds a global state event handler and moves room event handling to not depend on room instances themselves.</p>
</blockquote>
<p>Asked how much the SDK is used in production, Ananace said: </p>
<blockquote>
<p>a little, we've hooked Matrix into our server orchestration / configuration management system TheForeman - which is a Rails application. Also got a colleague who's doing a bot to linkify internal ticket IDs.</p>
</blockquote>
<h3 id="ruma">Ruma</h3>
<p><a href="https://matrix.to/#/@iinuwa:matrix.org">iinuwa</a> told us:</p>
<blockquote>
<p>Thanks to @q-b and @jtescher we have implemented more of the federation endpoints (bringing us up to about 85% completion) and every (one) endpoint of the Push Gateway API!</p>
<p>We fixed a bug where federation endpoints expected access tokens instead of server signatures for authentication. In the future, we may add an API that requires signatures on requests.</p>
<p>Finally, we've also continued progress on the non-exhaustive type updates for backwards compatibility; we expect to finish this within the coming weeks.</p>
<h4 id="new-contributors">New Contributors</h4>
<ul>
<li>
<p><a href="https://github.com/jtescher">@jtescher</a>, not new but forgot to mention earlier!</p>
</li>
<li>
<p><a href="https://github.com/williewillus">@williewillus</a></p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="matrix-reminder-bot">Matrix Reminder Bot</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> announced:</p>
<blockquote>
<p>v0.2.0 of <a href="https://github.com/anoadragon453/matrix-reminder-bot">matrix-reminder-bot</a> has been released! This releases includes lots of bugfixes, updates and polishing. Find the list below:</p>
<h4 id="features-1">Features</h4>
<ul>
<li>
<p>Better support for command prefixes other than the default <code>!</code>.</p>
</li>
<li>
<p>Just writing <code>!silence</code> now silences the currently active alarm.</p>
</li>
<li>
<p>The bot will now print the correct syntax of a command if the user fails to follow it.</p>
</li>
<li>
<p>The bot will reply to events if it cannot decrypt them, as well as offer helpful tips that both the user and bot operator can try to fix things.</p>
</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
<li>
<p>Timezones. They should finally work correctly! ...no 100% guarantees though.</p>
</li>
<li>
<p>Alarms were a bit broken. They're fixed now.</p>
</li>
<li>
<p>Fix commands with formatting and newlines not being picked up by the bot.</p>
</li>
<li>
<p>Fix non-latin characters preventing reminders from being deleted.</p>
</li>
</ul>
<h4 id="internal-changes">Internal changes</h4>
<ul>
<li>
<p>Add a dev-optimised Dockerfile for quicker iteration during development.</p>
</li>
<li>
<p>Better wording revolving alarms. They're just reminders that alarm repeatedly when they go off.</p>
</li>
<li>
<p>Log why the bot is unable to start.</p>
</li>
<li>
<p>Don't print &quot;Unknown help topic&quot; in case the user is trying to ask another bot for help.</p>
</li>
<li>
<p>The config dict is now a singleton.</p>
</li>
<li>
<p>Type hints everywhere!</p>
</li>
</ul>
<p>Additionally, the minimum Python version is now 3.6. matrix-reminder-bot is made with <a href="https://github.com/anoadragon453/nio-template">nio-template</a>.</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">412</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">matrix-dev.kapsi.fi</td><td style="text-align: center">1308</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">utzutzutz.net</td><td style="text-align: center">1519</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">blob.cat</td><td style="text-align: center">1521</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">r23s.eu</td><td style="text-align: center">1915.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">conduit.rs</td><td style="text-align: center">2149</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">maescool.be</td><td style="text-align: center">2759</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">halogen.city</td><td style="text-align: center">2774.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">uraziel.de</td><td style="text-align: center">3253</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">kapsi.fi</td><td style="text-align: center">3713</td></tr>
</tbody></table>
<h3 id="dept-of-ping-extra">Dept of Ping Extra:</h3>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> announced:</p>
<blockquote>
<p>Normally the ping shows how long other servers take to receive the sending-server's message. Some servers receive it quickly, some take hours. All this flows into the statistic of the sending server. I wrote a small program that's the other way around. Instead of measuring the sending-server's ping, it associates each measurement with an echo-bot (instead of the sending server), so this plot shows which maubots are the fastest to respond (it's probably not accurate at all, because most of the pings were started on conduit servers this week, but it's interesting nevertheless):</p>
</blockquote>
<p><img src="/blog/img/2020-09-18-PRR99-image.png" alt="2020-09-18-PRR99-image.png" /></p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;category&#x2F;this-week-in-matrix&#x2F;page&#x2F;6&#x2F;">‚Äπ Previous</a>
        
    </div>
    <span class="page-number">7 / 20</span>
    <div class="prev">
        
        <a href="&#x2F;category&#x2F;this-week-in-matrix&#x2F;page&#x2F;8&#x2F;">Next ‚Ä∫</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>¬© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
