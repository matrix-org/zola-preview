<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Brendan Abolivier</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/author/brendan-abolivier/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        
        
        <details  class="section-wrap mobile">
            <summary class="section ">
                Documentation
                <div class="arrow"></div>
            </summary>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    
                    <a href="&#x2F;docs&#x2F;chat_basics&#x2F;">Chat basics</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;communities&#x2F;">Communities</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;technical&#x2F;">Technical docs</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;legacy&#x2F;">Legacy documentation</a>
                    
                </div>
            </div>
        </details>
        <div class="section-wrap desktop">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    
                    <a href="&#x2F;docs&#x2F;chat_basics&#x2F;">Chat basics</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;communities&#x2F;">Communities</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;technical&#x2F;">Technical docs</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;legacy&#x2F;">Legacy documentation</a>
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <details  class="section-wrap mobile">
            <summary class="section ">
                Ecosystem
                <div class="arrow"></div>
            </summary>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                    
                </div>
            </div>
        </details>
        <div class="section-wrap desktop">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Brendan Abolivier</h1>
            29 posts tagged with "Brendan Abolivier" <a href="/author">(See all Author)</a>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;06&#x2F;28&#x2F;security-release-synapse-1-61-1&#x2F;" title="Security release: Synapse 1.61.1">Security release: Synapse 1.61.1</a></h2>
                <span>
                    28.06.2022 16:19
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey everyone!</p>
<p>Today we're exceptionally releasing <a href="https://github.com/matrix-org/synapse/releases/tag/v1.61.1">Synapse
1.61.1</a>, which comes
as a security release. <strong>Server administrators are encouraged to update as soon as
possible.</strong></p>
<p>This release fixes a vulnerability with Synapse's URL preview feature. URL
previews of some web pages can lead to unbounded recursion, causing the request
to either fail, or in some cases crash the running Synapse process.</p>
<p>Homeservers with the <code>url_preview_enabled</code> configuration option set to <code>false</code>
(the default value) are unaffected. Instances with the <code>enable_media_repo</code>
configuration option set to <code>false</code> are also unaffected, as this also disables
the URL preview functionality.</p>
<p>Server administrators who are unable to update Synapse should disable URL
previews by setting <code>url_preview_enabled: false</code> in their configuration file.
They can also delegate URL preview to a separate, dedicated worker to ensure the
process crashing does not impact other functionality of Synapse.</p>
<p>Please see <a href="https://github.com/matrix-org/synapse/security/advisories/GHSA-22p3-qrh9-cx32">this security
advisory</a>
for more information.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;06&#x2F;17&#x2F;synapse-1-61-released&#x2F;" title="Synapse 1.61 released">Synapse 1.61 released</a></h2>
                <span>
                    17.06.2022 11:48
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey everyone! Guess what? <a href="https://github.com/matrix-org/synapse/releases/tag/v1.61.0">Synapse
1.61</a> is out! Let's
have a look at it.</p>
<h2 id="farewell-groups">Farewell, groups</h2>
<p>If you are new to Matrix, you might have not heard of the feature referred to as
&quot;groups&quot; or &quot;communities&quot; (depending on the context). This feature allowed
grouping rooms and users to better represent a community, one of which being
<code>+matrix:matrix.org</code> which used to represent the Matrix community. This may
sound similar to <a href="https://matrix.org/blog/2021/05/17/the-matrix-space-beta">Matrix
Spaces</a>, and it would
make sense since Spaces are meant to be a more powerful replacement for groups.</p>
<p>In <a href="https://matrix.org/blog/2022/04/05/synapse-1-56-released">Synapse 1.56</a>,
support for groups was deprecated, with a plan to fully remove it in a
later release of Synapse. This has now been done as of Synapse 1.61, and most of the
code supporting this feature has now been removed.</p>
<p>Note that this means that administrators of homeservers using workers can remove
endpoints related to groups from their reverse proxy configuration. See <a href="https://matrix-org.github.io/synapse/v1.61/upgrade.html#removal-of-deprecated-communitygroups">the
upgrade
notes</a>
for more information.</p>
<h2 id="media-retention">Media retention</h2>
<p>A common issue we see homeserver administrators struggle with is managing the
disk space used by Synapse. A non-negligible part of that disk space usage is
dedicated to storing files uploaded by Matrix users, both local and remote.</p>
<p>Up until now Synapse would only provide administrators with limited, manual ways
to manage the media store of their homeserver, via the <a href="https://matrix-org.github.io/synapse/develop/admin_api/media_admin_api.html">admin
API</a>.</p>
<p>As of this release, Synapse now allows administrators to define retention
lifetimes for local and remote media. This allows media that hasn't been
accessed in a long time to be automatically deleted, therefore freeing up disk
space. Server administrators wishing to control media retention more finely can
also define different policies for remote and local media.</p>
<p>This feature can be enabled by configuring the <code>media_retention</code> setting, see
<a href="https://matrix-org.github.io/synapse/develop/usage/configuration/config_documentation.html#media_retention">the configuration
guide</a>
for more information.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release of Synapse introduces a change in the return value of the
<code>check_event_for_spam</code> spam checker module callback, in order to allow modules
more flexibility in communicating to users why their messages are rejected. This
is part of ongoing improvement works around spam checker callbacks, watch this
space next time for more information!</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.61.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.61/upgrade#upgrading-to-v1610">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a> and <a href="https://github.com/Vetchu">Jacek
Kuśnierz</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;06&#x2F;17&#x2F;this-week-in-matrix-2022-06-17&#x2F;" title="This Week in Matrix 2022-06-17">This Week in Matrix 2022-06-17</a></h2>
                <span>
                    17.06.2022 00:00
                    —
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey everyone! Thib is away today so I'm taking over TWIM for this week (but don't worry, he should be back next week!)</p>
<p>Let's see what the Matrix community has shared with us this week.</p>
<h2 id="matrix-live">Matrix Live 🎙</h2>
<iframe src="https://www.youtube.com/embed/F3_Y02A53Zc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>In this week's Matrix Live, Thib talks to Ivan from the <a href="https://github.com/matrix-org/matrix-rust-sdk">Matrix Rust SDK</a> development team to ask him about the SDK's bindings for Node.JS and WASM.</p>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC 🎓️</h2>
<p><a href="https://matrix.to/#/@melix99:gnome.org">Marco Melorio</a> says</p>
<blockquote>
<p>Hi there! I'm Marco Melorio and I'm participating in this year's Google Summer of Code, under the GNOME Foundation. I'm working on Fractal, the GNOME matrix client, with the help of my mentor Julian Sparber. More specifically I'm working on implementing a media history viewer to the app.</p>
<p>To follow my progress on the project you can check out my blog <a href="https://melix99.wordpress.com/">here</a>. I've already published a small <a href="https://melix99.wordpress.com/2022/06/07/introduction/">introduction post</a> about me and a first <a href="https://melix99.wordpress.com/2022/06/17/gsoc-update-1-planning/">update post</a> which includes a mockup and milestones about the project.</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@babolivier:element.io">Brendan</a> says</p>
<blockquote>
<p>This week the team released Synapse 1.61, which main new feature is media retention. That's right, you can now control how long Synapse keeps media files around, which should help server admins manage Synapse's disk space usage more efficiently. On a different note, this release of Synapse removes support for groups/communities (which was deprecated back in Synapse 1.56), as it has now been replaced by Spaces. Farewell groups, you have served your users well.</p>
<p>See the full Synapse 1.61 release announcement on the matrix.org blog here: https://matrix.org/blog/2022/06/17/synapse-1-61-released</p>
<p>Aside from this, the team is as always hard at work on making Synapse better and more efficient.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="quadrix-website">Quadrix (<a href="https://github.com/alariej/quadrix">website</a>)</h3>
<p><a href="https://matrix.to/#/@alariej:matrix.org">JFA</a> says</p>
<blockquote>
<p>New version of Quadrix (1.0.6) available on desktops and mobiles. Mainly bug fixes, plus the addition of a button to deactivate the account on the server (this apparently will be soon mandatory for iOS and MacOS messaging apps). The new desktop version should offer better support for Wayland (tested on Fedora 36, Ubuntu 22.04 and Mobian/Phosh). Repo at https://github.com/alariej/quadrix, project room at <a href="https://matrix.to/#/#quadrix:matrix.org">#quadrix:matrix.org</a> :-)</p>
</blockquote>
<h3 id="nheko-website">Nheko (<a href="https://nheko-reborn.github.io">website</a>)</h3>
<p>Desktop client for Matrix using Qt and C++17.</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> announces</p>
<blockquote>
<p>Since I skipped the last update, this one is a bit longer :3</p>
<p>First of all there have been lots and lots of updates to the translations! Finnish is now at 100% thanks to the tireless work of Aminda and Lurkki.</p>
<p>Nheko now also shows a nice badge on Unity compatible desktops (like KDE) for unread messages (although that doesn't work properly for multiple profiles being open at the same time due to limitations in that desktop protocol. Thank you d42 for contributing this, may you role a natural 42 every dice throw!</p>
<p>Syldra fixed up the paste behaviour (which didn't properly tie into undo in some edge cases), cleaned up how we find some of our dependencies and made cusor movement more consistent across systems.</p>
<p>Finally we fixed our glare resolution when verifying other sessions, which will be especially noticeable when verifying Cinny, since that responds to verification requests in a different way than I tested before! This should get rid of a whole range of verification issues people might have experienced. As part of our stabilization for the next release, we also fixed a crash on logout because I fatfingered and deleted a return statement, we now send an Element Android compatible height attribute on emotes, properly compile when the C++ version is set to 20, we once again support the current version of the hidden read receipts MSC (so that others can't tell what you read), edits now properly update in replies again, you can close the image overlay again by clicking outside, cancelled uploads properly get removed again, logging out and back in now doesn't mess up your configuration anymore and pinned messages now properly refresh once the events are loaded.</p>
<p>Phew, that was a mouthful. And we are not even done yet!</p>
<p>I spent some time on making Nheko compilation a bit faster again as well as improve startup speed. This might order your room list a bit weirdly for a few days after updating, but should normalize when receiving a few messages in some rooms. With this we now don't need to load the last message in all rooms on startup. This makes Nheko startup now only take 7 seconds on my old laptop (when not doing something CPU heavy at the same time). The remaining startup time is 40% building up the font database and 40% loading the powerlevels for each room. So we do have the chance to speedup startup by probably another 60%. It is unlikely that is necessary though.</p>
<p>When I discovered Matrix, Element was still called Riot. At the time some of the big design changes started happening to make it the Element you know today. One of the sideeffects was that the roomlist was consistently taking up 20% of my CPU on my Laptop, which I used at the time (and am forced to use now again, since I broke my newer laptop). It also used a lot more RAM than it does today. So for that reason I started shopping around for what other clients there are and I found Nheko. Clearly because it isn't a webclient, it had to be faster and use less RAM. Well, it did maybe a bit, but frankly the difference wasn't that much. Especially since at the time it loaded and rendered ALL your messages on startup (kinda). It never removed messages from memory, so it would just continuously render more and more parts of your timeline, which clearly increased RAM usage. It did however never resort the full roomlist, which made it not use a lot of CPU.</p>
<p>Since I didn't know any web development at the time, but I knew some C++, I started contributing to Nheko. At some point I made the roomlist constantly resort, which used quite some amount of CPU, but I quickly fixed that. At the time the most noticeable difference was that my fans didn't spin when using Nheko, but Element did (because of the roomlist sorting, iirc). RAM usage was pretty bad though. So that was one of the next projects, removing all events from RAM and only pulling them from the database as needed. While this means some additional load when switching rooms, it did decrease RAM requirements by quite a bit. Some new features made us still require loading data for every room from the database on startup, which causes quite some noticeable startup delay. The latest changes however got rid of most of that. We now don't need to load the messages from the database anymore. The only thing we still load is a small info object with roomname, notification and member count as well as the power levels of the room.</p>
<p>Since I recently broke my new and fast laptop, I decided to checkout how things changed on my old and slow laptop. Nowadays I am not in 15 rooms anymore, but I am in 900 rooms, but Matrix, servers as well as clients, has also gotten a lot more performant. So in the end I decided to do a little benchmark of where things stand. <strong>DISCLAIMER:</strong> This is completely unscientific and unfair, so please take those numbers with a grain of salt. Almost no one runs such a slow laptop as I do, so likely your measurements will completely different. Even more, I was video recording the benchmark, which makes both clients a lot slower. Nonetheless it does somewhat mirror my personal experience.</p>
<p>I came to the conclusion that with 900 rooms, Nheko takes about 10-20 seconds to load and be ready for use on my system, while Element takes about 3 to 4 minutes. So basically Element handles 60 times as many rooms about 2x slower than it did back in the day, while Nheko got a bit faster or about the same speed on the same hardware (but still 60x as many rooms). I've attached a sped up video to this post, so that you can compare it for yourself. But since a lot of people ask, I guess the reason is that I wanted to see how fast you can make a Matrix client. I think I somewhat achieved that in the startup time department, but switching rooms still has a loooooong way to go. Also it is just fun to implement whatever you want in a client, since you are the maintainer and none can tell you how bad of an idea it is. That's probably the reason a lot of people start their own clients? (Although I didn't start Nheko, I just wrote too much code and people didn't want to review it anymore.)</p>
<p>That's it, I hope your eyes didn't glaze over with me babbling on about things. See you next time! :3
<img src="/blog/img/eGhFKqsIshkzBIdbPPXetisW.png" alt="" /></p>
</blockquote>
<video style="max-width:900px" src="/blog/img/PfjbGGIojTBWFovFCVWZphxR.webm" controls />
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> reports</p>
<blockquote>
<ul>
<li>We converted even more end-to-end tests to Cypress and remove Piwik support</li>
<li>The issue around permissions to redact reactions has been resolved</li>
<li>Added <a href="https://github.com/matrix-org/matrix-react-sdk/pull/3492">option to hide image previews</a></li>
<li>There have been many improvements to clickable texts in various parts of the application (e.g. when you see “Show more” in the UI) and many other UI tweaks (thank you luixxiul!). As well as UI improvements to colours and layouts in the settings dialog</li>
<li>And! <a href="https://github.com/matrix-org/matrix-react-sdk/pull/8843">Waveforms for voice messages</a> are back! 💃</li>
</ul>
<p><strong>In labs</strong> (you can enable labs features in settings on develop.element.io or on Nightly):</p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-react-sdk/pull/8707">Many updates</a> to the new search experience have been merged in preparation for release out of labs!</li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@stefan.ceriu:matrix.org">Ștefan</a> says</p>
<blockquote>
<ul>
<li>The new first time user experience has now entered internal testing and parts of it were even brought over to ElementX</li>
<li>A simplified version of session verification for ElementX is almost ready</li>
<li>Redacted messages now show up in the timeline like on the other platforms</li>
<li>Message bubbles have finally moved out of labs</li>
<li>And, as always, we’re continuing to fix bugs and improve the application overall</li>
</ul>
</blockquote>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> reports</p>
<blockquote>
<ul>
<li>Fixing a pagination regression because of a synapse update to conform the matrix spec. The fix will be included in the coming release 1.4.22.</li>
<li>Merged a selection of FTUE improvements, including simplifying login if you specify your server as part of your username. This work is not visible yet in the UI.</li>
<li>UnifiedPush is coming! Will be available in Element Android 1.4.22. In the meantime, you can test the feature using <a href="https://buildkite.com/matrix-dot-org/element-android/builds?branch=develop">a nightly build</a> . This technology will let F-Droid version of the app be able to receive Push and Element Android can stop polling your homeserver in the background, which was consuming lots of battery.</li>
<li>When you send a rageshake, screenshots will not be included by default any more</li>
<li>We also have set up <a href="https://fbflipper.com/">Flipper</a> in the app, to help developers to debug the application. Inspecting the Realm databases, or the network traffic will help a lot when developing new features or fixing issues.</li>
</ul>
</blockquote>
<h3 id="element-website">Element (<a href="https://element.io">website</a>)</h3>
<p>Everything related to Element but not strictly bound to a client</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> reports</p>
<blockquote>
<p><strong>Threads</strong></p>
<ul>
<li>This week on Threads we continued our investigation into ranged read receipts as a solution to some of the notification issues</li>
<li>We also fixed a UI issue around the rendering of the thread summary in the timeline on iOS</li>
</ul>
<p><strong>Community testing</strong></p>
<ul>
<li>We found 20 issues this week, testing on Android and web. Thank you to everyone that took part!</li>
<li>No testing sessions next week, back as usual week after</li>
<li>For more info on our next testing sessions (sync or async), you can join us at <a href="https://matrix.to/#/#element-community-testing:matrix.org">#element-community-testing:matrix.org</a>!</li>
</ul>
</blockquote>
<h2 id="dept-of-non-chat-clients-control-knobs">Dept of Non Chat Clients 🎛️</h2>
<h3 id="matrix-wrench-website">Matrix Wrench (<a href="https://gitlab.com/jaller94/matrix-wrench/">website</a>)</h3>
<p>Matrix Wrench is a web client to tweak Matrix rooms.</p>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> says</p>
<blockquote>
<h4 id="happy-birthday-matrix-wrench-wrench">Happy birthday, Matrix Wrench! 🔧</h4>
<p>As you can guess by the title, I've started Matrix Wrench one year ago.
Here are the most notable changes of today's birthday release v0.8.0 (2022-06-13):</p>
<ul>
<li>Added: All pages have URLs to quickly navigate to.</li>
<li>Added: Bulk actions to invite and kick users</li>
<li>Added: The About page now shines some light on the application's features and security.</li>
</ul>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="matrix-rust-sdk-website">matrix-rust-sdk (<a href="https://github.com/matrix-org/matrix-rust-sdk">website</a>)</h3>
<p>Matrix Client-Server SDK for Rust</p>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> announces</p>
<blockquote>
<p>Over the last two weeks we've seen major development on the NodeJS support side. After <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/675">basic nodejs bindings for the crypto-crate have landed</a>, we have been working on getting it ready for shipping: fixing bugs, tests and documentation and <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/763">working on the prebuild-download-on-postinstall for user convenience</a>.</p>
<p>On other major news, the <a href="https://github.com/mozilla/uniffi-rs/pull/1259">first UniFFI macro PR</a>, submitted by our very own Jonas, was merged by Mozilla earlier this week 🎉. This is an important milestone as this PR is the opening gate for getting more and more macro-support into UniFFI, eventually replacing the enitre UDL-in-between-action. Congrats for this major step forward</p>
<p>👉️ Wanna hack on matrix rust? Go check out our <a href="https://github.com/matrix-org/matrix-rust-sdk/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22"><code>help wanted</code> tagged issues</a> and join our matrix channel at <a href="https://matrix.to/#/#matrix-rust-sdk:matrix.org">#matrix-rust-sdk:matrix.org</a>.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops 🛠</h2>
<h3 id="matrix-docker-ansible-deploy-website">matrix-docker-ansible-deploy (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">website</a>)</h3>
<p>Matrix server setup using Ansible and Docker</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> reports</p>
<blockquote>
<p>Thanks to <a href="https://github.com/CyberShadow">CyberShadow</a>, <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> can now install the <a href="https://github.com/kelaresg/go-skype-bridge">go-skype-bridge</a> bridge for bridging Matrix to <a href="https://www.skype.com/">Skype</a>.</p>
<p>See our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bridge-go-skype-bridge.md">Setting up Go Skype Bridge</a> documentation to get started.</p>
<p>The playbook has supported <a href="https://github.com/Sorunome/mx-puppet-skype">mx-puppet-skype</a> bridging since 2020-04-09, but <code>mx-puppet-skype</code> is reportedly broken.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots 🤖</h2>
<h3 id="matrix-registration-bot">Matrix Registration Bot</h3>
<p><a href="https://matrix.to/#/@moanos:hyteck.de">moanos [he/him]</a> reports</p>
<blockquote>
<p>The there is a new release that avoids crashing of the bug when the synapse admin is not correctly exposed. For technical reasons (on layer 8) the bug fix is made in two releases. The latest version is now <code>v1.1.7</code></p>
<p>You can install the new version via <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a>, directly from <a href="https://hub.docker.com/r/moanos/matrix-registration-bot/">dockerhub</a> and of course via <a href="https://pypi.org/project/matrix-registration-bot/">pip</a></p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks 🗣️</h2>
<h3 id="matrix-summit-berlin-2022">Matrix Summit Berlin 2022</h3>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">ChristianP</a> says</p>
<blockquote>
<p>Four days of Barcamp sessions, presentations, meeting others and Berlin culture!
The Matrix Summit 2022 brings people together who work with Matrix.
Thu, 25th to Sun, 28th August at the iconic hacker space c-base in Berlin.
This event is organised by the local Matrix Meetup community.
While people of every skill level are welcome on all days, we're going to highlight real world use cases of Matrix on Sunday. We're inviting newcomers and other communities to learn about decentralised communication software. In return we're learning how Matrix is already used by the German education and health sectors.</p>
<p>Our Call for Presentations starts next week. The event is going to be bilingual: English and German.</p>
<p>See the schedule:
https://summit2022.matrixmeetup.de/</p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects 🛰️</h2>
<h3 id="unifiedpush-website">UnifiedPush (<a href="https://unifiedpush.org/">website</a>)</h3>
<p><a href="https://matrix.to/#/@sim_g:matrix.org">S1m</a> says</p>
<blockquote>
<p><a href="https://unifiedpush.org/">UnifiedPush</a> is an open protocol for push notifications on Android, independent from Google Services. It is currently supported by FluffyChat, SchildiChat, and now nightly builds of Element.</p>
<h4 id="if-you-are-new-to-unifiedpush">If you are new to UnifiedPush:</h4>
<p>Installing the <a href="https://ntfy.sh/">ntfy</a> app (<a href="https://f-droid.org/en/packages/io.heckel.ntfy/">F-Droid</a>, <a href="https://play.google.com/store/apps/details?id=io.heckel.ntfy">Play Store</a>) is the easiest way to start receiving notifications for your matrix messages without Google Services.
And if you want to go one step further and self-host a ntfy server, the latest release makes it simpler than ever to set it up on your own server!</p>
<h4 id="for-persons-already-self-hosting-ntfy">For persons already self-hosting ntfy:</h4>
<p>The brand new version <a href="https://github.com/binwiederhier/ntfy/releases/tag/v1.26.0">v1.26</a> of ntfy server includes a built-in matrix gateway: your homeserver can talk directly to ntfy. If you were self-hosting ntfy with a personal matrix gateway (common-proxies or with a Nginx setup), <strong>you can remove the gateway after upgrading to v1.26</strong>.</p>
</blockquote>
<h3 id="messagehub-website">MessageHub (<a href="https://github.com/gdlol/MessageHub">website</a>)</h3>
<p><a href="https://matrix.to/#/@gd.xwj:matrix.org">gdlol</a> announces</p>
<blockquote>
<p>A P2P Matrix home server created using libp2p.</p>
<p>An early-stage home server prototype that communicates in a fully decentralized manner: every user runs their own server locally!</p>
<p>This is achieved with the libp2p library which provides decentralized node discovery, NAT traversal and gossip-based communication capabilities.</p>
<p>The server implements the Matrix API specifications (with many advanced features still missing, like client-side end-to-end encryption), but did little modification on federation side so that it doesn't rely on the centralized domain name system to setup and authenticate other nodes. On the other hand, this means it cannot federate with existing home servers yet, because of the different trust model (domain name/HTTPS vs self-owned cryptographic keys).</p>
<p>Try out the latest Webview client on windows, or on other OSs with Docker&amp;Browser!</p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final Thoughts 💭</h2>
<p><a href="https://matrix.to/#/@matthew:matrix.org">Matthew</a> shared</p>
<blockquote>
<p>anarc.at published a long and thoughtful critique of Matrix over at https://anarc.at/blog/2022-06-17-matrix-notes/ - interesting reading, even if we don't agree with all the points.</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>No Thib means no ping this week :(</p>
<p>You can still go check out the ping stats yourself in <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> and <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a>!</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;05&#x2F;27&#x2F;this-week-in-matrix-2022-05-27&#x2F;" title="This Week in Matrix 2022-05-27">This Week in Matrix 2022-05-27</a></h2>
                <span>
                    27.05.2022 00:00
                    —
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey everyone! Thib is out today, so I'll be exceptionally hosting TWIM in his stead this week. Let's have a look at what's been going on in Matrix-land!</p>
<h2 id="open-tech-will-save-us-16">Open Tech Will Save Us #16 🎙</h2>
<iframe src="https://www.youtube.com/embed/H5atH-tbeRo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>The 16th edition of our virtual meetup Open Tech Will Save Us happened this week! This edition featured a few very interesting projects:</p>
<ul>
<li>Quentin and Maximilien from Deuxfleurs are creating Garage, a robust and distributed storage backend that can run on old computers. Who can use it? Why? And when should I not use it? Let's find out!</li>
<li>Nathan from the Guardian Project is working with wind, butter, and rasperries to provide applications and messaging to people in low-connectivity areas. A fascinating dive off the grid.</li>
</ul>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> 🌡️</h2>
<p><a href="https://matrix.to/#/@andybalaam:matrix.org">andybalaam</a> says</p>
<blockquote>
<p>Matrix's <a href="https://www.outreachy.org/">Outreachy</a> intern for this summer has been chosen! <strong>Usman</strong> is starting in early June, and will be working on experiments with <strong>Starring Messages</strong>! He will be blogging every two weeks, so look out for more updates.</p>
</blockquote>
<h2 id="dept-of-spec-scroll">Dept of Spec 📜</h2>
<p><a href="https://matrix.to/#/@andrewm:element.io">Andrew Morgan (anoa)</a> reports</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://matrix.org/docs/spec/proposals.</p>
<h2 id="msc-status">MSC Status</h2>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3825">MSC3825: Obvious relation fallback location</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3824">MSC3824: Login/register indication on SSO redirect</a></li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3823">MSC3823: A code for account suspension</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3604">MSC3604: Room Version 10</a> (merge)</li>
</ul>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<h2 id="spec-updates">Spec Updates</h2>
<p>The upcoming release of Matrix v1.3 is still in the works, but near! Expect a solid release date to be announced next week.</p>
<h2 id="random-msc-of-the-week">Random MSC of the Week</h2>
<p>The random MSC of the week is... <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2872">MSC2872: Move the widget title to the top level of the definition</a>!</p>
<p>A bite-size MSC which aims to clean up the definition of a widget state event... by moving the &quot;title&quot; field to the root of the state event, alongside the existing &quot;name&quot; field.</p>
<p>This MSC needs someone to write an implementation in at least one homeserver and client to move forwards. Perhaps that someone could be you?</p>
<p><img src="/blog/img/stacked_area_chart.png" alt="" /></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers 🏢</h2>
<h3 id="synapse-website">Synapse (<a href="https://github.com/matrix-org/synapse/">website</a>)</h3>
<p>Synapse is a Matrix homeserver implementation developed by the matrix.org core team</p>
<p><a href="https://matrix.to/#/@squah:matrix.org">squah</a> reports</p>
<blockquote>
<p>This week we cut <a href="https://github.com/matrix-org/synapse/releases/tag/v1.60.0rc2">two release candidates for Synapse v1.60</a>, which include:</p>
<ul>
<li><a href="https://github.com/matrix-org/synapse/pull/12701">New config options to limit the total memory usage of Synapse.</a></li>
<li><a href="https://github.com/matrix-org/synapse/pull/12673">The ability to reload cache factors of a running Synapse instance using SIGHUP.</a></li>
<li><a href="https://github.com/matrix-org/synapse/pull/12744">A new module callback to handle federation spam</a>.</li>
<li>Experimental support for <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3787">MSC3787: Allowing knocks to restricted rooms</a> and <a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3818">MSC3818: Copy room type on upgrade</a>.</li>
<li>Many bug fixes and internal improvements!</li>
</ul>
<p>Meanwhile work continues on fast room joins and testing Synapse with workers on Complement. We'd like to remind readers that the fast room joins feature is highly experimental right now and we do not recommend enabling it on production homeservers just yet.</p>
</blockquote>
<h3 id="synapse-admin-scripts-website">Synapse admin scripts (<a href="https://git.fout.re/pi/matrixadminhelpers">website</a>)</h3>
<p><a href="https://matrix.to/#/@pierre:matrix.taz.de">Pierre</a> announces</p>
<blockquote>
<p>Morning,
maybe it's usefull for someone else, I just published my admin scripts for synapse. It's still WiP but it make some basic stuff that I needed in my organisation :</p>
<ul>
<li>System notify users (all users/users from a list, specific user)</li>
<li>delete sessions/devices not seen for X days</li>
<li>purge the remote media cache</li>
<li>select rooms with various criteria (external/local/empty/created by/encrypted/cleartext)</li>
<li>purge history of theses rooms</li>
<li>shutdown rooms</li>
</ul>
<p>https://git.fout.re/pi/matrixadminhelpers</p>
<p>It's my first python project, so the code may not structured as it should, I'm still learning, and it's early alpha :)</p>
</blockquote>
<h3 id="dendrite-website">Dendrite (<a href="https://github.com/matrix-org/dendrite">website</a>)</h3>
<p>Second generation Matrix homeserver</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a> says</p>
<blockquote>
<p>This week we released <a href="https://github.com/matrix-org/dendrite/releases/tag/v0.8.6">Dendrite 0.8.6</a> which contains a number of fixes and tweaks:</p>
<ul>
<li>Room versions 8 and 9 are now marked as stable</li>
<li>Dendrite can now assist remote users to join restricted rooms via <code>/make_join</code> and <code>/send_join</code></li>
<li>The sync API no longer returns immediately on <code>/sync</code> requests unnecessarily if it can be avoided</li>
<li>A race condition has been fixed in the sync API when updating presence via <code>/sync</code></li>
<li>A race condition has been fixed sending E2EE keys to remote servers over federation when joining rooms</li>
<li>The <code>trusted_private_chat</code> preset should now grant power level 100 to all participant users, which should improve the user experience of direct messages</li>
<li>Invited users are now authed correctly in restricted rooms</li>
<li>The <code>join_authorised_by_users_server</code> key is now correctly stripped in restricted rooms when updating the membership event</li>
<li>Appservices should now receive invite events correctly</li>
<li>Device list updates should no longer contain optional fields with <code>null</code> values</li>
<li>The <code>/deactivate</code> endpoint has been fixed to no longer confuse Element with incorrect completed flows</li>
</ul>
<p>As always, please feel free to join us in the <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> room for more discussion!</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients 📱</h2>
<h3 id="nheko-website">Nheko (<a href="https://nheko-reborn.github.io">website</a>)</h3>
<p>Desktop client for Matrix using Qt and C++17.</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico</a> announces</p>
<blockquote>
<p>We added a way to edit permissions in Nheko now. It is an unconventional drag and drop dialog, where you drag users and permissions between different roles. We are hoping that this will make powerlevels easier to understand. Be careful when trying it, the wrong powerlevels might make your room unusable. Now... the bad part about that is, that powerlevels add around 50-100 new strings to translate... Help is appreciated! &lt;3</p>
<p>Nheko now also supports fallback keys, which should make E2EE more reliable after long periods of being offline and you can send images by pressing enter again. The privacy screen is also now fixed for separate room windows and our flatpak supports more image formats.
<img src="/blog/img/JJnXbymlMHyEIcqsQDRdguvr.png" alt="" /></p>
</blockquote>
<h3 id="element-web-desktop-website">Element Web/Desktop (<a href="https://github.com/vector-im/element-web">website</a>)</h3>
<p>Secure and independent communication, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-web:matrix.org">#element-web:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> announces</p>
<blockquote>
<ul>
<li>On Element Web this week we’ve smashed some bugs including those around Threads.</li>
<li>Threads work continues as we’re aiming to improve the notifications and read receipts to improve the experience.</li>
<li>Continuing to make improvements to our automated tests.</li>
<li>The team is driving to complete the work needed to move our new search experience out of Beta. We think this new search is easier to use and helps folks to find what they’re looking for faster.</li>
<li>We’re also making improvements specifically for new users, this will include a new home screen, watch out for those!</li>
</ul>
<p><strong>In labs</strong> (you can enable labs features in settings on develop.element.io or on Nightly):</p>
<ul>
<li>Video rooms; We’re ironing out some of the details to polish the experience</li>
</ul>
</blockquote>
<h3 id="element-ios-website">Element iOS (<a href="https://github.com/vector-im/element-ios">website</a>)</h3>
<p>Secure and independent communication for iOS, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-ios:matrix.org">#element-ios:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@stefan.ceriu:matrix.org">Ștefan</a> reports</p>
<blockquote>
<ul>
<li>This week we’ve fixed a crash, and a few bugs; specifically the bug where some rooms were missing from the room list.</li>
<li>On the iOS team generally we’re working towards a Sentry.io integration for better crash reporting to help us with this in the future.</li>
<li>Live location sharing and other features are making great progress.</li>
<li>Our new first time user experience will be ready for feedback soon!</li>
<li>ElementX has been refactored to adopt Swift’s new structured concurrency.</li>
</ul>
</blockquote>
<h3 id="element-android-website">Element Android (<a href="https://github.com/vector-im/element-android">website</a>)</h3>
<p>Secure and independent communication for Android, connected via Matrix. Come talk with us in <a href="https://matrix.to/#/#element-android:matrix.org">#element-android:matrix.org</a>!</p>
<p><a href="https://matrix.to/#/@ouchadam:matrix.org">adam</a> says</p>
<blockquote>
<ul>
<li>This week we added emoji14 support so if you want to hide 🫣 , salute 🫡 , or melt 🫠 for your friends, you’ll soon be able to!  🫶 (for Android 12 and above, or devices that support emoji14)</li>
<li>We’re getting ever nearer to a new sign up flow for new users. Our flow today can be confusing and complex, especially when all you want to do is chat with friends. We’ve been working on simplifying the flow and we’ll announce a community testing session very soon!</li>
<li>Also new this week, we’ve opened up a new layout of the app to a small selection of folks. These 15 people will trial the new layout for us, providing feedback along the way. We’ll be opening it up to more feedback soon.</li>
</ul>
</blockquote>
<h3 id="element-website">Element (<a href="https://element.io">website</a>)</h3>
<p>Everything related to Element but not strictly bound to a client</p>
<p><a href="https://matrix.to/#/@daniellekirkwood:one.ems.host">Danielle</a> reports</p>
<blockquote>
<p>Hello and happy Friday!</p>
<p><strong>Threads</strong></p>
<ul>
<li>Threads are still in progress as we continue to make progress on the notifications and sort/ordering work that remains.</li>
<li>In order for notifications to work better, we need read receipts to be updated. We’ve got several MSCs ongoing, along with a few Proof of Concepts (PoCs) to move us forward.
<ul>
<li>MSC3771: Read receipts for threads</li>
<li>MSC3772: Push rule for mutually related events</li>
<li>MSC3773: Notifications for threads</li>
</ul>
</li>
<li>With that we’ve also updated some layouts and completed some bug fixes, on all platforms.</li>
</ul>
<p><strong>Community testing</strong></p>
<ul>
<li>Keep your eyes peeled on <a href="https://matrix.to/#/#element-community-testing:matrix.org">#element-community-testing:matrix.org</a> for more info on our next testing sessions.</li>
</ul>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks 🧰</h2>
<h3 id="trixnity-website">Trixnity (<a href="https://gitlab.com/trixnity/trixnity">website</a>)</h3>
<p>Multiplatform Kotlin SDK for Matrix</p>
<p><a href="https://matrix.to/#/@benedict:imbitbu.de">Benedict</a> says</p>
<blockquote>
<p><a href="https://gitlab.com/trixnity/trixnity/-/releases/v2.1.0">Trixnity 2.1.0</a> has been released. It includes support for Server-Server-API endpoints (client and server) and fetching missing <code>TimelineEvents</code> in client. The latter is used for fragmented timelines: If you want to show a timeline starting from any <code>EventId</code> and <code>RoomId</code> (e. g. from unread marker), Trixnity will try to fetch missing <code>TimelineEvent</code>s from server. If you reach <code>TimelineEvent</code>s, that are already saved in the local database, the timeline fragments are merged magically 🧙</p>
</blockquote>
<h3 id="ruma-website">Ruma (<a href="https://www.ruma.io">website</a>)</h3>
<p>A set of Rust library crates for working with the Matrix protocol. Ruma’s approach to Matrix emphasizes correctness, security, stability and performance.</p>
<p><a href="https://matrix.to/#/@zecakeh:tedomum.net">Kévin Commaille</a> announces</p>
<blockquote>
<p>Since our last update from about a month ago, we had two bugfix releases:</p>
<ul>
<li>Ruma 0.6.2 added methods to get the current room powerlevels from a <code>StrippedPowerLevelsEvent</code> and to get a user's membership whether the state event is redacted or not, and added a missing export to track member changes.</li>
<li>Ruma 0.6.3 fixed the serialization and deserialization of events with a dynamic <code>event_type</code> and added convenience constructors for logging in with a <code>UserIdentifier</code>.</li>
</ul>
<p>We have also landed a bunch of internal work:</p>
<ul>
<li>Improvement in our macros, notably to <a href="https://github.com/ruma/ruma/pull/1109">support unstable prefixes for event types</a>.</li>
<li>Some cleanup like removing some dead code, removing unnecessary <code>PartialEq</code> implementations, and fixing missing feature flags.</li>
<li>The <a href="https://github.com/ruma/ruma/pull/1109/commits/1cae9d253bb43c9ad8699cd3b59b89da23bd0e73">minimum supported rust version is now 1.59</a> and we use the <a href="https://github.com/ruma/ruma/pull/1137">Rust 2021 Edition</a>.</li>
<li>We started to <a href="https://github.com/ruma/ruma/pull/1132">refactor our tests</a> to have more helpful failure messages.</li>
</ul>
<p>And there are of course new fixes and features for our next release:</p>
<ul>
<li>Make sure that <a href="https://github.com/ruma/ruma/pull/1114">push rules don't apply to the user's own events</a></li>
<li>Add support for <a href="https://github.com/ruma/ruma/pull/1112">MSC3700: Ignore <code>content.sender_key</code></a></li>
<li>Implement <a href="https://github.com/ruma/ruma/pull/1131">MSC3381: Polls</a></li>
</ul>
</blockquote>
<h3 id="matrix-rust-sdk-website">matrix-rust-sdk (<a href="https://github.com/matrix-org/matrix-rust-sdk">website</a>)</h3>
<p>Matrix Client-Server SDK for Rust</p>
<p><a href="https://matrix.to/#/@gnunicorn:matrix.org">ben</a> reports</p>
<blockquote>
<p>The majority of changes we've seen over the last week, where minor fixes in style, squashing of bugs and CI improvements as most work is currently happening in the background on Sliding Sync, mobile and UniFFI support. But there have been two additions worth mentioning: first, we've improved on the <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/703/files">autojoin example for appservices</a>, and secondly we've merged a <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/706">community contribution to make resolving of room-alias more handy</a>.</p>
<p>👉️ Wanna hack on matrix rust? Go check out our <a href="https://github.com/matrix-org/matrix-rust-sdk/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22"><code>help wanted</code> tagged issues</a> and join our matrix channel at <a href="https://matrix.to/#/#matrix-rust-sdk:matrix.org">#matrix-rust-sdk:matrix.org</a>.</p>
</blockquote>
<h3 id="matrix-dart-sdk-website">Matrix Dart SDK (<a href="https://gitlab.com/famedly/company/frontend/famedlysdk">website</a>)</h3>
<p>Matrix SDK written in pure Dart.</p>
<p><a href="https://matrix.to/#/@henri_carnot:famedly.de">Henri Carnot</a> announces</p>
<blockquote>
<p>This week, the team released <a href="https://pub.dev/packages/matrix/versions/0.9.7">version 0.9.7</a>.</p>
<p>This week, we migrated to <a href="https://pub.dev/packages/matrix_api_lite">Matrix Api Lite</a> 1.0.0, our simple wrapper around the matrix API endpoints and data models. This means we are now using the v1.2 Matrix spec 🎉.</p>
<p>Also, support for <a href="https://gitlab.com/famedly/company/frontend/famedlysdk/-/merge_requests/1040">HiveCollections</a> as Database provider was added now that our patches to hive were accepted upstream. And we now <a href="https://gitlab.com/famedly/company/frontend/famedlysdk/-/merge_requests/1019/">provide a way</a> to dump and restore the client local database.</p>
<p>Finally, we fixed a bug with where reactions were not properly discarded from the cache and some bugs in our e2e tests.</p>
<p>See you next time ;)</p>
</blockquote>
<h2 id="dept-of-events-and-talks">Dept of Events and Talks 🗣️</h2>
<p><a href="https://matrix.to/#/@saces:c-base.org">saces</a> reports</p>
<blockquote>
<h1 id="matrix-user-meetup-berlin">Matrix User Meetup Berlin</h1>
<p>Next Matrix user meetup 1.6.2022, 8 pm @ c-base</p>
<p>Meet other matrix users, chat about Matrix, the rest, and everything else, discuss your Matrix ideas, sign each other in persona, and maybe spice the evening with a good mate or beer.</p>
<p>Also when the bbq is lit you may wish you brougth your favorite item :)</p>
<p>Every first Wednesday of the month in the c-base at 8pm ('til the next pandemic).</p>
<p>Matrix room: <a href="https://matrix.to/#/#mumb:c-base.org">#mumb:c-base.org</a></p>
</blockquote>
<h2 id="dept-of-rockets-rocket">Dept of Rockets 🚀</h2>
<p><a href="https://matrix.to/#/@hubert:uhoreg.ca">uhoreg</a> shared with us a <a href="https://rocket.chat/press-releases/rocket-chat-leverages-matrix-protocol-for-decentralized-and-interoperable-communications">press release from Rocket.Chat</a> announcing their work on interoperability with Matrix. It is super exciting to see another big player join the ecosystem. Watch this space next week for more announcements!</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping 🏓</h2>
<p>Thib is out this week, therefore so are the ping stats in TWIM (don't worry, they'll be back next week!).</p>
<p>You can still go check them out yourself in <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> and <a href="https://matrix.to/#/#ping-no-synapse:maunium.net">#ping-no-synapse:maunium.net</a>!</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know 🏁</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;05&#x2F;18&#x2F;synapse-1-59-released&#x2F;" title="Synapse 1.59 released">Synapse 1.59 released</a></h2>
                <span>
                    18.05.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.59.0">Synapse 1.59</a> is
out! Let's see what's new in this version.</p>
<h2 id="generic-worker-types">Generic worker types</h2>
<p>When Synapse instances are subject to high load, it can be useful to use workers
to balance the load more effectively. Workers are separate processes that can
take some of the load off the main Synapse process, and allow the homeserver to
scale more effectively.</p>
<p>In the past, Synapse only provided a specific set of types of workers, each
capable of handling a specific set of operations. For some time now we have been
working on allowing more flexibility around worker configuration, which started
all the way back in <a href="https://matrix.org/blog/2020/03/23/synapse-1-12-0-released">Synapse
1.12.0</a> with the
introduction of a generic worker application type.</p>
<p>Synapse 1.59 furthers this work by deprecating the <code>synapse.app.appservice</code> and
<code>synapse.app.user_dir</code> worker application types. Homeserver administrators
should change the configuration of instances using these types to the generic
<code>synapse.app.generic_worker</code> application type, and use the
<code>notify_appservices_from_worker</code> and <code>update_user_directory_from_worker</code> to
delegate application service and user directory work (respectively) to a worker.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.59/upgrade.html#deprecation-of-the-synapseappappservice-and-synapseappuser_dir-worker-application-types">upgrade
notes</a>
for more information on this change.</p>
<h2 id="push-rules">Push rules</h2>
<p>Push rules allow Matrix clients to define notification rules on a homeserver.
One often reported issue with notification in Matrix is the fact that
notifications are sent out when server ACLs, which define which server(s) can
and cannot interact in a room, change. This is especially annoying during big
waves of abuse, as there might be multiple servers that need to be banned from
rooms, thus causing a lot of unneeded notifications.</p>
<p>Synapse 1.59 now supports silencing server ACL updates, by implementing the new
push rule documented in
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3786">MSC3786</a>.
However, since this MSC hasn't been incorporated into the spec yet, this
behaviour is disabled by default in Synapse: see <a href="https://github.com/matrix-org/synapse/pull/12601">the implementation pull
request</a> for more information
on turning it on.</p>
<p>Synapse 1.59 also allows third-party modules to validate and change the actions
associated with an existing push rule via the <a href="https://github.com/matrix-org/synapse/blob/d24a1486e5c5d69a8798a9d159fd9e06dfc8c3e3/synapse/module_api/__init__.py#L1360-L1420">Module
API</a>.
This is helpful for modules wishing to, for example, configuring specific
notification settings when new users register.</p>
<h2 id="everything-else">Everything else</h2>
<p>As of Synapse 1.59, Synapse will not communicate the name of devices over
federation (unless configured otherwise), in order to better preserve user
privacy. See the <a href="https://matrix-org.github.io/synapse/v1.59/upgrade.html#device-name-lookup-over-federation-has-been-disabled-by-default">upgrade
notes</a>
for more information.</p>
<p>Also note that we have issued a patch release for 1.59 (1.59.1) which fixes a
long-standing bug that started to bite a good amount of server administrators.
Server admins that are looking into upgrading their instance to Synapse 1.59 are
recommended to upgrade to 1.59.1 rather than 1.59.0.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.59.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.59/upgrade#upgrading-to-v1590">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, <a href="https://github.com/SimonBrandner">Šimon
Brandner</a>,
<a href="https://github.com/henryclw">henryclw</a> and <a href="https://github.com/andrewdoh">Andrew
Do</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;05&#x2F;05&#x2F;synapse-1-58-released&#x2F;" title="Synapse 1.58 released">Synapse 1.58 released</a></h2>
                <span>
                    05.05.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.58.0">Synapse 1.58</a> is
out! Let's dive into this new release.</p>
<h2 id="poetry">Poetry</h2>
<p>If you've been reading the past few Synapse release announcements, you might
have already heard about our efforts to integrate
<a href="https://python-poetry.org/">Poetry</a> into Synapse. Poetry is a tool which
manages dependencies of a Python project. Its killer feature is its lockfile,
which explicitly pins all dependencies (direct and transitive) to a fixed
version, even across multiple Python versions and platforms. See more about why
we choose Poetry <a href="https://github.com/matrix-org/synapse/issues/11537">here</a>.</p>
<p>During the past few months, we've been hard at work converting Synapse and its
CI to use Poetry. The goal is to make our Docker images and Debian packages more
reproducible and to provide a fixed, known-good environment for CI. This will
help us to ensure the stability and security of Synapse installations.</p>
<p>Synapse 1.57's Docker image was the first to use Poetry; after a successful
trial, this was extended to Synapse 1.58's Debian packages. Installations from
PyPI using <code>pip</code> will <em>not</em> use the locked environment, though everyone is
welcome to install from source using <a href="https://github.com/matrix-org/synapse/blob/develop/poetry.lock">our
lockfile</a>.</p>
<p>Huge props to <a href="https://github.com/DMRobertson">David</a> from the Synapse team for
leading the work on this front.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release of Synapse also includes performance improvements around sharing
device list updates, which should greatly improve login times for large Matrix
accounts.</p>
<p>Synapse 1.58 also features the implementation of two MSCs:
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3383">MSC3383</a> to
include a <code>destination</code> parameter in federation authentication headers, and
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/2815">MSC2815</a> which
(if enabled) allows room moderators to see the content of a redacted event (as
long as it hasn't already been deleted by the homeserver).</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.58.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.58/upgrade#upgrading-to-v1580">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, <a href="https://famedly.com/">Famedly</a> and
<a href="https://github.com/olmari">Sami Olmari</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;04&#x2F;19&#x2F;synapse-1-57-released&#x2F;" title="Synapse 1.57 released">Synapse 1.57 released</a></h2>
                <span>
                    19.04.2022 16:28
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey everyone! Guess what? <a href="https://github.com/matrix-org/synapse/releases/tag/v1.57.0">Synapse
1.57</a> has just been
released! Let's see what's new in this version!</p>
<h2 id="application-services">Application services</h2>
<p>Application services are piece of software that have privileged access to some
of the homeserver's features. For example, they can create and manage multiple
users at the same time, which is especially useful for bridges.</p>
<p>This release of Synapse changes the way Synapse manually manages transaction
identifiers when talking to application services (a transaction being a group of
events the application service should know about). While this doesn't have much
impact on the everyday life of a server administrator (besides fixing a
<a href="https://github.com/matrix-org/synapse/pull/12209">bug</a> and paving the way for
future performance improvements), this change means server admins should take
extra care when updating Synapse.</p>
<p>More specifically, if you are running a dedicated Synapse worker for handling
traffic related to application services, this worker <strong>must</strong> be stopped when
upgrading the main Synapse process to ensure the update is performed safely. See
the <a href="https://matrix-org.github.io/synapse/v1.57/upgrade#changes-to-database-schema-for-application-services">upgrade
notes</a>
for more information about this change, and instructions on recovering from an
incorrect upgrade.</p>
<p>This release of Synapse also continues work on bringing end-to-end capabilities
to application services, which I was already telling you about in the <a href="https://matrix.org/blog/2022/01/18/synapse-1-50-released">Synapse
1.50 release blog
post</a>. More
specifically, Synapse now supports sending device list updates to applications
services, as part of implementing
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3202">MSC3202</a>. This
is still very experimental and definitely not production ready, but also very
exciting!</p>
<h2 id="improvements-to-the-module-system">Improvements to the module system</h2>
<p>Modules allow third-party developers to expand Synapse with extra features that
wouldn't necessarily fit into the Matrix specification and/or ecosystem. In the
past release of Synapse, we have been improving this system to add more
functionality to it, and this one is no exception!</p>
<p>Synapse modules can now implement new callbacks to <a href="https://matrix-org.github.io/synapse/v1.57/modules/account_data_callbacks.html#on_account_data_updated">react to account data
updates</a>,
as well as to <a href="https://matrix-org.github.io/synapse/v1.57/modules/third_party_rules_callbacks.html#on_threepid_bind">react to new 3PID (email address, phone number)
associations</a>.
On the latter, note that this callback will only be called after a 3PID has been
validated on the homeserver, and does not trigger when the validation happens on
an identity server (e.g. when publishing a 3PID so that other users can look it
up).</p>
<p>The <code>ModuleApi</code> (which is the Python class enabling modules to interact with
Synapse) has also been updated to allow module to read and write global account
data. This can be done by using the new
<a href="https://github.com/matrix-org/synapse/blob/e31d06f6f0923d001736f5e6e08616293bd4b120/synapse/module_api/__init__.py#L1401-L1464"><code>AccountDataManager</code></a>
class, which can be accessed as <code>api.account_data_manager</code> (where <code>api</code> is an
instance of <code>ModuleApi</code>).</p>
<p>The module API has also been updated with a <a href="https://github.com/matrix-org/synapse/blob/e31d06f6f0923d001736f5e6e08616293bd4b120/synapse/module_api/__init__.py#L543-L552">new
method</a>,
to allow modules to promote an existing user to server administrator (or demote
a server administrator to a normal user). This follows up on an improvement
introduced in <a href="https://matrix.org/blog/2022/04/05/synapse-1-56-released">Synapse
1.56</a> allowing modules
to promote users to server administrators when registering them.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release also includes a performance improvement for workers handling
<code>/sync</code> requests. While this change makes starting this kind of workers slightly
more heavy performance-wise, it aims at improving the load associated with the
first <code>/sync</code> requests hitting it right after starting. See <a href="https://github.com/matrix-org/synapse/pull/12367#issuecomment-1088574192">this
comment</a>
for more details.</p>
<p>Synapse 1.57 also now includes bundled aggregations in message search results by
default, as
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3666">MSC3666</a> has
been accepted and has finished its final comment period.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.57.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.57/upgrade#upgrading-to-v1570">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, <a href="https://famedly.com/">Famedly</a> and
<a href="https://github.com/watson28">Jorge Florian</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;04&#x2F;05&#x2F;synapse-1-56-released&#x2F;" title="Synapse 1.56 released">Synapse 1.56 released</a></h2>
                <span>
                    05.04.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Happy release day everyone! <a href="https://github.com/matrix-org/synapse/releases/tag/v1.56.0">Synapse
1.56</a> is out! Let's
have a look at what's new in this release.</p>
<h2 id="additional-restrictions-around-registration">Additional restrictions around registration</h2>
<p>One common abuse scenario we have seen on Matrix over the years is attackers
making use of public homeservers with open registration to automatically create
multiple accounts in order to evade sanctions. Sometimes, this can lead to these
public homeservers being banned across multiple public rooms despite their
administrator(s) not being directly at fault.</p>
<p>In order to mitigate this, starting from this release, Synapse will refuse to
start by default if it is configured with open registration with no additional
verification. This means users wishing to register on these homeservers will
need to authenticate themselves, either via
<a href="https://github.com/matrix-org/synapse/blob/8a519f8abc6de772167c2cca101d22ee2052fafc/docs/sample_config.yaml#L1285">email</a>,
<a href="https://matrix-org.github.io/synapse/v1.56/CAPTCHA_SETUP.html">recaptcha</a> or
<a href="https://matrix-org.github.io/synapse/v1.56/usage/administration/admin_api/registration_tokens.html">registration
tokens</a>.</p>
<p>Please see the <a href="https://matrix-org.github.io/synapse/v1.56/upgrade.html#open-registration-without-verification-is-now-disabled-by-default">upgrade
notes</a>
for more information.</p>
<h2 id="so-long-groups-and-thanks-for-all-the-fish">So long groups, and thanks for all the fish</h2>
<p>Long-time users of Matrix might remember when, <a href="https://matrix.org/blog/2017/10/24/synapse-0-24-is-here">way back in
2017</a>, we introduced
groups (also known as communities in some clients). Groups would let users
define a curated set of users and rooms to represent a given community that
others could refer to. We even used to have <code>+matrix:matrix.org</code> which was
the official group for the Matrix team and community.</p>
<p>If this sounds a bit familiar to you (and remind you of a certain other feature
of Matrix), that's no coincidence. Some time ago, we had already identified a
good amount of shortcomings with groups, and decided to redesign the feature
entirely and release it under the name &quot;spaces&quot;. If you're curious about this,
then you may wish to read the <a href="https://matrix.org/blog/2021/05/17/the-matrix-space-beta">spaces announcement
blogpost</a> we released
at the time.</p>
<p>Now that spaces have been out of beta for some time, and have shown to be a very
useful feature to the ecosystem, we decided it was time to retire support for
groups from Synapse, after more than 4 years of good and loyal service. This
release of Synapse deprecates the feature, with a plan to disable it by default
in Synapse 1.58 (which is expected to be released next month).</p>
<h2 id="everything-else">Everything else</h2>
<p>As of this version, Synapse will also refuse to start the if the Postgres
database it is running against has a non-<code>C</code> locale, in order to prevent
accidental database corruption. See the <a href="https://matrix-org.github.io/synapse/v1.56/upgrade.html#change-in-behaviour-for-postgresql-databases-with-unsafe-locale">upgrade
notes</a>
for more information.</p>
<p>This release also includes the ability for modules to register server
administrators through the <code>register_user</code> method, as well as a <a href="https://github.com/matrix-org/synapse/blob/v1.56.0/synapse/module_api/__init__.py#L1290-L1312">new
method</a>
to allow modules to store external 3PID associations into Synapse's database.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.56.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.56/upgrade#upgrading-to-v1560">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://github.com/dklimpel">Dirk Klimpel</a>,
<a href="https://www.beeper.com/">Beeper</a>, <a href="https://famedly.com/">Famedly</a>,
<a href="https://github.com/IronTooch">IronTooch</a> and
<a href="https://github.com/villepeh">villepeh</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;03&#x2F;22&#x2F;synapse-1-55-released&#x2F;" title="Synapse 1.55 released">Synapse 1.55 released</a></h2>
                <span>
                    22.03.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all, <a href="https://github.com/matrix-org/synapse/releases/tag/v1.55.0">Synapse
1.55</a> is out! Let's
see the main talking points of this new release.</p>
<blockquote>
<p>Update: After the initial release of Synapse 1.55, the developers of a
third-party tool (Jinja, which is the tool Synapse uses to render email and
web templates) released a new version of their project which proved
incompatible with Synapse. To address this issue, we have released <a href="https://github.com/matrix-org/synapse/releases/tag/v1.55.2">Synapse
1.55.2</a>.</p>
<p>Deployments of Synapse using the <code>matrixdotorg/synapse</code> Docker image or Debian
packages from <code>packages.matrix.org</code> are not affected as they are already using
a compatible version of the tool.</p>
<p>It's worth noting that the work we are doing to integrate
<a href="https://python-poetry.org/">Poetry</a> into Synapse (more on that a bit further
in this post) will, once completed, prevent this kind of issues from
happening.</p>
</blockquote>
<h2 id="removing-support-for-mjolnir-1-3-1-and-older">Removing support for Mjolnir 1.3.1 and older</h2>
<p>Administrators of large homeservers and communities will already be familiar
with <a href="https://github.com/matrix-org/mjolnir">Mjolnir</a>, which is a tool designed
to help them moderate a large number of rooms in an efficient way. It includes a
bot as well as a Synapse module to better interface with the homeserver.</p>
<p>Due to a change in how we manage some of Synapse's internal utilities, this
release of Synapse breaks compatibility with Mjolnir versions 1.3.1 and older.
Homeserver administrators using Mjolnir and upgrading to Synapse 1.55 should
make sure they're running Mjolnir version 1.3.2 or later.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.55/upgrade#compatibility-dropped-for-mjolnir-131-and-earlier">upgrade
notes</a>
for more information.</p>
<h2 id="moving-synctl">Moving <code>synctl</code></h2>
<p><code>synctl</code> is a tool provided as part of Synapse to run and manage your instance
and its workers (if any).</p>
<p>As part of our work to integrate <a href="https://python-poetry.org/">Poetry</a> in Synapse
(which in turn will enable a lot of cool things, such as reproducible builds),
we have recently moved the way we package this tool. As of this release,
homeserver administrators should stop invoking it using its direct path (e.g.
<code>/path/to/synctl start</code>), but should instead call it directly, e.g. <code>synctl start</code>.</p>
<p>This means homeserver administrators using <code>synctl</code> must make sure that the tool
is in their <code>PATH</code>. This is automatically done when installing and upgrading
Synapse using the <code>matrixdotorg/synapse</code> Docker image or Debian packages from
<code>packages.matrix.org</code>. When installing from a wheel, sdist, or PyPI, an
executable is created in your Python installation's <code>bin</code> directory.</p>
<p>See the <a href="https://matrix-org.github.io/synapse/v1.55/upgrade#synctl-script-has-been-moved">upgrade
notes</a>
for more information.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release also introduces new module callbacks, allowing homeserver
administrators to more efficiently review which users are able to deactivate
users and shutdown rooms. More information on that in <a href="https://matrix-org.github.io/synapse/v1.55/modules/third_party_rules_callbacks.html#check_can_shutdown_room">Synapse's
documentation</a>.</p>
<p>We have also started experimenting with using the native Python asyncio event
loop in Synapse which, if successful, would make it easier to use building
blocks from the Python ecosystem when adding new features to Synapse.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.55.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.55/upgrade#upgrading-to-v1550">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://github.com/dklimpel">Dirk Klimpel</a>,
<a href="https://www.beeper.com/">Beeper</a>, and
<a href="https://github.com/cremesk">~creme</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;03&#x2F;08&#x2F;synapse-1-54-released&#x2F;" title="Synapse 1.54 released">Synapse 1.54 released</a></h2>
                <span>
                    08.03.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/brendan-abolivier">
                        Brendan Abolivier
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><a href="https://github.com/matrix-org/synapse/releases/tag/v1.54.0">Synapse 1.54</a> is
out! Let's see what goodness is coming your way with this new release.</p>
<h2 id="improving-url-previews">Improving URL previews</h2>
<p>As part of the Matrix specification, Matrix clients have the option to rely on
the homeserver to generate URL previews. This means the homeserver (in this case
Synapse) needs to have a look at the content at that URL and extract data to
send back to the client.</p>
<p>In the past, Synapse has had issues with generating complete URL previews, and
some metadata (e.g. image, description) would be missing from the data that
Synapse sends to clients. Synapse 1.54 includes improvements to the generation
of URL previews, and while testing it we've been able to observe improvements to
previews generated for Twitter and Reddit.</p>
<h2 id="new-module-callbacks">New module callbacks</h2>
<p>Synapse modules allow third-party developers to write extra features for
Synapse, that wouldn't necessarily be generic enough to fit within the Matrix
specification. This includes custom behaviours such as smarter event filters,
bespoke media storage providers, or spam checkers. Since we rewrote Synapse's
module system in <a href="https://matrix.org/blog/2021/06/30/security-update-synapse-1-37-1-released#synapse-137-release-announcement">Synapse
1.37</a>,
we have been improving it by adding new callback functions that module can
implement, allowing them to interface better with Synapse.</p>
<p>Synapse 1.54 includes three new module callbacks. One of them,
<a href="https://matrix-org.github.io/synapse/v1.54/modules/password_auth_provider_callbacks.html#get_displayname_for_registration"><code>get_displayname_for_registration</code></a>,
allows modules to define the display name for newly registered users. Together
with the existing
<a href="https://matrix-org.github.io/synapse/v1.54/modules/password_auth_provider_callbacks.html#get_username_for_registration"><code>get_username_for_registration</code></a>
introduced in <a href="https://matrix.org/blog/2022/02/08/synapse-1-52-released/">Synapse
1.52</a>, they allow
modules a better control over the user registration process.</p>
<p>The two other module callbacks introduced in Synapse 1.54,
<a href="https://matrix-org.github.io/synapse/v1.54/modules/third_party_rules_callbacks.html#on_profile_update"><code>on_profile_update</code></a>
and
<a href="https://matrix-org.github.io/synapse/v1.54/modules/third_party_rules_callbacks.html#on_user_deactivation_status_changed"><code>on_user_deactivation_status_changed</code></a>,
allow modules to react to profile changes, as well as the deactivation (or
reactivation) of users.</p>
<h2 id="everything-else">Everything else</h2>
<p>This release of Synapse also includes more work to make joining large Matrix
rooms faster (I was telling you about that in the <a href="https://matrix.org/blog/2022/02/22/synapse-1-53-released">Synapse 1.53 release
announcement</a>). While
it's still very experimental and not yet ready for show time, it's still very
exciting to see this work happening!</p>
<p>Synapse 1.54 also includes a change to the <a href="https://spec.matrix.org/latest/client-server-api/#get_matrixclientversions">client-side versions
endpoint</a>
to advertise Matrix 1.1 and 1.2. See the <a href="https://matrix.org/blog/2022/02/02/matrix-v-1-2-release">Matrix
1.2</a> release
announcement to read all about the changes this latest version of the
specification brings to the ecosystem.</p>
<p>See the <a href="https://github.com/matrix-org/synapse/releases/tag/v1.54.0">full
changelog</a> for a
complete list of changes in this release. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.54/upgrade#upgrading-to-v1540">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://github.com/dklimpel">Dirk Klimpel</a>, <a href="https://github.com/AndrewRyanChama">Andrew
Ryan</a>, and
<a href="https://github.com/lukasdenk">lukasdenk</a>.</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;brendan-abolivier&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">2 / 3</span>
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;brendan-abolivier&#x2F;page&#x2F;3&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
