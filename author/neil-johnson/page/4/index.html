<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Neil Johnson</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/author/neil-johnson/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Neil Johnson</h1>
            64 posts tagged with "Neil Johnson" <a href="/author">(See all Author)</a>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;06&#x2F;11&#x2F;synapse-1-0-0-released&#x2F;" title="Synapse 1.0.0 released">Synapse 1.0.0 released</a></h2>
                <span>
                    11.06.2019 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Well here it is: Synapse 1.0.</p>
<p>Synapse 1.0 is the reference implementation of the <a href="https://matrix.org/docs/spec">Matrix 1.0 spec</a>. The goal of the release overall has been to focus on security and stability, such that we can officially declare Synapse (and Matrix) out of beta and recommended for production use. This means changing the default room protocol version used for new rooms to be <a href="https://github.com/matrix-org/matrix-doc/blob/37871106c6fc6013c17b5711fb93853fff140267/proposals/2002-rooms-v4.md">v4</a>, which includes the new <a href="https://github.com/matrix-org/matrix-doc/blob/f714aaadd011ac736d779f8460202a8d95799123/proposals/1442-state-resolution.md">state resolution algorithm</a>, as well as <a href="https://github.com/matrix-org/matrix-doc/blob/erikj/event_id_hashes/proposals/1659-event-id-as-hashes.md">collision-resistant event IDs</a>, which are now formatted to be <a href="https://github.com/matrix-org/matrix-doc/blob/rav/proposal/no_slash_in_event_id/proposals/1884-replace-slashes-in-event_ids.md">URL safe</a>.</p>
<p>Synapse 1.0 also ships with support for the upcoming <a href="https://matrix.org/docs/spec/rooms/v5.html">v5 room protocol</a> (which enforces honouring server key validity periods), but this will not be used as the default for new rooms until a sufficient number of servers support it.</p>
<p>Please note that Synapse 1.0 does <strong>not</strong> include significant performance work or new features - our focus has been almost exclusively on providing a reference implementation of the Matrix 1.0 protocol. But having cleared our backlog on security/stability issues we will finally be now unblocked to pursue work around reducing RAM footprint, eliminating forward-extremity build up, and shipping new features like Edits, Reactions &amp; E2E cross-signing support.</p>
<p>As part of the security work, Synapse 1.0 contains a <a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md#it-used-to-work-just-fine-why-are-you-breaking-everything">breaking change</a> that requires a valid TLS certificate on the federation API endpoint. <strong>Servers that do not configure their certificate will no longer be able to federate post 1.0.</strong></p>
<p>It is also worth noting that Synapse 1.0.0 is the last release that will support Python 2.x and Postgres 9.4. For more information see <a href="/blog/2019/04/08/synapse-deprecating-postgres-9-4-and-python-2-x">here</a> but the TL;DR is that you should upgrade asap.</p>
<p>This release has been a long time coming. Many thanks indeed to everyone who helped test the release candidates and provided feedback along the way.</p>
<p>Synapse 1.0 is just one component of a larger Matrix 1.0 release, which you can <a href="/blog/2019/06/11/introducing-matrix-1-0-and-the-matrix-org-foundation">read all about here</a>.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v1.0.0">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>. Also, check out our <a href="https://matrix.org/docs/guides/installing-synapse">Synapse installation guide page</a></p>
<p>The changelog since 0.99.5 follows:</p>
<h1 id="synapse-1-0-0-2019-06-11">Synapse 1.0.0 (2019-06-11)</h1>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Fix bug where attempting to send transactions with large number of EDUs can fail. (<a href="https://github.com/matrix-org/synapse/issues/5418">#5418</a>)</li>
</ul>
<h2 id="improved-documentation">Improved Documentation</h2>
<ul>
<li>Expand the federation guide to include relevant content from the MSC1711 FAQ (<a href="https://github.com/matrix-org/synapse/issues/5419">#5419</a>)</li>
</ul>
<h2 id="internal-changes">Internal Changes</h2>
<ul>
<li>Move password reset links to /_matrix/client/unstable namespace. (<a href="https://github.com/matrix-org/synapse/issues/5424">#5424</a>)</li>
</ul>
<h1 id="synapse-1-0-0rc3-2019-06-10">Synapse 1.0.0rc3 (2019-06-10)</h1>
<p>Security: Fix authentication bug introduced in 1.0.0rc1. Please upgrade to rc3 immediately</p>
<h1 id="synapse-1-0-0rc2-2019-06-10">Synapse 1.0.0rc2 (2019-06-10)</h1>
<h2 id="bugfixes-1">Bugfixes</h2>
<ul>
<li>Remove redundant warning about key server response validation. (<a href="https://github.com/matrix-org/synapse/issues/5392">#5392</a>)</li>
<li>Fix bug where old keys stored in the database with a null valid until timestamp caused all verification requests for that key to fail. (<a href="https://github.com/matrix-org/synapse/issues/5415">#5415</a>)</li>
<li>Fix excessive memory using with default <code>federation_verify_certificates: true</code> configuration. (<a href="https://github.com/matrix-org/synapse/issues/5417">#5417</a>)</li>
</ul>
<h1 id="synapse-1-0-0rc1-2019-06-07">Synapse 1.0.0rc1 (2019-06-07)</h1>
<h2 id="features">Features</h2>
<ul>
<li>Synapse now more efficiently collates room statistics. (<a href="https://github.com/matrix-org/synapse/issues/4338">#4338</a>, <a href="https://github.com/matrix-org/synapse/issues/5260">#5260</a>, <a href="https://github.com/matrix-org/synapse/issues/5324">#5324</a>)</li>
<li>Add experimental support for relations (aka reactions and edits). (<a href="https://github.com/matrix-org/synapse/issues/5220">#5220</a>)</li>
<li>Ability to configure default room version. (<a href="https://github.com/matrix-org/synapse/issues/5223">#5223</a>, <a href="https://github.com/matrix-org/synapse/issues/5249">#5249</a>)</li>
<li>Allow configuring a range for the account validity startup job. (<a href="https://github.com/matrix-org/synapse/issues/5276">#5276</a>)</li>
<li>CAS login will now hit the r0 API, not the deprecated v1 one. (<a href="https://github.com/matrix-org/synapse/issues/5286">#5286</a>)</li>
<li>Validate federation server TLS certificates by default (implements <a href="https://github.com/matrix-org/matrix-doc/blob/master/proposals/1711-x509-for-federation.md">MSC1711</a>). (<a href="https://github.com/matrix-org/synapse/issues/5359">#5359</a>)</li>
<li>Update /_matrix/client/versions to reference support for r0.5.0. (<a href="https://github.com/matrix-org/synapse/issues/5360">#5360</a>)</li>
<li>Add a script to generate new signing-key files. (<a href="https://github.com/matrix-org/synapse/issues/5361">#5361</a>)</li>
<li>Update upgrade and installation guides ahead of 1.0. (<a href="https://github.com/matrix-org/synapse/issues/5371">#5371</a>)</li>
<li>Replace the <code>perspectives</code> configuration section with <code>trusted_key_servers</code>, and make validating the signatures on responses optional (since TLS will do this job for us). (<a href="https://github.com/matrix-org/synapse/issues/5374">#5374</a>)</li>
<li>Add ability to perform password reset via email without trusting the identity server. (<a href="https://github.com/matrix-org/synapse/issues/5377">#5377</a>)</li>
<li>Set default room version to v4. (<a href="https://github.com/matrix-org/synapse/issues/5379">#5379</a>)</li>
</ul>
<h2 id="bugfixes-2">Bugfixes</h2>
<ul>
<li>Fixes client-server API not sending &quot;m.heroes&quot; to lazy-load /sync requests when a rooms name or its canonical alias are empty. Thanks to @dnaf for this work! (<a href="https://github.com/matrix-org/synapse/issues/5089">#5089</a>)</li>
<li>Prevent federation device list updates breaking when processing multiple updates at once. (<a href="https://github.com/matrix-org/synapse/issues/5156">#5156</a>)</li>
<li>Fix worker registration bug caused by ClientReaderSlavedStore being unable to see get_profileinfo. (<a href="https://github.com/matrix-org/synapse/issues/5200">#5200</a>)</li>
<li>Fix race when backfilling in rooms with worker mode. (<a href="https://github.com/matrix-org/synapse/issues/5221">#5221</a>)</li>
<li>Fix appservice timestamp massaging. (<a href="https://github.com/matrix-org/synapse/issues/5233">#5233</a>)</li>
<li>Ensure that server_keys fetched via a notary server are correctly signed. (<a href="https://github.com/matrix-org/synapse/issues/5251">#5251</a>)</li>
<li>Show the correct error when logging out and access token is missing. (<a href="https://github.com/matrix-org/synapse/issues/5256">#5256</a>)</li>
<li>Fix error code when there is an invalid parameter on /_matrix/client/r0/publicRooms (<a href="https://github.com/matrix-org/synapse/issues/5257">#5257</a>)</li>
<li>Fix error when downloading thumbnail with missing width/height parameter. (<a href="https://github.com/matrix-org/synapse/issues/5258">#5258</a>)</li>
<li>Fix schema update for account validity. (<a href="https://github.com/matrix-org/synapse/issues/5268">#5268</a>)</li>
<li>Fix bug where we leaked extremities when we soft failed events, leading to performance degradation. (<a href="https://github.com/matrix-org/synapse/issues/5274">#5274</a>, <a href="https://github.com/matrix-org/synapse/issues/5278">#5278</a>, <a href="https://github.com/matrix-org/synapse/issues/5291">#5291</a>)</li>
<li>Fix &quot;db txn 'update_presence' from sentinel context&quot; log messages. (<a href="https://github.com/matrix-org/synapse/issues/5275">#5275</a>)</li>
<li>Fix dropped logcontexts during high outbound traffic. (<a href="https://github.com/matrix-org/synapse/issues/5277">#5277</a>)</li>
<li>Fix a bug where it is not possible to get events in the federation format with the request <code>GET /_matrix/client/r0/rooms/{roomId}/messages</code>. (<a href="https://github.com/matrix-org/synapse/issues/5293">#5293</a>)</li>
<li>Fix performance problems with the rooms stats background update. (<a href="https://github.com/matrix-org/synapse/issues/5294">#5294</a>)</li>
<li>Fix noisy 'no key for server' logs. (<a href="https://github.com/matrix-org/synapse/issues/5300">#5300</a>)</li>
<li>Fix bug where a notary server would sometimes forget old keys. (<a href="https://github.com/matrix-org/synapse/issues/5307">#5307</a>)</li>
<li>Prevent users from setting huge displaynames and avatar URLs. (<a href="https://github.com/matrix-org/synapse/issues/5309">#5309</a>)</li>
<li>Fix handling of failures when processing incoming events where calling <code>/event_auth</code> on remote server fails. (<a href="https://github.com/matrix-org/synapse/issues/5317">#5317</a>)</li>
<li>Ensure that we have an up-to-date copy of the signing key when validating incoming federation requests. (<a href="https://github.com/matrix-org/synapse/issues/5321">#5321</a>)</li>
<li>Fix various problems which made the signing-key notary server time out for some requests. (<a href="https://github.com/matrix-org/synapse/issues/5333">#5333</a>)</li>
<li>Fix bug which would make certain operations (such as room joins) block for 20 minutes while attemoting to fetch verification keys. (<a href="https://github.com/matrix-org/synapse/issues/5334">#5334</a>)</li>
<li>Fix a bug where we could rapidly mark a server as unreachable even though it was only down for a few minutes. (<a href="https://github.com/matrix-org/synapse/issues/5335">#5335</a>, <a href="https://github.com/matrix-org/synapse/issues/5340">#5340</a>)</li>
<li>Fix a bug where account validity renewal emails could only be sent when email notifs were enabled. (<a href="https://github.com/matrix-org/synapse/issues/5341">#5341</a>)</li>
<li>Fix failure when fetching batches of events during backfill, etc. (<a href="https://github.com/matrix-org/synapse/issues/5342">#5342</a>)</li>
<li>Add a new room version where the timestamps on events are checked against the validity periods on signing keys. (<a href="https://github.com/matrix-org/synapse/issues/5348">#5348</a>, <a href="https://github.com/matrix-org/synapse/issues/5354">#5354</a>)</li>
<li>Fix room stats and presence background updates to correctly handle missing events. (<a href="https://github.com/matrix-org/synapse/issues/5352">#5352</a>)</li>
<li>Include left members in room summaries' heroes. (<a href="https://github.com/matrix-org/synapse/issues/5355">#5355</a>)</li>
<li>Fix <code>federation_custom_ca_list</code> configuration option. (<a href="https://github.com/matrix-org/synapse/issues/5362">#5362</a>)</li>
<li>Fix missing logcontext warnings on shutdown. (<a href="https://github.com/matrix-org/synapse/issues/5369">#5369</a>)</li>
</ul>
<h2 id="improved-documentation-1">Improved Documentation</h2>
<ul>
<li>Fix docs on resetting the user directory. (<a href="https://github.com/matrix-org/synapse/issues/5282">#5282</a>)</li>
<li>Fix notes about ACME in the MSC1711 faq. (<a href="https://github.com/matrix-org/synapse/issues/5357">#5357</a>)</li>
</ul>
<h2 id="internal-changes-1">Internal Changes</h2>
<ul>
<li>Synapse will now serve the experimental &quot;room complexity&quot; API endpoint. (<a href="https://github.com/matrix-org/synapse/issues/5216">#5216</a>)</li>
<li>The base classes for the v1 and v2_alpha REST APIs have been unified. (<a href="https://github.com/matrix-org/synapse/issues/5226">#5226</a>, <a href="https://github.com/matrix-org/synapse/issues/5328">#5328</a>)</li>
<li>Simplifications and comments in do_auth. (<a href="https://github.com/matrix-org/synapse/issues/5227">#5227</a>)</li>
<li>Remove urllib3 pin as requests 2.22.0 has been released supporting urllib3 1.25.2. (<a href="https://github.com/matrix-org/synapse/issues/5230">#5230</a>)</li>
<li>Preparatory work for key-validity features. (<a href="https://github.com/matrix-org/synapse/issues/5232">#5232</a>, <a href="https://github.com/matrix-org/synapse/issues/5234">#5234</a>, <a href="https://github.com/matrix-org/synapse/issues/5235">#5235</a>, <a href="https://github.com/matrix-org/synapse/issues/5236">#5236</a>, <a href="https://github.com/matrix-org/synapse/issues/5237">#5237</a>, <a href="https://github.com/matrix-org/synapse/issues/5244">#5244</a>, <a href="https://github.com/matrix-org/synapse/issues/5250">#5250</a>, <a href="https://github.com/matrix-org/synapse/issues/5296">#5296</a>, <a href="https://github.com/matrix-org/synapse/issues/5299">#5299</a>, <a href="https://github.com/matrix-org/synapse/issues/5343">#5343</a>, <a href="https://github.com/matrix-org/synapse/issues/5347">#5347</a>, <a href="https://github.com/matrix-org/synapse/issues/5356">#5356</a>)</li>
<li>Specify the type of reCAPTCHA key to use. (<a href="https://github.com/matrix-org/synapse/issues/5283">#5283</a>)</li>
<li>Improve sample config for monthly active user blocking. (<a href="https://github.com/matrix-org/synapse/issues/5284">#5284</a>)</li>
<li>Remove spurious debug from MatrixFederationHttpClient.get_json. (<a href="https://github.com/matrix-org/synapse/issues/5287">#5287</a>)</li>
<li>Improve logging for logcontext leaks. (<a href="https://github.com/matrix-org/synapse/issues/5288">#5288</a>)</li>
<li>Clarify that the admin change password API logs the user out. (<a href="https://github.com/matrix-org/synapse/issues/5303">#5303</a>)</li>
<li>New installs will now use the v54 full schema, rather than the full schema v14 and applying incremental updates to v54. (<a href="https://github.com/matrix-org/synapse/issues/5320">#5320</a>)</li>
<li>Improve docstrings on MatrixFederationClient. (<a href="https://github.com/matrix-org/synapse/issues/5332">#5332</a>)</li>
<li>Clean up FederationClient.get_events for clarity. (<a href="https://github.com/matrix-org/synapse/issues/5344">#5344</a>)</li>
<li>Various improvements to debug logging. (<a href="https://github.com/matrix-org/synapse/issues/5353">#5353</a>)</li>
<li>Don't run CI build checks until sample config check has passed. (<a href="https://github.com/matrix-org/synapse/issues/5370">#5370</a>)</li>
<li>Automatically retry buildkite builds (max twice) when an agent is lost. (<a href="https://github.com/matrix-org/synapse/issues/5380">#5380</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;05&#x2F;30&#x2F;synapse-0-99-5-2-released&#x2F;" title="Synapse 0.99.5.2 released">Synapse 0.99.5.2 released</a></h2>
                <span>
                    30.05.2019 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>0.99.5.2 contains a critical performance fix following a regression that was introduced in 0.99.5. Affected servers will have experienced increased CPU and RAM usage with a knock on effect of generally sluggish performance.</p>
<p>Separately, we are also looking into reports relating to further performance degradations that may have been introduced as part of 0.99.5, though consider the 0.99.5.2 fix to be a significant improvement on previous 0.99.5.x releases.</p>
<p>Please upgrade asap.</p>
<p>You can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.99.5.2">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>. Also, check out our <a href="https://matrix.org/docs/guides/installing-synapse">Synapse installation guide page</a>.</p>
<h1 id="synapse-v0-99-5-2-changelog">Synapse v0.99.5.2 Changelog</h1>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Fix bug where we leaked extremities when we soft failed events, leading to performance degradation. (<a href="https://github.com/matrix-org/synapse/issues/5274">#5274</a>, <a href="https://github.com/matrix-org/synapse/issues/5278">#5278</a>, <a href="https://github.com/matrix-org/synapse/issues/5291">#5291</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;05&#x2F;21&#x2F;synapse-0-99-5-1-released&#x2F;" title="Synapse 0.99.5.1 released!">Synapse 0.99.5.1 released!</a></h2>
                <span>
                    21.05.2019 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Okay folks, this is an important one. v0.99.5.1 will be the last release before we ship Synapse v1.0. <strong>It is really important that you upgrade to v0.99.5.1 because it implements rooms <a href="https://github.com/matrix-org/matrix-doc/blob/matthew/room_v4/proposals/2002-rooms-v4.md">version 4</a> - which is the room version that Synapse 1.0 will default to.</strong></p>
<p>This means that Synapse 1.0 servers will create new rooms as version 4 by default and servers that have not upgraded to at least v0.99.5.1 will not be able to join those rooms.</p>
<p>Over the coming days we will announce a release day for Synapse v1.0, the idea is to give admins 2 weeks notice so that anyone yet to configure their federation SSL certificate has time to do so. <strong>This is important, failure to configure your certs will mean not being able to federate with v1.0 servers.</strong> If you are not sure if you certs are valid, you can test <a href="https://federationtester.matrix.org/">here</a> and read <a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md">here</a> for more info on what to do.</p>
<p>Aside from room v4, this release also includes the ability to blacklist specific IPs from federating as well as experimental support for edits and reactions. We are not quite ready to mark the feature 'done done', but it is very close. Watch out for news as the feature lands properly.</p>
<p>We're really close to v1.0 now, give us a few more days and we'll announce an official release date.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.99.5.1">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>. Also, check out our <a href="https://matrix.org/docs/guides/installing-synapse">Synapse installation guide page</a></p>
<h1 id="synapse-v0-99-5-1-changelog-since-v0-99-4">Synapse v0.99.5.1 Changelog (since v0.99.4)</h1>
<h2 id="features">Features</h2>
<ul>
<li>Add ability to blacklist IP ranges for the federation client. (<a href="https://github.com/matrix-org/synapse/issues/5043">#5043</a>)</li>
<li>Ratelimiting configuration for clients sending messages and the federation server has been altered to match login ratelimiting. The old configuration names will continue working. Check the sample config for details of the new names. (<a href="https://github.com/matrix-org/synapse/issues/5181">#5181</a>)</li>
<li>Drop support for the undocumented /_matrix/client/v2_alpha API prefix. (<a href="https://github.com/matrix-org/synapse/issues/5190">#5190</a>)</li>
<li>Add an option to disable per-room profiles. (<a href="https://github.com/matrix-org/synapse/issues/5196">#5196</a>)</li>
<li>Stick an expiration date to any registered user missing one at startup if account validity is enabled. (<a href="https://github.com/matrix-org/synapse/issues/5204">#5204</a>)</li>
<li>Add experimental support for relations (aka reactions and edits). (<a href="https://github.com/matrix-org/synapse/issues/5209">#5209</a>, <a href="https://github.com/matrix-org/synapse/issues/5211">#5211</a>, <a href="https://github.com/matrix-org/synapse/issues/5203">#5203</a>, <a href="https://github.com/matrix-org/synapse/issues/5212">#5212</a>)</li>
<li>Add a room version 4 which uses a new event ID format, as per <a href="https://github.com/matrix-org/matrix-doc/pull/2002">MSC2002</a>. (<a href="https://github.com/matrix-org/synapse/issues/5210">#5210</a>, <a href="https://github.com/matrix-org/synapse/issues/5217">#5217</a>)</li>
</ul>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Fix image orientation when generating thumbnails (needs pillow&gt;=4.3.0). Contributed by Pau Rodriguez-Estivill. (<a href="https://github.com/matrix-org/synapse/issues/5039">#5039</a>)</li>
<li>Exclude soft-failed events from forward-extremity candidates: fixes &quot;No forward extremities left!&quot; error. (<a href="https://github.com/matrix-org/synapse/issues/5146">#5146</a>)</li>
<li>Re-order stages in registration flows such that msisdn and email verification are done last. (<a href="https://github.com/matrix-org/synapse/issues/5174">#5174</a>)</li>
<li>Fix 3pid guest invites. (<a href="https://github.com/matrix-org/synapse/issues/5177">#5177</a>)</li>
<li>Fix a bug where the register endpoint would fail with M_THREEPID_IN_USE instead of returning an account previously registered in the same session. (<a href="https://github.com/matrix-org/synapse/issues/5187">#5187</a>)</li>
<li>Prevent registration for user ids that are too long to fit into a state key. Contributed by Reid Anderson. (<a href="https://github.com/matrix-org/synapse/issues/5198">#5198</a>)</li>
<li>Fix incompatibility between ACME support and Python 3.5.2. (<a href="https://github.com/matrix-org/synapse/issues/5218">#5218</a>)</li>
<li>Fix error handling for rooms whose versions are unknown. (<a href="https://github.com/matrix-org/synapse/issues/5219">#5219</a>)</li>
</ul>
<h2 id="internal-changes">Internal Changes</h2>
<ul>
<li>Make /sync attempt to return device updates for both joined and invited users. Note that this doesn't currently work correctly due to other bugs. (<a href="https://github.com/matrix-org/synapse/issues/3484">#3484</a>)</li>
<li>Update tests to consistently be configured via the same code that is used when loading from configuration files. (<a href="https://github.com/matrix-org/synapse/issues/5171">#5171</a>, <a href="https://github.com/matrix-org/synapse/issues/5185">#5185</a>)</li>
<li>Allow client event serialization to be async. (<a href="https://github.com/matrix-org/synapse/issues/5183">#5183</a>)</li>
<li>Expose DataStore._get_events as get_events_as_list. (<a href="https://github.com/matrix-org/synapse/issues/5184">#5184</a>)</li>
<li>Make generating SQL bounds for pagination generic. (<a href="https://github.com/matrix-org/synapse/issues/5191">#5191</a>)</li>
<li>Stop telling people to install the optional dependencies by default. (<a href="https://github.com/matrix-org/synapse/issues/5197">#5197</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;05&#x2F;15&#x2F;synapse-0-99-4-released&#x2F;" title="Synapse 0.99.4 released!">Synapse 0.99.4 released!</a></h2>
                <span>
                    15.05.2019 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey ho Synapse release day.</p>
<p>0.99.4 is a maintenance release collecting together all of the bug fixes and performance improvements over the past few weeks, additionally there is further support for the upcoming 1.0 release (more info coming soon). One thing worth calling out is how many community contributions have made their way into 0.99.4, take a look at the change log for details, but many thanks to everyone submitting PRs, keep them coming!</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.99.4">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>. Also, check out our <a href="https://matrix.org/docs/guides/installing-synapse">Synapse installation guide page</a></p>
<h1 id="synapse-0-99-4-changelog">Synapse 0.99.4 Changelog</h1>
<h2 id="features">Features</h2>
<ul>
<li>Add systemd-python to the optional dependencies to enable logging to the systemd journal. Install with <code>pip install matrix-synapse[systemd]</code>. (<a href="https://github.com/matrix-org/synapse/issues/4339">#4339</a>)</li>
<li>Add a default .m.rule.tombstone push rule. (<a href="https://github.com/matrix-org/synapse/issues/4867">#4867</a>)</li>
<li>Add ability for password provider modules to bind email addresses to users upon registration. (<a href="https://github.com/matrix-org/synapse/issues/4947">#4947</a>)</li>
<li>Implementation of <a href="https://github.com/matrix-org/matrix-doc/pull/1711">MSC1711</a> including config options for requiring valid TLS certificates for federation traffic, the ability to disable TLS validation for specific domains, and the ability to specify your own list of CA certificates. (<a href="https://github.com/matrix-org/synapse/issues/4967">#4967</a>)</li>
<li>Remove presence list support as per MSC 1819. (<a href="https://github.com/matrix-org/synapse/issues/4989">#4989</a>)</li>
<li>Reduce CPU usage starting pushers during start up. (<a href="https://github.com/matrix-org/synapse/issues/4991">#4991</a>)</li>
<li>Add a delete group admin API. (<a href="https://github.com/matrix-org/synapse/issues/5002">#5002</a>)</li>
<li>Add config option to block users from looking up 3PIDs. (<a href="https://github.com/matrix-org/synapse/issues/5010">#5010</a>)</li>
<li>Add context to phonehome stats. (<a href="https://github.com/matrix-org/synapse/issues/5020">#5020</a>)</li>
<li>Configure the example systemd units to have a log identifier of <code>matrix-synapse</code>
instead of the executable name, <code>python</code>.
Contributed by Christoph Müller. (<a href="https://github.com/matrix-org/synapse/issues/5023">#5023</a>)</li>
<li>Add time-based account expiration. (<a href="https://github.com/matrix-org/synapse/issues/5027">#5027</a>, <a href="https://github.com/matrix-org/synapse/issues/5047">#5047</a>, <a href="https://github.com/matrix-org/synapse/issues/5073">#5073</a>, <a href="https://github.com/matrix-org/synapse/issues/5116">#5116</a>)</li>
<li>Add support for handling /versions, /voip and /push_rules client endpoints to client_reader worker. (<a href="https://github.com/matrix-org/synapse/issues/5063">#5063</a>, <a href="https://github.com/matrix-org/synapse/issues/5065">#5065</a>, <a href="https://github.com/matrix-org/synapse/issues/5070">#5070</a>)</li>
<li>Add an configuration option to require authentication on /publicRooms and /profile endpoints. (<a href="https://github.com/matrix-org/synapse/issues/5083">#5083</a>)</li>
<li>Move admin APIs to <code>/_synapse/admin/v1</code>. (The old paths are retained for backwards-compatibility, for now). (<a href="https://github.com/matrix-org/synapse/issues/5119">#5119</a>)</li>
<li>Implement an admin API for sending server notices. Many thanks to @krombel who provided a foundation for this work. (<a href="https://github.com/matrix-org/synapse/issues/5121">#5121</a>, <a href="https://github.com/matrix-org/synapse/issues/5142">#5142</a>)</li>
</ul>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Avoid redundant URL encoding of redirect URL for SSO login in the fallback login page. Fixes a regression introduced in <a href="https://github.com/matrix-org/synapse/pull/4220">#4220</a>. Contributed by Marcel Fabian Krüger (&quot;<a href="https://github.com/zauguin">zaugin</a>&quot;). (<a href="https://github.com/matrix-org/synapse/issues/4555">#4555</a>)</li>
<li>Fix bug where presence updates were sent to all servers in a room when a new server joined, rather than to just the new server. (<a href="https://github.com/matrix-org/synapse/issues/4942">#4942</a>, <a href="https://github.com/matrix-org/synapse/issues/5103">#5103</a>)</li>
<li>Fix sync bug which made accepting invites unreliable in worker-mode synapses. (<a href="https://github.com/matrix-org/synapse/issues/4955">#4955</a>, <a href="https://github.com/matrix-org/synapse/issues/4956">#4956</a>)</li>
<li>start.sh: Fix the --no-rate-limit option for messages and make it bypass rate limit on registration and login too. (<a href="https://github.com/matrix-org/synapse/issues/4981">#4981</a>)</li>
<li>Transfer related groups on room upgrade. (<a href="https://github.com/matrix-org/synapse/issues/4990">#4990</a>)</li>
<li>Prevent the ability to kick users from a room they aren't in. (<a href="https://github.com/matrix-org/synapse/issues/4999">#4999</a>)</li>
<li>Fix issue #4596 so synapse_port_db script works with --curses option on Python 3. Contributed by Anders Jensen-Waud <a href="mailto:anders@jensenwaud.com">anders@jensenwaud.com</a>. (<a href="https://github.com/matrix-org/synapse/issues/5003">#5003</a>)</li>
<li>Clients timing out/disappearing while downloading from the media repository will now no longer log a spurious &quot;Producer was not unregistered&quot; message. (<a href="https://github.com/matrix-org/synapse/issues/5009">#5009</a>)</li>
<li>Fix &quot;cannot import name execute_batch&quot; error with postgres. (<a href="https://github.com/matrix-org/synapse/issues/5032">#5032</a>)</li>
<li>Fix disappearing exceptions in manhole. (<a href="https://github.com/matrix-org/synapse/issues/5035">#5035</a>)</li>
<li>Workaround bug in twisted where attempting too many concurrent DNS requests could cause it to hang due to running out of file descriptors. (<a href="https://github.com/matrix-org/synapse/issues/5037">#5037</a>)</li>
<li>Make sure we're not registering the same 3pid twice on registration. (<a href="https://github.com/matrix-org/synapse/issues/5071">#5071</a>)</li>
<li>Don't crash on lack of expiry templates. (<a href="https://github.com/matrix-org/synapse/issues/5077">#5077</a>)</li>
<li>Fix the ratelimting on third party invites. (<a href="https://github.com/matrix-org/synapse/issues/5104">#5104</a>)</li>
<li>Add some missing limitations to room alias creation. (<a href="https://github.com/matrix-org/synapse/issues/5124">#5124</a>, <a href="https://github.com/matrix-org/synapse/issues/5128">#5128</a>)</li>
<li>Limit the number of EDUs in transactions to 100 as expected by synapse. Thanks to @superboum for this work! (<a href="https://github.com/matrix-org/synapse/issues/5138">#5138</a>)</li>
<li>Fix bogus imports in unit tests. (<a href="https://github.com/matrix-org/synapse/issues/5154">#5154</a>)</li>
</ul>
<h2 id="internal-changes">Internal Changes</h2>
<ul>
<li>Add test to verify threepid auth check added in #4435. (<a href="https://github.com/matrix-org/synapse/issues/4474">#4474</a>)</li>
<li>Fix/improve some docstrings in the replication code. (<a href="https://github.com/matrix-org/synapse/issues/4949">#4949</a>)</li>
<li>Split synapse.replication.tcp.streams into smaller files. (<a href="https://github.com/matrix-org/synapse/issues/4953">#4953</a>)</li>
<li>Refactor replication row generation/parsing. (<a href="https://github.com/matrix-org/synapse/issues/4954">#4954</a>)</li>
<li>Run <code>black</code> to clean up formatting on <code>synapse/storage/roommember.py</code> and <code>synapse/storage/events.py</code>. (<a href="https://github.com/matrix-org/synapse/issues/4959">#4959</a>)</li>
<li>Remove log line for password via the admin API. (<a href="https://github.com/matrix-org/synapse/issues/4965">#4965</a>)</li>
<li>Fix typo in TLS filenames in docker/README.md. Also add the '-p' commandline option to the 'docker run' example. Contributed by Jurrie Overgoor. (<a href="https://github.com/matrix-org/synapse/issues/4968">#4968</a>)</li>
<li>Refactor room version definitions. (<a href="https://github.com/matrix-org/synapse/issues/4969">#4969</a>)</li>
<li>Reduce log level of .well-known/matrix/client responses. (<a href="https://github.com/matrix-org/synapse/issues/4972">#4972</a>)</li>
<li>Add <code>config.signing_key_path</code> that can be read by <code>synapse.config</code> utility. (<a href="https://github.com/matrix-org/synapse/issues/4974">#4974</a>)</li>
<li>Track which identity server is used when binding a threepid and use that for unbinding, as per MSC1915. (<a href="https://github.com/matrix-org/synapse/issues/4982">#4982</a>)</li>
<li>Rewrite KeyringTestCase as a HomeserverTestCase. (<a href="https://github.com/matrix-org/synapse/issues/4985">#4985</a>)</li>
<li>README updates: Corrected the default POSTGRES_USER. Added port forwarding hint in TLS section. (<a href="https://github.com/matrix-org/synapse/issues/4987">#4987</a>)</li>
<li>Remove a number of unused tables from the database schema. (<a href="https://github.com/matrix-org/synapse/issues/4992">#4992</a>, <a href="https://github.com/matrix-org/synapse/issues/5028">#5028</a>, <a href="https://github.com/matrix-org/synapse/issues/5033">#5033</a>)</li>
<li>Run <code>black</code> on the remainder of <code>synapse/storage/</code>. (<a href="https://github.com/matrix-org/synapse/issues/4996">#4996</a>)</li>
<li>Fix grammar in get_current_users_in_room and give it a docstring. (<a href="https://github.com/matrix-org/synapse/issues/4998">#4998</a>)</li>
<li>Clean up some code in the server-key Keyring. (<a href="https://github.com/matrix-org/synapse/issues/5001">#5001</a>)</li>
<li>Convert SYNAPSE_NO_TLS Docker variable to boolean for user friendliness. Contributed by Gabriel Eckerson. (<a href="https://github.com/matrix-org/synapse/issues/5005">#5005</a>)</li>
<li>Refactor synapse.storage._base._simple_select_list_paginate. (<a href="https://github.com/matrix-org/synapse/issues/5007">#5007</a>)</li>
<li>Store the notary server name correctly in server_keys_json. (<a href="https://github.com/matrix-org/synapse/issues/5024">#5024</a>)</li>
<li>Rewrite Datastore.get_server_verify_keys to reduce the number of database transactions. (<a href="https://github.com/matrix-org/synapse/issues/5030">#5030</a>)</li>
<li>Remove extraneous period from copyright headers. (<a href="https://github.com/matrix-org/synapse/issues/5046">#5046</a>)</li>
<li>Update documentation for where to get Synapse packages. (<a href="https://github.com/matrix-org/synapse/issues/5067">#5067</a>)</li>
<li>Add workarounds for pep-517 install errors. (<a href="https://github.com/matrix-org/synapse/issues/5098">#5098</a>)</li>
<li>Improve logging when event-signature checks fail. (<a href="https://github.com/matrix-org/synapse/issues/5100">#5100</a>)</li>
<li>Factor out an &quot;assert_requester_is_admin&quot; function. (<a href="https://github.com/matrix-org/synapse/issues/5120">#5120</a>)</li>
<li>Remove the requirement to authenticate for /admin/server_version. (<a href="https://github.com/matrix-org/synapse/issues/5122">#5122</a>)</li>
<li>Prevent an exception from being raised in a IResolutionReceiver and use a more generic error message for blacklisted URL previews. (<a href="https://github.com/matrix-org/synapse/issues/5155">#5155</a>)</li>
<li>Run <code>black</code> on the tests directory. (<a href="https://github.com/matrix-org/synapse/issues/5170">#5170</a>)</li>
<li>Fix CI after new release of isort. (<a href="https://github.com/matrix-org/synapse/issues/5179">#5179</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;04&#x2F;08&#x2F;synapse-deprecating-postgres-9-4-and-python-2-x&#x2F;" title="Synapse: Deprecating Postgres 9.4 and Python 2.x">Synapse: Deprecating Postgres 9.4 and Python 2.x</a></h2>
                <span>
                    08.04.2019 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><strong>TL;DR DON'T PANIC - Synapse 1.0 will support Postgres 9.4 and Python 2.7</strong></p>
<p>Folks, this is an update to explain that we will be shortly deprecating Synapse support for Postgres 9.4 and Python 2.x.</p>
<h2 id="what-are-we-doing">What are we doing?</h2>
<p>From the dates described below, we will no longer guarantee support for deprecated versions. This means that Synapse <em>may </em>continue to work with these versions but we will not make any attempt to ensure compatibility and will remove old library versions from our CI.</p>
<h2 id="when-is-this-happening">When is this happening?</h2>
<p><strong>Synapse 1.0 will continue to support both technologies, but subsequent releases may not:-</strong></p>
<p>For Python, we shared that we would discontinue to Python 2.x support from<a href="/blog/2018/12/21/porting-synapse-to-python-3/"> April 1st 2019</a>, so for the first release that follows 1.0 we do not guarantee Python 2.x support.</p>
<p>For Postgres, will give server admins 6 weeks to upgrade to a newer version, and will guarantee support <strong>up until 20th May 2019.</strong></p>
<h2 id="why-would-you-do-this-to-us">Why would you do this to us?</h2>
<p>We have multiple reasons, but broadly:-</p>
<ul>
 	<li>We want to make use of new language features not supported in old versions. This will enable us to continue to improve the performance and maintainability of Synapse.</li>
 	<li>Python 2.x overall will be <a href="https://pythonclock.org/">end of life'd at the end of the year</a>. <a href="https://www.postgresql.org/support/versioning/">Postgres 9.4's final release</a> will follow 2 months later on 13th February 2020.</li>
 	<li>Since very few server admins still use these technologies on the wild, providing support is costly and we want to reduce our overall maintenance load.</li>
</ul>
<h2 id="la-la-la-i-am-ignoring-you-what-will-happen">La la la I am ignoring you - what will happen?</h2>
<p>You will be able to upgrade to Synapse 1.0, but will likely experience incompatibilities that prevent you upgrading further. Seriously, you really need to upgrade.</p>
<h2 id="okay-but-i-have-questions-where-should-i-go">Okay, but I have questions, where should I go?</h2>
<p>Come and say Hi in #synapse:matrix.org and we'll do our best to help you.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;04&#x2F;01&#x2F;synapse-0-99-3-released&#x2F;" title="Synapse 0.99.3 released!">Synapse 0.99.3 released!</a></h2>
                <span>
                    01.04.2019 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hey hey, a Synapse release for you today.</p>
<p>The big news in 0.99.3 is that the user directory has been completely re-written and should now be much more performant - this will benefit all installations, but especially those housing larger servers.</p>
<p>Aside from that we continue our 1.0 preparations and relatedly we've improved our docs, in particular to explain how .well-known works. On the perf side we've added rate limiting to login and register endpoints as well as now batching up read receipts to send over federation.</p>
<p>I've said it before, and I'll say it again:-</p>
<blockquote>
<p>The most important thing that admins should know is that prior to 1.0 landing later this month, <strong>it is essential that the federation API has a valid TLS certificate - self signed certificates will no longer be accepted.</strong> For more details see our <a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md">handy guide</a>. Failure to do this will result in being unable to federate with other 1.0 servers.</p>
</blockquote>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.99.3">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>. Also, check out our new <a href="/docs/guides/installing-synapse">Synapse installation guide page.</a></p>
<h2 id="synapse-0-99-3-changelog">Synapse 0.99.3 changelog</h2>
<h4 id="features">Features</h4>
<ul>
 	<li>The user directory has been rewritten to make it faster, with less chance of falling behind on a large server. (<a href="https://github.com/matrix-org/synapse/issues/4537">#4537</a>, <a href="https://github.com/matrix-org/synapse/issues/4846">#4846</a>, <a href="https://github.com/matrix-org/synapse/issues/4864">#4864</a>, <a href="https://github.com/matrix-org/synapse/issues/4887">#4887</a>, <a href="https://github.com/matrix-org/synapse/issues/4900">#4900</a>, <a href="https://github.com/matrix-org/synapse/issues/4944">#4944</a>)</li>
 	<li>Add configurable rate limiting to the /register endpoint. (<a href="https://github.com/matrix-org/synapse/issues/4735">#4735</a>, <a href="https://github.com/matrix-org/synapse/issues/4804">#4804</a>)</li>
 	<li>Move server key queries to federation reader. (<a href="https://github.com/matrix-org/synapse/issues/4757">#4757</a>)</li>
 	<li>Add support for /account/3pid REST endpoint to client_reader worker. (<a href="https://github.com/matrix-org/synapse/issues/4759">#4759</a>)</li>
 	<li>Add an endpoint to the admin API for querying the server version. Contributed by Joseph Weston. (<a href="https://github.com/matrix-org/synapse/issues/4772">#4772</a>)</li>
 	<li>Include a default configuration file in the 'docs' directory. (<a href="https://github.com/matrix-org/synapse/issues/4791">#4791</a>, <a href="https://github.com/matrix-org/synapse/issues/4801">#4801</a>)</li>
 	<li>Synapse is now permissive about trailing slashes on some of its federation endpoints, allowing zero or more to be present. (<a href="https://github.com/matrix-org/synapse/issues/4793">#4793</a>)</li>
 	<li>Add support for /keys/query and /keys/changes REST endpoints to client_reader worker. (<a href="https://github.com/matrix-org/synapse/issues/4796">#4796</a>)</li>
 	<li>Add checks to incoming events over federation for events evading auth (aka "soft fail"). (<a href="https://github.com/matrix-org/synapse/issues/4814">#4814</a>)</li>
 	<li>Add configurable rate limiting to the /login endpoint. (<a href="https://github.com/matrix-org/synapse/issues/4821">#4821</a>, <a href="https://github.com/matrix-org/synapse/issues/4865">#4865</a>)</li>
 	<li>Remove trailing slashes from certain outbound federation requests. Retry if receiving a 404. Context: #3622. (<a href="https://github.com/matrix-org/synapse/issues/4840">#4840</a>)</li>
 	<li>Allow passing --daemonize flags to workers in the same way as with master. (<a href="https://github.com/matrix-org/synapse/issues/4853">#4853</a>)</li>
 	<li>Batch up outgoing read-receipts to reduce federation traffic. (<a href="https://github.com/matrix-org/synapse/issues/4890">#4890</a>, <a href="https://github.com/matrix-org/synapse/issues/4927">#4927</a>)</li>
 	<li>Add option to disable searching the user directory. (<a href="https://github.com/matrix-org/synapse/issues/4895">#4895</a>)</li>
 	<li>Add option to disable searching of local and remote public room lists. (<a href="https://github.com/matrix-org/synapse/issues/4896">#4896</a>)</li>
 	<li>Add ability for password providers to login/register a user via 3PID (email, phone). (<a href="https://github.com/matrix-org/synapse/issues/4931">#4931</a>)</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
 	<li>Fix a bug where media with spaces in the name would get a corrupted name. (<a href="https://github.com/matrix-org/synapse/issues/2090">#2090</a>)</li>
 	<li>Fix attempting to paginate in rooms where server cannot see any events, to avoid unnecessarily pulling in lots of redacted events. (<a href="https://github.com/matrix-org/synapse/issues/4699">#4699</a>)</li>
 	<li>'event_id' is now a required parameter in federated state requests, as per the matrix spec. (<a href="https://github.com/matrix-org/synapse/issues/4740">#4740</a>)</li>
 	<li>Fix tightloop over connecting to replication server. (<a href="https://github.com/matrix-org/synapse/issues/4749">#4749</a>)</li>
 	<li>Fix parsing of Content-Disposition headers on remote media requests and URL previews. (<a href="https://github.com/matrix-org/synapse/issues/4763">#4763</a>)</li>
 	<li>Fix incorrect log about not persisting duplicate state event. (<a href="https://github.com/matrix-org/synapse/issues/4776">#4776</a>)</li>
 	<li>Fix v4v6 option in HAProxy example config. Contributed by Flakebi. (<a href="https://github.com/matrix-org/synapse/issues/4790">#4790</a>)</li>
 	<li>Handle batch updates in worker replication protocol. (<a href="https://github.com/matrix-org/synapse/issues/4792">#4792</a>)</li>
 	<li>Fix bug where we didn't correctly throttle sending of USER_IP commands over replication. (<a href="https://github.com/matrix-org/synapse/issues/4818">#4818</a>)</li>
 	<li>Fix potential race in handling missing updates in device list updates. (<a href="https://github.com/matrix-org/synapse/issues/4829">#4829</a>)</li>
 	<li>Fix bug where synapse expected an un-specced <code>prev_state</code> field on state events. (<a href="https://github.com/matrix-org/synapse/issues/4837">#4837</a>)</li>
 	<li>Transfer a user's notification settings (push rules) on room upgrade. (<a href="https://github.com/matrix-org/synapse/issues/4838">#4838</a>)</li>
 	<li>fix test_auto_create_auto_join_where_no_consent. (<a href="https://github.com/matrix-org/synapse/issues/4886">#4886</a>)</li>
 	<li>Fix a bug where hs_disabled_message was sometimes not correctly enforced. (<a href="https://github.com/matrix-org/synapse/issues/4888">#4888</a>)</li>
 	<li>Fix bug in shutdown room admin API where it would fail if a user in the room hadn't consented to the privacy policy. (<a href="https://github.com/matrix-org/synapse/issues/4904">#4904</a>)</li>
 	<li>Fix bug where blocked world-readable rooms were still peekable. (<a href="https://github.com/matrix-org/synapse/issues/4908">#4908</a>)</li>
</ul>
<h4 id="internal-changes">Internal Changes</h4>
<ul>
 	<li>Add a systemd setup that supports synapse workers. Contributed by Luca Corbatto. (<a href="https://github.com/matrix-org/synapse/issues/4662">#4662</a>)</li>
 	<li>Change from TravisCI to Buildkite for CI. (<a href="https://github.com/matrix-org/synapse/issues/4752">#4752</a>)</li>
 	<li>When presence is disabled don't send over replication. (<a href="https://github.com/matrix-org/synapse/issues/4757">#4757</a>)</li>
 	<li>Minor docstring fixes for MatrixFederationAgent. (<a href="https://github.com/matrix-org/synapse/issues/4765">#4765</a>)</li>
 	<li>Optimise EDU transmission for the federation_sender worker. (<a href="https://github.com/matrix-org/synapse/issues/4770">#4770</a>)</li>
 	<li>Update test_typing to use HomeserverTestCase. (<a href="https://github.com/matrix-org/synapse/issues/4771">#4771</a>)</li>
 	<li>Update URLs for riot.im icons and logos in the default notification templates. (<a href="https://github.com/matrix-org/synapse/issues/4779">#4779</a>)</li>
 	<li>Removed unnecessary $ from some federation endpoint path regexes. (<a href="https://github.com/matrix-org/synapse/issues/4794">#4794</a>)</li>
 	<li>Remove link to deleted title in README. (<a href="https://github.com/matrix-org/synapse/issues/4795">#4795</a>)</li>
 	<li>Clean up read-receipt handling. (<a href="https://github.com/matrix-org/synapse/issues/4797">#4797</a>)</li>
 	<li>Add some debug about processing read receipts. (<a href="https://github.com/matrix-org/synapse/issues/4798">#4798</a>)</li>
 	<li>Clean up some replication code. (<a href="https://github.com/matrix-org/synapse/issues/4799">#4799</a>)</li>
 	<li>Add some docstrings. (<a href="https://github.com/matrix-org/synapse/issues/4815">#4815</a>)</li>
 	<li>Add debug logger to try and track down #4422. (<a href="https://github.com/matrix-org/synapse/issues/4816">#4816</a>)</li>
 	<li>Make shutdown API send explanation message to room after users have been forced joined. (<a href="https://github.com/matrix-org/synapse/issues/4817">#4817</a>)</li>
 	<li>Update example_log_config.yaml. (<a href="https://github.com/matrix-org/synapse/issues/4820">#4820</a>)</li>
 	<li>Document the <code>generate</code> option for the docker image. (<a href="https://github.com/matrix-org/synapse/issues/4824">#4824</a>)</li>
 	<li>Fix check-newsfragment for debian-only changes. (<a href="https://github.com/matrix-org/synapse/issues/4825">#4825</a>)</li>
 	<li>Add some debug logging for device list updates to help with #4828. (<a href="https://github.com/matrix-org/synapse/issues/4828">#4828</a>)</li>
 	<li>Improve federation documentation, specifically .well-known support. Many thanks to @vaab. (<a href="https://github.com/matrix-org/synapse/issues/4832">#4832</a>)</li>
 	<li>Disable captcha registration by default in unit tests. (<a href="https://github.com/matrix-org/synapse/issues/4839">#4839</a>)</li>
 	<li>Add stuff back to the .gitignore. (<a href="https://github.com/matrix-org/synapse/issues/4843">#4843</a>)</li>
 	<li>Clarify what registration_shared_secret allows for. (<a href="https://github.com/matrix-org/synapse/issues/4844">#4844</a>)</li>
 	<li>Correctly log expected errors when fetching server keys. (<a href="https://github.com/matrix-org/synapse/issues/4847">#4847</a>)</li>
 	<li>Update install docs to explicitly state a full-chain (not just the top-level) TLS certificate must be provided to Synapse. This caused some people's Synapse ports to appear correct in a browser but still (rightfully so) upset the federation tester. (<a href="https://github.com/matrix-org/synapse/issues/4849">#4849</a>)</li>
 	<li>Move client read-receipt processing to federation sender worker. (<a href="https://github.com/matrix-org/synapse/issues/4852">#4852</a>)</li>
 	<li>Refactor federation TransactionQueue. (<a href="https://github.com/matrix-org/synapse/issues/4855">#4855</a>)</li>
 	<li>Comment out most options in the generated config. (<a href="https://github.com/matrix-org/synapse/issues/4863">#4863</a>)</li>
 	<li>Fix yaml library warnings by using safe_load. (<a href="https://github.com/matrix-org/synapse/issues/4869">#4869</a>)</li>
 	<li>Update Apache setup to remove location syntax. Thanks to @cwmke! (<a href="https://github.com/matrix-org/synapse/issues/4870">#4870</a>)</li>
 	<li>Reinstate test case that runs unit tests against oldest supported dependencies. (<a href="https://github.com/matrix-org/synapse/issues/4879">#4879</a>)</li>
 	<li>Update link to federation docs. (<a href="https://github.com/matrix-org/synapse/issues/4881">#4881</a>)</li>
 	<li>fix test_auto_create_auto_join_where_no_consent. (<a href="https://github.com/matrix-org/synapse/issues/4886">#4886</a>)</li>
 	<li>Use a regular HomeServerConfig object for unit tests rater than a Mock. (<a href="https://github.com/matrix-org/synapse/issues/4889">#4889</a>)</li>
 	<li>Add some notes about tuning postgres for larger deployments. (<a href="https://github.com/matrix-org/synapse/issues/4895">#4895</a>)</li>
 	<li>Add a config option for torture-testing worker replication. (<a href="https://github.com/matrix-org/synapse/issues/4902">#4902</a>)</li>
 	<li>Log requests which are simulated by the unit tests. (<a href="https://github.com/matrix-org/synapse/issues/4905">#4905</a>)</li>
 	<li>Allow newsfragments to end with exclamation marks. Exciting! (<a href="https://github.com/matrix-org/synapse/issues/4912">#4912</a>)</li>
 	<li>Refactor some more tests to use HomeserverTestCase. (<a href="https://github.com/matrix-org/synapse/issues/4913">#4913</a>)</li>
 	<li>Refactor out the state deltas portion of the user directory store and handler. (<a href="https://github.com/matrix-org/synapse/issues/4917">#4917</a>)</li>
 	<li>Fix nginx example in ACME doc. (<a href="https://github.com/matrix-org/synapse/issues/4923">#4923</a>)</li>
 	<li>Use an explicit dbname for postgres connections in the tests. (<a href="https://github.com/matrix-org/synapse/issues/4928">#4928</a>)</li>
 	<li>Fix <code>ClientReplicationStreamProtocol.__str__()</code>. (<a href="https://github.com/matrix-org/synapse/issues/4929">#4929</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;03&#x2F;15&#x2F;matrix-1-0-https-arewereadyyet-com&#x2F;" title="Matrix 1.0  - Are We Ready Yet?">Matrix 1.0  - Are We Ready Yet?</a></h2>
                <span>
                    15.03.2019 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>TL;DR </p>
<ul>
 	<li style="font-weight: 400;">If you run a Synapse ensure that your federation certificates are valid <a href="/federationtester/">here</a>. 
</li>
 	<li style="font-weight: 400;">If they are not valid check out the <a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md">FAQ</a>.
</li>
 	<li style="font-weight: 400;">Follow along with progress at <a href="https://arewereadyyet.com">https://arewereadyyet.com</a></li>
 	<li style="font-weight: 400;">Tell all your admin friends.
</li>
</ul>
Folks, as you know we are now very close to achieving Matrix 1.0 and finally being in a position to shed our ‘beta' tag. It has been a long time coming and speaks to the huge effort from hundreds of people over the past 5 years.
<p>A critical step towards this goal is the release of Synapse 1.0. We want to ship Synapse 1.0 as soon as possible but can't do so without your help! </p>
<p>We'd like to introduce <a href="http://arewereadyyet.com/"> AreWeReadyYet.com</a> - a quick and easy way for everyone to track the progress and check if their federation is ready for Matrix 1.0!!</p>
<p style="text-align: center;"><a href="https://www.arewereadyyet.com/"><img class="alignnone wp-image-4110 size-medium" src="/blog/wp-content/uploads/2019/03/Screenshot-2019-03-15-at-10.05.19-300x214.png" alt="Are we ready yet?" width="300" height="214" /></a></p>
Synapse 1.0 is good news for anyone running a Synapse installation - it contains critical bug fixes, security patches, a new room algorithm version and dramatically improved user and room search. However, as part of the security work it also 
<b>contains a breaking change from previous Synapse versions. From 1.0 onwards it will necessary to ensure a valid TLS certificate on the federation API. Self signed certificates will no longer be accepted</b>. <a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md#it-used-to-work-just-fine-why-are-you-breaking-everything">Why would we do such a thing?</a>
<p>In anticipation for this, everyone currently running a homeserver must ensure that they have checked their federation certificate (check yours <a href="/federationtester/">here</a>). Failure to do so will mean being unable to federate with any Matrix 1.0 compliant server. If your server fails the check, our <a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md">FAQ</a> has all the details on what you need to do. </p>
<p>This post is a call to arms to try and get as many admins to upgrade their certificates as possible. We are tracking adoption at <a href="https://arewereadyyet.com">https://arewereadyyet.com</a> - currently this sits at about 55% - we need this figure to be higher before we can pull the lever.  </p>
<p>So what are you waiting for? Check that your server has valid certs - then tell all your admin pals to do the same. 
<b>Friends don't let friends miss out on Synapse 1.0, send them to</b><a href="http://arewereadyyet.com/"><b> arewereadyyet.com</b></a><b> (or tweet </b><a href="https://twitter.com/intent/tweet?text=Are%20you%20running%20a%20Matrix%20server%3F%20Are%20you%20ready%20for%20Matrix%201.0%3F%20Find%20out%20at%20https%3A%2F%2Farewereadyyet.com!"><b>here</b></a><b> to remind them!)</b> We really need the community to help us here because at some point soon, we will need to pull the lever and release.</p>
<p>Once we make more progress on adoption, we will announce an official release date and finally get Synapse out of beta!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;03&#x2F;04&#x2F;synapse-0-99-2-released&#x2F;" title="Synapse 0.99.2 released!">Synapse 0.99.2 released!</a></h2>
                <span>
                    04.03.2019 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Well now, what have we here? Synapse 0.99.2 is the latest in the 0.99.x series as we step ever closer to 1.0.</p>
<p>0.99.2 is an incremental release including a bunch of performance improvements, enhancements to room upgrades and generally a plethora of bug fixes.</p>
<p>The most important thing that admins should know is that prior to 1.0 landing later this month, <strong>it is essential that the federation API has a valid TLS certificate - self signed certificates will no longer be accepted.</strong> For more details see our <a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md">handy guide</a>. Failure to do this will result in being unable to federate with other 1.0 servers.</p>
<p>As ever, you can get the new update <a href="https://github.com/matrix-org/synapse/releases/tag/v0.99.2">here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, Synapse is now available from PyPI, pick it up <a href="https://pypi.org/project/matrix-synapse/">here</a>. Also, check out our new <a href="/docs/guides/installing-synapse">Synapse installation guide page.</a></p>
<h2 id="synapse-0-99-2-changelog">Synapse 0.99.2 changelog</h2>
<h3 id="features">Features</h3>
<ul>
 	<li>Added an HAProxy example in the reverse proxy documentation. Contributed by Benoît S. (“Benpro”). (<a href="https://github.com/matrix-org/synapse/issues/4541" data-hovercard-type="issue" data-hovercard-url="/matrix-org/synapse/issues/4541/hovercard">#4541</a>)</li>
 	<li>Add basic optional sentry integration. (<a href="https://github.com/matrix-org/synapse/issues/4632" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4632/hovercard">#4632</a>, <a href="https://github.com/matrix-org/synapse/issues/4694" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4694/hovercard">#4694</a>)</li>
 	<li>Transfer bans on room upgrade. (<a href="https://github.com/matrix-org/synapse/issues/4642" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4642/hovercard">#4642</a>)</li>
 	<li>Add configurable room list publishing rules. (<a href="https://github.com/matrix-org/synapse/issues/4647" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4647/hovercard">#4647</a>)</li>
 	<li>Support .well-known delegation when issuing certificates through ACME. (<a href="https://github.com/matrix-org/synapse/issues/4652" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4652/hovercard">#4652</a>)</li>
 	<li>Allow registration and login to be handled by a worker instance. (<a href="https://github.com/matrix-org/synapse/issues/4666" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4666/hovercard">#4666</a>, <a href="https://github.com/matrix-org/synapse/issues/4670" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4670/hovercard">#4670</a>, <a href="https://github.com/matrix-org/synapse/issues/4682" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4682/hovercard">#4682</a>)</li>
 	<li>Reduce the overhead of creating outbound federation connections over TLS by caching the TLS client options. (<a href="https://github.com/matrix-org/synapse/issues/4674" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4674/hovercard">#4674</a>)</li>
 	<li>Add prometheus metrics for number of outgoing EDUs, by type. (<a href="https://github.com/matrix-org/synapse/issues/4695" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4695/hovercard">#4695</a>)</li>
 	<li>Return correct error code when inviting a remote user to a room whose homeserver does not support the room version. (<a href="https://github.com/matrix-org/synapse/issues/4721" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4721/hovercard">#4721</a>)</li>
 	<li>Prevent showing rooms to other servers that were set to not federate. (<a href="https://github.com/matrix-org/synapse/issues/4746" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4746/hovercard">#4746</a>)</li>
</ul>
<h3 id="bugfixes">Bugfixes</h3>
<ul>
 	<li>Fix possible exception when paginating. (<a href="https://github.com/matrix-org/synapse/issues/4263" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4263/hovercard">#4263</a>)</li>
 	<li>The dependency checker now correctly reports a version mismatch for optional
dependencies, instead of reporting the dependency missing. (<a href="https://github.com/matrix-org/synapse/issues/4450" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4450/hovercard">#4450</a>)</li>
 	<li>Set CORS headers on .well-known requests. (<a href="https://github.com/matrix-org/synapse/issues/4651" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4651/hovercard">#4651</a>)</li>
 	<li>Fix kicking guest users on guest access revocation in worker mode. (<a href="https://github.com/matrix-org/synapse/issues/4667" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4667/hovercard">#4667</a>)</li>
 	<li>Fix an issue in the database migration script where the
<code>e2e_room_keys.is_verified</code> column wasn't considered as
a boolean. (<a href="https://github.com/matrix-org/synapse/issues/4680" data-hovercard-type="issue" data-hovercard-url="/matrix-org/synapse/issues/4680/hovercard">#4680</a>)</li>
 	<li>Fix TaskStopped exceptions in logs when outbound requests time out. (<a href="https://github.com/matrix-org/synapse/issues/4690" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4690/hovercard">#4690</a>)</li>
 	<li>Fix ACME config for python 2. (<a href="https://github.com/matrix-org/synapse/issues/4717" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4717/hovercard">#4717</a>)</li>
 	<li>Fix paginating over federation persisting incorrect state. (<a href="https://github.com/matrix-org/synapse/issues/4718" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4718/hovercard">#4718</a>)</li>
</ul>
<h3 id="internal-changes">Internal Changes</h3>
<ul>
 	<li>Run <code>black</code> to reformat user directory code. (<a href="https://github.com/matrix-org/synapse/issues/4635" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4635/hovercard">#4635</a>)</li>
 	<li>Reduce number of exceptions we log. (<a href="https://github.com/matrix-org/synapse/issues/4643" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4643/hovercard">#4643</a>, <a href="https://github.com/matrix-org/synapse/issues/4668" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4668/hovercard">#4668</a>)</li>
 	<li>Introduce upsert batching functionality in the database layer. (<a href="https://github.com/matrix-org/synapse/issues/4644" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4644/hovercard">#4644</a>)</li>
 	<li>Fix various spelling mistakes. (<a href="https://github.com/matrix-org/synapse/issues/4657" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4657/hovercard">#4657</a>)</li>
 	<li>Cleanup request exception logging. (<a href="https://github.com/matrix-org/synapse/issues/4669" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4669/hovercard">#4669</a>, <a href="https://github.com/matrix-org/synapse/issues/4737" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4737/hovercard">#4737</a>, <a href="https://github.com/matrix-org/synapse/issues/4738" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4738/hovercard">#4738</a>)</li>
 	<li>Improve replication performance by reducing cache invalidation traffic. (<a href="https://github.com/matrix-org/synapse/issues/4671" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4671/hovercard">#4671</a>, <a href="https://github.com/matrix-org/synapse/issues/4715" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4715/hovercard">#4715</a>, <a href="https://github.com/matrix-org/synapse/issues/4748" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4748/hovercard">#4748</a>)</li>
 	<li>Test against Postgres 9.5 as well as 9.4. (<a href="https://github.com/matrix-org/synapse/issues/4676" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4676/hovercard">#4676</a>)</li>
 	<li>Run unit tests against python 3.7. (<a href="https://github.com/matrix-org/synapse/issues/4677" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4677/hovercard">#4677</a>)</li>
 	<li>Attempt to clarify installation instructions/config. (<a href="https://github.com/matrix-org/synapse/issues/4681" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4681/hovercard">#4681</a>)</li>
 	<li>Clean up gitignores. (<a href="https://github.com/matrix-org/synapse/issues/4688" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4688/hovercard">#4688</a>)</li>
 	<li>Minor tweaks to acme docs. (<a href="https://github.com/matrix-org/synapse/issues/4689" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4689/hovercard">#4689</a>)</li>
 	<li>Improve the logging in the pusher process. (<a href="https://github.com/matrix-org/synapse/issues/4691" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4691/hovercard">#4691</a>)</li>
 	<li>Better checks on newsfragments. (<a href="https://github.com/matrix-org/synapse/issues/4698" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4698/hovercard">#4698</a>, <a href="https://github.com/matrix-org/synapse/issues/4750" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4750/hovercard">#4750</a>)</li>
 	<li>Avoid some redundant work when processing read receipts. (<a href="https://github.com/matrix-org/synapse/issues/4706" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4706/hovercard">#4706</a>)</li>
 	<li>Run <code>push_receipts_to_remotes</code> as background job. (<a href="https://github.com/matrix-org/synapse/issues/4707" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4707/hovercard">#4707</a>)</li>
 	<li>Add prometheus metrics for number of badge update pushes. (<a href="https://github.com/matrix-org/synapse/issues/4709" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4709/hovercard">#4709</a>)</li>
 	<li>Reduce pusher logging on startup (<a href="https://github.com/matrix-org/synapse/issues/4716" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4716/hovercard">#4716</a>)</li>
 	<li>Don't log exceptions when failing to fetch remote server keys. (<a href="https://github.com/matrix-org/synapse/issues/4722" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4722/hovercard">#4722</a>)</li>
 	<li>Correctly proxy exception in frontend_proxy worker. (<a href="https://github.com/matrix-org/synapse/issues/4723" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4723/hovercard">#4723</a>)</li>
 	<li>Add database version to phonehome stats. (<a href="https://github.com/matrix-org/synapse/issues/4753" data-hovercard-type="pull_request" data-hovercard-url="/matrix-org/synapse/pull/4753/hovercard">#4753</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;03&#x2F;01&#x2F;this-week-in-matrix-2019-03-01&#x2F;" title="This Week in Matrix 2019-03-01">This Week in Matrix 2019-03-01</a></h2>
                <span>
                    01.03.2019 00:00
                    —
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>No Ben this week, <em>apparently</em> he is allowed to go on holiday from time to time. Also no Matrix Live because we are terrible people - bring back Ben, that's what I say.</p>
<h2 id="quaternion">Quaternion</h2>
<p><a href="https://matrix.to/#/@kitsune:matrix.org" rel="nofollow">kitsune</a>:</p>
<blockquote>
<p><a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> (master branch, and upcoming v0.0.9.4) can now open rooms by their aliases or ids upon pressing Ctrl+O, as long as those rooms are already in your room list (opening arbitrary public rooms will come in later versions). You can even paste matrix.to URIs for users (will open direct chat) and rooms in the same dialog. Navigation to known rooms inside Quaternion also works.</p>
<p>libQMatrixClient 0.5 is out - with members lazy-loading, room versions and upgrades and much more: <a class="linkified" href="https://github.com/QMatrixClient/libqmatrixclient/releases/tag/0.5.0" target="_blank" rel="noopener">https://github.com/QMatrixClient/libqmatrixclient/releases/tag/0.5.0</a></p>
</blockquote>
<p>Which is, err, pretty amazing actually. As far as I know this is the <span class="mx_EventTile_body" dir="auto">only independent SDK supporting lazy loading and room upgrades. Congratulations.</span></p>
<h2 id="weechat-matrix">weechat-matrix</h2>
<p><a href="https://matrix.to/#/@poljar:matrix.org">Poljar</a> has been hard at work on <a href="/docs/projects/client/weechat.html">weechat-matrix</a></p>
<p>Matthew reports:-</p>
<blockquote>
<p>weechat-matrix's e2e support is really impressive (via matrix-nio and python-olm). It can only read rather than send right now, but otherwise looks to be massively on the right track. It even does fingerprint-based verification!</p>
</blockquote>
<p><a href="https://github.com/benparsons/matrix-notes/blob/master/twim/weechat-matrix.png" target="_blank" rel="noopener noreferrer"><img src="https://github.com/benparsons/matrix-notes/raw/master/twim/weechat-matrix.png" alt="" /></a></p>
<h2 id="synapse">Synapse</h2>
<p>We shipped <a href="https://github.com/matrix-org/synapse/releases/tag/v0.99.2">0.99.2</a> this week, it's a point release containing all the usual bug fixes and perf improvements. We have also been taking a look at our docs and trying to improve where we can.</p>
<p>Hawkowl has spent some time improving CI so that we don't get queued up for hours waiting for builds (woo).</p>
<p>Admins - your weekly reminder that if you've not already done so, <strong>you must ensure the TLS certificate on your federation endpoints is no longer self signed</strong> - <a href="https://github.com/matrix-org/synapse/blob/v0.99.2/docs/MSC1711_certificates_FAQ.md">see our handy guide for all the details</a>.</p>
<h2 id="matrix-puppet-bridge">matrix-puppet-bridge</h2>
<p><a href="https://matrix.to/#/@root:thomasprofitt.com" rel="nofollow">tom</a>:</p>
<blockquote>
<p><a href="https://github.com/matrix-hacks/matrix-puppet-bridge/releases">matrix-puppet-bridge v1.17.0</a> has been released! This release:</p>
</blockquote>
<blockquote>
<ul>
 	<li>Handles m.notice messages sent from Matrix as text, instead of ignoring them (thanks go to <a href="https://matrix.to/#/@cdknight1:matrix.org" rel="nofollow">https://matrix.to/#/@cdknight1:matrix.org</a> !)</li>
 	<li>Sets rooms invite-only when they're touched, instead of relying on others not knowing the room ID (thanks to <a href="https://matrix.to/#/@AndrewJDR:matrix.org" rel="nofollow">https://matrix.to/#/@AndrewJDR:matrix.org</a> , from all of us who federate on the homeservers we use to bridge!)</li>
</ul>
</blockquote>
<blockquote>
<p>Matrix rooms representing remote rooms being joinable by anyone who knows the room ID (which is generated, at least in part, from the remote room ID in all the matrix-puppet-bridge applications) was a big deficiency, and it's finally resolved. It wasn't known whether or not we could do this, and have our ghost users still be able to join the rooms (they need to be invited instead of just joining themselves), until it was attempted and tested in a few of the bridge applications.<br />Because it <em>is</em> a big deal, new minor versions of <a href="https://github.com/matrix-hacks/matrix-puppet-slack/releases">matrix-puppet-slack</a>, <a href="https://github.com/matrix-hacks/matrix-puppet-facebook/releases">matrix-puppet-facebook</a>, <a href="https://github.com/matrix-hacks/matrix-puppet-hangouts/releases">matrix-puppet-hangouts</a>, <a href="https://github.com/matrix-hacks/matrix-puppet-signal">matrix-puppet-signal</a>, <a href="https://github.com/matrix-hacks/matrix-puppet-imessage">matrix-puppet-imessage</a> and <a href="https://github.com/matrix-hacks/matrix-puppet-groupme/releases/tag/v1.1.0">matrix-puppet-groupme</a>, bumping the matrix-puppet-bridge version to 1.17.0, have been released.</p>
</blockquote>
<h2 id="riot-ios">Riot iOS</h2>
<blockquote>
<ul>
 	<li style="font-weight: 400;">Support .well-known data from login response
</li>
 	<li style="font-weight: 400;">Create right permalinks for room v3
</li>
 	<li style="font-weight: 400;">Fix builder to Xcode 10.1 in order to still be able to release
</li>
 	<li style="font-weight: 400;">Update swift version. Add swiftLint
</li>
</ul>
</blockquote>
<h2 id="matrix-media-repo">matrix-media-repo</h2>
<p><a href="https://github.com/turt2live">TravisR</a> reports that:</p>
<blockquote>
<p><a href="https://github.com/turt2live/matrix-media-repo">matrix-media-repo</a> has alpha-quality support for s3 (and s3-like services) on the travis/s3 branch. Intrepid testers are encouraged to give it a shot, and report bugs. Caution: may upload your cat.</p>
</blockquote>
<h2 id="scylla">Scylla</h2>
<p>It's been a little while since we saw any news about <a href="https://github.com/DanilaFe/Scylla">Scylla</a>, a web-based client written in Elm. <a href="https://matrix.to/#/@daniel:riot.danilafe.com" rel="nofollow">VaNilLa</a> said:</p>
<blockquote>
<p>Scylla, the Elm-based Matrix client, has received a few improvements. Included in this update:</p>
<ul>
 	<li>Files that are uploaded now keep their original name (as opposed to being called File)</li>
 	<li>Sent messages are displayed right away, instead of when they are delivered to the server</li>
 	<li>Usernames are only shown once per several consecutive messages, to avoid clutter Some CSS changes have been made to keep the interface looking clean</li>
</ul>
Almost forgot! You can find <a href="https://github.com/DanilaFe/Scylla">Scylla's source code here</a> and a <a href="http://scylla.danilafe.com/" rel="nofollow">live instance here</a>!
</blockquote>
<p><a href="https://github.com/benparsons/matrix-notes/blob/master/twim/Scylla.png" target="_blank" rel="noopener noreferrer"><img src="https://github.com/benparsons/matrix-notes/raw/master/twim/Scylla.png" alt="" /></a></p>
<h2 id="riot-android">Riot Android</h2>
<blockquote>
<ul>
 	<li style="font-weight: 400;">Implementation of .well-known support (SDK and Riot)
</li>
 	<li style="font-weight: 400;">Minor change on some colors of the themes (link, home badges)
</li>
 	<li style="font-weight: 400;">Many issue will be fixed regarding linkification
</li>
 	<li style="font-weight: 400;">KeysBackup: improvement on recovery process: importing keys step is 8 times faster, and user get more feedback during the process which can take several seconds
</li>
 	<li style="font-weight: 400;">We will prepare a new release for the beginning of next week.
</li>
 	<li style="font-weight: 400;">PlayStore new descriptions have been updated for the following languages: Bulgarian, German, English (US), French, Hungarian, Russian and Chinese (Taiwan).
</li>
</ul>
</blockquote>
<h3 id="riotx-android">RiotX (Android)</h3>
<blockquote>
<ul>
<li>Timeline:
<ul>
<li>HTML formatting </li>
<li>Implementation of pills (need optimization)</li>
</ul>
</li>
<li>Many Github issues have been created to track parity with the Riot Android</li>
</ul>
</blockquote>
<h2 id="riotic-new-fork-with-updates">Riotic: new fork with updates</h2>
<p><a href="https://matrix.to/#/@aaron:raim.ist" rel="nofollow">Aaron Raimist</a> has made some updates to Riotic, which was a good chance for me to revisit it. It works nicely and is a great alternative to the Electron version of Riot. I also like being able to use <a href="https://riot.im/develop" rel="nofollow">https://riot.im/develop</a> as an app.</p>
<blockquote>
<p>I've slightly tweaked Joakim Ahlen's Riot wrapper for macOS, riotic, which uses the native WKWebView instead of Electron. I updated the app to be sandboxed so it has very limited access to your system. I also updated the interface to follow macOS conventions and updated it to use the latest version of Swift.</p>
<p>riotic does have some limitations though. Riot doesn't support VoIP on Safari so riotic can't support VoIP either and WKWebView doesn't support notifications as far as I can tell. Right now it uses a really old Riot icon, maybe I'll ask about using one of these community made icons <a href="https://github.com/vector-im/riot-web/pull/4474">https://github.com/vector-im/riot-web/pull/4474</a>.</p>
<p>It does have some advantages over the official Riot Electron app though. The app is only ~12 MB compared to Riot which is ~180 MB, it also uses significantly less RAM. riotic also allows you to pick what Riot URL to use so you can run /develop as a desktop app.</p>
<p>You can download riotic from <a href="https://github.com/aaronraimist/riotic/releases/tag/v1.1">https://github.com/aaronraimist/riotic/releases/tag/v1.1</a>.</p>
</blockquote>
<p><a href="https://github.com/benparsons/matrix-notes/blob/master/twim/riotic1.png" target="_blank" rel="noopener noreferrer"><img src="https://github.com/benparsons/matrix-notes/raw/master/twim/riotic1.png" alt="" /></a><a href="https://github.com/benparsons/matrix-notes/blob/master/twim/riotic2.png" target="_blank" rel="noopener noreferrer"><img src="https://github.com/benparsons/matrix-notes/raw/master/twim/riotic2.png" alt="" /></a> <a href="https://github.com/benparsons/matrix-notes/blob/master/twim/riotic3.png" target="_blank" rel="noopener noreferrer"><img src="https://github.com/benparsons/matrix-notes/raw/master/twim/riotic3.png" alt="" /></a></p>
<h2 id="synapse-netcore-workers">synapse-netcore-workers</h2>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk" rel="nofollow">Half-Shot</a> has been working on <a href="https://github.com/turt2live/synapse-netcore-workers">synapse-netcore-workers</a>:</p>
<blockquote>
<p>The synapse-netcore-worker project has continued to evolve. You can now federate with other servers using the federation sender implementation. It supports everything except device lists at the moment, so it supports PDUs/EDUs and can just be connected up to one of your existing synapse instances. It's not been battletested enough yet to be put in production (hence no dockerfile), but it's very fast.<br />Oh and for those of you who don't know, &quot;synapse-netcore-worker&quot; is Travis's .NET implementation of synapse workers, the room can be found at <a href="https://matrix.to/#/#synapse-netcore-workers:t2bot.io" rel="nofollow">#synapse-netcore-workers:t2bot.io</a>.</p>
</blockquote>
<p>If you're as uninitiated as I was three days ago, this project is a replaceable worker component for Synapse, which just happens to be written in .NET.</p>
<p>But wait, there's more! <a href="https://matrix.to/#/@Half-Shot:half-shot.uk" rel="nofollow">Half-Shot</a> continues with</p>
<blockquote>
<p>To give an update to the earlier exploits of synapse-netcore-worker's federation sender, we've still got a few more things to iron out before we can suggest people use it actively. The hit list of remaining things to fix is in <a class="linkified" href="https://github.com/turt2live/synapse-netcore-workers/pull/5" target="_blank" rel="noopener">https://github.com/turt2live/synapse-netcore-workers/pull/5</a></p>
</blockquote>
<h2 id="mautrix-whatsapp">Mautrix Whatsapp</h2>
<p>That <a href="https://matrix.to/#/@benpa:matrix.org">Ben</a> guy eh? When he's not swanning off on holiday and having fun, he's writing super groovy guides to getting whatsapp bridging up and running. You don't even need a real device. <a href="/docs/guides/whatsapp-bridging-mautrix-whatsapp">Check it out.</a></p>
<h2 id="ruby-sdk">Ruby SDK</h2>
<p><a class="mx_Pill mx_UserPill" title="@ace:kittenface.studio" data-reactroot=""><img class="mx_BaseAvatar mx_BaseAvatar_image" title="@ace:kittenface.studio" src="/_matrix/media/v1/thumbnail/kittenface.studio/fClzyKoJrPjBdSsoVYGglwqL?width=16&height=16&method=crop" alt="" width="16" height="16" />Ananace</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$1551425699164vABlc:kittenface.studio" rel="noopener">reports that</a>:</p>
<blockquote>
<p>Just merged the protocol split branch I've been working on for the Ruby SDK, including a first PoC for an application service base. Not tested in any actual use as of yet, but expect Things TM in the next release.</p>
</blockquote>
<h2 id="koma">Koma</h2>
<p><a class="mx_Pill mx_UserPill" title="@uforia:matrix.org" data-reactroot=""><img class="mx_BaseAvatar mx_BaseAvatar_image" title="@uforia:matrix.org" src="/_matrix/media/v1/thumbnail/matrix.org/xGfKScyNXPYixLMhSHvCmbMO?width=16&height=16&method=crop" alt="" width="16" height="16" />yuforia</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$1551429515692845yIsqv:matrix.org" rel="noopener">reports that</a>:</p>
<blockquote>
<p>in project <a href="https://github.com/koma-im" target="_blank" rel="noopener">koma</a>, a new bot <a href="https://github.com/koma-im/kotlin-matrix-userbots/tree/master/picsay" target="_blank" rel="noopener">picsay</a> is created. It like the classic easter-egg program <a href="https://en.wikipedia.org/wiki/Cowsay" target="_blank" rel="noopener">cowsay</a>, but it uses actual photos instead of ASCII art. It configured to use any image just by editing a json file. So you can run your own version for fun.</p>
</blockquote>
<h2 id="tchap">TChap</h2>
<p><a class="mx_Pill mx_UserPill" title="@willem:canarymod.net" data-reactroot=""><img class="mx_BaseAvatar mx_BaseAvatar_image" title="@willem:canarymod.net" src="/_matrix/media/v1/thumbnail/canarymod.net/akHJjhNnICOsiLXyfsZEDafc?width=16&height=16&method=crop" alt="" width="16" height="16" />Willem</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$15514524981180LAEMP:canarymod.net" rel="noopener">reports that</a>:</p>
<blockquote>
<p>I took some time to hack on Tchap again. This time I disabled virus scanning of thumbnails and downloads in Tchap to be able to see avatars. I also wrote a non-scanning virus scanner API implementation to be able to see files, pictures and videos that are sent. The updated Tchap can be found at <a class="linkified" href="https://github.com/14mRh4X0r/tchap-android" target="_blank" rel="noopener">https://github.com/14mRh4X0r/tchap-android</a>, the virus scanner API implementation at <a class="linkified" href="https://git.snt.utwente.nl/14mRh4X0r/tchap-media-scanner" target="_blank" rel="noopener">https://git.snt.utwente.nl/14mRh4X0r/tchap-media-scanner</a>.</p>
</blockquote>
<p><a href="/blog/wp-content/uploads/2019/03/tchap1.png"><img class="alignnone size-medium wp-image-4054" src="/blog/wp-content/uploads/2019/03/tchap1-169x300.png" alt="" width="169" height="300" /></a> <a href="/blog/wp-content/uploads/2019/03/tchap2.png"><img class="alignnone size-medium wp-image-4055" src="/blog/wp-content/uploads/2019/03/tchap2-169x300.png" alt="" width="169" height="300" /></a> <a href="/blog/wp-content/uploads/2019/03/tchap3.png"><img class="alignnone size-medium wp-image-4056" src="/blog/wp-content/uploads/2019/03/tchap3-142x300.png" alt="" width="142" height="300" /></a><a href="/blog/wp-content/uploads/2019/03/tchap4.png"><img class="alignnone size-medium wp-image-4060" src="/blog/wp-content/uploads/2019/03/tchap4-142x300.png" alt="" width="142" height="300" /></a></p>
<h2 id="debian">Debian</h2>
<p><a class="mx_Pill mx_UserPill" title="@andrewsh:matrix.org" data-reactroot=""><img class="mx_BaseAvatar mx_BaseAvatar_image" title="@andrewsh:matrix.org" src="/_matrix/media/v1/thumbnail/matrix.org/cVzxyvcpMBfoZIliFwYeLXRq?width=16&height=16&method=crop" alt="" width="16" height="16" />andrewsh</a> <a href="https://riot.im/develop/#/room/!FPUfgzXYWTKgIrwKxW:matrix.org/$1551441089734874fDpOO:matrix.org" rel="noopener">reports that</a>:</p>
<blockquote>
<p>Unless things get seriously on fire in the coming months, Debian buster will have Synapse 0.99.2 plus something newer in backports</p>
</blockquote>
<h2 id="matrix-wug">Matrix WUG</h2>
<p><a href="https://matrix.to/#/@dandellion:dodsorf.as">Dandellion's</a> <a href="https://github.com/Dali99/matrix-wug">Wug</a> now supports Inuktitut Syllabics and Iñupiatun Orthography. In the bot's own words.</p>
<blockquote>
<p>Hi I can help you translate X-SAMPA, Z-SAMPA to IPA, and transcribe into proto-indo european notation! Use (x/z/p) together with either / or [] as delimiters x/&quot;hEloU/ z[or` 5aIk DIz] p/mreghnom/</p>
<p>I also can transcribe to Inuktitut Syllabics like this: i[tusaumaqattautijjutinik aulattijiit]. Find my source at <a class="linkified" href="https://github.com/Dali99/matrix-wug" target="_blank" rel="noopener">https://github.com/Dali99/matrix-wug</a></p>
</blockquote>
<h2 id="new-rooms">New Rooms</h2>
<p><a href="https://matrix.to/#/@aaron:raim.ist" rel="nofollow">Aaron Raimist</a> has created a new room for Formula 1 fans:</p>
<blockquote>
<p>Now that the Formula 1 season is getting underway it's probably a good time to announce <a href="https://matrix.to/#/@CIA:matrix.org">@CIA:matrix.org</a>'s new(ish) room: <a href="https://matrix.to/#/#f1:matrix.org" rel="nofollow">#f1:matrix.org</a> When this blog post is released there will be 16 days left before the first race of the 2019 season<br />There was previously a Formula 1 room but it was merged with Snoonet's IRC channel which tends to be extremely busy. This is a matrix only room.</p>
</blockquote>
<p>That's it folks, your normal Ben orientated programming will continue next week. Bring back Ben, bring back Ben.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;02&#x2F;15&#x2F;publishing-the-backend-roadmap&#x2F;" title="Publishing the Backend Roadmap">Publishing the Backend Roadmap</a></h2>
                <span>
                    15.02.2019 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/neil-johnson">
                        Neil Johnson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Good people, </p>
<p>2019 is a big year for Matrix, in the next month we will have shipped:</p>
<ul>
 	<li style="font-weight: 400;">Matrix spec 1.0 (including the first stable release of the Server to Server Spec)
</li>
 	<li style="font-weight: 400;">Synapse 1.0
</li>
 	<li style="font-weight: 400;">Riot 1.0
</li>
</ul>
This is huge in itself, but is really only the beginning, and now we want to grow the ecosystem as quickly as possible. This means landing a mix of new features, enhancing existing ones, some big performance improvements as well as generally making life easier for our regular users, homeserver admins and community developers.
<p>Today we are sharing the Matrix core team's backend roadmap. The idea is that this will make it easier for anyone to understand where the project is going, what we consider to be important, and why.</p>
<p>To see the roadmap in its full glory, <a href="https://github.com/orgs/matrix-org/projects/9">take a look here</a>.</p>
<h3 id="what-is-a-roadmap-and-why-is-it-valuable">What is a roadmap and why is it valuable?</h3>
<p>A roadmap is a set of high level projects that the team intend to work on and a rough sense of the relative priority. It is essential to focus on specific goals, which inevitably means consciously not working on other initiatives.</p>
<p>Our roadmap is not a delivery plan - there are explicitly no dates. The reason for this is that we know that other projects will emerge, developers will be needed to support other urgent initiatives, matrix.org use continues to grow exponentially and will require performance tweaking. </p>
<p>So simply, based on what we know now, this is the order we will work on our projects.</p>
<h3 id="why-are-we-sharing-it">Why are we sharing it?</h3>
<p>We already share our <a href="https://github.com/orgs/matrix-org/projects/8">day to day todo list</a>, and of course our commit history, but it can be difficult for a casual observer to see the bigger picture from such granular data. The purpose of sharing is that we want anyone from the community to understand where our priorities lie. </p>
<p>We are often asked ‘Why are you not working on X, it is really important' where the answer is often ‘We agree that X is really important, but A, B and C are more important and must come first'. </p>
<p>The point of sharing the roadmap is to make that priority trade off more transparent and consumable.</p>
<h3 id="how-did-we-build-it">How did we build it?</h3>
<p>The core contributors to Synapse and Dendrite are 6 people, of 5 nationalities spread across 3 locations. After shipping the <a href="/docs/spec/server_server/r0.1.1.html">r0 release of the Server to Server spec</a> last month we took some time to step back and have a think about what to do after Synapse 1.0 lands. This meant getting everyone in one place to talk it through. </p>
<p>We also had Ben (benpa) contribute from a community perspective and took input from speaking to so many of you at FOSDEM.</p>
<p>In the end we filled a wall with post-its, each post-it representing a sizeable project. The position of the post-it was significant in that the vertical axis being a sense of how valuable we thought the task would be, and the horizontal axis being a rough guess on how complex we considered it to be.</p>
<p>We found this sort of grid approach to be really helpful in determining relative priority.</p>
<p>After many hours and plenty of blood, sweat and tears we ended up with something we could live with and wrote it up in the <a href="https://github.com/orgs/matrix-org/projects/9">shared board</a>.</p>
<p><a href="/blog/wp-content/uploads/2019/02/IMG_2247.jpg"><img class="alignnone size-medium wp-image-3996" src="/blog/wp-content/uploads/2019/02/IMG_2247-300x225.jpg" alt="" width="300" height="225" /></a><a href="/blog/wp-content/uploads/2019/02/IMG_2245.jpg"><img class="alignnone size-medium wp-image-3990" src="/blog/wp-content/uploads/2019/02/IMG_2245-300x225.jpg" alt="" width="300" height="225" /></a></p>
<h3 id="and-this-is-written-in-blood-right">And this is written in blood right?</h3>
<p>Not at all (it's written in board marker). This is simply a way to express our plan of action and we are likely to make changes to it dynamically. However, this means that at any given moment, if someone wants to know what we are working on then the roadmap is the place to go.</p>
<h3 id="but-wait-i-want-to-know-more">But wait I want to know more!</h3>
<p>Here is a video of myself and Matthew to talk you through the projects</p>
<iframe src="https://www.youtube.com/embed/LfyQ6cNGbLk" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe>
<h3 id="interesting-but-i-have-questions">Interesting, but I have questions ...</h3>
<p>Any feedback gratefully received, come and ask questions in <a href="https://matrix.to/#/#synapse:matrix.org">#synapse</a> or <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite</a> or feel free to ping me direct at @neilj:matrix.org</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;neil-johnson&#x2F;page&#x2F;3&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">4 / 7</span>
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;neil-johnson&#x2F;page&#x2F;5&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
