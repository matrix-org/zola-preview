<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Matthew Hodgson</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/author/matthew-hodgson/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Matthew Hodgson</h1>
            132 posts tagged with "Matthew Hodgson" <a href="/author">(See all Author)</a>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;09&#x2F;30&#x2F;welcoming-gitter-to-matrix&#x2F;" title="Welcoming Gitter to Matrix!">Welcoming Gitter to Matrix!</a></h2>
                <span>
                    30.09.2020 16:28
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                <br>
                <small>Last update: 30.09.2020 14:58</small>
            </header>
            <div>
                
                <p><img src="/blog/img/2020-09-30-gitter.png" alt="Gitter ♥️ Matrix" /></p>
<p>Hi all,</p>
<p>We are ridiculously excited to announce that <a href="https://gitter.im">Gitter</a> is joining the Matrix ecosystem and will become the first major existing chat platform to switch to natively speaking Matrix!</p>
<p>If you’re reading this from the Gitter community and have no idea what Matrix is: we’re an open source project that provides an open protocol for secure, decentralised communication - effectively the missing real-time communication layer of the open Web.  The open Matrix network has more than 20M users on it and is growing fast (adding another 1.7M or so with the arrival of Gitter!)</p>
<p>Gitter is easily one of the best developer community chat systems out there, used by the communities of some massive projects (<a href="https://gitter.im/nodejs/home">Node</a>, <a href="https://gitter.im/Microsoft/TypeScript">TypeScript</a>, <a href="https://gitter.im/angular/home">Angular</a>, <a href="https://gitter.im/scala/home">Scala</a> etc) and is a custodian of huge archives of knowledge via their chat logs. Gitter is unique in specifically focusing on developers: their tagline is literally “Where developers come to talk” (unlike Slack, which has barely any community features - or Discord, with its ban on unofficial clients, where developers are a bit of an afterthought relative to the gamers). With Gitter natively joining Matrix, we’re super excited to see the global developer community converging on the open Matrix network - and Gitter’s community rooms should see a huge new lease of life as they’re properly made natively available to the wider network as first class citizens :)</p>
<p>We’ve always had a bit of a crush on Gitter ever since we ended up opposite each other in the exhibition hall at TechCrunch Disrupt Europe 2014 - particularly when they demoed us not only their sexy webapp but also their official IRC server bridge at irc.gitter.im :D  Over the years we’ve been gently nudging them to consider fully embracing Matrix, but perhaps understandably they’ve been busy focusing on their own stuff. However, earlier this year, our friends at GitLab (who acquired Gitter in 2017) reached out to explore the opportunity of Gitter becoming a core part of Matrix rather than a non-core project at GitLab… and we’ve jumped on that opportunity to bring Gitter fully into Matrix.</p>
<p>In practice, the way this is happening is that Element (the company founded by the Matrix core team to fund Matrix development) is acquiring Gitter from GitLab, with a combined Gitter and Element dev team focusing on giving Gitter a new life in Matrix!  You can read about it from the Element angle over on <a href="https://element.io/blog/gitter-is-joining-element/">the Element blog</a>.</p>
<p>Practically speaking, we have a pretty interesting plan here, which we’d like to be very transparent about given it’s a little unusual:</p>
<p>At first, Gitter will keep running as it always has - needless to say, we will be doing everything we can to delight the Gitter community and keep the service in good shape.</p>
<p>Then we’re going to build out native Matrix connectivity - running a dedicated Matrix homeserver on gitter.im with a new bridge direct into the heart of Gitter; letting all Gitter rooms be available to Matrix directly as (say) #angular_angular:gitter.im, and bridging all the historical conversations into Matrix via <a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc2716/proposals/2716-importing-history-into-existing-rooms.md">MSC2716</a> or similar. We will of course do this entirely as open source, just as Gitter itself is open source thanks to GitLab releasing it under the MIT license in 2017. The plan is to comprehensively document our progress as the flagship worked example case study of “how do you make an existing chat system talk Matrix.”</p>
<p>This will of course replace the old and creaky <a href="https://github.com/matrix-org/matrix-appservice-gitter">matrix-appservice-gitter</a> bridge we’ve been running since 2016. Gitter users will also be able to talk to other users elsewhere in the open Matrix network - e.g. DMing them, and (possibly) joining arbitrary Matrix rooms. Effectively, <strong>Gitter will have become a Matrix client</strong>.</p>
<p>Now we come to the interesting bit. Gitter has some <em>really</em> nice features which are sorely lacking in Element today:</p>
<ul>
<li>Instant live room peeking (less than a second to load the webapp into a live-view of a massive room with 20K users!!)</li>
<li>Seamless onboarding thanks to using GitLab &amp; GitHub for accounts</li>
<li>Curated hierarchical room directory</li>
<li>Magical creation of rooms on demand for every GitLab and GitHub project ever</li>
<li>GitLab/GitHub activity as a first-class citizen in a room’s side-panel</li>
<li>Excellent search-engine-friendly static content and archives</li>
<li>KaTeX support for Maths communities</li>
<li>Threads!</li>
</ul>
<p>...and we promise to do everything in our power to preserve and honour these features at all costs and continue to give the Gitter community the experience they’ve come to know and love.</p>
<p><strong>However</strong>: in the medium/long term, it’s simply not going to be efficient for the combined Element/Gitter team to split our efforts maintaining two high-profile Matrix clients. Our plan is instead to merge Gitter’s features into Element (or next generations of Element) itself and then - if and only if Element has achieved parity with Gitter based on the above list - we expect to upgrade the deployment on gitter.im to a Gitter-customised version of Element. The inevitable side-effect is that we’ll be adding new features to Element rather than Gitter going forwards.</p>
<p>In practice, the main outcome in the end should be Element having benefited massively from levelling up with Gitter - and Gitter benefiting massively from all the goodies which Element and Matrix brings, including:</p>
<ul>
<li>E2E Encryption</li>
<li>Reactions</li>
<li>Constantly improving native iOS &amp; Android clients (which should be a welcome alternative to Gitter’s natives ones, which are <a href="https://gitlab.com/gitlab-org/gitter/webapp/-/issues/2281">already being deprecated</a>)</li>
<li>VoIP and conferencing</li>
<li>All the alternative clients, bots, bridges and servers in Matrix</li>
<li>The full open standard Matrix API</li>
<li>Widgets (embedding webapps into rooms!)</li>
<li>...and of course participation in the wider decentralised Matrix network.</li>
</ul>
<p>So, there you have it. It’s a new era for Gitter - and we look forward to reinvigorating Gitter’s communities over the coming months. We hope Gitter users will be blown away by the features arriving from Matrix… and we hope that Element users will be ecstatic with the performance and polish work that Gitter-parity will drive us towards. Imagine having guest access in Element that can launch and load a massive room in less than a second!</p>
<p>Finally, we would like to explicitly reassure the Gitter community again that we love and understand Gitter (it was one of the very first ever bridges we wrote for Matrix, for instance) - and we will be doing everything we can to not screw up our responsibility in looking after it. Please, please let us know if you have any concerns or if we ever fall short on this.</p>
<p>Any questions, come talk to us on <a href="https://matrix.to/#/#gitter:matrix.org">#gitter:matrix.org</a> - which is bridged with <a href="https://gitter.im/matrix-org/gitter">https://gitter.im/matrix-org/gitter</a>.  Exciting times ahead!</p>
<p>- Matthew, Amandine, and the whole Matrix, Element and Gitter teams.</p>
<div style="text-align: center">
    <img src="/blog/img/2020-09-30-gitter-photo.jpg" width="480" alt="Matthew &amp; Amandine being dorky"/>
    <br/>
    <i><small>Matthew and Amandine model 2014-vintage Matrix & Gitter swag in celebration :D</small></i>
</div>
<h2 id="bonus-update-the-changelog-interview">Bonus update - The Changelog Interview!</h2>
<p>Sid Sijbrandij (CEO at GitLab) and Matthew had a chance to sit down with <a href="https://changelog.com">The Changelog</a> to talk about Gitter's Big Adventure - so tune in to hear the story first hand!  Warning: contains non-ironic use of the word &quot;synergy&quot; :D</p>
<br/>
<div style="text-align: center">
  <a rel="noopener" href="https://cdn.changelog.com/uploads/podcast/414/the-changelog-414.mp3">
    <img src="https://matrix.org/blog/img/2020-09-30-gitter-changelog.png" alt="Changelog podcast 414"/>
  </a>
  <p>
    <a href="https://changelog.com/podcast/414">The Changelog 414: Gitter's Big Adventure</a> - Listen on <a href="https://changelog.com/">Changelog.com</a>
  </p>
</div>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;06&#x2F;16&#x2F;matrix-decomposition-an-independent-academic-analysis-of-matrix-state-resolution&#x2F;" title="Matrix Decomposition: an independent academic analysis of Matrix State Resolution">Matrix Decomposition: an independent academic analysis of Matrix State Resolution</a></h2>
                <span>
                    16.06.2020 20:15
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                <br>
                <small>Last update: 16.06.2020 19:09</small>
            </header>
            <div>
                
                <p>Hi all,</p>
<p>Regular readers of <a href="https://matrix.org/blog/category/this-week-in-matrix/">TWIM</a> may be familiar with the <a href="https://dsn.tm.kit.edu/english/index.php">Decentralized Systems and Network Services Research Group</a> at Karlsruhe Institute of Technology, who have been busy over the last few years analysing Matrix from an independent academic point of view.  The work started in 2018 with Florian Jacob’s <a href="https://dsn.tm.kit.edu/matrix/traveller/explained.html">DSN Traveler</a> spidering project, resulting in the <a href="https://publikationen.bibliothek.kit.edu/1000100364">Glimpse of the Matrix</a> paper analysing Matrix’s scale and room/server distribution (at least as it was back then).</p>
<p>Last week, they released an entirely new paper: <a href="https://dl.acm.org/doi/10.1145/3381991.3395399">Matrix Decomposition: Analysis of an Access Control Approach on Transaction-based DAGs without Finality</a> by Florian Jacob, Luca Becker, Jan Grashöfer and Hannes Hartenstein, presented at <a href="https://www.sacmat.org/2020/index.php">ACM SACMAT ‘20</a>.</p>
<p>Now, the new paper is an absolutely fascinating deep dive analysis into <a href="https://github.com/matrix-org/matrix-doc/blob/master/proposals/1442-state-resolution.md">State Resolution v2</a> - the algorithm at the heart of Matrix which defines how servers merge together their potentially conflicting copies of a given room, such that everyone ends up eventually with a consistent view… even in the face of bad actors. This means that Matrix effectively implements a decentralised access control system - ensuring that users stay banned, and only users with permission can ban, etc.  You can see the <a href="https://matrix.org/blog/img/SACMAT_2020_Talk_Matrix_Decomposition.pdf">slides</a> below, and read the <a href="https://dl.acm.org/doi/pdf/10.1145/3381991.3395399">full paper</a> here. The video of Florian’s talk from SACMAT should be published shortly.</p>
<br/>
<p><object data="https://matrix.org/blog/img/SACMAT_2020_Talk_Matrix_Decomposition.pdf" type="application/pdf" width="1024" height="768"></object></p>
<br/>
<p>To give some context from the Matrix side: designing and implementing State Resolution v2 back in 2018 was a bit of a mission. Our original v1 implementation had some bugs which meant that the result of the merge could unexpectedly favour historical state over the current state (so called ‘state resets’) - thus giving an attacker a way to maliciously revert the state of the room.  In v2 we thought much more carefully about the algorithm, considering state present in one version of the room but not the other as a conflict, separating and applying access control events from regular events, and adding additional ordering of the state in the room by considering events in the context of their authorisation chain (the ‘auth DAG’).  The end result is that we feel confident in v2 State Res, and we haven’t seen any problems with it in the wild since we shipped it in July 2018.</p>
<p>However: state resolution is not intuitive at first - for instance, when you merge two versions of a room together, you treat the state events as unordered sets… even though they are ordered in the context of the room DAG.  The reason is that state res needs to work even if you don’t have a copy of the whole room DAG (otherwise you’d have to download way too much data to participate in a large room).  Another example is the sequence in which orderings are then applied to the state events - and how that interacts with re-authorising those events, to stop malicious ones creeping in.  In the core team, we’ve end up describing it several different ways to try to help folks understand: first Erik’s original <a href="https://github.com/matrix-org/matrix-doc/blob/erikj/state_res_msc/proposals/1442-state-resolution.md">MSC1442</a>, then uhoreg’s <a href="https://matrix.uhoreg.ca/stateres/reloaded.html">literary Haskell implementation</a>, then the terse reference version in <a href="https://matrix.org/docs/spec/rooms/v2">the Spec</a> itself, and most recently Neil Alexander’s <a href="https://matrix.org/docs/guides/implementing-stateres">State Resolution v2 for the Hopelessly Unmathematical</a>.</p>
<p>As a result we are <strong>very</strong> excited and happy that Florian and the DSN team have now published the first ever independent in-depth analysis of the algorithm, particularly in the context of decentralised access control (i.e. enforcing bans, power levels, etc).  We’re pleasantly surprised that apparently “To the best of our knowledge, Matrix is the only system that implements access control based on an eventually consistent partial order without finality and without a consensus algorithm”.</p>
<p>Even better, the DSN team found some remaining thinkos in Synapse’s implementation and the Matrix specification, which could have caused resolution results to diverge from other implementations, specifically:</p>
<ol>
<li>we weren’t enforcing integers in JSON to be within range [-2<sup>53</sup>+1, 2<sup>53</sup>-1], fixed in <a href="https://github.com/matrix-org/synapse/pull/7381">https://github.com/matrix-org/synapse/pull/7381</a> and <a href="https://github.com/matrix-org/matrix-doc/blob/clokep/json-validation-room-ver/proposals/2540-stricter-event-validation.md">MSC2540</a></li>
<li>we forgot to include the notification field when authing power level events, fixed in  <a href="https://github.com/matrix-org/synapse/issues/7501">https://github.com/matrix-org/synapse/issues/7501</a> and <a href="https://github.com/lucavb/matrix-doc/blob/master/proposals/2209-auth-rules-other-keys-in-m.room.power.levels.md">MSC2209</a> (thanks to Luca from DSN for the MSC!)</li>
<li>we forgot to spec the limit that one should apply to the number of parents of an event in the DAG (fixed in <a href="https://github.com/matrix-org/matrix-doc/pull/2538">https://github.com/matrix-org/matrix-doc/pull/2538</a>)</li>
<li>we missed that moderators could set server ACLs which could let them undermine room admins (fixed in <a href="https://github.com/matrix-org/synapse/pull/6834">https://github.com/matrix-org/synapse/pull/6834</a>).</li>
</ol>
<p>All of these have now been fixed in Synapse and the latest versions of the spec (room v6), and we’d like to sincerely thank Florian and Luca for rapidly and responsibly disclosing the issues to us.  In other words: this research is directly improving Matrix, and it’s even more exciting that the stated future work for the DSN team is to work on a <a href="https://en.wikipedia.org/wiki/Formal_verification">formal verification</a> for the security of Matrix’s authorisation rules and state resolution.  This stuff is tough, as anyone who’s played with <a href="https://en.wikipedia.org/wiki/TLA%2B">TLA<sup>+</sup></a> will know, and we are incredibly glad that the research community is helping out to formalise and hopefully prove that State Res v2 is as good as we think it is.</p>
<p>We should stress that DSN’s work is completely independent of The Matrix.org Foundation or anyone else building on the protocol; we’re just writing about it here because we think it’s incredibly cool and deserves the attention of the whole Matrix ecosystem.</p>
<p>Thanks again to Florian and the team - we look forward to seeing what comes next!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;06&#x2F;02&#x2F;introducing-p2p-matrix&#x2F;" title="Introducing P2P Matrix">Introducing P2P Matrix</a></h2>
                <span>
                    02.06.2020 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>TL;DR: we shipped a major update (v0.1.1) to <a href="https://p2p.riot.im">https://p2p.riot.im</a> - fire up a desktop Chrome or Firefox in not-private-browsing mode and give it a go!</p>
<p>Hi folks,</p>
<p>As many know by now, a few of us have been working away since mid-December on experimenting with running Matrix in a peer-to-peer architecture - one where every user has absolute total autonomy and ownership of their conversations, because the only place their conversations exist is on the devices they own.</p>
<p>In some ways this is the logical end goal of Matrix: our aim has always been to empower users to have full control over their communication rather than being beholden to any given service provider, and in a P2P world we completely return power over secure communication to the people.</p>
<h3 id="why-p2p">Why P2P?</h3>
<p>P2P Matrix is about more than just letting users store their own conversations: it can also avoid dependencies on the Internet itself by working over local networks, mesh networks, or situations where the Internet has been cut off.  Even more interestingly, without homeservers, there is nowhere for metadata to accumulate about who is talking to who, and when - which is a legitimate complaint about today’s Matrix network, given the homeservers of all users in a given conversation necessarily have to store that conversation’s metadata.  P2P also lets us radically simplify signup for new users if they don’t have to pick a server to get going - and we avoid the unintentional centralisation of users piling onto public servers.</p>
<p>P2P also forces us to solve many of the hardest remaining problems in Matrix: e.g multi-homed accounts, given multi-device P2P requires your account to exist in multiple places. This in turn unlocks high availability and geo-redundancy for accounts on today’s Matrix network (imagine having a primary and backup homeserver that magically did the right thing!), as well as account portability, and thus also vhosting and load-balancing accounts between servers, and even improved GDPR compliance (for if your user IDs are ephemeral they are no longer personally identifying information baked into your Matrix rooms).  We’ll also need better safety mechanisms to avoid folks exploiting the anonymous nature of the network for abuse, accelerating the work we’re already doing for today’s Matrix network.</p>
<p>The way we’ve been approaching P2P is the “<a href="https://twitter.com/Lucid00/status/1263974339294175232">hamfisted but genius</a>” approach of taking homeservers and running them on the client, alongside or within your Matrix client - meaning that there are literally <strong>no</strong> changes required for any Matrix client to talk P2P Matrix, and so P2P Matrix can instantly benefit from all the work which has gone into Riot and other apps.  As a result, P2P is also a huge motivator towards developing much smaller homeservers which can run efficiently clientside (e.g. Dendrite!) - which is of course great news for Matrix as a whole.  It also forces us to develop more scalable routing algorithms (as you don’t want your client to have to talk to every other device in a room every time it sends a message!) and also spurs development of low bandwidth Matrix transports (as you don’t want the additional chatter of talking to multiple peers to consume all your bandwidth).  Finally, it forces us to really ruggedize federation, given nodes are constantly appearing and disappearing, giving the federation much more of a stress test than we see with today’s relatively static homeservers.</p>
<h3 id="p2p-in-practice">P2P in Practice</h3>
<p>So, P2P has been acting as fuel for a lot of our longer term Matrix work over the last few months.  There have been three main experiments so far: at <a href="https://fosdem.org/2020/schedule/event/dip_p2p_matrix/">FOSDEM</a> we showed off running our next-gen Dendrite homeserver running clientside using HTTP over <a href="https://libp2p.io/">libp2p</a> as the transport.  We also highlighted Timothée Floure’s <a href="https://www.epfl.ch/labs/dedis/wp-content/uploads/2020/01/presentation-2019-2-Timothee-Floure-Experimenting-with-Matrix-federation-over-Yggdrasil.pdf">project at EPFL</a> experimenting with Synapse talking P2P CoAP over yggdrasil as the transport via a proxy.</p>
<p>Most recently, however, we’ve been experimenting with compiling Dendrite down to Web Assembly and running it embedded in Riot Web as a Service Worker, using HTTP over libp2p’s websocket transport (coordinated via a websocket rendezvous server).  Architecturally, it looks like this:</p>
<p><img src="/blog/img/p2p-diag.png" alt="P2P Architecture Diagram" /></p>
<p>Today, we’re shipping a major new alpha (v0.1.1) of this P2P demo up at <a href="https://p2p.riot.im">https://p2p.riot.im</a> (requires desktop Chrome or Firefox in non-private-browsing mode) - which hopefully should give a really usable and concrete taste of the shape of things to come.</p>
<p>The main features are:</p>
<ul>
<li>Your conversations are now persisted in your browser storage (via IndexedDB), meaning that as long as all the browsers participating in a given conversation don’t clear their local storage, rooms on the P2P network are here to stay!</li>
<li>Your room directory lists all the aliases for all the rooms published by active nodes on the network.  Moreover, we now automatically publish a local room alias whenever you join a public room, so that others will be able to discover that room via you, even if the server who originally created the alias has disappeared.</li>
<li>Lots and lots of federation improvements between the nodes - for instance, when a node comes online, others should now automatically detect and send scrollback to it.  Invites should work, and there should no longer be any unexpectedly redacted messages.</li>
</ul>
<p>Needless to say, all the code for this is open source under the Apache license, and if you’re feeling particularly adventurous you can embed your very own P2P Dendrite into Riot Web by using the Dockerfile at <a href="https://github.com/matrix-org/dendrite/blob/master/build/docker/DendriteJS.Dockerfile">https://github.com/matrix-org/dendrite/blob/master/build/docker/DendriteJS.Dockerfile</a> or following the instructions at  <a href="https://github.com/matrix-org/dendrite/blob/master/docs/p2p.md">https://github.com/matrix-org/dendrite/blob/master/docs/p2p.md</a>.</p>
<p>Please report bugs to <a href="https://github.com/matrix-org/dendrite/issues">https://github.com/matrix-org/dendrite/issues</a>!</p>
<p>Finally, please understand that the demo is very likely <strong>not</strong> what the final version of P2P Matrix will look like - this is just one step in a series of experiments as we investigate the best paths forward :)</p>
<h3 id="what-s-next">What’s next?</h3>
<p>For the current demo, there’s still lots of stuff remaining, including:</p>
<ul>
<li>More federation debugging (and hooking in <a href="https://github.com/matrix-org/tardis">tardis</a> and writing up everything we’ve learned about implementing federation in Dendrite!)</li>
<li>Making the content repository work in-browser (gotta fill up those IndexedDBs with some GIFs!)</li>
<li>Hooking up E2E Encryption APIs in Dendrite (not that it buys us much in a pure P2P world)</li>
<li>WebRTC transports.  Turns out that service workers aren’t allowed to speak WebRTC, so we’ll have to shim through to Riot to speak true peer-to-peer WebRTC data channels rather than relaying all the traffic through the websocket rendezvous server.</li>
<li>Decentralised accounts for multidevice support - reviewing <a href="https://github.com/matrix-org/matrix-doc/blob/rav/proposal/remove_mxids_from_events/proposals/1228-removing-mxids-from-events.md">MSC1228</a> and getting Dendrite supporting multihoming accounts!</li>
<li>Finishing all of Dendrite’s other remaining APIs.</li>
</ul>
<p>Beyond this, there are some bigger picture questions left to be answered in future experiments.</p>
<p>Firstly: we do not yet have a solution for “store and forward” nodes which can relay messages on behalf of a room if all the participating devices are offline.  A first cut will be to run a P2P-capable homeserver server-side for this, but then metadata will start to accumulate server-side for the conversations it hosts.  A more interesting approach would be to use a store and forward system which obfuscates who is talking to who, such as a mixnet, and could even provide resistance to network traffic pattern analysis.  This is very much an open area of research, but one we are getting into :D</p>
<p>Secondly: we want to experiment more with other transports, and find out which works best for Matrix.  Libp2p has some really exciting new stuff in the form of <a href="https://blog.ipfs.io/2020-05-20-gossipsub-v1.1">Gossipsub v1.1</a> - a much smarter routing algorithm for pubsub traffic in libp2p, which David Dias gave us a <a href="https://youtu.be/APVp-20ATLk?t=3598">VIP tour</a> of at the first Open Tech Will Save Us meetup.  So we’ll need to restructure our libp2p transport as pubsub to see how it works in practice.  Separately, we also want to play with hooking up <a href="https://yggdrasil-network.github.io/">Yggdrasil</a> (the encrypted overlay network) as a transport as a totally different approach - Yggdrasil will easily let us span different underlying network transports, but comes with different tradeoffs (e.g. no browser support yet).  We also want to take a look at the <a href="https://dat.foundation/">DAT</a> / <a href="https://github.com/hypercore-protocol/hypercore">hypercore</a> / <a href="https://github.com/hyperswarm/hyperswarm">hyperswarm</a> / <a href="https://cabal.chat/">Cabal</a> ecosystem to see if there’s a match :)</p>
<p>Thirdly and finally: we obviously want to unify the new P2P Matrix network with today’s federated one.  The ideal outcome here would be to have a hybrid model, where teams who want their users to have a dedicated homeserver (for availability, IT policies, etc) can continue to have one as they do today - but newbies who have just installed Riot would float around on P2P unless they decided to consciously put down roots on a server or two.  Best of all, it would let us turn off the matrix.org homeserver: the best public homeserver is one you run yourself on your own phone ;)  The approach we take for linking P2P and today’s Matrix will depend very much on the transport we select for P2P in the long run, but the likelihood is that today’s homeservers will sprout P2P gateways to link the networks.</p>
<h2 id="conclusion">Conclusion</h2>
<p>So, there you have it.  P2P Matrix exists, and is developing at an alarming speed - and pushing Dendrite development along with it.  Most excitingly, there have been no changes yet to the Matrix spec for P2P at all; we’ve just swapped https for http-over-libp2p as the transport.  So <strong>all</strong> of the work we’ve been doing making Dendrite work in a P2P world has directly translated into making Dendrite work on today’s Matrix too  You can now stand up a Dendrite and have it federate pretty reliably with the wider Matrix network, although we’re still rushing through implementing APIs (we’re up to 35% passing <a href="https://github.com/matrix-org/sytest">sytest</a> coverage - although that 35% does contain most of the important tests :)</p>
<p>Finally, in case you’re worried about why the Matrix core team is off chasing P2P dreams rather than improving Riot’s UX, or implementing Communities, or Extensible Profiles, or working through the MSC backlog etc... in practice only two people (ignoring Matthew) have been working on P2P - Neil Alexander (author of the original FOSDEM demo, Dendrite wrangler and Yggdrasil co-maintainer) and Kegan Dougal (of the original Matrix dev team, one of the original authors of Dendrite, and now wrangling the WASM P2P work too).  Huge thanks to Kegan &amp; Neil for pushing P2P forwards - and huge thanks to everyone else on the core team and the wider community for keeping today’s Matrix advancing too!</p>
<p>Hope this has given a tempting glimpse of the shape of things to come.  Honestly we never thought we’d get as far as P2P when we started Matrix back in 2014, but it’s really fun to be finally catching up with the future :D</p>
<p>-- Matthew</p>
<p>P.S. You can read more about this from Neil Alexander’s point of view <a href="https://neilalexander.dev/2020/06/02/thoughts-p2p-matrix.html">over at his blog</a> (including more thoughts on the potential Yggdrasil demo!)</p>
<p>P.P.S You can read the gory details of the P2P and WASM implementation from Kegan's point of view <a href="https://github.com/matrix-org/dendrite/wiki/How-p2p.riot.im-works">over at the Dendrite wiki</a>.</p>
<p>P.P.P.S Comments over at <a href="https://news.ycombinator.com/item?id=23393935">HN</a></p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;05&#x2F;21&#x2F;welcoming-automattic-to-matrix&#x2F;" title="Welcoming Automattic to Matrix!">Welcoming Automattic to Matrix!</a></h2>
                <span>
                    21.05.2020 01:42
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                <br>
                <small>Last update: 21.05.2020 01:28</small>
            </header>
            <div>
                
                <p><img src="https://matrix.org/blog/img/2020-05-21-automattic.png" alt="Automattic ♥️ Matrix" /></p>
<p>Hi all,</p>
<p>We’re very excited indeed to announce that <a href="https://automattic.com/">Automattic</a>, the creators of <a href="https://wordpress.com/">WordPress.com</a>, are jumping head first into the Matrix ecosystem with a strategic investment of almost $5M into <a href="https://vector.im">New Vector</a> (the company which makes <a href="https://riot.im">Riot</a> and <a href="https://modular.im">Modular.im</a>, founded by the core Matrix team in 2017).  More importantly, Matt Mullenweg (co-founder of WordPress and founder of Automattic) and the Automattic gang are committing to make the most of Matrix in their work going forwards!</p>
<p>This is huge news, not least because WordPress literally runs over 36% of the websites on today’s web - and the potential of bringing Matrix to all those users is incredible.  Imagine if every WP site automatically came with its own Matrix room or community?  Imagine if all content in WP automatically was published into Matrix as well as the Web?  (This isn’t so far fetched an idea - turns out that Automattic already runs a XMPP bridge for wordpress.com over at <a href="https://im.wordpress.com">im.wordpress.com</a>!).  Imagine there was an excellent Matrix client available as a WordPress plugin for embedding realtime chat into your site? Imagine if <a href="https://tumblr.com">Tumblr</a> (which is part of Automattic these days) became decentralised!?</p>
<p>In fact, if you’re a developer in either the Matrix or WordPress communities, now might be a good time to think about how to cross the streams.... not least because Automattic just opened up a role for a <a href="https://automattic.com/work-with-us/matrix-integrations-engineer/">Matrix.org/WordPress Integrations Engineer</a>! Quite aside from the investment, this shows Automattic is serious about Matrix - and we’d like to thank them for opening up jobs in these challenging times to further accelerate Matrix.  Perhaps some day Matrix Engineer will be as common a career choice as Web Developer ;)</p>
<p>That said, it’s super early days for integration work, and there isn’t a concrete project to announce yet beyond the investment in New Vector (which is effectively an extension of the funding NV raised in October) and Automattic’s Job opening - but these are the sort of ideas we’ve been kicking around. And at the very least, we should expect to see Automattic’s communities migrating over to Matrix in the coming months.</p>
<p>It’s been loads of fun working with Matt and the team on this: we see a huge overlap in terms of a genuine love for the open web, open source and open standards.  It’s also no coincidence that Matt (independently of Automattic) donated substantially to Matrix via Patreon back in 2017 when we needed it the most.  We’re also looking forward to benefiting from Automattic’s experience in sustainably and responsibly funding and growing open source projects in general - WordPress.com is an excellent example of how one can support development of a project like WordPress without compromising its open source nature.</p>
<p>So, we’d like to formally welcome WordPress and the rest of the Automattic family into Matrix.  It’s incredibly exciting times, and we can’t wait to see what will come of the partnership!  And meanwhile, if any other massive open source organisations want to join Automattic and <a href="https://matrix.org/blog/2019/12/19/welcoming-mozilla-to-matrix">Mozilla</a> in leaping into Matrix, you know where to find us… :D</p>
<p>Huge thanks go to Matt for believing in Matrix - watch this space for updates.</p>
<ul>
<li>Matthew, Amandine &amp; the Matrix Team.</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;05&#x2F;06&#x2F;cross-signing-and-end-to-end-encryption-by-default-is-here&#x2F;" title="Cross-signing and End-to-end Encryption by Default is HERE!!!">Cross-signing and End-to-end Encryption by Default is HERE!!!</a></h2>
                <span>
                    06.05.2020 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>As of today, Matrix is end-to-end encrypted <strong>by default</strong> for private conversations.</p>
<p>Three years have passed since we <a href="https://matrix.org/blog/2016/11/21/matrixs-olm-end-to-end-encryption-security-assessment-released-and-implemented-cross-platform-on-riot-at-last">first announced End-to-end Encryption in
Matrix</a>
and started to beta test it in Riot - and after an enormous amount of
polishing and refinement on its user experience, we are finally declaring it
out of beta and enabling it by default for all new private conversations in
Riot.  As Riot is currently the most common Matrix client, this means that
Matrix as a whole should now be considered end-to-end encrypted by default for
DMs and invite-only rooms.</p>
<p>Work on E2EE in Matrix has progressed in waves since we first shipped it - including:</p>
<ul>
<li>adding keysharing (letting you share encryption keys between your devices to improve reliability)</li>
<li>making Riot Web's encryption resilient to running concurrently in multiple tabs</li>
<li>adding online key backup (so you don't lose all your history if you lose all your devices)</li>
<li>making encryption resilient to restoring the app from a backup</li>
<li>adding interactive key verification via emoji to make the verification process easier.</li>
</ul>
<p>However, our goal was always to enable E2EE by default for all private rooms,
which means having feature parity between unencrypted and E2EE Matrix so that
we can enable encryption without <em>any</em> negative impact on usability.  The
high-level remaining items were significant:</p>
<ul>
<li>Cross-signing: verifying your own logins so others don’t have to.</li>
<li>Adding QR codes for even better verification UX, to make cross-signing as painless as possible.</li>
<li>Replacing the old prototype UI for E2EE with final polished UI/UX.</li>
<li>Ability to support non-E2EE clients.</li>
<li>Ability to search encrypted rooms.</li>
<li>Ability to view file indexes in encrypted rooms.</li>
<li>Fixing the remaining “Unable to decrypt” errors.</li>
</ul>
<p>Over the last few months the Riot team has been almost entirely focused on
implementing solutions to these items - and we're finally at the point where
the switch can be flipped and as of Riot Web/Desktop 1.6, Riot iOS 0.11.1 and
RiotX Android 0.19, all new private rooms will be encrypted by default;
completing the transition we began at <a href="https://fosdem.org/2020/schedule/event/matrix/">FOSDEM
2020</a> when we landed
cross-signing E2E-by-default in the development branches of Riot.</p>
<p><strong>For full details, please go check out the <a href="https://blog.riot.im/e2e-encryption-by-default-cross-signing-is-here/">massive deep dive over at the Riot
blog</a></strong> - also featuring all the other recent progress in Riot!</p>
<p>Heads up that encrypted traffic is slightly heavier on the server than
unencrypted (due to exchanging keys, verification traffic, and keybackup
traffic), and so there is a risk that the already-over-popular Matrix.org
server instance may feel a little hugged to death.  However, unprecedented
Synapse performance breakthroughs are on the horizon in the coming weeks which
will fix this - and, of course, you can (and should!) be using your own
instance anyway.</p>
<p>Thanks everyone for helping us test encryption over the years and getting us
to this point: cross-signing provides a more secure way of tracking device
trust than almost any other comms system out there, and we hope that you'll
agree the improved UX has been worth the wait.</p>
<p>Next stop: Synapse performance, and rebuilding Riot's first time user experience!</p>
<p>thanks,</p>
<p>Matthew, Amandine &amp; the Matrix Team.</p>
<p>(Comments over at <a href="https://news.ycombinator.com/item?id=23107564">HN</a>)</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;04&#x2F;06&#x2F;running-your-own-secure-communication-service-with-matrix-and-jitsi&#x2F;" title="Running your own secure communication service with Matrix and Jitsi">Running your own secure communication service with Matrix and Jitsi</a></h2>
                <span>
                    06.04.2020 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>Over the last few weeks there's been huge increase in interest from folks
wanting the security and autonomy of running their remote collaboration
services, rather than being at the mercy of traditional proprietary
centralised apps.  Meanwhile, the Matrix.org homeserver has been very
overloaded (although we're at last making excellent progress in radically
improving Synapse's performance) - so it's particularly important right now to
help folks run their own servers.</p>
<p>Therefore we're very happy to announce that it's easier than ever before now to
self-host your own video conferencing alongside Riot &amp; Synapse: as of Riot/Web
1.5.15 (released last week), it's now a single config option to point Riot at
a specific Jitsi rather than needing to hook up to an integration manager!</p>
<p>Meanwhile, over the last 18 months, it's got easier and easier to run your
own Matrix deployments: the Debian packages are unrecognisably better now, and
with <code>.well-known</code> URL support it's trivial to set up federation without
needing to worry about complicated DNS, TLS or load balancer configurations.</p>
<p>So, to try to show off just how smooth this has become, we thought we'd do a
run-through video showing installing Synapse, Riot &amp; Jitsi on a completely
fresh Debian install.  It's (almost) filmed in a single shot, and takes about
20 minutes from beginning to end.</p>
<p>Please note that this does assume you're pretty familiar with Linux system
administration.  If you're not, then we'd recommend using a Matrix hosting
provider such as <a href="https://modular.im">Modular.im</a> (which directly supports development of the core team),
<a href="https://ungleich.ch/u/products/hosted-matrix-chat/">Ungleich.ch</a>, or <a href="https://startupstack.tech/">StartupStack</a>.</p>
<p>Finally, while the video shows how to install on Debian via Debian packages,
there are many many other environments and architectures (e.g. installing
under Docker) - this is just one relatively easy way to skin the cat.  Perhaps
there will be other 'speed-run' videos in future :)</p>
<iframe width="1229" height="691" src="https://www.youtube.com/embed/dDddKmdLEdg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>If you want to follow along at home without listening to the video (and I can't blame you if you do ;) the high level steps are as follows:</p>
<h3 id="debian-dns">Debian &amp; DNS</h3>
<ul>
<li>Take one fresh Debian 10 install.</li>
<li>Point the DNS for your domain to it.  You should use separate subdomains for the various services as a hygiene measure to make cross-site scripting attacks less effective.  In this example, we set up DNS for:
<ul>
<li><code>dangerousdemos.net</code> (general website, and for hosting a .well-known path to advertise the Matrix service)</li>
<li><code>matrix.dangerousdemos.net</code> (Synapse)</li>
<li><code>riot.dangerousdemos.net</code> (Riot/Web)</li>
<li><code>jitsi.dangerousdemos.net</code> (Jitsi video conferencing)</li>
<li>In practice, we used a <code>*.dangerousdemos.net</code> wildcard DNS record for the three subdomains in this instance.</li>
</ul>
</li>
</ul>
<h3 id="nginx-and-letsencrypt">Nginx and LetsEncrypt</h3>
<ul>
<li>Install nginx as a webserver: <code>apt-get update &amp;&amp; apt -y install nginx</code></li>
<li>Go to <code>/etc/nginx/sites-enabled</code> and copy the vhost configuration block from the bottom of <code>default</code> to new files called <code>dangerousdemos.net</code>, <code>matrix.dangerousdemos.net</code>, and <code>riot.dangerousdemos.net</code>.  We don't set up <code>jitsi.dangerousdemos.net</code> at this point as the jitsi installer handles it for us.
<ul>
<li>Rename the <code>server_name</code> field in the new files to match the hostname of each host, and point <code>root</code> to an appropriate location per domain (e.g. <code>/var/www/dangerousdemos.net</code> for the main domain, or <code>/var/www/riot.dangerousdemos.net/riot</code> for riot)</li>
<li>For the Synapse domain (<code>matrix.dangerousdemos.net</code> here), you should replace the contents of the <code>location</code> block with <code>proxy_pass http://localhost:8008;</code> - telling nginx to pass the traffic through to synapse, which listens by default for plaintext HTTP traffic on port 8008.  (N.B. do <strong>not</strong> put a trailing slash on the URL here, otherwise nginx will mangle the forwarded URLs.)</li>
</ul>
</li>
<li>Enable TLS via LetsEncrypt on nginx, by: <code>apt install -y python3-certbot-nginx &amp;&amp; certbot --nginx -d dangerousdemos.net -d riot.dangerousdemos.net -d matrix.dangerousdemos.net</code> (or whatever your domains are).</li>
<li>You should be able to go to https://dangerousdemos.net at this point and see a page with valid HTTPS.</li>
</ul>
<h3 id="synapse">Synapse</h3>
<ul>
<li>Then, install Synapse via Debian packages using the instructions at https://github.com/matrix-org/synapse/blob/master/INSTALL.md#debianubuntu (see below).  If you're not on Debian, keep an eye out for all the other OSes we support too!
<ul>
<li>You should specify the server name to be the domain you want in your matrix IDs - i.e. <code>dangerousdemos.net</code> in this example.</li>
<li>Please report anonymous aggregate stats to us so we can gauge uptake and help justify funding for Matrix!</li>
</ul>
</li>
</ul>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>sudo apt install -y lsb-release wget apt-transport-https
</span><span>sudo wget -O /usr/share/keyrings/matrix-org-archive-keyring.gpg https://packages.matrix.org/debian/matrix-org-archive-keyring.gpg
</span><span>echo &quot;deb [signed-by=/usr/share/keyrings/matrix-org-archive-keyring.gpg] https://packages.matrix.org/debian/ $(lsb_release -cs) main&quot; |
</span><span>    sudo tee /etc/apt/sources.list.d/matrix-org.list
</span><span>sudo apt update
</span><span>sudo apt install matrix-synapse-py3
</span></code></pre>
<ul>
<li>
<p>You should now be able to go to https://matrix.dangerousdemos.net and see a valid &quot;It works! Synapse is running&quot; page.</p>
</li>
<li>
<p>Then, you should enable registration on your synapse by switching <code>enable_registration: true</code> in <code>/etc/matrix-synapse/homeserver.yaml</code> and restarting synapse via <code>systemctl restart matrix-synapse</code>.</p>
</li>
<li>
<p>Now you need to tell the rest of Matrix how to find your server.  The easiest way to do this is to publish a file at https://dangerousdemos.net/.well-known/matrix/server which tells everyone the hostname and port where they can find the synapse for dangerousdemos.net - in this instance, it's <code>matrix.dangerousdemos.net:443</code>:</p>
</li>
</ul>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>mkdir -p /var/www/dangerousdemos.net/.well-known/matrix
</span><span>cd /var/www/dangerousdemos.net/.well-known/matrix
</span><span>echo &#39;{ &quot;m.server&quot;: &quot;matrix.dangerousdemos.net:443&quot; }&#39; &gt; server
</span></code></pre>
<ul>
<li><strong>Alternatively</strong>, you could advertise the server via DNS, if you don't have write access to <code>/.well-known</code> on your main domain.  However, to prove you are allowed to host the Matrix traffic for dangerousdemos.net, you would have to configure nginx to use the dangerousdemos.net TLS certificate for the matrix.dangerousdemos.net vhost (i.e. the &quot;wrong&quot; one), and in general we think that <code>/.well-known</code> is much easier to reason about.  In this case you would advertise the server with an SRV record like this:</li>
</ul>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>_matrix._tcp.dangerousdemos.net. 300    IN  SRV 10 5 443 matrix.dangerousdemos.net.
</span></code></pre>
<h3 id="riot-web">Riot/Web</h3>
<ul>
<li>Then, install Riot/Web.  Grab the latest .tgz release from https://github.com/vector-im/riot-web/releases.  You should check its GnuPG signature too:</li>
</ul>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>mkdir /var/www/riot.dangerousdemos.net
</span><span>cd /var/www/riot.dangerousdemos.net
</span><span>wget https://github.com/vector-im/riot-web/releases/download/v1.5.15/riot-v1.5.15.tar.gz
</span><span>
</span><span># check its GnuPG signature (particularly advisable, given Riot is what stores
</span><span># your end-to-end encryption keys)
</span><span>apt install -y gnupg
</span><span>wget https://github.com/vector-im/riot-web/releases/download/v1.5.15/riot-v1.5.15.tar.gz.asc
</span><span>
</span><span># grab the signing key for the riot releases repository, ideally from a keyserver...
</span><span>gpg --keyserver keyserver.ubuntu.com --search-keys releases@riot.im
</span><span>
</span><span># ...and/or you can grab or cross-check the signing key from packages.riot.im
</span><span>wget https://packages.riot.im/riot-release-key.asc
</span><span>gpg --import riot-release-key.asc
</span><span>
</span><span>gpg --verify riot-v1.5.15.tar.gz.asc
</span><span># hopefully this will report &quot;Good signature&quot;, even though it won&#39;t know to trust the riot release key.
</span><span>
</span><span># you could also choose to explicitly trust the key by editing it, entering &#39;trust&#39; and then &#39;5&#39; for ultimate trust.
</span><span>gpg --edit-key 74692659bda3d940
</span><span>
</span><span>tar -xzvf riot-v1.5.15.tar.gz
</span><span>ln -s riot-v1.5.15 riot
</span><span>chown www-data:www-data -R riot
</span><span>cd riot
</span><span>cp config.sample.json config.json
</span></code></pre>
<ul>
<li>You then tweak the <code>config.json</code> to change the <code>base_url</code> of the homeserver to be <code>https://matrix.dangerousdemos.net</code> (i.e. where to find the Client Server API for your server), and change the <code>server_name</code> to be <code>dangerousdemos.net</code> (i.e. the name of your server).</li>
<li>You should then be able to go to https://riot.dangerousdemos.net, register for an account, sign in, and talk to the rest of Matrix!</li>
</ul>
<h3 id="jitsi">Jitsi</h3>
<ul>
<li>Finally, we install Jitsi so you can run your own video conferencing.  We take the instructions from <a href="https://github.com/jitsi/jitsi-meet/blob/master/doc/quick-install.md">Jitsi's quick install guide</a>:</li>
</ul>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>echo &#39;deb https://download.jitsi.org stable/&#39; &gt;&gt; /etc/apt/sources.list.d/jitsi-stable.list
</span><span>wget -qO -  https://download.jitsi.org/jitsi-key.gpg.key | sudo apt-key add -
</span><span>apt-get update
</span><span>apt-get -y install jitsi-meet
</span></code></pre>
<ul>
<li>
<p>We give the installer the hostname <code>jitsi.dangerousdemos.net</code>.  <strong>Make sure this DNS is already set up, otherwise the installer will fail!</strong></p>
</li>
<li>
<p>The installer magically detects you have nginx installed and adds in an appropriate vhost!</p>
</li>
<li>
<p>We select a self-signed certificate for now, and then upgrade it to LetsEncrypt after the fact with <code>/usr/share/jitsi-meet/scripts/install-letsencrypt-cert.sh</code>.</p>
<ul>
<li>Alternatively, you could have specified manual certificates, and then used <code>certbot</code> alongside the rest of nginx to create a certificate for <code>jitsi.dangerousdemos.net</code> - both work.</li>
</ul>
</li>
<li>
<p>You should now be able to go to https://jitsi.dangerousdemos.net and use the Jitsi directly.</p>
</li>
<li>
<p>Finally, and this is the cool new bit: you can now point Riot to use the new Jitsi by going to its config.json at <code>/var/www/riot.dangerousdemos.net/riot/config.json</code> and changing the <code>preferredDomain</code> of the <code>jitsi</code> block from <code>https://jitsi.riot.im</code> to your own self-hosted <code>https://jitsi.dangerousdemos.net</code>.</p>
</li>
<li>
<p>You then refresh your Riot/Web, and you should be all set to use Jitsi from within your new Riot - as Riot/Web 1.5.15 and later has the ability to natively embed Jitsi straight into the app without needing to use an integration manager.</p>
</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>Matrix nowadays provides an excellent alternative to the centralised solutions.  It gives:</p>
<ul>
<li>Full autonomy over how to host and store your own conversations</li>
<li>Full freedom to talk to anyone else on the wider global Matrix network (or indeed anyone else bridged into Matrix)</li>
<li>Full privacy via full end-to-end-encryption for chats, file transfer and 1:1 voice/video calls (when enabled)</li>
<li>Full transparency by being 100% open source (as well as benefiting from the overall open source community)</li>
</ul>
<p>Hopefully this gives some confidence that it's pretty easy to run your own fully functional Matrix instance these days.
If not, then hopefully someone will do a similar one to show off Docker!
And if that's still too scary, please take a look at a hosting services like <a href="https://modular.im">Modular.im</a>.</p>
<p>(Comments over at <a href="https://news.ycombinator.com/item?id=22793239">HN</a> and <a href="https://news.ycombinator.com/item?id=22802645">here too</a>)</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;03&#x2F;03&#x2F;moznet-irc-is-dead-long-live-mozilla-matrix&#x2F;" title="Moznet IRC is dead; long live Mozilla Matrix!">Moznet IRC is dead; long live Mozilla Matrix!</a></h2>
                <span>
                    03.03.2020 21:49
                    —
                    <a href="/category/in-the-news">
                        In the News
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                <br>
                <small>Last update: 03.03.2020 18:09</small>
            </header>
            <div>
                
                <p>Hi all,</p>
<p>Heads up that yesterday at 12:00 ET, the Mozilla IRC network was switched off
after over 22 years of valiant service, and the <a href="http://exple.tive.org/blarg/2020/02/20/synchronous-messaging-were-live/">mozilla.org Matrix instance is
now in full production</a>.
You can get at it via the Riot instance at
https://chat.mozilla.org, by pointing your client at
https://mozilla.modular.im, or by joining rooms on the mozilla.org server over
federation via its room directory.</p>
<p>We'd like to thank Mozilla again for putting their faith in Matrix, and are
determined to do everything we can to ensure we're a more than worthy
successor to IRC; we have big boots to fill :)</p>
<p>We've been gathering a huge amount of invaluable FTUE (first time user experience)
feedback from the commentary in <a href="https://matrix.to/#/#synchronicity:mozilla.org">#synchronicity:mozilla.org</a> - and we're in the process
of implementing it over the coming weeks.  In particular, we've already implemented
alphabetic room ordering, custom theming support, and done a bunch more SSO work.</p>
<p>The immediate priorities include:</p>
<ul>
<li>Fixing a regression in jumps/jank when scrolling (fix PRed to develop today)</li>
<li>Enabling Mozilla IAM SSO authentication on remaining &quot;interactive user auth&quot; flows (e.g. managing devices)</li>
<li>Fixing the UX around selecting server when browsing the room directory.</li>
<li>Fixing notification defaults, behaviour and settings UX</li>
<li>Better educating users to connect to the mozilla.modular.im if using a random app.</li>
</ul>
<p>Finally, it's worth noting that the <a href="https://github.com/matrix-org/matrix-ircd">matrix-ircd</a> project is
seeing some commits again, many thanks to jplatte from the <a href="https://ruma.io">Ruma</a> project - so if you are
currently despairing the demise of moznet, never fear: you may yet be able to connect to the Mozilla matrix
server <a href="https://xkcd.com/1782/">via IRC</a> (authing via Mozilla IAM, of course) and pretend that none of this newfangled Matrix stuff
exists :D</p>
<p>Please keep the feedback coming in <a href="https://matrix.to/#/#synchronicity:mozilla.org">#synchronicity:mozilla.org</a> - we're gathering it all up into Github (under the mozilla label) as well as a high level <a href="https://docs.google.com/document/d/1yG3pqAWN4JLL_omC1E9W7Gc-jAOqFD0OAr5gig1Yilg/edit?usp=drive_web&amp;ouid=106410341666574529833">Google Doc</a> to help collate everything.</p>
<p>thanks,</p>
<p>- The Matrix Core Team.</p>
<p>(Comments over at <a href="https://news.ycombinator.com/item?id=22477757">HN</a>)</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;02&#x2F;24&#x2F;synapse-1-11-0-released&#x2F;" title="Synapse 1.11.0 released">Synapse 1.11.0 released</a></h2>
                <span>
                    24.02.2020 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>Synapse 1.11 landed on Friday (sorry for running late on blogging the release notes!)</p>
<p>The main change is to introduce an experimental API <a href="https://github.com/matrix-org/matrix-doc/pull/2432">MSC2432</a> for managing aliases for rooms on your local server.  In Synapse 1.10 we removed support for <code>m.room.aliases</code> events, which were a way to try to track which aliases a room had on the room itself (but were vulnerable to abuse).  In this release we've re-added the ability to query which aliases a given server has for the room, giving visibility for managing aliases, without having them spray all over the room state itself.  Riot/Web 1.5.10 supports the new API, giving a way to manage aliases on your local server while we finish off the remaining work to improve alias safety &amp; maintenance.</p>
<p>We've also changed the default power levels for new rooms so that room upgrades and ACLs require you to be an Admin (PL100), and invites in public rooms now require you to be a moderator (PL50).</p>
<p>Get the new release from <a href="https://github.com/matrix-org/synapse/releases/tag/v1.11.0">github</a> or any of the sources mentioned at https://github.com/matrix-org/synapse/blob/master/INSTALL.md.</p>
<h1 id="synapse-1-11-0-2020-02-21">Synapse 1.11.0 (2020-02-21)</h1>
<h2 id="improved-documentation">Improved Documentation</h2>
<ul>
<li>Small grammatical fixes to the ACME v1 deprecation notice. (<a href="https://github.com/matrix-org/synapse/issues/6944">#6944</a>)</li>
</ul>
<h1 id="synapse-1-11-0rc1-2020-02-19">Synapse 1.11.0rc1 (2020-02-19)</h1>
<h2 id="features">Features</h2>
<ul>
<li>Admin API to add or modify threepids of user accounts. (<a href="https://github.com/matrix-org/synapse/issues/6769">#6769</a>)</li>
<li>Limit the number of events that can be requested by the backfill federation API to 100. (<a href="https://github.com/matrix-org/synapse/issues/6864">#6864</a>)</li>
<li>Add ability to run some group APIs on workers. (<a href="https://github.com/matrix-org/synapse/issues/6866">#6866</a>)</li>
<li>Reject device display names over 100 characters in length to prevent abuse. (<a href="https://github.com/matrix-org/synapse/issues/6882">#6882</a>)</li>
<li>Add ability to route federation user device queries to workers. (<a href="https://github.com/matrix-org/synapse/issues/6873">#6873</a>)</li>
<li>The result of a user directory search can now be filtered via the spam checker. (<a href="https://github.com/matrix-org/synapse/issues/6888">#6888</a>)</li>
<li>Implement new <code>GET /_matrix/client/unstable/org.matrix.msc2432/rooms/{roomId}/aliases</code> endpoint as per <a href="https://github.com/matrix-org/matrix-doc/pull/2432">MSC2432</a>. (<a href="https://github.com/matrix-org/synapse/issues/6939">#6939</a>, <a href="https://github.com/matrix-org/synapse/issues/6948">#6948</a>, <a href="https://github.com/matrix-org/synapse/issues/6949">#6949</a>)</li>
<li>Stop sending <code>m.room.aliases</code> events when adding / removing aliases. Check <code>alt_aliases</code> in the latest <code>m.room.canonical_alias</code> event when deleting an alias. (<a href="https://github.com/matrix-org/synapse/issues/6904">#6904</a>)</li>
<li>Change the default power levels of invites, tombstones and server ACLs for new rooms. (<a href="https://github.com/matrix-org/synapse/pull/6834">#6834</a>)</li>
</ul>
<h2 id="bugfixes">Bugfixes</h2>
<ul>
<li>Fixed third party event rules function <code>on_create_room</code>'s return value being ignored. (<a href="https://github.com/matrix-org/synapse/issues/6781">#6781</a>)</li>
<li>Allow URL-encoded User IDs on <code>/_synapse/admin/v2/users/&lt;user_id&gt;[/admin]</code> endpoints. Thanks to @NHAS for reporting. (<a href="https://github.com/matrix-org/synapse/issues/6825">#6825</a>)</li>
<li>Fix Synapse refusing to start if <code>federation_certificate_verification_whitelist</code> option is blank. (<a href="https://github.com/matrix-org/synapse/issues/6849">#6849</a>)</li>
<li>Fix errors from logging in the purge jobs related to the message retention policies support. (<a href="https://github.com/matrix-org/synapse/issues/6945">#6945</a>)</li>
<li>Return a 404 instead of 200 for querying information of a non-existent user through the admin API. (<a href="https://github.com/matrix-org/synapse/issues/6901">#6901</a>)</li>
</ul>
<h2 id="updates-to-the-docker-image">Updates to the Docker image</h2>
<ul>
<li>The deprecated &quot;generate-config-on-the-fly&quot; mode is no longer supported. (<a href="https://github.com/matrix-org/synapse/issues/6918">#6918</a>)</li>
</ul>
<h2 id="improved-documentation-1">Improved Documentation</h2>
<ul>
<li>Add details of PR merge strategy to contributing docs. (<a href="https://github.com/matrix-org/synapse/issues/6846">#6846</a>)</li>
<li>Spell out that the last event sent to a room won't be deleted by a purge. (<a href="https://github.com/matrix-org/synapse/issues/6891">#6891</a>)</li>
<li>Update Synapse's documentation to warn about the deprecation of ACME v1. (<a href="https://github.com/matrix-org/synapse/issues/6905">#6905</a>, <a href="https://github.com/matrix-org/synapse/issues/6907">#6907</a>, <a href="https://github.com/matrix-org/synapse/issues/6909">#6909</a>)</li>
<li>Add documentation for the spam checker. (<a href="https://github.com/matrix-org/synapse/issues/6906">#6906</a>)</li>
<li>Fix worker docs to point <code>/publicised_groups</code> API correctly. (<a href="https://github.com/matrix-org/synapse/issues/6938">#6938</a>)</li>
<li>Clean up and update docs on setting up federation. (<a href="https://github.com/matrix-org/synapse/issues/6940">#6940</a>)</li>
<li>Add a warning about indentation to generated configuration files. (<a href="https://github.com/matrix-org/synapse/issues/6920">#6920</a>)</li>
<li>Databases created using the compose file in contrib/docker will now always have correct encoding and locale settings. Contributed by Fridtjof Mund. (<a href="https://github.com/matrix-org/synapse/issues/6921">#6921</a>)</li>
<li>Update pip install directions in readme to avoid error when using zsh. (<a href="https://github.com/matrix-org/synapse/issues/6855">#6855</a>)</li>
</ul>
<h2 id="deprecations-and-removals">Deprecations and Removals</h2>
<ul>
<li>Remove <code>m.lazy_load_members</code> from <code>unstable_features</code> since lazy loading is in the stable Client-Server API version r0.5.0. (<a href="https://github.com/matrix-org/synapse/issues/6877">#6877</a>)</li>
</ul>
<h2 id="internal-changes">Internal Changes</h2>
<ul>
<li>Add type hints to <code>SyncHandler</code>. (<a href="https://github.com/matrix-org/synapse/issues/6821">#6821</a>)</li>
<li>Refactoring work in preparation for changing the event redaction algorithm. (<a href="https://github.com/matrix-org/synapse/issues/6823">#6823</a>, <a href="https://github.com/matrix-org/synapse/issues/6827">#6827</a>, <a href="https://github.com/matrix-org/synapse/issues/6854">#6854</a>, <a href="https://github.com/matrix-org/synapse/issues/6856">#6856</a>, <a href="https://github.com/matrix-org/synapse/issues/6857">#6857</a>, <a href="https://github.com/matrix-org/synapse/issues/6858">#6858</a>)</li>
<li>Fix stacktraces when using <code>ObservableDeferred</code> and async/await. (<a href="https://github.com/matrix-org/synapse/issues/6836">#6836</a>)</li>
<li>Port much of <code>synapse.handlers.federation</code> to async/await. (<a href="https://github.com/matrix-org/synapse/issues/6837">#6837</a>, <a href="https://github.com/matrix-org/synapse/issues/6840">#6840</a>)</li>
<li>Populate <code>rooms.room_version</code> database column at startup, rather than in a background update. (<a href="https://github.com/matrix-org/synapse/issues/6847">#6847</a>)</li>
<li>Reduce amount we log at <code>INFO</code> level. (<a href="https://github.com/matrix-org/synapse/issues/6833">#6833</a>, <a href="https://github.com/matrix-org/synapse/issues/6862">#6862</a>)</li>
<li>Remove unused <code>get_room_stats_state</code> method. (<a href="https://github.com/matrix-org/synapse/issues/6869">#6869</a>)</li>
<li>Add typing to <code>synapse.federation.sender</code> and port to async/await. (<a href="https://github.com/matrix-org/synapse/issues/6871">#6871</a>)</li>
<li>Refactor <code>_EventInternalMetadata</code> object to improve type safety. (<a href="https://github.com/matrix-org/synapse/issues/6872">#6872</a>)</li>
<li>Add an additional entry to the SyTest blacklist for worker mode. (<a href="https://github.com/matrix-org/synapse/issues/6883">#6883</a>)</li>
<li>Fix the use of sed in the linting scripts when using BSD sed. (<a href="https://github.com/matrix-org/synapse/issues/6887">#6887</a>)</li>
<li>Add type hints to the spam checker module. (<a href="https://github.com/matrix-org/synapse/issues/6915">#6915</a>)</li>
<li>Convert the directory handler tests to use HomeserverTestCase. (<a href="https://github.com/matrix-org/synapse/issues/6919">#6919</a>)</li>
<li>Increase DB/CPU perf of <code>_is_server_still_joined</code> check. (<a href="https://github.com/matrix-org/synapse/issues/6936">#6936</a>)</li>
<li>Tiny optimisation for incoming HTTP request dispatch. (<a href="https://github.com/matrix-org/synapse/issues/6950">#6950</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;02&#x2F;03&#x2F;matrix-at-fosdem-2020&#x2F;" title="Matrix at FOSDEM 2020">Matrix at FOSDEM 2020</a></h2>
                <span>
                    03.02.2020 18:25
                    —
                    <a href="/category/events">
                        Events
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                <br>
                <small>Last update: 03.02.2020 13:22</small>
            </header>
            <div>
                
                <p>Hi all,</p>
<p>We're just back from an incredible time at <a href="https://fosdem.org/2020">FOSDEM 2020</a> - Europe's biggest Free &amp; Open Source Software conference.  Huge huge thanks to everyone who came to our talks (sorry if you couldn't get in :/), came to talk to us at the stand, or flagged us down to give feedback, chase PRs, file bugs, or just say thanks.  Thanks also to FOSDEM to accepting all of our talks this year, and to the FOSDEM organisers for pulling together yet another amazing event :)</p>
<p>We ended up with three talks:</p>
<ul>
<li><a href="https://fosdem.org/2020/schedule/event/matrix/">Making and Breaking Matrix's E2E Encryption</a></li>
<li><a href="https://fosdem.org/2020/schedule/event/dip_p2p_matrix/">The Path to Peer-to-Peer Matrix</a></li>
<li><a href="https://fosdem.org/2020/schedule/event/matrix_bridge/">Crossing the Bifröst - Bridging All The Things with Matrix</a></li>
</ul>
<p>We'll do a proper blog write-up on enabling E2E encryption by default, cross-signing, and all the other E2E encryption work that's been going on once we ship the stable release - but as of Saturday(!) it has landed on <a href="https://riot.im/develop">Riot/Web Develop</a>, <a href="https://play.google.com/store/apps/details?id=im.vector.riotx">RiotX/Android</a> (0.14.2) and Riot/iOS develop TestFlight, but we're still debugging and we need a bit longer before cutting the final releases.</p>
<p>So, until then, please take a look at the videos if you missed the livestream or weren't at the event!</p>
<iframe width="1280" height="720" src="https://www.youtube.com/embed/PUg574WphuQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<br/>
<iframe width="1280" height="720" src="https://www.youtube.com/embed/nZBKzQzH2NA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<br/>
<iframe width="1280" height="720" src="https://www.youtube.com/embed/B2vCFAeSUpw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>The FOSDEM video recording lost the slides for the bridging talk - but luckily the presentation itself is a <a href="https://github.com/Half-Shot/matrix-presents">Matrix client</a> and so you can <a href="https://presents.half-shot.uk/slides/!mfikNYyXndTTDgQjAu:half-shot.uk/">view the slides yourself right here!</a>.</p>
<p>Here's to FOSDEM 2021!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;01&#x2F;02&#x2F;on-privacy-versus-freedom&#x2F;" title="On Privacy versus Freedom">On Privacy versus Freedom</a></h2>
                <span>
                    02.01.2020 00:00
                    —
                    <a href="/category/thoughts">
                        Thoughts
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>A few years ago, back when Matrix was originally implementing end-to-end encryption, we asked Moxie (the project lead for Signal) whether he’d ever consider connecting Signal (then TextSecure) to Matrix.  After all, one of Matrix’s goals is to be an interoperability layer between other communication silos, and one of the reasons for us using Signal’s Double Ratchet Algorithm for Matrix’s encryption was to increase our chances of one day connecting with other apps using the same algorithm (Signal, WhatsApp, Google Allo, Skype, etc).  Moxie politely declined, and then a few months later wrote “<a href="https://signal.org/blog/the-ecosystem-is-moving/">The ecosystem is moving</a>” to elaborate his thoughts on why he feels he “no longer believes that it is possible to build a competitive federated messenger at all.”</p>
<p>At the time we didn’t respond via a blog post; instead we ended up talking it through a few times in person to see how misaligned we really were. The conclusion was that we agreed to disagree and Moxie said he’d be happy to be proved wrong, and wished us good luck.  However, the subject has come up again thanks to <a href="https://fahrplan.events.ccc.de/congress/2019/Fahrplan/events/11086.html">Moxie’s talk on the same subject</a> at 36C3 last week, and we <a href="https://news.ycombinator.com/item?id=21933891">keep</a> <a href="https://news.ycombinator.com/item?id=21935219">getting</a> <a href="https://matrix.to/#/!OGEhHVWSdvArJzumhm:matrix.org/$SzdpeR_Hji5AMOkydnYzv5UN_UaGdN710ThF-lfAt9A?via=matrix.org&amp;via=t2bot.io&amp;via=privacytools.io">asked</a> to write a formal response on the Matrix side.  So, here’s an attempt to do so.  (Moxie didn’t want the 36C3 talk recorded, and I haven’t watched it, so this is responding to the original blog post).</p>
<p>From my perspective, the main points proposed in ‘The ecosystem is moving’ boil down to:</p>
<ul>
<li>
<p>Decentralised systems are harder to design and build than centralised ones, as coordination is harder if you don’t have a single authority to trust.</p>
</li>
<li>
<p>Decentralised systems are harder and slower to evolve than centralised ones, as you can’t force participants to rapidly roll out (or even agree on) new features.</p>
</li>
<li>
<p>Users in federated systems tend to coalesce around the best/biggest server that the bulk of people use - which means that server typically gets to see a disproportionate amount of communication metadata (who’s talking to who, and when), and has disproportionate power over the network, which could bully others away from running their own deployments.</p>
</li>
<li>
<p>If users don’t trust their app provider, they can always go switch apps, which gives them freedom.</p>
</li>
<li>
<p>Open systems are less secure because you have no control over the quality of the implementations - if anyone can bring their own client or server to the table, all it takes is one bad implementation to compromise everyone in the vicinity.</p>
</li>
</ul>
<p>Now, all of these points are valid to some extent.</p>
<p>It’s absolutely true that decentralised systems are harder than centralised ones.  Prior to Matrix we built centralised comms systems - we literally can do a side-by-side comparison for the same team to see how easily and fast we built our centralised comms system relative to Matrix.  Empirically It took us around 6 times longer to get to the same feature-set with Matrix.</p>
<p>It’s also true that decentralised systems are harder to evolve than centralised ones - you can’t just push out a given feature with a single app update, but you have to agree and publish a public spec, support incremental migration, and build governance processes and community dynamics which encourage everyone to implement and upgrade.  This is hard, but not impossible: we’ve spent loads of time and money on Matrix’s <a href="https://matrix.org/foundation/">governance model</a> and <a href="https://matrix.org/docs/spec/proposals">spec process</a> to get it right.  It’s still not perfect, but we haven’t seen much fragmentation so far, and when we’re pushing out a feature empirically we can and do go just as fast as the centralised alternatives. (E2E by default is a bit of a special case because we’ve had to go and reimplement many features users take for granted today in an E2E-capable manner, but we’re sprinting to get it done in the coming weeks).  A bigger problem is that there are hundreds of spec change proposals which folks would like to see in the protocol, and finding a way to manage expectations and parallelise spec progress is hard - something we’re looking to improve in 2020 (although still figuring out how!)</p>
<p>It’s also fair that in a multi-server federated model, users naturally tend to sign up on the most prominent server(s) (e.g. the matrix.org homeserver in the case of Matrix).  In practice, the matrix.org homeserver currently makes up about 35% of the visible Matrix network by active users.  It’s also true that Matrix servers currently store metadata about who’s talking to who, and when, as a side-effect of storing and relaying messages on behalf of their users.  And without an adequate protocol governance system in place, a large server could start pushing around smaller ones in terms of protocol behaviour.  In practice, we’re looking into solving metadata protection in Matrix by experimenting with hybrid P2P / Client Server models - letting users store their metadata purely clientside if they so desire, and potentially obfuscating who’s talking to who via mixnets of blinded store &amp; forward servers (more about this coming up at <a href="https://fosdem.org/2020/schedule/event/dip_p2p_matrix/">FOSDEM</a>). Combined with <a href="https://github.com/matrix-org/matrix-doc/blob/rav/proposal/remove_mxids_from_events/proposals/1228-removing-mxids-from-events.md">nomadic accounts</a>, this would let us eventually turn off the matrix.org server entirely and eliminate the pseudo-centralisation effect - the default ‘server’ would be the one running on your client.</p>
<p>It’s true that if a user doesn’t trust (say) Telegram, they are free to go switch to Signal or WhatsApp or whatever instead… at the massive expense of having to persuade all their friends to install yet another app, and fragmenting their conversation history across multiple apps.</p>
<p>Finally, it’s also true that because anyone can develop a Matrix client or server and connect to the global network, there’s a risk of bad quality implementations in the wild.  There are many forks of Riot on the app stores - we simply can’t vouch for whether they are secure.  Similarly there are Matrix clients whose E2E encryption is partial, missing, or unreviewed.  And there are a wide range of different Matrix servers run by different people with different agendas in different locations, which may be more or less trustworthy.</p>
<p><strong>HOWEVER: all of this completely ignores one critical thing - the value of freedom</strong>.  Freedom to select which server to use.  Freedom to run your own server (perhaps invisibly in your app, in a P2P world). Freedom to pick which country your server runs in. Freedom to select how much metadata and history to keep. Freedom to choose which apps to use - while still having the freedom to talk to anyone you like (without them necessarily installing yet another app).  Freedom to connect your own functionality - bots, bridges, integrations etc.  Freedom to select which identifiers (if any) to use to register your account.  Freedom to extend the protocol.  Freedom to write your own client, or build whole new as-yet-unimagined systems on top.</p>
<p>It’s true that if you’re writing a messaging app optimised for privacy at any cost, Moxie’s approach is one way to do it. However, this ends up being a perversely closed world - a closed network, where unofficial clients are banned, with no platform to build on, no open standards, and you end up thoroughly putting all your eggs in one basket, trusting past, present &amp; future Signal to retain its values, stay up and somehow dodge compromise &amp; censorship… despite probably being the single highest value attack target on the ‘net.</p>
<p>Quite simply, that isn’t a world I want to live in.</p>
<p>We owe the entire success of the Internet (let alone the Web) to openness, interoperability and decentralisation.  To declare that openness, interoperability and decentralisation is ‘too hard’ and not worth the effort when building a messaging solution is to throw away <em>all</em> the potential of the vibrancy, creativity and innovation that comes from an open network.  Sure, you may end up with a super-private messaging app - but one that starts to smell alarmingly like a walled garden like Facebook’s Internet.org initiative, or an AOL keyword, or Google’s AMP.</p>
<p>So, we continue to gladly take up Moxie’s challenge to prove him wrong - to show that it’s both possible and imperative to create an open decentralised messaging platform which (if you use reputable apps and servers) can be as secure and metadata-protecting as Signal… and indeed more so, given you can run your server off the grid, and don’t need to register with a phone number, and in future may not even need a server at all.</p>
<p>--Matthew</p>
<p>(Comments over at <a href="https://news.ycombinator.com/item?id=21936929">HN</a>)</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;matthew-hodgson&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">2 / 14</span>
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;matthew-hodgson&#x2F;page&#x2F;3&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
