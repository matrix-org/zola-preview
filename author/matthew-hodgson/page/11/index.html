<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Matthew Hodgson</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/author/matthew-hodgson/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Matthew Hodgson</h1>
            146 posts tagged with "Matthew Hodgson" <a href="/author">(See all Author)</a>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;12&#x2F;26&#x2F;the-matrix-holiday-special-2016-edition&#x2F;" title="The Matrix Holiday Special! (2016 edition)">The Matrix Holiday Special! (2016 edition)</a></h2>
                <span>
                    26.12.2016 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>We seem to have fallen into the pattern of giving seasonal 'state of the union' updates on the Matrix blog, despite best intentions to blog more frequently... although given the <a href="/blog/2016/11/12/the-matrix-autumn-special/">Autumn Update</a> ended up being posted in November this one is going to be a relatively incremental update.  Let's jump straight in:</p>
<h3 id="e2e-encryption">E2E Encryption</h3>
<p>Unless you've been in a coma for the last month you'll have hopefully noticed that we <a href="/blog/2016/11/21/matrixs-olm-end-to-end-encryption-security-assessment-released-and-implemented-cross-platform-on-riot-at-last/">launched the formal beta for E2E Encryption</a> across matrix-{'{'}js,ios,android{'}'}-sdk (and thus Riot/{'{'}Web, iOS, Android{'}'}) in November, complete with the successful <a href="http://nccgroup.trust/us/our-research/matrix-olm-cryptographic-review">independent public security assessment</a> of our Olm and Megolm cryptography library from NCC Group.  So far the beta has gone well in parts: the core Olm/Megolm crypto library has held up well with no bugfixes at all required since the audit (yay!).  However, we've hit a lot of different edge cases in the wild where devices can fail to share their outbound session ratchet state to other devices present in the room.  This results in the infamous &quot;Unknown Inbound Session ID&quot; (UISI) errors which many folks will have seen (now renamed to the more meaningful &quot;Unable to decrypt: The sender's device has not sent us the keys for this message&quot; error).</p>
<p>Unfortunately there's a bunch of entirely different causes for this, both platform-specific and cross-platform, and we've been running around untangling all the error reports and getting to the bottom of it.  The good news is that we think we now know the vast majority of the causes, and fixes are starting to land.  We've also just finished a fairly time-consuming formal crypto code-review on the three application SDK implementations (JS, iOS &amp; Android) to shake out any other issues.  Meanwhile some new features have also landed - e.g. the ability for guests to use E2E!  The remaining stuff at this point before we can consider declaring E2E out of beta is:</p>
<ul>
 	<li>Finish fixing the UISI errors (in progress)</li>
 	<li>Warn when unverified devices are added to a room</li>
 	<li>Implement passphrased backup &amp; restore for E2E state, so that folks can avoid losing their E2E history when they logout or switch to a new device</li>
 	<li>Improve device verification.</li>
</ul>
Thanks to everyone who's been using E2E and reporting issues - given the number of different UISI error causes out there, it's been really useful to go through the different bug reports that folks have submitted.  Please continue to submit them when you see unexpected problems (especially over the coming months as stability improves!)
<h3 id="new-projects">New Projects!</h3>
<p>There have been a tonne of new projects popping up from all over the place since the last update.  Looking at the <a href="https://github.com/matrix-org/matrix-doc/commits/master/supporting-docs">git history</a> of the <a href="/docs/projects">projects page</a>, we've been adding one every few days!  Highlights include:</p>
<h4 id="bridges">Bridges:</h4>
<ul>
 	<li><a href="https://github.com/kfatehi/matrix-appservice-imessage">https://github.com/kfatehi/matrix-appservice-imessage</a> - A solid foundation for an iMessage bridge from kfatehi, built on top of the official matrix-appservice-bridge stack.  iMessage and FaceTime's crypto is tied into Apple's Fairplay DRM (famous for securing the iTunes Music Store and App Store) and is locked all the way down to the <a href="https://www.apple.com/business/docs/iOS_Security_Guide.pdf">keypair baked into your Apple device's CPU</a> at fabrication time, so for now the bridge has to be run on a macOS device in order to bridge.  It's very promising indeed, and exciting to see bridges to relatively inhospitable environments like iMessage popping up!</li>
 	<li><a href="https://github.com/Half-Shot/matrix-fb-chat/">https://github.com/Half-Shot/matrix-fb-chat/</a> - A proof-of-concept bridge for Facebook Messenger written by Half-Shot in TypeScript on top of the matrix-js-sdk.  Currently you have to manually configure which conversations to bridge between FB and Matrix, but it works!</li>
 	<li><a href="http://github.com/exul/matrix-rocketchat">https://github.com/exul/matrix-rocketchat</a>  - A new Rocket.Chat bridge from exul, written in Rust.</li>
 	<li><a href="https://github.com/pztrn/matrix-xmpp-bridge">https://github.com/pztrn/matrix-xmpp-bridge</a> - A major fork from pztrn of jfred's matrix-xmpp-bridge, now using flask, regius, alembic, sleekxmpp and all sorts.  Currently in very active dev!</li>
 	<li><a href="https://github.com/CyrusTheHedgehog/Hangouts-Bridge">https://github.com/CyrusTheHedgehog/Hangouts-Bridge</a> - A basic PoC of a Hangouts bridge, written in python3 asyncio</li>
</ul>
<h4 id="clients">Clients</h4>
<ul>
 	<li><a href="https://github.com/lukebarnard1/j">https://github.com/lukebarnard1/j</a> - A blogging and journalism platform built on Matrix from Luke (moonlighting from the core team!)</li>
 	<li><a href="https://live.hello-matrix.net/">https://live.hello-matrix.net/</a> - a live-blogging system powered by Matrix from @ar</li>
 	<li><a href="https://github.com/pik/interlocutor">https://github.com/pik/interlocutor</a> - An experimental decentralized comment system powered by Matrix, written as a Polymer Webcomponent</li>
 	<li><a href="https://github.com/tjgillies/freebird">https://github.com/tjgillies/freebird</a> - a basic twitter clone built on Matrix by tjgillies</li>
</ul>
<h4 id="other-projects">Other projects</h4>
<ul>
 	<li><a href="https://github.com/slp/matrix-pushgw">https://github.com/slp/matrix-pushgw</a> - A Matrix push gateway written in Golang which exposes a custom TCP push protocol to apps, letting them get push notifications directly from your own gateway rather than via GCM or APNS.  The intention is to use it for Sailfish and Fdroid.  The initial implementation looks very promising - just needs the clientside support, and then folks who don't trust Google with their notifications can run completely indie at last!</li>
 	<li><a href="https://github.com/kultsinuppeli/riotchat">https://github.com/kultsinuppeli/riotchat</a> - Ansible playbook for Riot/Web and Synapse</li>
 	<li><a href="https://github.com/bismark/matrex">https://github.com/bismark/matrex</a> - Experimental beginnings of a Matrix homeserver written in Elixir!</li>
 	<li><a href="https://github.com/mlopezr/node-red-contrib-matrixbot">https://github.com/mlopezr/node-red-contrib-matrixbot</a> - Matrix bot plugin for the <a href="https://nodered.org/">Node-RED</a> IOT platform</li>
</ul>
<h3 id="bots-and-bridges">Bots and Bridges</h3>
<p>There's been a bunch of work from the core team on bots &amp; bridges infrastructure over the last month:</p>
<p>Rearchitecting the slack and gitter bridges to optionally support 'puppeting users'.  This is in some ways the ultimate flavour of bridging - where you authenticate with the remote service using your &quot;real&quot; gitter/slack/... credentials, and then the bridge has access to synchronise your full spectrum of data with Matrix.  This is in contrast to the current implementations where the bridge creates virtual users (e.g. Slack webhook bots or IRC virtual user bots) or uses a predefined bot (e.g. matrixbridge on gitter) to link the rooms.</p>
<p>This has some huge advantages: e.g. ability to bridge Slack and Gitter DMs through properly to Matrix; bridging presence and typing notifications correctly, not requiring any custom bots or integrations to be configured; not proxying via a crappy bridge bot as per gitter today; letting Matrixed users be completely indistinguishable from their native selves on the remote platform - so supporting tab complete in Slack, profiles, presence, etc.  The main disadvantage is that you have to have an account on the platform already (although you could argue this is a feature, especially from the remote network's perspective!) and that you are delegating access to that account through to the bridge, so you'd better trust it.  However, you can always run your own bridge if trust is an issue.</p>
<p>The work on this is mid-progress currently, but we're really looking forward to seeing the official Slack, Gitter and other bridges support this mode of operation in the new year!</p>
<p>We've also been spending some time working with bridges written by the wider community (e.g. Half-Shot's <a href="https://github.com/Half-Shot/matrix-appservice-twitter">twitter bridge</a>) to get them deployed on the matrix.org homeserver itself, to help folks who can't run their own.</p>
<p>Meanwhile there's been a lot of work going into supporting the IRC bridge. Main highlights there are:</p>
<ul>
 	<li>The release of <a href="/blog/2016/12/19/matrix-appservice-irc-0-7-0-is-out/">matrix-appservice-irc 0.7</a>, with all sorts of major new features</li>
 	<li>Turning on bi-directional membership list syncing at last for all networks other than Freenode!  In theory, at least, you should finally see the same list of room members in both IRC and Matrix!!</li>
 	<li>Handling IRC PM botspam from Freenode and OFTC, which bridge through as invite spam into Matrix.  Sorry if you've been bitten by this.  We've worked around it for now by setting appropriate umodes on the IRC bots, and by implementing a 'bulk reject' button on Riot (under in Settings).  This caused a few nasty outages on Freenode and OFTC. On the plus side, at least it shows that Riot scales up to receiving 2000+ invites without exhibiting ill effects...</li>
 	<li>Considering how to improve history visibility on IRC to avoid scenarios where channel history is shared between users in the same room (even if their IRC bot has temporarily disconnected).  This was a major problem during the Freenode/OFTC outages mentioned earlier.</li>
</ul>
Last but not least, we've just released <a href="https://github.com/matrix-org/gomatrix">gomatrix - a new official Matrix client SDK for golang</a>!  <a href="https://github.com/matrix-org/go-neb">Go-neb</a> (the reference golang Matrix bot framework) has been entirely refactored to use gomatrix, which should keep it honest as a 1st class Matrix client SDK for those in the Golang community.  We highly recommend all Golang nuts to go <a href="https://godoc.org/github.com/matrix-org/gomatrix">read the documentation</a> and give it a spin!
<h3 id="riot-desktop">Riot Desktop</h3>
<p>Riot development has been largely preoccupied with E2E debugging in the respective Matrix Client SDKs, but <a href="https://medium.com/@RiotChat/introducing-riot-0-9-and-desktop-riot-3585d1027243">0.9.3 was released last week adding in Electron-based desktop app support</a>.  (Remember, if you hate Electron-style desktop apps which provide a desktop app by embedded a webbrowser, you can always use another Matrix client!).  If you've been missing having Riot as a proper desktop app, go get involved!</p>
<img class="aligncenter size-large wp-image-1874" src="/blog/wp-content/uploads/2016/12/Screen-Shot-2016-12-26-at-01.00.12-1024x687.png" alt="screen-shot-2016-12-26-at-01-00-12" width="1024" height="687" />
<h3 id="next-generation-homeservers">Next Generation Homeservers</h3>
<h4 id="ruma">Ruma</h4>
<p><a href="https://ruma.io">Ruma</a> is a project led by Jimmy Cuadra to build a Matrix homeserver in Rust - the project has been ploughing steadily onwards through 2016 with a bit of an acceleration during December.  You can follow progress at the excellent <a href="https://www.ruma.io/news/">This Week in Ruma</a> blog, <a href="https://github.com/ruma/ruma/pulse/monthly">watching the project on Github</a>, and tracking the <a href="https://github.com/ruma/ruma/blob/master/STATUS.md">API status dashboard</a>.  Some of the latest PRs are looking very promising in terms of getting the core remaining CS APIs working, e.g:</p>
<ul class="simple-conversation-list varied-states">
 	<li><span class="num">Merged #113</span>
 <a class="title" href="https://github.com/ruma/ruma/pull/113">Add implementation for the filter endpoint.</a> 4 days ago</li>
 	<li><span class="state state-merged">Merged</span>
<span class="num">#125</span>
 <a class="title" href="https://github.com/ruma/ruma/pull/125">Adding a Server header to API responses</a> 5 days ago</li>
 	<li><span class="state state-merged">Merged</span>
<span class="num">#105</span>
 <a class="title" href="https://github.com/ruma/ruma/pull/105">Add basic implementation for the tags endpoint.</a> 5 days ago</li>
 	<li><span class="num">Open #106</span>
 <a class="title" href="https://github.com/ruma/ruma/pull/106">Add basic implementation for the sync endpoint.</a> 2 days ago</li>
 	<li><span class="state state-open">Open</span>
<span class="num">#58</span>
 <a class="title" href="https://github.com/ruma/ruma/issues/58">API: GET /events</a> 20 days ago</li>
</ul>
Needless to say, we've been keeping an eye on Ruma with extreme interest, not least as some of the Matrix core team are rabid Rustaceans too :)  We can't wait to see it exposing a usable CS API in the hopefully not-too-distant future!!
<h4 id="dendrite">Dendrite</h4>
<p>Meanwhile, in the core team, we've been doing some fairly serious experimentation on next-generation homeservers.  Synapse is in a relatively stable state currently, and we've implemented most of the horizontal scalability tricks available to us there (e.g. splitting out <a href="https://github.com/matrix-org/synapse/blob/master/docs/workers.rst">worker processes</a>).  Instead we're starting to hit some fundamental limitations of the architecture: the fact that the whole codebase effectively assumes that it's talking to a single consistent database instance; python's single-threadedness and memory inefficiency; twisted's lack of profiling; being limited to sqlite's featureset; the fact that the schema has grown organically and is difficulty to refactor aggressively; the fact the app papers over SQL problems by caching everything in RAM (resulting in synapse's high RAM requirements); the constant bugs caused by lack of type safety; etc.</p>
<p>We started an experiment in Golang to fix some of this a year ago in the form of <a href="https://github.com/matrix-org/dendron">Dendron</a> - a &quot;<a href="http://www.martinfowler.com/bliki/StranglerApplication.html">strangler pattern</a>&quot; homeserver skeleton intended to sit in front of a synapse and slowly port endpoints over to Go.  In practice, Dendron ended up just being a rather dubious Matrix-aware loadbalancer, and meanwhile no endpoints got moved into it (other than /login, which then got moved out again due to the extreme confusion of having to maintain implementations in both Dendron &amp; Synapse).  The main reasons for Dendron's failure are a) we had enough on our hands supporting Synapse; b) there were easier scalability improvements (e.g. workers) to be had on Synapse; c) the gradual migration approach looked like it would end up sharing the same storage backend as Synapse anyway, and potentially end up inheriting a bunch of Synapse's woes.</p>
<p>So instead, a month or so ago we started a new project codenamed Dendrite (aka Dendron done right ;D) - this time an entirely fresh standalone Golang codebase for rapid development and iteration on the platonic ideal of a next-generation homeserver (and an excuse to audit and better document &amp; spec some of the <a href="https://docs.google.com/document/d/14KVTNIZIig1iyRBzK91L6B7tnsfmon7CIWh-DCFRd6k/edit">murkier</a> bits of Matrix).  The project is still very early and there's no doc or code to be seen yet, but it's looking cautiously optimistic (especially relative to Dendron!).  The project goals are broadly:</p>
<ol>
 	<li>To build a new HS capable of supporting the exponentially increasing load on matrix.org ASAP (which is currently at 600K accounts, 50K rooms, 5 messages/s and growing fast).</li>
 	<li>To architecturally support full horizontal scalability through clustering and sharding from the outset - i.e. no single DBs or DB writer processes.</li>
 	<li>To optimise for Postgres rather than be constrained by SQLite, whilst still aiming for a simple but optimal schema and storage layer.  Optimising for smaller resource footprints (e.g. environments where a Postgres is overkill) will happen later - but the good news is that the architecture will support it (unlike Synapse, which doesn't scale down nicely even with SQLite).</li>
</ol>
It's too early to share more at this stage, but thought we should give some visibility on where things are headed!  Needless to say, Synapse is here for the foreseeable - we think of it as being the Matrix equivalent of the role Apache httpd played for the Web.  It's not enormously efficient, but it's popular and relatively mature, and isn't going away.  Meanwhile, new generations of servers like Ruma and Dendrite will come along for those seeking a sleeker but more experimental beast, much as nginx and lighttpd etc have come along as alternatives to Apache.  Time will tell how the server ecosystem will evolve in the longer term, but it's obviously critical to the success of Matrix to have multiple active independent server implementations, and we look forward to seeing how Synapse, Ruma &amp; Dendrite progress!
<h3 id="2017">2017</h3>
<p>Looking back at where we were at <a href="/blog/2015/12/25/the-matrix-holiday-special/">this time last year</a>, 2016 has been a critical year for Matrix as the ecosystem has matured - rolling out E2E encryption; building out proper bot &amp; bridge infrastructure; stabilising and tuning Synapse to keep up with the exponential traffic growth; seeing the explosion of contributors and new projects; seeing Riot edging closer to becoming a viable mainstream communication app.</p>
<p>2017 is going to be all about scaling Matrix - both the network, the ecosystem, and the project.  Whilst we've hopefully transitioned from being a niche decentralisation initiative to a relatively mainstream FOSS project, our ambition is unashamedly to become a mainstream communication (meta)network usable for the widest possible audience (whilst obviously still supporting our current community of FOSS &amp; privacy advocates!).  With this in mind, stuff on the menu for 2017 includes:</p>
<ul>
 	<li>Getting E2E Encryption out of beta asap.</li>
 	<li>Ensuring we can scale beyond Synapse - see Dendrite, above.</li>
 	<li>Getting as many bots and bridges into Matrix as possible, and doing everything we can to support them, host them and help them be as high quality as possible - making the public federated Matrix network as useful and diverse as possible.</li>
 	<li>Supporting Riot's leap to the mainstream, ensuring Matrix has at least one killer app.</li>
 	<li>Adding the final major missing features:
<ul>
 	<li>Customisable User Profiles (this is almost done, actually)</li>
 	<li>Groups (i.e. ability to define groups of users, and perform invites, powerlevels etc per-group as well as per-user)</li>
 	<li>Threading</li>
 	<li>Editable events (and Reactions)</li>
</ul>
</li>
 	<li>Maturing and polishing the spec (we are way overdue a new release)</li>
 	<li>Improving VoIP - especially conferencing.</li>
 	<li>Reputation/Moderation management (i.e. spam/abuse filtering).</li>
 	<li>Much-needed SDK performance work on matrix-{'{'}react,ios,android{'}'}-sdk.</li>
 	<li>...and a few other things which would be premature to mention right now :D</li>
</ul>
This is going to be an incredibly exciting ride (right now, it feels a bit like being on a toboggan which has made its way onto a fairly steep ski slope...) and we can only thank you: the community, for getting the project to this point - whether you're hacking on Matrix, contributing pull requests, filing issues, testing apps, spreading the word, or just simply using it.
<p>See you in 2017, and thanks again for flying Matrix.</p>
<ul>
<li>Matthew, Amandine &amp; the Matrix Team.</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;12&#x2F;19&#x2F;matrix-appservice-irc-0-7-0-is-out&#x2F;" title="matrix-appservice-irc 0.7.0 is out!">matrix-appservice-irc 0.7.0 is out!</a></h2>
                <span>
                    19.12.2016 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Also, we've just released a major update to the IRC bridge codebase after trialling it on the matrix.org-hosted bridges for the last few days.</p>
<p>The big news is:</p>
<ul>
 	<li>The bridge uses Synapse 0.18.5's new APIs for managing the public room list (improving performance a bunch)</li>
 	<li>Much faster startup using the new /joined_rooms and /joined_members APIs in Synapse 0.18.5</li>
 	<li>The bridge will now remember your NickServ password (encrypted at rest) if you want it to via the <code>!storepass</code> command</li>
 	<li>You can now set arbitrary user modes for IRC clients on connection (to mitigate PM spam etc)</li>
 	<li>After a split, the bridge will drop Matrix-&gt;IRC messages older than N seconds, rather than try to catch the IRC room up on everything they missed on Matrix :S</li>
 	<li>Operational metrics are now implemented using Prometheus rather than statsd</li>
 	<li>New <code>!quit</code> command to nuke your user from the remote IRC network</li>
 	<li>Membership list syncing for IRC-&gt;Matrix is enormously improved, and enabled for all matrix.org-hosted bridges apart from Freenode.  &lt;b&gt;At last, membership lists should be in sync between IRC and Matrix; please let us know if they're not&lt;/b&gt;.</li>
 	<li>Better error logging</li>
</ul>
For full details, please see <a href="https://github.com/matrix-org/matrix-appservice-irc/blob/master/CHANGELOG.md">the changelog</a>.
<p>With things like NickServ-pass storing, !quit support and full bi-directional membership list syncing, it's never been a better time to run your own IRC bridge.  Please install or upgrade today from <a href="https://github.com/matrix-org/matrix-appservice-irc">https://github.com/matrix-org/matrix-appservice-irc</a>!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;12&#x2F;19&#x2F;synapse-0-18-5-released&#x2F;" title="Synapse 0.18.5 released!">Synapse 0.18.5 released!</a></h2>
                <span>
                    19.12.2016 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi folks,</p>
<p>We released synapse 0.18.5 on Friday.  This is mainly about fixing performance problems with the unread room counts and the public room directory; polishing the E2E endpoints based on beta feedback; and general minor bits and bobs.</p>
<p>Get it whilst it's (almost) hot from <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>!  Changelog follows:</p>
<h3 id="changes-in-synapse-v0-18-5-2016-12-16">Changes in synapse v0.18.5 (2016-12-16)</h3>
<p>Bug fixes:</p>
<ul>
 	<li>Fix federation /backfill returning events it shouldn't (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1700" data-url="https://github.com/matrix-org/synapse/issues/1700" data-id="195535459" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1700</a>)</li>
 	<li>Fix crash in url preview (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1701" data-url="https://github.com/matrix-org/synapse/issues/1701" data-id="195654621" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1701</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-18-5-rc3-2016-12-13">Changes in synapse v0.18.5-rc3 (2016-12-13)</h3>
<p>Features:</p>
<ul>
 	<li>Add support for E2E for guests (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1653" data-url="https://github.com/matrix-org/synapse/issues/1653" data-id="191729740" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1653</a>)</li>
 	<li>Add new API appservice specific public room list (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1676" data-url="https://github.com/matrix-org/synapse/issues/1676" data-id="193810881" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1676</a>)</li>
 	<li>Add new room membership APIs (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1680" data-url="https://github.com/matrix-org/synapse/issues/1680" data-id="194337450" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1680</a>)</li>
</ul>
Changes:
<ul>
 	<li>Enable guest access for private rooms by default (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/653" data-url="https://github.com/matrix-org/synapse/issues/653" data-id="141629328" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#653</a>)</li>
 	<li>Limit the number of events that can be created on a given room concurrently (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1620" data-url="https://github.com/matrix-org/synapse/issues/1620" data-id="188559220" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1620</a>)</li>
 	<li>Log the args that we have on UI auth completion (PR <a class="issue-link js-issue-link" title="Log the args that we have on UI auth completion" href="https://github.com/matrix-org/synapse/pull/1649" data-id="191480434" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1649</a>)</li>
 	<li>Stop generating refresh_tokens (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1654" data-url="https://github.com/matrix-org/synapse/issues/1654" data-id="191730725" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1654</a>)</li>
 	<li>Stop putting a time caveat on access tokens (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1656" data-url="https://github.com/matrix-org/synapse/issues/1656" data-id="191962876" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1656</a>)</li>
 	<li>Remove unspecced GET endpoints for e2e keys (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1694" data-url="https://github.com/matrix-org/synapse/issues/1694" data-id="194929277" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1694</a>)</li>
</ul>
Bug fixes:
<ul>
 	<li>Fix handling of 500 and 429's over federation (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1650" data-url="https://github.com/matrix-org/synapse/issues/1650" data-id="191542366" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1650</a>)</li>
 	<li>Fix Content-Type header parsing (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1660" data-url="https://github.com/matrix-org/synapse/issues/1660" data-id="192589052" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1660</a>)</li>
 	<li>Fix error when previewing sites that include unicode, thanks to <a class="user-mention" href="https://github.com/kyrias">@kyrias</a> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1664" data-url="https://github.com/matrix-org/synapse/issues/1664" data-id="192830301" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1664</a>)</li>
 	<li>Fix some cases where we drop read receipts (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1678" data-url="https://github.com/matrix-org/synapse/issues/1678" data-id="194321090" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1678</a>)</li>
 	<li>Fix bug where calls to <code>/sync</code> didn't correctly timeout (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1683" data-url="https://github.com/matrix-org/synapse/issues/1683" data-id="194627488" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1683</a>)</li>
 	<li>Fix bug where E2E key query would fail if a single remote host failed (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1686" data-url="https://github.com/matrix-org/synapse/issues/1686" data-id="194665373" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1686</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-18-5-rc2-2016-11-24">Changes in synapse v0.18.5-rc2 (2016-11-24)</h3>
<p>Bug fixes:</p>
<ul>
 	<li>Don't send old events over federation, fixes bug in -rc1.</li>
</ul>
<h3 id="changes-in-synapse-v0-18-5-rc1-2016-11-24">Changes in synapse v0.18.5-rc1 (2016-11-24)</h3>
<p>Features:</p>
<ul>
 	<li>Implement "event_fields" in filters (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1638" data-url="https://github.com/matrix-org/synapse/issues/1638" data-id="190978482" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1638</a>)</li>
</ul>
Changes:
<ul>
 	<li>Use external ldap auth package (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1628" data-url="https://github.com/matrix-org/synapse/issues/1628" data-id="189389095" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1628</a>)</li>
 	<li>Split out federation transaction sending to a worker (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1635" data-url="https://github.com/matrix-org/synapse/issues/1635" data-id="190696205" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1635</a>)</li>
 	<li>Fail with a coherent error message if <code>/sync?filter=</code> is invalid (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1636" data-url="https://github.com/matrix-org/synapse/issues/1636" data-id="190714631" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1636</a>)</li>
 	<li>More efficient notif count queries (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1644" data-url="https://github.com/matrix-org/synapse/issues/1644" data-id="191311986" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1644</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;11&#x2F;23&#x2F;when-ericsson-discovered-matrix&#x2F;" title="When Ericsson discovered Matrix...">When Ericsson discovered Matrix...</a></h2>
                <span>
                    23.11.2016 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><i>As something completely different, we've invited Stefan Ålund and his team at Ericsson to write a guest blog
post about the really cool stuff Ericsson is doing with Matrix.  This is a fascinating glimpse into how major folks
are already launching commercial products on top of Matrix - whilst also making significant contributions back to
the projects and the community.  We'd like to thank Stefan and Ericsson for all their support and perseverance,
and we wish them the very best with the Ericsson Contextual Communication Cloud!
</i></p>
<p><i>-- Matthew
</i></p>
<p>At the end of 2014, my colleague Adam Bergkvist and I attended the WebRTC Expo in Paris, partly to promote our
Open Source project <a href="https://www.openwebrtc.org">OpenWebRTC</a>, but also to meet the rest of the European
WebRTC community and see what others were working on. </p>
<p>At Ericsson Research we had been working on WebRTC for quite some time. Not only on the client-side framework and
how those could enable some truly <a href="https://www.youtube.com/watch?v=0nl0fuWzoGk">experimental stuff</a>, but
more importantly how this emerging technology could be used to build new kinds of communication services where
communication is not <em>the</em> service (A calling B), but is integrated as part of some other service or context. A simple
example would be a health care solution, where the starting point could be the patient records and communication
technologies are integrated to enable remote discussions between patients and their doctors.</p>
<p>Our research in this area, that we started calling “contextual communication”, pointed in a different direction from
Ericsson's traditional communication business, therefore making it hard for us to transfer our ideas and technologies
out from Ericsson Research. We increasingly had the feeling that we needed to build something new and start from a
clean slate, so to speak.</p>
<p>Some of our guiding principles:</p>
<ul>
 	<li style="font-weight: 400;">Flexibility - the communication should be able to integrate anywhere
</li>
 	<li style="font-weight: 400;">Fast iterations - browsers and WebRTC are moving targets
</li>
 	<li style="font-weight: 400;">Open - interoperability is important for communication systems
</li>
 	<li style="font-weight: 400;">Low cost - operations for the core communication should approach 0
</li>
 	<li style="font-weight: 400;">Trust - build on the Ericsson brand and technology leadership 
</li>
</ul>
We had a pretty good idea about what we wanted to build, but even though Ericsson is a big company, the team working in this area was relatively small and also had a number of other commitments that we couldn't abandon.
<p>I think that is enough of a background, let's circle back to the WebRTC Expo and the reason why I am writing this post on the Matrix blog.</p>
<p>Adam and I were pretty busy in <a href="https://twitter.com/OpenWebRTC/status/544781293838684161">our booth</a> talking
to people and giving demos, so we actually missed when Matrix won
the <a href="/blog/2014/12/24/matrix-wins-best-innovation-award-at-webrtc-paris/"> Best Innovation Award</a>.
Nonetheless we finally got some time to walk around and I started chatting with Matthew and Amandine who were manning
the Matrix booth. Needless to say, I was really impressed with their vision and what they wanted to build. The
comparison to email and how they wanted to make it possible to build an interoperable bridge between communication
“islands”, all in an open (source) manner, really appealed to me.</p>
<p>To be honest, the altruistic aspects of decentralising communication was not the most important part for us,
even if we were sympathetic to the cause, working for a company that was founded from
&quot;<a href="http://www.ericsson.hr/lars-magnus-ericsson-entrepreneur">the belief that communication is a basic human need</a>&quot;.
We ultimately wanted to build a new kind of communication offering from Ericsson, and it looked like Matrix might be able
to play a part in that.</p>
<p>I had recently hired a couple of <a href="http://teknikspranget.se">interns</a> and as soon as I came back from Paris, we
set them to work evaluating Matrix. They were quickly able to port an existing WebRTC service (developed and used in-house)
to use Matrix signalling and user management. We initially had some concerns about the maturity of the reference
Home Server <a href="https://github.com/matrix-org/synapse">implementation</a> (remember, this was almost 2 years ago) and
we didn't want to start developing our own since we were still a small team. However, Matthew and the rest of the Matrix
team worked closely with us, helping to answer all our (dumb) questions and we finally got to a point where we had the
confidence to say “screw it, let's try this and see if it flies”. ?</p>
<p>Ericsson had recently launched the <a href="https://www.ericsson.com/innovation/ericsson-garage">Ericsson Garage</a> where
employees could pitch ideas for how to build new business. So we decided to give the process a try and presented an idea
on how Ericsson could start selling contextual communication as-a-Service, directly to enterprises that wanted help
integrating communication into their business processes, but didn't necessarily have the competence or business interest
to run their own communication services. We got accepted and moved (physically) out of Research to sit in the Garage for
the next 4 months, developing a <a href="https://en.wikipedia.org/wiki/Minimum_viable_product">MVP</a>.</p>
<p>Since the primary interface to our offering would be through SDKs on various platforms, we decided early on to develop our
own. The SDKs were implementing the standard Matrix specification, but we put a lot of time in increasing the robustness
and flexibility in the WebRTC call handling and eventually with added peer-2-peer data and collaboration features, on top
of the secure WebRTC <a href="https://tools.ietf.org/html/draft-ietf-rtcweb-data-channel-13">DataChannel</a>. On the
server side, our initialconcerns about Synapse were eventually removed completely as the Matrix team relentlessly kept
working on fixing performance issues, patching security holes and provided a story on how to scale. Over the years we
have contributed with several patches to Synapse (SAML auth and auth improvements; application service improvements) and
provided input to the Matrix specification. We have always found the Matrix team be very inclusive and easy to work with.</p>
<p>The project graduated successfully from the Ericsson Garage and moved in to Ericsson's Business Unit IT &amp; Cloud
Products, where we started to increase the size of the team and just last month signed a contract with our first
customer. We call the solution Ericsson Contextual Communication Cloud, or ECCC for short, and it can be summarised on a
high level by the following picture:</p>
<img class="aligncenter size-full wp-image-1852" src="/blog/wp-content/uploads/2016/11/Picture1.png" alt="ECCC in a nutshell" width="975" height="546" />
<p>If you are interested in ECCC, feel free to reach out at <a href="https://discuss.c3.ericsson.net">https://discuss.c3.ericsson.net</a></p>
<p>As with any project developed in the open, it is essential to have a healthy community around it. We have received
excellent support from the Matrix project and they have always been open for discussion, engaged our developers and
listened to our needs. We depend on Matrix now and we see great potential for the future. We hope that others will adopt the 
technology and help make the community grow even stronger.</p>
<ul>
<li>Stefan Ålund and the Ericsson ECCC Team</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;11&#x2F;22&#x2F;synapse-0-18-4&#x2F;" title="Synapse 0.18.4">Synapse 0.18.4</a></h2>
                <span>
                    22.11.2016 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Uncharacteristically, we're actually remembering to announce a new release of Synapse!</p>
<p>Major performance fixes on federation, as well as the changes required to support E2E encrypted attachments (yay!)</p>
<p>Please install or upgrade from <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a> :)</p>
<div class="markdown-body">
<h3 id="changes-in-synapse-v0-18-4-2016-11-22">Changes in synapse v0.18.4 (2016-11-22)</h3>
<p>Bug fixes:</p>
<ul>
 	<li>Add workaround for buggy clients that the fail to register (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1632" data-url="https://github.com/matrix-org/synapse/issues/1632" data-id="190371942" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1632</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-18-4-rc1-2016-11-14">Changes in synapse v0.18.4-rc1 (2016-11-14)</h3>
<p>Changes:</p>
<ul>
 	<li>Various database efficiency improvements (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1188" data-url="https://github.com/matrix-org/synapse/issues/1188" data-id="186341262" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1188</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1192" data-url="https://github.com/matrix-org/synapse/issues/1192" data-id="187084488" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1192</a>)</li>
 	<li>Update default config to blacklist more internal IPs, thanks to Euan Kemp <a class="user-mention" href="https://github.com/euank">@euank</a> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1198" data-url="https://github.com/matrix-org/synapse/issues/1198" data-id="187605325" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1198</a>)</li>
 	<li>Allow specifying duration in minutes in config, thanks to Daniel Dent <a class="user-mention" href="https://github.com/DanielDent">@DanielDent</a> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1625" data-url="https://github.com/matrix-org/synapse/issues/1625" data-id="188899917" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1625</a>)</li>
</ul>
Bug fixes:
<ul>
 	<li>Fix media repo to set CORs headers on responses (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1190" data-url="https://github.com/matrix-org/synapse/issues/1190" data-id="186776121" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1190</a>)</li>
 	<li>Fix registration to not error on non-ascii passwords (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1191" data-url="https://github.com/matrix-org/synapse/issues/1191" data-id="187025542" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1191</a>)</li>
 	<li>Fix create event code to limit the number of prev_events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1615" data-url="https://github.com/matrix-org/synapse/issues/1615" data-id="187962678" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1615</a>)</li>
 	<li>Fix bug in transaction ID deduplication (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/1624" data-url="https://github.com/matrix-org/synapse/issues/1624" data-id="188782596" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#1624</a>)</li>
</ul>
</div>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;11&#x2F;21&#x2F;matrix-s-olm-end-to-end-encryption-security-assessment-released-and-implemented-cross-platform-on-riot-at-last&#x2F;" title="Matrix’s ‘Olm’ End-to-end Encryption security assessment released - and implemented cross-platform on Riot at last!">Matrix’s ‘Olm’ End-to-end Encryption security assessment released - and implemented cross-platform on Riot at last!</a></h2>
                <span>
                    21.11.2016 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>TL;DR: We're officially starting the cross-platform beta of end-to-end encryption in Matrix today, with matrix-js-sdk, matrix-android-sdk and matrix-ios-sdk all supporting e2e via the <a href="/docs/spec/olm.html">Olm</a> and <a href="/docs/spec/megolm.html">Megolm</a> cryptographic ratchets.  Meanwhile, <a href="https://www.nccgroup.trust/us/our-research/matrix-olm-cryptographic-review">NCC Group have publicly released their security assessment</a> of the underlying libolm library, kindly funded by the <a href="https://www.opentech.fund/">Open Technology Fund</a>, giving a full and independent transparent report on where the core implementation is at. The assessment was incredibly useful, finding some interesting issues, which have all been solved either in libolm itself or at the Matrix client SDK level.</p>
<p>If you want to get experimenting with E2E, the flagship Matrix client <a href="https://riot.im">Riot</a> has been updated to use the new SDK on Web, Android and iOS… although the iOS App is currently stuck in “export compliance” review at Apple. However, iOS users can mail <a href="mailto:support@riot.im">support@riot.im</a> to request being added to the TestFlight beta to help us test!  <strong>Update: iOS is now live and approved by Apple (as of Thursday Nov 24.  You can still mail us if you want to get beta builds though!)</strong></p>
<p>We are ridiculously excited about adding an open decentralised e2e-encrypted pubsub data fabric to the internet, and we hope you are too! :D</p>
<hr />
<p>Ever since the beginning of the Matrix we've been promising end-to-end (E2E) encryption, which is rather vital given conversations in Matrix are replicated over every server participating in a room.  This is no different to SMTP and IMAP, where emails are typically stored unencrypted in the IMAP spools of all the participating mail servers, but we can and should do much better with Matrix: there is no reason to have to trust all the participating servers not to snoop on your conversations.  Meanwhile, the internet is screaming out for an open decentralised e2e-encrypted pubsub data store - which we're now finally able to provide :)</p>
<p>Today marks the start of a formal public beta for our <a href="/docs/spec/megolm.html">Megolm</a> and <a href="/docs/spec/olm.html">Olm</a>-based end-to-end encryption across Web, Android and iOS. New builds of the <a href="https://riot.im">Riot</a> matrix client have just been released on top of the newly 
Megolm
-capable <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>, <a href="https://github.com/matrix-org/matrix-ios-sdk">matrix-ios-sdk</a> and <a href="https://github.com/matrix-org/matrix-android-sdk">matrix-android-sdk</a> libraries
.  The stuff that ships today is:</p>
<ul>
 	<li style="font-weight: 400;"><b>E2E encryption, based on the <a href="/git/olm/about">Olm</a> <a href="https://en.wikipedia.org/wiki/Double_Ratchet_Algorithm">Double Ratchet</a> and Megolm ratchet, working in beta on all three platforms</b>.  We're still chasing a few nasty bugs which can cause ‘unknown inbound session IDs', but in general it should be stable: please report these via Github if you see them.
</li>
 	<li style="font-weight: 400;"><b>Encrypted attachments are here!</b> (limited to ~2MB on web, but as soon as <a href="https://github.com/matrix-org/matrix-react-sdk/pull/562">https://github.com/matrix-org/matrix-react-sdk/pull/562</a> lands this limit will go away)
</li>
 	<li style="font-weight: 400;"><b>Encrypted VoIP signalling</b> (and indeed any arbitrary Matrix events) are here!
</li>
 	<li style="font-weight: 400;">Tracking whether the messages you receive are from <strong>‘verified' devices</strong> or not.
</li>
 	<li style="font-weight: 400;">Letting you <strong>block specific target devices</strong> from being able to decrypt your messages or not.
</li>
 	<li style="font-weight: 400;"><strong>The <a href=" http://matrix.org/docs/guides/e2e_implementation.html">Official Implementor's Guide</a></strong>.  If you're a developer wanting to add Olm into your Matrix client/bot/bridge etc, this is the place to start.
</li>
</ul>
Stuff which remains includes:
<ul>
 	<li style="font-weight: 400;">Speeding up sending the first message after adds/removes a device from a room (this can be <a href="https://github.com/vector-im/vector-web/issues/2157"><em>very</em> slow</a> currently - e.g. 10s, but we can absolutely do better).
</li>
 	<li style="font-weight: 400;">Proper device verification.  Currently we compare out-of-band device fingerprints, which is a terrible UX.  Lots of work to be done here.
</li>
 	<li style="font-weight: 400;">Turning on encryption for private rooms by default.  We're deliberately keeping E2E opt-in for now during beta given there is a small risk of undecryptable messages, and we don't want to lull folks into a false sense of security.  As soon as we're out of beta, we'll obviously be turning on E2E for any room with private history by default.  This also gives the rest of the Matrix ecosystem a chance to catch up, as we obviously don't want to lock out all the clients which aren't built on matrix-{'{'}js,ios,android{'}'}-sdk.
</li>
 	<li style="font-weight: 400;">We're also considering building a simple Matrix proxy to aid migration that you can run on localhost that E2Es your traffic as required (so desktop clients like WeeChat, NaChat, Quaternion etc would just connect to the proxy on localhost via pre-E2E Matrix, which would then manage all your keys &amp; sessions &amp; ratchets and talk E2E through to your actual homeserver.
</li>
 	<li style="font-weight: 400;">Matrix clients which can't speak E2E won't show encrypted messages at all.
</li>
 	<li style="font-weight: 400;">...<a href="https://github.com/vector-im/vector-web/issues?q=is%3Aissue%20is%3Aopen%20label%3Atype%3Ae2e">lots and lots of bugs</a> :D
.  We'll be out of beta once these are all closed up.
</li>
</ul>
In practice the system is working very usably, especially for 1:1 chats.  Big group chats with lots of joining/parting devices are a bit more prone to weirdness, as are edge cases like running multiple Riot/Webs in adjacent tabs on the same account.  Obviously we don't recommend using the E2E for anything mission critical requiring 100% guaranteed privacy whilst we're still in beta, but we do thoroughly recommend everyone to give it a try and <a href="https://github.com/vector-im/vector-web/issues">file bugs</a>!
<p>In Riot you can turn it on a per-room basis if you're an administrator that room by flipping the little padlock button in Room Settings.  Warning: once enabled, you cannot turn it off again for that room (to avoid the race condition of people suddenly decrypting a room before someone says something sensitive):</p>
<img class="aligncenter wp-image-1849" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-21-at-15.21.15-1024x646.png" alt="screen-shot-2016-11-21-at-15-21-15" width="552" height="348" />
<p>The journey to end-to-end encryption has been a bit convoluted, with work beginning in Feb 2015 by the Matrix team on <a href="/git/olm"><b>Olm</b></a>: an independent Apache-licensed implementation in C/C++11 of the Double Ratchet algorithm designed by Trevor Perrin and Moxie Marlinspike (
<a href="https://github.com/trevp/double_ratchet/wiki">https://github.com/trevp/double_ratchet/wiki</a> - then called ‘axolotl').  We picked the Double Ratchet in its capacity as the most ubiquitous, respected and widely studied e2e algorithm out there - mainly thanks to Open Whisper Systems implementing it in Signal, and subsequently licensing it to Facebook for WhatsApp and Messenger, Google for Allo, etc.  And we reasoned that if we are ever to link huge networks like WhatsApp into Matrix whilst preserving end-to-end encrypted semantics, we'd better be using at least roughly the same technology :D</p>
<p>One of the first things we did was to write a <a href="/docs/spec/olm.html">terse but formal spec</a> for the Olm implementation of the Double Ratchet, fleshing out the original sketch from Trevor &amp; Moxie, especially as at the time there wasn't a formal spec from Open Whisper Systems (until yesterday! Congratulations to Trevor &amp; co for publishing their <a href="https://whispersystems.org/docs/specifications/doubleratchet/">super-comprehensive spec</a> :).  We wrote a first cut of the ratchet over the course of a few weeks, which looked pretty promising but then the team got pulled into improving Synapse performance and features as our traffic started to accelerate faster than we could have possibly hoped.  We then got back to it again in June-Aug 2015 and basically finished it off and added a basic implementation to matrix-react-sdk (and picked up by Vector, now Riot)… before getting side-tracked again.  After all, there wasn't any point in adding e2e to clients if the rest of the stack is on fire!</p>
<p>Work resumed again in May 2016 and has continued ever since - starting with the addition of a new ratchet to the mix.  The Double Ratchet (Olm) is great at encrypting conversations between pairs of devices, but it starts to get a bit unwieldy when you use it for a group conversation - especially the huge ones we have in Matrix.  Either each sender needs to encrypt each message N times for every device in the room (which doesn't scale), or you need some other mechanism.</p>
<p>For Matrix we also require the ability to explicitly decide how much conversation history may be shared with new devices.  In classic Double Ratchet implementations this is anathema: the very act of synchronising history to a new device is a huge potential privacy breach - as it's deliberately breaking perfect forward secrecy.  Who's to say that the device you're syncing your history onto is not an attacker?  However, in practice, this is a very common use case.  If a Matrix user switches to a new app or device, it's often very desirable that they can decrypt old conversation history on the new device.  So, we make it configurable per room.  (In today's implementation the ability to share history to new devices is still disabled, but it's coming shortly).</p>
<p>The end result is an entirely new ratchet that we've called <a href="/docs/spec/megolm.html"><b>Megolm</b></a> - which is included in the same <a href="/git/olm">libolm library</a> as Olm.  The way Megolm works is to give every sender in the room its own encrypted ratchet (‘outbound session'), so every device encrypts each message once based on the current key given by their ratchet (and then advances the ratchet to generate a new key).  Meanwhile, the device shares the state of their ‘outbound session' to every other device in the room via the normal Olm ratchet in a 1:1 exchange between the devices.  The other devices maintain an ‘inbound session' for each of the devices they know about, and so can decrypt their messages.  Meanwhile, when new devices join a room, senders can share their sessions according to taste to the new device - either giving access to old history or not depending on the configuration of the room.  You can read more in the <a href="/docs/spec/megolm.html">formal spec for Megolm</a>.</p>
<p>We finished the combination of Olm and Megolm back in September 2016, and shipped the very first implementation in the matrix-js-sdk and matrix-react-sdk as used in <a href="https://riot.im">Riot</a> with some major limitations (no encrypted attachments; no encrypted VoIP signalling; no history sharing to new devices).</p>
<p>Meanwhile, we were incredibly lucky to receive a public security assessment of the Olm &amp; Megolm implementation in libolm from <a href="https://www.nccgroup.trust/us/our-services/security-consulting/cryptography-services/">NCC Group Cryptography Services</a> - famous for assessing the likes of Signal, Tor, OpenSSL, etc and other Double Ratchet implementations. The assessment was very generously funded by the <a href="https://opentech.fund">Open Technology Fund</a> (who specialise in paying for security audits for open source projects like Matrix).  Unlike other Double Ratchet audits (e.g. Signal), we also insisted that the end report was publicly released for complete transparency and to show the whole world the status of the implementation.</p>
<p><a href="https://www.nccgroup.trust/us/our-research/matrix-olm-cryptographic-review/">NCC Group have released the public report today</a> - it's pretty hardcore, but if you're into the details please go check it out.  The version of libolm assessed was v1.3.0, and the report found 1 high risk issue, 1 medium risk, 6 low risk and 1 informational issues - of which 3 were in Olm and 6 in Megolm.  Two of these (‘Lack of Backward Secrecy in Group Chats' and ‘Weak Forward Secrecy in Group Chats') are actually features of the library which power the ‘configurable privacy per-room' behaviour mentioned a few paragraphs above - and it's up to the application (e.g. matrix-js-sdk) to correctly configure privacy-sensitive rooms with the appropriate level of backward or forward secrecy; the library doesn't enforce it however.  The most interesting findings were probably the fairly exotic Unknown Key Share attacks in both Megolm and Olm - check out NCC-Olm2016-009 and NCC-Olm2016-010 in the report for gory details!</p>
<p>Needless to say all of these issues have been solved with the release of libolm 2.0.0 on October 25th and included in today's releases of the client SDKs and Riot.  Most of the issues have been solved at the application layer (i.e. matrix-js-sdk, ios-sdk and android-sdk) rather than in libolm itself.  Given the assessment was specifically for libolm, this means that technically the risks still exist at libolm, but given the correct engineering choice was to fix them in the application layer we went and did it there. (This is explains why the report says that some of the issues are ‘not fixed' in libolm itself).</p>
<p>Huge thanks to Alex Balducci and Jake Meredith at NCC Group for all their work on the assessment - it was loads of fun to be working with them (over Matrix, of course) and we're really happy that they caught some nasty edge cases which otherwise we'd have missed.  And thanks again to Dan Meredith and Chad Hurley at OTF for funding it and making it possible!</p>
<p>Implementing decentralised E2E has been by far the hardest thing we've done yet in Matrix, ending up involving most of the core team.  Huge kudos go to: Mark Haines for writing the original Olm and matrix-js-sdk implementation and devising Megolm, designing attachment encryption and implementing it in matrix-{'{'}js,react{'}'}-sdk, Richard van der Hoff for taking over this year with implementing and speccing Megolm, finalising libolm, adding all the remaining server APIs (device management and to_device management for 1:1 device Olm sessions), writing the <a href=" http://matrix.org/docs/guides/e2e_implementation.html">Implementor's Guide</a>, handling the NCC assessment, and pulling together all the strands to land the final implementation in matrix-js-sdk and matrix-react-sdk.  Meanwhile on Mobile, iOS &amp; Android wouldn't have happened without Emmanuel Rohée, who led the development of E2E in matrix-ios-sdk and <a href="http://matrix.org/git/olm/log/?h=olmkit">OLMKit</a> (the iOS wrappers for libolm based on the <a href="https://github.com/chrisballinger/OLMKit">original work by Chris Ballinger</a> at <a href="https://chatsecure.org/">ChatSecure</a> - many thanks to Chris for starting the ball rolling there!), Pedro Contreiras and Yannick Le Collen for doing all the Android work, Guillaume Foret for all the application layer iOS work and helping coordinate all the mobile work, and Dave Baker who got pulled in at the last minute to rush through encrypted attachments on iOS (thanks Dave!).  Finally, eternal thanks to everyone in the wider community who's patiently helped us test the E2E whilst it's been in development in <a href="https://matrix.to/#/#megolm:matrix.org">#megolm:matrix.org</a>; and to Moxie, Trevor and <a href="https://whispersystems.org">Open Whisper Systems</a> for inventing the Double Ratchet and for allowing us to write our own implementation in Olm.</p>
<p>It's literally the beginning for end-to-end encryption in Matrix, and we're unspeakably excited to see where it goes.  More now than ever before the world needs an open communication platform that combines the freedom of decentralisation with strong privacy guarantees, and we hope this is a major step in the right direction.</p>
<p>-- Matthew, Amandine &amp; the whole Matrix team.</p>
<p>Further reading:</p>
<ul>
 	<li>Libolm website: <a href="/git/olm/about">https://matrix.org/git/olm/about</a></li>
 	<li>Libolm implementor's guide: <a href="http://matrix.org/docs/guides/e2e_implementation.html">http://matrix.org/docs/guides/e2e_implementation.html</a></li>
 	<li>Formal specification for Olm: <a href="/docs/spec/olm.html">https://matrix.org/docs/spec/olm.html</a></li>
 	<li>Formal specification for Megolm: <a href="/docs/spec/megolm.html">https://matrix.org/docs/spec/megolm.html</a></li>
 	<li>Formal specification for E2E in Matrix (WIP, yet to be merged): <a href="http://matrix.org/speculator/spec/drafts%2Fe2e/client_server/unstable.html#end-to-end-encryption">http://matrix.org/speculator/spec/drafts%2Fe2e/client_server/unstable.html#end-to-end-encryption</a></li>
 	<li>The full security assessment: <a href="https://www.nccgroup.trust/us/our-research/matrix-olm-cryptographic-review/">https://www.nccgroup.trust/us/our-research/matrix-olm-cryptographic-review/</a></li>
 	<li>NCC Group: <a href="https://www.nccgroup.trust/us/">https://www.nccgroup.trust/us/</a></li>
 	<li>Open Technology Fund: <a href="https://www.opentech.fund/">https://www.opentech.fund/</a></li>
 	<li>If you're from the press and you've read this far... congratulations, but you probably wanted <a href="https://pr.blonde20.com/matrix-e2e/">this instead</a> :D</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;11&#x2F;12&#x2F;the-matrix-autumn-special&#x2F;" title="The Matrix Autumn Special!">The Matrix Autumn Special!</a></h2>
                <span>
                    12.11.2016 00:00
                    —
                    <a href="/category/in-the-news">
                        In the News
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Another season has passed; the leaves are dropping from the trees in the northern hemisphere (actually, in the time it's taken us to finish this post, most of them have dropped :-/) and once again the Matrix team has been hacking away too furiously to properly update the blog. So without further delay here's an update on all things Matrix!</p>
<h3 id="synapse-0-18">Synapse 0.18</h3>
<p>Back in September, we forgot to properly announce the 0.18 release of Synapse! This is a major oversight given that 0.18 was a huge update with some critical performance improvements, but hopefully everyone has upgraded by now anyway. If not, there's never been a better time to <a href="https://github.com/matrix-org/synapse">run your own homeserver</a>! The main improvement is that the Matrix room state updates are now stored as deltas in the database rather than snapshots, which reduces the size of the database footprint by around 5 - 7x. The first time you run synapse after upgrading to 0.18 it will go through your database deleting all the historical data, after which you can VACUUM the db to reclaim the freed diskspace.</p>
<p>You can tell when it's finished based on whether it's stopped logging about the 'background_deduplicate_state' task. There was a bug in 0.18.0 that meant this process was very slow (weeks) on sqlite DBs and chewed 100% CPU; this was fixed in 0.18.1, and subsequently we've also had 0.18.2 (various perf and bug fixes, and a new modular internal API for authentication) and the current release: 0.18.3 to address a <a href="/blog/2016/11/08/synapse-debian-pacakge-security-announcement/">major vulnerability</a> on deployments using LDAP with obsolete versions (0.9.x) of the python ldap3 library - e.g. Debian Stable. <strong>Folks using the Debian Stable packages must upgrade immediately.</strong></p>
<p>Other big changes in Synapse 0.18 were:</p>
<ul>
 	<li>Adding the final APIs required to support end-to-end encryption: specifically, a new store-and-forward API called "to device messaging", which lets messages be passed between specific devices outside the context of a room or a room DAG. This is used for exchanging authentication tokens and sensitive end-to-end key data between devices (e.g. when a new device joins a room and needs to be looped in) and is not intended for general messaging.</li>
 	<li>Changing how remote directory servers are queried. Rather than constantly spidering them via the secondary_directory_servers option (which was causing a load crisis on the matrix.org server, as everyone else in Matrix kept polling it for directory updates), clients can now set a 'server' parameter on the publicRooms request to ask their server to proxy the request through to a specific remote server. Element (the app formally known as Riot/Web) implements this already. This is a stopgap until we have a proper global room discovery database of some kind.</li>
 	<li>Adding pagination support to the room directory API. We now have enough rooms in Matrix that downloading the full list every time the user searches for a room was getting completely untenable - we now support paginating and searching the list. Riot (now Element) and Riot-Android (now Element Android) are using the new APIs already.</li>
 	<li>Basic support for 'direct room' semantics. When you create a room you can now state the intent for that room to be a 1:1 with someone via the is_direct parameter.</li>
 	<li>Making the /notifications API work - this lets clients download a full list of all the notifications a user has been recently sent (highlights, mentions etc)</li>
</ul>
Spec for all of these new APIs are currently making their way into the official matrix spec; you can see the work in progress at <a href="/speculator">https://matrix.org/speculator</a>. Meanwhile, we're waiting for the last bits of the end-to-end encryption APIs to land there before releasing 0.3 of the Matrix spec, which should happen any day now.
<p>To find out more and get upgraded if you haven't already, please check out <a href="https://github.com/matrix-org/synapse/releases/tag/v0.18.3">the full changelog</a>.</p>
<h3 id="synapse-scalability">Synapse scalability</h3>
<p>Something which we've been quietly adding over the last 6 months is support for running large synapse deployments like the Matrix.org homeserver. Matrix.org has around 500K accounts on it, 50k rooms, and relays around 500K messages per day and obviously the community expects it to have good performance and availability (even though we'd prefer if you ran your own server, for obvious reasons!)</p>
<p>The current scaling approach for this is called 'Workers' - where we've split out a whole bunch of different endpoints from the main Synapse process into child 'worker' processes which replicate their state from the master Synapse process. These workers are designed to scale horizontally, adding as many as you like to handle the traffic load. It's not full active/active horizontal scalability in that you're still limited by the performance of the master process and the database master you're writing to, but it's a great way to escape Python's global interpreter lock limiting processes effectively to a single core, and in practice it's a huge improvement and works pretty well as of Synapse 0.18.</p>
<p>You can read more about the architecture and how to run your Synapse in worker-mode over at <a href="https://github.com/matrix-org/synapse/blob/master/docs/workers.rst">https://github.com/matrix-org/synapse/blob/master/docs/workers.rst</a>.</p>
<h3 id="starting-a-riot-now-element">Starting a Riot (now Element)</h3>
<p>Meanwhile, the biggest news in Matrixland has probably been the renaming of Vector as Riot (now Element) and the 'mass market' launch of Riot as a flagship Matrix client at the <a href="http://pulverhwc.evolero.com/monage">MoNage</a> conference on Sept 19th in Boston. The reasons for renaming Vector have been done to death by now and hopefully folks have got over the shock, but the rationale is to have a more distinctive and memorable (and controversial!) name, which is more aligned with the idea of returning control of communication back to the people :) Amandine has the full story over at the <a href="https://medium.com/@RiotChat/lets-riot-f5b0aa99dc8e">Riot blog</a>.</p>
<p>Riot (now Element) itself is a fairly thin layer on top of the official client Matrix SDKs, and so 95% of the work for Riot (now Element) took the form of updates to <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>, <a href="https://github.com/matrix-org/matrix-react-sdk">matrix-react-sdk</a>, <a href="https://github.com/matrix-org/matrix-ios-sdk">matrix-ios-sdk</a>, <a href="https://github.com/matrix-org/matrix-ios-kit">matrix-ios-kit</a>, <a href="https://github.com/matrix-org/matrix-android-sdk">matrix-android-sdk</a> and <a href="https://github.com/matrix-org/synapse">synapse</a> itself. There's been a tonne of changes here since June, but the main highlights are:</p>
<ul>
 	<li>End-to-end encryption support landed in matrix-js-sdk and matrix-react-sdk (and thus Riot/Web (now Element)) and in dev on matrix-ios-sdk and matrix-android-sdk using the Olm and Megolm ratchets. More about this later.</li>
 	<li>Hosted integrations, bots and bridges! More about this later too.</li>
 	<li>Direct Message UI landed in Riot/Web (now Element) to tag rooms which exist for contacting a specific user. These get grouped now as the 'People' list in Riot (now Element). It's in dev on Riot/iOS (now Element (iOS)) &amp; Android (now Element Android).</li>
 	<li>Entirely new UI for starting conversations with people - no more creating a room and then inviting; you just say "i want to talk with Bob".</li>
 	<li>Entirely new UI for inviting people into a room - no more confusion between searching the membership list and inviting users.</li>
 	<li>FilePanel UI in Riot/Web (now Element) to instantly view all the attachments posted in a room</li>
 	<li>NotificationPanel UI in Riot/Web (now Element) to instantly view all your missed notifications and mentions in a single place</li>
 	<li>"Volume control" UI to have finer grained control over per-room notification noisiness</li>
 	<li>Entirely re-worked Room Directory navigator - lazy-loading the directory from the server, and selecting rooms via bridge and remote server</li>
 	<li>It's very exciting to see a wider audience discovering Matrix through Riot (now Element) - and Riot (now Element)'s usage stats have been growing steadily since launch, but there's still a lot of room for improvement.</li>
</ul>
Stuff on the horizon includes:
<ul>
 	<li>Formal beta-testing the full end-to-end encryption feature-set.</li>
 	<li>Performance and optimisation work on all platforms - there are huge improvements to be had.</li>
 	<li>Long-awaited poweruser features: 'dark' colour scheme; more whitespace-efficient layout; collapsing consecutive joins/parts...</li>
 	<li>"Landing page" to help explain what's going on to new users and to show deployment-specific announcements and room lists.</li>
 	<li>Support for arbitrary profile information.</li>
 	<li>Threading.</li>
</ul>
Riot (now Element) releases are announced on <a href="https://matrix.to/#/#riot:matrix.org">#riot:matrix.org</a>, the <a href="https://medium.com/@RiotChat">Riot blog</a> and <a href="http://twitter.com/@RiotChat">Twitter</a> - keep your eyes peeled for updates!
<h3 id="end-to-end-encryption">End to End Encryption</h3>
<p>Full cross-platform end-to-end encryption is incredibly close now, with the develop branches of iOS &amp; Android SDKs and Riot (now Element) currently in internal testing as of Nov 7 - expect a Big Announcement very shortly.  We're very optimistic based on how the initial implementation on Riot/Web (now Element)has been behaving so far.</p>
<p>When E2E first landed on Riot/Web (now Element) in September we were missing mobile support, encrypted attachments, encrypted VoIP signalling, and the ability to retrieve encrypted history on new devices - as well as a formal audit of the underlying <a href="/docs/spec/olm.html">Olm</a> and <a href="/docs/spec/megolm.html">Megolm</a> libraries. Since then things have progressed enormously with most of the core team working since September on filling in the gaps, as well as getting audited and fixing all the weird and wonderful edge cases that the audit showed up. All the missing stuff has been landing on the develop branches over the last few weeks, with encrypted attachments landing on web on Nov 10; encrypted VoIP landing on Nov 11; etc. Watch this space for news on the upcoming cross-platform public beta!</p>
<h3 id="hosted-integrations-and-introducing-go-neb">Hosted Integrations and introducing go-neb</h3>
<p>One of the new features which arrived in Riot (now Element) is the ability to add &quot;single click&quot; integrations (i.e. bots, bridges, application services) into rooms from Riot/Web (now Element) by clicking the &quot;Manage Integrations&quot; button in Room Settings. These integrations are hosted for free by Riot (now Element) in its production infrastructure (codenamed Scalar), but all the actual bots/bridges/services themselves are normal opensource Matrix apps and you can of course run them yourself too.</p>
<img class="aligncenter wp-image-1827" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-12-at-11.47.29-1024x913.png" alt="screen-shot-2016-11-12-at-11-47-29" width="894" height="797" />
<p>The Bot integrations are all provided by <a href="https://github.com/matrix-org/go-neb">go-neb</a> - a complete rewrite in Golang and general reimagining of the old <a href="https://github.com/matrix-org/Matrix-NEB">python NEB bot</a> which old-timers will recall as the very first bot written for the Matrix ecosystem. Go-neb has effectively now become a general purpose golang bot/integration framework for Matrix, with the various different services implemented as plugins for <a href="https://github.com/matrix-org/go-neb/tree/master/src/github.com/matrix-org/go-neb/services/github">Github</a>, <a href="https://github.com/matrix-org/go-neb/tree/master/src/github.com/matrix-org/go-neb/services/jira">JIRA</a>, <a href="https://github.com/matrix-org/go-neb/tree/master/src/github.com/matrix-org/go-neb/services/giphy">Giphy</a>, <a href="https://github.com/matrix-org/go-neb/tree/master/src/github.com/matrix-org/go-neb/services/guggy">Guggy</a> etc. Critically it supports <a href="https://github.com/matrix-org/go-neb#configuring-realms">authenticating Matrix users through to the remote service</a>, letting normal Matrix users interact with Github and friends using their actual Github identity rather than via a bot user - this is a huge huge improvement over the original naive python NEB.</p>
<p>If you like Go and you like Matrix, we'd strongly suggest having a go (hah) at adding new services into go-neb: anything implemented against go-neb will also magically be hosted and available as part of the &quot;Manage Integrations&quot; interface in Riot (now Element), as well as being available to anyone else running their own go-nebs. For full details of the architecture and how to implement new plugins, go check out the full <a href="https://github.com/matrix-org/go-neb">README</a>.</p>
<p>If Matrix is to provide a good FOSS alternative to systems like Slack it's critical to have a large array of available integrations, so we really hope that the community will help us grow the list!</p>
<h3 id="building-bridges">Building Bridges</h3>
<p>There have been vast improvements to bridging over the last few months, including the ability to &quot;plumb&quot; bridges into arbitrary rooms (letting you link a single Matrix room through to multiple remote networks). Like go-neb, Riot (now Element) is providing free bridge hosting with the ability to add to rooms with a &quot;single click&quot; via the Manage Integrations button in Room Settings. For now, Riot (now Element) is hosting any bridges built on the <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> codebase.</p>
<p>In short, this means that any user can go and take an existing Matrix room and link it through to Slack, IRC, Gitter, and more.</p>
<h4 id="matrix-appservice-irc">matrix-appservice-irc</h4>
<p>Huge amounts of work have gone into improving the IRC bridge - both adding new features to try to give the most IRC-friendly experience when bridging into IRC, as well as lots of maintenance and performance work to ensure that the matrix.org hosted bridges can scale to the large amounts of traffic we're seeing going through Freenode and others. We've also added hosted bridges for OFTC and Snoonet, and turned on connecting via IPv6 by default for networks which support it.</p>
<p>You can read the full changelogs for 0.5.0 and 0.6.0 at <a href="https://github.com/matrix-org/matrix-appservice-irc/blob/master/CHANGELOG.md">https://github.com/matrix-org/matrix-appservice-irc/blob/master/CHANGELOG.md</a>, but the main highlights are:</p>
<p>matrix-appservice-irc 0.6.0</p>
<ul>
 	<li>Debouncing quits and netsplits: if IRC users quit there can be a window where they are shown as just offline rather than leaving the room, avoiding join/part spam and creating unnecessary state events in Matrix.</li>
 	<li>Topic bridging: IRC topics can now be bridged to Matrix!</li>
 	<li>Support custom SSL CAs (thanks to @Waldteufel)</li>
 	<li>Support custom media repository URLs</li>
 	<li>Support the ability to quit your IRC user from the network entirely</li>
 	<li>Fix rate limiting for traffic from privileged IRC users and services</li>
</ul>
matrix-appservice-irc 0.5.0:
<ul>
 	<li>Support throttling reconnections to IRC servers to avoid triggering abuse thresholds</li>
 	<li>Support "Third party lookup": mapping from IRC users &amp; rooms into Matrix IDs for discovery purposes</li>
 	<li>Support rate-limiting membership entries to avoid triggering abuse thresholds</li>
 	<li>Require permission of an IRC chanop when plumbing an IRC channel into a Matrix room</li>
 	<li>Prevent routing loops by advisory m.room.bridging events</li>
 	<li>Better error messages</li>
 	<li>Sync chanmode +s correctly</li>
 	<li>Fix IPv6 support</li>
</ul>
Next up is automating NickServ login, and generally continuing to make the IRC experience as good as we possibly can.
<h4 id="matrix-appservice-slack">matrix-appservice-slack</h4>
<p>Similarly, the Slack bridge has had loads of work. The main changes include:</p>
<ul>
 	<li>Ability to dynamically bridge ("plumb") rooms on request</li>
 	<li>Add Prometheus monitoring metrics</li>
 	<li>Ability to discover slack team tokens via OAuth2</li>
 	<li>Sync avatars both ways</li>
</ul>
We're currently looking at shifting over to Slack's RTM (Real Time Messaging) API rather than using webhooks in order to get an even better fit with Slack and support bridging DMs, but the current setup is still very usable. For more details: <a href="https://github.com/matrix-org/matrix-appservice-slack">https://github.com/matrix-org/matrix-appservice-slack</a>.
<h4 id="matrix-appservice-gitter">matrix-appservice-gitter</h4>
<p>The Gitter bridge has provided a lot of inspiration for the more recent work on the Slack bridge. Right now it provides straightforward bridging into Gitter rooms, albeit proxied via a 'matrixbot' user on the Gitter side. We're currently looking at letting also users authenticate using their Gitter credentials so they are bridged through to their 'real' Gitter user - watch this space. For more details: <a href="https://github.com/matrix-org/matrix-appservice-gitter">https://github.com/matrix-org/matrix-appservice-gitter</a>.</p>
<h3 id="community-updates">Community updates</h3>
<h4 id="matrix-ircd">matrix-ircd</h4>
<p>matrix-ircd is a rewrite of the old PTO project (<a href="http://pto.im">pto.im</a>): a Rust application that turns Matrix into a single great big decentralised IRC network. PTO itself has unfortunately been on hiatus and is rather bitrotted, so Erik from the core Matrix Team picked it up to see if it could be resurrected. This ended up turning into a complete rewrite (switching from mio to tokio etc), and the new project can be found at <a href="https://github.com/matrix-org/matrix-ircd">https://github.com/matrix-org/matrix-ircd</a>.</p>
<p>matrix-ircd really is an incredibly promising way of getting folks onto Matrix, as it exposes the entirety of Matrix as a virtual IRC network. This means that IRC addicts can jack straight into Matrix, talking native IRC from their existing IRC clients - but interacting directly with Matrix rooms as if they were IRC channesls without going through a bridge. Obviously you lose all of the features and semantics which Matrix provides beyond IRC, but this is still a great way to get started.</p>
<p>The project is currently alpha but provides a good functioning base to extend, and Erik's explicitly asking for help from the Rust and Matrix community to fill in all the missing features. If you're interested in helping, please come talk on <a href="https://matrix.to/#/#matrix-ircd:matrix.org">#matrix-ircd:matrix.org</a>!.</p>
<h4 id="matrix-appservice-gitter-twisted">matrix-appservice-gitter-twisted</h4>
<p>Not to be confused with the Node-based <a href="https://github.com/matrix-org/matrix-appservice-gitter">matrix-appservice-gitter</a>, <a href="https://github.com/remram44/matrix-appservice-gitter-twisted">matrix-appservice-gitter-twisted</a> is an entirely separate project written in Python/Twisted by Remram (Remi Rampin) that has the opposite architecture: rather than bridging existing rooms into Matrix, matrix-appservice-gitter-twisted lets you provide your Gitter credentials and acts instead as a Gitter client, bridging your personal view of a Gitter room into a private Matrix room just for you.</p>
<p>This obviously has some major advantages (your actions on Gitter use your real Gitter account rather than a bot), and some disadvantages too (you can't use Matrix features when interacting with other Matrix users in the same room, and the Gitter channel itself is not decentralised into Matrix). However, it's a really cool example of how the other model can work - and within the core team, we've been arguing back and forth for ages now on whether normal bridges or &quot;sidecar&quot; bridges like this one are a more preferable architecture. Thanks to Remram's work we can try both side by side! Go check it out at <a href="https://github.com/remram44/matrix-appservice-gitter-twisted">https://github.com/remram44/matrix-appservice-gitter-twisted</a>.</p>
<h4 id="telematrix">telematrix</h4>
<p>Telematrix is Telegram&lt;-&gt;Matrix bridge, written by Sijmen Schoon using python3 and asyncio. Right now it's a fairly early alpha hardcoded to bridge a specific Telegram channel into a specific Matrix room, but it works and in use and could be an excellent base for folks interested in a more comprehensive Matrix/Telegram bridge. Go check it out at <a href="https://github.com/SijmenSchoon/telematrix">https://github.com/SijmenSchoon/telematrix</a>
<img class="aligncenter wp-image-1832" src="/blog/wp-content/uploads/2016/11/telematrix-1024x828.png" alt="telematrix" width="641" height="518" /></p>
<h4 id="ruma">Ruma</h4>
<p>Meanwhile, the Ruma project to write a Matrix homeserver in Rust has been progressing steadily, with more and more checkboxes appearing on the <a href="https://github.com/ruma/ruma/blob/master/STATUS.md">status page</a>, with significant new contributions from mujx and farodin91. The best way to keep track of Ruma is to read Jimmy's excellent <a href="https://www.ruma.io/news/">This Week in Ruma</a> updates and of course hang out on <a href="https://matrix.to/#/#ruma:matrix.org">#ruma:matrix.org</a>.</p>
<h4 id="nachat">NaChat</h4>
<p>An entirely new client on the block since the last update is <a href="http://github.com/ralith/nachat">NaChat</a>, written by Ralith. NaChat is a pure cross-platform Qt/C++ desktop client written from the ground up, supporting local history synchronisation, excellent performance, native Qt theming, and generally being a lean and mean Matrix client machine. It's still alpha, but it's easy to build and a lot of fun to play with.</p>
<img class="aligncenter wp-image-1828" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-12-at-12.01.03-1024x664.png" alt="screen-shot-2016-11-12-at-12-01-03" width="1009" height="654" />
<p>Please give a spin, encourage Ralith to finish the <a href="https://github.com/ralith/nachat/tree/timeline-view-rewrite">timeline-view-rewrite</a> branch (which is probably the one you want to be running!), and come hang out on <a href="https://matrix.to/#/#nachat:matrix.org">#nachat:matrix.org</a>.</p>
<h4 id="quaternion">Quaternion</h4>
<p>Meanwhile, the <a href="https://github.com/fxrh/quaternion">Quaternion</a> Qt/QML desktop client and its <a href="https://github.com/fxrh/libqmatrixclient">libqmatrixclient</a> library has been making sure and steady progress, with fxrh, kitsune, maralorn and others working away at it. The difference with NaChat here is using QML rather than native Qt widgets, and a focus on more advanced UX features like a custom infinite-scrolling scrollbar widget, unread message notifications, and read-up-to markers.  Recent developments include the <a href="https://github.com/Fxrh/Quaternion/releases/tag/v0.0.1">first official release (0.0.1)</a> on Sept 12, official Windows builds, lots of work on implementing better Read-up-to Markers, scrolling behaviour etc. Again, it's worth keeping a checkout of Quaternion handy and playing with the client - it's loads of fun!</p>
<img class="aligncenter size-large wp-image-1829" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-12-at-12.12.48-1024x535.png" alt="screen-shot-2016-11-12-at-12-12-48" width="1024" height="535" />
<h3 id="google-summer-of-code-2016-retrospective">Google Summer of Code 2016 Retrospective</h3>
<p>The summer is long gone now, and along with it Google Summer of Code. This was the first year we've <a href="https://summerofcode.withgoogle.com/archive/2016/organizations/6552738187968512/">participated in GSoC</a>, and it was an incredible experience - both judging all the applications, and then working with Aviral Dasgupta and Will Hunt (Half-Shot) who joined the core team as part of their GSoC endeavours.</p>
<p>Aviral's work has been widespread throughout Riot (now Element): adding consistent Emoji support throughout the app via Emoji One, implementing the beta Rich Text Editor (RTE) and all-new autocompletion UI, as well as a bunch of spec proposals for rich message semantics and an initial Slack Webhooks application service. You can read his wrap up at <a href="http://www.aviraldg.com/p/gsoc-2016-wrapup">http://www.aviraldg.com/p/gsoc-2016-wrapup</a> and use the code in Riot/Web (now Element) today. We're currently working on fixing the final issues on RTE and auto-complete and hope to enable them by default real soon now!</p>
<p>Meanwhile, Half-Shot's work ended up focusing on bridging through to Twitter and working on the Threading spec proposal for Matrix. You can find out all about the Twitter bridge at <a href="https://half-shot.github.io/matrix-appservice-twitter">https://half-shot.github.io/matrix-appservice-twitter</a>; it works incredibly well (arguably too well, given the amount of traffic it can bridge into Matrix! :S) - and we're currently working on hosting a version of it on matrix.org for all your tweeting needs. You can see Half-Shot's wrapup blog post over at <a href="https://half-shot.uk/gsoc16_evaulation">https://half-shot.uk/gsoc16_evaulation</a>.</p>
<p>Finally, as a bit of a wildcard, we discovered the other day that there was also another GSoC project using Matrix by Waqee Khalid, supported by the <a href="https://summerofcode.withgoogle.com/archive/2016/organizations/6488734048452608/">Berkman Center for Internet and Society</a> at Harvard to <a href="https://summerofcode.withgoogle.com/archive/2016/projects/5749069813121024/">switch Apache Wave (formerly Google Wave) over to using Matrix rather than XMPP</a> for federation!  The implementation looks a little curious here, as Wave used XMPP as a blunt pubsub layer for synchronising protobuf deltas - and it looks like this implementation uses Matrix similarly, thus killing any interop with the rest of Matrix, which is a bit of a shame.  If anyone knows more about the project we'd love to hear though!</p>
<p>Either way, it's been a pleasure to work with the GSoC community and we owe Aviral and Half-Shot (and Waqee!) a huge debt of gratitude for spending their summers (and more!) hacking away improving Matrix. So, thanks Google for making GSoC possible and thanks to the GSoCers for all their contributions, effort &amp; enthusiasm! Watch this space for updates on RTE, new-autocomplete and the twitter bridge going live...</p>
<h3 id="matrix-in-the-news">Matrix in the news</h3>
<p>Just in case you missed them, there have been a couple of high profile articles flying around about Matrix recently - we made the <a href="http://www.linux-magazine.com/Issues/2016/189/Matrix">front cover of Linux Magazine in August</a> with a comprehensive review of Matrix and Vector (now Riot (now Element)). Then when we launched Riot (now Element) itself we got a cautiously <a href="https://techcrunch.com/2016/09/19/riot-wants-to-be-like-slack-but-with-the-flexibility-of-an-underlying-open-source-platform/">positive write-up from Mike Butcher at Techcrunch</a>. We also wrote an guest column for Techcrunch about the <a href="https://techcrunch.com/2016/10/09/a-decentralized-web-would-give-power-back-to-the-people-online/">importance of bringing power back to the people via decentralisation</a>, which got a surprising amount of attention on <a href="https://news.ycombinator.com/item?id=12670958">HackerNews</a> and elsewhere.</p>
<p>More recently, we were lucky enough to get an <a href="https://www.youtube.com/watch?v=LhCfI-xdvlE">indepth video interview with Bryan Lunduke</a> as part of his 'Linux &amp; Whatnot' series, and also a <a href="http://www.networkworld.com/article/3140014/open-source-tools/down-the-rabbit-hole-part-5-secure-and-private-instant-messaging.html#tk.twt_nww.">write-up in NetworkWorld</a> alongside Signal &amp; Wire as part of Bryan's journeys in the land of encrypted messaging.</p>
<p><a href="https://www.youtube.com/watch?v=LhCfI-xdvlE"><img class="aligncenter wp-image-1830 size-large" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-12-at-12.31.34-1024x571.png" alt="screen-shot-2016-11-12-at-12-31-34" width="1024" height="571" /></a></p>
<p>Huge thanks to everyone who's been nice enough to spread the word of Matrix!</p>
<h3 id="matrix-in-real-life">Matrix In Real Life</h3>
<p>Finally, we've been present at a slew of different events. In August we attended FOSSCON again in Philadelphia to give a general update on Matrix to the Freenode community...</p>
<div style="text-align: center;">
<blockquote class="twitter-tweet" data-lang="en">
<p dir="ltr" lang="en">It's <a href="https://twitter.com/fossconNE">@fossconNE</a> time! Dave will be talking about Matrix at 1pm today. Come &amp; say hi! <a href="https://t.co/KtfTVRnAVn">pic.twitter.com/KtfTVRnAVn</a></p>
— Matrix (@matrixdotorg) <a href="https://twitter.com/matrixdotorg/status/766998104369426432">August 20, 2016</a></blockquote>
</div>
...and then Riot (now Element) was launched at Monage in Boston in September, with Matthew and Amandine respectively presenting Matrix and Riot (now Element):
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
<div style="text-align: center;">
<blockquote class="twitter-tweet" data-lang="en">
<p dir="ltr" lang="en">Best <a href="https://twitter.com/hashtag/swag?src=hash">#swag</a> of <a href="https://twitter.com/hashtag/MoNage?src=hash">#MoNage</a>? The <a href="https://twitter.com/RiotChat">@RiotChat</a> stand is getting mobbed :) <a href="https://t.co/NltlfO74Y9">pic.twitter.com/NltlfO74Y9</a></p>
— Oisin Lunny (@oisinlunny) <a href="https://twitter.com/oisinlunny/status/778293579605213185">September 20, 2016</a></blockquote>
</div>
Whilst quite a small event, the quality of folks present was incredibly high - much fun was had comparing open communities to walled gardens with Nicola Greco from Tim Berners-Lee's <a href="http://solid.mit.edu">Solid project</a>...
<div style="text-align: center;">
<blockquote class="twitter-tweet" data-lang="en">
<p dir="ltr" lang="en">.<a href="https://twitter.com/ara4n">@ara4n</a> &amp; <a href="https://twitter.com/AmandineLePape">@AmandineLePape</a> showing off the new Riot (now Element) at <a href="https://twitter.com/hashtag/MoNage?src=hash">#MoNage</a> in <a href="https://twitter.com/hashtag/Boston?src=hash">#Boston</a>! <a href="https://t.co/U0qSNjNLGs">pic.twitter.com/U0qSNjNLGs</a></p>
— Riot (@RiotChat) <a href="https://twitter.com/RiotChat/status/778610558983634945">September 21, 2016</a></blockquote>
</div>
...comparing notes with the founders of ICQ, hanging out with Alan from Wire...
<div style="text-align: center;">
<blockquote class="twitter-tweet" data-lang="en">
<p dir="ltr" lang="en">A meeting of the messaging minds! <a href="https://twitter.com/wire">@Wire</a> and <a href="https://twitter.com/matrixdotorg">@matrixdotorg</a> federating over a pint at <a href="https://twitter.com/hashtag/MoNage?src=hash">#MoNage</a>. <a href="https://t.co/uTUvWrKRqp">pic.twitter.com/uTUvWrKRqp</a></p>
— Oisin Lunny (@oisinlunny) <a href="https://twitter.com/oisinlunny/status/778731058170736640">September 21, 2016</a></blockquote>
</div>
...chatting to FireChat's CTO, catching up with Dan York from the Internet Society, etc.
<p>Then in October we spoke about scaling Python/Twisted for Matrix at PyCon France in Rennes - this was really fun, albeit slightly embarrassing to be the only talk about Python/Twisted in a track otherwise entirely about Python 3 and asyncio :D That said, the talk seemed to be well received and it was fantastic to meet some of the enthusiastic French Python community and see folks in the audience who were already up and running on Matrix!</p>
<div style="text-align: center;">
<blockquote class="twitter-tweet" data-lang="en">
<p dir="ltr" lang="en">Lots of fun at <a href="https://twitter.com/pyconfr">@pyconfr</a> today demoing Matrix, including a quick video conference with the audience &amp; <a href="https://twitter.com/hashtag/TADHack?src=hash">#TADHack</a> London! <a href="https://t.co/rwbA43X7wB">pic.twitter.com/rwbA43X7wB</a></p>
— Matrix (@matrixdotorg) <a href="https://twitter.com/matrixdotorg/status/787332779264602112">October 15, 2016</a></blockquote>
</div>
The same weekend also featured TADHack Global - we were present at the London site; you can read all about it in our <a href="/blog/2016/10/20/tadhack-global-2016/">earlier blog post</a>. There was a really high standard of hacks on Matrix this year, and it was incredibly hard to judge the hackathon. In most ways this is a good problem to have though!
<div style="text-align: center;">
<blockquote class="twitter-tweet" data-lang="en">
<p dir="ltr" lang="en">Dramatic prep for <a href="https://twitter.com/maffydub">@maffydub</a> and yinyee's Matrix IoT demo with multiple ESP8266, proximity sensor, and <a href="https://twitter.com/Tropo">@tropo</a> ASR!! <a href="https://t.co/eytG8QWFq6">pic.twitter.com/eytG8QWFq6</a></p>
— Matrix (@matrixdotorg) <a href="https://twitter.com/matrixdotorg/status/787639861696139264">October 16, 2016</a></blockquote>
</div>
Meanwhile, coming up on the horizon we have TADSummit in Lisbon next week, where we'll be giving an update on Matrix to the global Telco Application Developer community, and then the week after we'll be in Israel as part of the Geektime Techfest, Devfest and Chatbot Summit. So if you're in Lisbon or Tel Aviv do give us a ping on Matrix and come hang out!
<h3 id="matrixing-for-fun-and-profit">Matrixing for fun and profit!</h3>
<p>If you've read this far, we're guessing you're hopefully quite interested in Matrix (or just skipping to the end ;).  Something we don't talk about as much as we should is that if you're interested in being paid to work on Matrix full time, we're always interested in expanding the core team.  Right now we're particularly looking for:</p>
<ul>
 	<li>Experienced front-end developers who can help build the next generation of matrix-react-sdk and vector-web</li>
 	<li>Professional tech-writers to help keep <a href="/docs/spec">The Spec</a> and tutorials and other docs updated and as kick-ass as possible</li>
 	<li>Backend Python/Twisted or Golang wizards to help us improve and evolve Synapse</li>
 	<li>Mobile developers (especially Android) to help keep the mobile SDKs and apps evolving as quickly as possible</li>
 	<li>Integration fiends who'd like to be paid to build more bridges, bots and other integrations for the overall ecosystem!</li>
</ul>
Most of the core team hangs out in London or Rennes (France), but we're also open to remote folks where it makes sense.  If this sounds interesting, please shoot us a mail to jobs@matrix.org.  Obviously it helps enormously if we already know you from the Matrix community, and you have a proven FOSS track record.
<h3 id="conclusion">Conclusion</h3>
<p>Apologies once again for an overdue and overlong update, but hopefully this gives a good taste of how Matrix is progressing. Just to give a different datapoint: this graph is quite interesting - showing the volume of events per day sent by native (i.e. non-bridged) Matrix users visible to the matrix.org homeserver since we turned the service on back in 2014:</p>
<img class="aligncenter wp-image-1833" src="/blog/wp-content/uploads/2016/11/Screen-Shot-2016-11-04-at-11.02.58-1-1024x778.png" alt="screen-shot-2016-11-04-at-11-02-58-1" width="958" height="728" />
<p>As you can see, things are accelerating quite nicely - and this is ignoring all the traffic in the rest of the Matrix ecosystem that happens not to be federated onto the matrix.org HS, not to mention the <em>huge</em> amounts of traffic due to bridging.</p>
<p>Our plans over the next few months are going to involve:</p>
<ul>
 	<li>Turning on end-to-end encryption by default for any rooms with private history - whilst ensuring it's as easy to write Matrix clients, bots and bridges as it ever was.</li>
 	<li>Yet more scalability and performance work across the board, to ensure Synapse and the client SDKs can handle the growth curve we're seeing here</li>
 	<li>Releasing 0.3.0 of the matrix spec itself.</li>
 	<li>Making Riot (now Element)'s UX excellent.</li>
 	<li>Editable messages.</li>
 	<li>Threading.</li>
 	<li>User groups, for applying permissions/invites etc to groups of users as well as individuals.</li>
 	<li>Formalising the federation spec at last</li>
 	<li>As many bots, bridges and other integrations as possible!</li>
 	<li>Making VoIP/Video conferencing and calling awesome.</li>
 	<li>More experiments with next-generation homeservers</li>
 	<li>Starting to really think hard about decentralised identity and reputation/spam management</li>
 	<li>...and a few new things we don't want to talk about yet ;)</li>
</ul>
If you've got this far - congratulations! Thanks for reading, and thank you for supporting the Matrix ecosystem.
<p>Now more than ever before we believe that it is absolutely critical to have a healthy and secure decentralised communications ecosystem on the 'net (whether that's Matrix, XMPP, Tox or whatever) - so thank you again for participating in our one :)  And if you don't already run your server, please <a href="https://github.com/matrix-org/synapse">grab a Synapse</a> and have fun!</p>
<ul>
<li>Matthew, Amandine &amp; the Matrix Team.</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;07&#x2F;04&#x2F;the-matrix-summer-special&#x2F;" title="The Matrix Summer Special!!">The Matrix Summer Special!!</a></h2>
                <span>
                    04.07.2016 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi folks - another few months have gone by and once again the core Matrix team has ended up too busy hacking away on the final missing pieces of the Matrix jigsaw puzzle to have been properly updating the blog; sorry about this. The end is in sight for the current crunch however, and we expect to return to regular blog updates shortly! Meanwhile, rather than letting news stack up any further, here's a quick(?) attempt to summarise all the things which have been going on!</p>
<h3 id="synapse-0-16-1-released">Synapse 0.16.1 released!</h3>
<p>This one's a biggy: in the mad rush during June to support the public debut for <a href="https://vector.im">Vector</a>, we made a series of major <a href="https://github.com/matrix-org/synapse">Synapse</a> releases which apparently we forgot to tell anyone about (sorry!). The full changelog is at the bottom of the post as it's huge, but the big features are:</p>
<ul>
 	<li>Huge performance improvements, including adding write-thru event caches and improving caching throughout, and massive improvements to the speed of the room directory API.</li>
 	<li>Add support for inline URL previewing!</li>
 	<li>Add email notifications!</li>
 	<li>Add support for LDAP authentication (thanks to Christoph Witzany)</li>
 	<li>Add support for JWT authentication (thanks to Niklas Riekenbrauck)</li>
 	<li>Add basic server-side ignore functionality and abuse reporting API</li>
 	<li>Add ability to delegate /publicRooms API requests to a list of secondary homeservers</li>
 	<li>Lots and lots and lots of bug fixes.</li>
</ul>
If you haven't upgraded, please do asap from <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>!
<p>There's also been a huge amount of work going on behind the scenes on horizontal scalability for Synapse.  We haven't drawn much attention to this yet (or documented it) as it's still quite experimental and in flux, but the main change is to add the concept of application-layer replication to Synapse - letting you split the codebase into multiple endpoints which can then be run in parallel, each replicating their state off the master synapse process.  For instance, right now the Matrix.org homeserver is actually running off three different processes: the main synapse; another specific to calculating push notifications and another specific to serving up the /sync endpoint.  These three are then abstracted behind the <a href="https://github.com/matrix-org/dendron">dendron</a> layer (which also implements the /login endpoint). The idea is that one can then run multiple instances of the /sync and pusher (and other future) endpoints to horizontally scale.  For now, they share a single database writer, but in practice this has improved our scalability and performance on the Matrix.org HS radically.</p>
<p>In future we'll actually document how to run these, as well as making it easy to spin up multiple concurrent instances - in the interim if you find you're hitting performance limits running high-traffic synapses come talk to us about it on <a href="https://matrix.to/#/#matrix-dev:matrix.org">#matrix-dev:matrix.org</a>.  And the longer term plan continues to be to switch out these python endpoint implementations in future for more efficient implementations.  For instance, there's a golang implementation of the media repository currently in development which could run as another endpoint cluster.</p>
<h3 id="vector-released">Vector released!</h3>
<p><a href="https://medium.com/@Vector/2d33b23a787">Much has been written</a> about this <a href="https://news.ycombinator.com/item?id=11871527">elsewhere</a>, but Web, iOS and Android versions of the <a href="https://www.vector.im">Vector</a> clients were finally released to the general public on June 9th at the <a href="http://www.decentralizedweb.net/">Decentralised Web Summit</a> in San Francisco.  Vector is a relatively thin layer on top of the <a href="https://github.com/matrix-org/matrix-react-sdk">matrix-react-sdk</a>, <a href="https://github.com/matrix-org/matrix-ios-sdk">matrix-ios-sdk</a> and <a href="https://github.com/matrix-org/matrix-android-sdk">matrix-android-sdk</a> Matrix.org client SDKs which showcases Matrix's collaboration and messaging capabilities in a mass-market usable app.  There's been huge amounts of work here across the SDKs for the 3 platforms, with literally thousands of issues resolved.  You can find the full SDK changelogs on github for <a href="https://github.com/matrix-org/matrix-react-sdk/blob/master/CHANGELOG.md">React</a>, <a href="https://github.com/matrix-org/matrix-ios-kit/blob/master/CHANGES.rst">iOS</a> and <a href="https://github.com/matrix-org/matrix-android-sdk/blob/master/CHANGES.rst">Android</a>.  Some of the more interesting recent additions to Vector include improved room notifications, URL previews, configurable email notifications, and huge amounts of performance stability work.</p>
<p>Future work on Vector is focused on showcasing end-to-end encryption, providing a one-click interface for adding bots/integrations &amp; bridges to a room, and generally enormously improving the UX and polish.  Meanwhile, there's an F-Droid release for Android landing <a href="https://f-droid.org/repository/browse/?fdid=im.vector.alpha">any day now</a>.</p>
<p>If you haven't checked it out recently, it's really worth a look :)</p>
<p><a href="https://vector.im"><img class="aligncenter size-large wp-image-1658" src="/blog/wp-content/uploads/2016/07/Screen-Shot-2016-07-04-at-12.18.10-1024x591.png" alt="Vector" width="1024" height="591" /></a></p>
<h3 id="matrix-spec-0-1-0">Matrix Spec 0.1.0</h3>
<p>In case you didn't notice, we also released <a href="http://matrix.org/docs/spec/">v0.1.0 of the Matrix spec</a> itself in May - this is a fairly minor update which improves the layout of the document somewhat (thanks to a PR from Jimmy Cuadra) and a some bugfixes.  You can see the <a href="http://matrix.org/docs/spec/client_server/r0.1.0.html#changelog">full changelog here</a>. We're overdue a new release since then (albeit again with relatively minor changes).</p>
<h3 id="google-summer-of-code">Google Summer of Code</h3>
<p>We're in the middle of the second half of GSoC right now, with our GSoC students Aviral and Half-Shot hacking away on Vector and Microblogging projects respectively.  There's a lot of exciting stuff coming out of this - Aviral contributing Rich Text Editing, Emoji autocompletion, DuckDuckGo and other features into Vector (currently on branches, but will be released soon) and Half-Shot building a Twitter bridge as part of his Matrix-powered microblogging system.  Watch this space for updates!</p>
<h3 id="ruma">Ruma</h3>
<p>Lots of exciting stuff has been happening recently over at <a href="https://ruma.io">Ruma.io</a> - an independent Matrix homeserver implementation written in Rust.  Over the last few weeks Jimmy and friends have got into the real meat of implementing e<a href="https://github.com/ruma/ruma/commit/8a2fe269196dfd5b629c6e301e8d78e19ae6d279">vents</a> and the core of the Matrix CS API, and as of the time of writing they're the <a href="https://news.ycombinator.com/item?id=12028475">topmost link</a> on HackerNews!  There's a lot of work involved in writing a homeserver, but Ruma is looking incredibly promising and the feedback from their team has been incredibly helpful in keeping us honest on the Matrix spec and ensuring that it's fit for purpose for 3rd party server implementers.</p>
<p>Also, Ruma just released some <a href="https://www.ruma.io/docs/matrix">truly excellent documentation</a> as a high-level introduction to Matrix (thanks to Leah and Jimmy) - much better than anything we have on the official Matrix.org site.  Go check it out if you haven't already!</p>
<h3 id="end-to-end-encryption">End to End Encryption</h3>
<p>There has been <em>LOADS</em> of work happening on End to End encryption: finalising the core 1:1 &quot;<a href="/git/olm">Olm</a>&quot; cryptographic ratchet; implementing the group &quot;<a href="http://matrix.org/git/olm/tree/src/megolm.c">Megolm</a>&quot; ratchet (which shares a single ratchet over all the participants of a room for scalability); fully hooking Olm into matrix-js-sdk and Vector-web at last, and preparing for a formal and published-to-the-public 3rd party security audit on Olm which will be happening during July.</p>
<p>This deserves a post in its own right, but the key thing to know is that Olm is almost ready - and indeed the work-in-progress E2E UX is even available on the <a href="https://vector.im/develop">develop branch of vector</a> if you enable E2E in the new 'Labs' section in User Settings.  Olm itself is usable only for 'burn after reading' strictly PFS messages, but Megolm integration with Vector &amp; Synapse will follow shortly afterwards which will finally provide the E2E nirvana we've all been waiting for :)</p>
<h3 id="decentralised-web-summit">Decentralised Web Summit</h3>
<p>Matrix had a major presence as a sponsor at the first ever <a href="http://www.decentralizedweb.net/">Decentralised Web Summit</a> hosted by the Internet Archive in San Francisco back in June.  This was a truly incredible event - with folks gathering from across the world to discuss, collaborate and debate on ensure that the web is not fragmented or trapped into proprietary silos - with the likes of Tim Berners-Lee, Vint Cerf and Brewster Kahle in attendance.  We ran a long 2 hour workshop on Matrix and showed off Vector to anyone and everyone - and meanwhile the organisers were kind enough to promote Matrix as the main decentralised chat interface for the conference itself (bridged with their Slack).  A full writeup of the conference really merits a blog post in its own right, but the punchline is that you could genuinely tell that this is the beginning of a new era of the internet - whether it's using Merkle DAGs (like Matrix) or Blockchain or similar technologies: we are about to see a major shift in the balance of power on the internet back towards its users.</p>
<p>We strongly recommend checking out the videos which have all been published at <a href="http://www.decentralizedweb.net/">Decentralised Web Summit</a>, including <a href="https://archive.org/details/DWebSummit2016_Lightning_Talks_Session_B">lightning talks introducing both Matrix and Vector</a>, and digging into as many of the projects advertised as possible.  It was particularly interesting for us to get to know Tim Berners-Lee's latest project at MIT: <a href="https://solid.mit.edu/">Solid</a> - which shares quite a lot of the same goals as Matrix, and subsequently seeing Tim pop up on <a href="https://vector.im/develop/#/room/#decentralizedweb-general:matrix.org/$146549767249761pyAQF:matrix.org">Matrix via Vector</a>.  We're really looking forward to working out how Matrix &amp; Solid can complement each other in future.</p>
<p><a href="https://twitter.com/parkan/status/740324969884700672"><img class="aligncenter wp-image-1660 size-large" src="/blog/wp-content/uploads/2016/07/timbl-768x1024.jpg" alt="Matthew, Tim Berners-Lee and Matrix" width="384" height="512" /></a></p>
<h3 id="matrix-to">Matrix.to</h3>
<p>Not the most exciting thing ever, but heads up that there's a simple site up at <a href="https://matrix.to">https://matrix.to</a> to provide a way of doing client-agnostic links to content in Matrix.  For instance, rather than linking specifically into an app like Vector, you can now say <a href="https://matrix.to/#/#matrix:matrix.org">https://matrix.to/#/#matrix:matrix.org</a> to go there via whatever app you choose.  This is basically a bootstrapping process towards having proper mx:// URLs in circulation, but given mx:// doesn't exist yet, https://matrix.to hopefully provides a useful step in the right direction :)</p>
<p>PRs very welcome at <a href="https://github.com/matrix-org/matrix.to">https://github.com/matrix-org/matrix.to</a>.</p>
<h3 id="bridges-and-bots">Bridges and Bots</h3>
<p>Much of the promise of Matrix is the ability to bridge through to other silos, and we've been gradually adding more and more bridging capabilities in.</p>
<p>For instance, the <a href="https://github.com/matrix-org/matrix-appservice-irc">IRC bridge</a> has had a complete overhaul to add in huge numbers of new features and finally deployed for Freenode a few weeks ago:</p>
<p>New Features:</p>
<ul>
 	<li>Nicks set via <code>!nick</code> will now be preserved across bridge restarts.</li>
 	<li>EXPERIMENTAL: IRC clients created by the bridge can be assigned their own IPv6 address.</li>
 	<li>The bridge will now send connection status information to real Matrix users via the admin room (the same room <code>!nick</code>commands are issued).</li>
 	<li>Added <code>!help</code>.</li>
 	<li>The bridge will now fallback to <code>body</code> if the HTML content contains <em>any</em> unrecognised tags. This makes passing Markdown from Matrix to IRC much nicer.</li>
 	<li>The bridge will now send more metrics to the statsd server, including the join/part rate to and from IRC.</li>
 	<li>The config option <code>matrixClients.displayName</code> is now implemented.</li>
</ul>
Bug fixes:
<ul>
 	<li>Escape HTML entities when sending from IRC to Matrix. This prevents munging occurring between IRC formatting and textual &lt; element &gt; references, whereby if you sent a tag and some colour codes from IRC it would not escape the tag and therefore send invalid HTML to Matrix.</li>
 	<li>User IDs starting with <code>-</code> are temporarily filtered out from being bridged.</li>
 	<li>Deterministically generate the configuration file.</li>
 	<li>Recognise more IRC error codes as non-fatal to avoid IRC clients reconnecting unnecessarily.</li>
 	<li>Add a 10 second timeout to join events injected via the <code>MemberListSyncer</code> to avoid HOL blocking.</li>
 	<li>'Frontier' Matrix users will be forcibly joined to IRC channels even if membership list syncing I-&gt;M is disabled. This ensures that there is always a Matrix user in the channel being bridged to avoid losing traffic.</li>
 	<li>Cache the <code>/initialSync</code> request to avoid hitting this endpoint more than once, as it may be very slow.</li>
 	<li>Indexes have been added to the NeDB .db files to improve lookup times.</li>
 	<li>Do not recheck if the bridge bot should part the channel if a virtual user leaves the channel: we know it shouldn't.</li>
 	<li>Refine what counts as a "request" for metrics, reducing the amount of double-counting as requests echo back from the remote side.</li>
 	<li>Fixed a bug which caused users to be provisioned off their <code>user_id</code> even if they had a display name set.</li>
</ul>
Meanwhile, a <a href="https://github.com/matrix-org/matrix-appservice-gitter">Gitter bridge</a> is in active development (and in testing with the Neovim community on Gitter/Matrix/Freenode), although lacking documentation so far.
<p>Finally, <a href="https://github.com/matrix-org/Matrix-NEB">NEB</a> - the Matrix.org bot framework is currently being ported from Python to Golang to act as a general Go SDK for rapidly implementing new bot capabilities.</p>
<p>There's little point in all of the effort going into bridges and bots if it's too hard for normal users to deploy them, so on the Vector side of things there's an ongoing project to build a commercial-grade bot/bridge hosted service offering for Matrix which should make it <em>much</em> easier for non-sysadmins to quickly add their own bots and bridges into their rooms.  There's nothing to see yet, but we'll be yelling about it when it's ready!</p>
<h3 id="conclusion">Conclusion</h3>
<p>I'm sure there's a lot of stuff missing from the quick summary above - suffice it to say that the Matrix ecosystem is growing so fast and so large that it's pretty hard to keep track of everything that's going on.  The big remaining blockers we see at this point are:</p>
<ul>
 	<li>End-to-end Encryption roll-out</li>
 	<li>Polishing UX on Vector - showing that it's possible to build better-than-Slack quality UX on top of Matrix</li>
 	<li>Bots, Integrations and Bridges - making them absolutely trivial to build and deploy, and encouraging everyone to write as many as they can!</li>
 	<li>Improving VoIP, especially for conferencing, especially on Mobile</li>
 	<li>Threading</li>
 	<li>Editable messages</li>
 	<li>Synapse scaling and stability - this is massively improved, but there's still work to be done.  Meanwhile projects like <a href="https://ruma.io">Ruma</a> give us hope for light at the end of the Synapse tunnel!</li>
 	<li>Spec refinements - there are still a <a href="/jira/browse/SPEC">lot of open spec bugs</a> which we need to resolve so we can declare the spec (and thus Matrix!) out of beta.</li>
 	<li>More clients - especially desktop ones; helping out with <a href="https://github.com/Fxrh/Quaternion">Quaternion</a>, <a href="https://github.com/davidar/tensor">Tensor</a>, <a href="https://pto.im">PTO</a>, etc.</li>
</ul>
...and then all the pieces of the jigsaw will finally be in place, and Matrix should hopefully fulfil its potential as an invaluable, open and decentralised data fabric for the web.
<p>Thanks, once again, to everyone who's been supporting and using Matrix - whether it's by hanging out in the public chatrooms, running your own server, writing your own clients, bots, or servers, or just telling your friends about the project.  The end of the beginning is in sight: thanks for believing in us, and thank you for flying Matrix.</p>
<p>Matthew, Amandine &amp; the Matrix Team.</p>
<h3 id="appendix-the-missing-synapse-changelogs">Appendix: The Missing Synapse Changelogs</h3>
<h3 id="changes-in-synapse-v0-16-1-2016-06-20">Changes in synapse v0.16.1 (2016-06-20)</h3>
<p>Bug fixes:</p>
<ul>
 	<li>Fix assorted bugs in <code>/preview_url</code> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/872" data-url="https://github.com/matrix-org/synapse/issues/872" data-id="160459814" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#872</a>)</li>
 	<li>Fix TypeError when setting unicode passwords (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/873" data-url="https://github.com/matrix-org/synapse/issues/873" data-id="160576835" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#873</a>)</li>
</ul>
Performance improvements:
<ul>
 	<li>Turn <code>use_frozen_events</code> off by default (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/877" data-url="https://github.com/matrix-org/synapse/issues/877" data-id="160897209" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#877</a>)</li>
 	<li>Disable responding with canonical json for federation (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/878" data-url="https://github.com/matrix-org/synapse/issues/878" data-id="160910639" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#878</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-16-1-rc1-2016-06-15">Changes in synapse v0.16.1-rc1 (2016-06-15)</h3>
<p>Features: None</p>
<p>Changes:</p>
<ul>
 	<li>Log requester for <code>/publicRoom</code> endpoints when possible (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/856" data-url="https://github.com/matrix-org/synapse/issues/856" data-id="159162802" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#856</a>)</li>
 	<li>502 on <code>/thumbnail</code> when can't connect to remote server (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/862" data-url="https://github.com/matrix-org/synapse/issues/862" data-id="159375931" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#862</a>)</li>
 	<li>Linearize fetching of gaps on incoming events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/871" data-url="https://github.com/matrix-org/synapse/issues/871" data-id="160433511" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#871</a>)</li>
</ul>
Bugs fixes:
<ul>
 	<li>Fix bug where rooms where marked as published by default (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/857" data-url="https://github.com/matrix-org/synapse/issues/857" data-id="159171952" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#857</a>)</li>
 	<li>Fix bug where joining room with an event with invalid sender (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/868" data-url="https://github.com/matrix-org/synapse/issues/868" data-id="160169477" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#868</a>)</li>
 	<li>Fix bug where backfilled events were sent down sync streams (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/869" data-url="https://github.com/matrix-org/synapse/issues/869" data-id="160383501" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#869</a>)</li>
 	<li>Fix bug where outgoing connections could wedge indefinitely, causing push notifications to be unreliable (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/870" data-url="https://github.com/matrix-org/synapse/issues/870" data-id="160388703" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#870</a>)</li>
</ul>
Performance improvements:
<ul>
 	<li>Improve <code>/publicRooms</code> performance (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/859" data-url="https://github.com/matrix-org/synapse/issues/859" data-id="159188459" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#859</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-16-0-2016-06-09">Changes in synapse v0.16.0 (2016-06-09)</h3>
<p>NB: As of v0.14 all AS config files must have an ID field.</p>
<p>Bug fixes:</p>
<ul>
 	<li>Don't make rooms published by default (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/857" data-url="https://github.com/matrix-org/synapse/issues/857" data-id="159171952" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#857</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-16-0-rc2-2016-06-08">Changes in synapse v0.16.0-rc2 (2016-06-08)</h3>
<p>Features:</p>
<ul>
 	<li>Add configuration option for tuning GC via <code>gc.set_threshold</code> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/849" data-url="https://github.com/matrix-org/synapse/issues/849" data-id="158942313" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#849</a>)</li>
</ul>
Changes:
<ul>
 	<li>Record metrics about GC (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/771" data-url="https://github.com/matrix-org/synapse/issues/771" data-id="153734745" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#771</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/847" data-url="https://github.com/matrix-org/synapse/issues/847" data-id="158911645" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#847</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/852" data-url="https://github.com/matrix-org/synapse/issues/852" data-id="158961878" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#852</a>)</li>
 	<li>Add metric counter for number of persisted events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/841" data-url="https://github.com/matrix-org/synapse/issues/841" data-id="158673436" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#841</a>)</li>
</ul>
Bug fixes:
<ul>
 	<li>Fix 'From' header in email notifications (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/843" data-url="https://github.com/matrix-org/synapse/issues/843" data-id="158692541" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#843</a>)</li>
 	<li>Fix presence where timeouts were not being fired for the first 8h after restarts (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/842" data-url="https://github.com/matrix-org/synapse/issues/842" data-id="158689045" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#842</a>)</li>
 	<li>Fix bug where synapse sent malformed transactions to AS's when retrying transactions (Commits<a class="commit-link" href="https://github.com/matrix-org/synapse/commit/310197bab5cf8ed2c26fae522f15f092dbcdff58"><tt>310197b</tt></a>, <a class="commit-link" href="https://github.com/matrix-org/synapse/commit/84379062f9ec259abc302af321d4ed8f5a958c01"><tt>8437906</tt></a>)</li>
</ul>
Performance Improvements:
<ul>
 	<li>Remove event fetching from DB threads (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/835" data-url="https://github.com/matrix-org/synapse/issues/835" data-id="158404359" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#835</a>)</li>
 	<li>Change the way we cache events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/836" data-url="https://github.com/matrix-org/synapse/issues/836" data-id="158410030" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#836</a>)</li>
 	<li>Add events to cache when we persist them (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/840" data-url="https://github.com/matrix-org/synapse/issues/840" data-id="158647785" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#840</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-16-0-rc1-2016-06-03">Changes in synapse v0.16.0-rc1 (2016-06-03)</h3>
<p>Version 0.15 was not released. See v0.15.0-rc1 below for additional changes.</p>
<p>Features:</p>
<ul>
 	<li>Add email notifications for missed messages (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/759" data-url="https://github.com/matrix-org/synapse/issues/759" data-id="151860508" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#759</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/786" data-url="https://github.com/matrix-org/synapse/issues/786" data-id="155084975" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#786</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/799" data-url="https://github.com/matrix-org/synapse/issues/799" data-id="156336186" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#799</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/810" data-url="https://github.com/matrix-org/synapse/issues/810" data-id="157876958" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#810</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/815" data-url="https://github.com/matrix-org/synapse/issues/815" data-id="158088266" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#815</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/821" data-url="https://github.com/matrix-org/synapse/issues/821" data-id="158184002" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#821</a>)</li>
 	<li>Add a <code>url_preview_ip_range_whitelist</code> config param (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/760" data-url="https://github.com/matrix-org/synapse/issues/760" data-id="152195317" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#760</a>)</li>
 	<li>Add /report endpoint (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/762" data-url="https://github.com/matrix-org/synapse/issues/762" data-id="152983097" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#762</a>)</li>
 	<li>Add basic ignore user API (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/763" data-url="https://github.com/matrix-org/synapse/issues/763" data-id="153078662" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#763</a>)</li>
 	<li>Add an openidish mechanism for proving that you own a given user_id (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/765" data-url="https://github.com/matrix-org/synapse/issues/765" data-id="153225023" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#765</a>)</li>
 	<li>Allow clients to specify a server_name to avoid 'No known servers' (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/794" data-url="https://github.com/matrix-org/synapse/issues/794" data-id="155729287" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#794</a>)</li>
 	<li>Add secondary_directory_servers option to fetch room list from other servers (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/808" data-url="https://github.com/matrix-org/synapse/issues/808" data-id="157727869" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#808</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/813" data-url="https://github.com/matrix-org/synapse/issues/813" data-id="157957443" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#813</a>)</li>
</ul>
Changes:
<ul>
 	<li>Report per request metrics for all of the things using request_handler (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/756" data-url="https://github.com/matrix-org/synapse/issues/756" data-id="151597373" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#756</a>)</li>
 	<li>Correctly handle <code>NULL</code> password hashes from the database (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/775" data-url="https://github.com/matrix-org/synapse/issues/775" data-id="154218069" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#775</a>)</li>
 	<li>Allow receipts for events we haven't seen in the db (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/784" data-url="https://github.com/matrix-org/synapse/issues/784" data-id="154729615" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#784</a>)</li>
 	<li>Make synctl read a cache factor from config file (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/785" data-url="https://github.com/matrix-org/synapse/issues/785" data-id="155061473" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#785</a>)</li>
 	<li>Increment badge count per missed convo, not per msg (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/793" data-url="https://github.com/matrix-org/synapse/issues/793" data-id="155472279" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#793</a>)</li>
 	<li>Special case m.room.third_party_invite event auth to match invites (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/814" data-url="https://github.com/matrix-org/synapse/issues/814" data-id="158008655" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#814</a>)</li>
</ul>
Bug fixes:
<ul>
 	<li>Fix typo in event_auth servlet path (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/757" data-url="https://github.com/matrix-org/synapse/issues/757" data-id="151841944" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#757</a>)</li>
 	<li>Fix password reset (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/758" data-url="https://github.com/matrix-org/synapse/issues/758" data-id="151842844" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#758</a>)</li>
</ul>
Performance improvements:
<ul>
 	<li>Reduce database inserts when sending transactions (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/767" data-url="https://github.com/matrix-org/synapse/issues/767" data-id="153422719" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#767</a>)</li>
 	<li>Queue events by room for persistence (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/768" data-url="https://github.com/matrix-org/synapse/issues/768" data-id="153453122" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#768</a>)</li>
 	<li>Add cache to <code>get_user_by_id</code> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/772" data-url="https://github.com/matrix-org/synapse/issues/772" data-id="153734759" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#772</a>)</li>
 	<li>Add and use <code>get_domain_from_id</code> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/773" data-url="https://github.com/matrix-org/synapse/issues/773" data-id="153737866" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#773</a>)</li>
 	<li>Use tree cache for <code>get_linearized_receipts_for_room</code> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/779" data-url="https://github.com/matrix-org/synapse/issues/779" data-id="154683780" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#779</a>)</li>
 	<li>Remove unused indices (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/782" data-url="https://github.com/matrix-org/synapse/issues/782" data-id="154703597" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#782</a>)</li>
 	<li>Add caches to <code>bulk_get_push_rules*</code> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/804" data-url="https://github.com/matrix-org/synapse/issues/804" data-id="157677823" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#804</a>)</li>
 	<li>Cache <code>get_event_reference_hashes</code> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/806" data-url="https://github.com/matrix-org/synapse/issues/806" data-id="157702778" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#806</a>)</li>
 	<li>Add <code>get_users_with_read_receipts_in_room</code> cache (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/809" data-url="https://github.com/matrix-org/synapse/issues/809" data-id="157867129" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#809</a>)</li>
 	<li>Use state to calculate <code>get_users_in_room</code> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/811" data-url="https://github.com/matrix-org/synapse/issues/811" data-id="157921429" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#811</a>)</li>
 	<li>Load push rules in storage layer so that they get cached (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/825" data-url="https://github.com/matrix-org/synapse/issues/825" data-id="158334922" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#825</a>)</li>
 	<li>Make <code>get_joined_hosts_for_room</code> use get_users_in_room (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/828" data-url="https://github.com/matrix-org/synapse/issues/828" data-id="158336691" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#828</a>)</li>
 	<li>Poke notifier on next reactor tick (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/829" data-url="https://github.com/matrix-org/synapse/issues/829" data-id="158337243" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#829</a>)</li>
 	<li>Change CacheMetrics to be quicker (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/830" data-url="https://github.com/matrix-org/synapse/issues/830" data-id="158337903" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#830</a>)</li>
</ul>
<h3 id="changes-in-synapse-v0-15-0-rc1-2016-04-26">Changes in synapse v0.15.0-rc1 (2016-04-26)</h3>
<p>Features:</p>
<ul>
 	<li>Add login support for Javascript Web Tokens, thanks to Niklas Riekenbrauck (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/671" data-url="https://github.com/matrix-org/synapse/issues/671" data-id="144065761" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#671</a>,<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/687" data-url="https://github.com/matrix-org/synapse/issues/687" data-id="145233458" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#687</a>)</li>
 	<li>Add URL previewing support (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/688" data-url="https://github.com/matrix-org/synapse/issues/688" data-id="145553608" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#688</a>)</li>
 	<li>Add login support for LDAP, thanks to Christoph Witzany (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/701" data-url="https://github.com/matrix-org/synapse/issues/701" data-id="146343240" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#701</a>)</li>
 	<li>Add GET endpoint for pushers (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/716" data-url="https://github.com/matrix-org/synapse/issues/716" data-id="147499520" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#716</a>)</li>
</ul>
Changes:
<ul>
 	<li>Never notify for member events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/667" data-url="https://github.com/matrix-org/synapse/issues/667" data-id="143242675" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#667</a>)</li>
 	<li>Deduplicate identical <code>/sync</code> requests (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/668" data-url="https://github.com/matrix-org/synapse/issues/668" data-id="143315296" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#668</a>)</li>
 	<li>Require user to have left room to forget room (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/673" data-url="https://github.com/matrix-org/synapse/issues/673" data-id="144534572" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#673</a>)</li>
 	<li>Use DNS cache if within TTL (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/677" data-url="https://github.com/matrix-org/synapse/issues/677" data-id="144834970" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#677</a>)</li>
 	<li>Let users see their own leave events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/699" data-url="https://github.com/matrix-org/synapse/issues/699" data-id="146331932" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#699</a>)</li>
 	<li>Deduplicate membership changes (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/700" data-url="https://github.com/matrix-org/synapse/issues/700" data-id="146337782" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#700</a>)</li>
 	<li>Increase performance of pusher code (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/705" data-url="https://github.com/matrix-org/synapse/issues/705" data-id="146665406" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#705</a>)</li>
 	<li>Respond with error status 504 if failed to talk to remote server (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/731" data-url="https://github.com/matrix-org/synapse/issues/731" data-id="148606730" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#731</a>)</li>
 	<li>Increase search performance on postgres (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/745" data-url="https://github.com/matrix-org/synapse/issues/745" data-id="150119333" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#745</a>)</li>
</ul>
Bug fixes:
<ul>
 	<li>Fix bug where disabling all notifications still resulted in push (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/678" data-url="https://github.com/matrix-org/synapse/issues/678" data-id="144837338" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#678</a>)</li>
 	<li>Fix bug where users couldn't reject remote invites if remote refused (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/691" data-url="https://github.com/matrix-org/synapse/issues/691" data-id="145946732" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#691</a>)</li>
 	<li>Fix bug where synapse attempted to backfill from itself (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/693" data-url="https://github.com/matrix-org/synapse/issues/693" data-id="145966417" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#693</a>)</li>
 	<li>Fix bug where profile information was not correctly added when joining remote rooms (PR <a class="issue-link js-issue-link" title="Set profile information when joining rooms remotely" href="https://github.com/matrix-org/synapse/pull/703" data-id="146548756" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#703</a>)</li>
 	<li>Fix bug where register API required incorrect key name for AS registration (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/727" data-url="https://github.com/matrix-org/synapse/issues/727" data-id="148368853" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#727</a>)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;03&#x2F;30&#x2F;synapse-0-14-is-released&#x2F;" title="Synapse 0.14 is released!">Synapse 0.14 is released!</a></h2>
                <span>
                    30.03.2016 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>We just released Synapse 0.14.0 - a major update which incorporates lots of work on making Synapse more RAM efficient. There's still a lot of room for further improvements, but the main headlines are reducing the resident memory footprint dramatically by interning strings and deduplicating events across the many different caches. It also adds a much-needed <code>SYNAPSE_CACHE_FACTOR</code> environment variable that can be used to globally decrease or increase the sizing of all of Synapse's various caches (with an associated slow-down or speed-up in performance). Quite how improved the new memory footprint seems to very much depend on your own use case, but it's certainly a step in the right direction.</p>
<p>For more details on recent Synapse performance work (and a general state of the union for the whole Matrix ecosystem), check out <a href="/blog/2016/03/26/the-matrix-spring-special/">our Spring update</a>.</p>
<p>Get all new synapse from <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a> - we recommend upgrading (or installing!) asap :)</p>
<p>Full changelog follows:</p>
<div class="markdown-body">
<h2 id="changes-in-synapse-v0-14-0-2016-03-30">Changes in synapse v0.14.0 (2016-03-30)</h2>
<p>No changes from v0.14.0-rc2</p>
<h2 id="changes-in-synapse-v0-14-0-rc2-2016-03-23">Changes in synapse v0.14.0-rc2 (2016-03-23)</h2>
<p>Features:</p>
<ul>
	<li>Add published room list API (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/657" data-url="https://github.com/matrix-org/synapse/issues/657" data-id="142376806" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#657</a>)</li>
</ul>
Changes:
<ul>
	<li>Change various caches to consume less memory (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/656" data-url="https://github.com/matrix-org/synapse/issues/656" data-id="141883503" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#656</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/658" data-url="https://github.com/matrix-org/synapse/issues/658" data-id="142428334" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#658</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/660" data-url="https://github.com/matrix-org/synapse/issues/660" data-id="142630190" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#660</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/662" data-url="https://github.com/matrix-org/synapse/issues/662" data-id="142908266" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#662</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/663" data-url="https://github.com/matrix-org/synapse/issues/663" data-id="142922725" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#663</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/665" data-url="https://github.com/matrix-org/synapse/issues/665" data-id="142938097" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#665</a>)</li>
	<li>Allow rooms to be published without requiring an alias (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/664" data-url="https://github.com/matrix-org/synapse/issues/664" data-id="142929970" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#664</a>)</li>
	<li>Intern common strings in caches to reduce memory footprint (<a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/666" data-url="https://github.com/matrix-org/synapse/issues/666" data-id="143009852" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#666</a>)</li>
</ul>
Bug fixes:
<ul>
	<li>Fix reject invites over federation (PR <a class="issue-link js-issue-link" title="Persist rejection of invites over federation" href="https://github.com/matrix-org/synapse/pull/646" data-id="140973458" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#646</a>)</li>
	<li>Fix bug where registration was not idempotent (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/649" data-url="https://github.com/matrix-org/synapse/issues/649" data-id="141252178" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#649</a>)</li>
	<li>Update aliases event after deleting aliases (PR <a class="issue-link js-issue-link" title="Update aliases event after deletion" href="https://github.com/matrix-org/synapse/pull/652" data-id="141592232" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#652</a>)</li>
	<li>Fix unread notification count, which was sometimes wrong (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/661" data-url="https://github.com/matrix-org/synapse/issues/661" data-id="142657556" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#661</a>)</li>
</ul>
<h2 id="changes-in-synapse-v0-14-0-rc1-2016-03-14">Changes in synapse v0.14.0-rc1 (2016-03-14)</h2>
<p>Features:</p>
<ul>
	<li>Add event_id to response to state event PUT (PR <a class="issue-link js-issue-link" title="client/v1/room: include event_id in response to state event PUT" href="https://github.com/matrix-org/synapse/pull/581" data-id="134248706" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#581</a>)</li>
	<li>Allow guest users access to messages in rooms they have joined (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/587" data-url="https://github.com/matrix-org/synapse/issues/587" data-id="134846121" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#587</a>)</li>
	<li>Add config for what state is included in a room invite (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/598" data-url="https://github.com/matrix-org/synapse/issues/598" data-id="135736142" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#598</a>)</li>
	<li>Send the inviter's member event in room invite state (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/607" data-url="https://github.com/matrix-org/synapse/issues/607" data-id="136466943" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#607</a>)</li>
	<li>Add error codes for malformed/bad JSON in /login (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/608" data-url="https://github.com/matrix-org/synapse/issues/608" data-id="136642285" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#608</a>)</li>
	<li>Add support for changing the actions for default rules (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/609" data-url="https://github.com/matrix-org/synapse/issues/609" data-id="136680904" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#609</a>)</li>
	<li>Add environment variable SYNAPSE_CACHE_FACTOR, default it to 0.1 (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/612" data-url="https://github.com/matrix-org/synapse/issues/612" data-id="137568719" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#612</a>)</li>
	<li>Add ability for alias creators to delete aliases (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/614" data-url="https://github.com/matrix-org/synapse/issues/614" data-id="137594003" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#614</a>)</li>
	<li>Add profile information to invites (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/624" data-url="https://github.com/matrix-org/synapse/issues/624" data-id="138490446" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#624</a>)</li>
</ul>
Changes:
<ul>
	<li>Enforce user_id exclusivity for AS registrations (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/572" data-url="https://github.com/matrix-org/synapse/issues/572" data-id="133037977" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#572</a>)</li>
	<li>Make adding push rules idempotent (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/587" data-url="https://github.com/matrix-org/synapse/issues/587" data-id="134846121" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#587</a>)</li>
	<li>Improve presence performance (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/582" data-url="https://github.com/matrix-org/synapse/issues/582" data-id="134315572" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#582</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/586" data-url="https://github.com/matrix-org/synapse/issues/586" data-id="134829627" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#586</a>)</li>
	<li>Change presence semantics for <code>last_active_ago</code> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/582" data-url="https://github.com/matrix-org/synapse/issues/582" data-id="134315572" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#582</a>, <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/586" data-url="https://github.com/matrix-org/synapse/issues/586" data-id="134829627" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#586</a>)</li>
	<li>Don't allow <code>m.room.create</code> to be changed (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/596" data-url="https://github.com/matrix-org/synapse/issues/596" data-id="135558604" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#596</a>)</li>
	<li>Add 800x600 to default list of valid thumbnail sizes (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/616" data-url="https://github.com/matrix-org/synapse/issues/616" data-id="137914530" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#616</a>)</li>
	<li>Always include kicks and bans in full /sync (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/625" data-url="https://github.com/matrix-org/synapse/issues/625" data-id="138502688" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#625</a>)</li>
	<li>Send history visibility on boundary changes (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/626" data-url="https://github.com/matrix-org/synapse/issues/626" data-id="138524888" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#626</a>)</li>
	<li>Register endpoint now returns a refresh_token (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/637" data-url="https://github.com/matrix-org/synapse/issues/637" data-id="139811456" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#637</a>)</li>
</ul>
Bug fixes:
<ul>
	<li>Fix bug where we returned incorrect state in /sync (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/573" data-url="https://github.com/matrix-org/synapse/issues/573" data-id="133215098" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#573</a>)</li>
	<li>Always return a JSON object from push rule API (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/606" data-url="https://github.com/matrix-org/synapse/issues/606" data-id="136392145" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#606</a>)</li>
	<li>Fix bug where registering without a user id sometimes failed (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/610" data-url="https://github.com/matrix-org/synapse/issues/610" data-id="137394765" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#610</a>)</li>
	<li>Report size of ExpiringCache in cache size metrics (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/611" data-url="https://github.com/matrix-org/synapse/issues/611" data-id="137537841" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#611</a>)</li>
	<li>Fix rejection of invites to empty rooms (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/615" data-url="https://github.com/matrix-org/synapse/issues/615" data-id="137638777" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#615</a>)</li>
	<li>Fix usage of <code>bcrypt</code> to not use <code>checkpw</code> (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/619" data-url="https://github.com/matrix-org/synapse/issues/619" data-id="137949188" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#619</a>)</li>
	<li>Pin <code>pysaml2</code> dependency (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/634" data-url="https://github.com/matrix-org/synapse/issues/634" data-id="139556355" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#634</a>)</li>
	<li>Fix bug in <code>/sync</code> where timeline order was incorrect for backfilled events (PR <a class="issue-link js-issue-link" href="https://github.com/matrix-org/synapse/pull/635" data-url="https://github.com/matrix-org/synapse/issues/635" data-id="139635294" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#635</a>)</li>
</ul>
</div>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;03&#x2F;26&#x2F;the-matrix-spring-special&#x2F;" title="The Matrix Spring Special!">The Matrix Spring Special!</a></h2>
                <span>
                    26.03.2016 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>It's been 3 months since the <a href="/blog/2015/12/25/the-matrix-holiday-special/">Matrix Holiday Special</a> and once again we've all been too busy writing code to put anything that detailed on the blog.  So without further a do here's a quick overview of how things have progressed so far in 2016!</p>
<h3 id="home-servers">Home servers</h3>
<br/>
<h4 id="synapse">Synapse</h4>
<p>Work on <a href="http://github.com/matrix-org/synapse">Synapse</a> (our reference homeserver) has been primarily focused on improving performance.  This may sound boring, but there's been a huge amount of improvement here since synapse 0.12 was released on Jan 4. Synapse 0.13 on Feb 10 brought huge CPU savings thanks to a whole fleet of caching and other optimisation work - the best way of seeing the difference here is to look at the load graph of the server that hosts matrix.org's synapse+postgres over the last few months:</p>
<img src="/blog/wp-content/uploads/2016/03/matrix-org-load.png" alt="matrix-org-load" width="497" height="173" class="aligncenter size-full wp-image-1563" />
<p>Ignoring the unrelated blip during March, you can see an enormous step change in system load (which had a matching decrease in actual CPU usage) at the beginning of Feb when the 0.13 optimisations landed on matrix.org :)</p>
<p>Meanwhile, Synapse 0.14 is due any day now with <a href="https://github.com/matrix-org/synapse/releases/tag/v0.14.0-rc2">0.14.0-rc2</a> released on Wednesday.  Here, the focus has been all about memory optimisation - anyone who's run a Synapse seriously will be aware that it can be a memory hog thanks to aggressively caching as much state and history in RAM as possible to avoid hitting the database and keeping everything responsive.  0.14 should improve memory usage just as dramatically as 0.13 improved CPU utilisation - introducing a quick-and-dirty SYNAPSE_CACHE_FACTOR environment variable that lets admins dial down the aggressiveness of the caching (at the expense of performance), but more interestingly implementing string interning and ensuring that events are cached by ID rather than duplicated across multiple caches in order to make memory usage more efficient.  It's too early to have impressive looking graphs, and there are still a few memory spikes being tracked down before we release 0.14, but we're hoping for at least a 50% reduction in memory footprint.</p>
<p>Featurewise the highlights include: server-generated unread notification &amp; highlight counts and push badge support, lots of support and refinements for guest access and 3rd party ID invites.  Meanwhile we've finally fixed some of the most embarrassing long-standing missing features such as letting folks logout serverside(!), delete aliases and determine whether rooms should be published in the room directory or not. </p>
<p>Finally, Synapse is now part of <a href="http://www.freshports.org/net/py-matrix-synapse/">FreeBSD Ports</a> thanks to Brendan Molloy, and <a href="https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/services/misc/matrix-synapse.nix">NixOS</a> thanks to Robin Lambertz!  Huge thanks to them for contributing the packages to the respective OSes and to all the other synapse package maintainers out there!</p>
<p>It's incredibly exciting to see Synapse's maturity improving and hitting the optimisation stage of its life; huge kudos to Erik for spearheading the optimisation work.  We strongly recommend folks upgrade to 0.14 when it's available; it's never been a better time to run a homeserver! :D</p>
<br/>
<h4 id="dendron">Dendron</h4>
<p>Meanwhile, <a href="https://github.com/matrix-org/dendron">Dendron</a> (our next generation homeserver) development has been progressing interestingly: we finished an initial spike to get a Golang skeleton server in place, albeit one that delegates most of the endpoints through to Synapse.  In fact, matrix.org itself has been running via Dendron since February!</p>
<p>The whole point of Dendron is to provide an architecture where we can split apart the various endpoints that Synapse provides today, re-implementing them where appropriate in Golang, and critically letting the endpoints scale horizontally with clusters of backend servers abstracted by the single Dendron API facade.  As a result, most of the Dendron work has actually ended up going into restructuring Synapse such that multiple Synapses can be run in a cluster behind a single Dendron, allowing us to horizontally scale API endpoints at last.  This takes the form of adding <a href="https://github.com/matrix-org/synapse/commit/1acc319070c0390d2330003bdc1e71cc66383dbb">cluster replication support</a> to Synapse.  This is still work-in-progress as we go through fixing up more and more state to be replicable (replicatable?) between synapses - hopefully it should land in the Synapse 0.15 timeframe.  And then we enter a very very interesting new world of horizontally scalable homeservers...</p>
<br/>
<h4 id="ruma">Ruma</h4>
<p><a href="https://www.ruma.io/">Ruma</a> has also seen some progress over the last few months - Ruma is an independent Rust language homeserver project led by Jimmy Cuadra, and whilst in early development still (currently focusing on the user login and registration system) shows a lot of promise.  Lots of work has ended up going into the required Rust dependencies rather than the Matrix code itself, but if you're interested in Rust then please drop by <a href="https://vector.im/beta/#/room/#ruma:matrix.org">#ruma:matrix.org</a> or #ruma on Freenode and say hi!</p>
<br/>
<h3 id="clients">Clients</h3>
<p>Whilst homeserver development is mainly all about performance and scaling work currently, the client side of the Matrix ecosystem is the polar opposite - with lots of rapid progress on exciting new clients happening from all over the community.</p>
<br/>
<h4 id="perpetually-talking-online-pto">Perpetually Talking Online (PTO)</h4>
<p><a href="http://pto.im/">PTO</a> has evolved enormously since Torrie Fischer first revealed it at the end of 2015.  PTO is an independent project that acts as a Matrix client that exposes an IRC server interface - effectively turning any Matrix homeserver into an ircd; letting folks hook their favourite IRC clients directly into Matrix and use it as an enormous decentralised IRC network.  (N.B. this is not to be confused with <a href="https://github.com/matrix-org/matrix-appservice-irc">matrix-appservice-irc</a>, which acts as a server-side bridge between Matrix rooms and IRC channels.)  Obviously you lose some of the Matrix specific features (read receipts, typing notifs, VoIP, etc) but there's clearly a huge benefit for the IRC community to be able to use Matrix as if it were an IRC network.</p>
<p>There have been three releases so far, with the <a href="https://github.com/tdfischer/pto/releases">v0.3.0 (&quot;Carburetor&quot;) release</a> in March being tantalisingly close to being usable for everyday purposes.  We actually have pto.matrix.org all set up and ready to go as an IRC frontend for the matrix.org homeserver and once <a href="https://github.com/tdfischer/pto/issues/60">issue #60</a> is resolved we'll be turning it on :)</p>
<p>There's one catch though - XChat was never quite built to handle the hundreds of rooms that we've got used to Matrix supporting... :D</p>
<img src="/blog/wp-content/uploads/2016/03/Screen-Shot-2016-03-26-at-00.17.08-988x1024.png" alt="Screen Shot 2016-03-26 at 00.17.08" width="988" height="1024" class="aligncenter size-large wp-image-1565" />
<p>Come hang out in <a href="https://vector.im/beta/#/room/#pto:oob.systems">#pto:oob.systems</a> if you're interested in PTO!</p>
<br/>
<h4 id="quaternion">Quaternion</h4>
<p><a href="https://github.com/Fxrh/Quaternion">Quaternion</a> is a new Qt/QML/C++ desktop client created by Felix Rohrbach.  It's a fairly early alpha but still quite usable and in very active development. <a href="https://vector.im/beta/#/room/#quaternion:matrix.org">#quaternion:matrix.org</a> is the place to talk all things Quaternion :)</p>
<img src="/blog/wp-content/uploads/2016/03/quaternion-1024x702.png" alt="quaternion" width="1024" height="702" class="aligncenter size-large wp-image-1566" />
<br/>
<h4 id="matrix-glib-sdk">matrix-glib-sdk</h4>
<p>Meanwhile, over on the GTK side of the world, Gergely Polonkai has been been making great progress on his <a href="https://github.com/gergelypolonkai/matrix-glib-sdk">matrix-glib-sdk</a> Glib client SDK for Matrix.  The end goal here is to implement a full <a href="https://telepathy.freedesktop.org">Telepathy</a> plugin for Matrix on top of the SDK.  Originally written in C, but now shifted to Vala, the SDK is in very active development and now implements all(?) of the Matrix client-server API - a snapshot of the work-in-progress SDK API docs can be found at <a href="http://gergely.polonkai.eu/matrix-glib-sdk/">http://gergely.polonkai.eu/matrix-glib-sdk</a>.  Next up is a formal release and building out clients on top!</p>
<br/>
<h4 id="matrix-react-sdk-matrix-ios-sdk-matrix-android-sdk-and-vector">matrix-react-sdk, matrix-ios-sdk, matrix-android-sdk and Vector</h4>
<p>Finally, huge amounts of time and effort have continued to be pumped into the official <a href="http://github.com/matrix-org/matrix-react-sdk">matrix-react-sdk</a>, <a href="http://github.com/matrix-org/matrix-ios-sdk">matrix-ios-sdk</a> and <a href="http://github.com/matrix-org/matrix-android-sdk">matrix-android-sdk</a> - driven substantially by requirements for <a href="http://vector.im">Vector</a>, the <a href="http://github.com/vector-im">FOSS</a> Matrix-powered collaboration app that we've been helping with:</p>
<br/>
<img src="/blog/wp-content/uploads/2016/03/Screen-Shot-2016-03-21-at-14.39.16-1024x753.png" alt="Screen Shot 2016-03-21 at 14.39.16" width="1024" height="753" class="aligncenter size-large wp-image-1567" />
<p style="text-align: center">
<img src="/blog/wp-content/uploads/2016/03/android-vector.png" alt="android-vector" width="330" height="640" class="size-full wp-image-1568" /><img src="/blog/wp-content/uploads/2016/03/Screen-Shot-2016-03-26-at-00.58.48-505x1024.png" alt="Screen Shot 2016-03-26 at 00.58.48" width="316" height="640" class="size-large wp-image-1569" />
</p>
<br/>
<p>The best way of seeing what's been going on here is probably by considering Vector itself, which is currently in formal beta (0.4.1 for web, 0.1.2 for iOS and #116 on Android).  The big news includes:</p>
<ul>
<li>Beta iOS and Android apps.  These are early beta but feedback is very much appreciated - the Android beta can be downloaded from <a href="http://matrix.org/jenkins/job/VectorAndroidDevelop/">Jenkins</a>; if you want to help beta iOS via TestFlight, come ask on <a href="https://vector.im/beta/#/room/#ios:matrix.org">#ios:matrix.org</a>.</li>
<li>Guest access.  Anyone can jump straight into Matrix by going to http://vector.im without even having to sign up for an account.  Guests are quite restricted on what they can do (and can only join rooms which explicitly have guest access enabled), but this is a *huge* improvement in getting folks using Matrix.</li>
<li>Ability to jump to any message ever - e.g. when clicking through search results or when permalinking a message... using precisely the same UI that you use when chatting.  Permalinks are awesome.  If you want to <a href="https://vector.im/develop/#/room/#matrix:matrix.org/$1416420724004tADpi:matrix.org">randomly jump back in time</a> to the first weeks of #matrix:matrix.org, now you can...</li>
<li>Read Markers, scrolling that remembers the scroll offset per-room, and the ability to jump to unread messages</li>
<li>Synchronised missed notification and missed highlighted notification information per-room</li>
<li>Badge counts for unread notifications</li>
<li>Entirely reworked Room Settings</li>
<li>Entirely reworked User Settings, including push notification configuration</li>
<li>Entirely reworked Room Directory</li>
<li>Lots of performance improvements</li>
<li>Much improved inviting by email</li>
<li>Much improved reliability on video conferencing</li>
<li>Closing literally <a href="https://github.com/vector-im/vector-web/issues?q=is%3Aissue+is%3Aclosed">hundreds and hundreds of bugs</a>...</li>
</ul>
<p>All that remains right now is yet more bugfixing and incorporating feedback from the current betas!  Please give as much feedback as possible in <a href="https://vector.im/beta/#/room/#vector:matrix.org">#vector:matrix.org</a> :)</p>
<br/>
<h3 id="bridges-bots">Bridges &amp; Bots</h3>
<p>Bridges, bots, and other integrations and application services have inevitably taken slightly lower priority whilst we've been focusing on the core server and client bits of the ecosystem.  However, as of March we've started a major new project to get these moving again, starting with a big update to the <a href="https://github.com/matrix-org/matrix-appservice-irc">IRC Bridge</a>.  This is due to be released next week, but you can get a sneak peek at what's going into the release at the <a href="https://github.com/matrix-org/matrix-appservice-irc/commits/develop">commit log</a>.  Highlights include the ability to persist nicks; connect via IPv6; improve formatted message handling; actually feed error messages from IRC back to Matrix; and much much more.</p>
<p><a href="https://github.com/matrix-org/matrix-appservice-verto">matrix-appservice-verto</a> also got some love, which means that multiway video conferencing powered by FreeSWITCH now works reliably.  The quality still could be improved, but the unreliable call setup that plagued earlier versions is now fixed.</p>
<p>In the next few months we're expecting to see a lot more activity on bridges &amp; bots... watch this space :)</p>
<p><b>Update Sat March 26:</b></p>
<p>Totally forgot to mention a few of the key new bridges which have been contributed by the community this year - particularly interesting are the <a href="https://github.com/RocketChat/Rocket.Chat.Federation">Rocket.Chat&lt;-&gt;Matrix bridge</a> written by Sing-Li over at Rocket.Chat which provides basic bridging between the awesome <a href="http://rocket.chat">Rocket.Chat</a> collaboration app and the wider Matrix ecosystem.  It's early days, but this is incredibly promising for 'hardcoded' bridging between specific rooms - it just needs Rocket.Chat to support 'virtual' users and will then be seamless federation.</p>
<p>Similarly, <a href="https://github.com/matrix-org/matrix-appservice-gitter">matrix-appservice-gitter</a> is a Gitter&lt;-&gt;Matrix bridge built by Leonerd on top of the <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> Node library.  Again, it's early days but is working well for 'hardcoded' bridging - supporting dynamic rooms and users is next on the todo list :)</p>
<br/>
<h3 id="the-spec">The Spec</h3>
<p>We started our formal release process for the spec just before Christmas with r0.0.0 - and released <a href="http://matrix.org/docs/spec/r0.0.1">r0.0.1</a> in January with <a href="http://matrix.org/docs/spec/r0.0.1/client_server.html#changelog">minor clarifications and updates</a>.  In practice the spec feels quite stable right now, although things have moved on a bit since January and r0.0.2 is definitely overdue at this point.</p>
<p>In the meantime, you can always get the very latest bleeding edge copy of the spec via <a href="http://matrix.org/speculator">the speculator</a>.  We've also added an initial cut at a spec for the <a href="http://matrix.org/speculator/spec/HEAD/identity_service.html">Identity Service</a> at last.</p>
<br/>
<h3 id="events">Events</h3>
<p>We've been focusing on writing code than evangelising Matrix recently, although we did get out to <a href="/blog/2016/02/03/fosdem-16-retrospective/">FOSDEM 2016</a> and <a href="/blog/2016/02/09/matrix-in-japan/">TADHack Mini Japan and WebRTC Conference</a> and <a href="https://twitter.com/matrixdotorg/status/706916982960967680">Enterprise Connect 2016</a> where we showed off Matrix &amp; Vector in the WebRTC Real World Innovation showcase.</p>
<br/>
<h3 id="gsoc">GSoC</h3>
<p>We are incredibly grateful to have been accepted as an organisation into Google Summer of Code 2016!  The last two weeks have been the window for students to propose projects to us that they could work on over the course of the summer, and it's been fascinating to meet the GSoCers and see a whole new community pop up on Matrix and advise and mentor applicants through their proposals.  At the last count we've received 35 proposals, many inspired by <a href="https://github.com/matrix-org/GSoC/blob/master/IDEAS.md">our list of ideas</a>, including some really impressive candidates - many thanks to all the students who have applied to us.  We don't know yet how many slots Google will allocate to us, but one way or another we're really looking forward to helping the GSoCers make the most out of their summer of Matrix!  All GSoC discussion is happening in <a href="https://vector.im/beta/#/room/#gsoc:matrix.org">#gsoc:matrix.org</a>.</p>
<br/>
<h3 id="what-s-next">What's next?</h3>
<p>In no particular order, the urgent stuff that still remains includes:</p>
<ul>
<li>Continuing to polish synapse and build out dendron-based clustering</li>
<li>Building as many bridges, bots and other integrations as possible</li>
<li>The matrix.to URL-handler service: having client-agnostic https://matrix.to/#matrix:matrix.org URLs to help with sharing matrix room aliases etc</li>
<li>End-to-end crypto.  No progress since December; we need to get back to it asap.</li>
<li>Exiting Vector from beta</li>
<li>Finishing the server-to-server API specification</li>
<li>Improving the security model for access_tokens</li>
<li>Editable messages</li>
<li>Pinned, tagged, and 'liked' messages</li>
<li>Threading</li>
<li>Decentralised accounts</li>
<li>Decentralised reputation</li>
</ul>
<p>In practice, Bridging and E2E crypto is likely to get the most attention first (beyond the standard ongoing polishing).  There's obviously a significant amount of work there, but we expect to see benefits pretty quickly throughout Matrix - especially from bridging.  Hopefully it's true to say that the next few months should be quite transformational :D</p>
<p>Anyway, thanks for reading this sprawling update and for supporting Matrix.  And please come say hi in <a href="https://vector.im/beta/#/room/#matrix:matrix.org">#matrix:matrix.org</a> if you have any questions :)</p>
<ul>
<li>Matthew, Amandine &amp; the Matrix.org team.</li>
</ul>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;matthew-hodgson&#x2F;page&#x2F;10&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">11 / 15</span>
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;matthew-hodgson&#x2F;page&#x2F;12&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
