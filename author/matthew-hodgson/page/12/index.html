<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Matthew Hodgson</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/author/matthew-hodgson/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Matthew Hodgson</h1>
            147 posts tagged with "Matthew Hodgson" <a href="/author">(See all Author)</a>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;03&#x2F;26&#x2F;the-matrix-spring-special&#x2F;" title="The Matrix Spring Special!">The Matrix Spring Special!</a></h2>
                <span>
                    26.03.2016 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>It's been 3 months since the <a href="/blog/2015/12/25/the-matrix-holiday-special/">Matrix Holiday Special</a> and once again we've all been too busy writing code to put anything that detailed on the blog.  So without further a do here's a quick overview of how things have progressed so far in 2016!</p>
<h3 id="home-servers">Home servers</h3>
<br/>
<h4 id="synapse">Synapse</h4>
<p>Work on <a href="http://github.com/matrix-org/synapse">Synapse</a> (our reference homeserver) has been primarily focused on improving performance.  This may sound boring, but there's been a huge amount of improvement here since synapse 0.12 was released on Jan 4. Synapse 0.13 on Feb 10 brought huge CPU savings thanks to a whole fleet of caching and other optimisation work - the best way of seeing the difference here is to look at the load graph of the server that hosts matrix.org's synapse+postgres over the last few months:</p>
<img src="/blog/wp-content/uploads/2016/03/matrix-org-load.png" alt="matrix-org-load" width="497" height="173" class="aligncenter size-full wp-image-1563" />
<p>Ignoring the unrelated blip during March, you can see an enormous step change in system load (which had a matching decrease in actual CPU usage) at the beginning of Feb when the 0.13 optimisations landed on matrix.org :)</p>
<p>Meanwhile, Synapse 0.14 is due any day now with <a href="https://github.com/matrix-org/synapse/releases/tag/v0.14.0-rc2">0.14.0-rc2</a> released on Wednesday.  Here, the focus has been all about memory optimisation - anyone who's run a Synapse seriously will be aware that it can be a memory hog thanks to aggressively caching as much state and history in RAM as possible to avoid hitting the database and keeping everything responsive.  0.14 should improve memory usage just as dramatically as 0.13 improved CPU utilisation - introducing a quick-and-dirty SYNAPSE_CACHE_FACTOR environment variable that lets admins dial down the aggressiveness of the caching (at the expense of performance), but more interestingly implementing string interning and ensuring that events are cached by ID rather than duplicated across multiple caches in order to make memory usage more efficient.  It's too early to have impressive looking graphs, and there are still a few memory spikes being tracked down before we release 0.14, but we're hoping for at least a 50% reduction in memory footprint.</p>
<p>Featurewise the highlights include: server-generated unread notification &amp; highlight counts and push badge support, lots of support and refinements for guest access and 3rd party ID invites.  Meanwhile we've finally fixed some of the most embarrassing long-standing missing features such as letting folks logout serverside(!), delete aliases and determine whether rooms should be published in the room directory or not. </p>
<p>Finally, Synapse is now part of <a href="http://www.freshports.org/net/py-matrix-synapse/">FreeBSD Ports</a> thanks to Brendan Molloy, and <a href="https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/services/misc/matrix-synapse.nix">NixOS</a> thanks to Robin Lambertz!  Huge thanks to them for contributing the packages to the respective OSes and to all the other synapse package maintainers out there!</p>
<p>It's incredibly exciting to see Synapse's maturity improving and hitting the optimisation stage of its life; huge kudos to Erik for spearheading the optimisation work.  We strongly recommend folks upgrade to 0.14 when it's available; it's never been a better time to run a homeserver! :D</p>
<br/>
<h4 id="dendron">Dendron</h4>
<p>Meanwhile, <a href="https://github.com/matrix-org/dendron">Dendron</a> (our next generation homeserver) development has been progressing interestingly: we finished an initial spike to get a Golang skeleton server in place, albeit one that delegates most of the endpoints through to Synapse.  In fact, matrix.org itself has been running via Dendron since February!</p>
<p>The whole point of Dendron is to provide an architecture where we can split apart the various endpoints that Synapse provides today, re-implementing them where appropriate in Golang, and critically letting the endpoints scale horizontally with clusters of backend servers abstracted by the single Dendron API facade.  As a result, most of the Dendron work has actually ended up going into restructuring Synapse such that multiple Synapses can be run in a cluster behind a single Dendron, allowing us to horizontally scale API endpoints at last.  This takes the form of adding <a href="https://github.com/matrix-org/synapse/commit/1acc319070c0390d2330003bdc1e71cc66383dbb">cluster replication support</a> to Synapse.  This is still work-in-progress as we go through fixing up more and more state to be replicable (replicatable?) between synapses - hopefully it should land in the Synapse 0.15 timeframe.  And then we enter a very very interesting new world of horizontally scalable homeservers...</p>
<br/>
<h4 id="ruma">Ruma</h4>
<p><a href="https://www.ruma.io/">Ruma</a> has also seen some progress over the last few months - Ruma is an independent Rust language homeserver project led by Jimmy Cuadra, and whilst in early development still (currently focusing on the user login and registration system) shows a lot of promise.  Lots of work has ended up going into the required Rust dependencies rather than the Matrix code itself, but if you're interested in Rust then please drop by <a href="https://vector.im/beta/#/room/#ruma:matrix.org">#ruma:matrix.org</a> or #ruma on Freenode and say hi!</p>
<br/>
<h3 id="clients">Clients</h3>
<p>Whilst homeserver development is mainly all about performance and scaling work currently, the client side of the Matrix ecosystem is the polar opposite - with lots of rapid progress on exciting new clients happening from all over the community.</p>
<br/>
<h4 id="perpetually-talking-online-pto">Perpetually Talking Online (PTO)</h4>
<p><a href="http://pto.im/">PTO</a> has evolved enormously since Torrie Fischer first revealed it at the end of 2015.  PTO is an independent project that acts as a Matrix client that exposes an IRC server interface - effectively turning any Matrix homeserver into an ircd; letting folks hook their favourite IRC clients directly into Matrix and use it as an enormous decentralised IRC network.  (N.B. this is not to be confused with <a href="https://github.com/matrix-org/matrix-appservice-irc">matrix-appservice-irc</a>, which acts as a server-side bridge between Matrix rooms and IRC channels.)  Obviously you lose some of the Matrix specific features (read receipts, typing notifs, VoIP, etc) but there's clearly a huge benefit for the IRC community to be able to use Matrix as if it were an IRC network.</p>
<p>There have been three releases so far, with the <a href="https://github.com/tdfischer/pto/releases">v0.3.0 (&quot;Carburetor&quot;) release</a> in March being tantalisingly close to being usable for everyday purposes.  We actually have pto.matrix.org all set up and ready to go as an IRC frontend for the matrix.org homeserver and once <a href="https://github.com/tdfischer/pto/issues/60">issue #60</a> is resolved we'll be turning it on :)</p>
<p>There's one catch though - XChat was never quite built to handle the hundreds of rooms that we've got used to Matrix supporting... :D</p>
<img src="/blog/wp-content/uploads/2016/03/Screen-Shot-2016-03-26-at-00.17.08-988x1024.png" alt="Screen Shot 2016-03-26 at 00.17.08" width="988" height="1024" class="aligncenter size-large wp-image-1565" />
<p>Come hang out in <a href="https://vector.im/beta/#/room/#pto:oob.systems">#pto:oob.systems</a> if you're interested in PTO!</p>
<br/>
<h4 id="quaternion">Quaternion</h4>
<p><a href="https://github.com/Fxrh/Quaternion">Quaternion</a> is a new Qt/QML/C++ desktop client created by Felix Rohrbach.  It's a fairly early alpha but still quite usable and in very active development. <a href="https://vector.im/beta/#/room/#quaternion:matrix.org">#quaternion:matrix.org</a> is the place to talk all things Quaternion :)</p>
<img src="/blog/wp-content/uploads/2016/03/quaternion-1024x702.png" alt="quaternion" width="1024" height="702" class="aligncenter size-large wp-image-1566" />
<br/>
<h4 id="matrix-glib-sdk">matrix-glib-sdk</h4>
<p>Meanwhile, over on the GTK side of the world, Gergely Polonkai has been been making great progress on his <a href="https://github.com/gergelypolonkai/matrix-glib-sdk">matrix-glib-sdk</a> Glib client SDK for Matrix.  The end goal here is to implement a full <a href="https://telepathy.freedesktop.org">Telepathy</a> plugin for Matrix on top of the SDK.  Originally written in C, but now shifted to Vala, the SDK is in very active development and now implements all(?) of the Matrix client-server API - a snapshot of the work-in-progress SDK API docs can be found at <a href="http://gergely.polonkai.eu/matrix-glib-sdk/">http://gergely.polonkai.eu/matrix-glib-sdk</a>.  Next up is a formal release and building out clients on top!</p>
<br/>
<h4 id="matrix-react-sdk-matrix-ios-sdk-matrix-android-sdk-and-vector">matrix-react-sdk, matrix-ios-sdk, matrix-android-sdk and Vector</h4>
<p>Finally, huge amounts of time and effort have continued to be pumped into the official <a href="http://github.com/matrix-org/matrix-react-sdk">matrix-react-sdk</a>, <a href="http://github.com/matrix-org/matrix-ios-sdk">matrix-ios-sdk</a> and <a href="http://github.com/matrix-org/matrix-android-sdk">matrix-android-sdk</a> - driven substantially by requirements for <a href="http://vector.im">Vector</a>, the <a href="http://github.com/vector-im">FOSS</a> Matrix-powered collaboration app that we've been helping with:</p>
<br/>
<img src="/blog/wp-content/uploads/2016/03/Screen-Shot-2016-03-21-at-14.39.16-1024x753.png" alt="Screen Shot 2016-03-21 at 14.39.16" width="1024" height="753" class="aligncenter size-large wp-image-1567" />
<p style="text-align: center">
<img src="/blog/wp-content/uploads/2016/03/android-vector.png" alt="android-vector" width="330" height="640" class="size-full wp-image-1568" /><img src="/blog/wp-content/uploads/2016/03/Screen-Shot-2016-03-26-at-00.58.48-505x1024.png" alt="Screen Shot 2016-03-26 at 00.58.48" width="316" height="640" class="size-large wp-image-1569" />
</p>
<br/>
<p>The best way of seeing what's been going on here is probably by considering Vector itself, which is currently in formal beta (0.4.1 for web, 0.1.2 for iOS and #116 on Android).  The big news includes:</p>
<ul>
<li>Beta iOS and Android apps.  These are early beta but feedback is very much appreciated - the Android beta can be downloaded from <a href="http://matrix.org/jenkins/job/VectorAndroidDevelop/">Jenkins</a>; if you want to help beta iOS via TestFlight, come ask on <a href="https://vector.im/beta/#/room/#ios:matrix.org">#ios:matrix.org</a>.</li>
<li>Guest access.  Anyone can jump straight into Matrix by going to http://vector.im without even having to sign up for an account.  Guests are quite restricted on what they can do (and can only join rooms which explicitly have guest access enabled), but this is a *huge* improvement in getting folks using Matrix.</li>
<li>Ability to jump to any message ever - e.g. when clicking through search results or when permalinking a message... using precisely the same UI that you use when chatting.  Permalinks are awesome.  If you want to <a href="https://vector.im/develop/#/room/#matrix:matrix.org/$1416420724004tADpi:matrix.org">randomly jump back in time</a> to the first weeks of #matrix:matrix.org, now you can...</li>
<li>Read Markers, scrolling that remembers the scroll offset per-room, and the ability to jump to unread messages</li>
<li>Synchronised missed notification and missed highlighted notification information per-room</li>
<li>Badge counts for unread notifications</li>
<li>Entirely reworked Room Settings</li>
<li>Entirely reworked User Settings, including push notification configuration</li>
<li>Entirely reworked Room Directory</li>
<li>Lots of performance improvements</li>
<li>Much improved inviting by email</li>
<li>Much improved reliability on video conferencing</li>
<li>Closing literally <a href="https://github.com/vector-im/vector-web/issues?q=is%3Aissue+is%3Aclosed">hundreds and hundreds of bugs</a>...</li>
</ul>
<p>All that remains right now is yet more bugfixing and incorporating feedback from the current betas!  Please give as much feedback as possible in <a href="https://vector.im/beta/#/room/#vector:matrix.org">#vector:matrix.org</a> :)</p>
<br/>
<h3 id="bridges-bots">Bridges &amp; Bots</h3>
<p>Bridges, bots, and other integrations and application services have inevitably taken slightly lower priority whilst we've been focusing on the core server and client bits of the ecosystem.  However, as of March we've started a major new project to get these moving again, starting with a big update to the <a href="https://github.com/matrix-org/matrix-appservice-irc">IRC Bridge</a>.  This is due to be released next week, but you can get a sneak peek at what's going into the release at the <a href="https://github.com/matrix-org/matrix-appservice-irc/commits/develop">commit log</a>.  Highlights include the ability to persist nicks; connect via IPv6; improve formatted message handling; actually feed error messages from IRC back to Matrix; and much much more.</p>
<p><a href="https://github.com/matrix-org/matrix-appservice-verto">matrix-appservice-verto</a> also got some love, which means that multiway video conferencing powered by FreeSWITCH now works reliably.  The quality still could be improved, but the unreliable call setup that plagued earlier versions is now fixed.</p>
<p>In the next few months we're expecting to see a lot more activity on bridges &amp; bots... watch this space :)</p>
<p><b>Update Sat March 26:</b></p>
<p>Totally forgot to mention a few of the key new bridges which have been contributed by the community this year - particularly interesting are the <a href="https://github.com/RocketChat/Rocket.Chat.Federation">Rocket.Chat&lt;-&gt;Matrix bridge</a> written by Sing-Li over at Rocket.Chat which provides basic bridging between the awesome <a href="http://rocket.chat">Rocket.Chat</a> collaboration app and the wider Matrix ecosystem.  It's early days, but this is incredibly promising for 'hardcoded' bridging between specific rooms - it just needs Rocket.Chat to support 'virtual' users and will then be seamless federation.</p>
<p>Similarly, <a href="https://github.com/matrix-org/matrix-appservice-gitter">matrix-appservice-gitter</a> is a Gitter&lt;-&gt;Matrix bridge built by Leonerd on top of the <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> Node library.  Again, it's early days but is working well for 'hardcoded' bridging - supporting dynamic rooms and users is next on the todo list :)</p>
<br/>
<h3 id="the-spec">The Spec</h3>
<p>We started our formal release process for the spec just before Christmas with r0.0.0 - and released <a href="http://matrix.org/docs/spec/r0.0.1">r0.0.1</a> in January with <a href="http://matrix.org/docs/spec/r0.0.1/client_server.html#changelog">minor clarifications and updates</a>.  In practice the spec feels quite stable right now, although things have moved on a bit since January and r0.0.2 is definitely overdue at this point.</p>
<p>In the meantime, you can always get the very latest bleeding edge copy of the spec via <a href="http://matrix.org/speculator">the speculator</a>.  We've also added an initial cut at a spec for the <a href="http://matrix.org/speculator/spec/HEAD/identity_service.html">Identity Service</a> at last.</p>
<br/>
<h3 id="events">Events</h3>
<p>We've been focusing on writing code than evangelising Matrix recently, although we did get out to <a href="/blog/2016/02/03/fosdem-16-retrospective/">FOSDEM 2016</a> and <a href="/blog/2016/02/09/matrix-in-japan/">TADHack Mini Japan and WebRTC Conference</a> and <a href="https://twitter.com/matrixdotorg/status/706916982960967680">Enterprise Connect 2016</a> where we showed off Matrix &amp; Vector in the WebRTC Real World Innovation showcase.</p>
<br/>
<h3 id="gsoc">GSoC</h3>
<p>We are incredibly grateful to have been accepted as an organisation into Google Summer of Code 2016!  The last two weeks have been the window for students to propose projects to us that they could work on over the course of the summer, and it's been fascinating to meet the GSoCers and see a whole new community pop up on Matrix and advise and mentor applicants through their proposals.  At the last count we've received 35 proposals, many inspired by <a href="https://github.com/matrix-org/GSoC/blob/master/IDEAS.md">our list of ideas</a>, including some really impressive candidates - many thanks to all the students who have applied to us.  We don't know yet how many slots Google will allocate to us, but one way or another we're really looking forward to helping the GSoCers make the most out of their summer of Matrix!  All GSoC discussion is happening in <a href="https://vector.im/beta/#/room/#gsoc:matrix.org">#gsoc:matrix.org</a>.</p>
<br/>
<h3 id="what-s-next">What's next?</h3>
<p>In no particular order, the urgent stuff that still remains includes:</p>
<ul>
<li>Continuing to polish synapse and build out dendron-based clustering</li>
<li>Building as many bridges, bots and other integrations as possible</li>
<li>The matrix.to URL-handler service: having client-agnostic https://matrix.to/#matrix:matrix.org URLs to help with sharing matrix room aliases etc</li>
<li>End-to-end crypto.  No progress since December; we need to get back to it asap.</li>
<li>Exiting Vector from beta</li>
<li>Finishing the server-to-server API specification</li>
<li>Improving the security model for access_tokens</li>
<li>Editable messages</li>
<li>Pinned, tagged, and 'liked' messages</li>
<li>Threading</li>
<li>Decentralised accounts</li>
<li>Decentralised reputation</li>
</ul>
<p>In practice, Bridging and E2E crypto is likely to get the most attention first (beyond the standard ongoing polishing).  There's obviously a significant amount of work there, but we expect to see benefits pretty quickly throughout Matrix - especially from bridging.  Hopefully it's true to say that the next few months should be quite transformational :D</p>
<p>Anyway, thanks for reading this sprawling update and for supporting Matrix.  And please come say hi in <a href="https://vector.im/beta/#/room/#matrix:matrix.org">#matrix:matrix.org</a> if you have any questions :)</p>
<ul>
<li>Matthew, Amandine &amp; the Matrix.org team.</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;02&#x2F;10&#x2F;synapse-0-13-released&#x2F;" title="Synapse 0.13 released!">Synapse 0.13 released!</a></h2>
                <span>
                    10.02.2016 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>Synapse 0.13 was released this afternoon, bringing a new wave of features, bug fixes and performance fixes.  The main headlines include: huge performance increases (big catchup /syncs that were taking 20s now take 0.3s!), support for server-side per-room unread message and notification badge counts, ability for guest accounts to upgrade into fully-fledged accounts, change default push rules back to notifying for group chats, and loads of bug fixes.  This release incorporates what-was 0.12.1-rc1.</p>
<p><b>Please note that on first launch after upgrading a pre-0.13 server to 0.13 or later, synapse will add a large database index which may take several minutes to complete.  Whilst the index is added the service will be unresponsive.</b></p>
<p>Please get the new release from <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a> and have fun!</p>
<p>Matthew</p>
<p>Full release notes:</p>
<code>
Changes in synapse v0.13.1 (2016-02-10)
=======================================
<ul>
<li>Bump matrix-angular-sdk (matrix web console) dependency to 0.6.8 to
pull in the fix for SYWEB-361 so that the default client can display
HTML messages again(!)</li>
</ul>
<h1 id="changes-in-synapse-v0-13-0-2016-02-10">Changes in synapse v0.13.0 (2016-02-10)</h1>
<p>This version includes an upgrade of the schema, specifically adding an index to
the <code>events</code> table. This may cause synapse to pause for several minutes the
first time it is started after the upgrade.</p>
<p>Changes:</p>
<ul>
<li>Improve general performance (PR #540, #543. #544, #54, #549, #567)</li>
<li>Change guest user ids to be incrementing integers (PR #550)</li>
<li>Improve performance of public room list API (PR #552)</li>
<li>Change profile API to omit keys rather than return null (PR #557)</li>
<li>Add <code>/media/r0</code> endpoint prefix, which is equivalent to <code>/media/v1/</code>
(PR #595)</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Fix bug with upgrading guest accounts where it would fail if you opened the
registration email on a different device (PR #547)</li>
<li>Fix bug where unread count could be wrong (PR #568)</li>
</ul>
<h1 id="changes-in-synapse-v0-12-1-rc1-2016-01-29">Changes in synapse v0.12.1-rc1 (2016-01-29)</h1>
<p>Features:</p>
<ul>
<li>Add unread notification counts in <code>/sync</code> (PR #456)</li>
<li>Add support for inviting 3pids in <code>/createRoom</code> (PR #460)</li>
<li>Add ability for guest accounts to upgrade (PR #462)</li>
<li>Add <code>/versions</code> API (PR #468)</li>
<li>Add <code>event</code> to <code>/context</code> API (PR #492)</li>
<li>Add specific error code for invalid user names in <code>/register</code> (PR #499)</li>
<li>Add support for push badge counts (PR #507)</li>
<li>Add support for non-guest users to peek in rooms using <code>/events</code> (PR #510)</li>
</ul>
<p>Changes:</p>
<ul>
<li>Change <code>/sync</code> so that guest users only get rooms they've joined (PR #469)</li>
<li>Change to require unbanning before other membership changes (PR #501)</li>
<li>Change default push rules to notify for all messages (PR #486)</li>
<li>Change default push rules to not notify on membership changes (PR #514)</li>
<li>Change default push rules in one to one rooms to only notify for events that
are messages (PR #529)</li>
<li>Change <code>/sync</code> to reject requests with a <code>from</code> query param (PR #512)</li>
<li>Change server manhole to use SSH rather than telnet (PR #473)</li>
<li>Change server to require AS users to be registered before use (PR #487)</li>
<li>Change server not to start when ASes are invalidly configured (PR #494)</li>
<li>Change server to require ID and <code>as_token</code> to be unique for AS's (PR #496)</li>
<li>Change maximum pagination limit to 1000 (PR #497)</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Fix bug where <code>/sync</code> didn't return when something under the leave key
changed (PR #461)</li>
<li>Fix bug where we returned smaller rather than larger than requested
thumbnails when <code>method=crop</code> (PR #464)</li>
<li>Fix thumbnails API to only return cropped thumbnails when asking for a
cropped thumbnail (PR #475)</li>
<li>Fix bug where we occasionally still logged access tokens (PR #477)</li>
<li>Fix bug where <code>/events</code> would always return immediately for guest users
(PR #480)</li>
<li>Fix bug where <code>/sync</code> unexpectedly returned old left rooms (PR #481)</li>
<li>Fix enabling and disabling push rules (PR #498)</li>
<li>Fix bug where <code>/register</code> returned 500 when given unicode username
(PR #513)</li>
</ul>
</code>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2016&#x2F;01&#x2F;04&#x2F;synapse-0-12-released&#x2F;" title="Synapse 0.12 released!">Synapse 0.12 released!</a></h2>
                <span>
                    04.01.2016 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Happy 2016 everyone!</p>
<p>To greet the new year, we bring you all new Synapse 0.12. The focus here has been a wide range of polishing, bugfixes, performance improvements and feature tweaks. The biggest news are that the 'v2' sync APIs are now production ready; the search APIs now work much better; 3rd party ID invites now work; and we now mount the whole client-server API under the <code>/_matrix/client/r0</code> URI prefix, as per the <a href="/docs/spec/r0.0.0/client_server.html">r0.0.0 release of the Client Server API</a> from a few weeks ago. The <code>r0</code> release unifies what were previously the somewhat confusing mix of 'v1' and 'v2' APIs as a single set of endpoints which play nice together.</p>
<p>We highly recommend all homeservers upgrading to v0.12.0 as soon as possible. Get it now from <a href="https://github.com/matrix-org/synapse/">https://github.com/matrix-org/synapse/</a> or via our shiny new Debian packages at <a href="/packages/debian/">https://matrix.org/packages/debian/</a>.</p>
<p>Full changelog follows:</p>
<h3 id="changes-in-synapse-v0-12-0-2016-01-04">Changes in synapse v0.12.0 (2016-01-04)</h3>
<ul>
    <li>Expose <code>/login</code> under <code>r0</code> (PR #459)</li>
</ul>
<a name="user-content-changes-in-synapse-v0-12-0-rc3-2015-12-23"></a>
<h3 id="changes-in-synapse-v0-12-0-rc3-2015-12-23">Changes in synapse v0.12.0-rc3 (2015-12-23)</h3>
<ul>
    <li>Allow guest accounts access to <code>/sync</code> (PR #455)</li>
    <li>Allow filters to include/exclude rooms at the room level rather than just from the components of the sync for each room. (PR #454)</li>
    <li>Include urls for room avatars in the response to <code>/publicRooms</code> (PR #453)</li>
    <li>Don't set a identicon as the avatar for a user when they register (PR #450)</li>
    <li>Add a <code>display_name</code> to third-party invites (PR #449)</li>
    <li>Send more information to the identity server for third-party invites so that it can send richer messages to the invitee (PR #446)</li>
    <li>Cache the responses to <code>/initialSync</code> for 5 minutes. If a client retries a request to <code>/initialSync</code> before the a response was computed to the first request then the same response is used for both requests (PR #457)</li>
    <li>Fix a bug where synapse would always request the signing keys of remote servers even when the key was cached locally (PR #452)</li>
    <li>Fix 500 when pagination search results (PR #447)</li>
    <li>Fix a bug where synapse was leaking raw email address in third-party invites (PR #448)</li>
</ul>
<a name="user-content-changes-in-synapse-v0-12-0-rc2-2015-12-14"></a>
<h3 id="changes-in-synapse-v0-12-0-rc2-2015-12-14">Changes in synapse v0.12.0-rc2 (2015-12-14)</h3>
<ul>
    <li>Add caches for whether rooms have been forgotten by a user (PR #434)</li>
    <li>Remove instructions to use <code>--process-dependency-link</code> since all of the dependencies of synapse are on PyPI (PR #436)</li>
    <li>Parallelise the processing of <code>/sync</code> requests (PR #437)</li>
    <li>Fix race updating presence in <code>/events</code> (PR #444)</li>
    <li>Fix bug back-populating search results (PR #441)</li>
    <li>Fix bug calculating state in <code>/sync</code> requests (PR #442)</li>
</ul>
<a name="user-content-changes-in-synapse-v0-12-0-rc1-2015-12-10"></a>
<h3 id="changes-in-synapse-v0-12-0-rc1-2015-12-10">Changes in synapse v0.12.0-rc1 (2015-12-10)</h3>
<ul>
    <li>Host the client APIs released as r0 by <a href="/docs/spec/r0.0.0/client_server.html">https://matrix.org/docs/spec/r0.0.0/client_server.html</a> on paths prefixed by<code>/_matrix/client/r0</code>. (PR #430, PR #415, PR #400)</li>
    <li>Updates the client APIs to match r0 of the matrix specification.
<ul>
    <li>All APIs return events in the new event format, old APIs also include the fields needed to parse the event using the old format for compatibility. (PR #402)</li>
    <li>Search results are now given as a JSON array rather than a JSON object (PR #405)</li>
    <li>Miscellaneous changes to search (PR #403, PR #406, PR #412)</li>
    <li>Filter JSON objects may now be passed as query parameters to <code>/sync</code> (PR #431)</li>
    <li>Fix implementation of <code>/admin/whois</code> (PR #418)</li>
    <li>Only include the rooms that user has left in <code>/sync</code> if the client requests them in the filter (PR #423)</li>
    <li>Don't push for <code>m.room.message</code> by default (PR #411)</li>
    <li>Add API for setting per account user data (PR #392)</li>
    <li>Allow users to forget rooms (PR #385)</li>
</ul>
</li>
    <li>Performance improvements and monitoring:
<ul>
    <li>Add per-request counters for CPU time spent on the main python thread. (PR #421, PR #420)</li>
    <li>Add per-request counters for time spent in the database (PR #429)</li>
    <li>Make state updates in the C+S API idempotent (PR #416)</li>
    <li>Only fire <code>user_joined_room</code> if the user has actually joined. (PR #410)</li>
    <li>Reuse a single http client, rather than creating new ones (PR #413)</li>
</ul>
</li>
    <li>Fixed a bug upgrading from older versions of synapse on postgresql (PR #417)</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;12&#x2F;25&#x2F;the-matrix-holiday-special&#x2F;" title="The Matrix Holiday Special!">The Matrix Holiday Special!</a></h2>
                <span>
                    25.12.2015 00:00
                    —
                    <a href="/category/events">
                        Events
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>We've been pretty bad at updating the blog over the last few months with all the progress that's been happening with Matrix.  Whilst Matrix rooms like #matrix:matrix.org and #matrix-dev:matrix.org have been very active (and our <a href="https://twitter.com/matrixdotorg">twitter account</a> too), in general we've ended up spending way too much time actually writing software and not enough time talking about it, at least here. When a blog goes quiet it normally means that either the authors have got bored, or they're too busy building cool stuff to keep it updated. I'm happy to say that option 2 is the case here!</p>
<p>As a result, there's a huge backlog of really cool stuff we should have talked about. Hopes of writing an Advent Calendar series of blog posts also went out the window as we set Christmas as an arbitrary deadline for loads of work on Synapse, the Matrix Spec and matrix-react-sdk.</p>
<p>So, to try to break the impasse, here's a slightly unorthodox whistle-stop tour of all the amazing blogposts we <em>would</em> have written if we'd had time. And perhaps some of them will actually expand into full write-ups when we have more time to spare in the future :)</p>
<h2 id="end-to-end-encryption-update">End to End Encryption Update</h2>
<p>One of the great promises of Matrix is to provide End-to-end encryption as part of the baseline standard (configurable per-room). In practice, our progress has been a little non-linear - we started writing an <a href="https://github.com/trevp/axolotl/wiki">Axolotl</a> ratchet implementation in C++14 (with a pure C API) named <a href="/git/olm">Olm</a> back in February, and then finished it off and wired a basic 1:1 proof-of-concept implementation into matrix-react-sdk in June. We then announced Olm back at the wonderful <a href="https://jardin-entropique.eu.org/">Jardin Entropique</a> conference in Rennes:</p>
<img class="aligncenter size-large wp-image-1426" src="/blog/wp-content/uploads/2015/12/je-1024x768.jpg" alt="Jardin Entropique" width="1024" height="768" />
<p>You can read the full presentation that we gave at <a href="/~matthew/2015-06-26 Matrix Jardin Entropique.pdf">https://matrix.org/~matthew/2015-06-26 Matrix Jardin Entropique.pdf</a> - and you can even play with a very basic test jig at <a href="/~markjh/olm/javascript/demo.html">https://matrix.org/~markjh/olm/javascript/demo.html</a> which uses an emscripten compiled version of Olm in the browser to put the ratchet through its paces.</p>
<p>Things then stalled for a bit, but as of this month they're moving again, and if you're interested in the progress you can read all about it at:</p>
<ul>
<li><a href="/jira/browse/SPEC-162">https://matrix.org/jira/browse/SPEC-162</a></li>
<li>and a full draft spec at <a href="http://matrix.org/speculator/spec/drafts%2Fe2e/client_server.html#end-to-end-encryption">http://matrix.org/speculator/spec/drafts%2Fe2e/client_server.html#end-to-end-encryption</a></li>
<li>the Olm git repo at <a href="http://matrix.org/git/olm/about/">http://matrix.org/git/olm/about/</a></li>
<li>and the formal Olm spec at <a href="/docs/spec/olm.html">https://matrix.org/docs/spec/olm.html</a></li>
</ul>
<p>The main stuff remaining is basically key management (in Synapse and the matrix spec), group conversation ratchets, and UX for wiring it properly into various Matrix clients.  We expect to make progress on this over the next few months :)</p>
<p>Meanwhile, huge kudos to Tor who was crazy enough to <a href="https://github.com/torhve/weechat-matrix-protocol-script#encryption">add the basic 1:1 Olm ratchet</a> to Weechat before we'd even finished writing our test jig!</p>
<h2 id="lean-dus">Lean DUS</h2>
<p>A few days after Jardin Entropique we made it to <a href="https://www.leandus.de/">Lean DUS</a> - a great tech meetup in Düsseldorf organised by <a href="http://sipgate.de">Sipgate</a>, who were kind enough to invite us to speak.  This was a chance to give a full update on Matrix (as of July!) and talk some more about Olm and plans for end-to-end encryption.  This one got recorded - and you can see it below.  There's also an official page with full videos, slide deck and photos up at <a href="https://www.leandus.de/2015/08/weil-und-hodgson/">https://www.leandus.de/2015/08/weil-und-hodgson/</a>.</p>
<iframe src="https://player.vimeo.com/video/134821506" width="500" height="281" frameBorder="0" webkitallowfullscreen mozallowfullscreen allowFullScreen></iframe>
<p><a href="https://vimeo.com/134821506">Lean Dus #9 - End to end encryption for decentralised communication mit Matthew Hodgson</a> from <a href="https://vimeo.com/sipgate">sipgate</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
<h2 id="new-matrix-bridges">New Matrix Bridges</h2>
<p>Somehow we've failed to blog about the amazing <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> Node framework which we've built as general purpose infrastructure for building Matrix Application Services which act as bridges between existing networks and comms solutions and Matrix.  The architecture here looks something like this:</p>
<img src="/blog/wp-content/uploads/2015/12/bridge.jpg" alt="matrix-appservice-bridge" width="720" height="540" class="aligncenter size-full wp-image-1429" />
<p>...and the goal is to end up with something like this:</p>
<img src="/blog/wp-content/uploads/2015/12/bridge2.jpg" alt="bridge2" width="720" height="540" class="aligncenter size-full wp-image-1430" />
<p>matrix-appservice-bridge is still in development, but there are a bunch of really cool bridges already using it - and a great howto that shows how you can use it to <a href="https://github.com/matrix-org/matrix-appservice-bridge/blob/master/HOWTO.md">write a Matrix{'&lt;-&gt;'}Slack bridge in under 100 lines of code</a>.</p>
<ul>
  <li><a href="https://github.com/matrix-org/matrix-appservice-verto">the Matrix/Verto Bridge</a> uses it to hook FreeSWITCH up to Matrix - currently used to provide multiway video and voice conferencing for <a href="https://vector.im">Vector</a>.  It could be easily extended to do generic Matrix{'<->'}SIP or Matrix{'<->'}anything-that-FreeSWITCH-can-speak though.</li>
  <li><a href="https://github.com/matrix-org/matrix-appservice-slack">a basic Matrix/Slack Bridge</a>, which works well enough for hardcoding bridges between specific Matrix and Slack rooms.</li>
  <li><a href="https://github.com/matrix-org/matrix-appservice-respoke">matrix-appservice-respoke</a> - a crazy experiment that bridges Asterisk to Matrix by implementing the Respoke API such that Asterisk can connect to Matrix using chan_respoke.</li>
  <li><a href="https://github.com/matrix-org/node-purple/tree/master/appservice">matrix-appservice-purple</a> - another crazy experiment that hooks libpurple up to matrix-appservice-bridge such that *any* network that libpurple can talk to can be bridged into Matrix.  So far we've experimented with Lync, Skype and Facebook (and AIM(!)) and it works - but it needs a lot more love to be usable other than as a toy.</li>
</ul>
<p>Meanwhile, there's also:</p>
<ul>
 <li><a href="https://github.com/matrix-org/matrix-appservice-irc">the Matrix/IRC Bridge</a>, which doesn't actually use it yet, but will do soon.</li>
 <li><a href="https://github.com/illicitonion/slackbridge">an experimental Golang Matrix/Slack Bridge</a>, which looks at whether we should be doing this all in Golang rather than Node.</li>
</ul>
<p>As of right now our work on bridging has been on hiatus for a month or so, and we would <em>love</em> support from the community in advancing and extending the stuff we've built so far.  Otherwise we'll get back to it ourselves in the new year.</p>
<h2 id="astricon-2015">Astricon 2015</h2>
<p>We had a lot of fun in Orlando in October at <a href="http://www.asterisk.org/community/astricon-user-conference/sessions/bridging-asterisk-matrix-ecosystem">Astricon 2015</a> - we put together <a href="https://github.com/matrix-org/matrix-appservice-respoke">matrix-appservice-respoke</a> (see above) for our talk and Dangerous Demo in a desperate 24 hour hack and it even worked!  The judges were kind enough to give us the &quot;Swan Award&quot; prize in the dangerous demo shoot-out for the glossiest demo :)</p>
<img src="/blog/wp-content/uploads/2015/12/2015-10-15-Matrix-Astricon.jpg" alt="2015-10-15 Matrix Astricon" width="720" height="540" class="aligncenter size-full wp-image-1433" />
<img src="/blog/wp-content/uploads/2015/12/swan-1024x768.jpg" alt="swan award" width="1024" height="768" class="aligncenter size-large wp-image-1432" />
<p>The slides for our 'Bridging Asterisk to the Matrix Ecosystem' talk are <a href="/~matthew/2015-10-15 Matrix Astricon.pdf">downloadable here</a>.</p>
<h2 id="pidgin">Pidgin!</h2>
<p>We also implemented a basic libpurple plugin for Matrix - adding Matrix support to any app like Pidgin or Bitlbee that uses libpurple.  (You could in theory even use it with matrix-appservice-purple to bridge from Matrix to Matrix, but that'd be silly :).  It supports basic functionality and uses the new 'v2' APIs for syncing to Matrix.  Adventurous libpurplers can go check it out and experiment with it from <a href="https://github.com/matrix-org/purple-matrix">https://github.com/matrix-org/purple-matrix</a> - feedback welcome.</p>
<h2 id="openwebrtc-support-on-ios">OpenWebRTC Support on iOS</h2>
<p>We went and hooked <a href="http://openwebrtc.org">OpenWebRTC</a> up to <a href="https://github.com/matrix-org/matrix-ios-sdk">matrix-ios-sdk</a> so that iOS Matrix apps can use the OpenWebRTC stack from Ericsson Research for VoIP and Video.  Apparently we haven't written it up fully yet, but you can find the code at <a href="https://github.com/matrix-org/matrix-ios-openwebrtc-wrapper">https://github.com/matrix-org/matrix-ios-openwebrtc-wrapper</a> for those interested in using OWR with Matrix!</p>
<h2 id="debian-repository-for-synapse">Debian Repository for Synapse</h2>
<p>We built a 3rd party Debian package repository for Synapse... and then forgot to tell anyone about it, other than buried in the Synapse readme!  Well, it exists, and intrepid debianers should go check it out at <a href="http://matrix.org/packages/debian/">http://matrix.org/packages/debian/</a>.</p>
<h2 id="tadsummit">TADSummit</h2>
<p>In November we attended <a href="http://tadsummit.com/2015/">TADSummit</a> in Lisbon - a great event for folks hacking on telco applications and the telcos themselves.  Apparently we failed to do a writeup, but we had a wonderful time: highlights included sitting down with Maarten Ectors from Canonical to wrap up Synapse as an <a href="https://uappexplorer.com/app/matrix.mectors">Ubuntu Snappy app</a> such that anyone in the Ubuntu Core ecosystem can trivially run a Matrix homeserver, and demoing it as part of the Dangerous Demos track there.  We also gave a 'Matrix: One Year In' talk to summarise what we got up to in 2015.</p>
<img src="/blog/wp-content/uploads/2015/12/ubuntu-768x1024.jpg" alt="Matthew & Maarten" width="768" height="1024" class="aligncenter size-large wp-image-1435" />
<img src="/blog/wp-content/uploads/2015/12/2015-11-17-Matrix-TADSummit.jpg" alt="2015-11-17 Matrix TADSummit" width="720" height="540" class="aligncenter size-full wp-image-1434" />
<h2 id="webrtc-paris">WebRTC Paris</h2>
<p>Whilst on the subject of conferences that we forgot to write up - we just got back from WebRTC Paris, where we demoed the latest &amp; greatest Matrix clients and bridges, hung out with the OpenWebRTC guys and gave another ecosystem update.  You can see the slides at <a href="/~daniel/Matrix- One-year Status Report.pdf">https://matrix.org/~daniel/Matrix- One-year Status Report.pdf</a>.</p>
<img src="/blog/wp-content/uploads/2015/12/paris-1024x768.jpg" alt="WebRTC Paris" width="1024" height="768" class="aligncenter size-large wp-image-1436" />
<h2 id="new-clients-and-app-services">New Clients and App Services</h2>
<p>There have been a flurry of really interesting new clients and other projects which certainly deserve whole blog posts of their own!</p>
<p>There's <a href="https://github.com/davidar/tensor">Tensor</a> from David A Roberts - a multiplatform <b>native</b> client written in QML that heavily leverages the matrix-js-sdk:</p>
<img src="/blog/wp-content/uploads/2015/12/tensor-1024x789.png" alt="tensor" width="1024" height="789" class="aligncenter size-large wp-image-1438" />
<p>There's <a href="http://fort.kickass.systems:10082/cgit/personal/rrix/pub/matrix.el.git/">matrix.el</a> from Ryan Rix - a native Matrix client for Emacs! You can read all about the whys and wherefores <a href="http://whatthefuck.computer/blog/2015/10/26/mclient/">here</a>.</p>
<img src="/blog/wp-content/uploads/2015/10/mclient1-1024x346.png" alt="mclient" width="1024" height="346" class="aligncenter size-large wp-image-1355" />
<p>There's also loads of cool stuff that Ryan's been doing with Matrix on <a href="http://whatthefuck.computer/blog/">his blog</a> - including <a href="http://whatthefuck.computer/blog/2015/12/06/polynomial-a-decentralized-webring/">Polynomial - a decentralised webring</a> built on Matrix (yes, webrings were and are cool, ok!?!), and his Matrix-powered <a href="http://whatthefuck.computer/blog/2015/11/22/body-computing-system-continuations/">Body Computing System</a>.  Also, some <a href="http://whatthefuck.computer/blog/2015/11/01/on-the-balkinization-of-my-chat-communities/">philosophical</a> <a href="http://whatthefuck.computer/blog/2015/12/19/matrix-and-indieweb/">posts</a> on the benefits of Matrix which give us some hope that we're on the right track!</p>
<p>Then there's <a href="https://github.com/tdfischer/pto">Power Take-Off</a> from Torrie Fischer - an early lets-IRC-clients-connect-to-Matrix project in Rust...</p>
<p>...and there's <a href="https://github.com/Xe/morpheus">Morpheus</a> from Christine Dodrill (Xena) - a Matrix client and bot framework for Haskell; part of a more over-arching IRC{'&lt;-&gt;'}Matrix unification project.  Xena also wrote <a href="https://christine.website/blog/matrix-has-u-2015-11-27">a great call to arms for Matrix</a> :)</p>
<p>Very recently there's the <a href="https://github.com/ruma/ruma">Ruma</a> project from Jimmy Cuadra - an ambitious mission to build Matrix components (up to and including a homeserver) in Rust!</p>
<p>Other stuff includes a <a href="https://github.com/davidar/hubot-matrix/">Hubot adaptor</a> from davidar, <a href="https://github.com/DylanGriffith/bender">Bender</a>: an Elixir client and bot library from Dylan Griffith, Jon Frederickson's <a href="https://github.com/jfrederickson/matrix-xmpp-bridge">matrix-xmpp-bridge</a>, rzr's <a href="http://www.element14.com/community/people/rzr/blog/2015/11/24/how-to-setup-a-webrtc-gateway-using-matrix-on-minnowmax">guide to installing synapse on a minnowmax</a>, and I'm sure many others we don't know about or have missed!</p>
<p>Finally, Tor has done an amazing job on <a href="https://github.com/torhve/weechat-matrix-protocol-script">weechat-matrix-protocol-script</a> in implementing features like V2 Sync and E2E crypto faster than we've managed to add them in the official client SDKs!</p>
<h2 id="release-zero-of-the-matrix-specification">Release Zero of the Matrix Specification</h2>
<p>We have made some major improvements to <a href="/spec">the spec</a> over the last few months: adding in feature profiles and spec modules to better structure the document, and most recently splitting it up explicitly into separate Client-Server, Server-Server and Application-Server APIs, each with a well-defined single global 'release' number for versioning.  We started this with a 'r0.0.0' release of the Client-Server API, which consolidates the horrible mess of 'v1' and 'v2' APIs we had previously flying around into a single well-defined version of the spec.  Meanwhile the spec is now entirely consolidated into a set of JSON schema and Swagger 2 API descriptors, with a bunch of ReStructured Text for the verbiage - you can find it all at <a href="https://github.com/matrix-org/matrix-doc">https://github.com/matrix-org/matrix-doc</a>.</p>
<p>The r0.0.0 changelog is exciting stuff - you can see it in its entirety at <a href="http://matrix.org/docs/spec/r0.0.0/client_server.html#changelog">http://matrix.org/docs/spec/r0.0.0/client_server.html#changelog</a>.  Synapse itself will support the full r0 API set in 0.12, which will be released any day now.</p>
<p>We've also switched the Swagger-based API viewer over to Swagger 2.0: <a href="http://matrix.org/docs/api">http://matrix.org/docs/api</a>.  We also rejigged the Matrix documentation website entirely, generating it via Jekyll and adding in a new <a href="http://matrix.org/docs/guides/">guides section</a>.</p>
<p>Also, we should have mentioned the existence of <a href="/speculator">Speculator</a> - a golang helper app (<a href="https://github.com/matrix-org/matrix-doc/tree/master/scripts/speculator">source here</a>) which, as the name suggests, renders out copies of the spec as HTML from different branches and pull requests for ease of previewing.</p>
<h2 id="dendron">Dendron</h2>
<p>Over the last few months we've also started an entirely new project, codenamed Dendron.  Dendron is the project to evolve Synapse from the current single-threaded Python/Twisted monolithic homeserver into something with a lot more type-safety, horizontal scalability and high availability.  We've mainly been experimenting with different ways of doing this, but the current plan is to split Synapse itself up into multiple services which can each scale independently, and then rewrite some/all of them in languages with better type safety and/or performance or profiling tools.</p>
<p>Some folks may remember a survey that we posted a few months ago asking for the community's thoughts on what languages they'd like their ideal homeserver to be written in, from the perspectives of someone running it as well as hacking on it.  Whilst we haven't (at all) based our decisions for Dendron purely on the survey, it was still quite an interesting exercise.  And here are the results (maximum 'score' is 5, not 10):</p>
<img src="/blog/wp-content/uploads/2015/12/Screen-Shot-2015-12-25-at-01.58.55-1024x964.png" alt="language survey 1" width="1024" height="964" class="aligncenter size-large wp-image-1439" />
<img src="/blog/wp-content/uploads/2015/12/Screen-Shot-2015-12-25-at-01.59.17-1024x968.png" alt="language survey 2" width="1024" height="968" class="aligncenter size-large wp-image-1440" />
<p>The basic feedback was that from the existing community: folks dislike running Java or Node servers; are okayish with Python, but would prefer native or near-native code (be that C, Rust or Go). Meanwhile, for contributing code, there's slightly more interest in the (relatively) new shinies of Go and Rust.  And of course, everyone wanted to plug their own special snowflake language in the 'Others' section, which was mainly a mix of Erlang, Elixir, Haskell, Lisp and Perl :)</p>
<p>This reinforced the choices we were looking at anyway - either Rust (for its safety), or Go (for its simplicity, python-likeness, and concurrency).  (We'd also consider Java, but have to concede that the FOSS community doesn't like running it.)</p>
<p>So we looked at the dependencies that Synapse currently has, and the Rust equivalents, and concluded that the Rust ecosystem unfortunately isn't quite mature enough yet to reliably handle the rather large set of complicated deps that we need in a homeserver.  Also, nobody on the core team is really a Rust guru yet.  Meanwhile, we have at least one ex-Google Go expert in the core team, and in practice it has the edge in terms of maturity.  So, right now, we're looking at switching chunks of Dendron to Go where it makes sense.  (This is subject to change though depending on how we get on).  You should expect to hear a lot more about Dendron in 2016 :)</p>
<h2 id="matrix-react-sdk-vector-and-latest-matrix-features">matrix-react-sdk, Vector, and latest Matrix features</h2>
<p>Last but not least: huge amounts of our time over the last year has gone into building <a href="https://github.com/matrix-org/matrix-react-sdk">matrix-react-sdk</a> - a full set of glossy Web UI components for building super-high quality glossy apps based on Matrix, built on the <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>.  This is basically a reaction against the original <a href="https://github.com/matrix-org/matrix-angular-sdk">matrix-angular-sdk</a> and Matrix Console app that we launched Matrix with back in 2014 - which had minimal attention to UI/UX and suffered from major performance problems; it was built purely as the fastest possible way we knew to prototype and demo Matrix in the first place.  matrix-react-sdk however has been built for both performance and quality of UI/UX, as well as obviously using all the latest and greatest Matrix APIs.  (In fact, the transition from matrix-angular-sdk to matrix-react-sdk is pretty similar to the Synapse to Dendron transition on the horizon - although the latter should be more incremental and less 'rewrite the world').</p>
<p>Meanwhile, as part of our commercial work at our day job (i.e. <b>not</b> as Matrix.org) we've been helping on a glossy FOSS app called <a href="https://github.com/vector-im/vector-web">Vector</a> which is layered on top of matrix-react-sdk as a thin 'skin' layer of CSS and a few custom components.  The intention for Vector is to ensure that Matrix has a flagship glossy client: which it clearly needs, in order to gain credibility and drive uptake of the Matrix standard, and also ensure that the Matrix standard actually does indeed fit the needs for a state-of-the-art collaboration tool.</p>
<p>matrix-react-sdk (and thus Vector) is still in incredibly heavy development - we're going to start a formal beta fairly soon, but as of right now it's still sprouting features and refinements on a daily basis.  Meanwhile matrix-react-sdk's APIs are not remotely frozen (we entirely refactored it as recently as a few weeks ago), so not yet ready for use as a general purpose building block.</p>
<p>Some of the stuff going into react-sdk is <em>incredibly</em> cool - recent Matrix stuff that it shows off includes:</p>
<ul>
 <li>Animated read receipts.  If you haven't seen these, you haven't lived.  They are a <a href="http://matrix.org/docs/spec/r0.0.0/client_server.html#id15">relatively new addition to the Matrix spec.</a>
 </li><li>Full server-side search.  We now have <a href="http://matrix.org/docs/spec/r0.0.0/client_server.html#id42">full-text search</a> in the Matrix spec, and implemented on synapse both on sqlite and postgres - and now in Vector too.  Having good search over all of your chat history makes Matrix *so* much more usable.
 </li><li>Video conferencing.  We have full multi-way conferencing in Vector via matrix-appservice-verto and FreeSWITCH.  The intention is to add this to the core Matrix spec (having first made it a bit more generic) - see the <a href="https://github.com/vector-im/vector-web/blob/master/docs/conferencing.md">draft spec</a> for details.
 </li><li><a href="http://matrix.org/docs/spec/r0.0.0/client_server.html#third-party-invites">3rd party invites</a>.  You can now invite users into Matrix by email address as well as matrix ID, and it works.  Vector implements this.
 </li><li><a href="http://matrix.org/docs/spec/r0.0.0/client_server.html#room-tagging">Room tagging</a>.  You can now tag rooms as favourites, low priority, or with arbitrary namespaced metadata.  Vector implements this through a swanky drag & drop UI.
 </li><li>"V2" Sync API.  Now part of the 'r0.0.0' spec, this lets Matrix support much smarter incremental and partial <a href="http://matrix.org/docs/spec/r0.0.0/client_server.html#get-matrix-client-r0-sync">synchronisation patterns</a>.  Vector now implements this, meaning that browser windows sync much faster after being offline for a bit, and no longer hammer the user with stale desktop notifications.
 </li><li>Accessing 'historical' rooms.  Matrix now lets you keep track of rooms you've left, so you can view and search the conversation logs even after you've left the conversation.  Vector now implements this (as of Monday!)
 </li><li>Tab-complete that doesn't suck.  This is a purely client-side feature which landed on Thursday!
 </li><li>Roll-overable animated GIFs.  'nuff said.
 </li><li>Markdown support. yay!
 </li><li>Synchronised read and notification history.  This hasn't landed yet (in vector or synapse or even the spec), but finally provides a way to keep read and notification state in sync in realtime across all your clients and a meaningful favicon 'badge' telling you how many notifications you missed!
 </li><li>Guest access.  This hasn't landed in Vector yet, but it's in <a href="http://matrix.org/docs/spec/r0.0.0/client_server.html#guest-access">the spec</a> and Synapse.  It will let folks use Matrix without having to create an account (at least for rooms which support 'guest access' from the public).</li>
</ul>
<p>If you haven't given Vector a spin, it's well worth heading over to <a href="https://vector.im">https://vector.im</a> and taking a look.</p>
<p>There's also an Electron desktop version of Vector in progress, contributed by Steven Hammerton at <a href="https://github.com/stevenhammerton/vector-desktop">https://github.com/stevenhammerton/vector-desktop</a> (although it's currently stuck on an old release).</p>
<h2 id="epilogue">Epilogue</h2>
<p>Okay, this has got a lot longer than it was meant to be - but hopefully makes up a bit for the lack of comms over the last few months whilst we've been drowning in work on Synapse, Vector, the Spec, Dendron, and everything else mentioned above.</p>
<p>2015 has been an epic year as we've taken Matrix from a very early beta to the advanced stage that it's at now.  Obviously there's still a lot of stuff to do though.  Right now we expect the focus in 2016 to be:</p>
<ul>
 <li>Vector - making sure the Matrix protocol has a flagship glossy FOSS client that normal (non-geek) users can use.</li>
 <li> Dendron - making Synapse more reliable, scalable and maintainable.</li>
 <li>Bridging - wiring as much of the rest of the world into Matrix as accurately and efficiently as possible.</li>
 <li>Federation Spec - finishing and releasing the Server-Server API.</li>
 <li>End-to-end crypto - finishing it off.</li>
</ul>
<p>...and obviously continuing to refine and extend the core of Matrix itself with features like threading, editable messages, and possibly even distributed accounts.</p>
<p>There are very fun and exciting times ahead.  We'd just like to say a profound thank you to everyone who's supported Matrix this far and helped make this mission possible - whether it's by running clients/servers/services, or writing your own, or filing bugs and feedback on our code or the spec, or telling folks about the project, or paying us to work on it(!), or just by reading this blog post.  Hopefully 2016 will be the year where online communication starts to open up and interoperate once again, rather than becoming ever more fragmented and closed.</p>
<p>Thanks for reading - and Merry Christmas, for those who celebrate :)</p>
<ul>
<li>Matthew, Amandine &amp; the Matrix Team.</li>
</ul>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;09&#x2F;07&#x2F;matrix-one-year-in&#x2F;" title="Matrix: One year in.">Matrix: One year in.</a></h2>
                <span>
                    07.09.2015 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>Just realised that the release of Synapse 0.10.0 on Sept 3rd 2015 was precisely one year from the <a href="http://matrix.org/blog/2014/09/03/welcome-to-the-matrix-blog/">initial launch of Matrix</a>. As such, it feels only right to have a quick update on where we've got to so far, and where we expect things to go from here!</p>
<p>Back at the original launch, all we had was a <em>very</em> rough and ready Synapse homeserver, an early draft of the spec, and precisely one client - the Angular webclient, much of which was mainly written at the last minute on the plane to TechCrunch Disrupt SF (and has never quite recovered :S). From this initial seed it's been incredibly exciting and slightly scary to see how much things have advanced and grown - the big headlines for the past year (in roughly chronological order) include:</p>
<ul>
	<li>Making Federation Work:
<ul>
	<li>Switching all of federation over to SSL, using perspectives for key management</li>
	<li>Crypto-signing all the events in a room's message graph to assert integrity</li>
	<li>Sorting out 'power levels' and 'auth events' to allow totally decentralised kicks/bans/etc to work in an open federated environment</li>
</ul>
</li>
	<li>Decentralised content repository and thumbnailing</li>
	<li>Reference mobile "Matrix Console" clients for iOS and Android</li>
	<li>Official client SDKs for iOS and Android - both at the API wrapping layer and the reusable UI component layer</li>
	<li>Push notifications for APNS and GCM (both on server & clients)</li>
	<li>Official client SDKs for JavaScript, Python and Perl</li>
	<li>Typing notifications</li>
	<li>The sytest integration test harness</li>
	<li>Proper WebRTC support for VoIP, including TURN.</li>
	<li>Application Services and Bots - actually letting Matrix defragment communications :)
<ul>
	<li>Bridging to all of Freenode, Moznet and other IRC networks</li>
	<li>Matrix&lt;-&gt;SMS bridge from OpenMarket</li>
	<li>SIP bridges via FreeSWITCH and Verto</li>
	<li>Parrot Bebop Drone &lt;-&gt; Matrix bridge via Janus</li>
	<li>ODB2 telemetry &lt;-&gt;  Matrix bridge via Android SDK</li>
	<li>Reusable bridging framework in Node</li>
</ul>
</li>
	<li>Many iterations and refinements to the spec, including designing v2 of the client SDK</li>
	<li>Switching from Angular to React for all of our web-client development</li>
	<li>Customisable skins and embedding support for the matrix-react-sdk</li>
	<li>End-to-end encryption (not quite formally released yet, but it's written, specced and it works!)</li>
	<li>VoIP support on mobile (landed in Android; still experimenting with different WebRTC stacks on iOS)</li>
	<li>History ACLs</li>
	<li>Delivery reports</li>
	<li>Switching from access_tokens to macaroons for authentication (not yet released)</li>
	<li>Lots and lots of performance work on Synapse, as we've tried to get the most out of Twisted.</li>
</ul>
...and last but not least, the evolution of the #matrix:matrix.org community - including loads of 3rd party clients, SDKs and application services, synapse packaging and even experimental home servers :)
<p>Overall the last year was an exercise in actually fleshing out the whole ecosystem of Matrix and getting it to a stable usable beta acceptable to early adopters. The plan for the next 12 months is then to make the transition from stable beta to a properly production grade environment that can be used to run large scale services used by normal end-users. In practice, this means:</p>
<ul>
	<li>A major rearchitecture of Synapse.
<ul>
	<li>Synapse currently has no support for horizontal scaling or clustering within a single instance, and many will have seen the performance problems we've hit with a relatively monolithic Twisted app architecture. Profiling deferreds in Twisted has been a particular nightmare.</li>
	<li>During September we are starting the process of splitting Synapse apart into separate services (e.g. separating reading eventstreams from writing messages) both to allow horizontal scalability and to experiment with implementing the services in more efficient languages than Python/Twisted.</li>
	<li>We will continue the normal Synapse release process in parallel with this work.</li>
</ul>
</li>
	<li>Ensuring Matrix can support a genuinely excellent UX for normal end-users on glossy clients, and supporting glossy client development as required.  The days of Matrix being just for powerusers are numbered... :)</li>
	<li>Switching to use 3rd party IDs as the primary means of referring to users in Matrix, hiding matrix IDs as a feature for powerusers and developers.</li>
	<li>Finishing the spec. You may have noticed the spec has been quietly evolving over the last few months - finally gaining a versioning system, and with larger chunks of it being automatically generated from formal API spec descriptions. We will be finishing off and filling in the remaining holes.</li>
	<li>Improving the documentation (and FAQ!) on matrix.org in general by switching to a git-backed jekyll system for all the staticish content</li>
	<li>Replace the Angular-based reference webapp bundled with Synapse entirely with a matrix-react-sdk based reference app, and providing better examples and documentation for using it to embed Matrix functionality into existing websites.</li>
	<li>Moving to v2 of the client-server API. This fixes some significant limitations in the v1 API that everyone's been using all year, and should improve performance significantly for many use cases (especially when launching apps). The v1 API will hang around for a very very long time for backwards compatibility.</li>
	<li>Writing *lots* more bridges and integrations to other protocols, now we have a nice framework for rapidly developing them.</li>
	<li>General security audits and double-checking the security model.</li>
	<li>New features, including:
<ul>
	<li>Multiway VoIP and Video conferencing, most likely using FreeSWITCH's new conferencing capabilities via an Application Service bridge (should be ready very shortly!)</li>
	<li>Getting E2E crypto reviewed/audited and putting it live across the board.</li>
	<li>Adding VoIP to iOS</li>
	<li>Implementing delivery reports in all clients</li>
	<li>Improving how invites work (ability to reject them; metadata about where they came from)</li>
	<li>Search API</li>
	<li>Improved file management</li>
</ul>
</li>
	<li>...and an awful lot of bug fixing as we work through the backlog we've accumulated on JIRA.</li>
</ul>
Hopefully this won't take up all year(!) and is just a beginning - there's a huge list of interesting ideas beyond this baseline which we'll be looking at assuming the core stuff above is on track. For instance, we need to work out how to decentralise the identity services that mapping 3rd party IDs to matrix IDs. We need to work out how to avoid spam. And it could be fascinating to start bridging more internet-of-things devices and ecosystems into Matrix, or decentralising user accounts between homeservers, or perhaps using Matrix for synchronising more sophisticated data structures than timelines and key-value state dictionaries...
<p>Finally, we also want to save as much time as possible to help support the wider community in building out clients, services and servers on top of Matrix. Just like the web itself, Matrix is only as useful as the content and services built on top of it - and we will do everything we can to help the pioneers who are interested in colonising this brave new world :)</p>
<p>Huge thanks to everyone over the last year who have supported us - whether that's by creating an account and using the system, running a homeserver, hacking on top of the platform, contributing to the core project, enduring one of our presentations, or even paying for us to work on this. The coming year should prove incredibly interesting, and we hope you'll stay and bring along all your friends, family and colleagues for the ride as the adventure continues!</p>
<p>Matthew, Amandine &amp; the whole Matrix.org team.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;09&#x2F;03&#x2F;synapse-0-10-0-is-released&#x2F;" title="Synapse 0.10.0 is released!!">Synapse 0.10.0 is released!!</a></h2>
                <span>
                    03.09.2015 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi folks,</p>
<p>Whilst the blog has been a bit quiet, we've actually had an incredibly busy summer refining Synapse, building the new matrix-react-sdk and example apps, building an entirely new matrix-appservice-bridge framework for rapidly creating Matrix&lt;-&gt;other-protocol bridges, getting end-to-end encryption ready for primetime and lots more fun stuff as we keep chipping away to take Matrix out of beta.  We'll write about all of these once they're ready, but right now the big news is that after 6 release candidates we have a major new update for Synapse out today - version 0.10.0.  This also includes 0.9.4, which we never quite got around to releasing and ended up skipping from 0.9.4-rc1 straight to 0.10.0-rc1.</p>
<p>The release focuses mainly on performance, bugfixes, and infrastructure work to support forthcoming features like end-to-end encryption, read receipts, etc.  Some of the more exciting new features include preset ACLs for room creation; history visibility ACLs; SAML2 single-sign-on login (courtesy of Ericsson, thanks guys!), filename support when sending files, support for specifying a canonical alias for a room, support for intermediary SSL certificates, etc.</p>
<p>The full changelog is below.</p>
<p>To upgrade, go read <a href="https://github.com/matrix-org/synapse/blob/master/UPGRADE.rst">https://github.com/matrix-org/synapse/blob/master/UPGRADE.rst</a> - to install for the first time, go to <a href="https://github.com/matrix-org/synapse/blob/master/README.rst">https://github.com/matrix-org/synapse/blob/master/README.rst</a>.</p>
<code>
Changes in synapse v0.10.0 (2015-09-03)
=======================================
<p>No change from release candidate.</p>
<h1 id="changes-in-synapse-v0-10-0-rc6-2015-09-02">Changes in synapse v0.10.0-rc6 (2015-09-02)</h1>
<ul>
<li>Remove some of the old database upgrade scripts.</li>
<li>Fix database port script to work with newly created sqlite databases.</li>
</ul>
<h1 id="changes-in-synapse-v0-10-0-rc5-2015-08-27">Changes in synapse v0.10.0-rc5 (2015-08-27)</h1>
<ul>
<li>Fix bug that broke downloading files with ascii filenames across federation.</li>
</ul>
<h1 id="changes-in-synapse-v0-10-0-rc4-2015-08-27">Changes in synapse v0.10.0-rc4 (2015-08-27)</h1>
<ul>
<li>Allow UTF-8 filenames for upload. (PR #259)</li>
</ul>
<h1 id="changes-in-synapse-v0-10-0-rc3-2015-08-25">Changes in synapse v0.10.0-rc3 (2015-08-25)</h1>
<ul>
<li>
<p>Add <code>--keys-directory</code> config option to specify where files such as
certs and signing keys should be stored in, when using <code>--generate-config</code>
or <code>--generate-keys</code>. (PR #250)</p>
</li>
<li>
<p>Allow <code>--config-path</code> to specify a directory, causing synapse to use all
\*.yaml files in the directory as config files. (PR #249)</p>
</li>
<li>
<p>Add <code>web_client_location</code> config option to specify static files to be
hosted by synapse under <code>/_matrix/client</code>. (PR #245)</p>
</li>
<li>
<p>Add helper utility to synapse to read and parse the config files and extract
the value of a given key. For example::</p>
<p>$ python -m synapse.config read server_name -c homeserver.yaml
localhost</p>
<p>(PR #246)</p>
</li>
</ul>
<h1 id="changes-in-synapse-v0-10-0-rc2-2015-08-24">Changes in synapse v0.10.0-rc2 (2015-08-24)</h1>
<ul>
<li>Fix bug where we incorrectly populated the <code>event_forward_extremities</code>
table, resulting in problems joining large remote rooms (e.g.
<code>#matrix:matrix.org</code>)</li>
<li>Reduce the number of times we wake up pushers by not listening for presence
or typing events, reducing the CPU cost of each pusher.</li>
</ul>
<h1 id="changes-in-synapse-v0-10-0-rc1-2015-08-21">Changes in synapse v0.10.0-rc1 (2015-08-21)</h1>
<p>Also see v0.9.4-rc1 changelog, which has been amalgamated into this release.</p>
<p>General:</p>
<ul>
<li>Upgrade to Twisted 15 (PR #173)</li>
<li>Add support for serving and fetching encryption keys over federation.
(PR #208)</li>
<li>Add support for logging in with email address (PR #234)</li>
<li>Add support for new <code>m.room.canonical_alias</code> event. (PR #233)</li>
<li>Change synapse to treat user IDs case insensitively during registration and
login. (If two users already exist with case insensitive matching user ids,
synapse will continue to require them to specify their user ids exactly.)</li>
<li>Error if a user tries to register with an email already in use. (PR #211)</li>
<li>Add extra and improve existing caches  (PR #212, #219, #226, #228)</li>
<li>Batch various storage request (PR #226, #228)</li>
<li>Fix bug where we didn't correctly log the entity that triggered the request
if the request came in via an application service (PR #230)</li>
<li>Fix bug where we needlessly regenerated the full list of rooms an AS is
interested in. (PR #232)</li>
<li>Add support for AS's to use v2_alpha registration API (PR #210)</li>
</ul>
<p>Configuration:</p>
<ul>
<li>Add <code>--generate-keys</code> that will generate any missing cert and key files in
the configuration files. This is equivalent to running <code>--generate-config</code>
on an existing configuration file. (PR #220)</li>
<li><code>--generate-config</code> now no longer requires a <code>--server-name</code> parameter
when used on existing configuration files. (PR #220)</li>
<li>Add <code>--print-pidfile</code> flag that controls the printing of the pid to stdout
of the demonised process. (PR #213)</li>
</ul>
<p>Media Repository:</p>
<ul>
<li>Fix bug where we picked a lower resolution image than requested. (PR #205)</li>
<li>Add support for specifying if a the media repository should dynamically
thumbnail images or not. (PR #206)</li>
</ul>
<p>Metrics:</p>
<ul>
<li>Add statistics from the reactor to the metrics API. (PR #224, #225)</li>
</ul>
<p>Demo Homeservers:</p>
<ul>
<li>Fix starting the demo homeservers without rate-limiting enabled. (PR #182)</li>
<li>Fix enabling registration on demo homeservers (PR #223)</li>
</ul>
<h1 id="changes-in-synapse-v0-9-4-rc1-2015-07-21">Changes in synapse v0.9.4-rc1 (2015-07-21)</h1>
<p>General:</p>
<ul>
<li>Add basic implementation of receipts. (SPEC-99)</li>
<li>Add support for configuration presets in room creation API. (PR  #203)</li>
<li>Add auth event that limits the visibility of history for new users.
(SPEC-134)</li>
<li>Add SAML2 login/registration support. (PR  #201. Thanks Muthu Subramanian!)</li>
<li>Add client side key management APIs for end to end encryption. (PR #198)</li>
<li>Change power level semantics so that you cannot kick, ban or change power
levels of users that have equal or greater power level than you. (SYN-192)</li>
<li>Improve performance by bulk inserting events where possible. (PR #193)</li>
<li>Improve performance by bulk verifying signatures where possible. (PR #194)</li>
</ul>
<p>Configuration:</p>
<ul>
<li>Add support for including TLS certificate chains.</li>
</ul>
<p>Media Repository:</p>
<ul>
<li>Add Content-Disposition headers to content repository responses. (SYN-150)</li>
</ul>
</code>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;07&#x2F;10&#x2F;synapse-0-9-3-is-out-as-of-a-few-weeks-ago&#x2F;" title="Synapse 0.9.3 is out! (as of a few weeks ago)">Synapse 0.9.3 is out! (as of a few weeks ago)</a></h2>
                <span>
                    10.07.2015 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>We seem to have done that thing again where we were too busy writing new stuff (E2E crypto, all-new React-based Web SDK, long-awaited iOS Console update) to remember that we'd released a new version of Synapse - sorry!</p>
<p>Synapse 0.9.3 was released on July 1st (actually on June 23rd as 0.9.3-rc1, but was released without changes).  It's a fairly minor release but does provide some performance improvements and bug fixes - see below for details.  Get it from <a href="http://github.com/matrix-org/synapse">http://github.com/matrix-org/synapse</a> if you haven't already.</p>
<code>
Changes in synapse v0.9.3 (2015-07-01)
======================================
<p>General:</p>
<ul>
<li>Fix a memory leak in the notifier. (SYN-412)</li>
<li>Improve performance of room initial sync. (SYN-418)</li>
<li>General improvements to logging.</li>
<li>Remove <code>access_token</code> query params from <code>INFO</code> level logging.</li>
</ul>
<p>Configuration:</p>
<ul>
<li>Add support for specifying and configuring multiple listeners. (SYN-389)</li>
</ul>
<p>Application services:</p>
<ul>
<li>Fix bug where synapse failed to send user queries to application services.</li>
</ul>
</code>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;06&#x2F;22&#x2F;the-matrix-org-irc-bridge-now-bridges-all-of-freenode&#x2F;" title="The matrix.org IRC bridge now bridges all of Freenode!">The matrix.org IRC bridge now bridges all of Freenode!</a></h2>
                <span>
                    22.06.2015 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>We've been running an IRC gateway from Matrix to Freenode almost since day 1 - originally it was a <a href="/blog/project/perl-matrix-ircbridge/">simple perl bot</a> written by tm604 using Net::Async::Matrix; later it was rewritten by LeoNerd to be a bit more modular, and nowadays it's a full <a href="https://github.com/matrix-org/matrix-appservice-irc">IRC/Matrix Application Service</a> written in Node.js by Kegan.</p>
<p>Up until the end of last week the bridge was limited to synchronising a fixed number of channels between Freenode and Matrix (#matrix, #matrix-dev, #openwebrtc, #vuc and #hypothes.is, to be precise), as well as any PMs.  But as of Friday, with huge thanks to the admins over at Freenode, we can now bridge <em>any</em> channel in Freenode through to Matrix.</p>
<p>Doing this is trivial - you just <code>/join #freenode_#channelname:matrix.org</code> from a typical Matrix client - e.g. <code>/join #freenode_#Node.js:matrix.org</code> will give you access to all of #Node.js via Matrix, effectively using Matrix as a great big distributed IRC bouncer in the sky ;)</p>
<p>There are a few limitations in the current setup:</p>
<ul>
<li>We only incrementally synchronise the membership lists when folks speak in either IRC or Matrix.  This is to avoid flooding either IRC or Matrix with lurkers when the bridge initially joins a channel.  We have some plans to improve this in future - see <a href="/jira/browse/BOTS-53">BOTS-53</a> for some of the sordid details.</li>
<li>We don't synchronise joins/parts currently to avoid flooding Matrix with lots of IRC join/part spam.  Again, this will improve in future.</li>
<li>You can't join +k channels.</li>
<li>Kicks/bans/invites and other ACLs currently don't propagate between IRC &amp; Matrix.  (I.e. a Matrix user can be kicked from IRC, but it'll continue to sit in Matrix unless also kicked for there).  +i chanmode supported however.</li>
<li>Bridged public IRC rooms are not yet advertised in the public room list on matrix.org.</li>
<li>It should be possible to change the nickname of your IRC user by messaging <code>!nick irc.freenode.net MrFlibble</code> to @appservice-irc:matrix.org.  (This isn't actually turned on right now, but should be fixed shortly.  See <a href="https://github.com/matrix-org/matrix-appservice-irc/blob/master/HOWTO.md#changing-nicks">https://github.com/matrix-org/matrix-appservice-irc/blob/master/HOWTO.md#changing-nicks</a> for details.</li>
</ul>
<p>We'll keep chipping away at making the IRC&lt;-&gt;Matrix mapping perfect, but in its current state it's still really usable.  It's obviously beta still, but please give it a go and let us know in #matrix:matrix.org how you get on with it!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;06&#x2F;12&#x2F;introducing-all-new-matrix-js-sdk-v0-1-0&#x2F;" title="Introducing all new matrix-js-sdk v0.1.0">Introducing all new matrix-js-sdk v0.1.0</a></h2>
                <span>
                    12.06.2015 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Hi all,</p>
<p>If things seem a bit quiet here at the moment it's because most of the Matrix team is in the 'build' phase across the board on a bunch of major new projects - including the long-awaited reusable UI component library for the Web, end-to-end encryption support, stable VoIP on mobile and a few other surprises.  The first wave of all this new work landed today in the form of a new major version release (0.1.0) of <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>: our javascript SDK library.</p>
<p>The history of JS client support on Matrix is that in the original rush to get a PoC webclient out the door back in September, we jumped straight to talking to the Matrix HTTP API from Angular controllers in 'syweb'.  This then got split into an Angular SDK (<a href="https://github.com/matrix-org/matrix-angular-sdk">matrix-angular-sdk</a>) containing a bunch of services for handling the Matrix client state with the actual webapp sitting alongside as an example of the SDK.  This then in turn got split into a basic matrix-js-sdk (wrapping the Matrix client-server HTTP API) and matrix-angular-sdk (handling the clientside state and exposing it as Angular services) - and this is how the current demo Angular webapp works at <a href="http://matrix.org/beta">http://matrix.org/beta</a>.</p>
<p>However, this poses a major problem if you want a richer client SDK but don't want to use Angular - e.g. if you prefer another framework (or no framework at all), or are using the SDK in an Application Service or similar.  So, this has prompted a major upgrade to the matrix-js-sdk in order to extend it to act both as a simple wrapper of the Matrix Client-Server HTTP API, but also expose a full object and event model to describe the state of a Matrix client together with all the higher level functions to drive it.  To quote from the <a href="https://github.com/matrix-org/matrix-js-sdk/blob/master/README.md">README</a>:</p>
<blockquote>
<p>This SDK provides a full object model around the Matrix Client-Server API and emits events for incoming data and state changes. Aside from wrapping the HTTP API, it:</p>
<ul>
<li>Handles syncing (via /initialSync and /events)</li>
<li>Handles the generation of "friendly" room and member names.</li>
<li>Handles historical RoomMember information (e.g. display names).</li>
<li>Manages room member state across multiple events (e.g. it handles typing, power levels and membership changes).</li>
<li>Exposes high-level objects like Rooms, RoomState, RoomMembers and Users which can be listened to for things like name changes, new messages, membership changes, presence changes, and more.</li>
</ul>
<p>Later versions of the SDK will:</p>
<ul>
<li>Automatically retry requests to send messages due to network errors.</li>
<li>Automatically retry requests to send messages due to rate limiting errors.</li>
<li>Mark events' sent status (e.g. 'not sent').</li>
<li>Handle "local echo" of messages sent.</li>
<li>Handle queueing of messages.</li>
<li>Handle pagination.</li>
<li>Expose a RoomSummary which would be suitable for a recents page.</li>
<li>Provide different pluggable storage layers (e.g. local storage, database-backed)</li>
</ul>
</blockquote>
<p>It also is designed to provide an API that abstracts both version 1 of the client-server API and the upcoming version 2 (which fixes various thinkos we've discovered along the way in v1).</p>
<p>This is incredibly exciting stuff as it now gives a really robust yet lightweight API for client-side and application-service development in JavaScript.  Predictably enough we're using it to develop our new reusable web UI components, and I suspect we'll see new Node-based application services making use of in the near future.  Meanwhile, it's more than topical as it should run straight on top of the <a href="http://tessel.io">Tessel</a> JavaScript hardware modules we're giving away this weekend as our prize for the best hack built on Matrix at <a href="/blog/2015/06/05/global-tadhack-hackathon/">TADHack</a> - letting the little Tessel ARM system-on-a-chip speak a very rich and native Matrix dialect!</p>
<p>The new matrix-js-sdk comes with comprehensive jsdoc detailing the new API which you can find at <a href="http://matrix-org.github.io/matrix-js-sdk/global.html">http://matrix-org.github.io/matrix-js-sdk/global.html</a>.  There are also some <a href="https://github.com/matrix-org/matrix-js-sdk/tree/master/examples">basic examples</a> available, including a new simple node-powered command-line client designed for testing the SDK.  Finally, if you're interested in reading the design process by which we've converged on the current API, all the details may be found in JIRA on <a href="/jira/browse/SYJS-5">SYJS-5</a>.</p>
<p>So: if you've been itching to get your hands on a much more powerful pure-JS Matrix SDK, now's your chance!  It's very early days for the new API so we expect to see a few incompatible changes on the horizon, but we encourage you to have a play and <a href="http://matrix.org/beta/#/room/#matrix:matrix.org">tell us what you think!</a>.</p>
<p>To find out more, go check out the project at <a href="http://github.com/matrix-org/matrix-js-sdk">http://github.com/matrix-org/matrix-js-sdk</a>, or if you're feeling daring just grab the library with <code>npm install matrix-js-sdk</code> and get hacking!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2015&#x2F;06&#x2F;01&#x2F;synapse-0-9-1-released&#x2F;" title="Synapse 0.9.1 released">Synapse 0.9.1 released</a></h2>
                <span>
                    01.06.2015 00:00
                    —
                    <a href="/category/tech">
                        Tech
                    </a>
                    —
                    <a
                        href="/author/matthew-hodgson">
                        Matthew Hodgson
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>In the excitement of KamailioWorld last week we completely forgot to mention that we released Synapse 0.9.1.</p>
<p>This is a pretty important performance and stability update of all the new stuff that landed in 0.9.0, as well as landing a major new feature in the form of 'backfill': we finally have the ability to correctly sync in historical conversation history over federation for newly federated rooms.  In other words, if you join a remote room you should be able to navigate its history as intended.</p>
<p>We highly recommend upgrading to 0.9.1 for all the performance improvements and backfill support - get it now from <a href="http://github.com/matrix-org/synapse">http://github.com/matrix-org/synapse</a>.</p>
<code>
Changes in synapse v0.9.1 (2015-05-26)
======================================
<p>General:</p>
<ul>
<li>Add support for backfilling when a client paginates. This allows servers to
request history for a room from remote servers when a client tries to
paginate history the server does not have - SYN-36</li>
<li>Fix bug where you couldn't disable non-default pushrules - SYN-378</li>
<li>Fix <code>register_new_user</code> script - SYN-359</li>
<li>Improve performance of fetching events from the database, this improves both
initialSync and sending of events.</li>
<li>Improve performance of event streams, allowing synapse to handle more
simultaneous connected clients.</li>
</ul>
<p>Federation:</p>
<ul>
<li>Fix bug with existing backfill implementation where it returned the wrong
selection of events in some circumstances.</li>
<li>Improve performance of joining remote rooms.</li>
</ul>
<p>Configuration:</p>
<ul>
<li>Add support for changing the bind host of the metrics listener via the <code>metrics_bind_host</code> option.</li>
</ul>
</code>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;matthew-hodgson&#x2F;page&#x2F;11&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">12 / 15</span>
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;matthew-hodgson&#x2F;page&#x2F;13&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
