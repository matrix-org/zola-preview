<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Mathieu Velten</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/author/mathieu-velten/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        <a href="&#x2F;docs&#x2F;" class="
            ">
            Documentation
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <input id="ecosystem-submenu-checkbox" type="checkbox" class="submenu-checkbox" aria-hidden="true"
                >
            <label for="ecosystem-submenu-checkbox" class="submenu-title">Ecosystem <div class="arrow">
                </div></label>

            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;integrations&#x2F;">Integrations</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Mathieu Velten</h1>
            4 posts tagged with "Mathieu Velten" <a href="/author">(See all Author)</a>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2023&#x2F;02&#x2F;16&#x2F;synapse-1-77-released&#x2F;" title="Synapse 1.77 released">Synapse 1.77 released</a></h2>
                <span>
                    16.02.2023 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/mathieu-velten">
                        Mathieu Velten
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Greetings Matrix fans! We've published Synapse <a href="https://github.com/matrix-org/synapse/releases/tag/v1.77.0">version 1.77</a>
as the new stable release this week. Synapse admins are encouraged to upgrade
to it at their convenience.</p>
<h2 id="the-new-stuff">The new stuff</h2>
<h3 id="experimental-support-for-intentional-mentions-msc3952">Experimental support for intentional mentions (MSC3952)</h3>
<p>Mentioning other users on Matrix is difficult: it is not possible to know if mentioning a user
by display name or Matrix ID will count as a mention, but is also too easy to mistakenly mention a user.</p>
<p><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3952">MSC3952</a> proposes a solution. Its idea is to make the mentioning explicit in the protocol using a dedicated event property,
instead of relying on searching the body of the message as before.</p>
<p>Synapse now implements this as an experimental feature.</p>
<h3 id="experimental-support-to-suppress-notifications-from-message-edits-msc3958">Experimental support to suppress notifications from message edits (MSC3958)</h3>
<p>Have you ever been annoyed by a noisy notification that keep coming back, but you can't pinpoint
where it's coming from?
This is usually because edits to a message where you are mentioned (or that mention <code>@room</code>) will
retrigger a noisy notification. That can be pretty annoying when the message is edited 10 times!</p>
<p><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3958">MSC3958</a>
is here to solve that, and Synapse now implements it as an experimental feature.</p>
<h3 id="the-quest-for-speed-continues">The quest for speed continues!</h3>
<p>Some iterative optimizations have been implemented that should make <a href="https://github.com/matrix-org/synapse/pull/14971">joining or leaving</a>
large rooms even faster, and should also <a href="https://github.com/matrix-org/synapse/pull/14962">improve sending message</a>.</p>
<h2 id="everything-else">Everything else</h2>
<p>See the full <a href="https://github.com/matrix-org/synapse/releases/tag/v1.77.0">changelog</a>, for a
complete list of changes in the release.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to these releases, including (in no particular
order) icp1994, dklimpel, Fizzadar and realtyem.</p>
<p>We are also grateful to anyone helping us make Synapse better by sharing their
feedback and reporting issues, or helping with community support questions.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2023&#x2F;01&#x2F;19&#x2F;synapse-1-75-released&#x2F;" title="Synapse 1.75 released">Synapse 1.75 released</a></h2>
                <span>
                    19.01.2023 15:38
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/mathieu-velten">
                        Mathieu Velten
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>We published Synapse <a href="https://github.com/matrix-org/synapse/releases/tag/v1.75.0">version 1.75</a>
as the new stable release this week. Synapse admins are encouraged to upgrade
to it at their convenience. It seems like the blog post for <a href="https://github.com/matrix-org/synapse/releases/tag/v1.74.0">version 1.74</a>
was eaten by Santa's reindeer, so this post will also cover changes from it.</p>
<h2 id="announcements">Announcements</h2>
<p>There were no special announcements for the 1.75 release.</p>
<h3 id="synapse-1-74-icu-dependency-for-improved-user-search">Synapse 1.74: ICU dependency for improved user search</h3>
<p>Synapse's search functionality has long been poor when searching for non-English
terms. Synapse 1.74 <a href="https://github.com/matrix-org/synapse/pull/14464">introduced</a>
support for an optional improved user search experience which has a better
awareness of Unicode. To do so, we use the <a href="https://icu.unicode.org/">ICU library</a>
when Synapse is installed alongside the binding library <a href="https://pypi.org/project/PyICU/">PyICU</a>.</p>
<p>Synapse installations using Matrix.org docker images or debian packages will
automatically have the new search mode enabled.</p>
<p>From-source installations will need to include the <code>user-search</code> extra when
<code>pip install</code> Synapse, e.g. <code>pip install matrix-synapse[user-search]</code>.
<strong>NB:</strong> because PyICU is not distributed as source-only on PyPI, you will need
to ensure the ICU development headers are available on your system. See the
<a href="https://matrix-org.github.io/synapse/v1.75/upgrade.html#unicode-support-in-user-search">upgrade notes</a>
for more info.</p>
<p>Please try out the new search mode and let us know how you find it in practice.</p>
<h2 id="the-new-stuff">The new stuff</h2>
<h3 id="support-rfc7636-proof-key-for-code-exchange-for-oauth-single-sign-on">Support <a href="https://datatracker.ietf.org/doc/html/rfc7636">RFC7636</a> Proof Key for Code Exchange for OAuth single sign-on</h3>
<p>Synapse 1.75 adds support for RFC7636 code challenges in the OAuth 2.0 flow.</p>
<p>This is required by Twitter SSO and enabling it can protect against the
&quot;authorization code interception attack&quot;.</p>
<h3 id="experimental-support-for-removing-account-data-msc3391">Experimental support for removing account data (<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3391">MSC3391</a>)</h3>
<p>Experimental support for removing account data has landed in Synapse.
It was previously possible to create or update account data but not remove them, this is now possible.</p>
<p>The support is experimental and needs to be enabled with a configuration flag since the MSC hasn't landed yet.</p>
<h3 id="more-faster-remote-room-joins-fixes-and-improvements">More faster remote room joins fixes and improvements</h3>
<p>In case you missed it we are working on dramatically improve performance of remote room joins, you can refer
to <a href="https://matrix.org/blog/2022/10/18/testing-faster-remote-room-joins">this blog post</a> for more details.</p>
<p>The last two Synapse releases brings that a lot closer to a proper release; in
particular they contain a lot of work to support faster joins in deployments
with multiple workers. The project continues in earnest; we hope to have more to
show off in the coming weeks.</p>
<h2 id="everything-else">Everything else</h2>
<p>See the full <a href="https://github.com/matrix-org/synapse/releases/tag/v1.75.0">changelog</a>, for a
complete list of changes in the release. Also please have a look at the <a href="https://matrix-org.github.io/synapse/v1.75/upgrade.html#upgrading-to-v1740">upgrade
notes</a> for 1.74 version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to these releases, including (in no particular
order): Ashish Kumar, Dirk Klimpel, Jeremy Kescher, Jeyachandran Rathnam,
Nick Mills-Barrett, Jason Little, Villepeh and Vertux.
We are also grateful to anyone helping us make Synapse better by sharing their
feedback and reporting issues, or helping with community support questions.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;12&#x2F;07&#x2F;synapse-1-73-released&#x2F;" title="Synapse 1.73 released">Synapse 1.73 released</a></h2>
                <span>
                    07.12.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/mathieu-velten">
                        Mathieu Velten
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>And here is another update to your beloved Matrix homeserver implementation, <a href="https://github.com/matrix-org/synapse/releases/tag/v1.73.0">Synapse
1.73</a>.</p>
<h2 id="announcements">Announcements</h2>
<h3 id="legacy-prometheus-metric-names-removed">Legacy Prometheus metric names removed</h3>
<p>When releasing <a href="https://matrix.org/blog/2022/10/17/synapse-1-69-released#upcoming-removal-of-deprecated-prometheus-metric-names">Synapse 1.69</a>
a couple of months ago, we also announced the removal of old Prometheus metrics that have been replaced by more aptly named ones. 
he list of these metrics can be found <a href="https://matrix-org.github.io/synapse/v1.73/metrics-howto.html#renaming-of-metrics--deprecation-of-old-names-in-12">here</a>.</p>
<p>Synapse 1.73 implements the final phase of this plan and entirely removes support for those metrics. As a result,
the <code>enable_legacy_metrics</code> configuration option, which was introduced in
<a href="https://matrix.org/blog/2022/11/22/synapse-1-72-released#announcements">Synapse 1.71</a>, has also been removed.</p>
<p>Server administrators who are still relying on these legacy metric names are encouraged to update their dashboards at their earliest convenience.
For more information, please refer to the <a href="https://matrix-org.github.io/synapse/v1.73/upgrade#legacy-prometheus-metric-names-have-now-been-removed">upgrade notes</a>.</p>
<h2 id="the-new-stuff">The new stuff</h2>
<h3 id="performance">Performance</h3>
<p>A bunch of performance improvements have been included in this release, specifically around
the <a href="https://spec.matrix.org/v1.5/client-server-api/#get_matrixclientv3roomsroomidmessages"><code>/messages</code></a> endpoint.</p>
<p><a href="https://github.com/matrix-org/synapse/pull/14527">Improvements to event filtering on the client-server API</a> gave the matrix.org homeserver a first nice bump as visible on this graph:</p>
<p><img src="/blog/img/2022-12-07-apdex-filter-events-improvement.png" alt="" /></p>
<p>Various optimizations around <a href="https://github.com/matrix-org/synapse/pull/14491">fetching</a> <a href="https://github.com/matrix-org/synapse/pull/14508">bundled</a>
<a href="https://github.com/matrix-org/synapse/pull/14510">aggregations</a> resulted in yet another nice improvement:</p>
<p><a href="/blog/img/2022-12-07-bundled-aggregations-improvement.png"><img src="/blog/img/2022-12-07-bundled-aggregations-improvement.png" alt="" /></a></p>
<p>Note that the graph from the first image, and the second graph from the second image are <a href="https://en.wikipedia.org/wiki/Apdex">apdexes</a>, which
is a measure that shows improvement when it goes up (as opposed to e.g. response times, which improve
when they go down).</p>
<h3 id="extensible-events-experimental-support">Extensible Events experimental support</h3>
<p>Experimental support for Extensible Events has landed in Synapse.</p>
<p>This is exciting since this global rework of events presentation has been in talks
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/1767">for a while</a>, and
having an implementation to experiment with greatly helps bringing the feature
closer to completion.</p>
<p>Note that this support is still very much experimental as the related MSCs are still
under review and could change at any time, and therefore not recommended for use
in production.</p>
<h2 id="everything-else">Everything else</h2>
<p>See the full <a href="https://github.com/matrix-org/synapse/releases/tag/v1.73.0">changelog</a>, for a
complete list of changes in the release. Also please have a look at the <a href="https://matrix-org.github.io/synapse/v1.73/upgrade#upgrading-to-v1730">upgrade
notes</a> for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://github.com/schmop">schmop</a>, <a href="https://github.com/ashfame">Ashish Kumar</a>,
<a href="https://github.com/realtyem">realtyem</a>, and <a href="https://github.com/chapb">Brennan Chapman</a>
as well as anyone helping us make Synapse better by sharing their feedback and reporting issues.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2022&#x2F;11&#x2F;22&#x2F;synapse-1-72-released&#x2F;" title="Synapse 1.72 released">Synapse 1.72 released</a></h2>
                <span>
                    22.11.2022 00:00
                    —
                    <a href="/category/releases">
                        Releases
                    </a>
                    —
                    <a
                        href="/author/mathieu-velten">
                        Mathieu Velten
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>It's not Christmas yet, but it's time for a new release! Say hello to <a href="https://github.com/matrix-org/synapse/releases/tag/v1.72.0">Synapse
1.72</a>.</p>
<p>It seems like this blog didn't self update through AI for the 2 preceding
updates so this post will cover 1.70 to 1.72, sorry if this is a bit long but
it's been a while :)</p>
<h2 id="announcements">Announcements</h2>
<h3 id="dropping-support-for-postgresql-10">Dropping support for PostgreSQL 10</h3>
<p>PostgreSQL 10 has reached End Of Life: Synapse will no longer support it
beginning with version 1.72 so please upgrade your database if you have not
already done so.</p>
<h3 id="legacy-prometheus-metric-names-disabled-and-to-be-removed">Legacy Prometheus metric names disabled and to be removed</h3>
<p>In previous versions of Synapse, some Prometheus metrics were emitted under two
different names, an older name that was non-compliant with OpenMetrics and
Prometheus conventions and a new compliant name.</p>
<p>Synapse 1.71 and later have the old metric names switched off by default.</p>
<p>For now it's still possible to get them by using <code>enable_legacy_metrics: true</code>,
however server administrators still using legacy metric names are highly
encouraged to migrate, as they will be removed in 1.73.</p>
<p>You can find the full list of renamed metrics
<a href="https://matrix-org.github.io/synapse/v1.72/metrics-howto.html#renaming-of-metrics--deprecation-of-old-names-in-12">here</a>.</p>
<h3 id="changes-to-the-events-received-by-application-services-interest">Changes to the events received by application services (interest)</h3>
<p>Following the implementation of
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3905">MSC3905</a>,
Synapse now only considers local users to be interesting to application
services. In other words, the users namespace regex in an app service's
registration file is only applied against local users of the homeserver.</p>
<p>Please note, this probably doesn't affect the expected behavior of your
application service, since an interesting local user in a room still means all
messages in the room (from local or remote users) will still be considered
interesting.</p>
<p>You can find a bit more info in the MSC and in the <a href="https://matrix-org.github.io/synapse/v1.71/upgrade.html#changes-to-the-events-received-by-application-services-interest">upgrade
notes</a>.</p>
<h2 id="the-new-stuff">The new stuff</h2>
<h3 id="threads-threads-threads">Threads, threads, threads!</h3>
<p>Several MSCs related to threads got implemented:</p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3856">MSC3856</a>
provide an API to fetch threads and related metadata.</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3771">MSC3771</a> and
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3773">MSC3773</a>
implementing per thread read receipts and per thread notification counts.</li>
<li><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3874">MSC3874</a>
allows to filter out messages belonging to threads from the main timeline
(still considered experimental). Along with MSC3856, this should noticeably
improve performance of rooms that use threads heavily.</li>
</ul>
<p>This should significantly improve user experience related to threads, being
through behavior or performance impact.</p>
<h3 id="linking-events-together">Linking events together</h3>
<p>Relationships are great, even more between events than humans!</p>
<p><a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3664">MSC3664</a> allows
Matrix clients to be notified in real time of related events, so you can now be
made quickly aware of this cat emoji reaction that your cat photo clearly
deserved.</p>
<p>Additionally, Synapse 1.72 includes an implementation of
<a href="https://github.com/matrix-org/matrix-spec-proposals/pull/3912">MSC3912</a>,
allowing users to redact the relations of a message alongside the message
itself. This is particularly helpful in cases like edits, where users usually
want to see their edits redacted at the same time as the original message. Note
that this implementation is currently incomplete and still experimental, though,
so watch this space!</p>
<h3 id="faster-joins-continued">Faster joins, continued</h3>
<p>We continue our journey to get everything going as transparently as possible
when doing fast remote room joins.</p>
<p>If you missed it you can refer to this previous <a href="https://matrix.org/blog/2022/10/18/testing-faster-remote-room-joins">blog
post</a> to
get a lot more infos, and feel free to grep Synapse changelog and the numerous
related issues/PRs for all the gory details.</p>
<h2 id="everything-else">Everything else</h2>
<p>See the full changelogs
(<a href="https://github.com/matrix-org/synapse/releases/tag/v1.70.0">1.70</a>,
<a href="https://github.com/matrix-org/synapse/releases/tag/v1.71.0">1.71</a>,
<a href="https://github.com/matrix-org/synapse/releases/tag/v1.72.0">1.72</a>) for a
complete list of changes in the releases. Also please have a look at the
<a href="https://matrix-org.github.io/synapse/v1.72/upgrade#upgrading-to-v1720">upgrade
notes</a>
for this version.</p>
<p>Synapse is a Free and Open Source Software project, and we'd like to extend our
thanks to everyone who contributed to this release, including (in no particular
order) <a href="https://github.com/deepbluev7">Nico</a>,
<a href="https://github.com/sando38">sando38</a>, <a href="https://github.com/realtyem">realtyem</a>,
<a href="https://github.com/aceArt-GmbH">aceArt GmbH</a>, <a href="https://github.com/tuojamie">Tuomas
Ojamies</a>, <a href="https://github.com/ashfame">Ashish
Kumar</a>, <a href="https://github.com/asymmetric">asymmetric</a>,
<a href="https://www.beeper.com/">Beeper</a>, <a href="https://github.com/renegaderyu">Ryan
Miguel</a>, <a href="https://github.com/ptman">Paul
Tötterman</a>, <a href="https://github.com/Abdullah0sama">Abdullah
Osama</a>, <a href="https://github.com/thefinn93">Finn</a>,
<a href="https://github.com/intelfx">Ivan Shapovalov</a>, <a href="https://github.com/dklimpel">Dirk
Klimpel</a>, <a href="https://github.com/ShadowJonathan">Jonathan de
Jong</a>,
<a href="https://github.com/MichaIng">MichaIng</a> and <a href="https://github.com/aaronraimist">Aaron
Raimist</a> as well as anyone helping us make
Synapse better by sharing their feedback and reporting issues.</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
    </div>
    <span class="page-number">1 / 1</span>
    <div class="prev">
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
