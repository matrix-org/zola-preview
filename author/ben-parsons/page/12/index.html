<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Ben Parsons</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/author/ben-parsons/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    
                    <a href="&#x2F;docs&#x2F;users&#x2F;">Users</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;communities&#x2F;">Communities</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;developers&#x2F;">Developers</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;legacy&#x2F;">Legacy documentation</a>
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Ben Parsons</h1>
            175 posts tagged with "Ben Parsons" <a href="/author">(See all Author)</a>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;07&#x2F;19&#x2F;this-week-in-matrix-2019-07-19&#x2F;" title="This Week in Matrix 2019-07-19">This Week in Matrix 2019-07-19</a></h2>
                <span>
                    19.07.2019 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live-smorgasbord">Matrix Live Sm√∂rg√•sbord üéô</h2>
<p>Featuring: Open Tracing, Synapse, Dendrite and Riot Web</p>
<iframe src="https://www.youtube.com/embed/uR17MSI_Iu4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<h3 id="spec-news">Spec News</h3>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2181">MSC2181: Add an Error Code for Signaling a Deactivated User</a>
<ul>
<li>New MSC, with FCP proposed.</li>
<li>Will allow matrix clients to differentiate between incorrect password entry and a user who has been deactivated.</li>
</ul>
</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2174">MSC2174: Move the <code>redacts</code> key to a sane place</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2175">MSC2175: Remove the <code>creator</code> field from <code>m.room.create</code> events</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2176">MSC2176: Update the redaction rules</a>
<ul>
<li><a href="https://matrix.to/#/@richvdh:sw1v.org">richvdh</a> storms in with 3 MSCs to fix some old spec issues relating to event redactions.</li>
</ul>
</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2184">MSC2184: Allow the use of the HTML <code>&lt;details&gt;</code> tag</a>
<ul>
<li><a href="https://github.com/ananace">ananace</a>‚Äôs first MSC!</li>
<li>Allowing expandable content within messages.</li>
<li>Would be very useful for logs dumps, bot help messages and for posting other large content without spamming the room.</li>
</ul>
</li>
</ul>
<h3 id="not-quite-matrix-feneas-call-for-comments-on-spec-for-metadata">(not quite matrix) feneas call for comments on spec for metadata</h3>
<p><a href="https://matrix.to/#/@jaywink:feneas.org">jaywink</a>:</p>
<blockquote>
<p><code>&lt;community-hat&gt;</code><br />
I'm working on a specification for exporting metadata and usage metrics out of federated servers. The aim is that the same specification could be re-used cross-protocol for example with not only Matrix servers but also ActivityPub, Diaspora and XMPP servers, as an example. Looking for comments here: <a href="https://talk.feneas.org/t/serverinfo-specification-for-server-metadata/99">https://talk.feneas.org/t/serverinfo-specification-for-server-metadata/99</a><br />
<code>&lt;/community-hat&gt;</code></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite">Dendrite</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a>:</p>
<blockquote>
<h4 id="feature-updates">Feature Updates</h4>
<p>Dendrite continues along with more development from <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a>, our resident GSoC student <a href="https://matrix.to/#/@cnly:matrix.org">cnly</a>, and a few community members. <a href="https://matrix.to/#/@cnly:matrix.org">cnly</a> has been working mainly on <a href="https://github.com/matrix-org/dendrite/pull/718">fixing</a> <a href="https://github.com/matrix-org/dendrite/pull/751">up</a> <a href="https://github.com/matrix-org/dendrite/pull/752">/sync issues</a> and <a href="https://github.com/matrix-org/dendrite/pull/732">other areas of the CS API</a>, fixing the various <a href="https://github.com/matrix-org/dendrite/issues?q=is%3Aissue+is%3Aopen+label%3Acomponent%3Afederation">federation issues</a>, mainly those dealing with <a href="https://matrix.org/docs/spec/server_server/unstable#room-state-resolution">room state</a>, and various other <a href="https://github.com/matrix-org/dendrite/pull/740">maintenance tasks</a> <a href="https://github.com/matrix-org/dendrite/pull/748">around the codebase</a> that are highly appreciated. <a href="https://matrix.to/#/@peekay_46:matrix.org">peekay_46</a> has been hard at work completing <a href="https://github.com/matrix-org/dendrite/pull/694">Dendrite‚Äôs implementation of room tagging</a> and <a href="https://matrix.to/#/@trion129:matrix.org">trion129</a> returned to continue with adding a <a href="https://github.com/matrix-org/dendrite/pull/405">fallback page for recaptcha</a> (for clients that can‚Äôt render web pages). We have a number of community PRs still with active members, but most are waiting for reviews, which <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> is working towards.</p>
<h4 id="the-plan">The Plan</h4>
<p>A couple TWIMs ago we <a href="https://matrix.org/blog/2019/07/05/this-week-in-matrix-2019-07-05">teased</a> that Dendrite had a plan in the works. Well one meeting later and here is the proposal:</p>
<p>It will take a while for Dendrite to become feature complete with Synapse, but we‚Äôd like people to be able to actually use Dendrite before then. Instead of waiting for feature-completeness, we propose a set of milestones for Dendrite development to reach and prioritize development for.</p>
<p>These milestones are currently listed on <a href="https://github.com/matrix-org/dendrite/milestones">Dendrite‚Äôs github</a>. The first is ‚ÄúBot Hosting‚Äù, which means, once complete, Dendrite would be suitable as a ‚Äúbot hub‚Äù, allowing server admins to run massive bridges on top of Dendrite while taking advantage of its horizontal-scaling capabilities. As written in the description, this goal includes basic CS API support, as well as federation with other homeservers. At this stage Dendrite should already be usable in rooms with other Synapse servers, which should make it a lot more interesting.</p>
<p>After that is several more milestones, each representing another use case that Dendrite can fill.</p>
<p>Don‚Äôt be alarmed at the currently quite small percentage of completeness, as these milestones have just been built from the open issue list. We‚Äôre actually quite far along to #1 already :)</p>
<p>We also want to mention that the milestones aren‚Äôt completely built yet - there‚Äôs still a few more issues to comb through. It‚Äôs taken a few days as <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> can‚Äôt help himself to fix things as he goes along. A few open issues have also been closed as they had already been fixed earlier.</p>
<p>This is all mentioned in this week‚Äôs Matrix Live above by the way, so be sure to catch for some extra details if you‚Äôre interested.</p>
<p>We look forward to shipping you a working Dendrite soon‚Ñ¢. And as always feel free to join us in <a href="https://matrix.to/#/!yjVgJUsMLYLAONsoii:jki.re?via=matrix.org&amp;via=privacytools.io&amp;via=ru-matrix.org">#dendrite-dev:matrix.org</a> for discussion.</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p>Neil, who oversees the Synapse factory:</p>
<blockquote>
<p>This week we‚Äôve been working on improving database performance, shipping the new small hosted homeserver instances - expect a lot of improvements to come that will benefit the whole community and merged our recent OpenTracing support. We‚Äôve also made some changes to how Sydent processes and stores email - more details here <a href="https://matrix.org/blog/2019/07/19/privacy-changes-to-new-vector-identity-servers">https://matrix.org/blog/2019/07/19/privacy-changes-to-new-vector-identity-servers</a></p>
<p>Next week, expect a new release, more database performance improvements and general Synapse performance work.</p>
</blockquote>
<p>Listen to Matrix Live to hear Erik talking about his DB perf work ‚òùÔ∏è</p>
<h3 id="ruma">Ruma</h3>
<p><a href="https://www.ruma.io/news/this-week-in-ruma-2019-07-14/">This Week in Ruma</a>, from <a href="https://matrix.to/#/@jimmycuadra:matrix.org">Jimmy</a>:</p>
<blockquote>
<p>...<br />
While I was working on <a href="https://github.com/ruma/ruma-signatures/">ruma-signatures</a>, I decided to fill in the missing functionality‚Äîsigning and verifying events. In the process of doing that, I ended up with a significantly revised API for the crate, which has now been released as <a href="https://github.com/ruma/ruma-signatures/releases/tag/0.5.0">version 0.5.0</a>.<br />
...</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üèó</h2>
<h3 id="new-release-of-matrix-nio-python-sdk">New release of matrix-nio (Python SDK)</h3>
<p><a href="https://github.com/poljar">poljar</a> said:</p>
<blockquote>
<p>New <a href="https://github.com/poljar/matrix-nio">matrix-nio</a> release bringing you documentation improvements across the board, while the documentation is still not fully complete yet it should be much easier to get started with nio.<br />
Another highlight of this release is couroutine support for the event callbacks for the AsyncClient.</p>
</blockquote>
<p>Take a look at the <a href="https://matrix.org/docs/guides/usage-of-matrix-nio">getting started guide</a> too.</p>
<h3 id="ruby-sdk">Ruby SDK</h3>
<p><a href="https://github.com/ananace/">Ananace</a>:</p>
<blockquote>
<p>I just cut a 1.3.0 release of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby SDK</a>, mainly focusing on solving an issue due to Ruby extensions polluting the global scope. It also adds a very slightly extended response handling, which recursively adds getters for the keys of the resulting objects.<br />
Many thanks to the people reporting issues to me so I can keep improving the SDK.</p>
</blockquote>
<h3 id="the-kotlin-library-koma">The Kotlin library koma</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>, author of <a href="https://github.com/koma-im/koma/">koma</a> and <a href="https://github.com/koma-im/continuum-desktop">Continuum</a>:</p>
<blockquote>
<ul>
<li>Fixed incorrect type casting in function KResult.map</li>
<li>Reorganize the structure of modules, separate APIs that don't require authentication, so that they can be used before signing in</li>
</ul>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="matrix-appservice-slack">matrix-appservice-slack</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> announced:</p>
<blockquote>
<p>Today we've released <a href="https://github.com/matrix-org/matrix-appservice-slack/releases">0.3.0 of the slack bridge</a> since the last rc has proved to be stable. I hope you all enjoy the new features we've packed into this release. And as a reminder, there is another release right around the corner :)</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="riotx-android">RiotX (Android)</h3>
<p>From the team (see Matrix Live from last week for more from them):</p>
<blockquote>
<ul>
<li>RiotX 0.2.0 has been released on Thursday. Main new features: room filtering, message editing in e2e rooms, view editing history. Also many small new features and bugfixes.
<ul>
<li>Full perimeter can be found here: <a href="https://github.com/vector-im/riotX-android/milestone/6?closed=1">https://github.com/vector-im/riotX-android/milestone/6?closed=1</a></li>
<li>Known limitation: crash on device running Android KitKat (4.4). We are considering supporting only device running Android Lollipop (5.0) and up (see/approve/comment <a href="https://github.com/vector-im/riotX-android/issues/405">https://github.com/vector-im/riotX-android/issues/405</a>)</li>
</ul>
</li>
<li>The team is still working on the main missing features: creation of direct chat, read receipt, along with UI/UX polishing.</li>
</ul>
</blockquote>
<p>If you're using Android, definitely start trying RiotX, you can even <a href="https://play.google.com/store/apps/details?id=im.vector.riotx&amp;rdid=im.vector.riotx">find it in the Play Store</a> now.</p>
<h3 id="riot-web">Riot Web</h3>
<p>From the team:</p>
<blockquote>
<p>Riot v1.3.0 was released with support for reactions and message editing enabled. Check out the <a href="https://medium.com/@RiotChat/%EF%B8%8Fmessage-editing-%EF%B8%8F-reactions-5cffec8f71a2">Riot blog post</a> for more details. No changes are needed to enable these features for self-hosted installs anymore (which is change from what was stated in last week‚Äôs TWIM update).</p>
<p>We‚Äôre continuing to work on several privacy improvements to related to integration managers and identity servers to give users more control over these.</p>
</blockquote>
<h3 id="riot-android">Riot Android</h3>
<p>From the team:</p>
<blockquote>
<p>Riot 0.9.2 has been released on Friday. It contains some bug fixes and new translations for many strings especially for the device verification feature.</p>
</blockquote>
<h3 id="riot-ios">Riot iOS</h3>
<p>From the team:</p>
<blockquote>
<ul>
<li>We released v0.9.1 with message editing, reactions and file upload.</li>
<li>We are continuing to work on reactions (emoji picker).</li>
<li>We have started to implement soft logout.</li>
</ul>
</blockquote>
<h3 id="fluffychat">FluffyChat</h3>
<p><a href="https://matrix.to/#/@krille:chat.regionetz.net">krille</a>:</p>
<blockquote>
<p>In the newest update FluffyChat now supports avatars in Push Notifications. Also translations have been updated and some minor design tweaks have been made.</p>
</blockquote>
<p>I know that E2EE for FluffyChat is continuing to be worked on, just not quite ready yet.</p>
<h3 id="continuum-client-based-on-koma">Continuum, client based on koma</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>, author of <a href="https://github.com/koma-im/koma/">koma</a> and <a href="https://github.com/koma-im/continuum-desktop">Continuum</a>:</p>
<blockquote>
<ul>
<li>Update GUI library openjfx from version 11 to 12</li>
<li>Rewrite build script in Kotlin, replacing Groovy</li>
</ul>
</blockquote>
<h3 id="fractal-gnome-client">Fractal, GNOME client</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> on <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>:</p>
<blockquote>
<p>Several bugs were fixed in the past three weeks. We are also sending typing notifications now. With 4.1.1 out, we‚Äôre at the second beta on the way to 4.2.</p>
</blockquote>
<p>Also:</p>
<blockquote>
<p>some people might be interested in a <a href="https://gitlab.gnome.org/GNOME/fractal/commit/fba59402d37525285042f3ad38a577a225105349">tweak in our build config</a> that makes it so that crashes are aborts now (i.e. you get a trace and they are not silent anymore)</p>
</blockquote>
<h3 id="spectral">Spectral</h3>
<p><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> is changing Spectral's buildsystem from QMake to CMake.</p>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="sendtomatrix-script">sendtomatrix script</h3>
<p><a href="https://matrix.to/#/@madic:geekbundle.org">Madic</a> has created a shell script to send messages to a room:</p>
<blockquote>
<p>I've written a <a href="https://github.com/Madic-/Scripts/tree/master/Linux/sendtomatrix">linux shell script</a> with which you can send (multiline) messages to a matrix room. It only needs a username / password or access token, server fqdn and roomid as argument or provided by a configuration file. Arguments can overwrite settings from the file, for e.g. using same credentials but different channel. If no access token is provided, a new one will be requested and used to send the message. You can use the script for e.g. cronjobs, nagios notifications or ci pipelines. An example for a cronjob and a nagios notification script is also provided.</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/Madic-/Scripts/master/Linux/sendtomatrix/nagios-notification.png" alt="shell script nagios" /></p>
<p>I have ended up with an similar file of my own containing a bunch of commented-out <code>curl</code> lines, but this is a lot cleaner!</p>
<p>You may also recall a similar project: <a href="https://gitlab.com/darnir/matrix-shell-suite">matrix-shell-suite</a> (<a href="https://matrix.to/#/#matrix-shell-suite:matrix.org">#matrix-shell-suite:matrix.org</a>).</p>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="maths-bot-s">Maths bot(s)</h3>
<p><a href="https://matrix.to/#/@thosgood:matrix.org">Tim</a> created a bot for rendering Maths:</p>
<blockquote>
<p>I was told that people here might be interested: I just wrote a small bot that can reply with PNG renderings of maths (<a href="https://github.com/thosgood/matrix-maths-bot">https://github.com/thosgood/matrix-maths-bot</a>)</p>
</blockquote>
<p>and then, <a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> <del>blatantly ripped him off</del> was inspired to create a maubot providing the LaTeX to SVG rendering: <a href="https://github.com/maubot/tex">https://github.com/maubot/tex</a></p>
<h2 id="dept-of-services-rocket">Dept of Services üöÄ</h2>
<h3 id="new-room-for-t2bot-io">New room for t2bot.io</h3>
<p><a href="https://github.com/turt2live">TravisR</a>, who arranges and hosts the various bots and bridges on t2bot.io:</p>
<blockquote>
<p><a href="https://matrix.to/#/#news:t2bot.io">#news:t2bot.io</a> is now a room for people who want to follow along with news about t2bot.io which might be missed in <a href="https://matrix.to/#/#help:t2bot.io">#help:t2bot.io</a>. Stuff like when bridges are updated and new services will be announced in there. <a href="https://matrix.to/#/#status:t2bot.io">#status:t2bot.io</a> is where service stability is addressed during major problems with the service.</p>
</blockquote>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;07&#x2F;12&#x2F;this-week-in-matrix-2019-07-12&#x2F;" title="This Week in Matrix 2019-07-12">This Week in Matrix 2019-07-12</a></h2>
                <span>
                    12.07.2019 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live-riotx">Matrix Live: RiotX</h2>
<iframe src="https://www.youtube.com/embed/eXNBpYOU5gY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Nice! Manu and Benoit, who work on the Riot Mobile, discuss the development status of RiotX.</p>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="synapse">Synapse</h3>
<blockquote>
<p>A bit of everything this week, we‚Äôve made changes to support the upcoming edits and reactions release, worked on soft log out, experimented with improving general perf for small homeservers, landed open tracing support, improved db query load.<br />
Next week we‚Äôll see about landing the small homeserver perf improvements, work on id hashing in sydent, fix some e2ee bugs (made easier to track down with OpenTracing), do some more database performance work and start gradually rolling out the new Sygnal instance.</p>
</blockquote>
<h3 id="construct">Construct</h3>
<p>Jason back on it:</p>
<blockquote>
<p>This week in Matrix, <a href="https://github.com/jevolk/charybdis">Construct</a> made the crazy-loading mode of client sync the default. Crazy-loading is an approach to initial sync that goes beyond lazy-loading for a better UX. It's even backwards compatible with clients that don't support lazy-loading.</p>
<p>Construct also made significant progress on implementing version 3 and 4 rooms during the week. This is nearly complete, and should be ready for testing by the weekend.</p>
</blockquote>
<p>Good to know there is progress with new room versions as more and more rooms start to be moved over to v4. <a href="https://matrix.to/#/#zemos-test:matrix.org">#zemos-test:matrix.org</a> for testing and more info.</p>
<h3 id="dendrite">Dendrite</h3>
<blockquote>
<p>This week we‚Äôve implemented profile retrieval over federation, single event retrieval, room tagging as well as host of bug fixes.<br />
Next week we‚Äôll be looking at state resolution and implementing our latest and greatest algorithm needed by modern room versions.</p>
</blockquote>
<h3 id="this-week-in-ruma">This Week in Ruma</h3>
<p><a href="https://matrix.to/#/@jimmycuadra:matrix.org">Jimmy</a> provided <a href="https://www.ruma.io/news/this-week-in-ruma-2019-07-07/">This Week in Ruma</a>:</p>
<blockquote>
<p>Work continues on the major revamp of ruma-events mentioned in the last update.<br />
...<br />
There are also a few modules that are somewhat blocked on an issue in ring. Some of the types in ruma-events contain types from ruma-signatures which don't implement Clone and PartialEq because they contain types from ring which don't.<br />
...<br />
Rust 1.36 was released, and it includes stabilization of the Future trait, one of the long-awaited building blocks for first-class async support in Rust. [...] the biggest reason for Ruma's development hiatus is waiting for async networking in Rust to mature, and this is one of the final pieces of foundational support we've been waiting for. The remaining pieces are async/await syntax, which is expected in either the next version or the one following it, and finally, waiting for important libraries like Hyper and Tokio, as well as web frameworks, to adopt the new stuff.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üèó</h2>
<h3 id="libquotient-gets-well-known-support">libQuotient gets .well-known support</h3>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>:</p>
<blockquote>
<p>Thanks to <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>, <a href="https://github.com/quotient-im/libQuotient">libQuotient</a> gained support of .well-known - a very useful feature to connect to Modular-hosted homeservers!</p>
<p>Also, the first block of E2EE functionality from <a href="https://matrix.to/#/@aa13q:matrix.org">aa13q</a> has been merged to libQuotient master - so far it's just uploading the keys but receiving messages is already well in the works!</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="mautrix-telegram-v0-6-0">mautrix-telegram v0.6.0</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>:</p>
<blockquote>
<p><a href="https://github.com/tulir/mautrix-telegram">mautrix-telegram</a> v0.6.0 was released. Recent changes include bridging strikethrough, underline and nested formatting to telegram and some bug fixes, including one security fix. <a href="https://github.com/tulir/mautrix-telegram/releases/tag/v0.6.0">Full changelog on GitHub</a>.</p>
<p>Debian 10 was also released recently, which means v0.6 is the last version with Python 3.5 support. Starting from v0.7.0, mautrix-telegram will only support Python 3.6 and up.</p>
</blockquote>
<p><a href="https://github.com/tulir/mautrix-telegram">mautrix-telegram</a> v0.6.0 also includes Native Matrix edit support, message editing between platforms.</p>
<h3 id="matrix-appservice-slack-0-3-0-rc2">matrix-appservice-slack 0.3.0-rc2</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> and the Slack-bridge-gang have announced <a href="https://github.com/matrix-org/matrix-appservice-slack/tree/release-0.3.0">matrix-appservice-slack 0.3.0-rc2</a></p>
<blockquote>
<p>Hi folks, <a href="https://github.com/matrix-org/matrix-appservice-slack">the slack bridge</a> has had another RC release this week 0.3.0-rc2 which has been deployed onto matrix.org :). In other news, we are nearly done with the port of the bridge to Typescript (slated for the 0.4 release) which has allowed us to clean up the codebase significantly and <strong>splat</strong> a lot of bugs.</p>
</blockquote>
<p>I'm for any movement toward TypeScript - seems to be a winner in the JS-world. Says Half-Shot:</p>
<blockquote>
<p>I'm a bit fanatical about Typescript, it's objectively better to write things in TS than JS if you have the freedom to do so. It's also allowed us to keep the bug count down on the <a href="https://github.com/Half-Shot/matrix-appservice-discord">Discord bridge</a>, so I'm starting to look at the other bridges for typescript support too.</p>
</blockquote>
<h3 id="reliable-bridges-gsoc-project-mortar-board">Reliable Bridges GSoC project üéì</h3>
<p>Thanks <a href="https://matrix.to/#/@kai:nasnotfound.de">Kai</a> for this update!</p>
<blockquote>
<p>The new Spec proposal <a href="https://github.com/matrix-org/matrix-doc/pull/2162">MSC2162: Signaling Errors at Bridges</a> landed! It is about adding permanent errors: The ability of bridges to mark events as not delivered to all participants. While there is already code supporting the feature, the Spec process is important for getting everyone on board and finding potential problems with the current approach.</p>
<p>In spite of being a relatively small proposal, there were already a lot of suggestions and directions in which it can evolve. Shoutout and thanks to everyone who already contributed to it with their comments!</p>
<p>Meanwhile on the more practical front a <a href="https://github.com/V02460/matrix-react-sdk/tree/reliable_riot">fork of Riot Web</a> was extended to now support the actual visual display of bridge error markings on messages.</p>
</blockquote>
<p>See it in action:</p>
<p><img src="/blog/img/2019-05-12-bridge_error.png" alt="Bridge Error message" /></p>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="riotx-big-announcement">RiotX big announcement!</h3>
<blockquote>
<ul>
<li>We have released a beta version to the PlayStore on Thursday! You can download (and rate it) here: https://play.google.com/store/apps/details?id=im.vector.riotx . Also feel free to join https://matrix.to/#/#riotx:matrix.org to provide any feedback!</li>
<li>You will find more details about what RiotX can (and cannot yet) do here: https://medium.com/@RiotChat/introducing-the-riotx-beta-for-android-b17952e8f771</li>
<li>Now we are working on fixing bugs, and keep going implementing the missing features</li>
</ul>
</blockquote>
<p>I've been using RiotX a lot lately and find it great - really snappy.</p>
<h3 id="spectral">Spectral</h3>
<p><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>:</p>
<blockquote>
<p><a href="https://gitlab.com/spectral-im/spectral">Spectral</a> supports .well-known now obviously. <em>see <a href="https://github.com/quotient-im/libQuotient">libQuotient</a> update above</em><br />
Also a lot of changes:</p>
<ol>
<li>Bubble shapes for pending events are fixed.</li>
<li>You can set device name when logging in. This becomes important as libQuotient begins to upload one-time device key as part of E2EE implementation.</li>
<li>Markdown is parsed automatically by default, and works with replies.</li>
<li>Small UI improvements in timeline and room list.</li>
</ol>
</blockquote>
<h3 id="continuum">Continuum</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a> has continued work on <a href="https://github.com/koma-im/continuum-desktop">Continuum</a>, a desktop client written in Kotlin:</p>
<blockquote>
<p>Continuum now preserves media content URI (mxc://) internally in order to treat them specially, instead of converting to all URI to http (or https) upon receiving.<br />
This week's version never considers cached mxc resources stale and no network request will be performed for refreshing.<br />
Continuum also loads previews for http image links in text messages automatically. The usual http cache control rules are still followed in those cases.</p>
</blockquote>
<p>Join <a href="https://matrix.to/#/#tkmc:matrix.org">#tkmc:matrix.org</a> to chat more about Continuum, or about <a href="https://github.com/koma-im/koma/">koma</a>, the underlying library.</p>
<h3 id="riot-web">Riot Web</h3>
<blockquote>
<p>Riot v1.3.0-rc.1 is now ready for testing at <a href="https://riot.im/staging">https://riot.im/staging</a>. This includes some last minute polish of reactions and edits, and also adds initial support for soft logout. This release will have reactions and message editing enabled via configuration on riot.im once it stabilises.<br />
Self-hosted installs that wish to do the same would need to alter their config.json in similar fashion. This is because these features currently depend on unstable APIs, and we don't want to move them out of labs and fully on by default until that is resolved.</p>
</blockquote>
<h3 id="riot-ios">Riot iOS</h3>
<blockquote>
<ul>
<li>Reactions and edits:
<ul>
<li>Enabled by default (no more LABS setting)</li>
<li>Reactions with non-unicode keys</li>
<li>Original event in the edit history (need homeserver update)</li>
</ul>
</li>
<li>Upgraded rooms are now autojoined when tapping on the upgraded banner</li>
<li>File upload from the room screen and from the share extension</li>
<li>Crypto: logs have been improved and a script has been created to help to debug e2e bugs (see the screenshot at <a href="https://github.com/matrix-org/matrix-ios-sdk/pull/692">https://github.com/matrix-org/matrix-ios-sdk/pull/692</a>)</li>
<li>This Friday TestFlight can be considered as a release candidate</li>
</ul>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="matrix-docker-ansible-deploy-synapse-janitor-now-available">matrix-docker-ansible-deploy: synapse-janitor now available</h3>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a>:</p>
<blockquote>
<p>Thanks to <a href="https://matrix.to/#/@aaron:raim.ist">Aaron</a>'s frequent mention of <a href="https://github.com/xwiki-labs/synapse_scripts">synapse-janitor</a> and other such cleanup methods, I've finally gotten inspired enough to give it a try.</p>
<p>The playbook now contains a new <strong>Synapse Maintenance</strong> documentation page and an easy/safe way to run <a href="https://github.com/xwiki-labs/synapse_scripts">synapse-janitor</a>.</p>
<p>To give an example, using <a href="https://github.com/xwiki-labs/synapse_scripts">synapse-janitor</a> and a full Postgres <code>VACUUM</code> yielded a 29% reduction in disk space used by Postgres on my personal homeserver (5.3GB -&gt; 3.8GB).</p>
</blockquote>
<p><a href="https://matrix.to/#/@murz:ru-matrix.org">Alexey Murz Korepov</a> also reminded us about <a href="https://github.com/djmaze/synapse-purge">synapse-purge</a>, which we've mentioned here before - but is designed for a similar purpose.</p>
<h3 id="avhost-docker-matrix">avhost/docker-matrix</h3>
<p><a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a>:</p>
<blockquote>
<p>the <a href="https://hub.docker.com/r/avhost/docker-matrix/tags">avhost/docker-matrix</a> image has moved to a debian buster base image, which got us an upgrade from python 3.5 to python 3.7.3 and jemalloc1 to jemalloc2, which should improve the performance of synapse.</p>
</blockquote>
<h2 id="dept-of-articles-memo">Dept of Articles üìù</h2>
<p><a href="https://matrix.to/#/@kevin:potatofrom.space">Pneumaticat</a>: &quot;wrote a <a href="https://blog.scintillating.us/2019/07/11/the-making-of-delphus-chat-matrix-ethereum-end-to-end-encryption/">blog post on integrating Riot chat with our dapp &amp; scientific research auditing platform, Delphus</a>!&quot;</p>
<h2 id="final-thoughts-thought-balloon">Final thoughts üí≠</h2>
<p>I had/stole the idea to create a bot which uses message edits to send frames of an ASCII-art animation. I indeed created the bot, which works to a degree, but is quickly punished by rate-limiting, which limits the effectiveness. Still it's quite fun, you can <a href="https://github.com/benparsons/matrix-ascii-bot">check out the code here</a>.</p>
<p><a href="https://github.com/turt2live">TravisR</a>'s work on <a href="https://github.com/turt2live/matrix-bot-sdk">matrix-bot-sdk</a> is interesting for bot or other client devs, and there is a new guide available: <a href="http://matrix.org/docs/guides/usage-of-matrix-bot-sdk">http://matrix.org/docs/guides/usage-of-matrix-bot-sdk</a></p>
<p>A few weeks ago I mentioned <a href="https://play.matrix.org/matrix-enact/">matrix-enact</a>, which uses Web Audio API to play back room history. There is a guide to how it was built, looking at the <code>/context</code> endpoint now available: <a href="https://matrix.org/docs/guides/creating-a-simple-read-only-matrix-client">https://matrix.org/docs/guides/creating-a-simple-read-only-matrix-client</a></p>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> &quot;bridged <a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a> to #matrix-synapse on freenode to help folks who might be experiencing issues with their homeserver and need a IRC based support channel&quot;</p>
<p><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> made a cool-looking thing: &quot;It basically shows all pictures in <a href="https://matrix.to/#/#TWIM:matrix.org">this room</a> in a waterfall, with 'infinite scroll'&quot;</p>
<p><img src="/blog/img/2019-05-12-waterfall.png" alt="Bridge Error message" /></p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;07&#x2F;05&#x2F;this-week-in-matrix-2019-07-05&#x2F;" title="This Week in Matrix 2019-07-05">This Week in Matrix 2019-07-05</a></h2>
                <span>
                    05.07.2019 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live-featuring-erik-and-the-interns">Matrix Live, featuring Erik and the Interns üéô</h2>
<iframe src="https://www.youtube.com/embed/qPIZSarU9zE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Thanks Erik, Jorik and Oliver!</p>
<p>Note that there is a audio hiccup around 2m30 - video is ok otherwise.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<h3 id="highlights">Highlights</h3>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2140">MSC2140: Terms of Service for ISes and IMs</a>
<ul>
<li>Largely complete</li>
</ul>
</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2134">MSC2134: Identity Hash Lookups</a>
<ul>
<li>Largely complete</li>
<li>Going ahead with the simple hash lookup method</li>
</ul>
</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2154">Matthew/msc1849 rewrite</a>
<ul>
<li>Rewrite of the <a href="https://github.com/matrix-org/matrix-doc/pull/1849">Proposal for m.relates_to aggregations</a> MSC with new updates</li>
</ul>
</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2153">MSC2153: Add a default push rule to ignore m.reaction events</a>
<ul>
<li>Will help prevent ghost notifications appearing when a reaction is the last event in the room</li>
</ul>
</li>
</ul>
<h3 id="movement-on-matrix-uris">Movement on Matrix URIs</h3>
<p>Sudden interest in <a href="https://github.com/matrix-org/matrix.to/pull/47">matrix-org/matrix.to/pull#47</a> means we're getting a lot closer to agreement on Matrix URIs. <a href="https://matrix.to/#/@kitsune:matrix.org">Kitsune</a> even added support for them in <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> (see below).</p>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite">Dendrite</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a>:</p>
<blockquote>
<p>Dendrite continues marching forward! As more attention is turned towards our fairly lengthy PR list, contributors who have not done so already are reminded to merge Dendrite's master branch into their PRs, as converting the project to go modules caused a lot of conflicts. A tag has been added to each PR that needs forward merging, <a href="https://github.com/matrix-org/dendrite/pulls?q=is%3Apr+is%3Aopen+label%3Aneeds-merge-foward">visible here</a>.</p>
<p>Our GSoC student <a href="https://matrix.to/#/@cnly:matrix.org">cnly</a> has been working away on <a href="https://github.com/matrix-org/dendrite/pull/726">implementing profile retrieval over federation</a> as well as updating his <a href="https://github.com/matrix-org/dendrite/pulls/Cnly">various other PRs</a> and would likely have a lot more if they were getting more reviews, but worry not as things look on track for that next week.</p>
<p>We've also got plans now! Plans for how to properly ship this thing over the coming months so look out for that soon!</p>
</blockquote>
<h3 id="synapse-1-1-0-released">Synapse 1.1.0 released</h3>
<blockquote>
<p>This week we <a href="https://matrix.org/blog/2019/07/04/synapse-1-1-0-released">shipped v1.1.0</a>, which provides an overhaul of docker configuration, more authentication options and improved db io. It‚Äôs worth noting that v1.1.0 is the first Synapse release to drop support for Python 2 (and Postgres 9.4), this paves the way for using Python 3 only functionality.</p>
<p>We‚Äôve been working on supporting soft logout, more edits and reactions support, open tracing support not to mention a complete rewrite of the push server Sygnal. We‚Äôll be rolling out new Sygnal gradually over the next week or two.</p>
<p>Finally, aided by dropping Python 2 support, we‚Äôve been putting in a bunch of work to improve Synapse in resource constrained environments. This will be a constant theme over the coming months.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üèó</h2>
<h3 id="python-matrixbot">python-matrixbot</h3>
<p><a href="https://matrix.to/#/@blacksam:matrix.gibberfish.org">Brian √ì</a> appeared to tell us about <a href="https://pypi.org/project/python-matrixbot/">python-matrixbot</a>. This is a project that has existed for some time.</p>
<blockquote>
<p>A Python module meant to act as a base class for a Matrix bot.<br />
The MatrixBot class will connect to the Matrix server, start a listener on each joined room, and listen for room invites from other users. It also includes helper methods you can use to extend the functionality. It is built on the <a href="https://github.com/matrix-org/matrix-python-sdk">Matrix Python SDK</a> which can be directly accessed via MatrixBot.client</p>
</blockquote>
<h3 id="koma">koma</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>:</p>
<blockquote>
<p><a href="https://github.com/koma-im/koma-library">koma</a> got some improvements, based on what's learned developing Continuum, which is a desktop client based on it.</p>
<ul>
<li>Make api calls suspendable functions (which are like Kotlin's flavor of async). This way, the caller don't need to worry about forgetting to call await or a coroutine being left unstarted.</li>
<li>Borrowing from functional programming, model the outcome of a call as a discriminated union, which can be either a success or a failure. The successful case is optimized with inline classes, an experimental feature in Kotlin 1.3, and wrapping is avoided.</li>
<li>Make MatrixError a subclass of HttpError, because the http status code can be handy</li>
</ul>
</blockquote>
<h3 id="ruby-sdk">Ruby SDK</h3>
<p><a href="https://github.com/ananace/">Ananace</a>:</p>
<blockquote>
<p>Just released version 1.2.1 of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby SDK</a>, fixing an error in the media download URL generation</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="matrix-appservice-bridge-release-1-9-0">matrix-appservice-bridge release 1.9.0</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> was seen to exist IRL this week, he also found time for a new release:</p>
<blockquote>
<p>Today we have a new <a href="https://github.com/matrix-org/matrix-appservice-bridge/releases/tag/1.9.0">matrix-appservice-bridge release 1.9.0</a>. The bigname feature this week is a new store for mapping matrix events to remote ones, so bridges can handle changes made to sent events like reactions/threading/edits/redactions :). The reason for this feature appearing suddenly will become clear very soon.. üòà</p>
</blockquote>
<h3 id="mx-puppet-bridge-inc-slack-tox-discord">mx-puppet-bridge (inc slack, tox, discord)</h3>
<blockquote>
<p>Another week, which means more work on the mx-puppet-bridge ecosystem! A new &gt; bridge has been added, mx-puppet-discord. Soru finally added license files &gt; (Apache-2-0) and some readmes.</p>
<h4 id="mx-puppet-bridge"><a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a></h4>
<ul>
<li>bugfixes</li>
<li>implement optional double-puppeting (also logging into your matrix acc)</li>
<li>relate remote event IDs to matrix event IDs</li>
<li>handle edits in both directions</li>
<li>handle redactions in both directions</li>
<li>initiating conversations from matrix! Invite a ghost for 1:1 or follow a &gt; room alias for rooms</li>
<li>bot provisioning: list users and rooms</li>
</ul>
<h4 id="mx-puppet-slack"><a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-slack</a></h4>
<ul>
<li>add linting</li>
<li>map channels and slack pills</li>
<li>handle message edits</li>
<li>handle message deletions</li>
<li>properly handle /me messages</li>
<li>handle ghost invites</li>
<li>handle room joins via alias</li>
</ul>
<h4 id="mx-puppet-tox"><a href="https://github.com/Sorunome/mx-puppet-tox">mx-puppet-tox</a></h4>
<ul>
<li>add linting</li>
<li>improve bootstrapping</li>
<li>improve file transfers</li>
<li>handle ghost invites</li>
</ul>
<h4 id="mx-puppet-discord"><a href="https://github.com/matrix-discord/mx-puppet-discord">mx-puppet-discord</a></h4>
<p>This is the new puppeting bridge! The idea is that, in the long run, this will &gt; be run in conjunction with <a href="https://github.com/">matrix-appservice-discord</a> Half-Shot/matrix-appservice-discord), where mx-puppet-discord handles DM &gt; puppeting and matrix-appservice-discord the remaining. For this, the message &gt; parsing was split in a new repository, <a href="https://github.com/matrix-discord/matrix-discord-parser">matrix-discord-parser</a>. The idea is that, in the &gt; future, when inviting a ghost on matrix-appservice-discord it'll initiate &gt; conversation within mx-puppet-discord</p>
<ul>
<li>basic text messages</li>
<li>handle files</li>
<li>handle edits, deletes</li>
</ul>
<p>mx-puppet-discord does only DMs, for non-DMs please use matrix-appservice-discord</p>
<p>If you have any questions for any of these, please join our channel &gt; <a href="https://matrix.to/#/#mx-puppet-bridge:sorunome.de">#mx-puppet-bridge:sorunome.de</a>. Software doesn't write itself, please consider &gt; <a href="https://liberapay.com/Sorunome/donate">donating on liberapay</a>!</p>
</blockquote>
<h3 id="matrix-appservice-slack">matrix-appservice-slack</h3>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> and <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> have been doing substantial work on <a href="https://github.com/matrix-org/matrix-appservice-slack">matrix-appservice-slack</a>.</p>
<blockquote>
<p>We've got a dedicated room for slack bridge development over at <a href="https://matrix.to/#/#matrix_appservice_slack:cadair.com">#matrix_appservice_slack:cadair.com</a>, since it's picked up in terms of community PRs and general interest. It's not currently being used as a support room, however.</p>
</blockquote>
<p>They mention,</p>
<blockquote>
<p>warning may contain ranting about the codebase</p>
</blockquote>
<p>But that could be any room, so it seems ok to me.</p>
<p><code>WARNING: LATE ADDITION</code></p>
<blockquote>
<p>Hi everyone! <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Myself</a> and <a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> have been working hard on a new Slack bridge release, and we are finally ready to push out a release candidate for <strong>0.3</strong>.</p>
<p>The headline features are:</p>
<ul>
<li>Implement message deletion.</li>
<li>Add support for edits.</li>
<li>Add support for reactions.</li>
<li>Add support for threading (using replies).</li>
<li>Support displayname and avatar lookups for Slack bots.</li>
<li>Replace channel mentions with canonical aliases for bridged rooms.</li>
<li>Support for slack attachments (Thanks @umitalp for the initial groundwork and @Cadair for the cleanup)</li>
</ul>
<p>The new release is having very final minute checks, and will be available at <a href="https://github.com/matrix-org/matrix-appservice-slack/releases">https://github.com/matrix-org/matrix-appservice-slack/releases</a> shortly.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="riotx-android">RiotX (Android)</h3>
<blockquote>
<p>After an internal release, we are working on improving the performance, especially for initial sync and for navigation between rooms.<br />
Also we are fighting bugs.</p>
</blockquote>
<h3 id="pattle-0-9-0-and-testflight-available">Pattle 0.9.0 and Testflight available</h3>
<p><a href="https://matrix.to/#/@wilko:matrix.org">Wilko</a>:</p>
<blockquote>
<p>A new version of Pattle has been pushed to F-droid and TestFlight!</p>
<p>Changes:</p>
<ul>
<li>Fix the infamous <code>FormatException: Not a valid url: </code> error!</li>
<li>Room upgrades are now handled!
<ul>
<li>Upgraded rooms are now hidden from the overview</li>
<li>To access older messages from the previous room, simply scroll up: the timeline is seamless</li>
</ul>
</li>
<li>Improve performance of loading the overview.
Opening the app should be a lot quicker now!</li>
<li>Improve performance of loading a chat</li>
<li>Add ability to swipe through images in a chat (thanks to Nathan van Beelen!)
<a href="https://git.pattle.im/pattle/app/raw/v0.9.0/CHANGELOG/0.9.0.webm"><strong>See preview here!</strong></a></li>
</ul>
</blockquote>
<p>Get Pattle from F-droid for Android by adding this repo:</p>
<p><code>https://fdroid.pattle.im/?fingerprint=E91F63CA6AE04F8E7EA53E52242EAF8779559209B8A342F152F9E7265E3EA729</code></p>
<p>APK also in assets of this release.</p>
<p>For iOS: <a href="https://testflight.apple.com/join/uTytydST">join TestFlight here</a></p>
<p>Report issues to <a href="https://git.pattle.im/pattle/app/issues">the repo</a>, you can <a href="https://git.pattle.im/users/sign_in">login via GitHub and Gitlab.com</a>.</p>
<blockquote>
<p>Follow development in <a href="https://matrix.to/#/#app:pattle.im">#app:pattle.im</a>!</p>
</blockquote>
<p>To support Wilko: you can now do so via <a href="https://liberapay.com/wilko/">Liberapay</a> and <a href="https://www.patreon.com/pattle_app">Patreon</a>.</p>
<blockquote>
<p>I've invested a lot of money in making Pattle happen
on iOS: MacBook, Apple Developer Program, and an iPhone.
Pretty costly, so any donations will be greatly appreciated!</p>
<p>What to expect in the next release:</p>
<ul>
<li>Fix timeline jump issues</li>
<li>Remove redundant state messages when a room is upgraded</li>
<li>Start work on chat details screen (members, change name, etc.)</li>
</ul>
</blockquote>
<h3 id="quaternion-now-with-matrix-uri-support">Quaternion now with Matrix URI support</h3>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>:</p>
<blockquote>
<p>to push things forward on Matrix URIs front, <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> master branch now supports matrix:user/userid, matrix:room/roomalias and matrix:roomid/roomid URIs. For example, Quotient/Quaternion room can be opened by a link <a href="matrix:room/quotient:matrix.org">matrix:room/quotient:matrix.org</a>.</p>
</blockquote>
<p>This will be so much easier to use! Also:</p>
<blockquote>
<p>Quaternion has got a new contributor, Roland Pallai (https://github.com/rpallai), who added colouring of messages sent by the local user and support of drag-n-drop of text and images on <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a>, along with general improvements on the timeline. Many thanks!</p>
<p>Windows builds of Quaternion (CI and future releases) come with Qt Keychain enabled, storing your access tokens in Windows secure storage.</p>
</blockquote>
<h3 id="spectral-news">Spectral news</h3>
<p><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>:</p>
<blockquote>
<p>A lot of improvements have been added to <a href="https://gitlab.com/spectral-im/spectral">Spectral</a> last week.</p>
<ol>
<li>Spectral uses QtKeychain now. Access tokens are stored in system keychain instead of in plain text.</li>
<li>Room list's filter has a better UX(aka TabBar). Switching between rooms and DMs is now as easy as switching between, well, tabs.</li>
<li>Notification count in system tray icon, implementation modified from nheko.</li>
<li>Display initial sync progress. Some people have been complaining about not knowing the progress of initial sync so I added an indicator.</li>
<li>A <em>better</em> room setting page. Specifically displaying aliases and changing room avatar are working.</li>
<li>Big emojis.</li>
<li>Typing indicator UI is tweaked and looks better.</li>
</ol>
</blockquote>
<h3 id="riot-ios">Riot iOS</h3>
<blockquote>
<ul>
<li>Reactions in e2e rooms</li>
<li>‚ÄúShow all‚Äù button when there are too many reactions</li>
<li>Support edition of emotes and replies</li>
<li>Edits history (even in e2e rooms)</li>
<li>Fix joining new upgraded room through federation</li>
<li>Use via parameters to join a new room (useful in case of federation)</li>
</ul>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<blockquote>
<ul>
<li>Allow resending edits, reactions and redactions through context menu, also better visualization of send errors.</li>
<li>Allow redacting and viewing source of edits in edit history dialog</li>
</ul>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="k8s">K8s</h3>
<p><a href="https://github.com/ananace/">Ananace</a>:</p>
<blockquote>
<p>Bumped the <a href="https://github.com/ananace/matrix-synapse">K8s optimized Docker image</a> to 1.1.0, with the same dropping of Python 2 and Postgres 9.4 support as the official image.<br />
NB: The upstream docker configuration changes do not affect the K8s-optimized image, no configuration change is necessary to upgrade from 1.0.0 to 1.1.0</p>
</blockquote>
<h3 id="avhost-docker-matrix-image">avhost/docker-matrix image</h3>
<p><a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a>:</p>
<blockquote>
<p>As announced last week, with the release of synapse 1.1.0 the <a href="https://hub.docker.com/r/avhost/docker-matrix">avhost/docker-matrix image</a> switched to running synapse with jemalloc by default</p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services üöÄ</h2>
<h3 id="modular-im-starting-to-make-small-instances-available">modular.im starting to make Small instances available</h3>
<p><a href="https://www.modular.im/">modular.im</a> are making the <em>much-asked-for</em> SMALL instances available. This service is rolling out starting with people who have previously enquired about availability, which I gather is a lot of people. Go sign up if you're interested!</p>
<blockquote>
<p lang="en" dir="ltr">The wait is almost over ... We're now rolling out our trial of Small Hosted Homeservers for Matrix. Have you got your golden ticket yet? üòÄüéüÔ∏è <a href="https://t.co/iUkAIHW9MY">pic.twitter.com/iUkAIHW9MY</a></p>&mdash; Modular (@ModularIM) <a href="https://twitter.com/ModularIM/status/1146477464488730624?ref_src=twsrc%5Etfw">July 3, 2019</a>
</blockquote>
<blockquote>
<p>we've been working on a v1 admin dashboard for managing your Synapse instances through Modular. This is now live on the site and provides a basic suite of functionality including:</p>
<ul>
<li>Viewing users of your synapse homeserver(s)</li>
<li>Creating users</li>
<li>Deleting users</li>
<li>Resetting user passwords</li>
<li>Viewing user profile and server access / activity</li>
<li>Sending messages to all system users as the system alerts user</li>
<li>Information about the synapse instance versions</li>
</ul>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final thoughts üí≠</h2>
<p><a href="https://github.com/ananace/">Ananace</a> is &quot;continuing the rewrite of <a href="https://github.com/ananace/matrix-releasetracker">the release tracker project</a>. Working towards getting it to only store state in Matrix so it can be run in a read-only environment like a K8s deployment.&quot;</p>
<p><a href="https://matrix.to/#/@lino:m.l1f.de">lino</a> &quot;wrote a <a href="https://github.com/l1f/riot-console/blob/master/riot.py">script to update riot</a>. It also works so far, but still needs some improvements&quot;</p>
<p><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> has been working &quot;to add .well-known support for <a href="https://github.com/quotient-im/libQuotient">libQuotient</a>&quot; - presumably this will come back to be used in <a href="https://gitlab.com/spectral-im/spectral">Spectral</a> when it's ready.</p>
<p>Somehow I had a tab open with a <a href="https://github.com/dvdgsng/UrbanMaubot">maubot for Urban Dictionary</a>.</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;07&#x2F;03&#x2F;usage-of-matrix-nio&#x2F;" title="Usage of matrix-nio (Python Sans IO)">Usage of matrix-nio (Python Sans IO)</a></h2>
                <span>
                    03.07.2019 00:00
                    ‚Äî
                    <a href="/category/tutorials">
                        Tutorials
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <p><em>Canonical version of this article at <a href="https://matrix.org/docs/guides/usage-of-matrix-nio">https://matrix.org/docs/guides/usage-of-matrix-nio</a></em></p>
<p>This article concerns <a href="https://github.com/poljar/matrix-nio">matrix-nio</a>, and <a href="https://docs.python.org/3/library/asyncio.html">asyncio</a>. We'll build a simple &quot;echo bot&quot;, meaning a bot which replies to messages with the text it has just read. Note that this article does not cover E2EE with matrix-nio.</p>
<h2 id="instantiation-and-login">Instantiation and Login</h2>
<p>First create a new venv, and install matrix-nio via <code>pip</code>. On the command line, run:</p>
<pre data-lang="sh" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-sh "><code class="language-sh" data-lang="sh"><span>python3 -m venv env
</span><span>source env/bin/activate
</span><span>pip install matrix-nio
</span></code></pre>
<p>Next, create a new Python file, and open it for editing. We'll import everything we require for this tutorial:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#9b9b9b;">from </span><span>importlib </span><span style="color:#9b9b9b;">import </span><span>util
</span><span style="color:#9b9b9b;">import </span><span>asyncio
</span><span style="color:#9b9b9b;">from </span><span>nio </span><span style="color:#9b9b9b;">import </span><span>(AsyncClient, SyncResponse, RoomMessageText)
</span></code></pre>
<p>We're importing asyncio so we can use the <code>AsyncClient</code> class from matrix-nio.</p>
<p>Create a new instance of <code>AsyncClient</code> by passing the homeserver and username as arguments:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span>async_client = AsyncClient(
</span><span>    </span><span style="color:#d69d85;">&quot;https://matrix.org&quot;</span><span>, </span><span style="color:#d69d85;">&quot;</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">YOUR-USERNAME-HERE</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">&quot;
</span><span>)
</span></code></pre>
<p>Then login, and await the response:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span>response = </span><span style="color:#569cd6;">await </span><span>async_client.login(</span><span style="color:#d69d85;">&quot;</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">YOUR-PASSWORD-HERE</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">&quot;</span><span>)
</span><span>print(response)
</span></code></pre>
<p>Of course, we are using an async client, and awaiting the response. Because of this, we must call the <code>async_client.login()</code> from an async method, like so:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#569cd6;">async def </span><span>main():
</span><span>    response = </span><span style="color:#569cd6;">await </span><span>async_client.login(</span><span style="color:#d69d85;">&quot;</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">YOUR-PASSWORD-HERE</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">&quot;</span><span>)
</span><span>    print(response)
</span><span>
</span><span>asyncio.run(main())
</span></code></pre>
<p>Note that for versions of Python before 3.7 the asyncio syntax must be:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#569cd6;">async def </span><span>main():
</span><span>    response = </span><span style="color:#569cd6;">await </span><span>async_client.login(</span><span style="color:#d69d85;">&quot;</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">YOUR-PASSWORD-HERE</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">&quot;</span><span>)
</span><span>    print(response)
</span><span>
</span><span>loop = asyncio.get_event_loop()
</span><span>loop.run_until_complete(main())
</span></code></pre>
<p>The remainder of this tutorial assumes you are running everything from an <code>async</code> method.</p>
<p>The response string should look like:</p>
<pre data-lang="sh" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-sh "><code class="language-sh" data-lang="sh"><span>Logged in as @pyconweb-bot:matrix.org, device id: ZBLAJHLKVP.
</span></code></pre>
<h2 id="get-into-a-sync-loop">Get into a <code>/sync</code> loop</h2>
<p>To get updates from a Matrix homeserver to the client, the client makes a request to the <code>/sync</code> endpoint. In the matrix-nio AsyncClient, this is wrapped by the <code>sync()</code> method. We can get the latest updates:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span>sync_response = </span><span style="color:#569cd6;">await </span><span>async_client.sync(</span><span style="color:#b5cea8;">30000</span><span>)
</span></code></pre>
<p>30000 means we will wait up to 30 seconds before returning. <code>sync_response</code> will now contain a Python object containing a mapping of the (JSON) <a href="https://matrix.org/docs/spec/client_server/latest#get-matrix-client-r0-sync">response from the Matrix homeserver</a>. We'll inspect this response in the next section.</p>
<p>In fact, we expect there to be updates regularly, so let's create a very simple loop:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#569cd6;">while </span><span>(</span><span style="color:#569cd6;">True</span><span>):
</span><span>    sync_response = </span><span style="color:#569cd6;">await </span><span>async_client.sync(</span><span style="color:#b5cea8;">30000</span><span>)
</span><span>    print(sync_response) </span><span style="color:#608b4e;"># note that this could be LARGE!
</span><span>    </span><span style="color:#608b4e;"># do some reading from sync_response
</span></code></pre>
<p>In this way, every time there is a response (i.e. new events) from the homeserver, they are made available in <code>sync_response</code> for processing, and we loop again.</p>
<h2 id="explore-the-sync-response-object">Explore the sync response object</h2>
<p><code>sync_response</code> <a href="https://matrix.org/docs/spec/client_server/latest#get-matrix-client-r0-sync">can contain multitudes</a>, depending on the rooms this user is part of, or has been part of. <code>sync_response.rooms.join</code> contains updates for the rooms which the current user is &quot;joined to&quot; (meaning, is a member of.)</p>
<p>Of these joined rooms, we are (perhaps!) most interested in the events on the timeline. These are stored in <code>timeline.events</code>, see below:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#569cd6;">if </span><span>len(sync_response.rooms.join) &gt; </span><span style="color:#b5cea8;">0</span><span>:
</span><span>
</span><span>    joins = sync_response.rooms.join
</span><span>    </span><span style="color:#569cd6;">for </span><span>room_id </span><span style="color:#569cd6;">in </span><span>joins:
</span><span>        </span><span style="color:#569cd6;">for </span><span>event </span><span style="color:#569cd6;">in </span><span>joins[room_id].timeline.events:
</span><span>            print(event)
</span></code></pre>
<p><em>Message events</em> are a specific type of event which contain an Instant Messenger message. We can check the type before proceeding:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#569cd6;">for </span><span>event </span><span style="color:#569cd6;">in </span><span>joins[room_id].timeline.events:
</span><span>    </span><span style="color:#569cd6;">if </span><span>isinstance(event, RoomMessageText):
</span><span>        print (event.body)
</span></code></pre>
<p>In these cases, where the event is a message to a room, the <code>body</code> field will contain the message text.</p>
<h2 id="isolate-specific-message-event-objects">Isolate specific message event objects</h2>
<p>Knowing that we can get the message text from an event, we can read it to determine a response. Let's make a new variable and have it store some string we'll check for:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span>response_string = </span><span style="color:#d69d85;">&quot;!replybot&quot;
</span></code></pre>
<p>Now let's suppose we're in our <code>/sync</code> loop, and just received an event. We can filter messages that are meant for our bot as follows:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#569cd6;">if </span><span>len(sync_response.rooms.join) &gt; </span><span style="color:#b5cea8;">0</span><span>:
</span><span>    joins = sync_response.rooms.join
</span><span>    </span><span style="color:#569cd6;">for </span><span>room_id </span><span style="color:#569cd6;">in </span><span>joins:
</span><span>        </span><span style="color:#569cd6;">for </span><span>event </span><span style="color:#569cd6;">in </span><span>joins[room_id].timeline.events:
</span><span>            </span><span style="color:#569cd6;">if </span><span>hasattr(event, </span><span style="color:#d69d85;">&#39;body&#39;</span><span>) </span><span style="color:#569cd6;">and </span><span>event.body.startswith(response_string):
</span><span>                print(event)
</span></code></pre>
<h2 id="use-room-send">Use <code>room_send</code></h2>
<p>To send messages, matrix-nio provides a <code>room_send()</code> method. There are three arguments:</p>
<ul>
<li>the room_id</li>
<li>the message type, we will use &quot;m.room.message&quot;</li>
<li>a JSON object representing the content of the message</li>
</ul>
<p>Let's improve the example above, by sending back a message to echo the ones we isolated above:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span>joins = sync_response.rooms.join
</span><span style="color:#569cd6;">for </span><span>room_id </span><span style="color:#569cd6;">in </span><span>joins:
</span><span>    </span><span style="color:#569cd6;">for </span><span>event </span><span style="color:#569cd6;">in </span><span>joins[room_id].timeline.events:
</span><span>        </span><span style="color:#569cd6;">if </span><span>hasattr(event, </span><span style="color:#d69d85;">&#39;body&#39;</span><span>) </span><span style="color:#569cd6;">and </span><span>event.body.startswith(response_string):
</span><span>            response_body = event.body.replace(response_string, </span><span style="color:#d69d85;">&quot;&quot;</span><span>).strip()
</span><span>            content = {
</span><span>               </span><span style="color:#d69d85;">&quot;body&quot;</span><span>: response_body,
</span><span>               </span><span style="color:#d69d85;">&quot;msgtype&quot;</span><span>: </span><span style="color:#d69d85;">&quot;m.text&quot;
</span><span>            }
</span><span>            </span><span style="color:#569cd6;">await </span><span>async_client.room_send(room_id, </span><span style="color:#d69d85;">&#39;m.room.message&#39;</span><span>, content)
</span></code></pre>
<p>Now whenever the bot receives a message &quot;!replybot <em>some message</em>&quot; it will send back &quot;some message&quot;.</p>
<h2 id="use-of-sync-next-batch-tokens">Use of /sync next_batch tokens</h2>
<p>Finally, let's consider the importance of <code>next_batch</code> tokens. Whenever you receive a response from the <code>/sync</code> endpoint, the response will contain a &quot;next_batch&quot; field, which you then pass on the next request to ensure you have the latest messages. matrix-nio keeps track of this automatically, so it doesn't get repeated messages. However, when you stop the program and call the <code>.sync()</code> method again, how can you tell it where to start from? First let's get the latest <code>next_batch</code> token:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#569cd6;">async def </span><span>main():
</span><span>    response = </span><span style="color:#569cd6;">await </span><span>async_client.login(</span><span style="color:#d69d85;">&quot;</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">YOUR-USERNAME-HERE</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">&quot;</span><span>, </span><span style="color:#d69d85;">&quot;&quot;</span><span>)
</span><span>
</span><span>    </span><span style="color:#569cd6;">while </span><span>(</span><span style="color:#569cd6;">True</span><span>):
</span><span>        sync_response = </span><span style="color:#569cd6;">await </span><span>async_client.sync(</span><span style="color:#b5cea8;">30000</span><span>)
</span><span>        print(sync_response.next_batch) </span><span style="color:#608b4e;"># this is the token
</span></code></pre>
<p>Then we'll write the token to a file:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#569cd6;">async def </span><span>main():
</span><span>    response = </span><span style="color:#569cd6;">await </span><span>async_client.login(</span><span style="color:#d69d85;">&quot;</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">YOUR-USERNAME-HERE</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">&quot;</span><span>, </span><span style="color:#d69d85;">&quot;&quot;</span><span>)
</span><span>
</span><span>    </span><span style="color:#569cd6;">while </span><span>(</span><span style="color:#569cd6;">True</span><span>):
</span><span>        sync_response = </span><span style="color:#569cd6;">await </span><span>async_client.sync(</span><span style="color:#b5cea8;">30000</span><span>)
</span><span>
</span><span>        </span><span style="color:#608b4e;"># we write the token to a file here
</span><span>        </span><span style="color:#569cd6;">with </span><span>open(</span><span style="color:#d69d85;">&quot;next_batch&quot;</span><span>,</span><span style="color:#d69d85;">&quot;w&quot;</span><span>) </span><span style="color:#569cd6;">as </span><span>next_batch_token:
</span><span>            next_batch_token.write(sync_response.next_batch)
</span></code></pre>
<p>Once that token is written, we know we can re-use it for the first <code>/sync/</code> request next time:</p>
<pre data-lang="python" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#569cd6;">async def </span><span>main():
</span><span>    response = </span><span style="color:#569cd6;">await </span><span>async_client.login(</span><span style="color:#d69d85;">&quot;</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">YOUR-USERNAME-HERE</span><span style="color:#b4cea8;">%%</span><span style="color:#d69d85;">&quot;</span><span>, </span><span style="color:#d69d85;">&quot;&quot;</span><span>)
</span><span>
</span><span>    </span><span style="color:#608b4e;"># we read the previously-written token...
</span><span>    </span><span style="color:#569cd6;">with </span><span>open (</span><span style="color:#d69d85;">&quot;next_batch&quot;</span><span>,</span><span style="color:#d69d85;">&quot;r&quot;</span><span>) </span><span style="color:#569cd6;">as </span><span>next_batch_token:
</span><span>        </span><span style="color:#608b4e;"># ... and well async_client to use it
</span><span>        async_client.next_batch = next_batch_token.read()
</span><span>
</span><span>    </span><span style="color:#569cd6;">while </span><span>(</span><span style="color:#569cd6;">True</span><span>):
</span><span>        sync_response = </span><span style="color:#569cd6;">await </span><span>async_client.sync(</span><span style="color:#b5cea8;">30000</span><span>)
</span><span>        </span><span style="color:#569cd6;">with </span><span>open(</span><span style="color:#d69d85;">&quot;next_batch&quot;</span><span>,</span><span style="color:#d69d85;">&quot;w&quot;</span><span>) </span><span style="color:#569cd6;">as </span><span>next_batch_token:
</span><span>            next_batch_token.write(sync_response.next_batch)
</span></code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>With this, you can see that in very few lines, it's possible to write a working Matrix bot in Python, using <a href="https://github.com/poljar/matrix-nio">matrix-nio</a>.</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;06&#x2F;28&#x2F;this-week-in-matrix-2019-06-28&#x2F;" title="This Week in Matrix 2019-06-28">This Week in Matrix 2019-06-28</a></h2>
                <span>
                    28.06.2019 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<p>Matthew &amp; Amandine talk to Ross Schulman; new Matrix.org Foundation Guardian!</p>
<iframe src="https://www.youtube.com/embed/eUA7nPEy0ig" frameBorder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°</h2>
<h3 id="hottest-govtech-startup-in-europe-at-the-europas-tech-awards">Hottest GovTech Startup in Europe at The Europas tech awards</h3>
<p>New Vector won <a href="https://theeuropas2019.thepathfounder.com/page/1409435/finalists">Hottest GovTech Startup in Europe</a> at The Europas tech awards last night for work on rolling out Matrix for France and elsewhere!</p>
<p>It was mainly judge-based, but public votes were used to filter.</p>
<blockquote>
<p lang="en" dir="ltr">We're super proud to have won the hottest Gov/Reg/Civic Tech startup at <a href="https://twitter.com/TheEuropas?ref_src=twsrc%5Etfw">@TheEuropas</a> for creating self-sovereign secure communications on top of <a href="https://twitter.com/matrixdotorg?ref_src=twsrc%5Etfw">@matrixdotorg</a> for the Public Sector - particularly with <a href="https://twitter.com/_DINSIC?ref_src=twsrc%5Etfw">@_DINSIC</a> and <a href="https://twitter.com/tchap_dinsic?ref_src=twsrc%5Etfw">@tchap_dinsic</a>! (So proud we created a twitter account at last :D) <a href="https://t.co/PGqoHx007T">pic.twitter.com/PGqoHx007T</a></p>&mdash; New Vector (@NewVectorHQ) <a href="https://twitter.com/NewVectorHQ/status/1144383786303524869?ref_src=twsrc%5Etfw">June 27, 2019</a>
</blockquote>
<h3 id="rust-embedded-community-is-moving-to-matrix">Rust Embedded community is moving to Matrix</h3>
<p>They held a public vote, and Matrix won <a href="https://github.com/rust-embedded/wg/issues/357">very convincingly</a>.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<blockquote>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2134">MSC2134</a> Identity Hash Lookups is making steady progress
<ul>
<li>Readers who like crypto/hashing are encouraged to join in the fun</li>
</ul>
</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2140">MSC2140</a> Terms of Service for ISes and IMs is nearing a conclusion</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2108">MSC2108</a> Sync over Server Sent Events hopes to add an alternative sync method to long-polling
<ul>
<li>Finally servers pushing events!</li>
</ul>
</li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2010">MSC2010</a> Adding client-side spoilers is a small feature but requires a lot of thought to integrate it seamlessly
<ul>
<li>Sorunome thought this would be easy</li>
</ul>
</li>
<li>Lots of small fixes across the board.</li>
</ul>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="synapse">Synapse</h3>
<p>Here's Neil:</p>
<blockquote>
<p>With 1.0 shipped we are now starting to take a closer look at Synapse performance more generally and this will be a theme for us over the coming months. We want to improve not only large scale deployments such as Matrix.org but also optimise for smaller instances.</p>
<p>You may have seen a few trial servers run by core team members in matrix.org community rooms popping up and this is a precursor for a broader effort to make synapse more manageable on less powerful infrastructure. My own instance has been sat at a pretty steady 256MB of RAM.</p>
<p>Other than that, based on 1.0 feedback, we have been working on improving the Synapse upgrade path and expect to put out a new release next week containing the tweaks. Specifically this means improving configuration for Docker installs, and configuration management for sending emails.</p>
<p>We‚Äôre also implementing open tracing into Synapse, initially to help with e2ee debugging, but it will make tracking down strange behaviour easier more generally.</p>
<p>Finally we‚Äôre bringing our push server Sygnal kicking and screaming into 2019 and will upgrade to Python 3, drop gevent for twisted and update our vendor specific libraries, not mention improving the monitoring and alerting. We‚Äôll also add in open tracing which will help hunt down push failures.</p>
<p>Finally finally, look out for a DAG visualisation tool written by GSOCer Eisha referenced elsewhere in TWIM  - we consider this to be seriously cool, and can‚Äôt wait to start using it in anger.</p>
<p>Note: 1.0 is the last release to support python 2 and postgres 9.4, the next Synapse release will drop support for both, see <a href="https://matrix.org/blog/2019/04/08/synapse-deprecating-postgres-9-4-and-python-2-x">https://matrix.org/blog/2019/04/08/synapse-deprecating-postgres-9-4-and-python-2-x</a> for more.</p>
</blockquote>
<h3 id="dendrite">Dendrite</h3>
<blockquote>
<p>Dendrite received a few updates this week. Notably:</p>
<ul>
<li><a href="https://matrix.to/#/@cnly:matrix.org">Cnly</a> has been implementing typing notifications support in <a href="https://github.com/matrix-org/dendrite/pull/718/">#718</a></li>
<li><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> has been fixing up the flaky sytests in <a href="https://github.com/matrix-org/sytest/pull/631">#631</a>. The team is considering moving from CircleCI to BuildKite for tests in the future.</li>
<li><a href="https://matrix.to/#/@cnly:matrix.org">Cnly</a> has added a few issues for odd bits and bobs they‚Äôve found around the codebase. This is much appreciated!</li>
</ul>
</blockquote>
<h3 id="construct">Construct</h3>
<blockquote>
<ul>
<li>We now support building with Clang, and also GCC-9</li>
<li>Work on version 3/4/5 rooms has been underway.</li>
</ul>
</blockquote>
<h3 id="ruma">Ruma</h3>
<p>This Week in Ruma: <a href="https://www.ruma.io/news/this-week-in-ruma-2019-06-23/">https://www.ruma.io/news/this-week-in-ruma-2019-06-23/</a></p>
<blockquote>
<p>This week was spent working on a big revamp of <a href="https://github.com/ruma/ruma-events">ruma-events</a>, the library that defines Rust types for the &quot;events&quot; used in Matrix.
After some discussion in <a href="https://matrix.to/#/#ruma:matrix.org">#ruma:matrix.org</a>, I decided to make a move towards treating ruma-events as a higher-level library. Previously, ruma-events has more or less offered Rust types that are exact representations of the JSON structures used by Matrix. However, by representing events this way, it would be possible for users to easily create values that, while valid JSON, would be invalid events according to the specification.
The way we're approaching this problem is by separating serialization/deserialization of JSON from validation of events.</p>
</blockquote>
<h3 id="jeon-jeonserver">Jeon/JeonServer</h3>
<p><a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a>:</p>
<blockquote>
<p><a href="https://gitlab.com/ma1uta/jeon">Jeon</a> 0.9.0 release. It is a release candidate for Jeon 1.0.0 which complies with the Matrix stable release 1.0.
Not a lot changes, just added missing endpoints and events.
Also I started to work on <a href="https://gitlab.com/ma1uta/jeonserver">JeonServer</a>, a Matrix server written on java.</p>
</blockquote>
<p><a href="https://gitlab.com/ma1uta/jeon">Jeon</a> is a set of Java interfaces to Matrix APIs, <a href="https://gitlab.com/ma1uta/jeonserver">JeonServer</a> is a proposed homeserver.</p>
<h3 id="matrix-media-repo">matrix-media-repo</h3>
<p><a href="https://github.com/turt2live">TravisR</a>:</p>
<blockquote>
<p><a href="https://github.com/turt2live/matrix-media-repo">matrix-media-repo</a> has received some speed improvements and is generally nicer to memory when using the s3 datastore. Give it a try and leave feedback in <a href="https://matrix.to/#/#media-repo:t2bot.io">#media-repo:t2bot.io</a>.</p>
</blockquote>
<h3 id="gsoc-project-matrix-visualisations-mortar-board">GSOC project: Matrix Visualisations üéì</h3>
<p><a href="https://matrix.to/#/@eisha:matrix.org">Eisha</a> appeared with this terrific GSOC update:</p>
<blockquote>
<p>The GSoC project ‚ÄúMatrix Visualisations‚Äù has made good progress during this first period:</p>
<ul>
<li>The implementation of the CS API backend has been completed to properly retrieve events from a room in real time.</li>
<li>Many features have been added to the UI, here are some of them:
<ul>
<li>The DAG is displayed vertically, every node of the same ‚Äúdepth‚Äù are on the same level in the graph and each node has outgoing arcs for each of its previous events (if they have already been retrieved).</li>
<li>The node at the top of the DAG allows to fetch earlier events by selecting it.</li>
<li>Each node can have two different colors whether its ‚Äúorigin‚Äù is the HS the application is currently talking to or not.</li>
<li>The full JSON body of an event can be displayed by double clicking on its node.</li>
<li>It is possible to select which fields of the events will be directly included in the labels of the nodes.</li>
</ul>
</li>
<li>A (server-side) backend has been implemented so that the application can directly talk to the PostgreSQL database of Synapse. You can find it on <a href="https://github.com/Kagamihime/matrix-visualisations-backend">this repo</a>.</li>
</ul>
<p>Note that the support of the Federation API has been postponed so I could work on this Synapse database backend.
The UI of the application isn‚Äôt very beautiful or well-organised yet, as the effort is focused on the backends and core functionalities for now, but improvements will be made once these functionalities will be completed.</p>
</blockquote>
<p>Remember you can <a href="https://matrix.org/blog/2019/06/21/this-week-in-matrix-2019-06-21">check TWIM from last week</a> to get a reference on the other three GSOC projects.</p>
<p><img src="/blog/img/2019-06-28-vis.png" alt="Matrix Visualisations" /></p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üèó</h2>
<h3 id="matrix-bot-sdk">matrix-bot-sdk</h3>
<p><a href="https://github.com/turt2live">TravisR</a>:</p>
<blockquote>
<p><a href="https://www.npmjs.com/package/matrix-bot-sdk">matrix-bot-sdk</a> v0.4.0-beta.1 has been published with a bunch of improvements for appservices. There's still more planned before the final v0.4.0 release, however live testing is always better than unit tests. If you use the library, try <code>npm install matrix-bot-sdk@0.4.0-beta.1</code> and report any issues to <a href="https://matrix.to/#/#matrix-bot-sdk:t2bot.io">#matrix-bot-sdk:t2bot.io</a>.</p>
</blockquote>
<h3 id="libquotient-now-with-encryptionmanager">libQuotient, now with EncryptionManager</h3>
<p><a href="https://github.com/quotient-im/libQuotient">libQuotient</a> introduces EncryptionManager, check out <a href="https://github.com/quotient-im/libQuotient/pull/329">the PR for more info</a>, and also review <a href="https://matrix.to/#/@aa13q:matrix.org">aa13q</a>'s <a href="https://matrix.org/blog/category/this-week-in-matrix#quotient-former-qmatrixclient">GSOC update from last week</a>.</p>
<h3 id="ruby-sdk">Ruby SDK</h3>
<p><a href="https://github.com/ananace/">Ananace</a>:</p>
<blockquote>
<p>Just cut a 1.2.0 release of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby SDK</a>, including fixes for timeout handling, some general code cleanup and documentation work, and a collection of getters and setters for most of the specced room state types</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="freenode-irc-bridge-restarted">freenode IRC bridge restarted</h3>
<blockquote>
<p>The freenode IRC bridge was restarted with the following fixes:</p>
<ul>
<li>Some characters in IRC usernames (such as ‚Äú|‚Äù) would cause IRC user‚Äôs messages to not appear on the Matrix side.</li>
<li>Room upgrades are now handled a bit more cleanly</li>
</ul>
</blockquote>
<h3 id="mx-puppet-bridge-platform">mx-puppet-bridge platform</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">Sorunome</a> has been working on her all-new bridge platform, <a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a>:</p>
<blockquote>
<p>This week soru has been working more on <a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a>, together with <a href="https://github.com/Sorunome/mx-puppet-slack">mx-puppet-slack</a> and the now-new <a href="https://github.com/Sorunome/mx-puppet-tox">mx-puppet-tox</a>.</p>
</blockquote>
<h4 id="mx-puppet-bridge">mx-puppet-bridge</h4>
<blockquote>
<p>This is work on the underlying bridge, protocol implementations still have to do their thing</p>
<ul>
<li>room name, icon and topic (was already implemented but untested)</li>
<li>ghost name and icon (was already implemented, but untested)</li>
<li>file sending in both directions (image, audio, video, file, autodetect) (was already implemented, but untested)</li>
<li>have own ghosts create rooms --&gt; appservice bot is not needed, more invisible bridging (especially nice for 1:1 rooms!)</li>
<li>implemented 1:1 room bridging</li>
<li>implemented provisioning interface via appservice bot</li>
<li>remote -&gt; matrix presence handling</li>
<li>remote -&gt; matrix typing notifications</li>
<li>matrix -&gt; remote puppet name tracking</li>
<li>matrix -&gt; remote puppet avatar tracking</li>
<li>mx-puppet-bridge uses caching for better performance</li>
<li>Added linting</li>
</ul>
</blockquote>
<h4 id="mx-puppet-slack">mx-puppet-slack</h4>
<blockquote>
<p>Lots of work here, smoothening things out</p>
<ul>
<li>room name, icon and topic bridging</li>
<li>ghost name and icon bridging</li>
<li>file sending in both directions</li>
<li>presence and typing notifs</li>
</ul>
</blockquote>
<h4 id="mx-puppet-tox">mx-puppet-tox</h4>
<blockquote>
<p>This is a new one! It bridges <a href="https://tox.chat/">tox</a> over to matrix...or, well, more acts like a client (as tox doesn't have multidevice). Basic chatting was already functioning with only around 300 lines of code! The <a href="https://github.com/TokTok/js-toxcore-c/">node toxcore bindings</a> seem to only include support for 1:1 chats (and not the new group chats), so only that is implemented.</p>
<ul>
<li>ghost name and icon bridging</li>
<li>file senidng in both directions</li>
<li>presence and typing notifs</li>
<li>matrix -&gt; tox name and avatar syncing</li>
</ul>
</blockquote>
<p>There is already <a href="https://github.com/Sorunome/mx-puppet-bridge/blob/master/bridge.md">substantial documentation available</a>, and a Matrix room at <a href="https://matrix.to/#/#mx-puppet-bridge:sorunome.de">#mx-puppet-bridge:sorunome.de</a>.</p>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="riotx-android">RiotX (Android)</h3>
<blockquote>
<ul>
<li>We are finalizing the MVP of RiotX. Many new features, along with many bug fixes this week:
<ul>
<li>Notifications for version with or without Firebase Cloud Messaging</li>
<li>Reply in e2e rooms</li>
<li>Change of DI tool (We are now using dagger2)</li>
<li>New settings, split into categories</li>
<li>New set of Emojis for quick reactions</li>
<li>New application icon</li>
<li>And many other little features</li>
<li>New disclaimer screen, displayed at first startup</li>
<li>New suggestion screen (based on bug report screen)</li>
<li>Min SDK version has been set to API 19 (Kitkat), mainly for security reasons, but also because we are using MotionLayout which is available only on API 18+.</li>
</ul>
</li>
<li>Remaining work to do before we can release the first beta version on the PlayStore:
<ul>
<li>Encrypt/Decrypt attachment in e2e rooms</li>
<li>Last event display in the room list</li>
<li>Test, test, test, and fix, fix, fix :)</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="integration-of-matrix-into-delphus">Integration of Matrix into Delphus</h3>
<p><a href="https://matrix.to/#/@kevin:potatofrom.space">Pneumaticat</a>:</p>
<blockquote>
<p>Our company, Scintillating, has integrated Riot as an end-to-end encrypted chat, video, and voice call provider for our decentralized scientific study management system <a href="https://delph.us/">Delphus</a>. We have created a method of linking Matrix IDs with Ethereum addresses to allow scientific researchers to look up participants and create chat rooms to talk with individuals in a privacy-preserving manner.</p>
</blockquote>
<h3 id="spectral">Spectral</h3>
<p>We didn't get a <a href="https://gitlab.com/spectral-im/spectral">Spectral</a> update for a few weeks! <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> reported:</p>
<blockquote>
<p>Quite a few changes in <a href="https://gitlab.com/spectral-im/spectral">Spectral</a> in the past few weeks. The room list filter is improved, and it only shows rooms with unread notifications by default. User can optionally hide join/leave events. Empty avatar in direct chats is fixed. Each user now has a unique message bubble background color in the timeline.</p>
</blockquote>
<h3 id="pattle-version-0-8-0">Pattle: version 0.8.0</h3>
<p><a href="https://matrix.to/#/@wilko:pattle.im">Wilko</a>, chief Pattler:</p>
<blockquote>
<p>A new version of Pattle has been pushed to F-droid!</p>
<p>Although this isn't the biggest release, it's still a big step: the first release of iOS will be available! The build is currently still in review by Apple.</p>
<p>You can download the iOS app via TestFlight soon, join <a href="https://matrix.to/#/#app:pattle.im">#app:pattle.im</a> to get the link immediately when it's available!</p>
<h4 id="other-changes">Other changes</h4>
<ul>
<li>Add <code>.well-known</code> support!</li>
<li>Automatically update homeserver property in 'Advanced' while typing username</li>
<li>Fix messages being wrongly grouped by sender</li>
<li>Fix direct chats staying marked as direct when someone else joins</li>
</ul>
<h4 id="install-this-release">Install this release</h4>
<p>F-Droid:</p>
<ol>
<li>Add the following repo in F-droid:
<a href="https://fdroid.pattle.im/?fingerprint=E91F63CA6AE04F8E7EA53E52242EAF8779559209B8A342F152F9E7265E3EA729">https://fdroid.pattle.im/?fingerprint=E91F63CA6AE04F8E7EA53E52242EAF8779559209B8A342F152F9E7265E3EA729</a></li>
<li>Install 'Pattle'</li>
</ol>
<p>APK: Download from the assets of this release</p>
<h4 id="issues">Issues</h4>
<p>If you stumble upon any issues, <a href="https://git.pattle.im/pattle/app/issues">please report them</a>!
You can <a href="https://git.pattle.im/users/sign_in">login via GitHub and Gitlab.com</a>, so it's really easy to do!</p>
<h4 id="follow-pattle">Follow Pattle</h4>
<p>Follow development in <a href="https://matrix.to/#/#app:pattle.im">#app:pattle.im</a>!</p>
<h4 id="support-me">Support me</h4>
<p>If you would like to support me, you can now do so
via <a href="https://liberapay.com/wilko/">Liberapay</a> and <a href="https://www.patreon.com/pattle_app">Patreon</a>.</p>
<p>I've invested a lot of money in making Pattle happen on iOS: MacBook, Apple Developer Program, and an iPhone.
Pretty costly, so any donations will be greatly appreciated!</p>
</blockquote>
<h3 id="continuum-updates-placeholder-avatars">continuum updates placeholder avatars</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>:</p>
<blockquote>
<p><a href="https://github.com/koma-im/continuum-desktop">continuum</a> tweaked the appearance of placeholder avatars. To make most users appear visually distinct, continuum has always used colors based on checksums and usernames to generate placeholders if any user doesn't have an image as avatar. In previous versions, it always used two characters of the name. In the new version, if the username contains ideographic (usually east-asian) characters, a single character would be used. The reason is that the number of ideographic characters is vast and duplicates are less common, and most of them are close to a square or circle in shape so a single one would fit the GUI component better.</p>
</blockquote>
<h3 id="fluffychat-edges-closer-to-e2e">FluffyChat edges closer to E2E</h3>
<p><a href="https://matrix.to/#/@krille:chat.regionetz.net">Krille</a>:</p>
<blockquote>
<p>Last weekend hummlbach (from the UBports community) visited me and we worked 18 hours on implementing end2end encryption. We are now able to send encrypted messages. Key sharing and decrypting will follow.</p>
</blockquote>
<p>Not available in the released version yet, but join <a href="https://matrix.to/#/#fluffychat:matrix.org">#fluffychat:matrix.org</a> for more info. Also: 18 hours! Woah.</p>
<h3 id="quaternion">Quaternion</h3>
<p><a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> received several updates recently, check out <a href="https://matrix.to/#/#quaternion:matrix.org">#quaternion:matrix.org</a> for more info.</p>
<h3 id="fractal-released-4-1-dev-version">Fractal released 4.1 dev version</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a>:</p>
<blockquote>
<p><a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> released a 4.1 development version, which was added to the beta channel of flathub. <a href="https://matrix.to/#/@danigm:matrix.org">danigm</a> is eager to get 4.2 out soon and is trying to fix the last few bugs we want to see gone before then. He already opened a few merge requests.</p>
</blockquote>
<h3 id="riot-web">riot-web</h3>
<blockquote>
<ul>
<li>Updated the reactions UX with a new tooltip-style interaction</li>
<li>Added edit history dialogue and other small editing tweaks</li>
<li>Riot Desktop config options (such as default HS, theme, etc.) can now be overridden for easy customisation</li>
</ul>
</blockquote>
<h3 id="riot-ios">riot-iOS</h3>
<blockquote>
<ul>
<li>New reactions in the event contextual menu</li>
<li>Edits in e2e rooms</li>
<li>Still refining reactions and edits</li>
</ul>
</blockquote>
<h3 id="matrix-enact-read-only-client-which-performs-the-contents-of-rooms-with-web-audio-api">matrix-enact, read-only client which performs the contents of rooms with Web Audio API</h3>
<p>Some time ago I made a toy: <a href="https://play.matrix.org/matrix-enact/">https://play.matrix.org/matrix-enact/</a></p>
<p>This is a read-only Matrix client, which takes the contents of a public room and &quot;enacts&quot; it, that is, it performs it using the Web Audio API in your browser</p>
<p>The original intention was to be a demonstration of what can be done with /context endpoint, but the project scope expanded a little. Hopefully people find it fun!</p>
<p>Get the source code here: <a href="https://github.com/benparsons/matrix-enact">https://github.com/benparsons/matrix-enact</a></p>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h3>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> and his many helpers have been working on <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a>:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> has seen a lot of work on bridging lately.
All currently existing bridges (Discord, Facebook, IRC, Telegram, Whatsapp) have been redone in a way that makes their configuration completely playbook-managed, as well as extensible.
Besides this, with Synapse v1.0 already out, we've taken the opportunity to simplify the installation instructions a bit.
If you haven't upgraded recently, now would be a great time. As always, be sure to take a look at the CHANGELOG before doing so.</p>
</blockquote>
<h3 id="update-from-the-matrix-on-debian-team">Update from the <em>Matrix on Debian</em> team</h3>
<p><a href="https://matrix-team.pages.debian.net/blogue/2019/06/26/june-2019-matrix-on-debian-update/">https://matrix-team.pages.debian.net/blogue/2019/06/26/june-2019-matrix-on-debian-update/</a></p>
<blockquote>
<p>This is an update on the state of Matrix-related software in Debian</p>
</blockquote>
<h2 id="dept-of-identity-passport-control">Dept of Identity üõÇ</h2>
<h3 id="mxisd-forked">mxisd forked</h3>
<p>Following the announcement that <a href="https://github.com/kamax-matrix/mxisd/blob/master/EOL.md">mxisd would not longer be worked on</a>, <a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> has stepped up to provide support:</p>
<blockquote>
<p>I forked mxisd (<a href="https://github.com/ma1uta/mxisd">https://github.com/ma1uta/mxisd</a>) and will provide support this project. You can ask about help in a new room <a href="https://matrix.to/#/#ma1sd:ru-matrix.org">#ma1sd:ru-matrix.org</a>
A new temporary name will be <code>ma1sd</code> (thanks <a href="https://matrix.to/#/@dandellion:dodsorf.as">Dandellion</a> ).
Due to changing maintainers I start to prepare the new 2.0.0 release and should audit code and dependencies.
Also I forked matrix-synapse-rest-password-provider (<a href="https://github.com/ma1uta/matrix-synapse-rest-password-provider">https://github.com/ma1uta/matrix-synapse-rest-password-provider</a>) because it often uses with mxisd.
Docker image, ansible support, debian, nixos and archlinux packages are temporary unavailable due to code auditing and changing maintainers.</p>
</blockquote>
<h3 id="link-existing-unix-accounts-with-accounts-on-a-synapse-homeserver">Link existing unix accounts with accounts on a Synapse homeserver</h3>
<p>Cos created an article <a href="https://coshacks.blogspot.com/2019/06/matrix-synapse-authentication-from-unix.html">detailing how to link existing unix accounts with accounts on a Synapse homeserver</a>.</p>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="poll-bot">poll-bot</h3>
<p><a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a>:</p>
<blockquote>
<p>I made a Matrix bot that uses reactions to do polls! The code is available at <a href="https://github.com/babolivier/matrix-poll-bot">https://github.com/babolivier/matrix-poll-bot</a> (with a screenshot of how it works) and you can invite <a href="https://matrix.to/#/@poll-bot:abolivier.bzh">@poll-bot:abolivier.bzh</a> in your room if you want to try it out üôÇ</p>
</blockquote>
<p>Bot works by taking a list of emoji + responses from a user, then makes a new message event with those emojis each voted for once. In this way, you can quickly make a reaction-based poll.</p>
<h3 id="reactbot-a-maubot">reactbot, a maubot</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>, never enough <a href="https://github.com/maubot/maubot">maubots</a>:</p>
<blockquote>
<p>The <a href="https://github.com/maubot/reactbot">reactbot</a> I announced last week has been updated to support arbitrary response content instead of just reactions. As examples, the repo now has a stallman interjection bot (ported from <a href="https://github.com/interwho/stallman-bot">this</a> and a replacement for <a href="https://github.com/maubot/jesaribot">jesaribot</a>. Reactions as responses are still supported and the repo still has the TWIM cookie bot example too.</p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final thoughts üí≠</h2>
<p><a href="https://github.com/ananace/">Ananace</a> has been looking again at a release tracker they'd previously been working on.</p>
<p>kernel.org have set up an ActivityPub instance (see <a href="https://people.kernel.org/about">https://people.kernel.org/about</a>.) Not strictly Matrix but interesting that they decided to move to a federated platform.</p>
<p>First GSOC evaluation submissions were due this week, all four Matrix projects are proceeding well. See Eisha's update above, and <a href="https://matrix.org/blog/2019/06/21/this-week-in-matrix-2019-06-21">the other three last week</a>.</p>
<p><a href="https://matrix.to/#/@red_sky:ocean.joedonofry.com">red_sky</a>, nheko maintainer, was seen to say: &quot;I know there hasn't been much activity from me lately. I was on vacation last week. I'll be getting back to work on 0.7.0 today&quot;</p>
<p>The Europas awards ceremony was held at a venue next to my old flat. Small world! Small flat too.</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;06&#x2F;21&#x2F;this-week-in-matrix-2019-06-21&#x2F;" title="This Week in Matrix 2019-06-21">This Week in Matrix 2019-06-21</a></h2>
                <span>
                    21.06.2019 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<p>Matthew and Amandine talk about what we're hoping to ship in June</p>
<iframe src="https://www.youtube.com/embed/RyoCPT_ZvIU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite">Dendrite</h3>
<p>We have a whole lot of <a href="https://github.com/matrix-org/dendrite">Dendrite</a> news this week! First, from <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a>, on the Matrix team:</p>
<blockquote>
<p>Progress has been picking up this week with some of <a href="https://matrix.to/#/@cnly:matrix.org">Cnly</a>‚Äôs <a href="https://github.com/matrix-org/dendrite/pulls/Cnly">many</a> <a href="https://github.com/matrix-org/gomatrixserverlib/pulls/Cnly">PRs</a> finally getting merged! <a href="https://matrix.to/#/@cnly:matrix.org">Cnly</a> is our resident <a href="https://www.matrix.org/blog/2019/05/07/welcome-to-the-2019-g-so-c-participants">Google Summer of Code</a> student this Summer and has been making strides ever since. We also finally fully migrated to BuildKite for Continuous Integration (which is much quicker than TravisCI) and have implemented golangci-lint as the project‚Äôs opinionated linter (catching some bugs in the process).</p>
<p>As part of CI, we‚Äôve set up <a href="https://github.com/matrix-org/sytest/">Sytest</a> for Dendrite, which grants us a loose method of keeping track of progress as we go along. Currently the only way to do so is to take a look at the <a href="https://github.com/matrix-org/dendrite/blob/master/testfile">testfile</a> which holds all the tests we know Dendrite to be passing, and cross-referencing that with the list of all sytests (which isn‚Äôt actually available anywhere). We‚Äôre hoping to make some nice way of visualizing progress over time with this data (and possibly break it down into Federation/Client/Application Service categories), but this will take some time.</p>
<p>We‚Äôd also like to thank some new contributors that have shown up since Matrix 1.0‚Äôs release. <a href="https://matrix.to/#/@jump_spider:matrix.spider.ink">serra-allgood</a> contributed <a href="https://github.com/matrix-org/dendrite/pull/702">a fix</a> for querying aliases when using at least one application service, while <a href="https://matrix.to/#/@drglitch:matrix.org">DrGlitchMX</a> sent a PR in for some database fixes. <a href="https://matrix.to/#/@peekay_46:matrix.org">SUMUKHA-PK</a>‚Äôs <a href="https://github.com/matrix-org/dendrite/pull/694">PR</a> to add room tags is still around and should see some love very shortly.</p>
<p>As far as the current goals of the project, we‚Äôre looking to primarily make Dendrite federate with Synapse, which will allow it to actually be usable for testing/basic day-to-day usage. We intend to have it done so in the next few months, so stay tuned!</p>
</blockquote>
<p>Next, from <a href="https://matrix.to/#/@cnly:matrix.org">Cnly</a>, who is doing GSOCüéì on Dendrite:</p>
<blockquote>
<p>For Dendrite, the first phase of GSoC has primarily seen improvements for the existing code including bug fixes, refinements for testing, and some refactoring that prepares Dendrite for later feature implementation. Among the changes, two important ones will be the initial support for EDUs in /sync responses as well as a federation destination cache that allows for more effective federation.</p>
<p>In the next phase, more focus will be put into feature completion, mainly for the Client/Server API component. Since this part of work covers various still-under-construction areas in Dendrite, it is foreseeable that more progress will actually be made than proposed.</p>
</blockquote>
<h3 id="ruma">Ruma</h3>
<p>This Week in Ruma: <a href="https://www.ruma.io/news/this-week-in-ruma-2019-06-16/">https://www.ruma.io/news/this-week-in-ruma-2019-06-16/</a></p>
<blockquote>
<p>Work is underway to bring Ruma up to date with version r0.5.0 of the Matrix specification. Starting with the most foundational libraries and working up towards the higher-level ruma-client, this work should be done in the next week or two. The bulk of the work since the last update has been on ruma-events, adding all of the events that were previously missing, and doing a full pass through existing events to make sure our definitions match the specification.</p>
</blockquote>
<p>I can't wait to see more updates out of Ruma!</p>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="matrix-appservice-discord-0-5-1">matrix-appservice-discord 0.5.1</h3>
<p>This announcement is nearly a week old from <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>, coming in right after the previous TWIM was published:</p>
<blockquote>
<p>We've released v0.5.1 of the discord bridge today. It's mostly comprised of small bugfixes and features, but contains metrics support for tracking performance on the bridge. <a href="https://github.com/Half-Shot/matrix-appservice-discord/releases/tag/0.5.1">https://github.com/Half-Shot/matrix-appservice-discord/releases/tag/0.5.1</a></p>
</blockquote>
<h3 id="mautrix-telegram">mautrix-telegram</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>:</p>
<blockquote>
<p>mautrix-telegram got some bugs fixed and minor features:</p>
<ul>
<li>Updated to <a href="https://github.com/LonamiWebs/Telethon/compare/v1.8.0...master">Telethon 1.8</a></li>
<li>Option to limit maximum document size when bridging so it wouldn't download 1.5gb files and run out of ram</li>
<li>Made the state cache get updated when sending state events. Not doing this was causing some problems on t2bot.io, which has disabled echoing state events (probably for performance reasons)</li>
</ul>
</blockquote>
<h3 id="reliable-bridges-gsoc-mortar-board"><em>Reliable Bridges</em> GSOC üéì</h3>
<p><a href="https://matrix.to/#/@kai:nasnotfound.de">Kai</a> is working on bridging in Matrix, mentored by <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>:</p>
<blockquote>
<p>The first phase of GSoC is nearing its end and progress has been made on the <em>Reliable Bridges</em> project.<br />
The main focus of the work was on delivering a running implementation for the signaling of permanent errors. Work has been done on <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> together with <a href="https://github.com/Half-Shot/matrix-appservice-discord">matrix-appservice-discord</a>. An internal version of the Discord bridge with the new feature is already running and the related <a href="https://github.com/matrix-org/matrix-appservice-bridge/pull/111">PR for the bridge SDK</a> is in the state of being completed.<br />
The next phase of GSOC comes with new goals. First, the preparation of a MSC for the signaling of bridge errors, so that the feature can be discussed in the community and can become a part of The Spec. The second goal will be the modification of Riot Web, so that the user is notified when an error condition occurred.<br />
There also has been a slight change of plan: The work on notifying clients when parts of the system are temporarily unavailable needs reconsideration as not even the core Matrix network itself has this capability. The way forward here should probably be a <a href="https://github.com/matrix-org/matrix-doc/issues/2094">unified solution</a>.</p>
</blockquote>
<h3 id="new-typescript-puppeting-lib-mx-puppet-bridge">New TypeScript puppeting lib: mx-puppet-bridge</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">Soru</a>, who you probably know from her work on <a href="https://github.com/Half-Shot/matrix-appservice-discord/">matrix-appservice-discord</a>, has started a new library:</p>
<blockquote>
<p>Soru started working on a new puppeting library, for a lack of a better name it is currently called <a href="https://github.com/Sorunome/mx-puppet-bridge">mx-puppet-bridge</a>.<br />
Unlike the existing puppet bridge, the focus of this one is to handle multiple users at once, all dynamically without needing to edit the configuration file over and over. Additionally the new codebase results in quite a few things smoothened out for easier protocol implementations.<br />
Furthermore mx-puppet-bridge is written in typescript and based on travis' <a href="https://github.com/turt2live/matrix-bot-sdk">matrix-bot-sdk</a>.<br />
As protocol implementation for testing, soru also wrote <a href="https://github.com/Sorunome/mx-puppet-slack">mx-puppet-slack</a> (again, for the lack of a better name). Basic message sending in both directions is already fully functional.</p>
</blockquote>
<p>Exciting stuff! And all the more so for the third-person announcement style!</p>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="gomuks">gomuks</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>:</p>
<blockquote>
<p>Gomuks had a bunch of changes:</p>
<ul>
<li>Added support for rendering redactions and edits (rendering reactions coming up next)</li>
<li>Added commands to create rooms, start private chats and edit room tags</li>
<li>Rendered images now don't take up the whole width</li>
<li>Improved memory usage slightly</li>
<li>Broke everyones existing caches (<code>rm -rf ~/.cache/gomuks</code> should help if it panics at startup)</li>
</ul>
<p>The command for creating rooms and the image resolution limit were added by a new contributor, <a href="https://matrix.to/#/@jrswab:matrix.org">J. R.</a>, who is currently working on adding .well-known discovery support.</p>
</blockquote>
<p>I've been having a good play with this and like it at lot!</p>
<p><img src="/blog/img/2019-06-21-gomuks.png" alt="gomuks" /></p>
<h3 id="continuum-javafx-client">continuum, JavaFX client</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>:</p>
<blockquote>
<p>Improved support for more types of events in
<a href="https://github.com/koma-im/continuum-desktop">continuum</a> this week:</p>
<ul>
<li>invitation events are supported</li>
<li>support for events that typically appear when a room is being set up is in progress</li>
<li>events that are not yet supported are displayed with a fallback view. Blank rows in previous versions are now fixed. You could always right-click on any event to view the source, of course</li>
</ul>
</blockquote>
<p><img src="/blog/img/2019-06-21-continuum.png" alt="continuum" /></p>
<h3 id="pattle-dart-client">Pattle, Dart client</h3>
<p><a href="https://matrix.to/#/@wilko:pattle.im">Wilko</a> came in with this thorough update, <a href="https://pattle.im/">Pattle</a> development is MOTORING:</p>
<blockquote>
<p>A new version of Pattle has been pushed to F-droid!</p>
<p>This release is mostly focused on bug fixing and bug reporting! This is why I urge <strong>all users who have been having problems before to try Pattle again!</strong> Chances are that your problem has been fixed, and if not, it will be reported with more information so I can fix it!</p>
<p>When an error is reported, this data is sent:</p>
<ul>
<li>Operating system version</li>
<li>Device model, brand, manufacturer and whether it's a simulator</li>
<li>A unique ID based on your device</li>
</ul>
<p>In some errors the homeserver domain is logged, I will try to prevent this in the future.</p>
<p>This release also includes preparation for an iOS release next week!</p>
<p>Fixes and other changes:</p>
<ul>
<li>Handle rooms that the user has left (a notice is shown that you can't send any messages)</li>
<li>Show a date header above the chat creation event (not the first known event in the list as before)</li>
<li>When an error occurs during sync, show a message, including the Exception name</li>
<li>Fix replies causing an error if the <code>formattedBody</code> does not adhere to the spec (thanks to Mathieu!)</li>
<li>Fix errors not showing when logging in</li>
<li>Fix loading spinner showing when checking username or logging in even if loading took less than 3 seconds</li>
<li>Fix direct chats not detected when adder after the initial sync</li>
<li>Some general syncing issues have been fixed (causing the dreaded infinite loading spinner).</li>
</ul>
<p>To install this release, add the following repo in F-droid:</p>
<p><a href="https://fdroid.pattle.im/?fingerprint=E91F63CA6AE04F8E7EA53E52242EAF8779559209B8A342F152F9E7265E3EA729">https://fdroid.pattle.im/?fingerprint=E91F63CA6AE04F8E7EA53E52242EAF8779559209B8A342F152F9E7265E3EA729</a></p>
<p>And install 'Pattle'.</p>
<p>Or <a href="https://git.pattle.im/pattle/app/releases">download the APK</a>.</p>
<p>If you stumble upon any issues, <a href="https://git.pattle.im/pattle/app/issues">please report them</a>!<br />
You can <a href="https://git.pattle.im/users/sign_in">login via GitHub and Gitlab.com</a>, so it's really easy to do! (Logging in via GitHub did not seem to work previously, but it will now!)</p>
<p>Follow development here: <a href="https://matrix.to/#/#app:pattle.im">#app:pattle.im</a>!</p>
<p>If you would like to support me, you can now do so via <a href="https://liberapay.com/wilko/">Liberapay</a> and <a href="https://www.patreon.com/pattle_app">Patreon</a>. I actually need money for the Apple Developer program, which costs 100 euros per year to release Pattle on the App Store and Testflight.</p>
</blockquote>
<h2 id="dept-of-encryption-closed-lock-with-key">Dept of Encryption üîê</h2>
<h3 id="quotient-former-qmatrixclient">Quotient (former QMatrixClient)</h3>
<p><a href="https://matrix.to/#/@aa13q:matrix.org">aa13q</a> is a GSOC üéì student, working on E2EE and mentored by <a href="https://matrix.to/#/@kitsune:matrix.org">Kitsune</a>:</p>
<blockquote>
<p>I'm working on my E2EE GSoC task: <a href="https://matrix.org/blog/2019/05/07/welcome-to-the-2019-g-so-c-participants">https://matrix.org/blog/2019/05/07/welcome-to-the-2019-g-so-c-participants</a>
One-time keys uploading part is implementing currently. Draft device keys uploading is also here. The implementation follows E2EE guide: <a href="https://matrix.org/docs/guides/end-to-end-encryption-implementation-guide">https://matrix.org/docs/guides/end-to-end-encryption-implementation-guide</a><br />
My contribution and reports are currently here: <a href="https://github.com/a-andreyev/libQuotient/wiki/GSoC-2019-reports">https://github.com/a-andreyev/libQuotient/wiki/GSoC-2019-reports</a>. Also, feel free to reach me via Quotient group <a href="https://matrix.to/#/#quotient:matrix.org">https://matrix.to/#/#quotient:matrix.org</a>.<br />
I'm trying to reuse <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>'s qtolm project: <a href="https://gitlab.com/b0/libqtolm">https://gitlab.com/b0/libqtolm</a> -- added CMake files to include to libQuotient project, special thanks to Black Hat for his work.<br />
Thanks to my GSoC mentors and Matrix and Quotient communities for support and solid groundwork. Long term goal is to provide modern Qt-based library to support full-featured matrix clients like Quaternion, Spectral or even to revive Telepathy IM connection manager <a href="https://github.com/TelepathyIM/telepathy-tank">https://github.com/TelepathyIM/telepathy-tank</a>! %)</p>
<p>P.S.: Maybe somebody reading this is brave enough to play with Qt-based server implementation too? :)</p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<blockquote>
<ul>
<li>Updating reactions UX to match new designs</li>
<li>Continued refinements to editing
*Tweaked SAS verification dialogs to behave more nicely</li>
</ul>
</blockquote>
<p>Also: <a href="https://snapcraft.io/riot-web">Riot Desktop was updated on the Snap Store</a>.</p>
<h3 id="riot-ios">Riot iOS</h3>
<blockquote>
<p>On the aggregation side, we have started to work on the phase:2 sprint (<a href="https://vector-im.github.io/feature-dashboard/#/summary?repo=vector-im/riot-web&amp;repo=vector-im/riotX-android&amp;repo=vector-im/riot-ios&amp;label=feature:aggregations&amp;label=phase:2">https://vector-im.github.io/feature-dashboard/#/summary?repo=vector-im/riot-web&amp;repo=vector-im/riotX-android&amp;repo=vector-im/riot-ios&amp;label=feature:aggregations&amp;label=phase:2</a>):</p>
<ul>
<li>Updating reactions UX to match new designs</li>
<li>Support edition of event being sent</li>
</ul>
</blockquote>
<h3 id="riot-android">Riot Android</h3>
<blockquote>
<ul>
<li>Sync with Weblate</li>
<li>PlayStore assets has been translated to Spanish</li>
</ul>
</blockquote>
<h3 id="riotx-android">RiotX (Android)</h3>
<blockquote>
<ul>
<li>Implementation of notifications is progressing well</li>
<li>Migration from Koin to Dagger2 is nearly finished</li>
<li>Many other tasks have been done to try to close ambitious phase 1:
<ul>
<li>encrypt/decrypt attachments in e2e rooms</li>
<li>Display redacted events properly in e2e rooms</li>
<li>Permalink navigation</li>
<li>Display version of app and Matrix sdk in settings</li>
<li>Disambiguation of display names</li>
<li>Many other bug fixes...</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="avhost-docker-matrix">avhost/docker-matrix</h3>
<p><a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a>:</p>
<blockquote>
<p>My PR to the avhost/docker-matrix image (formerly the silviof) adding jemalloc support has just been merged. The image will now run synapse using jemalloc by default, which has been shown to reduce memory usage.<br />
The first image is tagged as avhost/docker-matrix:jemalloc if all goes well the next synapse release will include jemalloc by default</p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services üöÄ</h2>
<h3 id="new-web-forum-from-federated-networks-association">New (web) forum from Federated Networks Association</h3>
<p><a href="https://matrix.to/#/@jaywink:feneas.org">jaywink</a>:</p>
<blockquote>
<p>Feneas (short for Federated Networks Association) just launched a new discussion forum aimed at creating a collaboration space for the federated web folk. Of course there is a category for Matrix as well. Have a peek! More info here: <a href="https://feneas.org/federated-networks-forum/">https://feneas.org/federated-networks-forum/</a></p>
</blockquote>
<h3 id="diaspora-mirror-of-this-blog-meta">Diaspora mirror of this blog (meta)</h3>
<p><a href="https://matrix.to/#/@jaywink:feneas.org">jaywink</a>:</p>
<blockquote>
<p>Should you want to follow the Matrix.org blog using your Diaspora protocol compatible account, there is an unofficial mirror of the blog at matrixorg@social.gibberfish.org. (disclaimer: I'm not affiliated with the account, just found it and reporting)</p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final thoughts üí≠</h2>
<p>ü§î A company named &quot;Slack&quot; <a href="https://text.npr.org/s.php?sId=734095998">had an IPO</a>, in which the share price <a href="https://www.theguardian.com/technology/2019/jun/20/slack-ipo-stocks-app-public-latest-share-prices-beat-expectations">closed up 50%</a>. Slack are involved in &quot;Instant Messaging&quot; software and their product is known for the ability to connect to other services.</p>
<p>‚è∞ It's the first GSOC assessment NEXT WEEK. We'll get updates from all four projects, but notice that three of the projects have already provided updates above.</p>
<p>ü§ñ <a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> created TWO new maubot plugins, one for translating things: <a href="https://github.com/maubot/translate">https://github.com/maubot/translate</a>. Check out <a href="https://matrix.org/#/@translate:maunium.net">the bot user</a>. The other is a &quot;react bot&quot;, <a href="https://github.com/maubot/reactbot">https://github.com/maubot/reactbot</a>, &quot;that reacts to messages that match predefined rules&quot;.</p>
<p>‚ÅâÔ∏è <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> (from <a href="https://gitlab.com/spectral-im/spectral">Spectral</a> and more) is &quot;experimenting with ruma-client-api and plans to create something awesome with it&quot;, <a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> (from <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>) got a new laptop. <a href="https://matrix.to/#/@f0x:pixie.town">Fox</a> &quot;just did [their] last java uni exercise ever and am now free from this curse, will have time to work on <a href="https://github.com/f0x52/neo/">Neo</a>&quot;.</p>
<p>üî® This website has had a lot of polish over the last couple of weeks. We'll be focusing on the incremental improvements still needed, and also on adding new documentation. <a href="https://matrix.to/#/#matrix.org-website:matrix.org">Let us know</a> what you think we should do next.</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;06&#x2F;07&#x2F;this-week-in-matrix-2019-06-07&#x2F;" title="This Week in Matrix 2019-06-07">This Week in Matrix 2019-06-07</a></h2>
                <span>
                    07.06.2019 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p>We are <em>sooo</em> close to Matrix 1.0. So close! The PR which announces the arrival of v1.0 <a href="https://github.com/matrix-org/matrix-doc/pull/2099">exists already</a>.</p>
<p><a href="https://github.com/turt2live">TravisR</a> said:</p>
<blockquote>
<p>Work towards 1.0 is progressing nicely - still on track for a Monday release! View our progress at <a href="https://github.com/matrix-org/matrix-doc/projects/2?fullscreen=true">https://github.com/matrix-org/matrix-doc/projects/2?fullscreen=true</a></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="synapse">Synapse</h3>
<p>Neil, who oversees the creation of <a href="https://github.com/matrix-org/synapse">Synapse</a>:</p>
<blockquote>
<p>Quiet week, not much happening, the only real progress has been shipping a Synapse 1.0 release candidate :) Joking aside we‚Äôd really appreciate your help in testing it ahead of the full release next week. Get the RC here <a href="https://github.com/matrix-org/synapse/releases/tag/v1.0.0rc1">https://github.com/matrix-org/synapse/releases/tag/v1.0.0rc1</a></p>
<p>Also friends don‚Äôt let friends operate a Synapse install without a valid certificate on the federation API. Post 1.0, servers that are not compliant will be locked out of the federation. While the copy needs updating to reflect 1.0‚Äôs imminent release, our handy FAQ (<a href="https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md">https://github.com/matrix-org/synapse/blob/master/docs/MSC1711_certificates_FAQ.md</a>) has all the details.</p>
</blockquote>
<h3 id="construct">Construct</h3>
<p><a href="https://github.com/matrix-construct/construct/">Construct</a>, a C++ homeserver has been doing testing this week:</p>
<blockquote>
<p>I'd like to give special thanks to Ddanyspin97 (Danilo Spinella) for working on building construct with the musl C library so we can enjoy extremely small VM images, as well as <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> for building on Alpine linux also using muslc and Thomas Lewis for starting work on the FreeBSD build.</p>
</blockquote>
<h3 id="ruma">Ruma</h3>
<p><a href="https://github.com/ruma/ruma">Ruma</a>, a homeserver written in Rust, has a new surge of activity following the <a href="https://areweasyncyet.rs/">Rust language syntax developments</a> last week. <a href="https://www.ruma.io/news/this-week-in-ruma-2019-06-02/">This Week in Ruma</a> received it's first edition in ~6 months!</p>
<p>Jimmy, project lead:</p>
<blockquote>
<p>the ruma homeserver is now targeting stable rust, which means the entire project is now on stable rust</p>
</blockquote>
<h3 id="new-project-load-balancer-for-synchrotron-workers">New project: load balancer for synchrotron workers</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">Soru</a>:</p>
<blockquote>
<p>[I] wrote a proof-of-concept load balancer for synchrotron workers....well, proof-of-concept because it isn't tested much, yet!</p>
<p>It routes users to synchrotrons based on their user ID to maximize performance, as per <a href="https://github.com/matrix-org/synapse/blob/master/docs/workers.rst#synapseappsynchrotron">worker docs</a> and, if a synchrotron catches fire it'll also automatically start shuffling workers around.<br />
The <a href="https://github.com/Sorunome/matrix-synchrotron-balancer">repo can be found here</a>, for support just poke soru wherever she is</p>
<p>Contributions are welcome!</p>
</blockquote>
<p>Join the newly created room at <a href="https://matrix.to/#/#matrix-synchrotron-balancer:sorunome.de">#matrix-synchrotron-balancer:sorunome.de</a> to discuss.</p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="ruby-sdk">Ruby SDK</h3>
<p><a href="https://github.com/ananace/">Ananace</a>:</p>
<blockquote>
<p>Just released version 1.1.0 of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby SDK</a>, which includes a few more and improved CS API endpoints, better room alias handling, lazy loading of join rules and guest access, and the forgotten - oops - handling of room avatars.</p>
</blockquote>
<blockquote>
<p>And released version 1.1.1 of the Ruby SDK too, fixing another embarrassing mistake with not including the S2S API methods correctly, which lost the server version retrieval method (The only currently implemented part of the S2S API)</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="riotx">RiotX</h3>
<p>Are you in the know about Matrix? If not, prepare to learn about <a href="https://github.com/vector-im/riotX-android/">RiotX</a>, a <em>completely re-written</em> Matrix client for Android. This new version has a Kotlin SDK.</p>
<p>Benoit, from the team:</p>
<blockquote>
<p>Many things to announce this week on RiotX:</p>
<ul>
<li>Crypto is starting to work! We can now decrypt message and send encrypted messages. The whole feature is not implemented yet, but we will merge the PR at the beginning next week before going further. Thanks Fran√ßois for the great work!</li>
<li>On the timeline, message composed by only emoji are now displayed bigger (as in other Riot clients)</li>
<li>We can now see details and actions of each message, including state event.</li>
<li>We can also see the detailed list of reactions for a particular message, and reaction display rendering has been improved. More details of what has been improved by Valere can be found in this PR description: <a href="https://github.com/vector-im/riotX-android/pull/168">https://github.com/vector-im/riotX-android/pull/168</a>.</li>
<li>Local echo on message edition has been improved</li>
<li>The 3 main themes has been implemented (Light, Dark Black). Status theme is still there but has not been tested yet. There are still some little issues which will be fixed in the next coming days.</li>
<li>The new Home is on develop, composed by a catchup tab, a direct message tab and a group room tab. The drawer is now used to display the groups hierarchy.</li>
<li>A debug signature has been added to the git repository, so the APK built by buildkite can now be installed and replace a previously installed APK.</li>
</ul>
<p>There is still lots of work to do, but we are quite confident to deliver a first alpha version of RiotX to a larger audience at the end of June.</p>
</blockquote>
<h3 id="famedly-talk">famedly talk</h3>
<p>We've <a href="https://matrix.org/blog/2019/04/12/this-week-in-matrix-2019-04-12#famedlystartupwithinvestmentmakinguseofmatrix">heard about Famedly before</a>, and here they are with an announcement about their new client:</p>
<blockquote>
<p>After some months of work our app 'famedly talk' is now able to send and receive messages. We are now concentrating on implementing the most important functions in a stable manner.</p>
</blockquote>
<p><img src="/blog/img/2019-06-07-famedly.png" alt="famedly talk screenshot" /></p>
<h3 id="continuum">continuum</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>:</p>
<blockquote>
<p>fix some missing avatars and names of rooms. Normally continuum saves all useful data to disk when syncing, but the previous version missed some of it, the newer version will query the server for the missing pieces</p>
</blockquote>
<h3 id="fractal">Fractal</h3>
<p>This week in <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>: <a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> noticed  nightly was broken on all three of the computers he was using it on. He bisected and found out when the regression was introduced, but still needs to figure out why it broke and how to fix it.</p>
<blockquote>
<p>The symptom is syncing forever on startup and never actually syncing. The commit introducing the borkage is <a href="https://gitlab.gnome.org/GNOME/fractal/commit/250376a7bd953d480d0d50eabb39ed0e891f9d84">this one</a>.</p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<ul>
<li>Working on polish for reactions and edits</li>
<li>Improving configuration of the default homeserver</li>
<li>Added Albanian and West Flemish languages thanks to translation contributors</li>
</ul>
<h3 id="riot-ios">Riot iOS</h3>
<ul>
<li>Working on reaction local echo.</li>
<li>Working on message edition.</li>
<li>Restrict reactions to room messages.</li>
</ul>
<h3 id="riot-android">Riot Android</h3>
<p>Nothing special this week.</p>
<p><em>DID YOU SEE THE RIOTX UPDATE ABOVE?</em></p>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="matrix-appservice-irc-0-12-0-released">matrix-appservice-irc 0.12.0 released</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>:</p>
<blockquote>
<p><a href="https://github.com/matrix-org/matrix-appservice-irc/">matrix-appservice-irc</a> got a release 0.12.0. This is a smaller release, as it's based upon 0.12.0-rc2 which was released back in March (when exams hit). In the meantime, working towards a speedy 0.13.0 release :)</p>
</blockquote>
<p>Changelog for 0.12.0:</p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>The bridge now supports upgrading rooms, and will follow room upgrades to the new room.
</span><span>Added support for the RoomLinkValidator, which allows admins to manually configure rules about plumbing rooms.
</span><span>A dockerfile is now included.
</span><span>Add support for &quot;feature flags&quot;, allowing users to dynamically enable/disable bridge features for their account.
</span><span>Add command &quot;!bridgeversion&quot;
</span></code></pre>
<p>High-level plan for 0.13.0:</p>
<blockquote>
<p>Fix the most serious P1 bugs like not dropping messages, handling PARTs better, dropping support for older versions of node, and generally better UX.</p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services üöÄ</h2>
<h3 id="matrixservers-net">matrixservers.net</h3>
<p><a href="https://matrix.to/#/@atreatis:novaim.com">Atreatis</a> provided an update to matrixservers.net:</p>
<blockquote>
<p>I've open sourced the website of <a href="https://matrixservers.net">https://matrixservers.net</a> and I am open to contributions towards the website through the github repository: <a href="https://github.com/Atreatis/matrixservers">https://github.com/Atreatis/matrixservers</a><br />
Currently I have refactored matrixservers.net from Hugo to Jekyll which was totally worth it at all times</p>
</blockquote>
<p>Join <a href="https://matrix.to/#/#matrixservers:novaim.com">#matrixservers:novaim.com</a> for more.</p>
<h3 id="www-matrix-wiki-org">www.matrix-wiki.org</h3>
<p><a href="https://matrix.to/#/@sanlox:matrix.org">sanlox</a>:</p>
<blockquote>
<p>I launched <a href="https://www.matrix-wiki.org">https://www.matrix-wiki.org</a> as a place to collect information, lists, guides and manuals related to matrix. I hope as a community we can work together on this to create a central knowledge base for the matrix protocol.</p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final thoughts üí≠</h2>
<p>I spent so much of my week migrating matrix.org to a great new design (from Nad), and am really happy with the result. I'm also really happy with Gatsby, the SSG we've chosen. All these things have flaws but overall it works well.</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;05&#x2F;31&#x2F;this-week-in-matrix-2019-05-31&#x2F;" title="This Week in Matrix 2019-05-31">This Week in Matrix 2019-05-31</a></h2>
                <span>
                    31.05.2019 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live-half-shot-and-sorunome-discuss-the-discord-matrix-bridge">Matrix Live - Half-Shot and Sorunome discuss the Discord-Matrix Bridge üéô</h2>
<iframe src="https://www.youtube.com/embed/uXVci8AkEKE" frameBorder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://github.com/turt2live">TravisR</a>:</p>
<blockquote>
<p>Alongside Synapse‚Äôs 1.0 release, the Matrix Specification is also getting a 1.0 on June 10th. In practice this means a fresh release of the Client-Server, Server-Server, Application Service, and Identity Service specifications. The Push Specification is just so simple it hasn‚Äôt needed an update yet.</p>
<p>Work has been happening to get all the specs in shape for 1.0 - follow along at <a href="https://github.com/matrix-org/matrix-doc/projects/2?fullscreen=true">https://github.com/matrix-org/matrix-doc/projects/2?fullscreen=true</a></p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="synapse">Synapse</h3>
<blockquote>
<p>Main news in synapse-land this week is that we released Synapse v0.99.5.2, which fixes a big performance regression which was introduced v0.99.5. Folks who are currently on v0.99.5/v0.99.5.1 are advised to upgrade asap.</p>
<p>Otherwise, work has been continuing apace towards a v1.0 release on 10th June.</p>
</blockquote>
<h3 id="construct">Construct</h3>
<p><a href="https://github.com/matrix-construct/construct/">Construct</a> is a homeserver implementation in C++:</p>
<blockquote>
<ul>
<li>Construct has added support for Server Access Control Lists (m.room.server_acl). The exact behavior of the implementation is configurable by the server administrator, and is even more comprehensive than Synapse. In Construct, ACLs can be configured to cover incoming EDUs, outgoing events, and indirectly fetched events.</li>
<li>The GraphicsMagick library has been utilized to implement the media thumbnailing feature called for by the specification. This is an optional dependency written in C and offers a rich API which as been extremely fun to work with. In the future, expect your Construct to be capable of things like annotating images with the Server Command Line which can be used to generate memes in your chatroom or write custom text on top of stickers!</li>
<li>On the backend we have devoted significant effort to getting the most out of dynamic-linking to simplify the architecture of a large and modular free-software project. This effort makes adding features and contributions to Construct extremely straightforward. I will enumerate the basics for those familiar with developing C software: We are now loading all modules at runtime with the flags <code>RTLD_GLOBAL|RTLD_DEEPBIND|RTLD_LAZY</code> and we build with the flag <code>--weak-unresolved-symbols</code>; during execution we hook the error handling in <code>ld.so</code> to throw our own C++ exception directly from the PLT slot of a missing symbol. In summary this allows features to be added to Construct by simply creating an interface in a header and definitions in a loadable module, while still enjoying optional loading and unloading of the module at runtime. This is a significant feat that remains unrealized in most existing projects around the free software ecosystem!</li>
</ul>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="nheko-0-6-4-and-0-7-0-roadmap">nheko 0.6.4 and 0.7.0 roadmap</h3>
<p><a href="https://matrix.to/#/@red_sky:ocean.joedonofry.com">red_sky</a> updated us on <a href="https://github.com/Nheko-Reborn/nheko/">nheko</a>:</p>
<blockquote>
<p>Just wanted to pop in and mention that 0.6.4 is out this week.  It comes with a decent number of bug fixes.</p>
</blockquote>
<p>And then:</p>
<blockquote>
<p>Nheko 0.7.0 roadmap is out:
<a href="https://github.com/Nheko-Reborn/nheko/milestone/2">https://github.com/Nheko-Reborn/nheko/milestone/2</a><br />
Also, Nheko-Reborn has a new team member, with MonokelPinguin joining the team : <a href="https://github.com/MonokelPinguin">https://github.com/MonokelPinguin</a>. (goes by Nico in the <a href="https://matrix.to/#/#nheko-reborn:matrix.org">#nheko-reborn</a> room)</p>
</blockquote>
<p><a href="https://matrix.to/#/@l0phty1:privacytools.io">el0</a> pointed out that nheko is available on flathub: <a href="https://flathub.org/apps/details/io.github.NhekoReborn.Nheko">https://flathub.org/apps/details/io.github.NhekoReborn.Nheko</a></p>
<h3 id="continuum-javafx-client">continuum, JavaFX client</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>:</p>
<p><a href="https://github.com/koma-im/continuum-desktop">continuum</a> modified the JSON parser to save a copy of the source. Now fields that are not standard or not yet supported are displayed when you right-click to view the source. For example, &quot;age&quot; and &quot;transaction_id&quot; are not used by the app, but are available when viewing the raw JSON</p>
<p><img src="/blog/img/2019-05-31-continuum.png" alt="continuum screenshot" /></p>
<h3 id="neo">Neo</h3>
<p><a href="https://matrix.to/#/@f0x:pixie.town">f0x</a> has been working on Neo:</p>
<blockquote>
<p>Neo can now finally fetch old backlog, with a fancy css loading animation</p>
<p>The Neo room has moved to <a href="https://matrix.to/#/#neo:pixie.town">#neo:pixie.town</a>, and the site+deployment are being moved to <a href="https://neo.pixie.town">https://neo.pixie.town</a></p>
</blockquote>
<h3 id="fractal">Fractal ü¶∂</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a>:</p>
<blockquote>
<p><a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> got initial support for being kicked, implemented by first time contributor Isaac Curtis.</p>
<p>We also joined the new call at <a href="https://stopthemingmy.app">https://stopthemingmy.app</a></p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<blockquote>
<p>Continued work on edits and reactions. Also ongoing work on sdk-level support for cross-signing. Released Riot 1.2.0 (and 1.2.1).</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="mautrix-telegram-mautrix-facebook-mautrix-hangouts-mautrix-whatsapp">mautrix-telegram, mautrix-facebook, mautrix-hangouts, mautrix-whatsapp</h3>
<p>Can you believe it, <a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> had a busy week working on his various bridges:</p>
<blockquote>
<p><a href="https://github.com/tulir/mautrix-telegram">mautrix-telegram</a> now has native Matrix edit support in both directions and basic Prometheus metrics. I'll probably start making 0.6.0 RCs after improving the metrics a bit.</p>
<p><a href="https://github.com/tulir/mautrix-facebook">mautrix-facebook</a> and <a href="https://github.com/tulir/mautrix-hangouts">mautrix-hangouts</a> got some bugfixes and options to configure the displaynames of the ghost users on Matrix (like adding <code>(FB)</code> or <code>(Hangouts)</code> suffixes).</p>
<p><a href="https://github.com/tulir/mautrix-whatsapp">mautrix-whatsapp</a>'s Matrix puppeting was finished (meaning typing notifs, read receipts and presence updates can now be bridged to WhatsApp) and unexpected disconnection handling was fixed (automatic reconnections should now usually work again).
Backfilling needed some hacks to work with Matrix puppeting. The problem is that the real Matrix users have rate limits and can't send timestamp-massaged messages. I decided to just invite the default ghost user to the room while backfilling and make it leave afterwards so that private chat room names and such would stay intact. Some clients like Riot Android/iOS sometimes do weird things, such as moving the room out of &quot;People&quot;, but that shouldn't be too bad.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="matrix-docker-ansible-deploy-makes-synapse-optional">matrix-docker-ansible-deploy makes Synapse optional</h3>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a>:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> has seen some work in becoming more flexible.</p>
<p>Synapse is not a requirement anymore. People can now use the playbook to install any of the other services, wiring them to a Synapse instance installed in another way.
This is mostly useful for installing bridges or other auxiliary services without going &quot;all in&quot; on the playbook.
Not having Synapse as a fixed requirement also opens the door for installing alternative homeservers, when such become available in the future.</p>
<p>On a similar note, to ease maintanability, all bridges have been moved to separate Ansible roles (outside of the <code>matrix-synapse</code> role).
There have been lots of improvements related to bridge configuration with even more likely to come soon.</p>
</blockquote>
<h3 id="0-99-5-2-kubernetes-optimized-images">0.99.5.2 kubernetes-optimized images</h3>
<p><a href="https://github.com/ananace/">Ananace</a> had <a href="https://github.com/ananace/matrix-synapse">0.99.5.2 kubernetes-optimized images</a> ready to go very quickly.</p>
<h2 id="dept-of-services-rocket">Dept of Services üöÄ</h2>
<h3 id="matrix-user-documentation-launches-tada">Matrix User Documentation launches üéâ</h3>
<p><a href="https://matrix.to/#/@aaron:raim.ist">Aaron</a> (formerly known as Aaron Raimist) has been a major help to the Matrix project, and has recently launched something new:</p>
<blockquote>
<p>I have started another Matrix documentation project, Matrix User Documentation. I know, there are several however none of them aim to actually be a handbook for using Riot or any other clients. I would like for this to become a place where you can find &quot;The (unofficial) Riot Handbook&quot; or &quot;The (unofficial) Quaternion Handbook&quot; as well as a place where you can find answers to more of your FAQs.</p>
<p>It's still very early, only a few answers are written so far and none of the handbooks have been started but I would welcome any community assistance. You can view what I have so far at: <a href="http://mud.raim.ist/en/latest/">http://mud.raim.ist/en/latest/</a></p>
<p>You can contribute some documentation at: <a href="https://github.com/aaronraimist/matrix-user-documentation">https://github.com/aaronraimist/matrix-user-documentation</a> and join our room: <a href="https://matrix.to/#/#matrix-user-documentation:raim.ist">#matrix-user-documentation:raim.ist</a></p>
</blockquote>
<h3 id="matrixservers-net">matrixservers.net</h3>
<p>We welcomed <a href="https://matrix.to/#/@atreatis:novaim.com">Atreatis</a> to Matrix recently. They are creating a new directory service:</p>
<blockquote>
<p>Someone mentioned earlier that there is a need for a list of public servers on Github so people can find and add their public matrix servers. Which combines well with what I am building at the moment. Hopefully you guys don't mind helping me out on creating the list and spreading the word. The repository can be found here: <a href="https://github.com/Atreatis/matrix-servers">https://github.com/Atreatis/matrix-servers</a></p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final thoughts üí≠</h2>
<p><a href="https://gitlab.com/darnir/matrix-shell-suite">Matrix Shell Suite</a> is a promising looking project which could deserve more attention.</p>
<p>Thank You to <a href="https://pyconweb.com/">PyConWeb</a> and especially to <a href="https://matrix.to/#/@hardy:netspectrum.de">Hardy</a> for letting richvdh and myself host TWO Matrix sessions at your event last weekend - was a great time and I hope everyone enjoyed the presentations and workshops.</p>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;05&#x2F;24&#x2F;this-week-in-matrix-2019-05-24&#x2F;" title="This Week in Matrix 2019-05-24">This Week in Matrix 2019-05-24</a></h2>
                <span>
                    24.05.2019 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live-wilko-creator-of-pattle">Matrix Live - Wilko, creator of Pattle üéô</h2>
<p>This week I chatted to <a href="https://matrix.to/#/@wilko:matrix.org">Wilko</a>, creator of Pattle.</p>
<iframe src="https://www.youtube.com/embed/GqmX9FyxkCc" frameBorder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="synapse">Synapse</h3>
<p>Neil:</p>
<blockquote>
<p>Folks, big news this week as we announce that Synapse v1.0 is scheduled for release on 10th June - <a href="https://matrix.org/blog/2019/05/24/final-countdown-to-1-0">read all about it here</a></p>
<p>Aside from that we shipped <a href="https://matrix.org/blog/2019/05/21/synapse-0-99-5-1-released">v0.99.5.1</a> which (hopefully) is the penultimate release ahead of v1.0. Please, everyone upgrade to v0.99.5.1 because it implements rooms v4 which will be the default room version in Synapse v1.0.</p>
<p>0.99.5.1 also contains experimental support for edits and reactions which are currently hidden behind a Riot labs flag.</p>
</blockquote>
<h3 id="dendrite">Dendrite</h3>
<p>Brendan:</p>
<blockquote>
<p>Some activity has been happening this week in Dendrite-land, with <a href="https://matrix.to/#/@brendan:abolivier.bzh">Brendan</a> adding support for Go modules to the project, and <a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> adding SyTest runs to the project‚Äôs CI. These were two long-awaited maintenance works that will make working on Dendrite much easier in the future!</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<blockquote>
<p>libQMatrixClient (that will soon become libQuotient) 0.5.2 has been released, with the sole purpose of fixing a nasty bug unmarking some direct chats when doing initial sync or a clean-cache start up. Everybody on 0.5.x branch is advised to upgrade.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="qmatrixclient-to-quotient">QMatrixClient to Quotient</h3>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>:</p>
<blockquote>
<p>The process of renaming QMatrixClient to Quotient has commenced - expect some turbulence while we're transitioning. The place for the repos is at <a href="https://github.com/quotient-im">https://github.com/quotient-im</a>. Note that although the library repo name has changed, the old version of the library will continue releases under the old name (libQMatrixClient), and only in the master branch the library will be renamed. In most cases redirects should bring you home even if you request the old URL (thanks to GitHub); however, people with git repos are strongly advised to update their remotes to new URLs!</p>
</blockquote>
<p>In other news:</p>
<blockquote>
<p>For platforms that don't have a separate libQMatrixClient package (that is, Windows, macOS, Flatpak and AppImage), Quaternion 0.0.9.4 has been rebuilt with libQMatrixClient 0.5.2 - in the form of Quaternion 0.0.9.4c release.</p>
</blockquote>
<h3 id="tangent">tangent</h3>
<p><a href="https://gitlab.com/sanlox/tangent">tangent</a> is an embeddable HTML client from <a href="https://matrix.to/#/@sanlox:matrix.org">sanlox</a>:</p>
<blockquote>
<p>I added guest login, possibility to disable guest login, possibility to set own message limit on startup and various error messages. Cleaned up the code to make it more consistent and faster. Everything I wanted to have for this tiny embeddable web chat is now there so I'd consider it finished for now.</p>
</blockquote>
<p>Check it out at: <a href="https://sanlox.dev/tangent/">https://sanlox.dev/tangent/</a></p>
<p><img src="/blog/img/2019-05-24-tangent.png" alt="" /></p>
<h3 id="continuum">continuum</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a> updated their JavaJX client:</p>
<blockquote>
<p>minor changes in <a href="https://github.com/koma-im/continuum-desktop">continuum</a> this week:</p>
<ul>
<li>updated controlsfx to version 11, which has better modularization support</li>
<li>sync issue indicator now uses NotificationPane from controlsfx, so now it has slide-in animation when it appears
https://matrix.org/_matrix/media/v1/download/matrix.org/VtPORWFqBamfnuJtPtgEXWBs</li>
</ul>
</blockquote>
<p><img src="/blog/img/2019-05-24-continuum.png" alt="" /></p>
<h3 id="neo-now-has-image-video-and-general-file-sending">Neo now has image, video and general file sending</h3>
<p><a href="https://matrix.to/#/@f0x:lain.haus">Fox</a>:</p>
<blockquote>
<p>Neo now supports sending multiple images, videos and files at once. You'll get a bar with previews, and the option to remove them from the queue/add more.<br />
There's also been a bunch of changes to how events are handled. Images and videos should be much more robust against missing keys (no thumbnail, no information, etc), and there's basic displaying of the most common state events.<br />
I also added an experimental media repository fallback option, which is disabled by default, and only implemented for room avatars. This allows you to provide a list of alternative homeservers Neo is allowed to try when your own homeserver can't load a piece of media.<br />
Due to the loss of lain.haus, I lost admin access in the Neo room, so keep your eyes out for a new one when my infra is back.<br />
I'm currently not really versioning anything, but I do push significant commits to <a href="https://neo.lain.haus/neo">https://neo.lain.haus/neo</a> for people to try. Once it gets to a more useable state, I'll start adopting semantic versioning.</p>
</blockquote>
<p><img src="/blog/img/2019-05-24-neo.png" alt="" /></p>
<h3 id="spectral-update">Spectral update</h3>
<p><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>:</p>
<blockquote>
<p>You can now paste images from the clipboard in <a href="https://gitlab.com/spectral-im/spectral">Spectral</a>. It is also possible to change room name and topic in room settings. A new release is pushed to Flathub to address direct room issues. Also there've been discussions about implementing custom room themes and backgrounds.</p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<blockquote>
<ul>
<li>Continued work on reactions and edits</li>
<li>New emoji font added to standardise emoji appearance and assist OS / browser combinations that don‚Äôt support emoji by default</li>
</ul>
</blockquote>
<h3 id="riot-mobile">Riot Mobile</h3>
<blockquote>
<ul>
<li>Continued work on reactions and edits</li>
<li>Riot-iOS has a new actions menu on event</li>
<li>Fix registration with an email</li>
</ul>
</blockquote>
<h3 id="riot-and-riotx-available-from-f-droid">Riot and RiotX available from F-Droid</h3>
<p><a href="https://matrix.to/#/@krombel:msg-net.de">krombel</a> updated their Riot(X) F-Droid repos:</p>
<blockquote>
<p>I finally found some time to update my fdroid repos which provide the development builds of riot and riotx. Now the builds of buildkite are part of the repos.<br />
There are now 4 separate repos: One for each app and flavor. You can have a look at https://fdroid.krombel.de to find out the URL for the version you want to use.</p>
</blockquote>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>Riot-dev (F-Droid; Repo; Build-Source)
</span><span>    https://fdroid.krombel.de/riot-dev-fdroid
</span><span>    https://fdroid.krombel.de/riot-dev-fdroid/fdroid/repo
</span><span>    Fingerprint: 312E07B9444D0D1B615EBBAAC55EA4E5A54E123C3BEFCCA5D18B5E12DFC95BDC
</span><span>
</span><span>Riot-dev (GPlay; Repo; Build-Source)
</span><span>    https://fdroid.krombel.de/riot-dev-gplay
</span><span>    https://fdroid.krombel.de/riot-dev-gplay/fdroid/repo
</span><span>    Fingerprint: 81EDF1741A51B944B00B55E307C7AA043623CB646599182A104B895B6B319844
</span><span>
</span><span>RiotX-dev (F-Droid; Repo; Build-Source)
</span><span>    https://fdroid.krombel.de/riotx-dev-fdroid
</span><span>    https://fdroid.krombel.de/riotx-dev-fdroid/fdroid/repo
</span><span>    Fingerprint: FD146EF30FA9F8F075BDCD9F02F069D22061B1DF7CC90E90821750A7184BF53D
</span><span>RiotX-dev (GPlay; Repo; Build-Source)
</span><span>
</span><span>    https://fdroid.krombel.de/riotx-dev-gplay
</span><span>    https://fdroid.krombel.de/riotx-dev-gplay/fdroid/repo
</span><span>    Fingerprint: 5564AB4D4BF9461AF7955449246F12D7E792A8D65165EBB2C0E90E65E77D5095
</span></code></pre>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="major-whatsapp-bridging-update">Major WhatsApp bridging update</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> made great strides on <a href="https://github.com/tulir/mautrix-whatsapp">mautrix-whatsapp</a> this week:</p>
<blockquote>
<p>I've been working on mautrix-whatsapp to add history bridging and Matrix puppeting.</p>
<ul>
<li>New portals are populated with some history when creating them (exact count is configurable)</li>
<li>All messages missed during bridge downtime are backfilled</li>
<li>Creating portals is smarter now:</li>
<li>When logging in initially, it'll create portals for a few recent chats (count configurable).</li>
<li>It'll create portals when there are incoming messages as before, but it should no longer create portals for chats that only have old messages.</li>
<li>The missed message backfilling creates portals when necessary.</li>
</ul>
<p>Matrix puppeting isn't quite finished yet. It can already use your Matrix account to bridge messages sent from whatsapp mobile, but it doesn't use the account to bridge EDUs (typing notifs, presence, read receipts) yet.</p>
<p>To make the history bridging a bit nicer, I made a PR to fix timestamp massaging in synapse: https://github.com/matrix-org/synapse/pull/5233. Timestamp massaging was removed from the spec in 1.0, but it wasn't intentionally removed from synapse, it just broke due to other changes. It was probably supposed to stay there as an easter egg until there's a proper solution for bridging history.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<p><a href="https://github.com/ananace/">Ananace</a> pushed updated <a href="https://github.com/ananace/matrix-synapse">K8s images for Synapse 0.99.5</a></p>
<p><a href="https://matrix.to/#/@bubu:bubu1.eu">Bubu</a> updated synapse on Arch:</p>
<blockquote>
<p>Archlinux updated to synapse 0.99.5 as well after the requests, urllib3 <a href="https://github.com/matrix-org/synapse/commit/62388a1e44278f9aa22244750433ac46142b266a">incomopatibility</a> thing was sorted out.</p>
</blockquote>
<p><a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a> updated the synapse avhost docker image:</p>
<blockquote>
<p>With synapse v 0.99.5.1 the <a href="https://hub.docker.com/r/avhost/docker-matrix/tags">avhost docker image</a> has finally moved to python 3</p>
</blockquote>
<h2 id="dept-of-services-rocket">Dept of Services üöÄ</h2>
<h3 id="modular">Modular</h3>
<p>New widget for Scalar: EtherCalc. </p>
<p><img src="/blog/img/2019-05-24-ethercalc.png" alt="" /></p>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="quatbot">QuatBot</h3>
<p>Very <em>very</em> new, let's take a look at QuatBot, which uses libQuotient:</p>
<blockquote>
<p><a href="https://github.com/adriaandegroot/QuatBot">QuatBot</a> is a simple meeting-management bot for use with the Matrix. Taking turns during an online meeting -- and making sure everyone gets to have their say -- takes a bit of organizing, and this bot helps you do that. QuatBot runs as a command-line application.</p>
</blockquote>
<h2 id="dept-of-articles-memo">Dept of Articles üìù</h2>
<p><a href="https://matrix.to/#/@uhoreg:matrix.org">uhoreg</a> wrote a <em>really</em> informative article about key verification:</p>
<blockquote>
<p>For those who want to know more about the security behind emoji-based key verification, I've written a blog post about it: https://www.uhoreg.ca/blog/20190514-1146</p>
</blockquote>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSOC üéì</h2>
<h3 id="gsoc-2019-reliable-bridges">GSoC 2019 ‚Äì Reliable Bridges</h3>
<p>Thanks <a href="https://matrix.to/#/@kai:nasnotfound.de">Kai</a> for this introduction to his project:</p>
<blockquote>
<p>The <em>Reliable Bridges</em> GSoC project is about implementing a feedback mechanism for the Matrix network in cases where bridges are not able to properly handle messages. Currently clients are unable to know if a message was successfully sent over a bridge. With the new mechanism in place they get the information about errors happening at bridges and can behave accordingly by e.g. notify the user of the failed delivery.</p>
<p>The implementation is foremost focused on the <a href="https://github.com/Half-Shot/matrix-appservice-discord">matrix-appservice-dicord</a> bridge which uses the underlying <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a>. A JS bridge was chosen so that as much code as possible is brought into the SDK and other bridges can profit sooner from the work done.</p>
<p>The first step for implementing the new feature will be the signaling of permanent errors occurring at the bridge (in contrast to temporary failures). They might occur e.g. when the sending account was banned on the bridged foreign network. These permanent errors will be implemented as a new type of PDU originating from the bridge.</p>
<p>After permanent errors are done, the subsequent weeks will see work on temporary failures which might include work on Synapse as well as work on Riot Web to have a client which actually uses the new events. As these events are new features being introduced there will also be a MSC draft. There everyone can check out the proposed solution and tear it apart with their criticism (if applicable üòâ).</p>
<p>For discussions related to the GSoC project or when you have some opinions on how the MSC should look like, you are invited to join the <a href="https://matrix.to/#/#reliablebridges:nasnotfound.de">Reliable Bridges Matrix room</a>.</p>
</blockquote>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>Finally Alan, friend of Matrix and creator of TADHack and TADSummit is doing an &quot;Open Source Telecom Software Survey&quot; - if you could add value to this research by completing it please do so here: <a href="http://alanquayle.com/2019/05/open-source-telecom-software-project-survey/">http://alanquayle.com/2019/05/open-source-telecom-software-project-survey/</a></p>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2019&#x2F;05&#x2F;17&#x2F;this-week-in-matrix-2019-05-17&#x2F;" title="This Week in Matrix 2019-05-17">This Week in Matrix 2019-05-17</a></h2>
                <span>
                    17.05.2019 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live-reactions-and-edits-coming-to-matrix">Matrix Live - Reactions and Edits coming to Matrix</h2>
<iframe src="https://www.youtube.com/embed/hloqX99FEQk" frameBorder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>
<p><del>If</del> Since you've been chatting on Matrix this week, you'll have noticed some new features rolling out.</p>
<p>In <a href="https://riot.im/develop/">Riot develop</a>, hit <code>Labs</code> in the Settings menu and you'll be able to try out the new Reactions and message editing features.</p>
<h2 id="dept-of-servers">Dept of Servers</h2>
<h3 id="synapse">Synapse</h3>
<p>Neil said:</p>
<blockquote>
<p>This week we shipped <a href="https://matrix.org/blog/2019/05/15/synapse-0-99-4-released">0.99.4</a>  - no stand out ‚Äòoh my gosh‚Äô headlines, just lot lot of bug fixes and perf improvements - get involved. We‚Äôve also been working hard to getting things like reactions and edits going, as well more prep for improving perf for small server instances.</p>
</blockquote>
<h3 id="construct">Construct</h3>
<p>First <a href="https://github.com/matrix-construct/construct/">Construct</a> update for a few weeks:</p>
<blockquote>
<p><a href="https://github.com/matrix-construct/construct/">Construct</a> has added a server command line available in any room when starting a line with a special character (by default it's '\'). The commands are private so the room doesn't actually see it. More on this next week, or check out <a href="https://matrix.to/#/#test:zemos.net">#test:zemos.net</a>.</p>
</blockquote>
<p><img src="/blog/img/2019-05-17-construct.png" alt="" /></p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks</h2>
<h3 id="ruby-sdk-now-1-0">Ruby SDK now 1.0!</h3>
<p>Big news from <a href="https://github.com/ananace/">Ananace</a> this week:</p>
<blockquote>
<p>Finished getting the test coverage to a reasonable enough percentage to feel comfortable releasing the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby Matrix SDK</a> as a nice and stable 1.0 (.0)</p>
</blockquote>
<p>This is great! All Rubyists should check it out. Ananace notes:</p>
<blockquote>
<p>I still need to set up fixtures for all the API endpoints I'm exposing so I can verify every single API call as well, but I see that as a later thing as that relates mostly to how the other side (the HS) handles my input, not to how the SDK itself handles said input</p>
</blockquote>
<h2 id="dept-of-clients">Dept of Clients</h2>
<h3 id="pattle">Pattle</h3>
<p><a href="https://matrix.to/#/@wilko:matrix.org">Wilko</a>:</p>
<blockquote>
<p>A new version of Pattle is available on F-droid!</p>
<p>Changes include:</p>
<ul>
<li>Implement direct chats correctly!
<ul>
<li>Use user user avatar as chat avatar if direct</li>
<li>Hide user name in direct chat</li>
</ul>
</li>
<li>Use names of room members if no room name is set
(whether the chat is direct or not)</li>
<li>Add border to left of replied-to messages to easily
differentiate them</li>
<li>Show redaction events!</li>
<li>Use icons instead of letters if chat has no avatar
<ul>
<li>Use different icons for direct chats than group chats
(and in the future public chats)</li>
</ul>
</li>
<li>Use user color for direct chats if the user has no avatar</li>
<li>Simplify member change messages ('Pat has joined' -&gt; 'Pat joined', etc)</li>
<li>Tweak font sizes (thanks to <a href="https://matrix.to/#/@mat:tout.im">Mathieu Velten</a>)!</li>
<li>Change date header style (smaller and full caps)</li>
</ul>
<p>Development happens <a href="https://git.pattle.im">here</a> and development discussion happens here: #pattle:matrix.org!</p>
<p>To install this release, add the following repo in F-droid:</p>
<p>https://fdroid.pattle.im/?fingerprint=E91F63CA6AE04F8E7EA53E52242EAF8779559209B8A342F152F9E7265E3EA729</p>
<p>And install 'Pattle'.</p>
</blockquote>
<p><img src="/blog/img/2019-05-17-pattle.png" alt="" /></p>
<h3 id="riot-various">Riot (various)</h3>
<p>This week the various Riot teams (web, iOS, Android)  have been spending time implementing reactions/edits, but also:</p>
<h4 id="riot-android">Riot Android</h4>
<blockquote>
<ul>
<li>PR review from community: Matomo SDK will replace Piwik SDK</li>
<li>Weblate is up again, a sync has been done.</li>
</ul>
</blockquote>
<h4 id="riotx-android">RiotX (Android)</h4>
<blockquote>
<ul>
<li>Crypto integration is still ongoing</li>
<li>Reactions are coming soon!</li>
<li>New home and navigation to rooms development started</li>
</ul>
</blockquote>
<h3 id="tangent">tangent</h3>
<p><a href="https://gitlab.com/sanlox/tangent">tangent</a> is an exciting young project designed to create a very lightweight browser-based new client. <a href="https://matrix.to/#/@sanlox:matrix.org">sanlox</a>:</p>
<blockquote>
<p>did alot of changes on tangent to make it more stable and performant, only registration and guest login are left to do, git changed to <a href="https://gitlab.com/sanlox/tangent">https://gitlab.com/sanlox/tangent</a></p>
</blockquote>
<p>Test the latest at: <a href="https://sanlox.dev/tangent/">https://sanlox.dev/tangent/</a></p>
<h3 id="spectral-timeline-ui-and-more">Spectral timeline UI and more</h3>
<p><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>:</p>
<blockquote>
<ul>
<li>Polished the timeline UI for Spectral.</li>
<li>Added <code>m.video</code> support.</li>
<li>Also added drag-and-drop support in Spectral.</li>
</ul>
</blockquote>
<p><img src="/blog/img/2019-05-17-spectral.png" alt="" /></p>
<h3 id="fractal-now-with-keyboard-shortcuts">Fractal now with keyboard shortcuts</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a>:</p>
<blockquote>
<p>Ana, first time contributor, added a bunch of cool keyboard shortcuts to ease navigation in Fractal. One can now e.g. go down to the next room with unread messages with ctrl+shift+page down.</p>
</blockquote>
<p><img src="/blog/img/2019-05-17-fractal.png" alt="" /></p>
<h3 id="continuum-updates">continuum updates</h3>
<p><a href="https://matrix.to/#/@uforia:matrix.org">yuforia</a>:</p>
<blockquote>
<ul>
<li>Load message history from server lazily when scrolling</li>
<li>Loaded messages are always saved to disk, so if you aren't offline for too long, only a few messages will need to be fetched the next time you login</li>
<li>The screenshot also shows the UI for handling invitations</li>
</ul>
</blockquote>
<p><img src="/blog/img/2019-05-17-continuum.png" alt="" /></p>
<h3 id="early-day-reactions-support-in-quaternion">early-day reactions support in Quaternion</h3>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>:</p>
<blockquote>
<p>This week was too packed IRL but I took an hour to experiment with reactions that are a rage in riot.im/develop these days. An experimental &quot;kitsune-reactions&quot; branch understands reaction events and allows clients to further process them. A proof-of-concept in <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> will land over the weekend.</p>
</blockquote>
<h3 id="scylla">Scylla</h3>
<p>via <a href="https://matrix.to/#/@aaron:raim.ist">Aaron Raimist</a>:</p>
<blockquote>
<p>Update on <a href="https://matrix.org/docs/projects/client/Scylla.html">Scylla</a> from <a href="https://matrix.to/#/@daniel:riot.danilafe.com">VaNilLa</a>: Though I am very busy with schoolwork, I found time to fix a long-standing issue: the names of private messages showing up as <code>&lt;No Name&gt;</code>. this is gone now, and rooms are sorted alphabetically to make it easier to navigate.<br />
Try Scylla here: <a href="https://scylla.danilafe.com">https://scylla.danilafe.com</a><br />
Come join us in <a href="https://matrix.to/#/#scylla:riot.danilafe.com">#scylla:riot.danilafe.com</a> to discuss</p>
</blockquote>
<h2 id="dept-of-bridges">Dept of Bridges</h2>
<h3 id="matrix-appservice-discord-0-5-0">matrix-appservice-discord 0.5.0</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>:</p>
<blockquote>
<p>Evening, we've just cut the first RC of <a href="https://github.com/Half-Shot/matrix-appservice-discord">matrix-appservice-discord</a> 0.5.0. Most of the changes this time around are bugfixes to formatting, internal re-architecturing / performance boosts and shifting more things to the database. Please help test if you run an instance, so we can get a 0.5.0 out swiftly. The next release has a lot of features planned for it üòâ</p>
</blockquote>
<p>Also - congratulations to Half-Shot on finishing all his final-year exams! How will you fill your time now?</p>
<h3 id="mautrix-telegram-mautrix-hangouts-mautrix-facebook-mautrix-whatsapp">mautrix-telegram/mautrix-hangouts/mautrix-facebook/mautrix-whatsapp</h3>
<p>Think <a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>'s been busy this week?</p>
<blockquote>
<p>Lots of small changes in my projects:</p>
<ul>
<li><a href="https://github.com/tulir/mautrix-telegram">mautrix-telegram</a> had a bunch of bugs fixed, like multiline messages from some clients not being bridged correctly.</li>
<li><a href="https://github.com/tulir/mautrix-hangouts">mautrix-hangouts</a> got matrix-&gt;hangouts image bridging and some bugfixes.</li>
<li><a href="https://github.com/tulir/mautrix-facebook">mautrix-facebook</a> also got some bugfixes.</li>
<li><a href="https://github.com/tulir/mautrix-whatsapp">mautrix-whatsapp</a> now informs the user about connection problems rather than crashing and has commands to try to reconnect. It also now bridges redactions in both directions.</li>
</ul>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops</h2>
<h3 id="kubernetes-from-ananace">kubernetes from Ananace</h3>
<p><a href="https://github.com/ananace/">Ananace</a> updated their k8s packaging for Synapse to 0.99.4: <a href="https://github.com/ananace/matrix-synapse">https://github.com/ananace/matrix-synapse</a></p>
<h3 id="debian-packages">Debian Packages</h3>
<p><a href="https://matrix.to/#/@andrew:shadura.me">andrewsh</a> announced the <a href="https://matrix-team.pages.debian.net/blogue/">Debian Matrix Packagers Team has its own dedicated blog</a></p>
<blockquote>
<p>for everything about Matrix on Debian, join <a href="https://matrix.to/#/#debian-matrix:matrix.org">#debian-matrix:matrix.org</a></p>
</blockquote>
<h3 id="silvio-avhost-synapse-docker-container">silvio/avhost synapse docker container</h3>
<p><a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a>:</p>
<blockquote>
<p>the <a href="https://github.com/AVENTER-UG/docker-matrix">silvio/avhost synapse docker container</a> is making progress in moving to python 3, the container is made smaller and no longer runs synapse as root</p>
</blockquote>
<p>There are some important differences between this and <a href="https://github.com/matrix-org/synapse/tree/master/contrib/docker">https://github.com/matrix-org/synapse/tree/master/contrib/docker</a>:</p>
<blockquote>
<p>it puts all the configuration files, logfiles and media files in the volume, you don't really configure it with environmental variables but just by editing the homeserver.yaml file in the volume, and it also contains coturn</p>
</blockquote>
<h2 id="dept-of-bots">Dept of Bots</h2>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> created a &quot;reactbot&quot;:</p>
<blockquote>
<p>Hot on the heels of the rapid developments of the reaction work, I've written a bot that automatically reacts when spotting certain phrases inside rooms. Honestly I have no idea what the use case is for this, but it exists and I currently use it to stick the :dog: reaction on every dog related event. <a href="https://github.com/Half-Shot/matrix-reactbot">https://github.com/Half-Shot/matrix-reactbot</a></p>
</blockquote>
<p>The bot is also now used in <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a>, whhere it performs the needed work of adding red circles to submissions.</p>
<p><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>'s <a href="https://github.com/maubot/karma">karma</a> maubot now also supports reactions and redactions, and the maubot <a href="https://github.com/maubot/sed">sed plugin</a> now underlines changes in messages.</p>
<h2 id="dept-of-status-of-matrix">Dept of <em>Status of Matrix</em></h2>
<h3 id="t2bot-io-has-launched-a-new-website">t2bot.io has launched a new website</h3>
<p><a href="https://github.com/turt2live">TravisR</a>:</p>
<blockquote>
<p><a href="https://t2bot.io/">t2bot.io</a> has launched a new website, surpassed a milestone of 300k total bridged users (70k of those are active monthly), and launched 2 new early-beta-quality bridges. If you're looking to try out tulir's latest Hangouts or Facebook Messenger bridge then <a href="https://t2bot.io/">t2bot.io</a> is an option for that, assuming you don't mind the occasional bug, missing feature, or problem. Check out https://t2bot.io/hangouts/ and https://t2bot.io/messenger/ for setup instructions.</p>
</blockquote>
<h2 id="that-s-all-i-know">That's all I know</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#twim:matrix.org">#twim:matrix.org</a> with your updates!</p>
<p>PS Massive thanks to <a href="https://matrix.to/#/@aaron:raim.ist">Aaron Raimist</a> for doing the needful to make full articles appear in RSS!</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;ben-parsons&#x2F;page&#x2F;11&#x2F;">‚Äπ Previous</a>
        
    </div>
    <span class="page-number">12 / 18</span>
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;ben-parsons&#x2F;page&#x2F;13&#x2F;">Next ‚Ä∫</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>¬© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
