<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Ben Parsons</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/author/ben-parsons/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo-white.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        
        
        <details  class="section-wrap mobile">
            <summary class="section ">
                Documentation
                <div class="arrow"></div>
            </summary>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    
                    <a href="&#x2F;docs&#x2F;chat_basics&#x2F;">Chat basics</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;communities&#x2F;">Communities</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;technical&#x2F;">Technical docs</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;legacy&#x2F;">Legacy documentation</a>
                    
                </div>
            </div>
        </details>
        <div class="section-wrap desktop">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    
                    
                    <a href="&#x2F;docs&#x2F;chat_basics&#x2F;">Chat basics</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;communities&#x2F;">Communities</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;technical&#x2F;">Technical docs</a>
                    
                    
                    <a href="&#x2F;docs&#x2F;legacy&#x2F;">Legacy documentation</a>
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <details  class="section-wrap mobile">
            <summary class="section ">
                Ecosystem
                <div class="arrow"></div>
            </summary>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                    
                </div>
            </div>
        </details>
        <div class="section-wrap desktop">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Ben Parsons</h1>
            175 posts tagged with "Ben Parsons" <a href="/author">(See all Author)</a>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;08&#x2F;28&#x2F;this-week-in-matrix-2020-08-28&#x2F;" title="This Week in Matrix 2020-08-28">This Week in Matrix 2020-08-28</a></h2>
                <span>
                    28.08.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe src="https://www.youtube.com/embed/gtbIWSsHICI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> announced:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2749">MSC2749: Per-user E2EE on/off setting</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, we're taking off <a href="https://github.com/matrix-org/matrix-doc/issues/2674">MSC2674</a> and <a href="https://github.com/matrix-org/matrix-doc/issues/1544">MSC1544</a> while the author works through feedback, and instead looking at getting widgets in line.</p>
<p>The spec for widgets has so far lived on a collaborative document that hasn't been updated in some time. As a result multiple, separate implementations have sprouted. We'd like to nail this down. So the focus for this week will be: <a href="https://github.com/matrix-org/matrix-doc/pull/1960">MSC1960</a> (widget auth mechanics) and <a href="https://github.com/matrix-org/matrix-doc/issues/1236">MSC1236</a> (general widgets).</p>
</blockquote>
<p><img src="/blog/img/2020-08-28-MSnEZ-stacked_area_chart.png" alt="2020-08-28-MSnEZ-stacked_area_chart.png" /></p>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC üéìÔ∏è</h2>
<p>The coding phase of <a href="https://summerofcode.withgoogle.com/dashboard/timeline/">Google Summer of Code is over</a>! That said there is still a bunch of stuff to do, code is still appearing and we're now entering the time of <em>many forms to fill in</em> in order for people to get paid.</p>
<p>A little pre-emptive, but wow it's been a good summer! SIX students, all did well!</p>
<h3 id="matrix-ircd-call-for-testing">matrix-ircd - Call for Testing</h3>
<p><a href="https://matrix.to/#/@jplatte:matrix.org">jplatte</a> announced:</p>
<blockquote>
<p>GSoC coding is over and there's now an async/await ported matrix-ircd! Before merging that into master, it would be nice to have it tested a bit more. To install it, you first need <code>Cargo</code>, Rust's package manager (<a href="https://doc.rust-lang.org/cargo/getting-started/installation.html">Installation</a>). With that set up, just run</p>
<pre data-lang="sh" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-sh "><code class="language-sh" data-lang="sh"><span>cargo install --git &lt;https://github.com/matrix-org/matrix-ircd&gt; --branch async_await
</span><span>
</span></code></pre>
<p>Once matrix-ircd is installed, you can <a href="https://github.com/matrix-org/matrix-ircd/tree/async_await#usage">run it</a> and connect to the locally spawned server with any IRC client.</p>
</blockquote>
<h3 id="html-embeddable-matrix-chat">HTML embeddable matrix chat</h3>
<p><a href="https://matrix.to/#/@arnav-t:matrix.org">arnav-t</a> said:</p>
<blockquote>
<p>For the GSoC project HTML embeddable matrix chat this week -</p>
<ul>
<li>
<p>Added an 'auto' option for the theme (read and set the theme from the device)-</p>
</li>
<li>
<p>Added a 'custom' highlight color (meant to be modified by users).</p>
</li>
<li>
<p>Restyled various components.</p>
</li>
</ul>
</blockquote>
<p>More news to come from this project - going to be used in a really exciting live event in the near future. Arnav has accidentally found a niche. :D</p>
<p>One more thing: This project needs a new name (<a href="https://github.com/arnav-t/riot-embedded">riot-embedded</a> I don't like.) If you have ideas you can fling them at <a href="https://matrix.to/#/@arnav-t:matrix.org">arnav-t</a> or post in <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a>.</p>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> told us:</p>
<blockquote>
<p>This week has mostly been focused on <a href="https://github.com/matrix-org/dendrite/milestone/8">beta milestone tasks</a> and bug fixes. Changes this week include:</p>
<ul>
<li>
<p>Joining rooms which the server already belongs to when invited by a user from another homeserver is now significantly faster</p>
</li>
<li>
<p>The client API no longer refers to the device DB directly, instead using the new user API</p>
</li>
<li>
<p>A number of locking issues have been fixed in the federation sender</p>
</li>
<li>
<p>The <code>/join</code> endpoint now accepts <code>?server_name=...</code> query parameters</p>
</li>
<li>
<p>The device list updater now obeys the backoff period and blacklisted status from the federation sender</p>
</li>
<li>
<p>Uploaded media will no longer be truncated to 0 bytes when <code>max_file_size_bytes</code> option is set to 0 (for unlimited)</p>
</li>
<li>
<p>The media API now correctly cleans up temporary directories when errors occur</p>
</li>
<li>
<p>The media API now returns unique media IDs and metadata when multiple users upload the same file, whilst maintaining deduplication on disk</p>
</li>
<li>
<p>Rejecting invites over federation multiple times should now work properly</p>
</li>
<li>
<p>Redactions are now permanent and are committed to the database</p>
</li>
<li>
<p>Some caches have been added to the roomserver for room IDs, state key IDs and event type IDs to reduce pressure on the database</p>
</li>
<li>
<p>The redaction endpoint is now spec-compliant</p>
</li>
<li>
<p>Some places where global errors were overwritten have been fixed (thanks oliverpool!)</p>
</li>
<li>
<p>Some state key checks in the roomserver membership updaters have now been tidied up (thanks oliverpool!)</p>
</li>
</ul>
<p>Spec compliance has improved slightly:</p>
<ul>
<li>
<p>Client-Server APIs: 55%, up from 54% last week</p>
</li>
<li>
<p>Server-Server APIs: 70%, down from 71% last week due to a single flakey test</p>
</li>
</ul>
<p>We've also updated some of our documentation and created a whole new set of <a href="https://github.com/matrix-org/dendrite/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">easy first issues</a> and <a href="https://github.com/matrix-org/dendrite/issues?q=is%3Aissue+is%3Aopen+label%3Ahelp-wanted">medium to hard issues</a> for contributors.</p>
<p>If contributing to Dendrite sounds like something you would be interested in, please take a look at these issues and join us in <a href="https://matrix.to/#/#dendrite-dev:matrix.org">#dendrite-dev:matrix.org</a>! There's also <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for general Dendrite chat.</p>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> said:</p>
<blockquote>
<p>Some new features this week!</p>
<ul>
<li>
<p>Handle transaction ids to avoid duplicate messages on bad connections</p>
</li>
<li>
<p>Redaction reasons</p>
</li>
<li>
<p>Add remaining key backup endpoints (e.g. deleting backups)</p>
</li>
<li>
<p>Send correct device list changes when leaving and joining e2ee rooms</p>
</li>
</ul>
<p>Also check out our new website (https://conduit.rs) if you haven't already.</p>
<p>Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> offered:</p>
<blockquote>
<p>This week Erik has been working on sharding the Event Persister worker as we aim further for horizontal scalability for Synapse. Some of the complication comes from ensuring that sysadmin's don't misconfigure things where multiple event persisters persist events in the same room.</p>
</blockquote>
<p><img src="/blog/img/2020-08-28-uUl-U-image.png" alt="2020-08-28-uUl-U-image.png" /></p>
<blockquote>
<p>Patrick has been continuing on the async/await train and has just submitted the final PR which async's our <code>runInteraction</code> method - the one that most database calls go through. Synapse is nearly 100% async! He's also been submitting a flurry of shadow ban PRs, which will be another powerful tool for moderation.</p>
<p>Brendan and Rich are continuing to work on the Notifications rewrite, with Brendan finishing up unread counts, and Rich polishing up designs for the new replacement for push rules.</p>
<p>Andrew (<em>who dat? - ed.</em>) is continuing to work on the <a href="https://github.com/matrix-org/matrix-doc/pull/2403">knocking MSC</a> and has fleshed out the CS and SS details. There are still some open questions though, so please give feedback if you notice anything off!</p>
<p>Finally, Olivier has been working on making sure you get your missed messages when your homeserver has been offline for a while, as well as various Sygnal fixes and matrix-synapse-ldap3.</p>
<p>Them's the news!</p>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@pierre:mamieserv.fr">Pierre</a> said:</p>
<blockquote>
<p><a href="https://yunohost.org">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration had been updated to 1.18.0 (1.19.0 available in branch <code>testing</code>)</p>
<p><a href="https://github.com/YunoHost-Apps/element_ynh/tree/master">Element Web</a> integration had been updated to 1.7.3 (1.7.4 available in branch <code>testing</code>)</p>
</blockquote>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> told us:</p>
<blockquote>
<p>Just pushed an update to my <a href="https://gitlab.com/ananace/charts">matrix-synapse chart</a>, fixing the volume permission configuration - for those who want to run Synapse as non-root without using a storage class that supports setting rights based on <code>fsGroup</code></p>
</blockquote>
<p>and then</p>
<blockquote>
<p>Just pushed the 1.19.1 tags for my K8s-optimized container image, and a new helm chart version to go with it.</p>
</blockquote>
<p>Did you know that Ananace is running a Matrix server for <a href="https://liu.se/">Link√∂pings universitet</a>?<br />
Another True Fact: &quot;universitet&quot; appears to be Swedish for &quot;university&quot;.</p>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="matrix-appservice-mattermost">matrix-appservice-mattermost</h3>
<p><a href="https://matrix.to/#/@dalcde:matrix.org">dalcde</a> offered:</p>
<blockquote>
<p>I recently published a new matrix &lt;-&gt; mattermost bridge - <a href="https://github.com/dalcde/matrix-appservice-mattermost">matrix-appservice-mattermost</a>. The new bridge already supports many features and is rapidly improving, with the current focus being setting up proper integration tests.</p>
</blockquote>
<p>New bridge! This is actually really fully featured considering that we've only just heard about it! Looking forward to seeing more from dalcde and team in future.</p>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="daydream">Daydream</h3>
<p><a href="https://matrix.to/#/@mtrnord:nordgedanken.dev">MTRNord</a> offered:</p>
<blockquote>
<p>Some small updates on Daydream:</p>
<ul>
<li>
<p>The pages <a href="https://daydream.im">https://daydream.im</a> and <a href="https://app.daydream.im">https://app.daydream.im</a> get finally updated again. We switched from netlify to github pages</p>
</li>
<li>
<p>Devin R fixed a bug with huge numbers in power levels which caused Florian  to not being able to join (Fixed in the rust-sdk)</p>
</li>
<li>
<p>Because of the now again working deployment of Daydream parts of the WIP redesign are now available on <a href="https://app.daydream.im">https://app.daydream.im</a></p>
</li>
<li>
<p>Github Emoji codes like <code>:gift:</code> Get replaced with unicode on sending allowing basic emoji usage</p>
</li>
</ul>
<p>Also the landing page at <a href="https://daydream.im">https://daydream.im</a> got a fresh new design :)</p>
<p>And we are investigating a switch to the <a href="https://github.com/linebender/druid">Druid</a> framework to also add support for desktop</p>
<p>Check it out at: <a href="https://app.daydream.im">https://app.daydream.im</a> or join our Chat at <a href="https://matrix.to/#/#daydream:nordgedanken.dev">#daydream:nordgedanken.dev</a></p>
</blockquote>
<p>Honestly I didn't realise Florian was a setting in the power levels. Is this in the spec? Very good seeing Rust SDK getting such usage, we will see more from this project I hope!</p>
<h3 id="mxapps">mxapps</h3>
<p><a href="https://matrix.to/#/@kb1rd:kb1rd.net">KB1RD</a> offered:</p>
<blockquote>
<blockquote>
<p>A multi-account Matrix client that allows you to authorize webapps to access parts of your account, designed with collaboration in mind.</p>
</blockquote>
<p>This is the webapp I've been talking about for a while that allows webpages limited access to your account. Currently, apps can view the name, avatar, alias, and type of a room that's been opened with the app, and that's just about it.</p>
<p>The big interesting thing about mxapps right now is the architecture. Just about all of the logic is running in a shared worker. This means that you can duplicate as many tabs as you want and it will all act as the same client. It also has multi-account support.</p>
<p>Features coming ~soon~ at some point will be full state event support and easy-to-follow docs on how to make an app, plus Vue plugins to make development really easy.</p>
<p>You can checkout the live version on <a href="https://mxapps.kb1rd.net/">mxapps.kb1rd.net</a>, but it is a bit useless...</p>
<p>There are some work-in-progress docs on the structure on <a href="https://docs.mxapps.kb1rd.net/">docs.mxapps.kb1rd.net</a></p>
<p>I'll post an example app in a bit ;)</p>
</blockquote>
<p>What a great use of workers! The possibilities for this are really impressive...</p>
<h3 id="mirage">Mirage</h3>
<p><a href="https://matrix.to/#/@miruka:privacytools.io">miruka</a> reported:</p>
<blockquote>
<p>Small 0.6.2 release this week, mostly bug fixes:</p>
<h4 id="changed">Changed</h4>
<ul>
<li>
<p>When replying to a message, you can now press enter without entering any</p>
<p>text to send it directly (useful to &quot;forward&quot; a message).</p>
</li>
<li>
<p>Sending a file while replying to a message will create a pseudo-reply,</p>
<p>consisting of an &quot;In reply to&quot; text message with no body, followed by the
actual file event.</p>
<p>This is a workaround to the reply restrictions imposed by the Matrix spec.</p>
</li>
<li>
<p><strong>Composer aliases cannot contain whitespace anymore.</strong></p>
<p>This includes spaces, hard tabs or newline characters.
If an alias from your config still has whitespace, only the first word</p>
<p>will be taken into account (ignoring any leading or trailing space).</p>
</li>
<li>
<p>Faster server browser loading, now gathers all needed data with a</p>
<p>single request instead of one for each server</p>
</li>
<li>
<p>Auto-focus the &quot;Join&quot; button on invited room pages</p>
<p>((Shift+)Tab can be used to navigate between buttons)</p>
</li>
<li>
<p>Auto-focus the &quot;Forget&quot; button on left room pages</p>
</li>
<li>
<p>Themes: modify <code>chat.message.styleSheet</code> to add some spacing between HTML </p>
<p>list items, see
<a href="https://github.com/mirukana/mirage/commit/48663ae8465e90646855435b47b89c01395ae4d9">48663ae</a></p>
</li>
</ul>
<h4 id="fixed">Fixed</h4>
<ul>
<li>
<p>Fix @username autocompletion closing if there's more than one character</p>
<p>after the @</p>
</li>
<li>
<p>Consider the partial text from IME (input method editors) and touch screen </p>
<p>autocompleting keyboards and for username autocompletion</p>
</li>
<li>
<p>Reset IME state upon autocompleting a username</p>
</li>
<li>
<p>Fix clicking on autocompletion list user not making the username a mention</p>
</li>
<li>
<p>Fix UI freezing when mentioning user lacking a display name</p>
</li>
<li>
<p>Fix mentioning users with blank display name (e.g. only spaces), mention</p>
<p>them by their user ID</p>
</li>
<li>
<p>Fix text fields/areas unable to be focused on touch screen</p>
</li>
<li>
<p>Fix random chance of profile retrieval requests failing if one of the logged</p>
<p>in account doesn't federate with other servers (e.g. localhost synapse)</p>
</li>
<li>
<p>Fix composer text saved to disk for the wrong account if that text begins</p>
<p>by an account alias</p>
</li>
<li>
<p>Servers can potentially return an outdated member list for rooms on initial </p>
<p>sync, which is one of the possible cause of &quot;Members not synced&quot; error for 
encrypted rooms.</p>
<p>When loading the full room list, discard members from the initial sync list
that are absent from the full list.</p>
<p>For those not using the AppImage or Flatpak, this fix requires <strong>matrix-nio 0.15.1</strong> or later to take effect.</p>
</li>
<li>
<p>When erasing an account alias inside the composer, send a </p>
<p>&quot;x isn't typing anymore&quot; notification corresponding to that account </p>
</li>
<li>
<p>Fix potential 403 error on chat pages for invited rooms.</p>
</li>
<li>
<p>Start loading room history immediately when the room join state changes,</p>
<p>e.g. when clicked &quot;Join&quot; for an invited room page.</p>
</li>
</ul>
</blockquote>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> announced:</p>
<blockquote>
<p>Released 0.0.34 this week with some fixes to the room list sorting and fixing several crashes. If you clear your session, it will also sort low priority rooms at the bottom of the room list, even if unread, making it a bit more usable until we add more UX refinements to the room list. </p>
<p>Most of the effort this week however has gone into working on end-to-end encryption, having investigated using the rust-sdk for a couple of days, and now looking into a custom implementation based on libolm. This is well on its way with key upload working and device tracking nearing completion.</p>
</blockquote>
<p>Getting e2ee will make this a very compelling client! Remember to watch Matrix Live with Bruno above. If you've watched it, remember we have 100s of episodes of Matrix Live to catch up on!</p>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> told us:</p>
<blockquote>
<p>I just merged the new event store a few days ago. This means Nheko now doesn't keep messages in RAM! Everything is stored on disk and mapped into memory from disk. This may reduce memory usage a tiny bit, but may increase latency while scrolling a bit. Try it out and give your feedback!</p>
<p>For the developers reading this, I collected some ramblings on my blog here: <a href="https://blog.neko.dev/posts/nhekos-event-store-v2.html">https://blog.neko.dev/posts/nhekos-event-store-v2.html</a> . Yes, I designed that site when I was like 15, I know the dark theme is a bit too much... Just use Firefox and the alternate stylesheet for light mode! Anyway, I'm very interested to hear how other clients implement their event stores!</p>
</blockquote>
<h3 id="element-android-v1-0-5">Element-Android v1.0.5</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> said:</p>
<blockquote>
<p>Element-Android v1.0.5 has been released to the PlayStore. We are now working to improve user experience with 1-1 calls. We will add support to add and remove emails to your Matrix account, and we are still fixing bugs...</p>
</blockquote>
<p>We are always fixing bugs!</p>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> has been working hard on iOS:</p>
<blockquote>
<p>This week, we made 2 release candidates available through <a href="https://testflight.apple.com/join/lCeTuDKM">TestFlight</a>. New features are :</p>
<ul>
<li>app access protection with PIN code, TouchID or FaceID</li>
<li>the come back of the incoming native call screen</li>
</ul>
<p>A huge thanks to the community for the feedbacks. It helped us to discover issues like a crash in background due to PushKit. The coming TF (1.0.7) should fix all of them</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="mautrix-go">mautrix-go</h3>
<p><a href="https://matrix.to/#/@nikofil:matrix.org">nikofil</a> reported:</p>
<blockquote>
<p>A <a href="https://github.com/tulir/mautrix-go/pull/18">PR</a> has been created for cross-signing and SSSS support! It also supports accepting in-room verification requests and will soon also support creating them, after which it should be ready for reviewing. Afterwards, with some minor changes to clients using the library, cross-signing should be available.</p>
</blockquote>
<p>Cross-signing in gomuks and more?</p>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="catbot">catbot</h3>
<p><a href="https://matrix.to/#/@chloe:loves.shitposting.chat">chloe</a> reported:</p>
<blockquote>
<p><a href="https://github.com/chloelovesdev/catbot">Github</a></p>
<p>A <a href="https://matrix.org/">Matrix</a> bot using the library <a href="https://github.com/poljar/matrix-nio">matrix-nio</a> and <a href="https://www.docker.com/">Docker</a> (specifically <a href="https://github.com/aio-libs/aiodocker">aiodocker</a>) for running sandboxed code, allowing users to write their own factoid commands which can perform any task required. The bot launches a new instance of itself every time it is invited to a room, where it can then be configured for that channel by a management website. There is also a web IDE for the factoids, so you can edit and test the bot's output.</p>
<ol>
<li>
<p>Bash-like factoid and command input/output redirection</p>
</li>
<li>
<p>Run untrusted code for PHP, Python, JavaScript and Java in Docker containers</p>
</li>
<li>
<p>Manage the instance of the bot from a management server (realtime log output over websockets, schedule commands to run, manage trusted devices and more)</p>
</li>
<li>
<p>Web interface for factoid editing (create, save, edit and test with live output). IDE from <a href="https://ace.c9.io/">ace from cloud9</a></p>
</li>
</ol>
</blockquote>
<p><img src="/blog/img/2020-08-28-ArKGA-testing_factoid.png" alt="2020-08-28-ArKGA-testing_factoid.png" /></p>
<p><img src="/blog/img/2020-08-28-gdnHE-time_example.png" alt="2020-08-28-gdnHE-time_example.png" /></p>
<p>Cool! There are so many bot creation systems for Matrix now!</p>
<h2 id="final-thoughts-thought-balloon">Final Thoughts üí≠</h2>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">Christian</a> offered:</p>
<blockquote>
<p>There is one month left until <a href="https://hacktoberfest.digitalocean.com/">Hacktoberfest</a>üéÉ! Prepare your repos now!</p>
<p>It's a great time to get friends and newcomers involved with open source and your projects.
During October, merged PRs to any(!) public GitHub repo will count towards a person's score. With four PRs, they get a very neat looking t-shirt from the organizer DigitalOcean. They can also ask for a tree to be planted instead.</p>
<p>As a maintainer,</p>
<ol>
<li>Add a &quot;Hacktoberfest&quot; label (color suggestion: <code>#FF7518</code>) on issues to point people to tasks with a clear scope.</li>
<li>Let people know that you're interested in contributions and will review them.</li>
<li>Add the label &quot;invalid&quot; on a PR that's spam or a minor contribution that shouldn't count (fixing typos, blindly upgrading dependencies, etc.).</li>
</ol>
</blockquote>
<p>Matrix benefits from Hacktoberfest, but do keep in mind that this is a commercial project from DigitalOcean.</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">374</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">neko.dev</td><td style="text-align: center">526</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">loves.shitposting.chat</td><td style="text-align: center">566</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">yyyyyyy.ml</td><td style="text-align: center">619</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">kif.rocks</td><td style="text-align: center">669</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">maescool.be</td><td style="text-align: center">737.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">754</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">autodie.be</td><td style="text-align: center">839</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">hmlw.me</td><td style="text-align: center">966.5</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">fick.es</td><td style="text-align: center">1053.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;08&#x2F;21&#x2F;this-week-in-matrix-2020-08-21&#x2F;" title="This Week in Matrix 2020-08-21">This Week in Matrix 2020-08-21</a></h2>
                <span>
                    21.08.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe src="https://www.youtube.com/embed/LE-1s9h8YT4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Nico, one of the Nheko client maintainers, discusses the state of the project and shares various opinions about Matrix, chat clients, physics, the local weather and so on.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> offered:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Closed MSCs:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/issues/1217">Visibility of groups to group members and their non-members</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/issues/1213">Set defaults for m.federate</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/issues/1209">Server Side Profile API</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/issues/531">Homeservers as OAuth authorization endpoints (resource owners) (SPEC-206)</a></p>
</li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2033">MSC2033: Adding a device_id to /account/whoami</a>
<ul>
<li>Accidentally merged on github, <a href="https://github.com/matrix-org/matrix-doc/pull/2738">#2738</a> opened to re-merge after FCP ends</li>
</ul>
</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2745">[WIP] MSC2745 : Add hCaptcha as captcha provider</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2732">MSC2732: Olm fallback keys</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, <a href="https://github.com/matrix-org/matrix-doc/pull/1960">MSC1960</a> will be the only one on the list. The two MSCs from last time will be put aside for this week while we focus on implementation.</p>
</blockquote>
<p><img src="/blog/img/2020-08-21-WX3fG-stacked_area_chart.png" alt="2020-08-21-WX3fG-stacked_area_chart.png" /></p>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC üéìÔ∏è</h2>
<h3 id="nheko-gsoc">Nheko(GSoC)</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@crdy2k1:matrix.org">Chethan</a> offered:</p>
<blockquote>
<ul>
<li>
<p>Room Verification works in Nheko! Still needs some Improvement,working on it.</p>
</li>
<li>
<p>Improving and fixing some caching issues.</p>
</li>
<li>
<p>Fixing some breaking stuff with the new event store Nico is working on.</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> told us:</p>
<blockquote>
<p>This week we have largely been working on bug fixes and performance issues.</p>
<p>Changes this week include:</p>
<ul>
<li>
<p>The room server now handles input events for multiple rooms in parallel when running with PostgreSQL, which helps a lot with perceived latency</p>
</li>
<li>
<p>Device key queries now obey federation backoffs, so that we don't spend a lot of time making unnecessary requests</p>
</li>
<li>
<p>The key server now only emits changes for <code>/users/devices</code> which reduces database hits significantly</p>
</li>
<li>
<p>The client API now tries to guarantee message ordering on a per-user basis (thanks Anand!)</p>
</li>
<li>
<p>Federated invites are now more reliable and are performed synchronously</p>
</li>
<li>
<p>Invite room metadata is now sent correctly in all cases</p>
</li>
<li>
<p>Accepting and rejecting invites is also now much more reliable</p>
</li>
<li>
<p>A bug has been fixed that caused excessive memory usage in the sync API (bringing the memory usage of my own instance down to less than 100mb)</p>
</li>
<li>
<p>A massive amount of work has been done to reduce database locks in SQLite mode across the entire codebase</p>
</li>
<li>
<p>Some unnecessary code has been removed from the roomserver updaters</p>
</li>
</ul>
<p>Spec compliance has improved slightly:</p>
<ul>
<li>
<p>Client-Server APIs: 54%, same as last week</p>
</li>
<li>
<p>Server-Server APIs: 71%, up from 70% last week</p>
</li>
</ul>
<p>As always, feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for the latest!</p>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> told us:</p>
<blockquote>
<p>While work on federation is going on in the background, here are some other things we worked on this week</p>
<ul>
<li>
<p>Arch AUR support (thanks to @s7evink)</p>
</li>
<li>
<p>Very efficient searching through rooms (custom implementation based on <a href="https://artem.krylysov.com/blog/2020/07/28/lets-build-a-full-text-search-engine/">https://artem.krylysov.com/blog/2020/07/28/lets-build-a-full-text-search-engine/</a>)</p>
</li>
</ul>
<p>Also check out the <a href="https://github.com/timokoesters/romeo-and-juliet-benchmark">Romeo and Juliet Benchmark</a>!</p>
<p>Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> said:</p>
<blockquote>
<p>This week we added some more federation readers to matrix.org which should noticeably improve federation lag.</p>
</blockquote>
<p><img src="/blog/img/2020-08-21-2HGwe-Screenshot2020-08-21at14.59.34.png" alt="2020-08-21-2HGwe-Screenshot2020-08-21at14.59.34.png" /></p>
<blockquote>
<p>Patrick has continued on with the async/await-a-thon and we are starting to enter the home stretch. Of the things we care about only <code>runInteraction</code> remains. Once done we can get on with profiling the main process.</p>
</blockquote>
<p><img src="/blog/img/2020-08-21-u40Ex-Screenshot2020-08-21at15.08.51.png" alt="2020-08-21-u40Ex-Screenshot2020-08-21at15.08.51.png" /></p>
<blockquote>
<p>On the sharding side the last big milestone is to get the event persister to shard. I know this comes up every week, but we now have a rough working implementation for non-backfilled events. Next steps are to get backfill working, get the tests passing, go through review and then ship. I asked Erik if it would be live on matrix.org within 2 weeks. He didn‚Äôt say, at least I didn‚Äôt hear him say no‚Ä¶&gt;
Aside from that Rich is working on the push rules redesign, the next steps are to design the APIs in more detail and then make a formal spec proposal. Brendan is also in notifications land and his work on room unread counts is going through final review. </p>
<p>Finally, Andrew has been working with Sorunome to dust off the knock feature, both on the spec and <a href="https://github.com/matrix-org/synapse/pull/6739">the Synapse side</a>.</p>
</blockquote>
<h3 id="romeo-and-juliet-benchmark-to-compare-matrix-server-implementations">Romeo and Juliet benchmark to compare Matrix server implementations</h3>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> offered:</p>
<blockquote>
<p>This week I created the first(?) Matrix server benchmark and ran it on Synapse, Dendrite and Conduit. The test will go through the entire Romeo and Juliet play and create users for each character and sends messages for each line they say.</p>
<p>The results are very interesting:</p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>Synapse:
</span><span>
</span><span>     timo         neilalexander    Half-Shot
</span><span>
</span><span># default (sqlite)
</span><span>time 5m0.870s
</span><span>
</span><span># postgres:
</span><span>time 1m46.319s                     1m8s
</span><span>
</span><span>
</span><span>Dendrite:
</span><span>
</span><span># default (sqlite)
</span><span>time 6m8.802s     0m38.502s
</span><span>
</span><span># postgres:
</span><span>time 2m45.387s    0m53.691s
</span><span>
</span><span>
</span><span>Conduit:
</span><span>
</span><span># default (sled)
</span><span>time 0m4.184s     0m2.776s         0m2.935s
</span><span>
</span></code></pre>
</blockquote>
<p><img src="/blog/img/2020-08-21-KRqaI-Screenshot_20200818_223636.png" alt="2020-08-21-KRqaI-Screenshot_20200818_223636.png" /></p>
<p>There is some question here about how federation and state resolution will affect performance on these tests.</p>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<p>There is rather a lot in this section this week (see also Ops üõ†  section below.) I'll consider making this a more structured (table?) feature in future.</p>
<h3 id="selinux-policy-module">SELinux policy module</h3>
<p><a href="https://matrix.to/#/@concord:fuwafuwatime.moe">0xC0ncord</a> reported:</p>
<blockquote>
<p>Hello! Just recently I made public an SELinux policy module I developed for Synapse. This policy is one I developed early on during my trip down the SELinux rabbit hole, and I have been using it in production for some time. At the moment, this policy module is built for the Gentoo SELinux policy (not RHEL/CentOS/Fedora) and does not currently have systemd support, nor has it been tested in all environments, i.e. with workers. I am publishing this policy in the hopes that it will be useful and I am open to any contributions, even those to help tighten the policy if possible. Finally, I have also made public a policy module for coturn, which I am also using in my own personal environment under the same conditions. Both the <a href="https://github.com/0xC0ncord/synapse-selinux">Synapse</a> policy and the <a href="https://github.com/0xC0ncord/turnserver-selinux">coturn</a> policy can be found on Github. Thank you!</p>
</blockquote>
<h3 id="ansible">Ansible</h3>
<p><a href="https://matrix.to/#/@jan.christian:gruenhage.xyz">JCG</a> said:</p>
<blockquote>
<p>The ansible collection <code>famedly.matrix</code> has seen another release, 0.1.2, which updates the element role to 1.7.4 and the synapse role to 1.19.0. As always, get it from <a href="https://galaxy.ansible.com/famedly/matrix">Ansible Galaxy</a>, source from <a href="https://gitlab.com/famedly/ansible/collections/matrix">Gitlab</a>, and for any questions join <a href="https://matrix.to/#/#ansible:famedly.de">#ansible:famedly.de</a>.</p>
</blockquote>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> announced:</p>
<blockquote>
<p>Just pushed the 1.19 tags for the <a href="https://github.com/ananace/matrix-synapse">K8s-optimized Synapse image</a>, as well as an updated <a href="https://gitlab.com/ananace/charts">chart</a> version for it that also takes advantage of the added <code>/health</code> endpoint.</p>
</blockquote>
<h3 id="void-linux">Void Linux</h3>
<p><a href="https://matrix.to/#/@jan.christian:gruenhage.xyz">JCG</a> announced:</p>
<blockquote>
<p>Element 1.7.4 and Synapse 1.19.0 have been packaged for Void Linux, packages are already available from mirrors.</p>
</blockquote>
<h3 id="dacruz21-matrix-chart-kubernetes-helm-chart">dacruz21/matrix-chart Kubernetes Helm Chart</h3>
<p><a href="https://matrix.to/#/@david:typokign.com">Typo Kign</a> told us:</p>
<blockquote>
<p>v2.5.0 of <a href="https://hub.helm.sh/charts/dacruz21/matrix">dacruz21/matrix-chart</a> has been released with Synapse 1.19 support and some new configuration options.</p>
</blockquote>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@pierre:mamieserv.fr">Pierre</a> reported:</p>
<blockquote>
<p><a href="https://yunohost.org">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration is still 1.18.0, 1.19.0 is available en branch <code>testing</code></p>
<p><a href="https://github.com/YunoHost-Apps/element_ynh/tree/master">Element Web</a> integration is still 1.7.3, 1.7.4 is available en branch <code>testing</code></p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="telegram-public-channel-mirror">Telegram public channel mirror</h3>
<p><a href="https://matrix.to/#/@bo41:matrix.org">bo41</a> reported:</p>
<blockquote>
<p>As channels are really popular in Telegram, I wrote a quick and dirty program/bot which can mirror (text and image) public Telegram channels to Matrix rooms. This should make it easier for Telegram users to consider a switch.</p>
<p>Making the rooms read-only via permissions prevents messages from users.
It provides a good basis for someone trying to make a real 1to1 mirror. Please fork this project and host some channels publicly ;)</p>
<p><a href="https://git.sr.ht/~bo41/matrix-channel-mirror">https://git.sr.ht/~bo41/matrix-channel-mirror</a></p>
</blockquote>
<p>This project is functionally quite different from the more established mautrix-telegram: it is purely designed to mirror content from Telegram public rooms.</p>
<h3 id="matrix-appservice-irc-release-0-20-1">matrix-appservice-irc release 0.20.1</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> said:</p>
<blockquote>
<p>Hello all, I'm going to be quick off the mark and announce matrix-appservice-irc release <code>0.20.1</code>! This release contains a ton of bug fixes and quality of life changes that you never knew you were missing. Please update and report back in the usual channels as always. Thanks!</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> reported:</p>
<blockquote>
<p>I've been working on trying to finish the event store (when I wasn't distracted by video calls with some people). This should allow limited offline use and reduce memory use as well as allow some other features in the future. If you want to try it out, you can build <a href="https://github.com/Nheko-Reborn/nheko/pull/251">this PR</a> or try out the nightlies with <code>new-event-store</code> in their name.</p>
<p>If you decide to try it out, backup your cache or at least BACKUP YOUR ENCRYPTION KEYS! I won't be responding to feedback immediately, since I am currently hiking, but I should get to it this weekend or next week. Come discuss it in <a href="https://matrix.to/#/#nheko:ocean.joedonofry.com">#nheko:ocean.joedonofry.com</a>, if you have some feedback or issues.</p>
</blockquote>
<p>See also Matrix Live this week!</p>
<h3 id="element-android">Element Android</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> announced:</p>
<blockquote>
<p>We are still fixing issues on Element Android. Hopefully we will release version 1.0.5 of the application and of the Matrix SDK in the coming days!</p>
</blockquote>
<p>later, fid√®le √† sa parole:</p>
<blockquote>
<p>Element Android 1.0.5 has been published on the beta channel of the PlayStore. If everything is fine it will be pushed to production next week. I've also published SDK v1.0.5, and push translations of the PlayStore home page of Element to German, Chinese, English US, Hungarian, Portuguese (Brazil), Russian, Slovak, Swedish and Ukrainian.</p>
</blockquote>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@stevio:matrix.org">steve</a> offered:</p>
<blockquote>
<p>This week, we improved customisation for forks. We add possibility to customize default HTTP headers (like &quot;User-Agent&quot;) and improve login and room settings screens customisation. We started to improve project documentation. We also made some fixes like fixing registration validation link in email.</p>
</blockquote>
<h3 id="element-web">Element Web</h3>
<p><a href="https://matrix.to/#/@jryans:matrix.org">Ryan</a> announced:</p>
<blockquote>
<ul>
<li>
<p>Released 1.7.4</p>
<ul>
<li>
<p>Updated various links and strings for the new brand</p>
</li>
<li>
<p>Renewed Windows code signing cert</p>
</li>
<li>
<p>Removed rebranding toast</p>
</li>
<li>
<p>All cross-signing keys now shared with other devices during verification</p>
</li>
</ul>
</li>
<li>
<p>This week</p>
<ul>
<li>
<p>Mode to require secure backup during registration</p>
</li>
<li>
<p>Continue work on deferred cross-signing setup</p>
</li>
<li>
<p>Light weight Hydrogen client continues, adding key features and design tweaks</p>
</li>
<li>
<p>Notifications continues in background while push rules evolve</p>
</li>
<li>
<p>Matrix.to link previews in progress</p>
</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="hydrogen">Hydrogen</h3>
<p>Hydrogen is a web-based client designed to be very lightweight, and with few dependencies.
Anyone who wants to discuss Hydrogen can join <a href="https://matrix.to/#/#hydrogen:matrix.org">#hydrogen:matrix.org</a>.</p>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> told us:</p>
<blockquote>
<p>Added several features this week:</p>
<ul>
<li>
<p>avatars and display names in the timeline and for rooms</p>
</li>
<li>
<p>implemented the logic for the member list, but no UI for this yet</p>
</li>
<li>
<p>room list sorting by last message timestamp, unread state and badge count</p>
</li>
<li>
<p>clear unread state when reading a room</p>
</li>
<li>
<p>some visual tweaks in the timeline and room list</p>
</li>
<li>
<p>bug fixes</p>
</li>
</ul>
<p>If you have checked out hydrogen before, <strong>you'll need to clear your session</strong> (the little clear button in the session picker) to get correct avatars and display names everywhere.</p>
<p>Next week I'll get started on E2EE, which should make the project a lot more useful. I'll look into leveraging the nice rust matrix-crypto-sdk for this.</p>
</blockquote>
<p><img src="/blog/img/2020-08-21-qAi-A-image.png" alt="2020-08-21-qAi-A-image.png" /></p>
<h3 id="mirage-0-6-1">Mirage 0.6.1</h3>
<p><a href="https://matrix.to/#/@miruka:privacytools.io">miruka</a> hit us with a late breaking update about Mirage!</p>
<blockquote>
<p>Mirage 0.6.1 was released today:</p>
<h4 id="added">Added</h4>
<ul>
<li>
<p><strong>SSO authentication</strong> support</p>
</li>
<li>
<p><strong>Homeserver browser</strong>:</p>
<ul>
<li>To add a new account, you will be asked first to pick one of the 
listed public server (list data from <a href="https://publiclist.anchel.nl/">anchel.nl</a>) or to manually enter a server address </li>
</ul>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>
<p>Typing in the server address field will also filter the public server list, 
Up/Down or (Shift+)Tab and Enter can be used to navigate it by keyboard</p>
</li>
<li>
<p>If the address doesn't have a <code>scheme://</code>, auto-detect whether the server
supports HTTPS or only HTTP</p>
</li>
<li>
<p>Use the .well-known API if possible to resolve domains to the actual 
homeserver's URL, e.g. <code>matrix.org</code> resolves to 
<code>https://matrix-client.matrix.org</code></p>
</li>
<li>
<p>The server address field will remember the last homeserver that was
connected to</p>
</li>
<li>
<p><strong>Room members autocompletion</strong>:</p>
<ul>
<li>
<p>Type <code>@</code> followed by one or more characters in the composer, 
or one or more characters and hit (Shift+)Tab to trigger username/user ID
autocompletion</p>
</li>
<li>
<p>Only autocompleted names will be turned into mentions, unlike before
where any word in a sent message that happened to be someone's name would 
mention them</p>
</li>
</ul>
</li>
<li>
<p><strong>Full image viewer</strong> for matrix image messages and URL previews:</p>
<ul>
<li>
<p>Click on a thumbnail in the timeline to open the image viewer</p>
</li>
<li>
<p>Middle click on a thumbnail (or use the option in the context menu)
to open the image externally</p>
</li>
<li>
<p>Left click on the image (mouse only): expand to window size if the 
image's origin size is smaller than the window, 
else expand to original size</p>
</li>
<li>
<p>Tap on the image (touch screen/pen only): reveal the info and button bars
when auto-hidden (bars will auto-hide only when they overlap with a big 
enough displayed image)</p>
</li>
<li>
<p>Any mouse movement: reveal auto-hidden bars</p>
</li>
<li>
<p>Double click on the image: toggle full screen</p>
</li>
<li>
<p>Middle click anywhere: open externally</p>
</li>
<li>
<p>Right click anywhere: close the viewer, back to chat</p>
</li>
<li>
<p>Drag when displayed image is bigger than window to pan</p>
</li>
<li>
<p>Wheel to pan up/down, hold shift or alt to pan left/right</p>
</li>
<li>
<p>Ctrl+wheel to control zoom</p>
</li>
<li>
<p>Buttons to control rotation, scale mode, full screen, GIF play/pause 
and GIF speed</p>
</li>
<li>
<p>New keyboard shortcuts are available for all these actions, 
see <code>keys.imageViewer</code> in the config file (will be automatically updated 
when you start Mirage 0.6.1)</p>
</li>
</ul>
</li>
<li>
<p>Add <code>media.openExternallyOnClick</code> setting to swap the new
click and middle click on thumbnails behavior </p>
</li>
<li>
<p>Room and member filter fields now support (Shift+)Tab navigation, in addition
to Up/Down</p>
</li>
<li>
<p>Add a colored left border to the currently highlighted item in list views 
(e.g. room list, members list, etc) to improve visibility </p>
</li>
<li>
<p>Themes:</p>
<ul>
<li>Add <code>controls.listView.highlightBorder</code> and
<code>controls.listView.highlightBorderThickness</code> properties (can be set to <code>0</code>)</li>
<li>Add the <code>chat.userAutoCompletion</code> section</li>
</ul>
</li>
</ul>
<h4 id="changed">Changed</h4>
<ul>
<li>
<p>Messages context menu:</p>
<ul>
<li>
<p>Use a cleaner icon for the &quot;Copy text&quot; entry</p>
</li>
<li>
<p>Replace the confusing broken &quot;Copy media address&quot; entry with:</p>
<ul>
<li>
<p>Copy media address: visible for non-encrypted media, always
copies the HTTP URL</p>
</li>
<li>
<p>Copy local path: always visible for already downloaded media, even if
they were downloaded before mirage was started</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>The <code>openMessagesLinks</code> keybind (default Ctrl+O) is renamed to
<code>openMessagesLinksOrFiles</code> and can now also open media message files</p>
</li>
<li>
<p>Using the <code>openMessagesLinksOrFiles</code> keybind on a reply will now ignore the
matrix.to links contained in the &quot;In reply to XYZ&quot; header</p>
</li>
<li>
<p>Pressing Ctrl+C to copy selected/highlighted non-encrypted media messages 
will copy their HTTP URL instead of the filename</p>
</li>
<li>
<p>Retry downloading image thumbnails if they fail with a 404 or 500+ server 
error (uploads sometimes take a few seconds to become available on the 
server)</p>
</li>
<li>
<p>Non-encrypted media messages are now always downloaded on click and opened
with a desktop application (or the image viewer), instead of
being opened in a browser</p>
</li>
<li>
<p>Compress thumbnails and clipboard images in a separate process, to avoid
blocking every other backend operation while the compression is running</p>
</li>
<li>
<p>Reduce the level of optimization applied to clipboard images, 
the previous setting was too slow for large PNG (10MB+)</p>
</li>
<li>
<p>Increase applied scrolling velocity when using the 
<code>scrollPageUp</code>/<code>scrollPageDown</code> keybinds, now similar to how it was before
Mirage 0.6.0</p>
</li>
<li>
<p>Don't catch SIGQUIT (Ctrl+\ in terminal) and SIGTERM signals, exit immediately</p>
</li>
<li>
<p>Slightly increase the top/bottom padding to the multi-account bar in the 
left pane</p>
</li>
<li>
<p>Dependencies: minimum nio version bumped to 0.15.0</p>
</li>
</ul>
<h4 id="removed">Removed</h4>
<ul>
<li>Themes: remove unused <code>controls.listView.smallPaneHighlight</code> property</li>
</ul>
<p>And lots of fixes, see <a href="https://github.com/mirukana/mirage/releases/tag/v0.6.1">full changelog</a></p>
</blockquote>
<p><img src="/blog/img/2020-08-21-mirage.png" alt="Mirage" /></p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="ruma">Ruma</h3>
<p><a href="https://matrix.to/#/@iinuwa:matrix.org">iinuwa</a> offered:</p>
<blockquote>
<p>We wanted to take a little bit of time to show off a state resolution library for Ruma, courtesy of @DevinR528 and @Timo. Ruma has a new crate to make resolving state easier, <a href="https://github.com/ruma/state-res">state-res</a>! The goal of this crate is to be the base for federation, it provides the necessary utilities to resolve state, sort power events (reverse topological ordering), sort events (based on mainline depth), and a lot of event authentication functions. It is still in the early stages of development, but will be hopefully proved out in <a href="https://git.koesters.xyz/timo/conduit">Conduit</a>.</p>
<p>Other things that happened this week:</p>
<ul>
<li>
<p>Added the invite endpoints from the Federation API</p>
</li>
<li>
<p>Started requiring strong types for event-sending endpoints</p>
</li>
<li>
<p>Augmented error types with error-specific fields (see the <a href="https://www.twitch.tv/videos/713341462?t=00h35m42s">livestream here</a>)</p>
</li>
</ul>
<p>Speaking of livestreams, @jplatte streams coding sessions from time to time on <a href="https://twitch.tv/jplatte">Twitch</a>. If you're interested in watching some coding streams to get more familiar with the Ruma codebase or learn Rust in general, follow us at [<a href="https://matrix.to/#/#ruma-livestreams:matrix.org">#ruma-livestreams:matrix.org</a>](https://matrix.to/#/<a href="https://matrix.to/#/#ruma-livestreams:matrix.org">#ruma-livestreams:matrix.org</a>)!</p>
</blockquote>
<p>Very impressed that these features are landing in Ruma first, with the intention of getting them into Conduit.</p>
<h3 id="mautrix-go">mautrix-go</h3>
<p><a href="https://matrix.to/#/@nikofil:matrix.org">nikofil</a> reported:</p>
<blockquote>
<ul>
<li>SSSS and cross-signing are slowly making their way to mautrix-go! A <a href="https://github.com/tulir/mautrix-go/pull/18">WIP PR</a> exists for both features and is being developed upon. This will allow any clients that use the library to eventually be able to use SSSS and verify the trustworthiness of other devices based on cross-signing.</li>
</ul>
</blockquote>
<h3 id="ruby">Ruby</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> announced:</p>
<blockquote>
<p>Just pushed version 2.1.1 of the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby Matrix SDK</a>, mainly including a couple of fixes for various minor issues.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h3>
<p>This <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">Ansible playbook</a> is meant to easily let you run your own Matrix homeserver.</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> said:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> now makes it incredibly easy to use <a href="https://github.com/matrix-org/rust-synapse-compress-state">rust-synapse-compress-state</a> to compress the state groups in your Synapse database.</p>
<p>See our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/maintenance-synapse.md#compressing-state-with-rust-synapse-compress-state">Compressing state with rust-synapse-compress-state</a> documentation page to get started.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="go-neb">go-neb</h3>
<p><a href="https://matrix.to/#/@nikofil:matrix.org">nikofil</a> said:</p>
<blockquote>
<ul>
<li>
<p>Device verification was merged to neb! It needs human intervention to approve that the SAS match, of course.</p>
</li>
<li>
<p>A new service called &quot;cryptotest&quot; was added that allows other clients to exchange e2e-related events with neb to test their capabilities (such as encryption, room key forwarding, SAS verification)</p>
</li>
</ul>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final Thoughts üí≠</h2>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">Christian</a> told us:</p>
<blockquote>
<p>Residents of Germany can apply for the <a href="https://prototypefund.de/">Prototype Fund</a> until the end of September. They are looking for new open source ideas or features and fund about 20 projects twice a year with 47,500 EUR for six months (starting in April for this round).</p>
<p>Previously funded chat-related projects include Briar and OpenPush.
It would be great to see a project building on Matrix.</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">345</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">maescool.be</td><td style="text-align: center">865</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">chatserver.ca</td><td style="text-align: center">985</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">nuclearlimes.co.uk</td><td style="text-align: center">1206</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">utzutzutz.net</td><td style="text-align: center">1826</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">nct08.de</td><td style="text-align: center">1885</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">kapsi.fi</td><td style="text-align: center">1994.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">mailstation.de</td><td style="text-align: center">2324</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">envs.net</td><td style="text-align: center">4053</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">kittenface.studio</td><td style="text-align: center">4076</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;08&#x2F;14&#x2F;this-week-in-matrix-2020-08-14&#x2F;" title="This Week in Matrix 2020-08-14">This Week in Matrix 2020-08-14</a></h2>
                <span>
                    14.08.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<p>No new Matrix Live this week, we have Open Tech Will Save Us #5:</p>
<iframe
  width="560"
  height="315"
  src="https://www.youtube.com/embed/tJ8tthkVAOQ"
  frameborder="0"
  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
  allowfullscreen
></iframe>
<p>Also, I recommend Matrix Live from last week, with <a href="https://youtu.be/cIOKD9xM3F0">Timo and Matthew discussing Conduit/Rust/Homeserver dev</a>. Conduit is absolutely motoring, as you will read below.</p>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<h3 id="linkoping-university-has-now-soft-launched-matrix">Link√∂ping University has now soft-launched Matrix</h3>
<p><a href="https://matrix.to/#/@aleol57:liu.se">Alexander Olofsson</a> said:</p>
<blockquote>
<p>In <em>completely unrelated</em> news to my earlier K8s updates, Link√∂ping University has now soft-launched Matrix for use both internally - and hopefully with other universities and institutions in the future.</p>
</blockquote>
<p>Se the k8s updates from <em>Ananace</em> below. Is this the first .se university offering Matrix? Also, great hostname!</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<h3 id="sas-emoji-translations">SAS Emoji Translations</h3>
<p><a href="https://github.com/turt2live">TravisR</a> said:</p>
<blockquote>
<p>We've finally opened up <a href="https://translate.riot.im/projects/matrix-doc/sas-emoji-v1">https://translate.riot.im/projects/matrix-doc/sas-emoji-v1</a> to translate the emoji used by clients to ensure that users are securely verifying each other. The idea is that clients should always have a consistent name for these emoji, even if developed by completely different teams. If your client supports encryption verification and has translations, please transition to using matrix-doc for your translations: <a href="https://github.com/matrix-org/matrix-doc/pull/2728">https://github.com/matrix-org/matrix-doc/pull/2728</a> has some details, and <a href="https://matrix.to/#/#matrix-spec:matrix.org">#matrix-spec:matrix.org</a> would love to help out.</p>
</blockquote>
<p><img src="/blog/img/2020-08-14-Ly4te-image.png" alt="2020-08-14-Ly4te-image.png" /></p>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> said:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2730">MSC2730: Verifiable forwarded events</a></li>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2723">MSC2723: Forwarded message metadata</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>Some of the team was on holiday last week, hence the noticeable lack of progress üòá In terms of Spec Core Team MSC focus for this week, we're keeping on with the same two as last week: <a href="https://github.com/matrix-org/matrix-doc/issues/2674">MSC2674</a> (aggregations pt1: relationships) and <a href="https://github.com/matrix-org/matrix-doc/issues/1544">MSC1544</a> (QR code verification).</p>
</blockquote>
<p><img src="/blog/img/2020-08-14-i2G3v-stacked_area_chart.png" alt="2020-08-14-i2G3v-stacked_area_chart.png" /></p>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC üéìÔ∏è</h2>
<h3 id="opsdroid-gsoc">Opsdroid(GSoC)</h3>
<p><a href="https://matrix.to/#/@tyagdit:matrix.org">tyagdit</a> announced:</p>
<blockquote>
<h4 id="matrix-database">Matrix database</h4>
<ul>
<li>
<p>The port to nio is complete and most of the functionality has been worked out</p>
</li>
<li>
<p>Encryption support is being worked on</p>
</li>
<li>
<p>The module now has a <code>delete</code> method</p>
</li>
<li>
<p>Some testing is remaining</p>
</li>
<li>
<p>Check out the progress <a href="https://github.com/opsdroid/opsdroid/pull/1587">here</a></p>
</li>
</ul>
<h4 id="end-to-end-encryption-with-matrix">End to End Encryption with matrix</h4>
<ul>
<li>
<p>Opsdroid will soon get a new release with the new connector</p>
</li>
<li>
<p>For now it can be used through the <a href="https://github.com/opsdroid/opsdroid">master branch</a> of opsdroid</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> reported:</p>
<blockquote>
<p>We have <a href="https://github.com/matrix-org/synapse/releases/tag/v1.19.0rc1">a new RC out</a>, edited highlights include</p>
<ul>
<li>
<p><em>lots</em> of async/await changes, 27 separate PRs (thanks Patrick)</p>
</li>
<li>
<p>improved logging performance, this is in part to reduce IO but also to reduce the total amount logged. We‚Äôd be really interested to get some feedback on if the changes help. You may also want to take a look at our new logging defaults to see if they would help reduce total disk space usage.</p>
</li>
<li>
<p>Further improvements to the Admin API allowing admin to optionally purge rooms on deletion.</p>
</li>
</ul>
<p>Expect 1.19.0 to land early next week.</p>
<p>Aside from that Erik has been continuing with sharding the event persister, this is a big job, so we‚Äôre still a little way off having something to ship, but I‚Äôll keep you updated.</p>
<p>Big news this week, after spending a good chunk of time trying to rework notifications to make the UX more intuitive, we have decided that the best (and only) way forward is to completely rethink how the push rules work. Rich is currently redesigning the whole thing, and once done we‚Äôll resume on the client side.</p>
<p>Having spent much of the past 3 months trying to improve the performance of large scale instances we will soon start looking at improving the out of the box experience for smaller installs and are in the early stages of thinking about what that might look like. I‚Äôll update more over time, but the two obvious use cases to target are</p>
<ul>
<li>Federating instance, with 1-5 users, resource constrained.</li>
<li>Federating instance with a few hundred users.</li>
</ul>
<p>Our (relatively small) changes to logging in 1.19.0 are the first signs of this shift. We still need to ship event persistence sharding and also move more functionality from the main process (dependent on async/await), but once done it clears the way for new projects.</p>
</blockquote>
<p><img src="/blog/img/2020-08-14-2cR_s-image.png" alt="2020-08-14-2cR_s-image.png" /></p>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> brought it to our attention that this graph looks like a &quot;ocean-beach waterline dropoff&quot;.</p>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> reported:</p>
<blockquote>
<p>This week I worked a bit on federation! Last week we were able to query room directories over federation; This week I looked into what's needed to join one of those rooms:</p>
<ul>
<li>
<p>Resolve room aliases over federation</p>
</li>
<li>
<p>Send make_join request when a user tries to join an unknown room</p>
</li>
<li>
<p>Use make_join response to create send_join request (insert origin, origin_server_ts and add hashes and signatures)</p>
</li>
</ul>
<p>After implementing all those things, I could actually see Conduit's join event on Synapse!</p>
</blockquote>
<p><img src="/blog/img/2020-08-14-bRuiV-Screenshot_20200814_125755.png" alt="2020-08-14-bRuiV-Screenshot_20200814_125755.png" /></p>
<blockquote>
<p>Of course a lot more work is needed to make this really work,</p>
<p>like creating the room on the Conduit side and sending and receiving federation
transactions, but this is a start.</p>
<p>Other news:</p>
<ul>
<li>
<p>Docker support (thanks to @weasy, @valkum and @paul)</p>
</li>
<li>
<p>Room upgrade support (almost done, thanks to @Faelar)</p>
</li>
</ul>
<p>Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> told us:</p>
<blockquote>
<p>This week we've been closing off some of the remaining tasks for end-to-end encryption and working on tasks from our <a href="https://github.com/matrix-org/dendrite/milestone/8">beta milestone task list</a>.</p>
<p>Changes this week include:</p>
<ul>
<li>
<p>New format for the Dendrite configuration file, which is correctly broken up into configuration per-component</p>
</li>
<li>
<p>Support for server ACLs has been added</p>
</li>
<li>
<p>Significant refactoring of the HTTP routing and API setup to improve flexibility and separation of internal and external APIs</p>
</li>
<li>
<p>A number of improvements to device list handling</p>
</li>
<li>
<p>Key updates are now sent when handling device display name changes</p>
</li>
<li>
<p>Deleted devices are now propagated correctly over federation</p>
</li>
</ul>
<p>Spec compliance is improving:</p>
<ul>
<li>
<p>Client-Server APIs: 54%, up from 51% last week</p>
</li>
<li>
<p>Server-Server APIs: 70%, up from 54% last week</p>
</li>
</ul>
<p>As always, feel free to join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for the latest!</p>
</blockquote>
<p>I'm enjoying the close rivalry and progress happening in Dendrite and Conduit right now!</p>
<h3 id="sytest">Sytest</h3>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> reported:</p>
<blockquote>
<p>Sytest has now been updated to allow skipping tests for endpoints that have been deprecated in the spec. This may be useful if you are writing a homeserver and have no plans to implement deprecated endpoints, e.g. <code>/initialSync</code> or <code>/events</code>.</p>
<p>Use the command line parameter <code>--exclude-deprecated</code> when starting Sytest to skip these tests!</p>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@pierre:mamieserv.fr">Pierre</a> reported:</p>
<blockquote>
<p><a href="https://yunohost.org">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration had been updated to 1.18.0</p>
<p><a href="https://github.com/YunoHost-Apps/element_ynh/tree/master">Element Web</a> integration had been updated to 1.7.3</p>
</blockquote>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> reported:</p>
<blockquote>
<p>Just pushed some WIP (v0.1) <a href="https://gitlab.com/ananace/charts">charts</a> for both Synapse and the matrix-media-repo project, written with Redis, workers/sharding, PVC constraints, and other large deployment thoughts in mind.</p>
<p>Note that these charts - the Synapse one in particular - basically require you to have a fully featured cluster, with a regex-capable ingress, automated cert manager, and RBAC. They do not require you to have a ReadWriteMany capable storage class though, even when using workers.</p>
</blockquote>
<p>and then:</p>
<blockquote>
<p>To expand on my earlier TWIM, the <a href="https://gitlab.com/ananace/charts">charts for Synapse, media-repo, and now element-web</a> are all being used in production now so they are also respectively receiving their 1.0's</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> said:</p>
<blockquote>
<p>So, we've been silent for a bit, but that doesn't mean we haven't been busy, so I have a little bit of a bigger announcement to make today:</p>
<p>Trilene implemented voice call support in Nheko! We just merged this and you can try it out now!</p>
<p>Some caveats apply at the moment, but will be resolved in the near future:</p>
<ul>
<li>
<p>Currently you will need to have a patched version of GStreamer. The current releases of GStreamer have a <a href="https://gitlab.freedesktop.org/gstreamer/gst-plugins-bad/-/issues/831">bug</a> when your turnserver uses a password, that contains a ':'. Since this is the default for coturn, I'm guessing this affects everyone.</p>
</li>
<li>
<p>You will need to build Nheko yourself. Currently we do not have GStreamer available in our CI pipeline, so we disabled support for voice calls in those builds (apart from the flatpak build, but that also needs some further validation and a new GStreamer release). We will release proper builds with VOIP support once GStreamer is actually released and available with the fixes we need.</p>
</li>
<li>
<p>There are still some other issues, when relying on a turnserver to connect a call. We will fix them one at a time.</p>
</li>
</ul>
<p>Big shoutout to trilene for implementing all of this! I can finally call people from Nheko, which is super awesome!</p>
<p>This was the first of the bigger features, that have been cooking for a while, in the near future we should also finish the new event store, which reduced memory usage and provides some kind of offline support, and Chethan will probably finish the first iteration of cross-signing soon too. After that we'll focus on the smaller features again. ;-)</p>
</blockquote>
<p>BIG update! Looking forward to trying out voice calls. ‚òéÔ∏è Maybe we'll be calling Nico for Matrix Live soon..?</p>
<h3 id="element-android">Element-Android</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> said:</p>
<blockquote>
<p>We are still fixing issues following the Element release. We are also working to add Jitsi conference call support.</p>
<p>We have exported a first beta version of the SDK from Element Android. It is available here: <a href="https://github.com/matrix-org/matrix-android-sdk2">https://github.com/matrix-org/matrix-android-sdk2</a> and can be integrated in any Android app as a regular gradle dependency. We will update the SDK after each release of Element Android.</p>
</blockquote>
<h3 id="schildichat-for-android">SchildiChat for Android</h3>
<p><a href="https://matrix.to/#/@spiritcroc:matrix.org">SpiritCroc</a> said:</p>
<blockquote>
<p><a href="https://github.com/SpiritCroc/SchildiChat-android">SchildiChat</a> version 1.0.4-sc.12 should be up in the <a href="https://play.google.com/store/apps/details?id=de.spiritcroc.riotx">Play Store</a> soon.</p>
<p>It includes following changes since the last TWIM:</p>
<ul>
<li>
<p>The single-list overview screen is now optional. If you prefer the tabbed layout for separating direct messages and rooms, as known from Element for Android, but still want SchildiChat's message bubbles, you can get that combination now too!</p>
</li>
<li>
<p>Push notifications have been enabled for the Play Store variant</p>
</li>
<li>
<p>Some theme fixes for old Android versions</p>
</li>
</ul>
</blockquote>
<h3 id="hydrogen">Hydrogen</h3>
<p><a href="https://matrix.to/#/@bwindels:matrix.org">Bruno</a> told us:</p>
<blockquote>
<p>Some regular readers might remember, in the past I've put a few entries here about a side-project called <a href="https://github.com/bwindels/brawl-chat/">Brawl</a>. Two weeks ago, we took Brawl and started building a new client on top of it code-named Hydrogen.</p>
<p>As the name implies, Hydrogen tries to be the lightest Element. It is written entirely in vanilla javascript (no React, no Webpack) for complete control, structured as an MVVM app, leveraging the raw performance of indexeddb. On huge accounts where Element-web uses up to 1GB of heap memory, Hydrogen sips away with a mere 15mb. It is very early days though, and Hydrogen has very little features: you can receive and send unencrypted messages and that's it.</p>
<p>Hydrogen also aims to support a wider range of browsers, from IE11 (particularly for orgs with locked-down machines) all the way to a fully featured PWA that works well on mobile. We should also be able to easily add progressive loading, which <a href="https://github.com/vector-im/element-web/issues/2498">proved hard in the past</a>.</p>
<p>Another goal is to make it easy to embed parts of the app (like the room view) into another app or website. It could also be really nice to have a place to play and experiment with new tech for element proper - much as Dendrite has influenced Synapse.</p>
<p>As mentioned, it's early days, and lots of things are missing or broken, so <strong>please don't file any issues yet</strong>. Feel free to play around with it at <a href="https://hydrogen.element.io/">https://hydrogen.element.io/</a> though!</p>
</blockquote>
<p><img src="/blog/img/2020-08-14-hydrogen.png" alt="Hydrogen" /></p>
<p>Find the repo here: <a href="https://github.com/vector-im/hydrogen-web/">https://github.com/vector-im/hydrogen-web/</a>.</p>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@igulek:matrix.org">ismailgulek</a> offered:</p>
<blockquote>
<p>This week, we've completed some of the tasks from the sprint: <a href="https://github.com/vector-im/element-ios/milestone/38.">https://github.com/vector-im/element-ios/milestone/38.</a></p>
<p>As a highlight, we've released a new TF with PushKit &amp; CallKit back.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="ruma">Ruma</h3>
<p>Ruma is a Rust project to create a comprehensive set of APIs for Matrix. Previously there was a Ruma homeserver project.</p>
<p><a href="https://matrix.to/#/@iinuwa:matrix.org">iinuwa</a> announced:</p>
<blockquote>
<p>Lots of exciting things happened in Ruma this week:</p>
<ul>
<li>We have officially implemented over half (18/31) of the Federation API endpoints!</li>
</ul>
<p>Special thanks to @agraven and @q-b!</p>
<ul>
<li>
<p>We've added the only new endpoint from r0.6.1 of the C2S spec.</p>
</li>
<li>
<p>We have begun work on adding support for borrowed types for requests. This
should reduce the memory allocations required for clients to send requests to</p>
</li>
</ul>
<p>a server.</p>
<ul>
<li>Exported some macros to make creating custom endpoints and events that</li>
</ul>
<p>much easier.</p>
<h4 id="new-contributors">New Contributors</h4>
<p>This week, we have gotten help from a few new contributors:</p>
<ul>
<li>
<p><a href="https://github.com/agraven">@agraven</a></p>
</li>
<li>
<p><a href="https://github.com/lieuwex">@lieuwex</a></p>
</li>
<li>
<p><a href="https://github.com/q-b">@q-b</a></p>
</li>
</ul>
<p>Thanks for your help!</p>
<p>If you're interested in contributing, join the party on
<a href="https://github.com/ruma/ruma">GitHub</a> or</p>
<p><a href="https://matrix.to/#/#ruma:matrix.org">#ruma:matrix.org</a>!</p>
</blockquote>
<p>Great to see new contributors here.</p>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="support-for-ansible-collections-from-famedly">Support for Ansible collections from Famedly</h3>
<p><a href="https://matrix.to/#/@jan.christian:gruenhage.xyz">JCG</a> told us:</p>
<blockquote>
<p>There's news from ansible land! Ansible recently introduced a new packaging format, the &quot;collection&quot;, and we've now started moving our ansible content into collections. This means the matrix modules I twim'ed a few months back are now easier to install than ever before, and the synapse/element roles are included in there as well (thanks to <a href="https://matrix.to/#/@madonius:entropia.de">madonius</a> for the contributions there). The roles have been regularly updated for a while now, and the element role isn't even called riot anymore! You can get the collection on <a href="https://galaxy.ansible.com/famedly/matrix">Ansible Galaxy</a>, with the source being available over on <a href="https://gitlab.com/famedly/ansible/collections/matrix">GitLab</a>. In case of any questions, feel free to hop over into <a href="https://matrix.to/#/#ansible:famedly.de">#ansible:famedly.de</a></p>
</blockquote>
<p>If <em>Ansible</em> were a film franchise &quot;Ansible: The Collection&quot; would be the long awaited boxset.</p>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="cody">Cody</h3>
<p><a href="https://matrix.to/#/@carl:bordum.dk">carl</a> said:</p>
<blockquote>
<p>cody - the REPL for your matrix room - received support for unit conversions this week. This is done by implementing GNU units as a language.</p>
<p>Chat with cody: <a href="https://matrix.to/#/@cody:bordum.dk">@cody:bordum.dk</a></p>
<p>Join our cody room: <a href="https://matrix.to/#/#cody:bordum.dk">#cody:bordum.dk</a>
Read the source: <a href="https://gitlab.com/carlbordum/matrix-cody/">https://gitlab.com/carlbordum/matrix-cody/</a></p>
</blockquote>
<p><img src="/blog/img/2020-08-14-cody.png" alt="2020-08-14-cody.png" /></p>
<p>Seems to work well!</p>
<h3 id="opsdroid">Opsdroid</h3>
<p><a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> reported:</p>
<blockquote>
<p><a href="https://github.com/opsdroid/opsdroid">opsdroid</a> is getting close to a release with the matrix connector rewritten to use the matrix-nio library. If you are feeling brave and want to help us iron out any bugs before the release, please install the master branch and test it out for your matrix bots. Please report any issues on the GitHub issue tracker or come talk in <a href="https://matrix.to/#/#opsdroid-developers:matrix.org">#opsdroid-developers:matrix.org</a>. Hopefully, a release with this and lots of other goodies will be coming in a couple of weeks.</p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞Ô∏è</h2>
<h3 id="privee">Privee</h3>
<p><a href="https://matrix.to/#/@terry_hello:matrix.org">terry_hello</a> said:</p>
<blockquote>
<p>Hi All,</p>
<p>I‚Äôve created a compact and portable home server based on Matrix protocol, it‚Äôs a piece of hardware which is easy to use and set up. I‚Äôm working on a new client APP similar to other typical messenger GUI, but this server we named it ‚ÄòPrivee‚Äô supports any messenger developed with Matrix protocol. I‚Äôve launched a campaign on Kickstarter this week, please come and support us! Thank you!
<a href="https://www.kickstarter.com/projects/privee/privee?ref=beibnw">https://www.kickstarter.com/projects/privee/privee?ref=beibnw</a></p>
</blockquote>
<p>Privee is an <em>interesting project</em> alright! The project creators are based in Hong Kong, and are working from a desire to have more control over their communications. The plan is to run homeservers on a small computer physically located with the user, similar to plans outlined by <a href="https://nova.chat/">NovaChat</a>.</p>
<p>This is an early-stage project (hence starting on KickStarter.) While exciting and ambitious, I encourage everyone to do their own research! Learn more and chat with terry_hello (who has done a good job handling questions already!) in <a href="https://matrix.to/#/#Privee:matrix.org">#Privee:matrix.org</a>.</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">helderferreira.io</td><td style="text-align: center">470</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">maescool.be</td><td style="text-align: center">486.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">570.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">mchus.pro</td><td style="text-align: center">730</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">envs.net</td><td style="text-align: center">770</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">maunium.net</td><td style="text-align: center">983</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">matrix.org</td><td style="text-align: center">1261</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">acmelabs.space</td><td style="text-align: center">1282.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">chatserver.ca</td><td style="text-align: center">1387</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">productionservers.net</td><td style="text-align: center">1433.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;08&#x2F;07&#x2F;this-week-in-matrix-2020-08-07&#x2F;" title="This Week in Matrix 2020-08-07">This Week in Matrix 2020-08-07</a></h2>
                <span>
                    07.08.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe src="https://www.youtube.com/embed/cIOKD9xM3F0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at https://matrix.org/docs/spec/proposals.</p>
<h3 id="msc-status">MSC Status</h3>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2716">MSC2716: Incrementally importing history into existing rooms</a></li>
</ul>
<p><img src="/blog/img/2020-08-07-stacked_area_chart.png" alt="" /></p>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC üéìÔ∏è</h2>
<h3 id="go-neb">go-neb</h3>
<p><a href="https://matrix.to/#/@nikofil:matrix.org">nikofil</a> reported:</p>
<blockquote>
<ul>
<li>
<p>Handle SAS verification by adding an endpoint where the decimal SAS code generated by another device can be sent. If this code matches with go-neb's generated code, the verification succeeds and the device is marked as trusted.</p>
</li>
<li>
<p>Add a cryptotest service which can be used for other clients to test their functionalities related to e2ee. This currently includes a challenge / response, key forwarding functions (key request / key forward) and SAS verification. SSSS and cross-signing are planned for the future. (PR is under review)</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-p2p-busts-in-silhouette">Dept of P2P üë•</h2>
<h3 id="ios-p2p-demo">iOS P2P Demo</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> said:</p>
<blockquote>
<p>The Element P2P demo on iOS has seen a number of updates in the last week - now at build 31 - which contains a number of fixes:</p>
<ul>
<li>
<p>QUIC session setup is now far more reliable</p>
</li>
<li>
<p>QUIC sessions are now reset when the node's network coordinates change</p>
</li>
<li>
<p>The federation sender now wakes up properly on incoming QUIC sessions</p>
</li>
<li>
<p>Network coordinates are now cached for remote federated nodes, reducing the number of DHT searches and speeding up resuming federation</p>
</li>
<li>
<p>HTTP pools are disabled, which reduces head-of-line blocking problems on stalled sessions</p>
</li>
<li>
<p>A number of timeouts have been lowered</p>
</li>
<li>
<p>Dendrite has been updated to the latest version</p>
</li>
</ul>
<p>If you have an iPhone or iPad and want to play with the demo, <a href="https://testflight.apple.com/join/Tgh2MEk6">grab the public TestFlight</a>!</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="matrix-media-repo-v1-2-0">matrix-media-repo v1.2.0</h3>
<p><a href="https://github.com/turt2live/matrix-media-repo">matrix-media-repo</a> is a highly customizable multi-domain media repository for Matrix</p>
<p><a href="https://github.com/turt2live">TravisR</a> told us:</p>
<blockquote>
<p><a href="https://github.com/turt2live/matrix-media-repo/releases/tag/v1.2.0">v1.2.0</a> is out now, with a bunch of bug fixes and some added features:</p>
<ul>
<li>
<p>Thumbnail support for apng and webp images (thanks Sorunome!) </p>
</li>
<li>
<p>Experimental (but pretty stable) support for Redis as a cache - instructions <a href="https://github.com/turt2live/matrix-media-repo/blob/v1.2.0/docs/redis.md">here</a></p>
</li>
<li>
<p>Optional oEmbed support for things like previewing tweets - turn it on <a href="https://github.com/turt2live/matrix-media-repo/blob/v1.2.0/config.sample.yaml#L343-L346">here</a></p>
</li>
<li>
<p>Dynamic thumbnail support</p>
</li>
<li>
<p>Per-user quotas</p>
</li>
</ul>
<p>v1.2.0 is also much faster at file uploads, however some areas of matrix-media-repo can still be improved - general performance work is planned for the next release.</p>
<p><a href="https://github.com/turt2live/matrix-media-repo/tree/v1.2.0#matrix-media-repo">Learn more about matrix-media-repo</a>.</p>
</blockquote>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> announced:</p>
<blockquote>
<p>We are happy to announce the <a href="https://github.com/matrix-org/dendrite/milestone/8">beta milestone</a> for our first versioned release of Dendrite, which we anticipate to land in the next few weeks. Once these issues are cleared, we'll have made the big breaking changes that we want to make and will have a migration mechanism in place for database schema upgrades.</p>
<p>This will make life significantly easier for anyone who wants to start experimenting with and running their own Dendrite homeservers without unexpected breakages. More updates to follow soon - join us in <a href="https://matrix.to/#/#dendrite:matrix.org">#dendrite:matrix.org</a> for the latest!</p>
<p>This week, Dendrite's end-to-end encryption support has also been mostly rounded off with the exception of a few minor bugs and edge-cases.</p>
<p>Changes this week include:</p>
<ul>
<li>
<p>TLS certificate verification is now enabled by default</p>
</li>
<li>
<p>A new <code>federation_disable_tls_validation</code> config option has been added to override the above</p>
</li>
<li>
<p>Added support for processing inbound device lists from federation</p>
</li>
<li>
<p>Local device list changes are now sent outbound over federation</p>
</li>
<li>
<p>One-time key counts are now sent in <code>/sync</code></p>
</li>
<li>
<p>Direct server signing key fetches are now limited to 15 seconds</p>
</li>
<li>
<p>State events that fail signature checks on federated room joins are now properly ignored</p>
</li>
<li>
<p>A number of SQLite database lock bugs have been fixed using <code>TransactionWriter</code></p>
</li>
<li>
<p>A bug when finding joined hosts in the federation sender in SQLite mode has been fixed</p>
</li>
<li>
<p>Logging levels have been adjusted in a number of areas</p>
</li>
</ul>
<p>Spec compliance:</p>
<ul>
<li>
<p>Client-Server APIs: 51%, same as last week</p>
</li>
<li>
<p>Server-Server APIs: 54%, up from 53% last week</p>
</li>
</ul>
</blockquote>
<p>Asked whether this progress means that matrix.org would be running on Dendrite next year, Neil said he was <em>certain</em> that it would <em>definitely</em> be ready:</p>
<blockquote>
<p>Anything is possible</p>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> reported:</p>
<blockquote>
<ul>
<li>
<p>Improve long polling when user is invited (thanks @gnieto)</p>
</li>
<li>
<p>Documentation and code cleanup</p>
</li>
<li>
<p>Getting initial server_server code back into shape</p>
</li>
</ul>
<p>Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<p>Oh and btw look at Matrix Live this week!</p>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@clokep:matrix.org">Patrick</a> offered:</p>
<blockquote>
<p>This week in Synapse land we continued with our performance push making further progress on the async/await-athon. We will move into the storage layer this coming week which will leave the caching layer and a few other bits outstanding. Separate work continued to get the event persister into a shardable state. The first step being to replace the event stream token with its own type and then threading that through the code base.</p>
<p>We have also continued to improve on our push capabilities and released a new version of Sygnal (<a href="https://github.com/matrix-org/sygnal/releases/tag/v0.8.2">0.8.2</a>) with support for pushing to iOS devices via Firebase.</p>
<p>We are also very close to getting a workable version of the new push rules. The idea is to test it out in the wild before getting it enshrined in the spec.</p>
<p>Next week will see a continued focus on sharding and async/awaiting, more notifications work, logging improvements, and a host of bug fixes!</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="maubot-rss-plugin">maubot rss plugin</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> reported:</p>
<blockquote>
<p>I released <a href="https://github.com/maubot/rss/releases/tag/v0.2.0">v0.2.0</a> of the maubot RSS plugin. The most recent addition is support for JSON feeds, <del>stolen from</del> <em>inspired by</em> FantasyCookie17's <a href="https://gitlab.com/FantasyCookie17/jsonfeed-bot/">jsonfeed-bot</a>.</p>
<p>Other changes since v0.1.0:</p>
<ul>
<li>Per-feed toggle to send posts as <code>m.text</code> instead of <code>m.notice</code></li>
<li>Automatically moving subscriptions across room upgrades</li>
<li>Some fixes for handling weird feeds</li>
</ul>
<p><a href="https://github.com/maubot/rss">maubot/rss</a> is a maubot plugin that posts feed updates to Matrix rooms. It supports RSS/Atom/JSON feeds, customizing message templates per-feed/room, and more.</p>
</blockquote>
<h3 id="mautrix-bridges">mautrix bridges</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> reported:</p>
<blockquote>
<p>All my bridges now have options for automatic e2ee key sharing in portal rooms. Currently they don't have verification support (other than manually marking as verified in the database), so enabling key sharing isn't entirely secure yet. I'll probably invent some sort of web verification interface after nikofil adds cross-signing to mautrix-go.</p>
<p>This also means mautrix-python now supports sending and responding to key requests. I'll port the interactive verification and future cross-signing code from mautrix-go to mautrix-python at some point too.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="fractal">Fractal</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> offered:</p>
<blockquote>
<p>4.4.0 is out as promised last week! Get it off <a href="https://www.flathub.org/apps/details/org.gnome.Fractal">Flathub</a> now.</p>
<p>After we announced our intention to release, we discovered a regression that prevented joining new rooms because there was a mixup between room aliases and room id during a switch from internal structures to ruma-identifiers. Luckily we managed to fix it in time and make the release as intended.</p>
<h4 id="full-changelog-since-4-2-2">Full changelog since 4.2.2</h4>
<h4 id="new-features">New features</h4>
<ul>
<li>
<p>Videos now have a preview directly in history</p>
</li>
<li>
<p>New videos player: click on a preview to open it</p>
</li>
<li>
<p>Improved audio file support, with a nicer presentation and seeking</p>
</li>
<li>
<p>Redacted messages are removed from history</p>
</li>
<li>
<p>Edited messages are replaced with their new content and show a small icon</p>
</li>
<li>
<p>Translations have been updated</p>
</li>
<li>
<p>Spellcheck language is saved per room</p>
</li>
<li>
<p>New swipe-back gesture to go back from room to room list in narrow view</p>
</li>
<li>
<p>New swipe left and right gesture to navigate through media in media view</p>
</li>
<li>
<p>SOCKS proxy are now also supported</p>
</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
<li>
<p>Thumbnail for pasted images have been fixed</p>
</li>
<li>
<p>File type detection for uploads is more reliable</p>
</li>
<li>
<p>Typing notifications are now only sent when text is actually typed in the message input</p>
</li>
</ul>
<h4 id="under-the-hood">Under the hood</h4>
<ul>
<li>
<p>Code refactor is still going</p>
</li>
<li>
<p>Some improvements to logging, including access token removal for privacy</p>
</li>
</ul>
</blockquote>
<h3 id="element-android">Element Android</h3>
<p><a href="https://matrix.to/#/@valere35:matrix.org">valere</a> told us:</p>
<blockquote>
<p>Sorry we missed last week TWIM!</p>
<ul>
<li>Element Android 1.0.4 üöÄ has been released to the store, it contains several bug fixes, and is adding back some moderators functionality (see list of banned users for a room + actions)</li>
</ul>
<p>The team has been mainly working on stabilisation + refactoring of the current code base.</p>
<p>We are also trying to give more visibility on what is coming next:</p>
<ul>
<li>
<p>Pin code protection üîì (merged on develop)</p>
</li>
<li>
<p>Improvement of big media upload</p>
</li>
<li>
<p>Cancelling send, retries, better upload progress...</p>
</li>
<li>
<p>Call fixes and improvement</p>
</li>
<li>
<p>Improve fdroid polling for notification</p>
</li>
</ul>
<p>The team is partially off, expect some delays in handling of issues and PR reviews</p>
</blockquote>
<h3 id="schildichat-android">SchildiChat Android</h3>
<p><a href="https://matrix.to/#/@spiritcroc:matrix.org">SpiritCroc</a> reported:</p>
<blockquote>
<p><a href="https://github.com/SpiritCroc/SchildiChat-android">SchildiChat</a> is a new fork of Element for Android (previously RiotX), which features some UI changes, to make it more comfortable to use for people who are used to other common instant messengers.</p>
<p>The most important changes are the following:</p>
<ul>
<li>
<p>The overview screen lists all chats in one list instead of the tabbed layout in Element</p>
</li>
<li>
<p>Message bubbles (optional)</p>
</li>
<li>
<p>Theme choice based on the system-wide dark/light theme on recent Android versions</p>
</li>
</ul>
<p>It is now available on <a href="https://play.google.com/store/apps/details?id=de.spiritcroc.riotx">Google Play</a>, it might appear on F-Droid too in the future.</p>
</blockquote>
<p><a href="https://matrix.to/#/#schildichat-android:matrix.org">#schildichat-android:matrix.org</a> is the place to find out more.</p>
<h3 id="new-appimage-for-the-element-desktop-matrix-client">New AppImage for the Element Desktop Matrix Client</h3>
<p><a href="https://matrix.to/#/@srevinsaju:matrix.org">srevinsaju</a> told us:</p>
<blockquote>
<p>As per <a href="https://github.com/vector-im/element-web/issues/4766#issuecomment-668170110">this issue comment</a>, I was asked to inform this channel of the new AppImage for the Element Desktop Matrix Client. üéâ. Interested users may get them on <a href="https://appimage.github.io/element">appimage.github.io</a> or on my <a href="https://github.com/srevinsaju/element-appimage/releases">releases page</a>, offering Continuous builds (refreshed every day) for stable and beta builds üòÉ</p>
</blockquote>
<h3 id="indiechat-announced">IndieChat announced</h3>
<p><a href="https://matrix.to/#/@indiechat:matrix.org">indiechat</a> announced:</p>
<blockquote>
<p>Hello, World! <strong>[IndieChat]</strong>, a new Android matrix client is in Play Store:  <a href="https://play.google.com/store/apps/details?id=chat.indie.cam">https://play.google.com/store/apps/details?id=chat.indie.cam</a></p>
</blockquote>
<p>This is forked from FluffyChat:</p>
<blockquote>
<p>I have changed the archive feature. Added a splash screen. Further simplified settings. Login times work  faster compared to FC. I am connecting it to my Jitsi instance. which operates p2p and is completely analytics free. Message notifications are analytics free. It will eventually be an extension to a videocall app developed by myself. It adds variety to the ecosystem. It strictly follows license rules, credits the developers and links to their wonderful work. And it is a great thing to do in my spare time ‚ò∫Ô∏è</p>
</blockquote>
<h3 id="element-ios">Element-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> said:</p>
<blockquote>
<p>This week, we started a new sprint to finalise remaining rebranding and iOS13 SDK issues. Note that have a plan to make CallKit and PushKit back!</p>
<p>In parallel, we have finished to setup the CI for the 3 iOS projects.</p>
</blockquote>
<h2 id="dept-of-encryption-closed-lock-with-key">Dept of Encryption üîê</h2>
<h3 id="device-dehydration">Device dehydration</h3>
<p><a href="https://matrix.to/#/@hubert:uhoreg.ca">uhoreg</a> told us:</p>
<blockquote>
<p>I missed out on demo day last week because my demo wasn't ready yet.  But I recorded a video, so here is what you would have seen if I had managed to finish on time: <a href="https://scitech.video/videos/watch/4aad91c3-30bb-479f-8437-a517354594db">https://scitech.video/videos/watch/4aad91c3-30bb-479f-8437-a517354594db</a></p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="matrixbz">matrixbz</h3>
<p><a href="https://matrix.to/#/@patrick:tincan.community">patrick</a> announced:</p>
<blockquote>
<h4 id="simple-matrix-bots-with-matrix-nio">simple matrix bots with <a href="https://github.com/poljar/matrix-nio">matrix-nio</a></h4>
<p>Hey all! I built yet another bot library. matrixbz was built with the intention of making it easy to draft matrix bots. Check out the <a href="https://github.com/decentralabs/matrixbz">github</a> - I've added some examples where you can build a bot in ~10 lines of python code. matrixbz features:</p>
<ul>
<li>
<p><strong>Auth</strong> - you can specify user(s) who are authorized to call commands. bot only accepts invites from those users.</p>
</li>
<li>
<p><strong>Cache</strong> - you can cache results for particular command invocations.</p>
</li>
</ul>
<p>Check out the <a href="https://pypi.org/project/matrixbz/">package</a>.</p>
</blockquote>
<h3 id="ruma">Ruma</h3>
<p><a href="https://matrix.to/#/@iinuwa:matrix.org">iinuwa</a> reported:</p>
<blockquote>
<p>We have released version 0.0.1 of the <code>ruma</code> crate! Thanks to all of our contributors!</p>
<p>Besides that and continuing to refine <code>ruma-events</code>, here are some other highlights over the past couple weeks:</p>
<ul>
<li>
<p>Implemented a few more endpoints implemented on <code>ruma-federation-api</code></p>
</li>
<li>
<p>Added helper macros for creating identifier types</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="hemppa">Hemppa</h3>
<p><a href="https://matrix.to/#/@cos:hacklab.fi">Cos</a> told us:</p>
<blockquote>
<p>Hemppa the bot is a general use bot that has lot of modules for various uses and super easy API to create more. Hemppa received support for Mastodon. Now you can login to your Mastodon account and send toots via Matrix. Next major feature would be to subscribe to hashtags and users and get notifications to Matrix rooms. <a href="https://github.com/vranki/hemppa#mastodon">https://github.com/vranki/hemppa#mastodon</a></p>
</blockquote>
<h3 id="hopeless-the-hope-conference-bot">HOPEless, the HOPE conference bot</h3>
<p><a href="https://matrix.to/#/@valka:fairydust.space">valka</a> said:</p>
<blockquote>
<p>The <a href="https://hope.net/">Hackers on Planet Earth</a> conference went almost entirely self-hosted this year due to not being able to hold an in-person event, and used Matrix to go virtual! <a href="https://github.com/gracchus163/hopeless">hopeless</a> was the robot-heart of the conference, providing community+room ACLs for attendees. The bot also has a bunch of other features including:</p>
<ul>
<li>
<p>configured admins sending notices to rooms</p>
</li>
<li>
<p>ability to manually and programmatically schedule announcements for scheduled events happening, like workshops or talks</p>
</li>
<li>
<p>the ability for users to re-join rooms and generate invites for themselves as necessary</p>
</li>
<li>
<p>admin commands for inviting attendees and presenters without tickets</p>
</li>
<li>
<p>an attempt to be friendly and solve people's common problems without a real person having to assist (surprisingly effective!)</p>
</li>
</ul>
<p>Many thanks to the <a href="https://github.com/anoadragon453/nio-template">nio-template</a> for existing, otherwise this wouldn't have been possible!</p>
</blockquote>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> (nio-template) creator responded:</p>
<blockquote>
<p>Wonderful! I plan to give it some more love soon, including some docker magic to make it easier to run.</p>
<p>If you ever have any feedback about improving it, feel free to post it in <a href="https://matrix.to/#/#nio-template:amorgan.xyz">#nio-template:amorgan.xyz</a> :)</p>
</blockquote>
<h3 id="matrix-diskstation-bot">matrix-diskstation-bot</h3>
<p><a href="https://matrix.to/#/@kb1rd:kb1rd.net">KB1RD</a> said:</p>
<blockquote>
<p>This is just a stupid simple bot based on <a href="https://github.com/turt2live/matrix-bot-sdk-bot-template">T r a v i s R's matrix-bot-sdk-bot-template</a> that forwards alerts from a Synology DiskStation NAS to Matrix room(s).</p>
<p>It's on <a href="https://github.com/KB1RD/matrix-diskstation-bot">GitHub</a> and <a href="https://hub.docker.com/r/kb1rdweb/matrix-diskstation-bot">Docker Hub</a></p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">426</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">privacytools.io</td><td style="text-align: center">438</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">saferutar.com</td><td style="text-align: center">487</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">maunium.net</td><td style="text-align: center">534</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">heitkoetter.net</td><td style="text-align: center">570</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">chatcloud.net</td><td style="text-align: center">640</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">encom.eu.org</td><td style="text-align: center">658.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">envs.net</td><td style="text-align: center">697</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">847</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">neko.dev</td><td style="text-align: center">879</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;07&#x2F;31&#x2F;this-week-in-matrix-2020-07-31&#x2F;" title="This Week in Matrix 2020-07-31">This Week in Matrix 2020-07-31</a></h2>
                <span>
                    31.07.2020 20:51
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                <br>
                <small>Last update: 31.07.2020 20:24</small>
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe src="https://www.youtube.com/embed/Ac6YcTUvnA8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<p><a href="https://www.zdnet.com/article/open-source-is-behind-this-massive-messaging-and-collaboration-project-for-500000-people/">Matrix is being used in the &quot;world's biggest messaging and collaboration&quot; deployment</a>.</p>
<blockquote>
<p>[Matrix will] be rolled out by the German education system to provide collaboration tools for half a million seats in the states of Schleswig-Holstein and Hamburg</p>
</blockquote>
<p>Casual 500,000 user deployment, very nice!</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> announced:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals.">https://matrix.org/docs/spec/proposals.</a></p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Finished FCP:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2689">MSC2689: Fix E2EE for guests</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2663">MSC2663: Errors for dealing with non-existent push rules</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2611">MSC2611: Remove m.login.token User-Interactive Authentication type from the specification</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2610">MSC2610: Remove m.login.oauth2 User-Interactive Authentication type from the specification</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2579">MSC2579: Improved tagging support</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/1849">MSC1849: Proposal for m.relates_to aggregations</a></p>
</li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2713">MSC2713: Remove deprecated v1 Identity Service API</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2706">[WIP] MSC2706: IPFS as a media repository for Matrix</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2705">MSC2705: Animated thumbnails for media (and thumbnail content-type requirements)</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2704">MSC2704: Explicitly allow alternative origins in MXC URIs and specify deduplication requirements on uploads</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2703">MSC2703: Media ID grammar</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2702">MSC2702: Specifying semantics for Content-Disposition on media</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2701">MSC2701: Clarifying Content-Type usage in the media repo</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2700">MSC2700: Thumbnail requirements for the media repo</a></p>
</li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, we'll be continuing on with <a href="https://github.com/matrix-org/matrix-doc/issues/2674">MSC2674</a> (aggregations pt1: relationships) and adding <a href="https://github.com/matrix-org/matrix-doc/issues/1544">MSC1544</a> (QR code verification) on top.</p>
</blockquote>
<p><img src="/blog/img/2020-07-31-3hFLP-stacked_area_chart.png" alt="2020-07-31-3hFLP-stacked_area_chart.png" /></p>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC üéìÔ∏è</h2>
<h3 id="karlik">karlik</h3>
<p><a href="https://matrix.to/#/@karlik:matrix.org">karlik</a> announced:</p>
<blockquote>
<p>for matrix-ircd</p>
<ul>
<li>
<p>Merged update for total move to async / await into development branch, (hopefully) soon to be merged to master</p>
</li>
<li>
<p>Made single-threaded project thread-safe for easily scaling up to potentially many threads</p>
</li>
<li>
<p>Added additional logging for tls and non-tls connections for more clear debugging</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="e2e-dendrite">E2E Dendrite</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@kegan:matrix.org">kegan</a> reported:</p>
<blockquote>
<p>E2E Dendrite work is progressing, and we're making a lot of breaking changes ahead of our first stable release which you can expect in the coming weeks.</p>
<p>As for the changes this week:</p>
<ul>
<li>
<p>Add a bare bones user directory. This is mainly to benefit the iOS Yggdrasil demo.</p>
</li>
<li>
<p>The <code>dendrite-config.yaml</code> configuration format has been overhauled. It's still in review but expect big changes here!</p>
</li>
<li>
<p>Fixed a bug with SQLite when handling large rooms (thanks @HenrikSolver!)</p>
</li>
<li>
<p>Device lists now work locally, with federation support to come.</p>
</li>
</ul>
<p>Spec compliance is up from last week:</p>
<ul>
<li>Client-Server APIs: 51%, up from 49%.</li>
<li>Federation APIs: remains at 53%.</li>
</ul>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> announced:</p>
<blockquote>
<p>Welcome back! This week was very productive:</p>
<ul>
<li>
<p>Ignore users (thanks @devinr528)</p>
</li>
<li>
<p>Long polling (faster and more efficient /sync)</p>
</li>
<li>
<p>Fix and improve presence</p>
</li>
<li>
<p>Room tagging (thanks @gnieto)</p>
</li>
<li>
<p>/publicRooms pagination</p>
</li>
<li>
<p>Refactor endpoints into modules</p>
</li>
<li>
<p>Export endpoints as a library (useful for p2p!)</p>
</li>
<li>
<p>Config options to set the maximum upload size or disable encryption</p>
</li>
<li>
<p>and more!</p>
</li>
</ul>
<p>Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> offered:</p>
<blockquote>
<p>This week we shipped <a href="https://matrix.org/blog/2020/07/30/synapse-1-18-0-released">1.18.0</a> which contained support for our worker sharding performance projects that you‚Äôve been hearing about recently.</p>
<p>We also shipped a security and feature release of <a href="https://github.com/matrix-org/sygnal/releases">Sygnal</a> (actually two each‚Ä¶). The main new feature being the ability to run behind an HTTP proxy which is useful in environments that mandate that all traffic go through a proxy.</p>
<p>Aside from that week we continued our async/await-athon and Patrick provided a visual update</p>
</blockquote>
<p><img src="/blog/img/2020-07-31-m2KRg-image.png" alt="2020-07-31-m2KRg-image.png" /></p>
<blockquote>
<p>We‚Äôve been documenting worker support and diving into sharding the event persisters. This is not a small job since it means every other part of the code base that assumes an integer stream id will need to be updated to be aware of multiple stream ids from multiple persisters.</p>
<p>Over in feature land we‚Äôve been working on the notifications project and most of the backend support is done. The project will mean more intuitive defaults as well as a much better client UX in configuring notification settings.</p>
<p>Finally special thanks to <a href="https://github.com/aaronraimist">Aaron Raimist</a> for a bumper <a href="https://github.com/matrix-org/synapse/pull/7899">docs PR</a></p>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> offered:</p>
<blockquote>
<p>Just pushed the 1.18.0 K8s-optimized Synapse images, now only doing the debian-based version as like upstream - though still including jemalloc. So <code>latest</code>/<code>v1.18.0</code> and <code>*-debian</code> will be the same in this version and going forwards. Additionally, the <code>*-debian</code> tags will only remain for a release or two more before disappearing, as they're now superfluous.</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="mautrix-telegram">mautrix-telegram</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> offered:</p>
<blockquote>
<p>I finally added automatic backfilling options to mautrix-telegram. Like my other bridges, it can backfill old messages when creating portals and missed messages when restarting, and it can disable notifications in the room while backfilling.</p>
<p>I also added bridging for your own read receipts, so if you read a message with another Telegram client, the bridge will mark it as read on your Matrix account with double puppeting.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="novachat">NovaChat</h3>
<p><a href="https://matrix.to/#/@eric:nova.chat">eric</a> reported:</p>
<blockquote>
<p><a href="https://nova.chat">NovaChat</a> is a new Matrix-based desktop client that aggregates all your chat networks into one app</p>
<h4 id="july-31-updates">July 31 Updates:</h4>
<ul>
<li>
<p>New room list design, featuring collapsible 'clusters' (see gif)</p>
</li>
<li>
<p>Enabled encrypted room search (thanks <a href="https://matrix.to/#/#seshat:matrix.org">#seshat:matrix.org</a>!)</p>
</li>
<li>
<p>Added [mautrix-twitter]( <a href="https://github.com/tulir/mautrix-twitter)">https://github.com/tulir/mautrix-twitter)</a></p>
</li>
<li>
<p>Worked around FB Messenger bridge 'forced-logout issue' by routing traffic through proxy on Raspberry Pi at each users home</p>
</li>
</ul>
<h4 id="in-the-works">In the works...</h4>
<ul>
<li>
<p>Create new clusters of chats in room list, using tags </p>
</li>
<li>
<p>iMessage bridge, using jailbroken iDevice </p>
</li>
<li>
<p>Android Messages bridge</p>
</li>
</ul>
<p>Adding new users weekly. Sign up for the <a href="https://nova.chat">NovaChat beta</a>. Or send me a DM @eric:nova.chat</p>
</blockquote>
<p><img src="/blog/img/2020-07-31-yJ-jJ-NovaChat-Newroomlist.gif" alt="2020-07-31-yJ-jJ-NovaChat-Newroomlist.gif" /></p>
<h3 id="gomuks">gomuks</h3>
<p><a href="https://maunium.net/go/gomuks">gomuks</a> is a terminal based Matrix client written in Go. <a href="https://github.com/tulir/gomuks">Source on GitHub</a></p>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> told us:</p>
<blockquote>
<p>gomuks can now do interactive verification for e2ee. Most of it is thanks to nikofil's <a href="https://github.com/tulir/mautrix-go/pull/16">SAS verification PR</a> to mautrix-go, I just made a UI for using it. Currently gomuks can only send verification requests, but I'll add some interface for accepting incoming requests soon.</p>
<p>Related to verification, there are some new commands for verifying/unverifying/blacklisting devices and viewing device lists. There's also a toggle to disable sending messages to unverified devices.</p>
</blockquote>
<p>This is super exciting, raises gomuks to the level of a daily driver IMO.</p>
<h3 id="fractal">Fractal</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> announced:</p>
<blockquote>
<p>We will release version 4.4 next Friday. Now is a good time to test the <a href="https://wiki.gnome.org/Apps/Nightly">nightly</a> version and check if it doesn‚Äôt break anything with your homeserver compared to 4.2.<br />
The changelog has been sparsely given in previous TWIMs, but you could have a look at <a href="https://gitlab.gnome.org/GNOME/fractal/-/commit/463e6bc9988e2d8fffbfc38058f8d0b12cd074d7">https://gitlab.gnome.org/GNOME/fractal/-/commit/463e6bc9988e2d8fffbfc38058f8d0b12cd074d7</a></p>
</blockquote>
<h3 id="element-ios-previously-riot-ios">Element-iOS, previously Riot-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> announced:</p>
<blockquote>
<p>We released 1.0.2 this week to the AppStore and on TestFlight. It's mainly a bug fix release after the Element rebranding.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="mautrix-go">mautrix-go</h3>
<p><a href="https://matrix.to/#/@nikofil:matrix.org">nikofil</a> offered:</p>
<blockquote>
<p>SAS verification support has been merged! Support for it should also be landing in go-neb soon, both for verifying with the bot's device and for testing with go-neb's client testing service. Next up, looking at SSSS and eventually cross-verification support.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="yunohost">YunoHost</h3>
<p><a href="https://matrix.to/#/@pierre:matrix.mamieserv.fr">Pierre</a> told us:</p>
<blockquote>
<p><a href="https://yunohost.org">YunoHost</a> is an operating system aiming for the simplest administration of a server, and therefore democratize self-hosting.</p>
<p><a href="https://github.com/YunoHost-Apps/synapse_ynh/tree/master">Synapse</a> integration had been updated to 1.15.2 (1.17.0 available in branch <code>testing</code>)</p>
<p><a href="https://github.com/YunoHost-Apps/riot_ynh/tree/master">Riot Web</a> integration had been updated to 1.6.8 (Element 1.7.1 available in branch <code>element</code>)</p>
</blockquote>
<h2 id="final-thoughts-thought-balloon">Final Thoughts üí≠</h2>
<p><a href="https://matrix.to/#/@tobi:im.kabi.tk">Tobi</a> said:</p>
<blockquote>
<p>We, some German Synapse admins, have created a survey about the usage of Matrix-Synapse for private statistic purpose (results will be published alike). As suggested in <a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a>, this could also be a topic for &quot;TWIM&quot;.</p>
</blockquote>
<p>Find the survey at <a href="http://go.kabi.tk/MatrixQuestionnaire2020">http://go.kabi.tk/MatrixQuestionnaire2020</a>.</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">kleinhirn.net</td><td style="text-align: center">366</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">383</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">tchncs.de</td><td style="text-align: center">394.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">mjdsystems.ca</td><td style="text-align: center">506</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">matrix.org</td><td style="text-align: center">587</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">nobelium.no</td><td style="text-align: center">753.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">pixie.town</td><td style="text-align: center">761</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">matrix.linux.pizza</td><td style="text-align: center">1111</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">uraziel.de</td><td style="text-align: center">1230.5</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">yyyyyyy.ml</td><td style="text-align: center">1314</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;07&#x2F;24&#x2F;this-week-in-matrix-2020-07-24&#x2F;" title="This Week in Matrix 2020-07-24">This Week in Matrix 2020-07-24</a></h2>
                <span>
                    24.07.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe src="https://www.youtube.com/embed/FWcx3OJHLGc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<h3 id="new-guide-for-client-e2ee-implementation-including-cross-signing">New guide for client e2ee implementation, including cross-signing</h3>
<p>Thanks and congratulations to Sorunome this week for releasing a new guide: <a href="https://matrix.org/docs/guides/implementing-more-advanced-e-2-ee-features-such-as-cross-signing">Implementing more advanced e2ee features, such as cross-signing</a>. This is a hugely detailed guide detailing the necessary steps to enable Cross-Signing and verification. Thanks as well to uhoreg and poljar for their work in reviewing the text!</p>
<h3 id="new-masters-thesis-written-on-matrix">New Masters Thesis written on Matrix</h3>
<p><a href="https://matrix.to/#/@jsparber:gnome.org">Julian Sparber</a> announced:</p>
<blockquote>
<p>I wrote a master thesis that tries to create e2e encryption based on Ethereum on top of Matrix. It may not solve all problems but it's an interesting experiment</p>
<p><a href="https://blogs.gnome.org/jsparber/2020/07/20/i-finished-my-masters-degree/">https://blogs.gnome.org/jsparber/2020/07/20/i-finished-my-masters-degree/</a></p>
</blockquote>
<p>I didn't get to look at this yet but it's exciting!</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> (guess who's back!?) said:</p>
<blockquote>
<p>I have put the long-awaited MSC2312 out of WIP - this is about matrix: URIs in case you haven't heard - and it's already in active discussion at <a href="https://matrix.to/#/#uri-scheme-proposal:matrix.org">#uri-scheme-proposal:matrix.org</a>! Join the fun to make it the most awesome! The upcoming Quotient 0.6 has an implementation of those so adventurous Quaternion users can start experimenting right away.</p>
</blockquote>
<h3 id="spec">Spec</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> reported:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals">https://matrix.org/docs/spec/proposals</a>.</p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Abandoned MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2579">MSC2579: Improved tagging support</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2689">MSC2689: Fix E2EE for guests</a> (merge)</p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2663">MSC2663: Errors for dealing with non-existent push rules</a> (merge)</p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2611">MSC2611: Remove m.login.token User-Interactive Authentication type from the specification</a> (merge)</p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2610">MSC2610: Remove m.login.oauth2 User-Interactive Authentication type from the specification</a> (merge)</p>
</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2695">MSC2695: Get event by ID over federation</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus, we've reduced last week's list of 5 MSCs down to one, <a href="https://github.com/matrix-org/matrix-doc/issues/2674">MSC2674</a> (aggregations part 1: relationships). Next week, we're going to focus entirely on that MSC to make some headway on finally getting aggregations into the spec.</p>
</blockquote>
<p><img src="/blog/img/2020-07-24-oRVoi-stacked_area_chart.png" alt="2020-07-24-oRVoi-stacked_area_chart.png" /></p>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC üéìÔ∏è</h2>
<h3 id="html-embeddable-matrix-client">HTML embeddable Matrix client</h3>
<p><a href="https://matrix.to/#/@arnav-t:matrix.org">arnav-t</a> announced:</p>
<blockquote>
<p>For the GSoC project HTML embeddable Matrix client this week:</p>
<ul>
<li>
<p>Added status bar for connection errors</p>
</li>
<li>
<p>Added support for displaying typing notifications</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-p2p-busts-in-silhouette">Dept of P2P üë•</h2>
<h3 id="p2p-dendrite">P2P / Dendrite</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@kegan:matrix.org">kegan</a> announced:</p>
<blockquote>
<p>The P2P Yggdrasil iOS demo has seen some improvements:</p>
<ul>
<li>
<p>Federation sender blacklists are now persisted which is important as the iOS app will be frequently terminated.</p>
</li>
<li>
<p>SQLite3 now uses <code>TransactionWriters</code> in more places to reduce the amount of 'database is locked' issues.</p>
</li>
<li>
<p>Federation sender has had much of its storage code refactored and de-duplicated.</p>
</li>
</ul>
<p>In addition, there has been much work getting Dendrite to support E2E rooms, which it now mostly does.</p>
<p>You can create and join E2E rooms and have a conversation locally, though there's issues with it over federation. In addition,
Dendrite currently lacks device lists so adding new devices may result in unable-to-decrypt errors:</p>
<ul>
<li>
<p>Send-to-device events now work over federation.</p>
</li>
<li>
<p>Device key uploads and querying now work both locally and over federation.</p>
</li>
<li>
<p>One-time key uploads and claiming now work both locally and over federation.</p>
</li>
</ul>
<p>Spec compliance is up from last week:</p>
<ul>
<li>Client Server APIs: 49%, up from 48%.</li>
<li>Federation APIs: 53%, up from 51%.</li>
</ul>
</blockquote>
<p>Doesn't it feel like we'll be using Dendrite in the wild really soon now?</p>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> offered:</p>
<blockquote>
<p>Another quiet week. Next week should be more exciting again.</p>
<ul>
<li>
<p>Moved to stable rust (rocket now compiles on stable!)</p>
</li>
<li>
<p>Implement /joined_rooms (thanks @aura)</p>
</li>
<li>
<p>Add max_request_size config option to set the maximum size for file uploads and other requests (thanks @CapsizeGlimmer)</p>
</li>
</ul>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> said:</p>
<blockquote>
<p>This week we continued on our async/await athon, you can track progress <a href="https://patrick.cloke.us/areweasyncyet/">here</a>, expect steady progress over the coming weeks.</p>
<p>We dusted off the notifications project working with our pals in the Element client teams to ensure that the push rule defaults make sense. On the flip side we made further improvements to Sygnal and will merge the ability to have it sit behind a proxy rsn. </p>
<p>We are also trying to figure out how media retention limits should work in Synapse.</p>
<p>Up next is to continue our performance push. We need to spend time between pulling things off the master process as well sharding the event persister. We will continue with notifications and maybe finally squash <a href="https://github.com/matrix-org/synapse/issues/2528">https://github.com/matrix-org/synapse/issues/2528</a></p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="introducing-matrix-figma">Introducing matrix-figma</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> reported:</p>
<blockquote>
<p>Hello people. It's been a while since I've talked about a new bridge...or actually any bridges. Fear not, now you can hear both! Today I'm announcing the birth of another project <code>matrix-figma</code>.  <a href="https://www.figma.com">Figma</a> is an online collaborative design tool. It was created to scratch an itch with the Element design team, who wanted to see comments appear in their Matrix rooms in realtime when someone commented on a Figma file.</p>
<p>The bridge works by first joining it to an &quot;admin room&quot;, which functions as a permitted user list. The bot can then be invited to any other room so long as the invitee is in that admin room, and can then ask the bot to start directing comment notifications into the room.</p>
<p>The room uses room state to hold configuration, so you can host the bot as a docker container anywhere without the need for any support files!</p>
<p>I can announce that the bridge is now functional for simple use cases such as these, with more interesting functionality in the future.</p>
<p>Please check out <a href="https://github.com/Half-Shot/matrix-figma">https://github.com/Half-Shot/matrix-figma</a> to see if the bridge is right for you :)</p>
</blockquote>
<h3 id="slack-matrix-migration">slack-matrix-migration</h3>
<p><a href="https://matrix.to/#/@rda:phys.ethz.ch">Sven</a> offered:</p>
<blockquote>
<p>I opened a <a href="https://github.com/Awesome-Technologies/slack-matrix-migration/pull/5">PR</a> for <a href="https://github.com/Awesome-Technologies/slack-matrix-migration">https://github.com/Awesome-Technologies/slack-matrix-migration</a>, which makes it compatible with recent <a href="https://github.com/matrix-org/synapse">Synapse</a> versions and adds new config options allowing to effectively import a Slack workspace history to an existing homeserver via federation.</p>
<p>This Python project was initially intended for a full migration from Slack to a new Matrix homeserver and allows reusing the imported user accounts. We have some research groups using Slack that would like to import their Slack workspace history to our Matrix homeserver. This PR allows to import a (free) Slack export to a fresh and empty Synapse instance that is federated with our main homeserver. We do not need a full &quot;migration&quot;: we kick all imported users and invite the existing Matrix users from our homeserver.</p>
<p>Two groups already imported the history and switched to Matrix, one more is in queue and probably more to come.</p>
</blockquote>
<p>This is a really, really exciting development, and the context for which Sven is expecting to use it is BIG, I can't wait til we can share more about it!</p>
<h3 id="mautrix-twitter">mautrix-twitter</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> said:</p>
<blockquote>
<p>The Twitter DM bridge I announced last week mostly works now. It does text and reaction bridging in both directions, twitter-&gt;matrix media bridging, end-to-bridge encryption and backfilling. I also added support for it in <a href="https://github.com/tulir/mautrix-manager">mautrix-manager</a> for web-based login.</p>
</blockquote>
<p>If it mostly works, I guess it's time to mostly start trying it out!</p>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="fluffychat">Fluffychat</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> offered:</p>
<blockquote>
<p>Fluffy 0.16.0 has been released! It is already available on F-Droid, Google Play and IOS Testflight will follow. You can also try it out in the webbrowser. Visit <a href="https://fluffychat.im">https://fluffychat.im</a></p>
<h4 id="features">Features</h4>
<ul>
<li>
<p>Implement web notifications</p>
</li>
<li>
<p>Implement a connection status header	</p>
</li>
</ul>
<h4 id="changes">Changes</h4>
<ul>
<li>
<p>Switch out database engine for faster performance</p>
</li>
<li>
<p>Greatly improve startup time</p>
</li>
<li>
<p>Added languages: Galician, Croatian, Japanese, Russian, Ukrainian - Thanks a lot to all the weblate users!</p>
</li>
<li>
<p>Only show the microg toast once, if you have play services disabled</p>
</li>
<li>
<p>Homeserver URL input now strips trailing whitespace and slash - Thanks @Katerina</p>
</li>
<li>
<p>Also use prev_content to determine profile of a user: This allows the username and avatar of people who left a group to still be displayed</p>
</li>
</ul>
<h4 id="fixes">Fixes:</h4>
<ul>
<li>
<p>Fix not being able to initiate key verification properly</p>
</li>
<li>
<p>Fix message sending being weird on slow networks</p>
</li>
<li>
<p>Fix a few HTML rendering bugs</p>
</li>
<li>
<p>Various other fixes</p>
</li>
<li>
<p>Fix the 12h clock showing 00:15am, instead of 12:15am	- Thanks @not_chicken</p>
</li>
<li>
<p>Fix an issue with replies and invalid HTML</p>
</li>
<li>
<p>Fix messages getting lost when retrieving chat history</p>
</li>
<li>
<p>Fix a bug where an incorrect string encoding from the server is assumed</p>
</li>
<li>
<p>Fix a bug where people couldn't log in if they had email notifications enabled</p>
</li>
</ul>
</blockquote>
<h3 id="mirage">Mirage</h3>
<p><a href="https://matrix.to/#/@miruka:privacytools.io">miruka</a> reported:</p>
<blockquote>
<p>0.6.0 is out today:</p>
<h4 id="added">Added</h4>
<ul>
<li>
<p><strong>Room member profiles</strong>:</p>
<ul>
<li>
<p>Can be accessed by clicking on a user in the room's right pane, or focusing
the filter field and navigating with up/down/enter/escape</p>
</li>
<li>
<p>Includes large avatar, display name, user ID, <strong>presence info</strong>,</p>
<p><strong>power level control</strong> and <strong>E2E sessions list</strong></p>
</li>
</ul>
</li>
<li>
<p><strong>E2E Verification</strong>:</p>
<ul>
<li>
<p>Sessions for room members can now be (manually) verified from
their profile</p>
</li>
<li>
<p>Sessions for different accounts within the same client will automatically</p>
<p>verify each others based on session keys</p>
</li>
<li>
<p>Verifying a session will automatically verify it for all connected accounts,</p>
<p>as long as the session keys are identical</p>
</li>
</ul>
</li>
<li>
<p><strong>Presence</strong>:</p>
<ul>
<li>
<p>Added presence (online, unavailable, invisible, offline) and status
message control to the accounts context menu in the room list</p>
</li>
<li>
<p>Added <code>togglePresence{Unavailable,Invisible,Offline}</code> keybinds bound by </p>
<p>default to <code>Ctrl+Alt+{A/U,I,O}</code></p>
</li>
<li>
<p>Added <code>openPresenceMenu</code> keybind to open the current account's context</p>
<p>menu, <code>Alt+P</code> by default</p>
</li>
<li>
<p>The room member list is now sorted by power level, then presence, then name</p>
</li>
<li>
<p>The room member list will display presence orbs and last seen time for</p>
<p>members if the server supports it. Last seen times for offline members
are also automatically retrieved as needed.</p>
</li>
<li>
<p>Set logged in accounts offline when closing Mirage</p>
</li>
<li>
<p>Linux/X11 specific: Add auto-away feature configurable by the</p>
<p><code>beUnavailableAfterSecondsIdle</code> setting (default 600 for 10mn),
can be disabled by setting it to <code>-1</code>.</p>
</li>
</ul>
</li>
<li>
<p><strong>Session sign out</strong>: you can now sign out your other sessions from the </p>
<p>account settings. This currently only supports password authentication.</p>
</li>
<li>
<p><strong>Pasting images</strong> via Ctrl+V or composer context menu, shows a preview of</p>
<p>the image before uploading</p>
</li>
<li>
<p>Added basic keyboard navigation for account settings session list</p>
</li>
<li>
<p>Add a verified devices indicator to encrypted room headers</p>
</li>
<li>
<p>Add experimental support for rendering of inline images and custom emotes in</p>
<p>messages</p>
</li>
<li>
<p>Add <code>kineticScrollingMaxSpeed</code> and <code>kineticScrollingDeceleration</code> settings</p>
</li>
<li>
<p>When highlighting accounts, rooms or members in lists </p>
<p>(focus filter field and use up/down), the highlighted item's context menu
can now be accessed with the keyboard Menu key</p>
</li>
<li>
<p>Support for Menu key when keyboard-navigating messages in the timeline</p>
</li>
<li>
<p>Add context menus to text field and areas</p>
</li>
<li>
<p>Add a button to quickly expand the room pane when collapsed and focus</p>
<p>the filter field</p>
</li>
<li>
<p>Clicking on the current tab button for the room pane now fully hides it,</p>
<p>this can also be toggled with the new <code>toggleHideRoomPane</code> keybind 
(default Ctrl+Alt+R)</p>
</li>
</ul>
<h4 id="changed">Changed</h4>
<ul>
<li>
<p>When panes are smaller than their default width due to user resizing or</p>
<p>window size constraints, focusing certain elements will auto-expand them
until the focus is lost: filter fields, member profile and room settings</p>
</li>
<li>
<p>Reduced the default kinetic scrolling speed, which was hardcoded to an</p>
<p>aggressive <code>4000</code> before.
This can be restored with the <code>kineticScrollingMaxSpeed</code> setting.</p>
</li>
<li>
<p>Improve key verification popup texts and make the session details copiable</p>
</li>
<li>
<p>Power levels/room permission change events will now show a line of text or</p>
<p>table containing the details of what exactly changed </p>
</li>
<li>
<p>Messages containing tables will no longer be width-limited</p>
</li>
<li>
<p>Using the <code>sendFileFromPathInClipboard</code> keybind (default Alt+Shift+S)</p>
<p>now shows a preview of the file if it's an image and asks for confirmation</p>
</li>
<li>
<p>Image messages now show spinners when loading the thumbnail</p>
</li>
<li>
<p>Clicking on a GIF message will now open it externally like other images</p>
<p>instead of pausing it. A dedicated play/pause button is now displayed in 
the corner.</p>
</li>
</ul>
<p>And more: <a href="https://github.com/mirukana/mirage/releases/tag/v0.6.0">full changelog</a></p>
</blockquote>
<h3 id="riot-ios-no-sorry-element-ios">Riot-iOS, no sorry, Element-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> offered:</p>
<blockquote>
<p>Last week, we forgot to announce that we renamed the Riot-iOS app to Element but this is not a surprise anymore. The app version is now 1.0.0. This change came with a lot of UI tweaks like new icons and new colors.</p>
<p>Since then, we made bug fixes we will release soon. This week, we also worked on PIN protection for the app, including support of Touch ID and Face ID.</p>
</blockquote>
<h3 id="element-android">Element Android</h3>
<p><a href="https://matrix.to/#/@ganfra:matrix.org">Francis</a> offered:</p>
<blockquote>
<p>This week has been focused on bug fixing, there will be a release next week. We also started to work on PIN protection for the app.</p>
</blockquote>
<h3 id="quotient">quotient</h3>
<p><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> offered:</p>
<blockquote>
<p>Quotient 0.6 released! The release notes are somewhat long, since it's been 4 months since the last stable version update, and more than a year since the 0.5 release - thanking two heroes of this release, and giving a nod to the original Quaternion author who happened to contribute using an inverted time machine. Read here: <a href="https://github.com/quotient-im/libQuotient/releases/tag/0.6.0">https://github.com/quotient-im/libQuotient/releases/tag/0.6.0</a></p>
</blockquote>
<p>Big news - first release in a year. Do take a look at the full notes, they're very readable. In particular, they call out contributions from Black Hat, Alexey Andreyev and the original project creator, Felix Rohrbach aka @fxrh.</p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="ruma">ruma</h3>
<p>Ruma is a Rust project to create a comprehensive set of APIs for Matrix. Previously there was a Ruma homeserver project.</p>
<p><a href="https://matrix.to/#/@jplatte:matrix.org">jplatte</a> said:</p>
<blockquote>
<p>We weren't in TWIM for a while, but that doesn't mean no progress! Apart from Devin's constant work on ruma-events, there was also some movement in ruma-identifiers and ruma-client-api, with the former seeing a new release, <a href="https://github.com/ruma/ruma/releases/tag/ruma-identifiers-0.17.0">0.17.0</a>.</p>
<p>We're planning to do more releases next week, and hopefully a 0.1 release of the ruma crate that provides a simpler entry point by re-exporting everything else, in one of the weeks after that. Stay tuned!</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h3>
<p>This <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">Ansible playbook</a> is meant to easily let you run your own Matrix homeserver.</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> said:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> just gained support for its first bot - <a href="https://github.com/anoadragon453/matrix-reminder-bot">matrix-reminder-bot</a>.</p>
<p>See our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bot-matrix-reminder-bot.md">Setting up matrix-reminder-bot</a> documentation to get started.</p>
</blockquote>
<p>Then, another report:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> has gained support for <a href="https://github.com/Awesome-Technologies/synapse-admin">synapse-admin</a>.</p>
<p>See our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-synapse-admin.md">Setting up Synapse Admin</a> documentation to get started.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="matrix-wug">matrix-wug</h3>
<p><a href="https://matrix.to/#/@dandellion:dodsorf.as">dandellion</a> said:</p>
<blockquote>
<p>It's been a while since it's come up, but <a href="https://github.com/dali99/matrix-wug">matrix-wug</a> is a bot capable of transcribing characters writable via normal keyboards to scripts from other languages/notation systems</p>
<p>It supports: x-sampa, z-sampa, proto-indo-european, Inuktitut, and I√±upiatun.</p>
<p>Now it also supports hiragana! The romanization system is something like <a href="https://en.wikipedia.org/wiki/W%C4%81puro_r%C5%8Dmaji">WƒÅpuro r≈çmaji</a>, but sticks to Nihon-shiki when in doubt.</p>
<p>I want this transcription to be forgiving, so if you find it not transcribing something in a way you'd expect it to, feel free to DM me!</p>
<p>To use it use the <code>hi</code> key with a delimiter like <code>/x/</code> or <code>[]</code></p>
<p>hi/konnichiwa maatorikusu!/</p>
<p>v√∏gg is also behind pantalaimon now so it now works in encrypted rooms üòÄ</p>
</blockquote>
<p>If you need to convert swiggles into a different type of swiggle, dandellion has you covered here.</p>
<h3 id="jitsi-token-service">Jitsi Token Service</h3>
<p><a href="https://matrix.to/#/@kinta:communia.org">kinta</a> reported:</p>
<blockquote>
<p><a href="https://gitlab.com/communia/matrix-jitsi-token-service">https://gitlab.com/communia/matrix-jitsi-token-service</a></p>
<p>This bot is not about adapting the current jitsi integration provided by Element IM as widget.</p>
<p>If you have a configured jitsi server to be authenticated with jwt tokens as in <a href="https://github.com/jitsi/lib-jitsi-meet/blob/master/doc/tokens.md">https://github.com/jitsi/lib-jitsi-meet/blob/master/doc/tokens.md</a> , this bot will assist you when claiming for a jwt instead of going to jwt.io each time.
You'll need to create a user and invite you in each room where you want to create a jitsi room url respecting the matrix power levels in the room.</p>
<p>When the service is running invite the bot and send message <code>!jitsi-jwt</code> </p>
<p>If you are a moderator in the room (alias you have enough power levels to redact messages), then you will get a direct message from bot with the url to jitsi
room with the jwt get parameter.</p>
</blockquote>
<h3 id="cody-0-7-0">cody 0.7.0</h3>
<p><a href="https://matrix.to/#/@carl:bordum.dk">carl</a> told us:</p>
<blockquote>
<p>New cody release. @cody:bordum.dk is a chat bot that works as a REPL for your matrix rooms. This week I worked on metrics. I host a Grafana instance with anonymous access allowed, so codys charts are now embedded the <a href="https://matrix.to/#/#cody:bordum.dk">#cody:bordum.dk</a> chat room.</p>
</blockquote>
<h3 id="announcing-the-very-first-release-of-smythbot">Announcing The Very First Release of sMythbot</h3>
<p><a href="https://matrix.to/#/@ssorbom:matrix.org">ssorbom</a> told us:</p>
<blockquote>
<p>I am proud to announce the very first release of sMythbot, the Matrix chatbot designed to control your Myth Tv DVR remotely. This release should be considered a tech preview. I welcome feedback and Bug reports. More information on installation and setup is available in the project wiki.</p>
<p>It currently supports the following commands</p>
<ul>
<li>
<p><code>!smythbot help</code>: Display this message </p>
</li>
<li>
<p><code>!smythbot set mythbackend address</code>: Sets the Myth Tv backend address to use for this room.</p>
</li>
<li>
<p><code>!smythbot set mythbacked port</code>: Sets the Myth Tv backend port to use for this room. </p>
</li>
<li>
<p><code>!smythbot view mythbackend address</code>: Allows you to view the Myth Tv backend address set for this room </p>
</li>
<li>
<p><code>!smythbot view mythbackend port</code>: Allows you to view the Myth Tv backend port set for this room </p>
</li>
<li>
<p><code>!smythbot view mythbackend info</code>: Allows you to view various pieces of information for the Myth Tv backend connected to this room. It will not work if the address and port are not set.</p>
</li>
<li>
<p><code>!smythbot display upcoming recordings</code>: Displays the upcoming recordings on your Myth Tv Backend.</p>
</li>
<li>
<p><code>!smythbot display recorded programs</code>: Displays the recordings from the default recording group that are stored on your Myth Tv Backend.</p>
</li>
</ul>
<p>You can find out more information at <a href="https://github.com/shsorbom/sMythbot">my Github Page</a></p>
</blockquote>
<p>I <em>love</em> a project designed to scratch the author's own itch!</p>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞Ô∏è</h2>
<h3 id="noteworthy-elements-for-mobile-web">Noteworthy Elements for Mobile Web</h3>
<p><a href="https://matrix.to/#/@balaa:a.noteworthy.im">balaa</a> said:</p>
<blockquote>
<p>The team behind <a href="https://noteworthy.tech">Noteworthy</a> (Matrix over WireGuard overlay networks) has started work on bringing better mobile web support for Element (riot-web).</p>
<p><a href="https://github.com/decentralabs/noteworthy-element">Noteworthy Elements</a> is a lightweight shim powered by the <a href="https://ionicframework.com">Ionic Framework</a> thats goal is to bring first-class support for Element running on mobile devices.</p>
<h4 id="what-we-have-so-far">What we have so far</h4>
<ul>
<li>
<p>Usable version of Element wrapped in native iOS / Android app</p>
</li>
<li>
<p>Ability to run multiple instances of Element in a native iOS / Android app (ie connect to multiple home servers simultaneously)</p>
</li>
</ul>
<p>Our initial experimentation has been positive and our goal is to make Element the best mobile client for Matrix with minimal fuss. With minimal changes to Element's codebase our goal is to land (significantly better) support for mobile web in upstream Element. Join us over at <a href="https://matrix.to/#/#noteworthy:tincan.community">#noteworthy:tincan.community</a> to get involved!</p>
</blockquote>
<p><img src="/blog/img/2020-07-24-fH9Fl-ScreenShot2020-07-23at5.04.31PM.png" alt="2020-07-24-fH9Fl-ScreenShot2020-07-23at5.04.31PM.png" /></p>
<h3 id="trust-based-moderation-using-distributed-chat-systems-for-transitive-trust-propagation">Trust-based Moderation Using Distributed Chat Systems for Transitive Trust Propagation</h3>
<p><a href="https://matrix.to/#/@florian:dsn.tm.kit.edu">Florian</a> said:</p>
<blockquote>
<p>I just stumbled over the master thesis <a href="https://lup.lub.lu.se/student-papers/search/publication/9020253">TrustNet: Trust-based Moderation Using Distributed Chat Systems for Transitive Trust Propagation</a>. While it is mainly targeted at systems like Secure Scuttlebut and Cabal, I think it is also of interest for the people thinking about trust-based moderation for Matrix.</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">309</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">bardiharborow.com</td><td style="text-align: center">545</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">nicoll.xyz</td><td style="text-align: center">647.5</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">grant.org</td><td style="text-align: center">667.5</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">elsmussols.net</td><td style="text-align: center">694</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">heitkoetter.net</td><td style="text-align: center">871.5</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">ragon.xyz</td><td style="text-align: center">876</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">acmelabs.space</td><td style="text-align: center">906.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">opensuse.org</td><td style="text-align: center">915.5</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">1017</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;07&#x2F;17&#x2F;this-week-in-matrix-2020-07-17&#x2F;" title="This Week in Matrix 2020-07-17">This Week in Matrix 2020-07-17</a></h2>
                <span>
                    17.07.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe src="https://www.youtube.com/embed/4ZY_q_jyHzo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Let's hear from Christian about working on his dream projects, his thoughts on bridging, hosting, and the importance and nature of chatbots and assistants.</p>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<h3 id="element">&quot;Element&quot;</h3>
<p>This week was the announcement of the much-awaited rebrand: <a href="https://element.io/blog/welcome-to-element/">Riot is now Element</a>. In fact, three brands are coalescing into one: Riot and New Vector will be referred to as Element, while the SaaS platform known as Modular.im is now <a href="https://element.io/matrix-services">Element Matrix Services</a>.</p>
<p>Note that <strong>Matrix</strong> is <em>not</em> involved in this change. Matrix is still Matrix, don't worry about that!</p>
<h3 id="commcon-virtual-2020-with-added-matrix">CommCon Virtual 2020, with added Matrix</h3>
<p>CommCon is an event dedicated to Real-Time Communications. In 2020 they made the difficult decision to go online-only, but had a fear of missing out on the &quot;hallway-track&quot; that is so important to industry events. Their solution was to include a live chat to run alongside their streamed talks! </p>
<p>Matrix was a natural choice for the crowd, but they wanted a way to encourage viewers to join the correct room from their own Matrix clients. To do this, they used the GSOC project from arnav-t - an HTML Embedded client - to present a live scrolling-view of the chat. You can see the result at <a href="https://2020.commcon.xyz/live/">https://2020.commcon.xyz/live/</a>.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@hubert:uhoreg.ca">uhoreg</a> said:</p>
<blockquote>
<p>anoa is away this week, so no pretty graph, I'm afraid. <em>(this is intolerable - BP)</em></p>
<h4 id="msc-status">MSC status</h4>
<p><strong>Merged MSCs</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs in Final Comment Period this week.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2689">MSC2689: Fix E2EE for guests</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>This week, the Spec Core Team will be focusing on <a href="https://github.com/matrix-org/matrix-doc/pull/2610">MSC2610</a> (Removing <code>m.login.oauth2</code> from User-Interactive Authentication), <a href="https://github.com/matrix-org/matrix-doc/pull/2611">MSC2611</a> (Removing <code>m.login.token</code> from User-Interactive Authentication), <a href="https://github.com/matrix-org/matrix-doc/pull/2663">MSC2663</a> (Errors for dealing with non-existent push rules), <a href="https://github.com/matrix-org/matrix-doc/pull/2674">MSC2674</a> (Event Relationships), and <a href="https://github.com/matrix-org/matrix-doc/pull/2689">MSC2689</a> (Fix E2EE for guests).</p>
</blockquote>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC üéìÔ∏è</h2>
<h3 id="ruma-matrix-gsoc-update">Ruma/Matrix GSoC update</h3>
<p>Ruma is a Rust project to create a comprehensive set of APIs for Matrix. Previously there was a Ruma homeserver project.</p>
<p><a href="https://matrix.to/#/@devinr528:matrix.org">devinr528</a> reported:</p>
<blockquote>
<h4 id="the-end-is-nigh">The End is Nigh</h4>
<p>This week in the ruma/matrix Google Summer of Code project, I worked on refactoring both <code>ruma-api</code> and <code>ruma-events</code>. After moving some of the larger chunks of the <code>ruma_api_macro::api::Api::to_tokens</code> method to helper functions, I spent time removing repetition from the <a href="https://github.com/ruma/ruma/pull/109">Request/Response</a> code generated by the <code>ruma_api!</code> macro. For <code>ruma-events</code>, the <a href="https://github.com/ruma/ruma/pull/121">input parsing</a> was changed to only allow valid names for the <code>Any*Event</code> enums. Altering the input parsing had the added benefit of replacing all of the string comparison and manipulation with strongly typed comparison and manipulation.</p>
<p>The final few issues to be resolved before the next crates.io release for <code>ruma-events</code> can happen are related to redacted events. Support for <a href="https://github.com/ruma/ruma/pull/114">redacted events</a> was added to the <code>Any*Event</code> enums, they now have redacted variants of each event kind. A few follow-up PR's have been merged to fully integrate redacted events into <code>ruma-events</code>, fixing specific event <a href="https://github.com/ruma/ruma/pull/128">deserialization issues</a> and splitting the <a href="https://github.com/ruma/ruma/pull/135">UnsignedData</a> struct into <code>Unsigned</code> and <code>RedactedUnsigned</code>.</p>
</blockquote>
<h3 id="html-embeddable-matrix">HTML Embeddable Matrix</h3>
<p><a href="https://matrix.to/#/@arnav-t:matrix.org">arnav-t</a> reported:</p>
<blockquote>
<p>This week for the GSoC project of HTML Embeddable Matrix Client:</p>
<ul>
<li>
<p>Added a read receipts menu for messages.</p>
</li>
<li>
<p>Minor bug fixes</p>
</li>
<li>
<p>Automatic hyperlinking of URLs in pipeline</p>
</li>
</ul>
</blockquote>
<p>See above for details of this project being used in the wild!</p>
<h3 id="mautrix-go">mautrix-go</h3>
<p><a href="https://matrix.to/#/@nikofil:matrix.org">nikofil</a> announced:</p>
<blockquote>
<ul>
<li>
<p>Added the capabilities to request room keys from other devices, as well as share room keys with other devices that requested them</p>
</li>
<li>
<p>Currently working on device verification using SAS, will then work on key export / import</p>
</li>
</ul>
<h4 id="neb">neb</h4>
<ul>
<li>Updated to latest mautrix version with some minor fixes, most notably using m.encryption event parameters</li>
</ul>
</blockquote>
<h3 id="opsdroid-gsoc">Opsdroid(GSoC)</h3>
<p><a href="https://matrix.to/#/@tyagdit:matrix.org">tyagdit</a> said:</p>
<blockquote>
<h4 id="end-to-end-encryption-with-matrix">End to End Encryption with matrix</h4>
<ul>
<li>
<p>The new connector has been fully implemented!</p>
</li>
<li>
<p>Device verification has been put on hold for the time being</p>
</li>
<li>
<p>No extra configuration is required</p>
</li>
<li>
<p>Check out all the changes <a href="https://github.com/opsdroid/opsdroid/pull/1548">here</a></p>
</li>
</ul>
<h4 id="matrix-database">Matrix database</h4>
<ul>
<li>
<p>Work has begun on porting the <a href="https://github.com/SolarDrew/database-matrix">matrix database</a> module to matrix-nio and integrating it into opsdroid core</p>
</li>
<li>
<p>It uses matrix rooms as databases</p>
</li>
<li>
<p>Users can store key value pairs as state events in a room</p>
</li>
<li>
<p>Also works with encrypted rooms to allow for encrypted storage</p>
</li>
</ul>
</blockquote>
<h3 id="matrix-ircd-gsoc">matrix-ircd GSOC</h3>
<p><a href="https://matrix.to/#/@karlik:matrix.org">karlik</a> announced:</p>
<blockquote>
<p>for matrix-ircd:</p>
<ul>
<li>
<p>Merge in futures 0.3 support for matrix and http modules</p>
</li>
<li>
<p>Opened pull request for updating tests, irc module, and bridge module to futures 0.3 &amp; remove several futures dependencies</p>
</li>
<li>
<p>updating several packages TLS packages to their more modern counterparts</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="matrix-media-repo">matrix-media-repo</h3>
<p><a href="https://github.com/turt2live/matrix-media-repo">matrix-media-repo</a> is a highly customizable multi-domain media repository for Matrix</p>
<p><a href="https://github.com/turt2live">TravisR</a> said:</p>
<blockquote>
<p>matrix-media-repo has just released <a href="https://github.com/turt2live/matrix-media-repo/releases/tag/v1.1.3">v1.1.3</a> with several improvements and bug fixes - please give it a go, and get support in #media-repo:t2bot.io</p>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> told us:</p>
<blockquote>
<ul>
<li>
<p>@the0 finished /event</p>
</li>
<li>
<p>I rebased Jamie's WIP appservice branch</p>
</li>
<li>
<p>I wrote some documentation for our database: <a href="https://git.koesters.xyz/timo/conduit/wiki/Database">https://git.koesters.xyz/timo/conduit/wiki/Database</a></p>
</li>
</ul>
<p>I also investigated why so many sytests fail and created this issue: <a href="https://github.com/matrix-org/sytest/issues/913">https://github.com/matrix-org/sytest/issues/913</a>
Apparently Sytest did not expect a server to optimize their /sync responses as much as Conduit does :P.</p>
<p>Note: The official Conduit server is now reachable at &quot;<a href="https://conduit.koesters.xyz">https://conduit.koesters.xyz</a>&quot;.
Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> said:</p>
<blockquote>
<p>A big week for matrix.org performance.</p>
<p>Hot on the heels of shipping shardable federation readers last week, this week we shipped shardable federation senders. There is still plenty of work to do, but together these changes has made a massive difference to federation lag overall and hopefully those of you not on matrix.org are noticing the difference when you talk to matrix.org users. </p>
<p>This graph shows the impact to outbound federation lag.</p>
</blockquote>
<p><img src="/blog/img/2020-07-17-01oi5-Screenshot2020-07-17at14.39.02.png" alt="2020-07-17-01oi5-Screenshot2020-07-17at14.39.02.png" /></p>
<blockquote>
<p>Aside from that we also shipped shardable push and frontend proxy workers as both were starting to max out on CPU as well as a shardable client reader, allowing us to shard registration which was especially important this week :) </p>
<p>Finally we moved typing notifications from the master process and optimised incoming replication queuing to buy us a little more head room.</p>
<p>Next steps are to revisit where all the remaining cycles are going on the master process. To help us profile we are migrating to async/await semantics and Patrick produced this natty <a href="https://patrick.cloke.us/areweasyncyet/">graph</a> to track progress.</p>
</blockquote>
<p><img src="/blog/img/2020-07-17-Uqa2y-Screenshot2020-07-17at14.38.44.png" alt="2020-07-17-Uqa2y-Screenshot2020-07-17at14.38.44.png" /></p>
<blockquote>
<p>Outside of performance we shipped a bug fix to prevent large initial syncs taking out the synchrotrons. The admin api sprouted an end point to list room members (thanks <a href="https://github.com/awesome-michael">awesome-michael</a>and the ability to reactivate previously deactivated users. </p>
<p>Coming up we‚Äôll dust off the notifications project which has been put on hold while Riot transmogrified into Element and we‚Äôll continue with chipping away at the master process.</p>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> said:</p>
<blockquote>
<p>And another bump of the K8s-optimized Synapse images, this time to 1.17.0</p>
</blockquote>
<h3 id="synapse-adoption-graphs">Synapse adoption graphs</h3>
<p>We only featured this <a href="https://matrix.org/blog/2020/06/19/this-week-in-matrix-2020-06-19#synapse-adoption-graphs">a month ago</a>, but I want to call attention again to this awesome <a href="https://graph.settgast.org/">Synapse version adoption tracking</a> project from Chris . I wanted to know how quickly Synapse 1.17.0 would be the most deployed version (~36 hours), and the answer is right there!</p>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="mautrix-twitter">mautrix-twitter</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> announced:</p>
<blockquote>
<p>I started working on a Twitter DM bridge that uses the internal API instead of the complicated official one. It should be easier to set up than bridges using the official API, since there won't be a need to get API keys and forward webhooks. The main risk is that Twitter doesn't like people using the internal API and starts blocking users like Facebook does, but hopefully that doesn't happen.</p>
<p>So far I've only made a simple library for the API, but the bridge should be usable by the next TWIM. The bridge and API library are at <a href="https://github.com/tulir/mautrix-twitter">https://github.com/tulir/mautrix-twitter</a> and there's a discussion room at <a href="https://matrix.to/#/#twitter:maunium.net">#twitter:maunium.net</a>.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="element-android-1-0-0">Element Android 1.0.0</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> announced:</p>
<blockquote>
<p>Element Android 1.0.0 is out! Download or upgrade it from the PlayStore at <a href="https://play.google.com/store/apps/details?id=im.vector.app">https://play.google.com/store/apps/details?id=im.vector.app</a> or download it from the F-Droid store at <a href="https://f-droid.org/packages/im.vector.app/">https://f-droid.org/packages/im.vector.app/</a></p>
<ul>
<li>
<p>PlayStore users: Element should come as a regular upgrade of the application Riot-Android, and the upgrade will update your previous account and data, without the need to log in again.</p>
</li>
<li>
<p>F-Droid users: Element is a new app, you have to install it and log in again.</p>
</li>
<li>
<p>RiotX: RiotX will disappear from the PlayStore (it was only a beta application). We will provide a very last update to inform users to install Element Android</p>
</li>
</ul>
<p>Please report any issues at <a href="https://github.com/vector-im/riotX-android">https://github.com/vector-im/riotX-android</a> (which will probably be renamed soon), because Element Android is actually RiotX code!
Thanks for all the contributors of RiotX, we still have lots to do to make the app even better and full featured.</p>
</blockquote>
<h3 id="radical">Radical</h3>
<p><a href="https://matrix.to/#/@david:vovo.id.au">Davo</a> announced:</p>
<blockquote>
<p>After seeing all the Element room avatars, I thought to myself, &quot;you know what, <a href="https://matrix.to/#/#radical-webext:matrix.org">#radical-webext:matrix.org</a> needs a new icon&quot;‚Ä¶ so I sat down and combined a couple of icons. The result:</p>
<p><img src="/blog/img/2020-07-17-YLTltytvozBklQAuKpgoelGR.png" alt="Radical icon" /></p>
<p><a href="https://github.com/stoically/radical">Radical</a> also quickly (as always) got <a href="https://github.com/stoically/radical/releases">updates</a> when Element 1.7.0 and 1.7.1 were released. Huge thank you to stoic for making Radical in the first place.</p>
</blockquote>
<h3 id="element-f-droid-repos">Element F-Droid repos</h3>
<p><a href="https://matrix.to/#/@krombel:msg-net.de">krombel</a> announced:</p>
<blockquote>
<p>I updated my F-Droid repos which are containing the dev builds to reflect the latest naming change to Element.</p>
<p>The people who formerly used my repos for getting the dev repo of Riot-Android should update to the new repo. It wont be updated to get Element</p>
<p>As always you can grab the F-Droid or GPlay flavor and you can pick the repo which reflects your flavor on <a href="https://fdroid.krombel.de">https://fdroid.krombel.de</a></p>
<p>Note: As &quot;the new repo&quot; is internally the same repo as the one of RiotX (and Riot.imX) the people who already used that don't need to update their packet source. They will get the updates to Element via the old repo urls.</p>
<p>Feel free to use it üôÇ</p>
</blockquote>
<p><img src="/blog/img/2020-07-17-izu7P-Screenshot_20200717-182645__01.jpg" alt="2020-07-17-izu7P-Screenshot_20200717-182645__01.jpg" /></p>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="maubot">maubot</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> announced:</p>
<blockquote>
<p>As promised last week, maubot now supports end-to-end encryption. It's a bit bare at the moment, so you need to manually insert the device ID into the database for it to start working, but other than that it works. Plugins don't need to be changed at all, the framework will handle everything.</p>
<p>While I was adding e2ee to maubot, I also improved mautrix-python's crypto stuff so that it's easier to use it directly as a client library with e2ee. Some day I might even add docs :D</p>
</blockquote>
<h3 id="matrix-appservice-cr">matrix-appservice-cr</h3>
<p><a href="https://matrix.to/#/@redplateaus:matrix.lifeispayne.com">Chris Vincent</a> reported:</p>
<blockquote>
<p>Related to my previous update here, I've just published an initial version of a Matrix Client-Server client library for the Crystal programming language: <a href="https://github.com/cvincent/matrix-client-cr">https://github.com/cvincent/matrix-client-cr</a></p>
</blockquote>
<p>Is this the first time we've seen tooling for Crystal?</p>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h3>
<p>This <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">Ansible playbook</a> is meant to easily let you run your own Matrix homeserver.</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> announced:</p>
<blockquote>
<p><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> is now ready to help you with the <a href="https://element.io/blog/welcome-to-element/">Riot -&gt; Element</a> transition.</p>
<p>We have a few ways to handle the migration depending on how much change and breakage you're willing to tolerate. See our <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-riot-web.md#migrating-to-element">Migrating to Element</a> documentation page.</p>
</blockquote>
<p>Incredibly thorough migration paths here!</p>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="matrix-alertmanager-bot-v0-3-0">Matrix-Alertmanager bot v0.3.0</h3>
<p><a href="https://matrix.to/#/@jaywink:federator.dev">jaywink</a> offered:</p>
<blockquote>
<p>Matrix-Alertmanager bot has a new release of v0.3.0. Highlights are compatibility with AWS Lambda, better error handling if message fails to send and the ability to do a <code>@room</code> mention on firing alerts. Find it <a href="https://git.feneas.org/jaywink/matrix-alertmanager">here</a>.</p>
</blockquote>
<h3 id="cody-0-6-0">cody 0.6.0</h3>
<p><a href="https://matrix.to/#/@carl:bordum.dk">carl</a> reported:</p>
<blockquote>
<p>REPL for your matrix rooms</p>
<p>This week, we got support for javascript (nodejs) with <code>!js</code>. The code</p>
<p>complexity was considerably reduced, which should make adding new languages
much easier in the future. All Python sub-dependencies are now pinned, making</p>
<p>cody builds even more reproducible.</p>
<p>Chat with cody: @cody:bordum.dk</p>
<p>Read the source: <a href="https://gitlab.com/carlbordum/matrix-cody">https://gitlab.com/carlbordum/matrix-cody</a></p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞Ô∏è</h2>
<h3 id="noteworthy-matrix-over-wireguard-overlay-networks">Noteworthy (Matrix over Wireguard overlay networks)</h3>
<p><a href="https://matrix.to/#/@balaa:a.noteworthy.im">balaa</a> said:</p>
<blockquote>
<p>Noteworthy team (patrick and myself) have open sourced both components (spoke &amp; hub) of Noteworthy (Matrix over Wireguard overlay networks -- <a href="https://github.com/decentralabs/noteworthy">https://github.com/decentralabs/noteworthy</a>) we are actively welcoming testers/contributors and working with a handful of projects on incorporating our deployment model over in <a href="https://matrix.to/#/#noteworthy:tincan.community">#noteworthy:tincan.community</a> -- it is also the fastest way (less than a minute) to deploy your own home server! Also, working on incorporating Noteworthy into the popular ansible deployment repo to enable users who don't have access to a publicly accessible to deploy their own home servers.</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">390</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">exp.farm</td><td style="text-align: center">555.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">768</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">tchncs.de</td><td style="text-align: center">810.5</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">settgast.org</td><td style="text-align: center">1026</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">moritzdietz.com</td><td style="text-align: center">1046</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">ragon.xyz</td><td style="text-align: center">1288</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">aragon.sh</td><td style="text-align: center">1383</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">elcyb.org</td><td style="text-align: center">1755.5</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">kapsi.fi</td><td style="text-align: center">2034</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;07&#x2F;10&#x2F;this-week-in-matrix-2020-07-10&#x2F;" title="This Week in Matrix 2020-07-10">This Week in Matrix 2020-07-10</a></h2>
                <span>
                    10.07.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<p>This week it's Open Tech Will Save Us!</p>
<iframe src="https://www.youtube.com/embed/_2DQ_iYZi5U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<ul>
<li><strong>Jay Graber</strong> (<a href="https://twitter.com/arcalinea">@arcalinea</a>, <a href="https://matrix.to/#/@arcalinea:matrix.org">@arcalinea:matrix.org</a>), creator of <a href="https://happening.net/">Happening</a> and <a href="https://medium.com/decentralized-web/decentralized-social-networks-e5a7a2603f53">all-around decentralisation fan</a> gave an overview of the decentralized social media ecosystem.</li>
<li><strong>Ania M. Piotrowska</strong> (<a href="https://twitter.com/aniampiotrowska">@aniampiotrowska</a>), known for her work on <a href="https://nymtech.net/">Nym</a>, Loopix, and at UCL presented &quot;Building private future for the internet with the Nym mixnet&quot;.</li>
<li><strong>Burak Nehbit</strong> (<a href="https://twitter.com/nehbit">@nehbit</a>, <a href="https://matrix.to/#/@burak:tomesh.net">@burak:tomesh.net</a>) gave a deep dive into his work on <a href="https://getaether.net/">Aether P2P</a>.</li>
</ul>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> reported:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals.">https://matrix.org/docs/spec/proposals.</a></p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><em>No MSCs were merged this week.</em></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2630">MSC2630: checking public keys in SAS verification</a> (merge)</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2677">MSC2677: Annotations and reactions</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2676">MSC2676: Message editing</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2675">MSC2675: Serverside aggregations of message relationships</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2674">MSC2674: Event Relationships</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2673">MSC2673: Notification Levels</a></p>
</li>
<li>
<p><a href="https://github.com/matrix-org/matrix-doc/pull/2666">MSC2666: Get rooms in common with another user</a></p>
</li>
</ul>
<p>Note that a majority of those new MSCs are split out from <a href="https://github.com/matrix-org/matrix-doc/pull/1849">MSC1849</a> (the aggregations MSC) to make it easier to review üôÇ</p>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, we're sticking to implementation work. anoa did have some time this week to make the graphs more useful though:</p>
</blockquote>
<p><img src="/blog/img/2020-07-10-FFL8i-image.png" alt="2020-07-10-FFL8i-image.png" /></p>
<p>Check out that graph!</p>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC üéìÔ∏è</h2>
<h3 id="html-embeddable-client-gsoc-project">HTML embeddable client GSoC project</h3>
<p><a href="https://matrix.to/#/@arnav-t:matrix.org">arnav-t</a> told us:</p>
<blockquote>
<p>This week for my HTML embeddable client GSoC project:</p>
<ul>
<li>
<p>Added full markdown support and made replying and quoting fully functional</p>
</li>
<li>
<p>Added a lot more configuration options to the client, including a read-only mode</p>
</li>
<li>
<p>Fixed some bugs</p>
</li>
</ul>
</blockquote>
<h3 id="go-neb">go-neb</h3>
<p><a href="https://matrix.to/#/@nikofil:matrix.org">nikofil</a> said:</p>
<blockquote>
<ul>
<li>
<p>work is still being done on the bot's functionality to test different crypto functionalities of other Matrix clients when thrown in a room with them</p>
</li>
<li>
<p>slight improvements to mautrix-go (sql store can now store multiple Olm accounts and their sessions, key rotation params taken from encryption event, other minor things)</p>
</li>
<li>
<p>add some simple instructions to the readme for enabling e2ee for neb as well as integrate these mautrix changes (PR #330)</p>
</li>
<li>
<p><code>room_key_request</code>s will probably be the next thing to be developed for mautrix-go</p>
</li>
</ul>
</blockquote>
<h3 id="nheko-gsoc">Nheko (GSoC)</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@crdy2k1:matrix.org">Chethan</a> said:</p>
<blockquote>
<ul>
<li>
<p>Added user cache which stores the encrypted user keys and updates them on sync</p>
</li>
<li>
<p>Added Verification Cache which stores verified devices of a user</p>
</li>
<li>
<p>Showing Verification Status of a device on Userprofile</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-p2p-busts-in-silhouette">Dept of P2P üë•</h2>
<h3 id="riot-ios-p2p-demo">Riot iOS P2P Demo</h3>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> announced:</p>
<blockquote>
<p>Over the last couple of weeks I have been working on the next P2P demo, using <a href="https://yggdrasil-network.github.io/">Yggdrasil</a> as the transport instead of <a href="https://libp2p.io/">libp2p</a>. Although libp2p is arguably more featureful in many ways, Yggdrasil does have one major benefit in that it provides full overlay routing. Participants in the network can carry traffic on behalf of other participants, resulting in something much closer to a true mesh network.</p>
<p>The mad science doesn't end there however. I've also built a custom Riot iOS build that includes the full Dendrite P2P demo (yes, that's a homeserver running locally on your phone). If you have an iPhone or iPad, it's available in <a href="https://testflight.apple.com/join/Tgh2MEk6">public TestFlight right now</a> and you can play with it!</p>
<p>The demo still is very experimental and has a number of bugs still (including but not limited to messages occasionally taking a while to deliver, the app crashing when going into the background sometimes etc.) but we'll be improving it further in the coming weeks and it's quite fun to play with, particularly if you can do so with other people nearby.</p>
<p>Thanks to the same technology that powers AirDrop, the demo will automatically find and connect to other nearby devices running the demo and build up a network automatically - even if you are not on the same Wi-Fi network (or indeed connected to Wi-Fi at all)! If you don't have any other nearby peers to test with then fear not - you can still configure a public static peer in the app settings and join the wider network that way.</p>
<p>With any luck the room directory will even work too, showing published rooms from other nearby devices. If not, try joining <code>#beachparty:b5ae50589e50991dd9dd7d59c5c5f7a4521e8da5b603b7f57076272abc58b374</code> from within the app.</p>
<p>Questions, comments or feedback? Join us in <code>#p2p:matrix.org</code>!</p>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="a-new-way-to-test-homeservers-complement">A new way to test homeservers - <a href="https://github.com/matrix-org/complement">Complement</a></h3>
<p><a href="https://matrix.to/#/@kegan:matrix.org">kegan</a> reported:</p>
<blockquote>
<p>Many of you know that I work on a Go homeserver called <strong>Dendrite</strong>, and so I've had to get familiar with <strong>SyTest</strong>: a black-box homeserver integration testing project. Unfortunately SyTest has a number of problems: from the dialect of perl, lack of documentation for federation bits, the inability to run a single test, and so on. Having a solid black-box integration testing project is crucial for the ecosystem to ensure spec compliance (and hence compatibility between server implementations) and for making all servers more stable and reliable.</p>
<p>As a side project I've been working on a modern Go rewrite called <strong>Complement</strong> which is now ready for a bit more exposure. It currently only has a handful of SyTests converted but I hope to rapidly expand the number in the coming weeks. Complement makes heavy use of Docker to agnostically run homeservers, and already includes a Dockerfile for configuring a Dendrite instance. To try it out, clone the repo and run:</p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>(cd dockerfiles &amp;&amp; docker build -t complement-dendrite -f Dendrite.Dockerfile .)
</span><span>
</span><span>COMPLEMENT_BASE_IMAGE=complement-dendrite:latest go test -v ./tests
</span></code></pre>
<p>If you're interested in learning more and maybe adding some tests check out <a href="https://github.com/matrix-org/complement/blob/master/ONBOARDING.md">ONBOARDING.md</a>.</p>
<p>My overall hope is that Complement will lower the barrier to entry when adding tests by so much that it encourages any bugfix/feature in any homeserver implementation to result in a new test. This will benefit everyone and create a feedback loop which will make Matrix even more reliable.</p>
</blockquote>
<p>Asked about Sytest and SyTS, Kegan added:</p>
<blockquote>
<p>Complement currently implements the same tests as sytest, so tests which pass sytest will pass complement (though that will diverge as complement will guard against more race conditions by default). There's about 9 different kinds of tests currently testing CS-API and Federation (outbound to a dummy server and inbound via a federation client)</p>
<p>The problem with SyTS was that the test tooling around it ultimately wasn't expressive enough. I was using Jest and kept finding myself fighting it by bumping up against issues like <a href="https://github.com/facebook/jest/pull/8751">https://github.com/facebook/jest/pull/8751</a> and the multi-process parallelisation stuff was too opaque. The assertion helper functions also lacked context because they rely on behavioural testing names like <code>describe(&quot;foo&quot;) { it(&quot;should say bar&quot;) { ... }</code> etc so when your assertion fails (eg wrong value for a JSON key using assert equals) it just says unhelpfully &quot;foo != bar&quot; where what I really want is to know what it actually does say then, and other contextual info around the object (maybe the key name was typod). When I realised that the assertion lib didn't have this and I'd need to add it, coupled with parallelisation concerns and head-desking against Jest, I found myself wishing I just used something else. I stuck with it though and then realised that all the federation stuff (signature checking, canonical JSON, etc) would need to re-implemented when I knew I had working code in Go. Both of these things combined and I thought &quot;you know what, I'm just going to do this in Go&quot; but you'll note that the architecture is identical, so SyTS lives on as an early prototype for Complement ;)</p>
</blockquote>
<p>Find out more in the room: <a href="https://matrix.to/#/#complement:matrix.org">#complement:matrix.org</a>.</p>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> told us:</p>
<blockquote>
<p>While I've been busy distracted with the P2P demo, Kegan has been on a mission to implement some new features. Changes this week include:</p>
<ul>
<li>
<p>Redaction is now mostly implemented</p>
</li>
<li>
<p>User-interactive authentication is now implemented</p>
</li>
<li>
<p>Device lists in the client API are now implemented</p>
</li>
<li>
<p>Media APIs are now available on both <code>/r0</code> and <code>/v1</code> endpoints which makes Riot iOS a bit happier</p>
</li>
<li>
<p>Some federation sender bugs have been fixed</p>
</li>
<li>
<p>Some database locks in the federation sender in SQLite mode have been fixed</p>
</li>
</ul>
<p>Spec compliance has improved a bit:</p>
<ul>
<li>
<p>Client-Server APIs: 48%, up from 45% last week</p>
</li>
<li>
<p>Server-Server APIs: 51%, up from 50% last week</p>
</li>
</ul>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> said:</p>
<blockquote>
<p>Conduit</p>
<p>Hi everyone, here are some things we worked on this week:</p>
<ul>
<li>
<p>Work on to-device sending improvements</p>
</li>
<li>
<p>Work on room tags (thanks to @gnieto)</p>
</li>
<li>
<p>Merged /logout/all endpoint (thanks to @CapsizeGlimmer)</p>
</li>
<li>
<p>Work on /joined_members (thanks to @CapsizeGlimmer)</p>
</li>
</ul>
<p>Last week we had a list of major features still missing. Here's a list of what already works:</p>
<p>Registering, logging in, creating rooms, room visibility, join rules, basic permission management, public room list, inviting, creating DMs, e2e encryption, key backups, device verification, cross signing, notifications, uploading media/files (also user/room avatars), lower-resolution media thumbnails, voip calls and a few other thing's I'm forgetting right now.
So it's useable for non-federating chats already.</p>
<p>Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> reported:</p>
<blockquote>
<p>In Synapse land this week, we shipped <a href="https://matrix.org/blog/2020/07/08/synapse-1-16-0-released">1.16.0</a> and err <a href="https://github.com/matrix-org/synapse/releases/tag/v1.16.1">1.16.1</a>. </p>
<p>Lifting from the blog post, the highlights are:-</p>
<ul>
<li>
<p>An important performance fix to improve room state resolution.</p>
</li>
<li>
<p>An option to enable e2e by default for new rooms.</p>
</li>
<li>
<p>Ability to run multiple media repo workers side by side.</p>
</li>
<li>
<p>Ability to mark specific content as being safe from quarantine.</p>
</li>
<li>
<p>Bug fixes to make migrating from SQLite to Postgres more reliable - if you are running sqlite for anything other than evaluation purposes then please migrate!</p>
</li>
</ul>
<p>We also put out a <a href="https://github.com/matrix-org/synapse/releases/tag/v1.17.0rc1">release candidate</a> for 1.17.0 which all being well we‚Äôll release on Monday. 1.17.0 is really a bug fix release the most notable being finally squashing a long standing bug that caused <a href="https://github.com/matrix-org/synapse/issues/2181">locally rejected invites to get ‚Äòstuck‚Äô client side</a>.</p>
<p>Continuing our matrix.org performance theme, having now got the CS API largely into a good state of responsiveness, we are looking at federation lag. Today we shipped a sharded Federation Reader to matrix.org which has reduced the average lag from seconds to milliseconds. We are just running two currently and are still tuning as we figure out how to get the best from it. Initial impressions seem promising. Watch this space. </p>
</blockquote>
<p><img src="/blog/img/2020-07-10-qiwpr-Screenshot2020-07-10at16.02.39.png" alt="2020-07-10-qiwpr-Screenshot2020-07-10at16.02.39.png" /></p>
<blockquote>
<p>We also have a <a href="https://github.com/matrix-org/synapse/pull/7798">PR out for review</a> to shard the Federation Sender, which will have much the same effect in the other direction. </p>
<p>Once we have sending messages via the Client-Server API, much reduced federation lag and a sharded Pusher we‚Äôll take a look at room joins.</p>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="dacruz21-matrix-chart">dacruz21/matrix-chart</h3>
<p><a href="https://matrix.to/#/@david:typokign.com">Typo Kign</a> reported:</p>
<blockquote>
<p>v2.3.0 of <a href="https://hub.helm.sh/charts/dacruz21/matrix">dacruz21/matrix-chart</a> has been published with Synapse 1.16.</p>
</blockquote>
<h3 id="kubernetes">Kubernetes</h3>
<blockquote>
<p>Just pushed the 1.16 K8s-optimized Synapse image tags, this time done from a tablet in a server room between moving a bunch of hardware.</p>
</blockquote>
<h3 id="new-wireguard-based-deployment">New WireGuard-based deployment</h3>
<p><a href="https://matrix.to/#/@balaa:pi2.noteworthy.im">balaa</a> announced:</p>
<blockquote>
<p>Hi everyone, my friend Patrick and I have been working on making Matrix more accessible in the context of personal overlay networks powered by WireGuard. We‚Äôve built a 1-click deployment solution for Synapse &amp; Riot based on docker. The interesting part is that it gives you public addressability via a distributed proxy service that we have been developing. We are free and open source and welcoming contributors and testers ASAP! We are imagining an ecosystem for building collaborative intranets and see them as foundational to a freer, more equitable internet. Please join us at <a href="https://matrix.to/#/#noteworthy:tincan.community">#noteworthy:tincan.community</a> See <a href="https://www.patrickdlg.com/personal-messaging/">https://www.patrickdlg.com/personal-messaging/</a> and <a href="https://noteworthy.tech/start/">https://noteworthy.tech/start/</a></p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="mautrix-whatsapp">mautrix-whatsapp</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> announced:</p>
<blockquote>
<p>mautrix-whatsapp got some bugfixes and improvements:</p>
<ul>
<li>
<p>You can now create private chat portals by inviting a WhatsApp ghost user (e.g. from a group chat)</p>
</li>
<li>
<p>WhatsApp users in groups are now synced to Matrix properly, including kicking users who left the group without the bridge noticing</p>
</li>
</ul>
</blockquote>
<h3 id="matrix-sms-bridge">matrix-sms-bridge</h3>
<p><a href="https://matrix.to/#/@benedict:imbitbu.de">Benedict</a> offered:</p>
<blockquote>
<p>I fixed some bugs in <a href="https://github.com/benkuly/matrix-sms-bridge">matrix-sms-bridge</a> and added a feature that allows delayed sending of sms messages with the <code>sms send</code> command. It runs very fast and stable in my production environment.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="nheko">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> reported:</p>
<blockquote>
<p>Not much to talk about currently, since I'm breaking my Nheko to replace the entire event store at this moment, but I have some heads up on an annoying bug that I fixed on my branch:</p>
<p>Sometimes we had a weird issue, where Nheko wouldn't load the language the user set on their system. This was especially annoying when I wanted to test a specific language, like Japanese, and I couldn't figure out the right LANG* variables to set the language to Japanese in Nheko. Turns out, this was a bug in Nheko and you wouldn't have guessed so, when looking at the examples in the Qt documentation. Anyway, KDAB wrote a nice blogpost explaining this issue: <a href="https://www.kdab.com/fixing-a-common-antipattern-when-loading-translations-in-qt/">https://www.kdab.com/fixing-a-common-antipattern-when-loading-translations-in-qt/</a></p>
<p>If you are a Qt developer, you may want to check your applications, if you are also affected.</p>
</blockquote>
<h3 id="riot-ios">Riot-iOS</h3>
<p><a href="https://matrix.to/#/@stevio:matrix.org">steve</a> offered:</p>
<blockquote>
<p>This week, we worked on the rebranding.</p>
</blockquote>
<h3 id="riotx-riot-android">RiotX / Riot-Android</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> announced:</p>
<blockquote>
<p>We will release a beta (0.91.5) of Riot-Android this evening, including all the recent changes and lots of fixes. We are still working to prepare the great release!</p>
</blockquote>
<h3 id="daydream">Daydream</h3>
<p><a href="https://matrix.to/#/@mtrnord:nordgedanken.dev">MTRNord</a> told us:</p>
<blockquote>
<p>While not much is happening on the master branch some things happened on the Redesign branch:</p>
<ul>
<li>
<p>Daydream does the sync now on a worker which is similar to using a thread</p>
</li>
<li>
<p>jplatte made a PR for optimizing multiple Parts of the Code which significantly improved the overall Daydream performance ( <a href="https://github.com/daydream-mx/Daydream/pull/22">https://github.com/daydream-mx/Daydream/pull/22</a> )</p>
</li>
<li>
<p>Some rework of the Login logic happened to prepare for well-known support</p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="mautrix-python">mautrix-python</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> offered:</p>
<blockquote>
<p>When I initially implemented end-to-bridge encryption in mautrix-python, I used matrix-nio in a slightly hacky way to get it done quickly. It worked fine in some cases, but also caused some undecryptable messages. I tried switching to using matrix-nio's crypto module directly, but the sans-I/O design made that difficult: there were too many parts that needed to be hooked up to the actual I/O and I wasn't able to find them all. In the end, I just decided to implement the basic e2ee stuff directly in mautrix-python the same way it's implemented in mautrix-go.</p>
<p>All my bridges based on mautrix-python (Telegram, Facebook and Hangouts) have been switched to use the new crypto stuff. After a few initial bugs that are already fixed, it seems to work better than the old system. I'll probably add native e2ee to maubot soon too, which is my last main project that's still missing e2ee.</p>
</blockquote>
<h2 id="dept-of-internet-of-things-bulb">Dept of Internet of Things üí°</h2>
<h3 id="mozilla-iot-matrix-adapter-0-3">Mozilla IoT Matrix Adapter 0.3</h3>
<p><a href="https://matrix.to/#/@christianp:vector.modular.im">Christian</a> reported:</p>
<blockquote>
<p>The <a href="https://gitlab.com/webthings/matrix-adapter">Mozilla IoT Matrix Adapter</a> can send posts based on events in your home.</p>
<p>Version 0.3 brings the ability to use room aliases instead of internal room ids.
Furthermore, you can configure it to accept invites and follow room upgrades.</p>
</blockquote>
<p>Due to utter negligence and malpractice by myself, we missed the update for this project last week. Of course, 0.2 is now superseded by 0.3, but here is the 0.2 update anyway:</p>
<blockquote>
<p>Released <a href="https://gitlab.com/webthings/matrix-adapter/-/releases/v0.2.0">v0.2.0 of the Mozilla IoT Matrix adapter</a>. It's now possible to post in multiple rooms (still one per post).</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="cat-disruptor-7000">Cat Disruptor 7000</h3>
<p><a href="https://matrix.to/#/@stephen:m.scd31.com">Stephen D</a> told us:</p>
<blockquote>
<p>I wrote a pretty simple Matrix bot in Rust which is loosely based on Cat Disruptor 6000. It will react with üêàÔ∏è to any message containing the string &quot;cat&quot; *. Since it is a small project, I hope it can be used as an example for other people interested in writing Matrix bots in Rust. It implements several important features (crypto/device store, auto-accepting invites, crafting custom events, etc.) You can host it yourself, or you can try it out by inviting the user &quot;@catdisruptor:m.scd31.com&quot; to your room! <a href="https://git.scd31.com/stephen/cat-disruptor-7000">https://git.scd31.com/stephen/cat-disruptor-7000</a></p>
<p>* Cat Disruptor 6000 does not do this (it is used for disrupting monologues with cat pictures). However, many instances of Cat Disruptor 6000 also include a separate bot, which is what Cat Disruptor 7000 is mimicking.</p>
</blockquote>
<h3 id="matrix-imposter-bot">matrix-imposter-bot</h3>
<p><a href="https://matrix.to/#/@mr_johnson22:matrix.org">mr_johnson22</a> said:</p>
<blockquote>
<p><strong>matrix-imposter-bot</strong> - <em>A bot that uses your account to repeat other people's messages. This gives relay-bot capabilities to puppet-only bridges.</em></p>
<p>Updates:</p>
<ul>
<li>
<p>Can be much more easily deployed with a production-level WSGI server. It comes with <a href="https://docs.pylonsproject.org/projects/waitress/en/stable/index.html">waitress</a> but it's possible to use any other server.</p>
</li>
<li>
<p>Member join/leave/rename now post messages</p>
</li>
<li>
<p>Shuts down when receiving a term/exit/quit signal, instead of hanging</p>
</li>
</ul>
<p>For more details, see <a href="https://github.com/mrjohnson22/matrix-imposter-bot">https://github.com/mrjohnson22/matrix-imposter-bot</a></p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞Ô∏è</h2>
<h3 id="cody">cody</h3>
<p><a href="https://matrix.to/#/@carl:bordum.dk">carl</a> offered:</p>
<blockquote>
<p>cody is a REPL for your matrix chat rooms.</p>
<p>This week, the big new feature was support for Ruby with the message prefix <code>!rb</code>.</p>
<p>Chat with cody: @cody:bordum.dk</p>
<p>Read the source: <a href="https://gitlab.com/carlbordum/matrix-cody">https://gitlab.com/carlbordum/matrix-cody</a></p>
</blockquote>
<h2 id="dept-of-jobs-moneybag">Dept of Jobs üí∞Ô∏è</h2>
<h3 id="famedly-is-recruiting">Famedly is recruiting</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> announced:</p>
<blockquote>
<p>Heya, we (<a href="https://famedly.com">famedly</a>) are looking for about 2-3 more flutter developers. We are a german startup which works on revolutionizing communication in the medical area. We build on top of matrix, so having some matrix-knowledge would be very beneficial.</p>
<p>You might have seen us previously in TWIM with projects such as <a href="https://gitlab.com/famedly/bridges/famedly-email-bridge">famedly-email-bridge</a> or the <a href="https://gitlab.com/famedly/famedlysdk/">famedly dart SDK</a>.</p>
<p>While we are based in Berlin we do allow remote work, and communication in english is fine, too.</p>
<p>If you are interested or have more questions, please message <a href="https://matrix.to/#/@larodar:famedly.de">Niklas Zender</a>.</p>
</blockquote>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">334</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">637.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">lossy.network</td><td style="text-align: center">657</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">asra.gr</td><td style="text-align: center">795</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">swag.industries</td><td style="text-align: center">1407.5</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">lo.hn</td><td style="text-align: center">1481</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">finallycoffee.eu</td><td style="text-align: center">1804</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">nzbr.de</td><td style="text-align: center">1885.5</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">halogen.city</td><td style="text-align: center">2275</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">utzutzutz.net</td><td style="text-align: center">2462.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;07&#x2F;03&#x2F;this-week-in-matrix-2020-07-03&#x2F;" title="This Week in Matrix 2020-07-03">This Week in Matrix 2020-07-03</a></h2>
                <span>
                    03.07.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<iframe src="https://www.youtube.com/embed/1FYCgcl_oJs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°Ô∏è</h2>
<h3 id="open-tech-will-save-us-4">Open Tech Will Save Us 4</h3>
<p>The next <a href="https://matrix.org/open-tech-will-save-us/">Open Tech Will Save Us</a> event will take place on Wednesday, that's 2020-07-08! Line-up is confirmed as:</p>
<ul>
<li><strong>Jay Graber</strong> (<a href="https://twitter.com/arcalinea">@arcalinea</a>, <a href="https://matrix.to/#/@arcalinea:matrix.org">@arcalinea:matrix.org</a>), creator of <a href="https://happening.net/">Happening</a> and <a href="https://medium.com/decentralized-web/decentralized-social-networks-e5a7a2603f53">all-around decentralisation fan</a> will summarize an overview of the decentralized social media ecosystem that they're working on.</li>
<li><strong>Ania M. Piotrowska</strong> (<a href="https://twitter.com/aniampiotrowska">@aniampiotrowska</a>), known for her work on <a href="https://nymtech.net/">Nym</a>, Loopix, and at UCL will present &quot;Building private future for the internet with the Nym mixnet&quot;.</li>
<li><strong>Burak Nehbit</strong> (<a href="https://twitter.com/nehbit">@nehbit</a>, <a href="https://matrix.to/#/@burak:tomesh.net">@burak:tomesh.net</a>) will give a deep dive into his work on <a href="https://getaether.net/">Aether P2P</a>.</li>
</ul>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> reported:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals.">https://matrix.org/docs/spec/proposals.</a></p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Finished Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2604">MSC2604: Accept device information for the login fallback endpoint</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><em>No MSCs are in FCP.</em></li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2659">MSC2659: Application service ping endpoint</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, as last week we are sticking with &quot;implementation&quot; for now. We'll be back soon :)</p>
</blockquote>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC üéìÔ∏è</h2>
<p>This week was the first evaluations, we'll have results to share next week.</p>
<h3 id="matrix-ircd-gsoc">matrix-ircd (GSOC)</h3>
<p><a href="https://matrix.to/#/@karlik:matrix.org">karlik</a> offered:</p>
<blockquote>
<p>for matrix-ircd:</p>
<ul>
<li>
<p>Removed <code>futures</code> 0.1 dependency &amp; move all modules to <code>futures</code> 0.3</p>
</li>
<li>
<p>Update all tests to use async / await</p>
</li>
<li>
<p>Begin merging updated <code>futures</code> to <code>async_await</code> branch</p>
</li>
</ul>
</blockquote>
<h3 id="go-neb">go-neb</h3>
<p>From <a href="https://matrix.to/#/@nikofil:matrix.org">nikofil</a>:</p>
<blockquote>
<ul>
<li>e2ee merged and some bugs fixed (pr #324)! You should be able to use neb normally in an encrypted room now, if that's not the case please let us know!</li>
<li>Added integration tests for both encrypted and unencrypted rooms to neb in order to catch things that might break some core functionality in a subtle way (issue #326)</li>
<li>Similarly, created a PR for mautrix-go for testing the Olm and Megolm session establishment and message encryption / decryption (pr #12)</li>
<li>Next up, working on a service for neb for testing the crypto functionality of other clients: neb will send messages to a room, rotate keys etc. and your client is supposed to respond!</li>
</ul>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite-gomatrixserverlib">Dendrite / gomatrixserverlib</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@neilalexander:matrix.org">Neil Alexander</a> said:</p>
<blockquote>
<p>This week has seen some new architectural changes and a number of bugs fixed:</p>
<ul>
<li>
<p>A new Current State Server component has been added, which tracks room state</p>
</li>
<li>
<p>The Public Rooms API has been deprecated in favour of the Current State Server</p>
</li>
<li>
<p>Event size limits are now honoured with the correct return code</p>
</li>
<li>
<p>Invites have seen some refactoring and retiring invites should work better now</p>
</li>
<li>
<p>The federation sender now persists unsent PDUs to the database and will automatically retry when Dendrite is restarted, making resend behaviour much more reliable (particularly in the P2P demos)</p>
</li>
<li>
<p>Some room checks in <code>/state</code> and <code>/state_ids</code> have been fixed</p>
</li>
<li>
<p>Some additional restrictions have been added to <code>/send</code> and we now return the correct error codes</p>
</li>
<li>
<p>A bug where current state was incorrectly used when getting missing/backfill events has been fixed</p>
</li>
<li>
<p>A bug where you couldn't rejoin a room that you created after wiping your database has been fixed</p>
</li>
</ul>
<p>Spec compliance:</p>
<ul>
<li>
<p>Client-Server APIs: 45%</p>
</li>
<li>
<p>Server-Server APIs: 50%</p>
</li>
</ul>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> reported:</p>
<blockquote>
<p>This week I didn't have much time to work on Conduit, but together with @the0 we could implement both password changing and account deactivation!</p>
<p>With last week's key backup and cross-signing PR landing in master, here's a list of all major features still missing from Conduit:</p>
<ul>
<li>
<p>All of Federation</p>
</li>
<li>
<p>Appservices</p>
</li>
<li>
<p>Push Notifications</p>
</li>
<li>
<p>Notification settings</p>
</li>
<li>
<p>Message Search</p>
</li>
<li>
<p>Presence</p>
</li>
<li>
<p>Room Tagging</p>
</li>
</ul>
<p>Thanks to everyone who supports me on <a href="https://liberapay.com/timokoesters">Liberapay</a> or Bitcoin!</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@richvdh:sw1v.org">richvdh</a> reported:</p>
<blockquote>
<p>Synapse <a href="https://github.com/matrix-org/synapse/releases/tag/v1.15.2">1.15.2</a> shipped this week with some important security fixes - if you haven't already upgraded, please do asap! Meanwhile, we're also preparing a <a href="https://github.com/matrix-org/synapse/releases/tag/v1.16.0rc2">1.16 release</a> with the normal round of bugfixes and incremental improvements. </p>
<p>The big focus in the Synapse team continues to be on performance for larger Synapse instances, which is reflected in the support in 1.16 for running multiple media worker processes. We're working on giving other worker processes the same treatment, so expect more of the same in the weeks to come!</p>
</blockquote>
<h2 id="synapse-deployment-inbox-tray">Synapse Deployment üì•Ô∏è</h2>
<h3 id="kubernetes">Kubernetes</h3>
<p><a href="https://matrix.to/#/@ace:kittenface.studio">Ananace</a> announced:</p>
<blockquote>
<p>Just pushed the 1.15.2 tags for the K8s-optimized Synapse image.</p>
</blockquote>
<h3 id="docker-matrix">Docker matrix</h3>
<p><a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a> offered:</p>
<blockquote>
<p>The avhost image including coturn, jemalloc, and mjolnir for synapse 1.15.2 was released at avhost/docker-matrix:v1.15.2, while the RCs images were released on my personal repo; mvgorcum/docker-matrix:v1.16.0rc1 and mvgorcum/docker-matrix:v1.16.0rc2</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<h3 id="twilio-maubot-based-sms-bridge">Twilio &amp; Maubot based SMS bridge</h3>
<p><a href="https://matrix.to/#/@jeff:casavant.org">Jeff Casavant</a> offered:</p>
<blockquote>
<p>I wrote a very simple Twilio &amp; Maubot based SMS bridge recently which I've been running for long enough with no delivery errors that I'd consider it stable.  It's oriented towards bridging many individuals to single rooms via SMS.   You'll need to have a Maubot instance in order to run it.</p>
<p><a href="https://github.com/jeffcasavant/MaubotTwilio">https://github.com/jeffcasavant/MaubotTwilio</a></p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="syphon-new-client-announcement">Syphon - new client announcement</h3>
<p><a href="https://matrix.to/#/@usbfingers:matrix.org">usbfingers</a> offered:</p>
<blockquote>
<p>Hey TWIM ,</p>
<p>Tuesday, I did a soft announcement of open alpha for Syphon - a privacy centric matrix client</p>
<p>Source: <a href="https://github.com/syphon-org/syphon">https://github.com/syphon-org/syphon</a></p>
<p>Website: <a href="https://syphon.org">https://syphon.org</a></p>
<p>Features:</p>
<ul>
<li>
<p>no analytics.</p>
</li>
<li>
<p>no proprietary third party services</p>
<ul>
<li>iOS will have APNS opt-in, but will be made clear to the user</li>
</ul>
</li>
<li>
<p>all data is AES-256 encrypted at rest</p>
</li>
<li>
<p>E2EE for direct chats using <a href="https://gitlab.matrix.org/matrix-org/olm">Olm/Megolm</a></p>
<ul>
<li>group chats will be supported in the coming weeks</li>
</ul>
</li>
<li>
<p>all indicators of presence are opt-in only (typing indicators, read receipts, etc)</p>
</li>
<li>
<p>customize themes and colors throughout the app</p>
</li>
</ul>
<p>Please note there's still a lot of work to do and a lot of features missing that other clients have. It's <strong>not</strong> ready for everyday use.</p>
<p>Please let me know if you have any questions or would like to contribute!</p>
</blockquote>
<h3 id="riot-web">Riot Web</h3>
<p><a href="https://matrix.to/#/@jryans:matrix.org">Ryan</a> told us:</p>
<blockquote>
<p>This week we released 1.6.8, and the highlights include:</p>
<ul>
<li>
<p>Upgraded to Electron 9 for desktop builds, which should fix various Linux tray icon issues</p>
</li>
<li>
<p>Jump to first unread message improved to handle reactions and other non-message events</p>
</li>
<li>
<p>Desktop now shows a file saved message when downloading a file</p>
</li>
<li>
<p>Cross-signing setup flows reworked to simplify choosing a security phrase or key</p>
</li>
</ul>
</blockquote>
<h3 id="fractal">Fractal</h3>
<p><a href="https://matrix.to/#/@afranke:matrix.org">Alexandre Franke</a> announced:</p>
<blockquote>
<p><a href="https://matrix.org/blog/2020/02/28/this-week-in-matrix-2020-02-28#fractal">The previous Fractal update</a> was quite a while ago but we‚Äôve kept busy.</p>
<p>There has been a lot of under the hood work that users won‚Äôt notice and which we won‚Äôt delve into. In addition to them, we have a few nice things:</p>
<ul>
<li>
<p>Matrix API tokens are redacted in logs for better privacy when submitting bug reports.</p>
</li>
<li>
<p>A send button was added next the message entry. This is especially relevant for touch screens.</p>
</li>
<li>
<p>We are less noisy with typing notifications that we send out.</p>
</li>
<li>
<p>We support SOCKS proxies.</p>
</li>
<li>
<p>Notifications for non text messages have been tweaked.</p>
</li>
<li>
<p>We gained support for edited message display. They are replaced with the newer content and a little icon is shown next to them. Editing messages is not supported yet though.</p>
</li>
</ul>
</blockquote>
<p><img src="/blog/img/2020-07-03-ZFc9l-Captured%E2%80%99%C3%A9crande2020-07-0317-26-53.png" alt="2020-07-03-ZFc9l-Captured‚Äô√©crande2020-07-0317-26-53.png" /></p>
<h3 id="novachat-july-3-update">NovaChat July 3 update:</h3>
<p><a href="https://matrix.to/#/@eric:nova.chat">eric</a> told us:</p>
<blockquote>
<ul>
<li>
<p>Added icons for each chat network to room list</p>
</li>
<li>
<p>Got Twitter DM bridge working again</p>
</li>
<li>
<p>Improved search bar UI</p>
</li>
<li>
<p>On-boarded 30 new users!</p>
</li>
<li>
<p>Launched (accidentally) on <a href="https://news.ycombinator.com/item?id=23693371">Hacker News</a></p>
</li>
<li>
<p>Fixed a ton of reliability bugs in the 7 bridges we support (<a href="https://gitlab.com/nova/issues/-/issues?scope=all&amp;utf8=%E2%9C%93&amp;state=closed">changelog</a>)</p>
</li>
<li>
<p><strong>We are hiring (full-time or part-time) remote React developers to work on our (source available, still TBD on final license) <a href="https://gitlab.com/nova/nova-web">Riot fork</a></strong> Send me a DM if interested.</p>
</li>
</ul>
</blockquote>
<p><img src="/blog/img/2020-07-03-LUhRG-image.png" alt="2020-07-03-LUhRG-image.png" /></p>
<p><a href="https://nova.chat/">NovaChat</a> has been getting good coverage lately, <a href="https://twitter.com/nolimits/status/1277997805227958274">on Twitter</a> and <a href="https://news.ycombinator.com/item?id=23693371">Hacker News</a>.</p>
<h3 id="riotx-published-in-the-beta-channel-of-the-riot-android-app">RiotX published in the beta channel of the Riot-Android app</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> announced:</p>
<blockquote>
<p>RiotX is now published in the beta channel of the Riot-Android app: <a href="https://play.google.com/store/apps/details?id=im.vector.app">https://play.google.com/store/apps/details?id=im.vector.app</a>. You can get the last beta version by becoming a tester if you want to. There will be no more update of RiotX on the PlayStore. Current RiotX users should signout from RiotX and signin again on Riot-Android. Riot-Android users do not have to do that. The changelog can be read here <a href="https://github.com/vector-im/riotX-android/releases/tag/v0.91.3-beta.">https://github.com/vector-im/riotX-android/releases/tag/v0.91.3-beta.</a> And this week we are working on implementing what's remain on our list, and we are fixing as many bugs as we can before the great release.</p>
</blockquote>
<h3 id="riot-ios">Riot-iOS</h3>
<p><a href="https://matrix.to/#/@stevio:matrix.org">steve</a> offered:</p>
<blockquote>
<p>This week, we made some improvements for the cross-signing UX.</p>
<p>We started to work on the rebranding.
And we also made some small improvements in the display of some events in the timeline.</p>
</blockquote>
<h2 id="dept-of-ops">Dept of Ops üõ†</h2>
<h3 id="ma1sd-release-2-4-0">ma1sd release 2.4.0</h3>
<p><a href="https://matrix.to/#/@ma1uta:ru-matrix.org">ma1uta</a> offered:</p>
<blockquote>
<p>ma1sd release 2.4.0.</p>
<p>Changes:</p>
<ul>
<li>
<p>Enabled v2 API by default.</p>
</li>
<li>
<p>Added experimental support of the database connection pooling for postgresql</p>
</li>
<li>
<p>Added option to bind ma1sd to specified address.</p>
</li>
<li>
<p>Added error logging for LDAP authorization.</p>
</li>
<li>
<p>Added full request and response logs for debug.</p>
</li>
<li>
<p>Avoid including bridged user in directory lookups (https://github.com/ma1uta/ma1sd/pull/45)</p>
</li>
<li>
<p>Add experimental multi-platform buillds for amd64 and arm64 platforms.</p>
</li>
<li>
<p>remove warning about matrix-synapse-ldap3 (https://github.com/ma1uta/ma1sd/pull/50)</p>
</li>
</ul>
<p>Bugfixes:</p>
<ul>
<li>
<p><a href="https://github.com/ma1uta/ma1sd/issues/26">https://github.com/ma1uta/ma1sd/issues/26</a></p>
</li>
<li>
<p><a href="https://github.com/ma1uta/ma1sd/issues/29">https://github.com/ma1uta/ma1sd/issues/29</a> (partial)</p>
</li>
<li>
<p><a href="https://github.com/ma1uta/ma1sd/issues/22">https://github.com/ma1uta/ma1sd/issues/22</a></p>
</li>
<li>
<p><a href="https://github.com/ma1uta/ma1sd/issues/27">https://github.com/ma1uta/ma1sd/issues/27</a></p>
</li>
</ul>
<p>Downloads:</p>
<ul>
<li>
<p><a href="https://github.com/ma1uta/ma1sd/releases/tag/2.4.0">https://github.com/ma1uta/ma1sd/releases/tag/2.4.0</a></p>
</li>
<li>
<p>docker pull ma1uta/ma1sd:latest</p>
</li>
<li>
<p>docker pull ma1uta/ma1sd:2.4.0-arm64 (image for arm64)</p>
</li>
</ul>
</blockquote>
<h3 id="matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</h3>
<p>This <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">Ansible playbook</a> is meant to easily let you run your own Matrix homeserver.</p>
<p><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> said:</p>
<blockquote>
<p>it appears to be puppet week in <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a>-land!</p>
<p>Thanks to various contributors (<a href="https://github.com/jdreichmann">Johanna Dorothea Reichmann</a>, <a href="https://github.com/tulir">Tulir Asokan</a> and <a href="https://github.com/izissise">Hugues Morisset</a>), the playbook has gained support for 4 new bridges: <a href="https://github.com/Sorunome/mx-puppet-instagram">mx-puppet-instagram</a> (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bridge-mx-puppet-instagram.md">see our docs</a>), <a href="https://github.com/Sorunome/mx-puppet-twitter">mx-puppet-twitter</a> (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bridge-mx-puppet-twitter.md">see our docs</a>), <a href="https://github.com/Sorunome/mx-puppet-discord">mx-puppet-discord</a> (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bridge-mx-puppet-discord.md">see our docs</a>) and <a href="https://github.com/icewind1991/mx-puppet-steam">mx-puppet-steam</a> (<a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-playbook-bridge-mx-puppet-steam.md">see our docs</a>).</p>
<p>This brings the total number of bridges supported by the playbook to 15!</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="matrix-reminder-bot-v0-1-0">matrix-reminder-bot v0.1.0</h3>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> offered:</p>
<blockquote>
<p>The release, v0.1.0, of matrix-reminder-bot is out!  üéâ</p>
<p>I've eliminated most of the bad bugs that were present, so will be doing some feature development for a bit. As of now, the features of the bot are:</p>
<ul>
<li>
<p>Setting reminders</p>
</li>
<li>
<p>Have a reminder ping yourself or the whole room</p>
</li>
<li>
<p>Alarms which continue ringing until silenced</p>
</li>
<li>
<p>Support for end-to-end encrypted rooms</p>
</li>
<li>
<p>Postgres and SQLite support</p>
</li>
<li>
<p>Docker support</p>
</li>
</ul>
<p>Find it here: <a href="https://github.com/anoadragon453/matrix-reminder-bot/">https://github.com/anoadragon453/matrix-reminder-bot/</a> and join the discussion at <a href="https://matrix.to/#/#matrix-reminder-bot:matrix.org">#matrix-reminder-bot:matrix.org</a>!</p>
<p>Enjoy! ‚ù§Ô∏è</p>
</blockquote>
<h3 id="ipfs-bot">IPFS Bot</h3>
<p><a href="https://matrix.to/#/@mtrnord:nordgedanken.dev">MTRNord</a> offered:</p>
<blockquote>
<p>Did you ever have the issue that a media event sent from someone is too large for your HS and you don't want to fiddle with the link?</p>
<p>IPFS Bot might be a solution. Invite @ipfs:nordgedanken.dev or Check out <a href="https://github.com/MTRNord/matrix-ipfs-bot/">https://github.com/MTRNord/matrix-ipfs-bot/</a> to use the bot.</p>
<p>If you reply to any media event with <code>!ipfs</code> the bot will send you a link to the media stored on ipfs.</p>
<p>Known issues are:</p>
<ul>
<li>
<p>E2EE not yet working (It joins but can't yet decrypt the related event)</p>
</li>
<li>
<p>Error handling is basically not existent. Therefore crashes might happen until I sort this out.</p>
</li>
<li>
<p>It currently does very verbose logging. This will be removed when the bot is more stable</p>
</li>
<li>
<p>Images sent from RiotX sometimes seem to not play nice with ruma</p>
</li>
</ul>
<p>(Demo for the IPFS Bot): <a href="https://ipfs.nordgedanken.dev/ipfs/QmSfde3V4QL1Lv96Ar62qgnhaEtyi9jzPkKRCBMh4Wqm6F?filename=2020-06-27_16-41-09.mp4">https://ipfs.nordgedanken.dev/ipfs/QmSfde3V4QL1Lv96Ar62qgnhaEtyi9jzPkKRCBMh4Wqm6F?filename=2020-06-27_16-41-09.mp4</a></p>
</blockquote>
<p>We could include this video here, but it seems me appropriate to link to an actual IPFS location.</p>
<h3 id="cody-repl-for-your-matrix-chat-rooms">cody, REPL for your Matrix chat rooms</h3>
<p><a href="https://matrix.to/#/@carl:bordum.dk">carl</a> offered:</p>
<blockquote>
<p>Hello, I am announcing my first matrix bot - cody - that will evaluate code snippets in your Matrix rooms and return the result. Here is an example interaction:</p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>
</span><span>user&gt; !py &quot;Hello world!&quot;
</span><span>cody&gt; &#39;Hello world!&#39;
</span><span>
</span><span>user&gt; !py list(range(10))
</span><span>cody&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
</span><span>
</span></code></pre>
<p>You can chat with him @cody:bordum.dk and view the source code at <a href="https://gitlab.com/carlbordum/matrix-cody">https://gitlab.com/carlbordum/matrix-cody</a></p>
<p>This initial release only supports Python, but the plan is to add support for more languages in the next few weeks. The repo might also be of interest to some of you as it has CI, CD to DockerHub, complete dev environment with cody, pantalaimon, synapse and riot using docker-compose, simple metrics and Grafana-dashboards-as-code.</p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞Ô∏è</h2>
<h3 id="matrix-notepad-version-v0-2-2">Matrix Notepad Version <code>v0.2.2</code></h3>
<p><a href="https://matrix.to/#/@kb1rd:kb1rd.net">KB1RD</a> told us:</p>
<blockquote>
<blockquote>
<p>A real-time collaborative text editor using the Matrix protocol.</p>
</blockquote>
<p><a href="https://matrix-notepad.kb1rd.net/">matrix-notepad.kb1rd.net</a></p>
<p>Nope, it's not dead.</p>
<ul>
<li>
<p>New version of <code>logootish-js</code> with a completely new algorithm</p>
<ul>
<li>In particular, I should note that this new algorithm is tested extensively, so I think the bugs should be out</li>
</ul>
</li>
<li>
<p>Corresponding updates to internal event structure</p>
</li>
<li>
<p>Fixed UI &amp; CSS bugs</p>
</li>
<li>
<p>Improved UX for room title editor</p>
</li>
<li>
<p>Currently, conflicting text will be displayed, but conflicts will not be indicated in any way</p>
</li>
<li>
<p>I almost forgot to mention: The room list is now filtered using the typed rooms MSC (event ID <code>org.matrix.msc1840</code>). #test-document0:kb1rd.net is a room with that state event set.</p>
</li>
</ul>
<p>I also made a flame graph of the internal algorithm and I'm surprised by some of the results. The good thing is that I think there's quite a few ways to speed up the algorithm. Here it is:</p>
<p><a href="https://logootish-js.matrix-notepad.kb1rd.net/flamegraph/test/listmodel-nc.perf.js/flamegraph.html#%7B%22merged%22:false,%22nodeId%22:null,%22excludeTypes%22:%5B%22cpp%22,%22regexp%22,%22v8%22,%22native%22,%22init%22,%22core%22%5D%7D">https://logootish-js.matrix-notepad.kb1rd.net/flamegraph/test/listmodel-nc.perf.js/flamegraph.html#{%22merged%22:false,%22nodeId%22:null,%22excludeTypes%22:[%22cpp%22,%22regexp%22,%22v8%22,%22native%22,%22init%22,%22core%22]}</a></p>
</blockquote>
<p><img src="/blog/img/2020-07-03-SmuSp-image.png" alt="2020-07-03-SmuSp-image.png" /></p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">385</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">talk.go7box.xyz</td><td style="text-align: center">502.5</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">gottliebtfreitag.de</td><td style="text-align: center">524</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">phys.ethz.ch</td><td style="text-align: center">552</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">eisfunke.com</td><td style="text-align: center">997</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">c.mau.dev</td><td style="text-align: center">1422</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">halogen.city</td><td style="text-align: center">1613</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">nzbr.de</td><td style="text-align: center">1722</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">asra.gr</td><td style="text-align: center">1774</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">utzutzutz.net</td><td style="text-align: center">1875</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you <a href="https://www.bbc.co.uk/news/uk-politics-53281539">first thing tomorrow morning</a>, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2020&#x2F;06&#x2F;26&#x2F;this-week-in-matrix-2020-06-26&#x2F;" title="This Week in Matrix 2020-06-26">This Week in Matrix 2020-06-26</a></h2>
                <span>
                    26.06.2020 00:00
                    ‚Äî
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    ‚Äî
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrix-live">Matrix Live üéô</h2>
<p>It's demos this week!</p>
<ul>
<li>Riot X video calls (valere)</li>
<li>Room list (TravisR)</li>
<li>Notifications - (Michael (t3chguy) &amp; richvdh)</li>
<li>E2E Onboarding (Dave &amp; Nad)</li>
<li>Modular SAML support (ChristianP)</li>
</ul>
<iframe src="https://www.youtube.com/embed/40FiPUmT0gc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="dept-of-status-of-matrix-face-with-th">Dept of <em>Status of Matrix</em> üå°</h2>
<h3 id="merch-returns">Merch Returns!</h3>
<p>Yes it's back! For the first time in months we are shipping branded IRL-items featuring Matrix branding. Head to <a href="https://shop.matrix.org/">The Shop</a> to stock-up.</p>
<h2 id="dept-of-spec-scroll">Dept of Spec üìú</h2>
<p><a href="https://matrix.to/#/@andrewm:amorgan.xyz">anoa</a> announced:</p>
<blockquote>
<p>Here's your weekly spec update! The heart of Matrix is the specification - and this is modified by Matrix Spec Change (MSC) proposals. Learn more about how the process works at <a href="https://matrix.org/docs/spec/proposals.">https://matrix.org/docs/spec/proposals.</a></p>
<h4 id="msc-status">MSC Status</h4>
<p><strong>Merged MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2631">MSC2631: Add default_payload to PusherData</a></li>
</ul>
<p><strong>MSCs in Final Comment Period:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2604">MSC2604: Accept device information for the login fallback endpoint</a> (merge)</li>
</ul>
<p><strong>New MSCs:</strong></p>
<ul>
<li><a href="https://github.com/matrix-org/matrix-doc/pull/2654">[WIP] MSC2654: Unread counts</a></li>
</ul>
<h4 id="spec-core-team">Spec Core Team</h4>
<p>In terms of Spec Core Team MSC focus for this week, unfortunately our three MSCs from last week ( <a href="https://github.com/matrix-org/matrix-doc/issues/2366">MSC2366</a> (verification flows), <a href="https://github.com/matrix-org/matrix-doc/issues/2403">MSC2403</a> (knocking), and <a href="https://github.com/matrix-org/matrix-doc/issues/2630">MSC2630</a> (SAS security)) are still pre-FCP. Most of the team has been quite busy with implementation for the past few weeks. Instead of advertising those 3 MSCs again, we're going to switch the focus to &quot;implementation&quot; for a bit until we're freed up again.</p>
<p>So the focus for this week is: MSC implementation work. However, this should not discourage any MSC authors from responding to MSC feedback in the meantime üôÇ</p>
</blockquote>
<p><img src="/blog/img/2020-06-26-MxzSP-plot.png" alt="2020-06-26-MxzSP-plot.png" /></p>
<h2 id="dept-of-gsoc-mortar-board">Dept of GSoC üéì</h2>
<h3 id="ruma-gsoc">Ruma GSoC</h3>
<p><a href="https://matrix.to/#/@devinr528:matrix.org">devinr528</a> reported:</p>
<blockquote>
<p>This week in the ruma/matrix Google Summer of Code project, ruma-events was made ready for use! After adding stripped and sync event generation to the <a href="https://github.com/ruma/ruma/commit/fdf87a38a219933ffe99b17baf87841a79702f28"><code>event_enum!</code> macro</a> there were only a few small tweaks needed to try it out in some dependent rust crates. I spent a few days converting <a href="https://github.com/matrix-org/matrix-rust-sdk/pull/63">matrix-rust-sdk</a> to use the ruma-monorepo. Since ruma is used on both client and server-side, I also opened a PR to update <a href="https://git.koesters.xyz/timo/conduit/pulls/133">Conduit</a>, a homeserver implementation written in Rust. To test that everything worked together, I updated <a href="https://github.com/DevinR528/rumatui/commit/1ae8776f9a59c297c8c9b2287f7c830ab67302b1">rumatui</a>, my command-line client written in rust.</p>
<p>Then I could test that Conduit sent, and matrix-rust-sdk received the new ruma events successfully. While updating, I felt the pain of not having accessor methods for the <code>Any*Event</code> enums to get at the event fields held within. I have opened a <a href="https://github.com/ruma/ruma/pull/97">pull request</a> to add the generation of these methods to the <code>event_enums!</code> macro. Hopefully, the Conduit and matrix-sdk PR's will be merged and the ruma monorepo can be tested in the wild!</p>
</blockquote>
<h3 id="matrix-ircd-gsoc">matrix-ircd GSOC</h3>
<p><a href="https://matrix.to/#/@karlik:matrix.org">karlik</a> told us:</p>
<blockquote>
<p>Moved matrix protocol, irc protocol, and bridge module to futures 0.3. Converted some utility functions to new futures, and updated the http implementation to use the standardized Hyper library instead of using a custom http implementation.</p>
</blockquote>
<h3 id="go-neb">go-neb</h3>
<p><a href="https://matrix.to/#/@nikofil:matrix.org">nikofil</a> said:</p>
<blockquote>
<ul>
<li>
<p>Created PR for enabling e2ee across all services! This required a few changes to how the bot client is initialised, as well as changes to all services to use the new functionality instead of directly sending messages to a room. <a href="https://github.com/matrix-org/go-neb/pull/324">https://github.com/matrix-org/go-neb/pull/324</a></p>
</li>
<li>
<p>Added code from another of tulir's projects to Mautrix to allow storing the crypto material (olm / megolm sessions, accounts etc.) in a SQL database, adding a second way besides using Gob storage. <a href="https://github.com/tulir/mautrix-go/pull/10">https://github.com/tulir/mautrix-go/pull/10</a></p>
</li>
<li>
<p>Future plans are to work on the library itself to add any features that might be missing.</p>
</li>
</ul>
</blockquote>
<h3 id="html-embeddable-chat-rooms">HTML embeddable chat rooms</h3>
<p><a href="https://matrix.to/#/@arnav-t:matrix.org">arnav-t</a> told us:</p>
<blockquote>
<p>This week I've worked on the following features for the project &quot;HTML embeddable chat rooms&quot; under GSoC '20:</p>
<h4 id="added-support-for-signing-in">Added support for signing-in</h4>
<h4 id="via-sign-in-popup">Via sign-in popup</h4>
<p>The user can enter their credentials into the modal dialogue box.</p>
<h4 id="via-postmessage-interface">Via <code>postMessage</code> interface</h4>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span>
</span><span>iframe.contentWindow.postMessage({
</span><span>    cmd: </span><span style="color:#d69d85;">&#39;login&#39;</span><span>,
</span><span>
</span><span>    args: {
</span><span>        user: </span><span style="color:#d69d85;">&#39;username&#39;</span><span>,
</span><span>
</span><span>        passwd: </span><span style="color:#d69d85;">&#39;password&#39;
</span><span>    }
</span><span>
</span><span>}, origin);
</span></code></pre>
<p><em>Arguments:</em></p>
<p><code>args</code> (object):</p>
<ul>
<li>
<p><code>username</code> (string) - Username</p>
</li>
<li>
<p><code>passwd</code> (string) - Password</p>
</li>
</ul>
<p><em>Response:</em></p>
<pre data-lang="js" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-js "><code class="language-js" data-lang="js"><span>{
</span><span>
</span><span>    status: </span><span style="color:#d69d85;">&#39;success&#39;</span><span>, 
</span><span>    message: </span><span style="color:#d69d85;">&#39;Attempting sign in...&#39;
</span><span>
</span><span>}
</span></code></pre>
<h4 id="added-support-for-default-avatars">Added support for default avatars</h4>
<p>Using the same design as Riot. However, I am just using flexbox and text instead of drawing on an HTML5 canvas. The HSL color is generated by hashing the user ID.</p>
<h4 id="quoting-and-replying">Quoting and replying</h4>
<p>Added on-hover buttons and reply popup above message composer similar to Riot web. Quoting prepends the message (quoted) to the message composer similar to Riot web and replying would also work similar to Riot web. It will be fully functional once markdown parsing is added.</p>
<h4 id="guest-access">Guest access</h4>
<p>The client now supports guest access. If no access token or user ID is provided in the configuration file, the client attempts to register a guest account on the home server. Room contents are viewed using <code>peekInRoom</code>.</p>
<p>If the guest attempts to send a message, only then <code>joinRoom</code> is called to avoid spam (each page load would lead to a guest joining the room).</p>
</blockquote>
<h3 id="nheko">Nheko</h3>
<p><a href="https://matrix.to/#/@crdy2k1:matrix.org">Chethan</a> told us:</p>
<blockquote>
<p>SAS Verification is completed and works !</p>
<p>Supports both Emoji and Decimal Verification
Only uses <strong>curve25519-hkdf-sha256</strong> as key_agreement protocol</p>
<p>Brand new UserProfile written entirely in qml.
<a href="https://github.com/Nheko-Reborn/nheko/pull/203">https://github.com/Nheko-Reborn/nheko/pull/203</a></p>
<h4 id="mtxclient">Mtxclient</h4>
<p>Updated with needed APIs for SAS verification.</p>
<p><a href="https://github.com/Nheko-Reborn/mtxclient/pull/32">https://github.com/Nheko-Reborn/mtxclient/pull/32</a></p>
</blockquote>
<iframe src="https://www.youtube.com/embed/KZ4krRplCtg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h3 id="opsdroid">Opsdroid</h3>
<p><a href="https://matrix.to/#/@tyagdit:matrix.org">tyagdit</a> reported:</p>
<blockquote>
<h4 id="port-to-matrix-nio">Port to Matrix-nio</h4>
<ul>
<li>
<p>The matrix connector is now using matrix-nio!</p>
</li>
<li>
<p>Bots can send and receive texts, images, files as before </p>
</li>
<li>
<p>No change in configuration required, just update opsdroid and run as before</p>
</li>
<li>
<p>Encryption is not yet implemented</p>
</li>
<li>
<p>You can check out the PR <a href="https://github.com/opsdroid/opsdroid/pull/1418">here</a> </p>
</li>
</ul>
<h4 id="enabling-e2ee">Enabling E2EE</h4>
<ul>
<li>
<p>Sending and receiving encrypted texts, edits, replies works just as normal messages</p>
</li>
<li>
<p>Images and files are being worked on</p>
</li>
<li>
<p>User shouldn't have to change much about their configuration to use encryption</p>
</li>
<li>
<p>Some testing is due</p>
</li>
<li>
<p>Check out the progress <a href="https://github.com/opsdroid/opsdroid/pull/1548">here</a></p>
</li>
</ul>
</blockquote>
<h2 id="dept-of-servers-europea">Dept of Servers üè¢</h2>
<h3 id="dendrite">Dendrite</h3>
<p>Dendrite is a next-generation homeserver written in Go</p>
<p><a href="https://matrix.to/#/@kegan:matrix.org">kegan</a> reported:</p>
<blockquote>
<p>This week has been mainly about testing to ensure that all the progress over the past few months is kept up-to-date and correct. We've also added a few features in order to get certain sytests working. To that end:</p>
<ul>
<li>
<p>Invites can now be declined over federation and they will be reflected in <code>/sync</code> responses.</p>
</li>
<li>
<p>Errors encountered when joining a room over federation are now sent back to the client.</p>
</li>
<li>
<p>Errors encountered when accepting an invite over federation are now sent back to the client.</p>
</li>
<li>
<p>Dendrite will now check server names meet the server name grammar in the specification.</p>
</li>
<li>
<p>A bug which caused <code>client-api-proxy</code> to not actually proxy correctly has been fixed, thanks @fantashley !</p>
</li>
<li>
<p><code>/send</code> now abides by the limits in the specification: 50 PDUs / 100 EDUs.</p>
</li>
<li>
<p>The docker-compose scripts now include <code>appservice_api</code>, thanks @fantashley !</p>
</li>
<li>
<p>Sending invites over federation will now fall back to v1 if v2 fails with a 404.</p>
</li>
<li>
<p>Dendrite now implements <code>room.timeline.limit</code> completely (in both in-line and stored filter formats).</p>
</li>
<li>
<p>Dendrite now sets the <code>limited</code> flag on <code>/sync</code> responses correctly.</p>
</li>
</ul>
<p>In addition, we now have support for collecting code coverage output from SyTest. This indicates we are testing roughly 70% of the Dendrite codebase. The remaining 30% are hard to reach via integration tests (e.g database failures, communication problems between internal APIs).</p>
<p>Spec compliance:</p>
<ul>
<li>
<p>Client-Server APIs: 45%, up from 40% last week</p>
</li>
<li>
<p>Server-Server APIs: 50%, up from 38% last week</p>
</li>
</ul>
<p>In total, we've made an additional 45 sytests pass this week.</p>
</blockquote>
<h3 id="mascarene">Mascarene</h3>
<p><a href="https://matrix.to/#/@nico:beerfactory.org">Nico</a> reported:</p>
<blockquote>
<p><a href="https://gitlab.com/mascarene/mascarene/-/releases/v0.2.0">Mascarene v0.2.0</a> has been released. </p>
<p>This version implements a minimal set of client API endpoints to work with Riot and allow user registration, </p>
<p>room creation, invitation and messages sending on the same running instance (no federation support).</p>
<p><a href="https://hub.docker.com/r/mascarene/mascarene-homeserver">Docker image</a> are also available. See <a href="https://gitlab.com/mascarene/mascarene/-/blob/master/docs/install.md">this documentation</a></p>
<p>for rough installation instructions.</p>
<p>Join us at <a href="https://matrix.to/#/#mascarene:beerfactory.org">#mascarene:beerfactory.org</a></p>
</blockquote>
<h3 id="conduit">Conduit</h3>
<p>Conduit is a Matrix homeserver written in Rust <a href="https://conduit.rs">https://conduit.rs</a></p>
<p><a href="https://matrix.to/#/@timo:koesters.xyz">timo</a> told us:</p>
<blockquote>
<p>This week I finished the cross-signing PR:</p>
</blockquote>
<iframe src="https://www.youtube.com/embed/lPAAxyg2UD4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<blockquote>
<p>To try it out yourself, open Riot (preferably <a href="https://riot.im/develop)">https://riot.im/develop)</a> and join the <code>&lt;https://conduit.koesters.xyz:14004&gt;</code> homeserver.</p>
<p>Thanks to everyone who supports me on Liberapay or Bitcoin!</p>
</blockquote>
<h3 id="synapse">Synapse</h3>
<p><a href="https://matrix.to/#/@neilj:matrix.org">Neil</a> told us:</p>
<blockquote>
<p>This week we‚Äôve been working on further improvements to event persistence and ironed out a nasty bug where an unusually long state resolution could block the reactor overall and impact send times. We seem to have got to the bottom of this and m.org has improved a lot as of today.</p>
<p>More generally we‚Äôve been trying to characterise matrix.org performance so that we can continue to improve over the coming months. </p>
<p>We are going to focus on:-</p>
<ul>
<li>
<p>Client send event</p>
</li>
<li>
<p>Outbound Federation Latency</p>
</li>
<li>
<p>Inbound Federation Latency</p>
</li>
<li>
<p>Room joins</p>
</li>
</ul>
<p>As well as tracking the CS API generally.</p>
<p>We are using <a href="https://en.wikipedia.org/wiki/Apdex">apdex</a> with a satisfied limit of 250 ms and a tolerating limit of 1000 ms. By the end of the Summer we will aim to hit an apdex score of 0.9 for each area. </p>
<p>For instance here is Federation Send Event Apdex graphed overtime. You can see that we are averaging about ~0.8 currently, so plenty to keeping us busy! </p>
</blockquote>
<p><img src="/blog/img/2020-06-26-JR9Vx-Screenshot2020-06-26at17.51.57.png" alt="2020-06-26-JR9Vx-Screenshot2020-06-26at17.51.57.png" /></p>
<blockquote>
<p>Next up will be to work on Outbound Federation Latency</p>
<p>Aside from that we‚Äôve been working hard on the upcoming Notifications improvements. Mapping the push rules to the demands of the UI has been challenging and we‚Äôve been through several iterations. If you‚Äôd like to learn more take a look at Michael and Rich‚Äôs explanation in this week‚Äôs Matrix Live. Rich‚Äôs presentation has Sheltie pictures #justsayin‚Äô</p>
</blockquote>
<h2 id="dept-of-bridges-bridge-at-night">Dept of Bridges üåâ</h2>
<p>It's a Tulir kind of week.</p>
<h3 id="mautrix-whatsapp">mautrix-whatsapp</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> told us:</p>
<blockquote>
<p>The WhatsApp bridge got a bunch of improvements this week, such as:</p>
<ul>
<li>
<p>Matrix -&gt; WhatsApp gif bridging</p>
</li>
<li>
<p>Bridge status notices if your phone battery is low</p>
</li>
<li>
<p>A command to get group invite links and another command to join groups using invite links</p>
</li>
<li>
<p>Matrix &lt;-&gt; WhatsApp bridging of most membership changes</p>
</li>
</ul>
</blockquote>
<h3 id="mautrix-facebook">mautrix-facebook</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> reported:</p>
<blockquote>
<p>The Messenger bridge mostly got bugfixes, but also Matrix-&gt;Facebook bridging of all media and location messages</p>
</blockquote>
<h3 id="mautrix-telegram">mautrix-telegram</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> offered:</p>
<blockquote>
<p>The Telegram bridge now supports logging in by scanning a QR code, although it requires using the master branch of Telethon instead of a release. I also fixed bridging captions in file messages, so they're now bridged as separate messages like with images</p>
</blockquote>
<h3 id="half-shot-bridges-roundup">Half-Shot bridges roundup</h3>
<p><a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> offered:</p>
<blockquote>
<p>Hey all, I've got several releases to talk about this week!</p>
<p>First, <code>matrix-appservice-slack</code> has been updated to <a href="https://github.com/matrix-org/matrix-appservice-slack/releases/tag/1.4.0">1.4.0</a> with several quality of life changes such as automatically setting the bot profile on startup, supporting logging out of slack accounts and adding a health checkpoint. There are also quite a few bugfixes so make sure you update.</p>
<p><code>matrix-appservice-irc</code> was also bumped to <a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.18.0">0.18.0</a> with the headline features being Node 14.x support.</p>
<p>We've also shipped <a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.19.0-rc1">0.19.0-rc1</a> which has stopped support for Node 10.x. Why? Because we're adding worker support to the bridge! This release starts to make use of the new(ish) <code>worker_threads</code> feature so that we can dish out processing to separate threads (running their own UV event loops, for node enthusiasts). The first thing to be workerized is metrics, so that metrics may still be reported should the bridge become saturated, but we plan to split out more work as things progress.</p>
<p>Finally <code>matrix-appservice-bridge</code> got a few fixes to support our new worker land, as well as being updated to support <code>matrix-js-sdk</code> 6.0.0. You can checkout the changes for <a href="https://github.com/matrix-org/matrix-appservice-bridge/releases/tag/1.13.1">1.13.1 here</a>.</p>
</blockquote>
<h2 id="dept-of-clients-iphone">Dept of Clients üì±</h2>
<h3 id="fluffychat">Fluffychat</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> offered:</p>
<blockquote>
<p>Fluffychat Version 0.15.0 is released, and should be available in the Play Store, on F-Droid and in IOS Testflight soon! This makes Fluffychat the first non-Riot matrix client that supports Cross-Signing.</p>
<h4 id="features">Features:</h4>
<ul>
<li>
<p>New room list app bar design</p>
</li>
<li>
<p>Chat app bar transparent</p>
</li>
<li>
<p>Implement web file picker</p>
</li>
<li>
<p>Minor design and UX improvements</p>
</li>
<li>
<p>Implement Cross Signing</p>
</li>
<li>
<p>Restore keys from online key backup</p>
</li>
<li>
<p>Added translations: Czech, Spanish, Slovakian</p>
</li>
</ul>
<h4 id="changes">Changes:</h4>
<ul>
<li>
<p>Show presences of users sharing a direct chat</p>
</li>
<li>
<p>Big refactoring</p>
</li>
</ul>
<h4 id="fixes">Fixes:</h4>
<ul>
<li>Various fixes, including e2ee fixes and olm session recovery</li>
</ul>
</blockquote>
<p><img src="/blog/img/2020-06-26-rN8uB-scaled_screenshot_20200619-173753_fluffychat.png.jpg" alt="2020-06-26-rN8uB-scaled_screenshot_20200619-173753_fluffychat.png.jpg" /></p>
<h3 id="pattle-version-0-18-0">Pattle: version 0.18.0</h3>
<p><a href="https://matrix.to/#/@wilko:pattle.im">Wilko</a> said:</p>
<blockquote>
<p>A new version has been released and will soon become available on Google Play, TestFlight and F-Droid!</p>
<h4 id="changes-1">Changes</h4>
<ul>
<li>
<p>You can now play videos!</p>
</li>
<li>
<p>The main public address (room alias) of chats are now shown in chat's details</p>
</li>
<li>
<p>The time of sending is now always show on the right side for images</p>
</li>
<li>
<p>Notifications are grouped nicer, there's now one notification for Pattle, grouped by chat</p>
</li>
<li>
<p>Fix sending an image crashing the app</p>
</li>
<li>
<p>Fix urls not being accounted for in time placement (<a href="https://pattle.dev/pattle/app/-/issues/132">#132</a>)</p>
</li>
<li>
<p>Fix chat input not scrolling</p>
</li>
<li>
<p>Fix multiple issues regarding showing notifications</p>
</li>
<li>
<p>F-Droid: All left-over proprietary code is now removed, thanks to Bubu for notifying me!</p>
</li>
</ul>
<h4 id="get-pattle">Get Pattle</h4>
<ul>
<li>
<p><strong>Android</strong></p>
<ul>
<li><strong><a href="https://f-droid.org/en/packages/im.pattle.app/">F-Droid</a></strong></li>
<li><strong><a href="https://play.google.com/store/apps/details?id=im.pattle.app">Google Play</a></strong></li>
</ul>
</li>
<li>
<p><strong><a href="https://testflight.apple.com/join/uTytydST">iOS (TestFlight)</a></strong></p>
</li>
</ul>
<h4 id="get-involved">Get involved</h4>
<ul>
<li>
<p><strong>Follow development</strong>: <a href="https://matrix.to/#/#app:pattle.im">#app:pattle.im</a></p>
</li>
<li>
<p><strong>Issues or suggestions</strong>: <a href="https://pattle.dev/pattle/app/issues">Post them here!</a></p>
</li>
<li>
<p><strong>Donate</strong>: If you want to support Pattle, <a href="https://liberapay.com/wilko/">you can donate!</a></p>
</li>
</ul>
</blockquote>
<iframe src="https://www.youtube.com/embed/Nh-x4px_6v0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h3 id="mirage">Mirage</h3>
<p><a href="https://matrix.to/#/@miruka:privacytools.io">miruka*</a> reported:</p>
<blockquote>
<p>0.5.2 is now out:</p>
<h4 id="added">Added</h4>
<ul>
<li>
<p><strong>Sessions/device list</strong>: you can now inspect, rename and manually verify</p>
<p>your devices from the account settings page.
The interface is still work in progress, keyboard navigation and signing</p>
<p>out sessions will be added in a next version.</p>
</li>
<li>
<p>Re-add client-side unread/highlight room indicators.</p>
<p>If your account has push notifications disabled, which precise cross-client
counters depend on, the local indicators will be used as fallback.</p>
</li>
<li>
<p>Support the <code>MIRAGE_CACHE_DIR</code> environment variable to override where</p>
<p>files and thumbnails are downloaded</p>
</li>
<li>
<p>A bunch of theme additions, check the <a href="https://github.com/mirukana/mirage/releases/tag/v0.5.2">full log</a></p>
</li>
</ul>
<h4 id="changed">Changed</h4>
<ul>
<li>
<p>Overhauled account settings to match the design of other tabbed pages.</p>
<p>The horizontal layout design has been removed due to complicated code and 
being impossible to extend without breaking it.</p>
</li>
<li>
<p>The display name field in account settings is now colored, </p>
<p>preview your new display name's color as you type</p>
</li>
<li>
<p>For rooms without image avatars set, the room settings's avatar color now</p>
<p>responds to the name field as you type</p>
</li>
<li>
<p>Overhauled scrollbars:</p>
<ul>
<li>
<p>Now match the Mirage theme and much better visibility</p>
</li>
<li>
<p>No more right margin for the timeline's bar</p>
</li>
<li>
<p>Minimum height to prevent the bar from becoming impossible to grab</p>
</li>
</ul>
</li>
<li>
<p>Use brighter text for room names of rooms that have unread messages</p>
</li>
<li>
<p>Buttons, tabs, text fields and areas now have animated bottom borders </p>
<p>to represent keyboard focus instead of being highlighted like when hovered</p>
</li>
<li>
<p>Text fields and areas can now have rounded corners, following the theme</p>
</li>
<li>
<p>Tabbed pages (Sign In, Add Chat, etc) can now be swiped left and right</p>
</li>
<li>
<p>Popups can now be scrolled when their content is bigger than the</p>
<p>window's height</p>
</li>
<li>
<p>Replace most generic checkmark icons for apply buttons in popups</p>
</li>
<li>
<p>Pressing escape in forms will consistently trigger corresponding</p>
<p>cancel buttons</p>
</li>
</ul>
<h4 id="fixed">Fixed</h4>
<ul>
<li>Various fixes, see <a href="https://github.com/mirukana/mirage/releases/tag/v0.5.2">full changelog</a></li>
</ul>
</blockquote>
<p><img src="/blog/img/2020-06-26-KSsyD-sessions.png" alt="2020-06-26-KSsyD-sessions.png" /></p>
<h3 id="nheko-1">Nheko</h3>
<p><a href="https://github.com/Nheko-Reborn/nheko">Nheko</a> is a desktop client using Qt, Boost.Asio and C++17. It supports E2EE (with the notable exception being device verification for now) and intends to be full featured and nice to look at</p>
<p><a href="https://matrix.to/#/@deepbluev7:neko.dev">Nico (@deepbluev7:neko.dev)</a> offered:</p>
<blockquote>
<ul>
<li>
<p>Most of our time this week was spent trying out device verification with Chethan. It's fun and I could finally file bugs in Nheko against someone else!</p>
</li>
<li>
<p>We fixed some issues that should hopefully make text in the timeline less blurry again.</p>
</li>
<li>
<p>Fixed a bug which cause some clients like fluffychat to break in E2EE rooms (we accidentally sent a null relation when not replying...)</p>
</li>
<li>
<p>Fixed an issue, where Nheko didn't verify the format of html formatted messages correctly, causing it to render messages in a way which wasn't compliant to the spec.</p>
</li>
<li>
<p>Thanks to the work of a Pirate and his friends, current versions of Nheko should be available in backports for Debian Buster once again!</p>
</li>
</ul>
</blockquote>
<h3 id="riot-chat-for-nextcloud">Riot Chat for Nextcloud</h3>
<p><a href="https://matrix.to/#/@gary:garykim.dev">Gary Kim</a> announced:</p>
<blockquote>
<p><a href="https://github.com/gary-kim/riotchat/releases/tag/v0.5.0">Riot Chat for Nextcloud 0.5.0</a> The new version updated the Riot.im version to 1.6.6 and added the ability for admins to set their own custom config for Riot rather then using the settings interface in addition to a few bug fixes.</p>
<p>Riot Chat for Nextcloud allows individuals and organizations with a Nextcloud instance to easily set up and configure their own Riot instance with just a few clicks on a web interface without the need to write a config file.</p>
<p>Join the development Matrix room at <a href="https://matrix.to/#/#riotchatfornextcloud-general:garykim.dev">#riotchatfornextcloud-general:garykim.dev</a>. Check out the source code <a href="https://github.com/gary-kim/riotchat">here</a>.</p>
</blockquote>
<h3 id="riot-ios">Riot-iOS</h3>
<p><a href="https://matrix.to/#/@Manu:matrix.org">Manu</a> told us:</p>
<blockquote>
<p>This week, we completed UX for cross-signing and secure backup. We made associated settings but we still need to polish them.</p>
<p>Sygnal and the new push extension have been updated to match Apple requirement and our privacy concerns. Events content are no more sent anymore.
We started to implement the new room notifications settings UI.</p>
</blockquote>
<h3 id="riotx">RiotX</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> told us:</p>
<blockquote>
<p>This week we were mainly working on cross-signing, room settings, VoIP stabilization and performance improvement.</p>
</blockquote>
<h3 id="riot-android">Riot-Android</h3>
<p><a href="https://matrix.to/#/@benoit.marty:matrix.org">benoit</a> reported:</p>
<blockquote>
<p>We will publish at the beginning of next week a beta version of the migration to RiotX codebase on the beta channel of the PlayStore, to be able to ensure the migration works fine, before release it to production.</p>
</blockquote>
<h2 id="dept-of-sdks-and-frameworks">Dept of SDKs and Frameworks üß∞</h2>
<h3 id="matrix-dart-sdk-v0-33-0">Matrix Dart SDK: v0.33.0</h3>
<p><a href="https://matrix.to/#/@wilko:pattle.im">Wilko</a> told us:</p>
<blockquote>
<ul>
<li>
<p>Support custom events using <code>RawRoomEvent</code> and <code>RawStateEvent</code></p>
<p>Check the <a href="https://pub.dev/packages/matrix_sdk/versions/0.33.0+1#custom-events">README</a> for details.</p>
</li>
<li>
<p>Add ability to register using <code>Homeserver.register</code></p>
</li>
<li>
<p>Add <code>VideoMessageEvent</code></p>
</li>
<li>
<p>Add <code>Room.canonicalAlias</code> and <code>Room.alternativeAliases</code></p>
</li>
<li>
<p>Add <code>format</code> field to <code>TextMessage</code> (thank you <a href="https://matrix.to/#/@scappino:matrix.org">Cyril</a>!)</p>
</li>
<li>
<p>Remove <code>equatable</code> dependency</p>
</li>
</ul>
<p><a href="https://pub.dev/packages/matrix_sdk/">Get it on pub!</a></p>
</blockquote>
<h3 id="net-matrix-webhook">Net::Matrix::Webhook</h3>
<p><a href="https://matrix.to/#/@joepie91:pixie.town">joepie91</a> discovered this project, presented yesterday at Conference in the Cloud:</p>
<iframe src="https://www.youtube.com/embed/Fby5i2sDHCY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<blockquote>
<p>Net::Matrix::Webhook implements a webhook, so you can easily post messages to your matrix chat rooms via HTTP requests. It uses IO::Async to start a web server and connect as a client to matrix. It will then forward your messages.</p>
</blockquote>
<h3 id="matrix-scrape-emoji-translations-script-project">matrix_scrape_emoji_translations script project</h3>
<p><a href="https://matrix.to/#/@sorunome:sorunome.de">sorunome</a> announced:</p>
<blockquote>
<p>Soru wrote a quick program that scrapes riot-web, riot-x and riot-ios for translations of the emoji names for emoji verification and combines them all into an easily-readable json file, so that other client developers can use it. Since all three riot versions have a different set of translations, it might also be helpful for them. You can find the source code along with the outputted json files <a href="https://github.com/Sorunome/matrix_scrape_emoji_translations">here</a>.</p>
</blockquote>
<h2 id="dept-of-bots-robot-face">Dept of Bots ü§ñ</h2>
<h3 id="scandinavia-and-the-world-comic-bot">&quot;Scandinavia and the World&quot; comic bot</h3>
<p><a href="https://matrix.to/#/@tulir:maunium.net">Tulir</a> offered:</p>
<blockquote>
<p>To add to my existing xkcd and CommitStrip maubot plugins, there's now a similar plugin for <a href="https://satwcomic.com/">Scandinavia and the World</a> comics: <a href="https://github.com/maubot/satwcomic">https://github.com/maubot/satwcomic</a></p>
<p>Like the other bots, you can self-host it, use my instance (@satw:maunium.net) in your own room or simply join <a href="https://matrix.to/#/#satwcomic:maunium.net">#satwcomic:maunium.net</a> to automatically get the latest comics in Matrix.</p>
</blockquote>
<h3 id="matrix-webhooker">matrix-webhooker</h3>
<p><a href="https://matrix.to/#/@kinta:communia.org">kinta</a> announced:</p>
<blockquote>
<p>A bot that will allow to room administrators and moderators to generate room custom commands (in a similar way how telegram commands are thought).</p>
<p>When they are invoked it will post the message event object data and a predefined context object along with a token to a custom url. More information in: <a href="https://gitlab.com/communia/matrix-webhooker">https://gitlab.com/communia/matrix-webhooker</a></p>
</blockquote>
<h3 id="matrix-webhook">Matrix webhook</h3>
<p><a href="https://matrix.to/#/@kinta:communia.org">kinta</a> told us:</p>
<blockquote>
<p><a href="https://www.drupal.org/project/matrix_webhook">https://www.drupal.org/project/matrix_webhook</a></p>
<p>Drupal module to receive links shared from a matrix room.  Get links provided by a matrix bot in a room.
With this module one can get media from a matrix own bot to any drupal site. Once installed and bot is created through matrix-webhooker bot.
A  blog entry about it (in spanish) in <a href="https://planet.communia.org/content/enlaces-desde-matrix">https://planet.communia.org/content/enlaces-desde-matrix</a></p>
</blockquote>
<h2 id="dept-of-interesting-projects">Dept of Interesting Projects üõ∞</h2>
<h3 id="pollvis-new-poll-visualiser-project">Pollvis - new poll visualiser project</h3>
<p>We have a couple of conferences coming up who are planning to use Matrix as part of their offering, much as we do with <a href="https://matrix.org/open-tech-will-save-us/">Open Tech Will Save Us</a>. To help add some more features, I created an MVP &quot;poll visualiser&quot;, which watches a room and works in tandem with the <a href="https://github.com/babolivier/matrix-poll-bot">poll-bot</a> from Brendan Abolivier . This project is still at the beginning, but might be interesting to some! Find the code at <a href="https://github.com/benparsons/pollvis">https://github.com/benparsons/pollvis</a>.</p>
<h2 id="dept-of-ping-table-tennis-paddle-and-ball">Dept of Ping üèì</h2>
<p>Here we reveal, rank, and applaud the homeservers with the lowest ping, as measured by <a href="https://github.com/maubot/echo">pingbot</a>, a <a href="https://github.com/maubot/maubot">maubot</a> that you can host on your own server. Join <a href="https://matrix.to/#/#ping:maunium.net">#ping:maunium.net</a> to experience the fun live, and to find out how to add YOUR server to the game.</p>
<table><thead><tr><th style="text-align: center">Rank</th><th style="text-align: center">Hostname</th><th style="text-align: center">Median MS</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">fairydust.space</td><td style="text-align: center">331</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">services.pyrahex.com</td><td style="text-align: center">537</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">heitkoetter.net</td><td style="text-align: center">604</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">nitro.chat</td><td style="text-align: center">646.5</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">mchus.pro</td><td style="text-align: center">660</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">privacytools.io</td><td style="text-align: center">671</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">matrix.vgorcum.com</td><td style="text-align: center">727.5</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">eiselecloud.de</td><td style="text-align: center">740</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">aruiz.io</td><td style="text-align: center">855</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">neko.dev</td><td style="text-align: center">923.5</td></tr>
</tbody></table>
<h2 id="that-s-all-i-know-checkered-flag">That's all I know üèÅ</h2>
<p>See you next week, and be sure to stop by <a href="https://matrix.to/#/#TWIM:matrix.org">#twim:matrix.org</a> with your updates!</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;ben-parsons&#x2F;page&#x2F;5&#x2F;">‚Äπ Previous</a>
        
    </div>
    <span class="page-number">6 / 18</span>
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;ben-parsons&#x2F;page&#x2F;7&#x2F;">Next ‚Ä∫</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;security-hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>¬© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
