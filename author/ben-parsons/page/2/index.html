<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="twitter:widgets:csp" content="on" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="twitter:site" content="@matrixdotorg" />
    <meta name="twitter:creator" content="@matrixdotorg" />

    <title>Matrix.org - Ben Parsons</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="stylesheet" href="/style.css" />

    
<link rel="alternate" type="application/rss+xml" title="RSS" href="/author/ben-parsons/atom.xml">
</head>

<body>
    
    <header class="site-header">
    <a href="/" class="brand">
        <img src="/images/matrix-logo.svg" alt="Matrix logo">
    </a>
    <input id="site-header-dropdown-checkbox" type="checkbox" class="dropdown-checkbox" aria-hidden="true">
    <label for="site-header-dropdown-checkbox" class="dropdown-button">&#xe602;</label>
    <label for="site-header-dropdown-checkbox" class="page-overlay"></label>
    <nav>
        
        
        <a href="&#x2F;about&#x2F;" class="
            ">
            About
        </a>
        
        
        
        <a href="&#x2F;blog&#x2F;" class="
            ">
            Blog
        </a>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;docs&#x2F;" class="section ">
                Documentation
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                </div>
            </div>
        </div>
        
        
        
        
        
        <div class="section-wrap">
            <a href="&#x2F;ecosystem&#x2F;" class="section ">
                Ecosystem
            </a>
            <div class="section-submenu-wrap">
                <div class="section-submenu">
                    
                    <a href="&#x2F;ecosystem&#x2F;clients&#x2F;">Clients</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;servers&#x2F;">Servers</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bots&#x2F;">Bots</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;bridges&#x2F;">Bridges</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;sdks&#x2F;">SDKs</a>
                    
                    <a href="&#x2F;ecosystem&#x2F;hosting&#x2F;">Hosting</a>
                    
                </div>
            </div>
        </div>
        
        
        
        <a href="&#x2F;podcasts&#x2F;" class="
            ">
            Podcasts
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;shop.matrix.org" class="
            ">
            Shop
        </a>
        
        
        
        <a href="&#x2F;try-matrix&#x2F;" class="primary
            ">
            Try Matrix
        </a>
        
        
    </nav>
</header>


    <main>
        
<div id="taxonomy-single">
    <div class="content">
        <header>
            <h1>Ben Parsons</h1>
            39 posts tagged with "Ben Parsons" <a href="/author">(See all Author)</a>
            
        </header>

        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;19&#x2F;this-week-in-matrix-2018-10-19&#x2F;" title="This Week in Matrix 2018-10-19">This Week in Matrix 2018-10-19</a></h2>
                <span>
                    19.10.2018 00:00
                    —
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    —
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="bridgesandsdks">Bridges and SDKs</h2>
<h3 id="slackbridge020rc1">Slack Bridge 0.2.0-rc1</h3>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>, master of the bridge, has been working with <a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> to produce a new RC for <a href="https://github.com/matrix-org/matrix-appservice-slack">bridging Matrix and Slack</a>.
<blockquote>We've got a Slack RC out at long last! Rejoice! It's absolutely massive and full of features.</blockquote>
Half-Shot even provided this explanation of how it works:
<blockquote>Integrations manager &gt; sign into slack &gt; click your channel &gt; ??? &gt; channel bridged :)</blockquote>
See <a href="https://github.com/matrix-org/matrix-appservice-slack/releases/tag/0.2.0-rc1">release notes</a>:
<blockquote>This is the first release of the Slack bridge. 0.1.0 has been the version number for previous efforts but was never an official release.</blockquote>
To test this integration, use Riot on <a href="https://riot.im/develop">https://riot.im/develop</a> and select the "Event Bridging" when adding the integration.
<h3 id="maubotpython">maubot Python</h3>
<a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>'s maubot bot system:
<blockquote>The <a href="https://github.com/maubot/maubot">maubot</a> Python rewrite I <a href="/blog/2018/10/05/this-week-in-matrix-2018-10-05/#sdks">twimmed two weeks ago</a> is now complete. The plugin system seems to work well and I'm pretty sure I'll be able to implement proper plugin reloading now.
Next I'll implement plugin config storage and some way to manage maubot and plugins (maybe a plugin to manage plugins?)</blockquote>
<h2 id="clients">Clients</h2>
<h3 id="riotweb017riotandroid0818lazyloading">Riot Web 0.17, Riot Android 0.8.18: Lazy Loading</h3>
This week saw the launch of Riot Web 0.17, and two bug-release updates (0.17.1 and 0.17.2) to fix issues on the Windows desktop app. This version is substantially faster due to its use of Lazy Loading room members. <a href="https://medium.com/@RiotChat/riot-im-web-0-17-and-ios-0-7-6-smaller-footprint-faster-launch-5ddd18a65abb">Read more here</a>.   Meanwhile, Travis continues his foray into 'first impressions' bugs - including an initial implementation of .well-known URI support!
<p>Riot Android 0.8.18 is also available from the <a href="https://play.google.com/store/apps/details?id=im.vector.app">Play Store</a> and <a href="https://f-droid.org/en/packages/im.vector.alpha/">F-Droid</a>, with Lazy Loading option available in the Labs menu (but still has a few bugs left).</p>
<p>Riot iOS meanwhile is busy implementing incremental server-side E2E key backups, and there's generally been a huge amount of work on E2E encryption UX across the board in preparation for all-new E2E on Web and iOS.  More details will be coming soon!</p>
<p>With this done, Riot is now getting a lot more attention on the <a href="https://medium.com/@RiotChat/a-sneak-peek-at-a-whole-new-riot-im-1114df653782">impending redesign</a>, with Bruno <a href="https://github.com/matrix-org/matrix-react-sdk/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+redesign+author%3Abwindels">starting to merge</a> code to the experimental branch.</p>
<h3 id="quaternion0093">Quaternion 0.0.9.3</h3>
<blockquote>After being in RC for a week, Quaternion 0.0.9.3 is ready and will be released over the weekend. Most importantly, you can now translate it into your language! Just head over to <a href="https://lokalise.co/public/730769035bbc328c31e863.62506391/">https://lokalise.co/public/730769035bbc328c31e863.62506391/</a>, register (you can optionally reuse your GitHub account), ask in #qmatrixclient:matrix.org to add your language to the list (if it's not there yet) and start translating!</blockquote>
<h3 id="coffeeonmatrixconsoleforandroid">Coffee on Matrix Console for Android</h3>
<a href="https://github.com/Matrixcoffee">Coffee</a> rolled a natural twenty for bravery this week.
<blockquote>I have decided to take up maintainership of the <a href="https://github.com/matrix-org/matrix-android-console">Matrix Console for Android</a> client. This is still the only multi-account capable Android client, but it is unmaintained and growing long in tooth. In particular, the API endpoints it uses may be removed from Synapse soon.
I will not be developing new features for it, but I will integrate reasonable patches if others want to take that on.
My own goals are to remove GCM and analytics, and get it added to F-Droid. And of course to switch to the latest API.
As part of this work, I have been fighting Gradle and its bugs to get <a href="https://github.com/matrix-org/matrix-android-sdk">matrix-android-sdk</a> to build together with <a href="https://github.com/matrix-org/matrix-android-console">matrix-android-console</a> as a git submodule, so it's no longer necessary to inject the precompiled sdk into the source code. I did not win yet.</blockquote>
<h3 id="fluffychatstablereleasecreepscloser">FluffyChat stable release creeps closer</h3>
Ubuntu Touch fans will know that <a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a> has been progressing rapidly, and the project is approaching a first stable release. You can find current features being tested as part of the release <a href="https://github.com/ChristianPauly/fluffychat/blob/master/CHANGELOG.md">here</a>.
<h3 id="nheko">nheko</h3>
<a href="https://matrix.to/#/@mujx:matrix.org">mujx</a> has decided to stop maintaining <a href="https://github.com/mujx/nheko">nheko</a>. Since many people are using it, we hope that someone will step in to continue his work. Thanks to mujx for his work so far.
<h2 id="featuredonmozillahacksblog">Featured on Mozilla Hacks blog</h2>
If you like blog posts about Matrix (and if you're reading this, you may well do), then you'll be interested to see that Matrix was featured on the <a href="https://hacks.mozilla.org/">Mozilla Hacks</a> blog: <a href="https://hacks.mozilla.org/2018/10/dweb-decentralised-real-time-interoperable-communication-with-matrix/">Decentralised, Real-Time, Interoperable Communication with Matrix</a>. The article was also picked up by <a href="https://news.ycombinator.com/item?id=18240253">Hacker News</a>.
<h2 id="raidennetworkusesmatrixfortransportthisarticleexplainsit">Raiden Network uses Matrix for transport - this article explains it</h2>
The Raiden Network enables fast payments for Ethereum. From <a href="https://raiden.network/">their website</a>:
<blockquote>The Raiden Network is an off-chain scaling solution, enabling near-instant, low-fee and scalable payments. It's complementary to the Ethereum blockchain and works with any ERC20 compatible token.</blockquote>
To help explain their use of Matrix in their solution, they have prepared an article: <a href="https://medium.com/raiden-network/raiden-transport-explained-939d7741b6f4">Raiden Transport Explained</a>.
<h2 id="synapse0337">Synapse 0.33.7</h2>
Soon, so soon, there will be a full Python 3 release for those running Synapse in worker configuration, but this one is not it. Check out <a href="/blog/2018/10/18/synapse-0-33-7-released/">Synapse 0.33.7 changes here</a>.
<h2 id="synapseonkubernetesupdate">Synapse on kubernetes update</h2>
<a href="https://github.com/ananace/">Ananace</a>:
<blockquote>tracking the latest synapse release on my <a href="https://github.com/ananace/matrix-synapse">K8s optimized image</a>. Got no real time to work on things due to deadlines at work, but that should end come November, so expect more odd Ruby stuff after that point.</blockquote>
"Odd Ruby stuff" will hopefully include a return to the <a href="https://github.com/ananace/ruby-matrix-sdk">Matrix Ruby SDK</a>!
<h2 id="mxisdv120beta2">mxisd v1.2.0-beta.2</h2>
<a href="https://matrix.to/#/@max:kamax.io">Max</a> continues work on <a href="https://github.com/kamax-io/mxisd">mxisd</a>:
<blockquote><a href="https://github.com/kamax-matrix/mxisd">mxisd</a> <a href="https://github.com/kamax-matrix/mxisd/releases/tag/v1.2.0-beta.2">v1.2.0-beta.2</a> is out, fixing bugs found during beta.1</blockquote>
<h2 id="cadairatgsoc">Cadair at GSOC</h2>
<a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> was at the <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> Mentors Summit in Mountain View last week:
<blockquote>I attended the GSOC mentor summit. I had some great conversations with people who are using matrix and with people about bridging in different chat services. A lot of matrix stickers all vanished off the overloaded sticker table. I have lots of ideas for GSOC next year, and plan to try and get many more community projects involved. Finally, I dont need to eat chocolate for a month.</blockquote>
<a style="font-weight: bold;" href="/blog/wp-content/uploads/2018/10/gsoc-chocolate.jpg"><img class="alignnone wp-image-3650 size-medium" src="/blog/wp-content/uploads/2018/10/gsoc-chocolate-300x289.jpg" alt="" width="300" height="289" /></a>
<p>GSOC chocolate: GCHOC</p>
<h2 id="untilnextweek">Until next week</h2>
Next Friday <code>/me</code> is going to be at <a href="https://mozillafestival.org/">MozFest 2018</a>, promoting Matrix, Open Source, decentralisation etc. (all the stuff we know and love), so I may change the schedule a little next week.  We're also going to reboot Matrix Live, so consider this a hiatus before Season 3 begins next week!!

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;16&#x2F;usage-of-the-matrix-js-sdk&#x2F;" title="Usage of the matrix-js-sdk">Usage of the matrix-js-sdk</a></h2>
                <span>
                    16.10.2018 00:00
                    —
                    <a href="/category/tutorials">
                        Tutorials
                    </a>
                    —
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>We have a brand new, exciting guide page offering an introduction to <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>. This guide will live with the documentation at <a href="/docs/guides/usage-of-the-matrix-js-sdk">https://matrix.org/docs/guides/usage-of-the-matrix-js-sdk</a>,  but you can find the text below.</p>
<hr />
<p>Matrix allows open real-time communications over the Internet using HTTP and JSON. This makes developing clients to connect to Matrix servers really easy! Because it's open, and uses simple syntax for messages, you can connect Matrix to anything that communicates over a standard HTTP interface - later projects in this series will explore ideas such as building bots, performing machine learning on message content, and connecting IoT devices such as Philips Hue lights.</p>
<h2 id="making-a-matrix-client">Making a Matrix Client</h2>
Let's explore how we would make a very simple Matrix client, with only the ability to perform an initial sync, and to get member lists and the timeline for rooms of our choice.
<p>This article will explore the <a href="/docs/spec/client_server/latest.html">Matrix Client-Server API</a>, making use of the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a>. Later articles may discuss making the underlying calls. Specifically we will cover:</p>
<ul>
 	<li>login</li>
 	<li>simple syncing</li>
 	<li>listening for timeline events</li>
 	<li>access the <code class="highlighter-rouge">MatrixInMemoryStore</code></li>
 	<li>sending messages to rooms</li>
 	<li>how to respond to specific messages, as a bot would</li>
</ul>
We'll use Node.js as our environment, though the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a> can also be used directly in the browser.
<p>Before we start, make sure you have Node.js and NPM installed: follow instructions at <a href="https://nodejs.org/">nodejs.org</a> for your platform. Then create a new directory to work in:</p>
<pre><code class="language-unix">mkdir my-first-matrix-client
cd my-first-matrix-client
</code></pre>
<h2 id="lets-write-javascript">Let's write JavaScript</h2>
Once you're ready, the first thing to do is install the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a> from NPM:
<pre><code class="language-unix">npm install matrix-js-sdk
</code></pre>
We include the SDK in our source exactly as expected:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="k" style="font-weight: bold;">import</span>
 <span class="nx">sdk</span>
 <span class="k" style="font-weight: bold;">from</span>
 <span class="s1" style="color: #d14;">'matrix-js-sdk'</span>
<span class="p">;</span>
<p></code></pre></p>
</div>
</div>
<h2 id="login-with-an-access-token">Login with an access token</h2>
Instantiate a new client object and use an <code class="highlighter-rouge">access token</code> to login:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">const</span>
 <span class="nx">client</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="nx">sdk</span>
<span class="p">.</span>
<span class="nx">createClient</span>
<span class="p">({'{'}</span>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;na&quot; style=&quot;color: #008080;&quot;&gt;baseUrl&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;https://matrix.org&quot;</span>
<span class="p">,</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;na&quot; style=&quot;color: #008080;&quot;&gt;accessToken&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;....MDAxM2lkZW50aWZpZXIga2V5CjAwMTBjaWQgZ2Vu....&quot;</span>
<span class="p">,</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;na&quot; style=&quot;color: #008080;&quot;&gt;userId&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;@USERID:matrix.org&quot;</span></p>
<p><span class="p">{'}'});</span></p>
<p><span class="c1" style="color: #998; font-style: italic;">// note that we use the full MXID for the userId value</span></p>
<p></code></pre></p>
</div>
</div>
<small>(<a href="http://matrix-org.github.io/matrix-js-sdk/0.11.1/global.html#createClient">jsdoc for <code class="highlighter-rouge">createClient</code></a>)</small>
<p>If you are logged into Riot, you can find an <code class="highlighter-rouge">access token</code> for the logged-in user on the Settings page.</p>
<p>If the homeserver you're logging in to supports logging in with a password, you can also retrieve an <code class="highlighter-rouge">access token</code> programmatically using the API. To do this, create a new <code class="highlighter-rouge">client</code> with no authentication parameters, then call <code class="highlighter-rouge">client.login()</code> with <code class="highlighter-rouge">&quot;m.login.password&quot;</code>:</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">const</span>
 <span class="nx">client</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="nx">sdk</span>
<span class="p">.</span>
<span class="nx">createClient</span>
<span class="p">(</span>
<span class="s2" style="color: #d14;">"https://matrix.org"</span>
<span class="p">);</span>
<p><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">login</span>
<span class="p">(</span>
<span class="s2" style="color: #d14;">&quot;m.login.password&quot;</span>
<span class="p">,</span>
<span class="p">{'{'}</span>
<span class="s2" style="color: #d14;">&quot;user&quot;</span>
<span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;USERID&quot;</span>
<span class="p">,</span>
<span class="s2" style="color: #d14;">&quot;password&quot;</span>
<span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;hunter2&quot;</span>
<span class="p">{'}'}).</span>
<span class="nx">then</span>
<span class="p">((</span>
<span class="nx">response</span>
<span class="p">)</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">response</span>
<span class="p">.</span>
<span class="nx">access_token</span>
<span class="p">);</span></p>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
In any case, once logged in either with a password or an access token, the client can get the current access token via:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="nx">console</span>
<span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">client</span>
<span class="p">.</span>
<span class="nx">getAccessToken</span>
<span class="p">());</span>
<p></code></pre></p>
</div>
</div>
<strong>Note:</strong> it is essential to keep this access token safe, as it allows complete access to your Matrix account!
<h2 id="sync-and-listen">Sync and Listen</h2>
Next we start the client, this sets up the connection to the server and allows us to begin syncing:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">startClient</span>
<span class="p">();</span>
<p></code></pre></p>
</div>
</div>
Perform a first sync, and listen for the response, to get the latest state from the homeserver:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">once</span>
<span class="p">(</span>
<span class="s1" style="color: #d14;">'sync'</span>
<span class="p">,</span>
 <span class="kd" style="font-weight: bold;">function</span>
<span class="p">(</span>
<span class="nx">state</span>
<span class="p">,</span>
 <span class="nx">prevState</span>
<span class="p">,</span>
 <span class="nx">res</span>
<span class="p">)</span>
 <span class="p">{'{'}</span>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">state</span>
<span class="p">);</span>
<span class="c1" style="color: #998; font-style: italic;">// state will be 'PREPARED' when the client is ready to use</span></p>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
Once the sync is complete, we can add listeners for events. We could listen to ALL incoming events, but that would be a lot of traffic, and too much for our simple example. If you want to listen to all events, you can add a listen as follows:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">on</span>
<span class="p">(</span>
<span class="s2" style="color: #d14;">"event"</span>
<span class="p">,</span>
 <span class="kd" style="font-weight: bold;">function</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">){'{'}</span>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">getType</span>
<span class="p">());</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">);</span></p>
<p><span class="p">{'}'})</span></p>
<p></code></pre></p>
</div>
</div>
Instead, let's just listen to events happening on the timeline of rooms for which our user is a member:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">on</span>
<span class="p">(</span>
<span class="s2" style="color: #d14;">"Room.timeline"</span>
<span class="p">,</span>
 <span class="kd" style="font-weight: bold;">function</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">,</span>
 <span class="nx">room</span>
<span class="p">,</span>
 <span class="nx">toStartOfTimeline</span>
<span class="p">)</span>
 <span class="p">{'{'}</span>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">event</span>
<span class="p">);</span></p>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
<h2 id="access-the-store">Access the Store</h2>
When we created a new client with <code class="highlighter-rouge">sdk.createClient()</code>, an instance of the default store, <code class="highlighter-rouge">MatrixInMemoryStore</code> was created and enabled. When we sync, or instruct otherwise our client to fetch data, the data is automatically added to the store.
<p>To access the store, we use accessor methods. For example, to get a list of rooms in which our user is joined:</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="c1" style="color: #998; font-style: italic;">// client.client.getRooms() returns an array of room objects</span>
<p><span class="kd" style="font-weight: bold;">var</span>
<span class="nx">rooms</span>
<span class="o" style="font-weight: bold;">=</span>
<span class="nx">client</span>
<span class="p">.</span>
<span class="nx">getRooms</span>
<span class="p">();</span></p>
<p><span class="nx">rooms</span>
<span class="p">.</span>
<span class="nx">forEach</span>
<span class="p">(</span>
<span class="nx">room</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">room</span>
<span class="p">.</span>
<span class="nx">roomId</span>
<span class="p">);</span></p>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
<small>(<a href="http://matrix-org.github.io/matrix-js-sdk/0.11.1/module-client-MatrixClient.html#getRooms">jsdoc for <code class="highlighter-rouge">client.getRooms</code></a>)</small>
<p>More usefully, we could get a list of members for each of these rooms:</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">var</span>
 <span class="nx">rooms</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="nx">client</span>
<span class="p">.</span>
<span class="nx">getRooms</span>
<span class="p">();</span>
<p><span class="nx">rooms</span>
<span class="p">.</span>
<span class="nx">forEach</span>
<span class="p">(</span>
<span class="nx">room</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;kd&quot; style=&quot;font-weight: bold;&quot;&gt;var&lt;/span&gt;
</span></code></pre>
<p><span class="nx">members</span>
<span class="o" style="font-weight: bold;">=</span>
<span class="nx">room</span>
<span class="p">.</span>
<span class="nx">getJoinedMembers</span>
<span class="p">();</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;members&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">forEach</span>
<span class="p">(</span>
<span class="nx">member</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">member</span>
<span class="p">.</span>
<span class="nx">name</span>
<span class="p">);</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;});&lt;/span&gt;
</span></code></pre>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
For each room, we can inspect the timeline in the store:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">var</span>
 <span class="nx">rooms</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="nx">client</span>
<span class="p">.</span>
<span class="nx">getRooms</span>
<span class="p">();</span>
<p><span class="nx">rooms</span>
<span class="p">.</span>
<span class="nx">forEach</span>
<span class="p">(</span>
<span class="nx">room</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;room&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">timeline</span>
<span class="p">.</span>
<span class="nx">forEach</span>
<span class="p">(</span>
<span class="nx">t</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">JSON</span>
<span class="p">.</span>
<span class="nx">stringify</span>
<span class="p">(</span>
<span class="nx">t</span>
<span class="p">.</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">content</span>
<span class="p">));</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;});&lt;/span&gt;
</span></code></pre>
<p><span class="p">{'}'});</span></p>
<p></code></pre></p>
</div>
</div>
<h2 id="send-messages-to-rooms">Send messages to rooms</h2>
To send a message, we create a content object, and specify a room to send to. In this case, I've taken the room ID of <code class="highlighter-rouge">#test:matrix.org</code>, and used it as an example:
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">var</span>
 <span class="nx">testRoomId</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="s2" style="color: #d14;">"!jhpZBTbckszblMYjMK:matrix.org"</span>
<span class="p">;</span>
<p><span class="kd" style="font-weight: bold;">var</span>
<span class="nx">content</span>
<span class="o" style="font-weight: bold;">=</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;s2&quot; style=&quot;color: #d14;&quot;&gt;&quot;body&quot;&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;Hello World&quot;</span>
<span class="p">,</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;s2&quot; style=&quot;color: #d14;&quot;&gt;&quot;msgtype&quot;&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;m.text&quot;</span></p>
<p><span class="p">{'}'};</span></p>
<p><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">sendEvent</span>
<span class="p">(</span>
<span class="nx">testRoomId</span>
<span class="p">,</span>
<span class="s2" style="color: #d14;">&quot;m.room.message&quot;</span>
<span class="p">,</span>
<span class="nx">content</span>
<span class="p">,</span>
<span class="s2" style="color: #d14;">&quot;&quot;</span>
<span class="p">).</span>
<span class="nx">then</span>
<span class="p">((</span>
<span class="nx">res</span>
<span class="p">)</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<p><span class="c1" style="color: #998; font-style: italic;">// message sent successfully</span></p>
<p><span class="p">{'}'}).</span>
<span class="k" style="font-weight: bold;">catch</span>
<span class="p">((</span>
<span class="nx">err</span>
<span class="p">)</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">err</span>
<span class="p">);</span></p>
<p><span class="p">{'}'}</span></p>
<p></code></pre></p>
</div>
</div>
<small>(<a href="http://matrix-org.github.io/matrix-js-sdk/0.11.1/module-client-MatrixClient.html#sendEvent">jsdoc for <code class="highlighter-rouge">client.sendEvent</code></a>)</small>
<p>Knowing this, we can put together message listening and message sending, to build a bot which just echos back any message starting with a &quot;!&quot;:</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight" style="background: #fff;">
<pre class="highlight" style="background: #fff;"><code><span class="kd" style="font-weight: bold;">var</span>
 <span class="nx">testRoomId</span>
 <span class="o" style="font-weight: bold;">=</span>
 <span class="s2" style="color: #d14;">"!jhpZBTbckszblMYjMK:matrix.org"</span>
<span class="p">;</span>
<p><span class="nx">client</span>
<span class="p">.</span>
<span class="nx">on</span>
<span class="p">(</span>
<span class="s2" style="color: #d14;">&quot;Room.timeline&quot;</span>
<span class="p">,</span>
<span class="kd" style="font-weight: bold;">function</span>
<span class="p">(</span>
<span class="nx">event</span>
<span class="p">,</span>
<span class="nx">room</span>
<span class="p">,</span>
<span class="nx">toStartOfTimeline</span>
<span class="p">)</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;c1&quot; style=&quot;color: #998; font-style: italic;&quot;&gt;// we know we only want to respond to messages&lt;/span&gt;
</span><span>
</span><span>&lt;span class=&quot;k&quot; style=&quot;font-weight: bold;&quot;&gt;if&lt;/span&gt;
</span></code></pre>
<p><span class="p">(</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">getType</span>
<span class="p">()</span>
<span class="o" style="font-weight: bold;">!==</span>
<span class="s2" style="color: #d14;">&quot;m.room.message&quot;</span>
<span class="p">)</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;k&quot; style=&quot;font-weight: bold;&quot;&gt;return&lt;/span&gt;
</span></code></pre>
<p><span class="p">;</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;}&lt;/span&gt;
</span><span>
</span><span>
</span><span>&lt;span class=&quot;c1&quot; style=&quot;color: #998; font-style: italic;&quot;&gt;// we are only interested in messages from the test room, which start with &quot;!&quot;&lt;/span&gt;
</span><span>
</span><span>&lt;span class=&quot;k&quot; style=&quot;font-weight: bold;&quot;&gt;if&lt;/span&gt;
</span></code></pre>
<p><span class="p">(</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">getRoomId</span>
<span class="p">()</span>
<span class="o" style="font-weight: bold;">===</span>
<span class="nx">testRoomId</span>
<span class="o" style="font-weight: bold;">&amp;&amp;</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">getContent</span>
<span class="p">().</span>
<span class="nx">body</span>
<span class="p">[</span>
<span class="mi" style="color: #099;">0</span>
<span class="p">]</span>
<span class="o" style="font-weight: bold;">===</span>
<span class="s1" style="color: #d14;">'!'</span>
<span class="p">)</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;nx&quot;&gt;sendNotice&lt;/span&gt;
</span></code></pre>
<p><span class="p">(</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">event</span>
<span class="p">.</span>
<span class="nx">content</span>
<span class="p">.</span>
<span class="nx">body</span>
<span class="p">);</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;}&lt;/span&gt;
</span></code></pre>
<p><span class="p">{'}'});</span></p>
<p><span class="kd" style="font-weight: bold;">function</span>
<span class="nx">sendNotice</span>
<span class="p">(</span>
<span class="nx">body</span>
<span class="p">)</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;kd&quot; style=&quot;font-weight: bold;&quot;&gt;var&lt;/span&gt;
</span></code></pre>
<p><span class="nx">content</span>
<span class="o" style="font-weight: bold;">=</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;s2&quot; style=&quot;color: #d14;&quot;&gt;&quot;body&quot;&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="nx">body</span>
<span class="p">.</span>
<span class="nx">substring</span>
<span class="p">(</span>
<span class="mi" style="color: #099;">1</span>
<span class="p">),</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;s2&quot; style=&quot;color: #d14;&quot;&gt;&quot;msgtype&quot;&lt;/span&gt;
</span></code></pre>
<p><span class="p">:</span>
<span class="s2" style="color: #d14;">&quot;m.notice&quot;</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;};&lt;/span&gt;
</span><span>
</span><span>&lt;span class=&quot;nx&quot;&gt;client&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">sendEvent</span>
<span class="p">(</span>
<span class="nx">testRoomId</span>
<span class="p">,</span>
<span class="s2" style="color: #d14;">&quot;m.room.message&quot;</span>
<span class="p">,</span>
<span class="nx">content</span>
<span class="p">,</span>
<span class="s2" style="color: #d14;">&quot;&quot;</span>
<span class="p">,</span>
<span class="p">(</span>
<span class="nx">err</span>
<span class="p">,</span>
<span class="nx">res</span>
<span class="p">)</span>
<span class="o" style="font-weight: bold;">=&gt;</span>
<span class="p">{'{'}</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;
</span></code></pre>
<p><span class="p">.</span>
<span class="nx">log</span>
<span class="p">(</span>
<span class="nx">err</span>
<span class="p">);</span></p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>&lt;span class=&quot;p&quot;&gt;{&#39;}&#39;});&lt;/span&gt;
</span></code></pre>
<p><span class="p">{'}'}</span></p>
<p></code></pre></p>
</div>
</div>
Take a look at the <code class="highlighter-rouge">msgtype</code> in the object above. In the previous example, we used "m.text" for this field, but now we're using "m.notice". Bots will often use "m.notice" to differentiate their messages. This allows the client to render notices differently, for example Riot, the most popular client, renders notices with a more pale text colour.
<h2 id="further">Further</h2>
There is much, much more to Matrix, the Client-Server API and the <a href="https://github.com/matrix-org/matrix-js-sdk/">matrix-js-sdk</a>, but this guide should give some understanding of simple usage. In subsequent guides we'll cover more detail and also explore projects you can build on top, such as IoT controls and chatbot interfaces. For now you can take a look at <a href="https://github.com/matrix-org/matrix-js-sdk/tree/master/examples">other examples in the matrix-js-sdk itself</a>, and also the <a href="/docs/spec/client_server/latest.html">Matrix Client-Server API</a> which it implements.

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;12&#x2F;this-week-in-matrix-2018-10-12&#x2F;" title="This Week in Matrix 2018-10-12">This Week in Matrix 2018-10-12</a></h2>
                <span>
                    12.10.2018 00:00
                    —
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    —
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="matrixspecupdates">Matrix Spec updates</h2>
<ul>
 	<li><strong><a href="https://github.com/matrix-org/matrix-doc/pull/1695">MSC1695</a></strong> <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> has a newly released proposal relating to Message Edits:
<em>"The key difference to this proposal is that it's only the event schema which is based off the relates stuff. It does NOT do any kind of aggregations but simply is a format to allow bridges/clients to specify edits in the metadata."</em></li>
 	<li><strong><a href="https://github.com/matrix-org/matrix-doc/pull/1693">MSC1693</a></strong> Erik has been thinking about state res v2 in the case of rejected events</li>
</ul>
<h2 id="libqmatrixclient040">libQMatrixClient 0.4.0</h2>
We mentioned libQMatrixClient progress last week, but this week <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> reports:
<blockquote><a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a> 0.4.0 has just been released: CS API 0.4.0, local echo, caching avatars to disk and more - check the release notes at <a href="https://github.com/QMatrixClient/libqmatrixclient/releases/v0.4.0">https://github.com/QMatrixClient/libqmatrixclient/releases/v0.4.0</a>!</blockquote>
Thanks for the work also go to <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> (who is using libQMatrixClient to author <a href="https://gitlab.com/spectral-im/spectral">Spectral</a>) and <a href="https://github.com/delijati">delijati</a>.
<h2 id="informo">Informo</h2>
<a href="https://matrix.to/#/@vabd:weu.informo.network">vadb</a>, back again with news about <a href="https://github.com/Informo">Informo</a>:
<blockquote>The Informo specifications documentation is out! ? It now lives right here: <a href="https://specs.informo.network">https://specs.informo.network</a><br />As a reminder, we were working on "phase 1" of this documentation, which goal was to outline how Informo was going to work. This is basically the foundation for a more complete technical documentation, which shall come later.<br />The idea is to enable people to give it a look as soon as possible, and to enable them to contribute to Informo as early in the design process as possible. The spec is entirely open, with a <a href="https://specs.informo.network/introduction/scsp/">process for contributions</a> documented and all its source files available on GitHub here: <a href="https://github.com/Informo/specs">https://github.com/Informo/specs</a><br />The online version I initially linked is a live version from the repo's <code>master</code> branch, which is updated each time commits are pushed to it (including on merging a PR).<br />If people have any question or remark regarding the specs, or Informo in a general manner, we'll gladly answer them in <a href="https://matrix.to/#/#discuss:weu.informo.network">#discuss:weu.informo.network</a> (or on the #informo IRC channel on Freenode, which is bridged to the Matrix room)! ?</blockquote>
<h2 id="mxisdv120beta1betarelease">mxisd v1.2.0-beta.1 (beta release)</h2>
<a href="https://matrix.to/#/@max:kamax.io">Max</a> has continued work on <a href="https://github.com/kamax-io/mxisd">mxisd</a>, an Identity Server:
<blockquote><a href="https://github.com/kamax-matrix/mxisd">mxisd</a> got a new beta release <a href="https://github.com/kamax-matrix/mxisd/releases/tag/v1.2.0-beta.1">v1.2.0-beta.1</a>.<br />It adds the ability to send email notification about room invites to existing accounts in Identity store that might not have been provisioned in the homeserver yet as users never logged in, or for users' profile that are not auto-populated with 3PIDs. This is especially targeted for onboarding/enrolling times when adopoting Matrix in groups/corporations or for custom setups.<br />We would love to hear about your experience with it!</blockquote>
<h2 id="matrixtrellobot">matrix-trello-bot</h2>
<a href="https://github.com/turt2live">TravisR</a> has been working on <a href="https://github.com/turt2live/matrix-trello-bot">matrix-trello-bot</a>:
<blockquote><a href="https://github.com/turt2live/matrix-trello-bot">matrix-trello-bot</a> has received quite the overhaul. It's gone from a small bot that had pre-determined notifications for board activity to a much more capable bot. The bot now supports managing boards (yes, you can create a board from within Matrix!), lists, and cards including creating, moving, archiving, assigning, and querying.<br /><br />On top of all that, the bot respects that not every room will want to receive every possible notification and offers commands to pick and choose which events it should notify about on a per-board basis. Feel free to <a href="https://t2bot.io/trellobot/">give it a spin</a> and check out the massive help menu with <code>!trello help</code>. Please send bugs and suggestions to GitHub :)</blockquote>
The help menu really is massive! Travis provided an image to highlight the scope of functionality provided (click for larger version):
<p><a href="/blog/wp-content/uploads/2018/10/matrix-trello-bot-2018-10-12.png"><img class="alignnone wp-image-3634 size-medium" src="/blog/wp-content/uploads/2018/10/matrix-trello-bot-2018-10-12-234x300.png" alt="" width="234" height="300" /></a></p>
<h2 id="clients">Clients</h2>
<h3 id="riot0166released">Riot 0.16.6 Released</h3>
<blockquote>Fixes only these two issues:
<ul>
 	<li>Firefox private mode being broken &gt; (https://github.com/matrix-org/matrix-react-sdk/pull/2195)</li>
 	<li>Breakage when mixing /app and /develop use (issue #7432)</li>
</ul>
As both fixes are not relevant for electron, we didn't release 0.16.6 as the electron app, but rest assured 0.17 will of course be released as electron.</blockquote>
<h3 id="fluffychat">Fluffychat</h3>
We missed this last week, but <a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a> (client for Ubuntu Touch) v0.6.0 was released, with LOTS of new features:
<ul>
 	<li>User profiles</li>
 	<li>Design improvements</li>
 	<li>Audioplayer in chat</li>
 	<li>Videoplayer in chat (only audio at the moment)</li>
 	<li>Imageviewer</li>
 	<li>Edit chat aliases</li>
 	<li>Edit chat settings and permissions</li>
 	<li>Kick, ban and unban users</li>
 	<li>Edit user permissions</li>
 	<li>New invite page</li>
 	<li>Display and edit chat topics</li>
 	<li>Change chat avatar</li>
 	<li>Change user avatar</li>
 	<li>Edit phone numbers</li>
 	<li>Edit email addresses</li>
 	<li>Display and edit archived chats</li>
 	<li>New add-chat and add-contact pages</li>
 	<li>Display contacts and find contacts with their phone number or email address</li>
 	<li>Discover public chats on the user's homeserver</li>
 	<li>Registration (currently only working with ubports.chat and NOT with matrix.org due captchas)</li>
 	<li>Register and login with phone number</li>
 	<li>Edit identity-server</li>
 	<li>Add in-app viewer for the privacy policy</li>
</ul>
<img src="../fluffychat-2018-10-12.png" alt="" /><a href="/blog/wp-content/uploads/2018/10/fluffychat-2018-10-12.png"><img class="alignnone size-full wp-image-3633" src="/blog/wp-content/uploads/2018/10/fluffychat-2018-10-12.png" alt="" width="540" height="960" /></a>
<h2 id="constructdockerimage">Construct Docker image</h2>
<a href="https://matrix.to/#/@mujx:matrix.org">mujx</a> has created a new Docker image for Construct, the C++ homeserver:
<blockquote>Construct has a new docker image (<a href="https://github.com/matrix-construct/docker-construct">https://github.com/matrix-construct/docker-construct</a>) which will ease the process of deployment</blockquote><br /><h2>Translations for Quaternion</h2><br />If it didn't seem that <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> was busy enough, he also announced translations for <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> (the original client based on <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>):<br /><blockquote><a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a> is now localisable! The web platform for translation will be set up in the nearest days; meanwhile those who can't wait can <a href="https://github.com/QMatrixClient/Quaternion/">just take the repo</a>, look how the German translation is made and copy!</blockquote>
<h2 id="thatsallwecantellyou">That's all we can tell you!</h2>
Safe travels to <a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a>, who is off to represent Matrix at the <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> mentors summit. Check out Matrix Live below:
<div class="video-container"><iframe src="https://www.youtube.com/embed/hu6fgPlpqok?rel=0" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe></div>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;10&#x2F;05&#x2F;this-week-in-matrix-2018-10-05&#x2F;" title="This Week in Matrix 2018-10-05">This Week in Matrix 2018-10-05</a></h2>
                <span>
                    05.10.2018 00:00
                    —
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    —
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="bridges">Bridges</h2>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> is supposedly back at university, but he's productive enough to have THREE updates this week (delivered in ascending order of interestingness):
<p><strong><a href="https://github.com/matrix-org/matrix-appservice-irc">matrix-appservice-irc</a> 0.11.2:</strong></p>
<blockquote><a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.11.2">https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.11.2</a> is just a hotfix release containing a few things we fixed in develop so yay.</blockquote><br /><strong><a href="https://github.com/matrix-org/matrix-appservice-node">matrix-appservice-node</a> v0.3.5:</strong><br /><blockquote><a href="https://github.com/matrix-org/matrix-appservice-node/blob/master/CHANGELOG.md#v035">https://github.com/matrix-org/matrix-appservice-node/blob/master/CHANGELOG.md#v035</a> is a long overdue update that just updates dependencies so we are no longer exposing lots of vulnerabilities<br />Updated <code>body-parser</code>, <code>express</code>, <code>morgan</code> and <code>request</code> packages to fix security vulnerabilities.</blockquote><br /><strong><a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> 1.7.0 released:</strong><br /><blockquote><a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> is out! Bundled in this version are major updates to dependencies (to stop the warnings), a logging component for quick setup of pretty winston logs and a provisoner "validator" to allow bridge admins to curate which bridges can be linked into the same room to stop the dreaded double bridge issue.<br />More details can be found at <a href="https://github.com/matrix-org/matrix-appservice-bridge/releases/tag/1.7.0">https://github.com/matrix-org/matrix-appservice-bridge/releases/tag/1.7.0</a></blockquote>
<h2 id="informonewsproject">Informo news project</h2>
<strong>Informo</strong> is an ambitious project hoping to be a "decentralised news network, making information accessible". The project lives at <a href="https://github.com/Informo">https://github.com/Informo</a>, but for now you can join <a href="https://matrix.to/#/#discuss:weu.informo.network">#discuss:weu.informo.network</a> to get their latest news.
<p><strong><a href="https://matrix.to/#/@vabd:weu.informo.network">vadb</a> provided an update:</strong></p>
<blockquote>Hey there, here's a quick update to let you know that we're making great progress towards the completion of phase 1 of Informo's specifications' documentation (i.e. general outline without going to much in depth into the technical specifications)! I've also updated the board to cut the big "Basic spec" task down into smaller tasks to give a more precise insight of our current progress<br />Once that phase 1 is done we'll publish the whole thing and migrate our work to a public GitHub repository so people can get to know Informo a bit better and contribute towards making the doc better if they want</blockquote>
<h2 id="riot">Riot</h2>
<strong><a href="https://github.com/vector-im/riot-web">riot-web</a> 16.5 released, with <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a> 0.11.1:</strong>
<p>Go see the <a href="https://github.com/matrix-org/matrix-js-sdk/blob/master/CHANGELOG.md">latest changes</a> and make sure to start using room member Lazy Loading with the latest <a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a>.</p>
<h2 id="libraries">Libraries</h2>
<strong><a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> is writing an Olm wrapper for Qt:</strong>
<blockquote>I am writing a Qt <strong>wrapper</strong> for Olm. It has APIs similar to python-olm</blockquote><br /><strong><a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> and <a href="https://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> are working on <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>:</strong><br /><blockquote><a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a> is nearing its release 0.4.0, with low-level support of CS API (coincidentally) 0.4.0 added this week. Another very useful addition is caching avatar images to the disk, not only in memory, relieving the network from dozens of extra requests when a client powered by the library is restarted. All thanks for the avatar caching PR go to Black Hat!</blockquote><br /><h2 id="sdks">SDKs</h2><br /><strong><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> on mautrix-go and mautrix-python:</strong><br /><blockquote>My gomatrix fork is now <a href="https://github.com/tulir/mautrix-go">mautrix-go</a> and the basic client API stuff in <a href="https://github.com/tulir/mautrix-python/tree/matrix-restructure">mautrix-python</a> is starting to be usable enough for me to start the rewrite of <a href="https://github.com/maubot/maubot">maubot</a> in Python.<br />For a bit of background, maubot is a dynamic plugin-based bot system. It's currently written in Go, but due to many limitations in the Go plugin system, I decided to rewrite it in Python. matrix-python-sdk doesn't have asyncio or a maintainer, so I decided to make a new framework that combines my existing mautrix-appservice-python framework with a more generic client API layer. (<a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>)</blockquote>
<h2 id="homeservers">Homeservers</h2>
<strong><a href="https://matrix.to/#/@max:kamax.io">Max</a> introduces his new server, <a href="https://github.com/kamax-grid/gridepo">Gridepo</a>:</strong>
<blockquote>mxhsd work has resumed via a new project, <a href="https://github.com/kamax-grid/gridepo">Gridepo</a>, which will be a Matrix/Grid dual-stack server. While mxhsd focused on researching the protocol and reverse-engineering the spec, <a href="https://github.com/kamax-grid/gridepo">Gridepo</a> will follow whatever is specced in its Matrix compatible mode.</blockquote><br /><strong>Synapse 0.33.6 released:</strong><br /><br />It's <a href="/blog/2018/10/04/synapse-0-33-6-released/">literally the previous blog post</a>!<br /><blockquote>we've been focusing on fixing a whole host of federation bugs to improve reliability and latency. Additionally we've squashed some py3 bugs, improved lazy loading and been working hard in the background to improve our CI infrastructure. Finally, we cleaned up the Docker file, the image is now half the size of 0.33.5.1's standing at 58 MB.<br /><br />As ever, you can <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.6">get the new update here</a> or any of the sources mentioned at <a href="https://github.com/matrix-org/synapse">https://github.com/matrix-org/synapse</a>. Note, <a href="https://pypi.org/project/matrix-synapse/">Synapse is now available from PyPI</a>.</blockquote><br /><h2 id="devopsandhosting">DevOps and Hosting</h2><br /><strong><a href="https://matrix.to/#/@slavi:devture.com">Slavi</a> on <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a>:</strong><br /><blockquote><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> has received some more improvements lately. They're mostly about the ability to tweak things affecting performance: Synapse cache factor configuration, the ability to enable/disable user presence tracking. The logging situation has also been improved for all Docker containers, so that their output would not get logged twice (once by systemd's journal, once by Docker) - something which was previously causing unpredictably-high disk usage for long-running containers.</blockquote><br /><strong><a href="https://github.com/ananace/">ananace</a>, Synapse for kubernetes:</strong><br /><blockquote>Updated the K8s tweaked packaging for Synapse 0.33.6 (And added a preliminary Python 3 version there as well)</blockquote>
<strong><a href="https://matrix.to/#/@swedneck:swedneck.xyz">swedneck</a> (literally) on IPFS:</strong>
<p><a href="https://matrix.to/#/@swedneck:swedneck.xyz">swedneck</a> is hosting riot on IPFS: <a href="https://riot.swedneck.xyz">https://riot.swedneck.xyz</a>, see also <a href="https://riot-all.swedneck.xyz">https://riot-all.swedneck.xyz</a> for all the versions currently hosted there.</p>
<h2 id="bots">Bots</h2>
<strong><a href="https://github.com/turt2live">TravisR</a>, always working on bots:</strong>
<blockquote>Through use of the <a href="https://emoncms.org">https://emoncms.org</a> API, the makerspace I help run now has power monitoring statistics available from within matrix.</blockquote><br /><h2 id="rooms">Rooms</h2><br /><strong><a href="https://github.com/Matrixcoffee">Coffee</a>, maintaining <a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a>:</strong><br /><blockquote><a href="https://matrix.to/#/#synapse:matrix.org">#synapse:matrix.org</a> became an official Matrix room! It also had a small face lift, changing from "Synapse Community" to "Synapse Admins", hopefully making its purpose and intended audience clearer.</blockquote>
<h2 id="thatsallfornow">That's all for now</h2>
That's all for now. No Matrix Live this week, but we'll be back next week with more Matrix news and another episode of Matrix Live!

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;28&#x2F;this-week-in-matrix-2018-09-28&#x2F;" title="This Week in Matrix 2018-09-28">This Week in Matrix 2018-09-28</a></h2>
                <span>
                    28.09.2018 00:00
                    —
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    —
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="dsntraveller">DSN Traveller</h2>
If you've spent any time using Matrix public rooms, you've probably seen the bot <code>DSN Traveller</code>. This is a post-grad project from Florian Jacob, an informatics student at the <a href="https://kit.edu/">Karlsruhe Institute for Technology</a>. This week, Florian handed in his thesis on Matrix!
<blockquote>In summary, I could show that Matrix has few large but many small servers. Large servers reduce the overall network load, but a significant fraction of the load is concentrated in them. Introducing more small servers would further increase the load concentration. The Matrix event graph as a Conflict-Free Replicated Data Type showed to be well-suited for reliable messaging and history synchronization, and is applicable beyond Matrix.<br />I'm now working on a scientific paper on the results, which will boil down the more than 80 pages of the thesis to something much more digestible. ? You'll hear it in TWIM when that is finished!<br /><br />Room for discussions: <a href="https://matrix.to/#/#dsn-traveller:matrix.org">#dsn-traveller:matrix.org</a><br />Website with more information on the DSN Traveller: <a href="https://dsn-traveller.dsn.scc.kit.edu/">https://dsn-traveller.dsn.scc.kit.edu/</a></blockquote><br />This really is exciting stuff! The thesis will be made available online in the future (we'll post it here.) Florian is also hoping to continue his work into Matrix research:<br /><blockquote>I'm currently in the process of trying to secure funding for a doctorate with Matrix as the topic, as that's where I can proof experience.</blockquote>
<a href="/blog/wp-content/uploads/2018/09/dsn_logo.png"><img class="alignnone size-full wp-image-3604" src="/blog/wp-content/uploads/2018/09/dsn_logo.png" alt="" width="136" height="128" /></a>
<h3 id="opensciencematrixvgorcumcom">#open-science:matrix.vgorcum.com</h3>
All this talk of academia led <a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a> and <a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> to create <a href="https://matrix.to/#/#open-science:matrix.vgorcum.com">#open-science:matrix.vgorcum.com</a>, room for discussion of Open Science topics.
<h2 id="halfshotircconnectiontracker">Half-Shot IRC Connection Tracker</h2>
As you may know, although he's now back studying for the final year of his Computer Science degree, <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> will continue to dedicate some time to bridge maintenance. He's been working on <a href="https://github.com/Half-Shot/irc-conntrack/">IRC Connection Tracker</a>, the next gen bridge for Matrix-IRC:
<blockquote>The IRC connection tracker has had yet more code and love applied to it. The headline changes are:
<ul>
 	<li>We now have a fully working IRC client that can connect to an IRCd, join channels and chat. These client's persist over &gt; the lifetime of the service.</li>
 	<li>There is a tool included with the service <code>ircctl</code> which allows you to spawn and use connections en masse. It also lets &gt; you list the state of the currently connected clients.</li>
 	<li>Work has just begun on a client library for connecting this up to the bridge, but should be swiftly completed thanks to…</li>
 	<li>A brand new spec website in the works for describing the protocol (thanks Brendan for pointing me in the right direction)</li>
</ul>
</blockquote>
Spec docs: <a href="https://half-shot.github.io/irc-conntrack/">https://half-shot.github.io/irc-conntrack/</a>
Repo: <a href="https://github.com/Half-Shot/irc-conntrack/">https://github.com/Half-Shot/irc-conntrack/</a>
Room: <a href="https://matrix.to/#/#irc-conntrack:half-shot.uk">#irc-conntrack:half-shot.uk</a>
<h2 id="fractal">Fractal</h2>
<a href="@afranke:matrix.org">Alexandre Franke</a> has the handle on <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>, the Matrix client for GNOME:
<blockquote>This week in Fractal, more refactoring and small bugfixes. About 50 commits by 5 people, one of which made their first contributions this week (congrats Rasmus!).</blockquote><br /><a href="https://matrix.to/#/@iamjsparber:matrix.org">Julian Sparber</a>, who was part of <a href="https://summerofcode.withgoogle.com/projects/?sp-search=matrix">GSOC 2018</a> on the Fractal team, has been working on Room History:<br /><blockquote>The room history refactor I was working on for fractal is upstream, now we can start to improve how messages are displayed and make the loading of older messages better.</blockquote><br />Julian is also pleased to still be heavily involved with Fractal outside GSOC.<br /><h2 id="synapse03351releasedplusdockerimagesavailable">Synapse</h2><br /><a href="/blog/2018/09/24/synapse-0-33-5-released/">Synapse 0.33.5.1</a> was released with Py3 beta support:<br /><blockquote>0.33.5.1 is an interesting release. On the one hand it contains the usual bug fixes and performance improvements of a point release, but it also our first versioned release where monolith installs can be run under Python 3.5 and 3.6! Python 3 support is very much in beta, so please be cautious but if you would like to try running under a py3 environment we'd love to get your feedback.</blockquote><br />Check out <a href="https://hub.docker.com/r/avhost/docker-matrix/tags/">https://hub.docker.com/r/avhost/docker-matrix/tags/</a> for Python 3 docker images of Synapse, look for the <code>v0.33.5.1.dev.py3</code> tag.<br />Says <a href="https://matrix.to/#/@mathijs:matrix.vgorcum.com">Mathijs</a>:<br /><blockquote>it is functional, but much like python3 support it is still a work in progress, hence the larger size</blockquote>
<h2 id="matrixonhyperboria">Matrix on Hyperboria</h2>
<a href="https://matrix.to/#/@jan.christian:gruenhage.xyz">jcg</a> has set up hypertrix.ovh:
<blockquote>I spent last night setting up hypertrix.ovh, a matrix server only listening on <a href="https://docs.meshwith.me/">Hyperboria</a>, a cjdns based end-to-end encrypted IPv6 overlay mesh network. I'd be glad if someone could be found to peer and federate with me there! Registration is open, but your client needs to be connected to Hyperboria to be able to talk to the server.</blockquote>
If you are currently using Hyperboria, go join hypertrix.ovh, or start your matrix server listening on it, and go chat to JC!
<h2 id="seaglass">Seaglass</h2>
Lots of discussion about this project, specifically the question of how to efficiently render Rich Text. macOS does not make this easy, so a solution being considered is to use a WebKit for room rendering:
<blockquote>WebKit has the advantage of being super super fast on macOS, and also very low overheads<br />The current approach uses Cocoa NSTableViews and it's horrible because Apple clearly couldn't decide how they wanted them to work and therefore it's not very optimised<br />Moving to WebKit only adds about 16mb to the RAM usage and redraws far faster than the NSTableViews can when resizing etc, and we'll save a lot on the text formatting too which currently is a bit of a mess</blockquote>
<h2 id="cadairandhalfshotontheslackbridge">Cadair and Half-Shot on the Slack Bridge</h2>
<a href="https://matrix.to/#/@cadair:cadair.com">Cadair</a> has been helping <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> with bridge maintenance, specifically by <a href="https://github.com/matrix-org/matrix-appservice-slack/pull/91">contributing to matrix-appservice-slack</a>.
<p><a href="https://github.com/matrix-org/matrix-appservice-slack">matrix-appservice-slack</a> is a Node project, built on <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a>, which is designed to bridge messages and metadata between Slack and Matrix. These updates:</p>
<ul>
 	<li>Improves pills substitutions to use the new slack mentions</li>
 	<li>Add Gitter style edit bridging</li>
 	<li>Adds a config option to specify the directory the user-store.db and room-store.db files go in</li>
 	<li>Converts slack snippets to inline code dumps in matrix</li>
</ul>
<h2 id="ma1utatestsforclient">ma1uta tests for client</h2>
<a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> has been adding tests to <a href="https://github.com/ma1uta/jmsdk">jmsdk</a>.
<h2 id="spectral">Spectral</h2>
<a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> has been working on the client formerly-known-as-Matrique: <a href="https://gitlab.com/spectral-im/spectral">Spectral</a>:
<blockquote>I added elevation shadows for some components, such as message bubble, panels, etc.</blockquote>
<a href="/blog/wp-content/uploads/2018/09/spectral-raised.png"><img class="alignnone size-full wp-image-3603" src="/blog/wp-content/uploads/2018/09/spectral-raised.png" alt="" width="960" height="674" /></a>
<h2 id="nativetoronionserviceenabledformatrixorgandriotim">Native Tor onion service enabled for matrix.org and riot.im</h2>
Cloudflare now provide Onion routing, this service has been enabled for matrix.org and riot.im. Cloudflare have a thorough explanation which is worth reading: <a href="https://blog.cloudflare.com/cloudflare-onion-service/">https://blog.cloudflare.com/cloudflare-onion-service/</a>.
<blockquote class="twitter-tweet" data-lang="en">
<p dir="ltr" lang="en">We just turned on the new native Tor onion service support for <a href="https://t.co/vidAnPoIo2">https://t.co/vidAnPoIo2</a> &amp; <a href="https://t.co/UIjS6gDkvf">https://t.co/UIjS6gDkvf</a> in cloudflare; feedback welcome! <a href="https://t.co/keXC4bjo5F">https://t.co/keXC4bjo5F</a> <a href="https://t.co/nTRmGHCt8P">pic.twitter.com/nTRmGHCt8P</a></p>
— Matrix (@matrixdotorg) <a href="https://twitter.com/matrixdotorg/status/1045612532038344704?ref_src=twsrc%5Etfw">September 28, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<h2>Spec</h2>
September was mainly spent cleaning up loose ends on the Spec after <a href="/blog/2018/09/03/matrix-spec-update-august-2018/">all the releases at the end of August</a>, and catching up on the never-ending maintenance burden of improving Synapse.  However, in October the plan is to to go back again to working full out on the S2S r0 release. Wish us luck...
<h2>Riot</h2>
<ul>
 	<li>Lazy loading members is now on by default on riot.im/develop - reducing Riot's RAM by 3-5x.  Please give it a go and test it before we ship it in Riot 0.17 (probably next week) so we can iron out any last bugs (which will probably look like user profiles going missing)</li>
 	<li>Lazy loading also ships by default in Riot/iOS in Testflight 0.7.4 - if you want in on Testflight let us know in #riot-ios:matrix.org and we'll share an invite link!</li>
 	<li>Lazy loading in Riot/Android coming real soon now; it's behind a labs flag on the develop branch if you want to experiment.</li>
 	<li>Travis has started attacking the Riot/Web '<a href="https://github.com/vector-im/riot-web/projects/12">First Impressions</a>' project (starting with unbreaking onboarding in Riot/Web when GDPR consent is enabled)</li>
 	<li>Lots and lots of UX work from Nad on E2E, Communities, Onboarding and the overall redesign, complete with a <a href="https://twitter.com/RiotChat/status/1044609832609861632">redesign workshop</a> with Jouni.</li>
 	<li>Aiming for end of Oct for first cut of redesign to be live as an experimental branch on riot.im.</li>
 	<li>Lots and lots of E2E implementation work in general; backups, cross-signing, and verification.</li>
</ul>
<h2>The end is nigh!</h2>
But only for this blog post! Check out Matrix Live below, and we'll see you back here next week. :D
<p>https://youtu.be/zo4IH4nUQ9w</p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;21&#x2F;this-week-in-matrix-2018-09-21&#x2F;" title="This Week in Matrix 2018-09-21">This Week in Matrix 2018-09-21</a></h2>
                <span>
                    21.09.2018 00:00
                    —
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    —
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="nheko060released">Nheko 0.6.0 released!</h2>
Get <a href="https://github.com/mujx/nheko/releases/v0.6.0">latest stable releases from GitHub</a>.
<h3 id="features">Features</h3>
<ul>
 	<li>Support for sending &amp; receiving markdown formatted messages.</li>
 	<li>Import/Export of megolm session keys. (Incompatible with Riot)</li>
 	<li>macOS: The native emoji picker can be used.</li>
 	<li>Context menu option to show the raw text message of an event.</li>
 	<li>Rooms with unread messages are marked in the room list.</li>
 	<li>Clicking on a user pill link will open the user profile.</li>
</ul>
<h2 id="specproposalse2ecrosssigningandbidirectionalkeyverification">Spec Proposals: E2E Cross-signing and bi-directional key verification</h2>
<a href="https://matrix.to/#/@uhoreg:matrix.org">uhoreg</a> has written up a new <a href="https://github.com/matrix-org/matrix-doc/pull/1681">work-in-progress proposal for E2E cross-signing</a>.
<blockquote>Also, although it wasn't this week, I don't think that we have previously announced the proposal for bi-directional key verification using QR codes: <a href="https://github.com/matrix-org/matrix-doc/pull/1544">https://github.com/matrix-org/matrix-doc/pull/1544</a></blockquote>
<h2 id="jeon">Jeon</h2>
Massive update from <a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> about his <a href="https://gitlab.com/ma1uta/jeon">Jeon</a> project! This update brings Jeon into line with the most recent updates to the Client-Server, Application Service, Push and Identity APIs.
<p>In ma1uta's words:</p>
<blockquote>Jeon is a set of the java interfaces and classes which describes the Matrix API.
<ul>
 	<li>client-api: r0.4.0-1 corresponds to the r0.4.0 C2S API.</li>
 	<li>application-api: r0.1.0-1 corresponse to the r0.1.0 AS API,</li>
 	<li>push-api: r0.1.0-1 corresponds to the r0.1.0 PUSH API,</li>
 	<li>identity-api: r0.1.0-1 corresponds to the r0.1.0 IS API.</li>
 	<li>All artefacts available from the Maven Central Repository.</li>
</ul>
Major changes:
<ul>
 	<li>Full support for the corresponding Matrix api.</li>
 	<li>Changed version for displaying the Matrix api version.</li>
 	<li>Added support to the asynchronous responses.</li>
</ul>
Also updated the swagger schemas generated from the code:
<ul>
 	<li><a href="https://ma1uta.github.io/swagger/c2s.json">https://ma1uta.github.io/swagger/c2s.json</a> - C2S API</li>
 	<li><a href="https://ma1uta.github.io/swagger/as.json">https://ma1uta.github.io/swagger/as.json</a> - AS API</li>
 	<li><a href="https://ma1uta.github.io/swagger/push.json">https://ma1uta.github.io/swagger/push.json</a> - PUSH API</li>
 	<li><a href="https://ma1uta.github.io/swagger/id.json">https://ma1uta.github.io/swagger/id.json</a> - IS API</li>
</ul>
And the first hotfix: application-api r0.1.0-2 with fixed url (/transactions has been changes to the _matrix/app/v1/transactions). And this release will break all AS because synapse sends transactions to the old url.</blockquote>
Join <a href="https://matrix.to/#/#jeon:matrix.org">#jeon:matrix.org</a> to discuss the progress of this product more.
<h2 id="voipsignallingsupporthaslandedinlibqmatrixclient">VoIP signalling support has landed in libQMatrixClient</h2>
Exciting times for <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>!! Thanks <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>, developer of libQMatrixClient and <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a>:
<blockquote>After some pretty long time of being in a PR/fork, VoIP signalling support has landed in libQMatrixClient! Many thanks to mariogrip (the founder of UBports) for the initial code and to delijati (a developer behind <a href="https://github.com/uMatriks/uMatriks">uMatriks</a>) for getting it to work with the most recent library.<br />The actual VoIP stack does not come included, client developers have to take whatever WebRTC implementation is available for their platform and glue the pieces together. However, as the example of uMatriks shows, this now becomes relatively easy if your platform is on good terms with WebRTC (like UBports). I look forward to further work with UBports community on keeping this platform a first-class Matrix citizen.</blockquote>
Go chat in <a href="https://matrix.to/#/#quaternion:matrix.org">#quaternion:matrix.org</a> to see the ways libQMatrixClient is developing.
<h2 id="matriqueisnowspectral">Matrique is now Spectral</h2>
After intense discussion, there is a new name for Matrique: <strong>Spectral</strong>. The repo now sites at <a href="https://gitlab.com/spectral-im/spectral">https://gitlab.com/spectral-im/spectral</a>, there is a new room at <a href="https://matrix.to/#/#spectral:encom.eu.org">#spectral:encom.eu.org</a>, and a new logo:
<p><img src="spectral.logo.png" alt="" /><a href="/blog/wp-content/uploads/2018/09/spectral.logo_.png"><img class="alignnone size-full wp-image-3580" src="/blog/wp-content/uploads/2018/09/spectral.logo_.png" alt="" width="128" height="128" /></a></p>
<h2 id="fluffychatfeaturedinopenstore">FluffyChat featured in OpenStore</h2>
<a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a> is getting some love from OpenStore, the official Ubuntu Touch app store: this week it was the featured app.
<p><img src="fluffychat-openstore.png" alt="" /><a href="/blog/wp-content/uploads/2018/09/fluffychat-openstore.png"><img class="alignnone size-full wp-image-3579" src="/blog/wp-content/uploads/2018/09/fluffychat-openstore.png" alt="" width="540" height="960" /></a></p>
<h2 id="matrixcorporal">Matrix Corporal</h2>
<a href="https://matrix.to/#/@slavi:devture.com">@slavi:devture.com</a>, creator of <a href="https://github.com/devture/matrix-corporal">Matrix Corporal</a> (a Matrix server configuration tool - "Kubernetes for Matrix"):
<blockquote><a href="https://github.com/devture/matrix-corporal">Matrix Corporal</a> has received <a href="https://github.com/devture/matrix-corporal/blob/2c65b573261cc19c3a0a1cb10168257b953200e8/CHANGELOG.md">some updates</a> over the past few weeks since its initial release: a couple of additional HTTP APIs for retrieving/destroying user access tokens; more consistency with the Matrix Client-Server specification when it comes to error responses; faster reconciliation for user accounts that are joined to many/large rooms.</blockquote><br /><h2 id="matrixdockeransibledeploy">matrix-docker-ansible-deploy</h2><br />Another project from <a href="https://matrix.to/#/@slavi:devture.com">@slavi:devture.com</a>, for those who prefer their DevOps ansible-flavoured:<br /><blockquote><a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> now also helps you <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy/blob/master/docs/configuring-well-known.md">set up service discovery</a> as per the <a href="/docs/spec/client_server/r0.4.0.html#server-discovery">.well-known Matrix specification</a>.</blockquote>
<h2 id="jcgansibleprformatrixnotifications">jcg ansible PR for matrix notifications</h2>
jcg has an <a href="https://github.com/ansible/ansible/pull/45823">upstream PR to have matrix notifications in ansible</a>. Combined with Slavi's <a href="https://github.com/spantaleev/matrix-docker-ansible-deploy">matrix-docker-ansible-deploy</a> above, you can get Matrix notifications about issues with your Matrix deployment…
<h2 id="seaglasse2eselfupdate">Seaglass E2E + self-update</h2>
<a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a>:
<blockquote><a href="https://github.com/neilalexander/seaglass">Seaglass</a> end-to-end encryption support is now complete, including device verification and blacklisting, key sharing requests, key import and export (which should be compatible with Riot) and re-requesting keys</blockquote><br />This is really exciting news for macOS matrix users!<br /><blockquote>I'm also working on auto-updating Seaglass with <a href="https://matrix.to/#/@aaron:raim.ist">Aaron Raimist</a>'s help in addition to finishing E2E support :-)</blockquote><br />:-) is right!<br /><h2 id="ma1utajmsdk">ma1uta jmsdk</h2><br /><a href="https://matrix.to/#/@ma1uta:matrix.org">ma1uta</a> must have been in a work-on-Matrix mode this week, because he has also updated <a href="https://github.com/ma1uta/jmsdk">jmsdk</a>:<br /><blockquote>I have released a new version of the java client (<a href="https://github.com/ma1uta/jmsdk/tree/master/client-sdk">https://github.com/ma1uta/jmsdk/tree/master/client-sdk</a>). The new client works is asynchronous mode, each method doesn't block the thread and return the CompletableFuture (promise in java). Then you can block thread to get the response or build a asynchronous promises chain.</blockquote><br />Finally:<br />ma1uta is also looking forward to the release of Java 11:<br /><blockquote>with the Curve25519 key agreement (http://openjdk.java.net/jeps/324) and will try make a pure java implementation of the olm/megolm. Just for fun. :)</blockquote>
<h2 id="synapsepurge">synapse-purge</h2>
<a href="@maze:strahlungsfrei.de">Maze</a>, seeing that his synapse database was already at several gigabytes, decided to produce a tool to shrink it:
<blockquote>The <a href="https://github.com/djmaze/synapse-purge/">synapse-purge</a> tool allows homeserver admins to free disk space by purging old room events from the synapse database. It is an alternative for <em>synpurge</em> which <a href="https://github.com/djmaze/synapse-purge/issues/27">currently does not work correctly</a>.<br /><br />Configuration is minimalistic at the moment. Meaning it purges all remote rooms on the server with a globally configured preservation period.</blockquote>
<h2 id="synapse">synapse</h2>
<a href="https://matrix.to/#/@andrew:shadura.me">andrewsh</a>: <a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.4">0.33.4</a> uploaded to Debian's stretch-backports, pending approval.
<p><a href="https://github.com/matrix-org/synapse/releases/tag/v0.33.5rc1">0.33.5rc1</a> is now available, with the big news being the inclusion of support for Python 3.5 and 3.6! Hawkowl's Py3 has merged for monoliths and is working pretty well, looking like 2-3x RAM improvement. Please help us test!</p>
<p>Erik's state compressor tool is pretty much finished, we've been starting to run it on things and it reduces disk usage for the state group table by at least 10x.</p>
<p>The only catch is that it's quite DB heavy whilst it runs, so we haven't run it on Matrix.org yet.</p>
<h2 id="fractal">Fractal</h2>
<a href="@afranke:matrix.org">Alexandre Franke</a> and the <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a> team:
<blockquote>refactoring of the history and other parts is going on in the master branch of <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>. We also cleaned up build and dependency related bits.</blockquote><br /><h2 id="maubotandsedbot">maubot and sedbot</h2><br /><a href="https://matrix.to/#/@tulir:maunium.net">tulir</a>:<br /><blockquote>I made some updates to <a href="https://github.com/maubot/maubot">maubot</a> and fixed most of the <a href="https://github.com/maubot/sed">sedbot</a> (S. Edbot) issues people had reported.</blockquote><br />tulir used maubot to create a <a href="https://github.com/maubot/factorial">factorial bot</a>:<br /><br /><img src="factorialbot.png" alt="" /><a href="/blog/wp-content/uploads/2018/09/factorialbot.png"><img class="alignnone size-full wp-image-3578" src="/blog/wp-content/uploads/2018/09/factorialbot.png" alt="" width="244" height="149" /></a><br /><blockquote>I might also make some useful bots soon</blockquote>
And so it was - late breaking news that maubot has been used to develop a Dictionary-definition-bot! Not available for public use yet but it proves that the project is useful!
<h2 id="riotweb">Riot Web</h2>
Lazy Loading remains the focus, we're getting closer with more bugs solved this week! To enable Lazy Loading room members and get speed and memory benefits in Riot, use the <a href="https://riot.im/develop/">develop branch</a> and enable "Lazy Loading" under "Labs" in the settings.
<p>Lots of final bug hunting for lazy loading - this is taking longer than you might expect because we're doing end-to-end CI everywhere.</p>
<p>Lots of work on E2E, Dave has been working on:</p>
<blockquote>UI for e2e key backup that's waiting for some lower level bits<br />and hopefully our e2e core code is moving from asm.js to webassembly making it, by current estimations, significantly faster.</blockquote>
Redesign work continuing as well - Bruno has been working on it this week, Jouni the designer will visit next week to continue the process.
<p>Nad has joined us to help with design bandwidth and is working on the onboarding flows for the redesign as well as fixing all the UX issues in Communities!</p>
<h2 id="riotmobilemobilesdks">Riot Mobile + Mobile SDKs</h2>
Lots of work on Lazy Loading - to be released along with Riot Web.
<h2 id="bridges">Bridges</h2>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> is joining us to work part-time on bridges going forwards - this is great news, especially for his connection-based IRC bridging antics as well as catching up on the PR and maintenance backlog for the IRC bridge and Slack bridge.
<h2 id="modular">Modular</h2>
<a href="https://modular.im/">Modular</a> (Hosted Homeservers) has first customers; if you want to give it a go please let us know!
<h2 id="finally">Finally</h2>
Thanks for reading, take a look at Matrix Live below!
<div class="video-container"><iframe src="https://www.youtube.com/embed/pusCGlJaZxU" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe></div>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;15&#x2F;this-week-in-matrix-2018-09-14&#x2F;" title="This Week in Matrix 2018-09-14">This Week in Matrix 2018-09-14</a></h2>
                <span>
                    15.09.2018 00:00
                    —
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    —
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2>Dimension</h2>
<div class="mx_EventTile_line"><span class="mx_MTextBody mx_EventTile_content"><span class="mx_EventTile_body" dir="auto"><strong>Update</strong> (this got lost in the original post; sorry Travis!): <a href="https://dimension.t2bot.io/">Dimension</a> received a security update - if you run your own Dimension instance it is strongly recommended you update right away. Telegram bridge support in Dimension is underway, with more updates expected for next week in Matrix.</span>
</span>
</div>
<h2 id="clients">Clients</h2>
<h3 id="fluffychat">Fluffychat</h3>
It's been some months since we checked in with <a href="https://github.com/ChristianPauly/fluffychat">FluffyChat</a>. If you're a Ubuntu Touch user, or have a device running it, you should see the progress that has been made recently on this Matrix client. Collected changelog 0.5.0 to latest (0.5.4):
<ul>
 	<li>Search chats</li>
 	<li>Chat avatars</li>
 	<li>Search users in chats</li>
 	<li>Security &amp; Privacy settings:</li>
</ul>
<ol>
 	<li>Disable typing notifications</li>
 	<li>Auto-accept invitations</li>
</ol>
<ul>
 	<li>New message status:</li>
</ul>
<ol>
 	<li>Sending: Activity indicator</li>
 	<li>Sent: Little cloud</li>
 	<li>Received: Tick</li>
 	<li>Seen by someone: Usericon</li>
</ol>
<ul>
 	<li>Display stickers</li>
 	<li>Minor UI improvements</li>
 	<li>FluffyChat now automatically opens the link to the matrix.org consens</li>
 	<li>Updated translations</li>
</ul>
<a href="/blog/wp-content/uploads/2018/09/2018-09-14-fluffychat.png"><img class="alignnone size-large wp-image-3560" src="/blog/wp-content/uploads/2018/09/2018-09-14-fluffychat-576x1024.png" alt="" width="576" height="1024" /></a>
<h3 id="seaglass">Seaglass</h3>
<a href="https://matrix.to/#/@neilalexander:matrix.org">Neil</a> has been keeping up the pace with <a href="https://github.com/neilalexander/seaglass">Seaglass</a> development:
<blockquote>Seaglass has had a substantial rewrite to the room cache to help improve reliability and reduce crashes, better thumbnail behaviour on inline images, various tiny visual tweaks, in-window blending, support for encryption key sharing requests for E2E rooms.<br /><br />Rendering performance has been massively increased (if you ignore the occasional bug). Resizing the window shouldn't be so slow anymore and a lot of avatar image operations are no longer repeated unnecessarily<br /><br />Other than that this week has mostly featured lots and lots of bug fixes, hopefully lots of crashes fixed.</blockquote>
Screenshot below shows the new E2E UI:
<p><a href="/blog/wp-content/uploads/2018/09/2018-09-14-seaglass-e2e-ui.png"><img class="alignnone size-large wp-image-3561" src="/blog/wp-content/uploads/2018/09/2018-09-14-seaglass-e2e-ui-1024x627.png" alt="" width="1024" height="627" /></a></p>
<h3 id="quaternion">Quaternion</h3>
When not escaping typhoons, <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> has found some time to continue work on Quaternion:
<blockquote><a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a>'s master branch is alive again - it's been prone to crashes in the last two weeks, now it shouldn't. Feel free to try the new room list organised by tag!</blockquote><br /><h3 id="simplematrix">SimpleMatrix</h3><br /><a href="https://matrix.to/#/@MTRNord:matrix.ffslfl.net">MTRNord</a> has been working on SimpleMatrix:<br /><blockquote><a href="https://gitlab.com/Nordgedanken/SimpleMatrix">SimpleMatrix</a> now supports Basic messages sending (with Commonmark) and basic receiving of messages.</blockquote>
<h3 id="minivector">miniVector</h3>
<a href="https://matrix.to/#/@bubuiic:matrix.org">Marcus</a> has re-packaged miniVector for F-Droid:
<blockquote>There's now a second matrix client available in F-Droid: <a href="https://f-droid.org/packages/com.lavadip.miniVector/">https://f-droid.org/packages/com.lavadip.miniVector/</a><br /><br />This is a fork of Riot Android done by hrjet, f-droid release done by me. It's removing mostly jitsi group call functionality and some other smaller stuff. In doing so it manages to require far less permissions and is also only 12 MB in size instead of riots 20 MB.</blockquote><br /><h3 id="matrique">Matrique</h3><br /><a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>:<br /><blockquote>Matrique gained alpha support for multiple accounts</blockquote>
This is thanks to leaning on libqmatrixclient's native multiple account support!
<p><a href="/blog/wp-content/uploads/2018/09/2018-09-14-matrique-multiple-accounts.png"><img class="alignnone size-full wp-image-3562" src="/blog/wp-content/uploads/2018/09/2018-09-14-matrique-multiple-accounts.png" alt="" width="960" height="674" /></a></p>
<h3 id="riotweb0164released">Riot Web 0.16.4 released</h3>
This is pretty much a maintenance release - fixing the DM avatar regression that crept in with 0.16.3, adding better support for warning users when their client hasn't yet synced with the server, and the final bits of work needed before we can turn on membership Lazy Loading in the upcoming Riot 0.17.
<p>Full changelogs as always are split over the three projects which make up Riot/Web:</p>
<ul>
 	<li><a href="https://github.com/vector-im/riot-web/blob/master/CHANGELOG.md#changes-in-0164-2018-09-10">https://github.com/vector-im/riot-web/blob/master/CHANGELOG.md#changes-in-0164-2018-09-10</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-react-sdk/blob/master/CHANGELOG.md#changes-in-0134-2018-09-10">https://github.com/matrix-org/matrix-react-sdk/blob/master/CHANGELOG.md#changes-in-0134-2018-09-10</a></li>
 	<li><a href="https://github.com/matrix-org/matrix-js-sdk/blob/master/CHANGELOG.md#changes-in-0110-rc1-2018-09-07">https://github.com/matrix-org/matrix-js-sdk/blob/master/CHANGELOG.md#changes-in-0110-rc1-2018-09-07</a></li>
</ul>
<h2 id="sdksandlibraries">SDKs and Libraries</h2>
<h3 id="libqmatrixclientecosystem">libQMatrixClient ecosystem</h3>
As you may know, <a href="https://gitlab.com/b0/matrique-go">Matrique</a>, led by <a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a>, and <a href="https://github.com/QMatrixClient/Quaternion">Quaternion</a>, led by <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a>, are both projects build using <a href="https://github.com/QMatrixClient/libqmatrixclient">libQMatrixClient</a>, a Qt5 library from <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> designed for writing Matrix clients. While <a href="https://matrix.to/#/@kitsune:matrix.org">kitsune</a> has been working on the library for some time, <a href="http://matrix.to/#/@bhat:encom.eu.org">Black Hat</a> has also now
started making contributions:
<blockquote>libQMatrixClient now has a pkg-config file to further ease clients building on Linux systems, as well as more convenient API to track read markers if all users, not just of the local one.</blockquote>
<h3 id="matrixjssdkv0110released"><a href="https://github.com/matrix-org/matrix-js-sdk">matrix-js-sdk</a> v0.11.0 released</h3>
<a href="https://github.com/matrix-org/matrix-js-sdk/releases">This release contains</a> support for lazy loading room members, and also some breaking changes relating to <code>startClient()</code>.
<blockquote>
<ul>
 	<li>Support for lazy loading members. This should improve performance for users who joined big rooms a lot. Pass to <code>lazyLoadMembers = true</code> option when calling <code>startClient</code>.</li>
 	<li><code>MatrixClient::startClient</code> now returns a Promise. No method should be called on the client before that promise resolves. Before this method didn't return anything.</li>
 	<li>A new <code>CATCHUP</code> sync state, emitted by <code>MatrixClient#"sync"</code> and returned by <code>MatrixClient::getSyncState()</code>, when doing initial sync after the <code>ERROR</code> state. See <code>MatrixClient</code> documentation for details.</li>
 	<li><code>RoomState::maySendEvent('m.room.message', userId)</code> &amp; <code>RoomState::maySendMessage(userId)</code> do not check the membership of the user anymore, only the power level. To check if the syncing user is allowed to write in a room, use <code>Room::maySendMessage()</code> as <code>RoomState</code> is not always aware of the syncing user's membership anymore, in case lazy loading of members is enabled.</li>
</ul>
</blockquote>
<h2 id="synapse0334released">Synapse</h2>
Synapse 0.33.4 <a href="/blog/2018/09/11/synapse-0-33-4-released/">was released</a>, with a whole host of bug fixes, some enhancements to resource usage management and a bunch of internal changes in readiness for room member state lazy loading and our ongoing port to Python 3.
<p>Meanwhile, Python 3 support for monolithic (non-worker) Synapses has finally landed on the develop branch, thanks to massive work from hawkowl and notafile - if you want to help us test and flush out any remaining byte/utf8 style errors, please create a virtualenv for python 3.6 or 3.5 (twisted doesn't support 3.7 yet) and point the develop branch of Synapse at it, tail the logs for ERRORs and report them via <a href="https://github.com/matrix-org/synapse/issues">Github</a> if/when you see them.  In practice it seems pretty stable though, and noticeably reduces RAM and speeds things up thanks to improved GC and general performance work in Python.</p>
<p>We've also discovered that <a href="http://jemalloc.net/">jemalloc</a> works <em>very</em> well at improving RAM usage on Python 2 under Linux (we haven't tried it on Python 3 yet) by providing a more fragmentation-resistant malloc implementation; if you are having problems with your Synapse RAM spiking up we recommend giving it a go.  All of the Matrix.org server is using it now.</p>
<p>Also, lots of ops work this week; Erik has prototyped a <a href="https://github.com/erikjohnston/rust-synapse-compress-state">new storage strategy for state groups</a> which shrinks storage requirements by 10x, we'll be applying this shortly to Matrix.org otherwise we're going to run out of disk space.  There was also a regression on Synapse develop on federation, where outbound requests would get stuck and never retry - this impacted the matrix.org server badly over the course of the week, but as of Friday night we have a <a href="https://github.com/matrix-org/synapse/pull/3875/files">workaround</a> in place.  We're not aware of it affecting anyone other than the matrix.org deployment (and we haven't got to the root cause yet).</p>
<h2 id="constructhomeserverprogress">Construct homeserver progress</h2>
This week:
<blockquote>Added notification counts which show up in Riot now, and expanded support for g++-7 and 8 instead of just g++-6. Construct repository is found at: <a href="https://github.com/matrix-construct/construct">https://github.com/matrix-construct/construct</a>.</blockquote>
<h2 id="ircconnectiontracker">IRC Connection Tracker</h2>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> is continuing to work on the project to split out IRC connection management from the IRC bridge, letting the bridge be restarted without interrupting IRC connections!
<p>The project is going quite well, and is going to be used on matrix.org once production ready which will really speed up upgrades and give us near zero downtime indifferent to the size of the bridge.</p>
<p>At the moment the project has the ability to spin up and maintain connections, however the connections are not supporting IRC fully yet as there are bits to do on the parsing and maintaining state side. There is also work on a top-like tool to visualise and control the service outside of the bridge so we can quickly handle any oddities if they come up. Finally, it allows you to hot reload the configuration without dropping existing connections!</p>
<p>On the work done to support this on matrix-appservice-bridge, there is basic support for stating connections on the bridge but it's in early stages at the moment.</p>
<h2 id="matrixdev">Spec</h2>
Travis has been tidying up loose bits on the Matrix spec this week:
<ul>
 	<li>experimenting with splitting out the "Room" specific bits of the spec into a <a href="https://github.com/matrix-org/matrix-doc/pull/1669">dedicated section</a> rather than being split between the CS and SS APIs;</li>
 	<li>trying to pin down a <a href="https://github.com/matrix-org/matrix-doc/pull/1607">formal grammar for room aliases</a></li>
 	<li>...and <a href="https://github.com/matrix-org/matrix-doc/pull/1598">identifiers in general</a>.</li>
</ul>
In practice, finalising the S2S API is now blocked on proving the implementation on Synapse; work on this will resume next week and then we'll document the end result and ship the r0 at last.  Timings are going to be completely determined by available manpower and what level of ops distractions we face (c.f. the Synapse section above...).  Whilst we're waiting for the final S2S details to get hashed out, Travis is going to be helping on Riot dev, to try to stop <a href="https://twitter.com/amarendra/status/1040782285807603714">stuff like this</a>, as there's no point in having the platonic ideal of a perfect spec if actual users are unable to benefit from it.
<h2>#matrix-dev</h2>
<a href="https://matrix.to/#/#matrix-dev:matrix.org">#matrix-dev:matrix.org</a> was reborn as a new room a couple of weeks ago to flush out old corrupted events, but maybe not everyone knows. Come join <a href="https://matrix.to/#/#matrix-dev:matrix.org">#matrix-dev:matrix.org</a>, it's a starting point for all developers looking to build on the platform.  We're also rebuilding #test:matrix.org and #riot:matrix.org, although once we ship the new state resolution
<h2>A sneak peek at Modular...</h2>
&nbsp;
<p><a href="https://modular.im"><img class="aligncenter wp-image-3567 size-medium" src="/blog/wp-content/uploads/2018/09/Screenshot-2018-09-15-at-11.11.00-1-300x49.png" alt="" width="300" height="49" /></a></p>
<p> </p>
<p>Finally, there's been a massive amount of work on the <a href="https://vector.im">New Vector</a> side of things to soft-launch <a href="https://modular.im">Modular</a> - a paid hosting platform for Matrix servers (and, in future, paid integrations).  At this point we're looking for early adopters who want a dedicated Riot+Synapse for communities or companies of 50 or more users - but don't want to have to run it themselves.  Modular takes the homeserver hosting we've already been providing for <a href="https://chat.status.im">Status</a>, <a href="https://tadhack.riot.im">TADHack</a> and others, and turns it into a mass-market product.  The pricing for early adopters is over 5x cheaper than Slack, so if you've been dying to have a reliable, fast and expertly maintained homeserver without any of the headaches of admining one yourself, please head over to <a href="https://modular.im">https://modular.im</a> and give it a whirl and let us know how it goes!  This is also a great way to support Matrix development in general, as money from Modular will directly keep the core Matrix team funded to work on Matrix.  Once we're happy with the soft-launch and have incorporated any feedback we'll start yelling about it as loud as we can :)</p>
<h2>Matrix Live</h2>
We've had a bit of an accidental hiatus on Matrix Live thanks to getting submerged all the different project endgames happening atm (spec releases, lazy loading, Modular, Riot redesign etc), and for the last few Fridays we've got to midnight and beyond with too much still on the todo list to justify recording a video.  But to avoid completely falling behind, here's a slightly exhausted Saturday morning update instead (warning: Matthew is not a morning person).
<p style="text-align: center;"><div class="video-container"><iframe src="https://www.youtube.com/embed/7m5adJ2n_-0" width="560" height="315" frameBorder="0" allowFullScreen="allowfullscreen"></iframe></div></p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;05&#x2F;recent-matrix-org-website-improvements&#x2F;" title="Recent matrix.org website improvements">Recent matrix.org website improvements</a></h2>
                <span>
                    05.09.2018 00:00
                    —
                    <a href="/category/general">
                        General
                    </a>
                    —
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Recently I've been working to improve some of the content on the <a href="http://matrix.org">matrix.org</a> website.</p>
<p>Firstly <strong><a href="/docs/guides/faq">the FAQ</a></strong> now has updated content and a more presentable menu.</p>
<p>We have a <strong><a href="/docs/guides/">Guides Index</a></strong>, which includes a clarified guide list, plus links to off-site contributions from the community. It's possible to click &quot;recommend&quot; on these items if you've had a good experience with them. If you have documentation or guides you'd like to see added to the list, <a href="https://matrix.to/#/@benpa:matrix.org">contact me on Matrix</a> or <a href="https://github.com/matrix-org/matrix.org">make a pull request on the site repo</a>.</p>
<p>Finally, as part of a programme to improve visibility on projects in the Matrix ecosystem, we are introducing the &quot;<strong><a href="/docs/projects/clients-matrix">Matrix Clients Matrix</a></strong>&quot;. This is a list of some of the most popular current Matrix clients in the ecosystem today, and should shed some light on current feature statuses! The list is not exhaustive, and if you would like to see your client project included, please <a href="https://matrix.to/#/@benpa:matrix.org">contact me at the same address</a>, or come chat in <a href="https://matrix.to/#/#matrix-clients:lain.haus">the Matrix Client Developers community room</a>. Pretty green Features grid:</p>
<p><a href="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-05-at-16.11.06.png"><img class="alignnone size-large wp-image-3538" src="/blog/wp-content/uploads/2018/09/Screen-Shot-2018-09-05-at-16.11.06-1024x657.png" alt="" width="1024" height="657" /></a></p>

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;09&#x2F;01&#x2F;this-week-in-matrix-2018-08-31&#x2F;" title="This Week in Matrix 2018-08-31">This Week in Matrix 2018-08-31</a></h2>
                <span>
                    01.09.2018 00:00
                    —
                    <a href="/category/this-week-in-matrix">
                        This Week in Matrix
                    </a>
                    —
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <h2 id="spec">The Spec</h2>
As many know, we've been aiming for the end of August to cut the first ever stable releases of the remaining APIs in the spec which have up to now been marked unstable - i.e. providing a snapshot of the spec which correctly matches the reference implementations (other than implementation bugs) and which can be used in isolation to develop production grade implementations of clients, servers, etc without need to reference any other implementations. There's been a massive sprint to pull this together, and as of the time of writing there are still <a href="https://github.com/matrix-org/matrix-doc/pulls?utf8=%E2%9C%93&amp;q=is%3Apr">PRs and commits</a> landing every few minutes.  We'll post a full update on our progress on Monday; meanwhile you can see a sneak peek over at the <a href="https://github.com/matrix-org/matrix-doc/projects/1">August 2018 r0</a> project board.
<p>Spec work has completely precluded any other backend dev this week.</p>
<h2 id="halfshotgonebutnotreallygone">Half-Shot, gone but not really gone</h2>
This week we <a href="/blog/2018/08/31/so-long-half-shot-thanks-for-all-the-bridges/">say farewell</a> to <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a>, who has been working fulltime on bridges over the summer. He has managed the matrix.org bridges largely single-handedly, with a big focus on the often-volatile IRC bridge(s).
<h2 id="bridges">Bridges</h2>
<h3 id="matrixappserviceirc0110">matrix-appservice-irc 0.11.0</h3>
It's a big deal, and it's rolling out to IRC networks this week. <a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> released <a href="https://github.com/matrix-org/matrix-appservice-irc/releases/tag/0.11.0">matrix-appservice-irc 0.11.0</a>, with the following included:
<p>New features &amp; improvements:</p>
<ul>
 	<li>Cache modes internally</li>
 	<li>Replace nicks with user pill mentions</li>
 	<li>Kick users if we fail to create an IRC client for them on join (aka ILINE kicks)</li>
 	<li>SASL support</li>
 	<li>Add err_nononreg so we can announce PMs that failed</li>
 	<li>Formatting of replies</li>
</ul>
Bug Fixes:
<ul>
 	<li>Fix invalidchar nick</li>
 	<li>Don't answer any msgtypes other than text in an admin room.</li>
 	<li>Fix provisoner leaving users on unlink</li>
 	<li>Fixed a bug where content of events the bridge hadn't cached were not being used in replies.</li>
 	<li>We were calling authedRequest but the request was not mocked out.</li>
 	<li>There was a bug involving intents in m-a-b so it was bumped</li>
</ul>
Metrics:
<ul>
 	<li>Metrics for MatrixHandler - Iline Kicks</li>
 	<li>Idle connection metrics</li>
 	<li>QueuePool.waitingItems should use it's internal queue size</li>
</ul>
Misc:
<ul>
 	<li>Section out tests, linting and coverage into separate stages for Travis</li>
</ul>
<h3 id="whatsapp">WhatsApp</h3>
<a href="https://matrix.to/#/@tulir:maunium.net">tulir</a> has been working on <a href="https://github.com/tulir/mautrix-whatsapp">mautrix-whatsapp</a> bridge.
<blockquote>now bridges a lot more stuff, such as formatting, media and replies. I'm also almost done with desegregating users so that Matrix users join the same group chat portals rather than everyone having their own portal to the same chat</blockquote>
<h3 id="zulipchatbridgedbyzulip">Zulip chat, bridged by Zulip</h3>
Matthew discovered there is a Matrix-Zulip bridge on the Zulip side. So if you're running a Zulip server (for some reason), and want to bridge with Matrix <a href="https://zulipchat.com/integrations/doc/matrix">check out the integration docs here</a>.
<h3 id="ircconnectiontracker">IRC Connection Tracker</h3>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> created a new component to enhance the reliability of IRC-Matrix bridging:
<blockquote><a href="https://github.com/Half-Shot/irc-conntrack">IRC Connection Tracker</a> is a thing now. It's a project to separate out the IRC connections from the appservice so the two can be run independently, so that restarting the appservice doesn't affect the IRC connections. It's hopefully going to allow bridge stuff to run faster when it's done.</blockquote>
This project is still really early stage. You can take a look at the <a href="https://docs.google.com/document/d/1NZRdUYHWltq9rh-nFZeSp3FYwtQQh5vBxa6Lw8YNtCo/">Proposal document here</a>.
<h2 id="clients">Clients</h2>
<h3 id="nheko054">Nheko 0.5.4</h3>
Not technically this week, but <a href="https://github.com/mujx/nheko">Nheko</a> <a href="https://github.com/mujx/nheko/releases/tag/v0.5.4">0.5.4 was recently released</a>
<ul>
 	<li>The settings page now includes the device id &amp; device fingerprint (thanks <a href="https://github.com/valkum">@valkum</a> )</li>
 	<li>The Polish translation has been updated (thanks <a href="https://github.com/m4sk1n">@m4sk1n</a> )</li>
</ul>
<a href="https://bintray.com/mujx/matrix/nheko/v0.5.4">Get the latest builds of Nheko from bintray</a>.
<p><a href="/blog/wp-content/uploads/2018/08/Screen-Shot-2018-09-01-at-00.00.25.png"><img class="aligncenter size-large wp-image-3518" src="/blog/wp-content/uploads/2018/08/Screen-Shot-2018-09-01-at-00.00.25-1024x663.png" alt="" width="1024" height="663" /></a></p>
<h3 id="fractal">Fractal</h3>
<a href="@afranke:matrix.org">Alexandre Franke</a> and the <a href="https://www.amazon.com/Blizzard-Bay-Hanging-Gnomies-Sweater/dp/B0744PKXMK">GNOME crew</a> have been working on <a href="https://wiki.gnome.org/Apps/Fractal">Fractal</a>, gearing up for their upcoming 3.30 release.
<blockquote>Fractal 3.29.92 got released and we are freezing strings to give GNOME translators a bit of time to complete translations for 3.30 next week. Latest developments include tweaks for the title bar, misc bug fixes, a new presentation for uploaded files (that are not images, those are still displayed inline) with buttons to download or open them.
Development builds are now parallel installable for easier testing and CI has been improved.</blockquote>
<h3 id="seaglass">Seaglass</h3>
<a href="https://matrix.to/#/@neilalexander:matrix.org">neilalexander</a>:
<blockquote><a href="https://github.com/neilalexander/seaglass">Seaglass</a> now has some early support for inline images and attachments, and supports Quick Look. Also handles emotes and notices better. It also has version numbers now, various other little fixes and Aaron Raimist has been working on auto-update support.</blockquote>
Version numbers! Now when you go to <a href="https://bintray.com/neilalexander/Seaglass/Seaglass/_latestVersion#files">download the tarball from bintray</a>, you can see what's going on!
<p>There's also been some work on supporting dark mode on Mojave (which looks particularly sexy) and even Touch Bar support!</p>
<p><a href="/blog/wp-content/uploads/2018/08/mojave.jpg"><img class="aligncenter size-large wp-image-3516" src="/blog/wp-content/uploads/2018/08/mojave-1024x640.jpg" alt="" width="1024" height="640" /></a></p>
<h3 id="riotandroidv0815">Riot Android v0.8.15</h3>
Riot Android v0.8.15 is on it's way to the Play Store.
<h4 id="changesinriotandroid081520180830">Changes in Riot Android 0.8.15 (2018-08-30)</h4>
MatrixSdk:
<ul>
 	<li>Upgrade to version 0.9.9.</li>
</ul>
Improvements:
<ul>
 	<li>Improve intent to open document (#2544)</li>
 	<li>Avoid useless dialog for permission (#2331)</li>
 	<li>Improve wording when exporting keys (#2289)</li>
</ul>
Other changes:
<ul>
 	<li>Upgrade lib libphonenumber from v8.0.1 to 8.9.12</li>
 	<li>Upgrade Google firebase libs</li>
</ul>
Bugfix:
<ul>
 	<li>Handle <code>\\/</code> at the beginning of a message to send a message starting with <code>/</code> (#658)</li>
 	<li>Escape nicknames starting with a forward slash <code>/</code> in mentions (#2146)</li>
 	<li>Improve management of Push feature</li>
 	<li>MatrixError mResourceLimitExceededError is now managed in MxDataHandler (vector-im/riot-android#2547 point 2)</li>
</ul>
<h4 id="changesinriotandroid081420180827">Changes in Riot Android 0.8.14 (2018-08-27)</h4>
MatrixSdk:
<ul>
 	<li>Upgrade to version 0.9.8.</li>
</ul>
Features:
<ul>
 	<li>Manage server quota notices (#2440)</li>
</ul>
Improvements:
<ul>
 	<li>Do not ask permission to write external storage at startup (#2483)</li>
 	<li>Update settings icon and transparent logo for notifications and navigation drawer (#2492)</li>
 	<li>URL previews are no longer requested from the server when displaying URL previews is disabled (PR #2514)</li>
 	<li>Fix some plural and puzzle strings, and remove other unused ones (#2444)</li>
 	<li>Manage System Alerts in a dedicated section</li>
</ul>
Other changes:
<ul>
 	<li>Upgrade olm-sdk.aar from version 2.2.2 to version 2.3.0</li>
 	<li>move PieFractionView from the SDK to the client (#2525)</li>
</ul>
Bugfix:
<ul>
 	<li>Fix media sharing (#2530)</li>
 	<li>Fix notification sound issue in settings (#2524)</li>
 	<li>Disable app icon badge for "listen for event" notification (#2104)</li>
</ul>
<h3 id="riotios073">Riot iOS 0.7.3</h3>
<h4 id="changesin07320180827">Changes in 0.7.3 (2018-08-27)</h4>
Improvements:
<ul>
 	<li>Upgrade MatrixKit version (v0.8.3).</li>
</ul>
Bug fix:
<ul>
 	<li>Fix input toolbar reset in RoomViewController on MXSession state change (#2006 and #2008).</li>
 	<li>Fix user interaction disabled in master view of UISplitViewController when selecting a room (#2005).</li>
</ul>
<h4 id="changesin07220180824">Changes in 0.7.2 (2018-08-24)</h4>
Improvements:
<ul>
 	<li>Upgrade MatrixKit version (v0.8.2).</li>
 	<li>Server Quota Notices in Riot (#1937).</li>
</ul>
Bug fix:
<ul>
 	<li>User defaults: the preset application language (if any) is ignored.</li>
 	<li>Recents: Avoid to open a room twice (it crashed on room creation on quick HSes).</li>
 	<li>Riot-bot: Do not try to create a room with it if the user homeserver is not federated.</li>
</ul>
<h3 id="riotweb">Riot Web</h3>
There's been lots of work debugging and optimising Lazy Loading, which is edging closer to being turned on by default.  We've also been working away at improving E2E UX - starting with finishing key backup, and then improved verification, and then finally cross-signing (at last!)
<h2 id="sdks">SDKs</h2>
<h3 id="rubymatrixsdk">Ruby Matrix SDK</h3>
<a href="https://github.com/ananace/">ananace</a> is working on the <a href="https://github.com/ananace/ruby-matrix-sdk">Ruby Matrix SDK</a> "fixing issues and documenting as I go".
<h3 id="matrixandroidsdk">Matrix Android SDK</h3>
<h4 id="changestomatrixandroidsdkin09920180830">Changes to Matrix Android SDK in 0.9.9 (2018-08-30)</h4>
Improvements:
<ul>
 	<li>Clear unreachable Url when clearing media cache (vector-im/riot-android#2479)</li>
 	<li>"In reply to" is not clickable on Riot Android yet. Make it a plain text (vector-im/riot-android#2469)</li>
</ul>
Bugfix:
<ul>
 	<li>Removing room from 'low priority' or 'favorite' does not work (vector-im/riot-android#2526)</li>
 	<li>MatrixError mResourceLimitExceededError is now managed in MxDataHandler (vector-im/riot-android#2547)</li>
</ul>
API Change:
<ul>
 	<li>MxSession constructor is now private. Please use MxSession.Builder() to create a MxSession</li>
</ul>
<h4 id="changestomatrixandroidsdkin09820180827">Changes to Matrix Android SDK in 0.9.8 (2018-08-27)</h4>
Features:
<ul>
 	<li>Manage server_notices tag and server quota notices (vector-im/riot-android#2440)</li>
</ul>
Bugfix:
<ul>
 	<li>Room aliases including the '@' and '=' characters are now recognized as valid (vector-im/riot-android#2079, vector-im/riot-android#2542)</li>
 	<li>Room name and topic can be now set back to empty (vector-im/riot-android#2345)</li>
</ul>
API Change:
<ul>
 	<li>Remove PieFractionView class from the Matrix SDK. This class is now in Riot sources (#336)</li>
 	<li>MXMediasCache.createTmpMediaFile() methods are renamed to createTmpDecryptedMediaFile()</li>
 	<li>MXMediasCache.clearTmpCache() method is renamed to clearTmpDecryptedMediaCache()</li>
 	<li>Add MXMediasCache.moveToShareFolder() to move a tmp decrypted file to another folder to prevent deletion during sharing. New API MXMediasCache.clearShareDecryptedMediaCache() can be called when the application is resumed. (vector-im/riot-android#2530)</li>
</ul>
<h3 id="matrixiossdk">Matrix iOS SDK</h3>
<h4 id="changesinmatrixiossdkin011320180827">Changes in Matrix iOS SDK in 0.11.3 (2018-08-27)</h4>
Bug fix:
<ul>
 	<li>MXJSONModel: Manage <code>m.server_notice</code> empty tag sent due to a bug server side (PR #556).</li>
</ul>
<h4 id="changesinmatrixiossdkin011220180824">Changes in Matrix iOS SDK in 0.11.2 (2018-08-24)</h4>
Improvements:
<ul>
 	<li>MXSession: Add the supportedMatrixVersions method getting versions of the specification supported by the homeserver.</li>
 	<li>MXRestClient: Add testUserRegistration to check earlier if a username can be registered.</li>
 	<li>MXSession: Add MXSessionStateSyncError state and MXSession.syncError to manage homeserver resource quota on /sync requests (vector-im/riot-ios/issues/1937).</li>
 	<li>MXError: Add kMXErrCodeStringResourceLimitExceeded to manage homeserver resource quota (vector-im/riot-ios/issues/1937).</li>
 	<li>MXError: Define constant strings for keys and values that can be found in a Matrix JSON dictionary error.</li>
 	<li>Tests: MXHTTPClient_Private.h: Add method to set fake delay in HTTP requests.</li>
</ul>
Bug fix:
<ul>
 	<li>People tab is empty in the share extension (vector-im/riot-ios/issues/1988).</li>
 	<li>MXError: MXError lost NSError.userInfo information.</li>
</ul>
<h2 id="tools">Tools</h2>
<h3 id="matrixtoriot">matrix-to-riot</h3>
<a href="https://matrix.to/#/@Half-Shot:half-shot.uk">Half-Shot</a> shared a handy Firefox extension: <a href="https://github.com/Half-Shot/matrix-to-riot">matrix-to-riot</a>
<blockquote>This is a tiny webextension to forward matrix.to links to an open Riot tab.</blockquote>
Really useful if you often click matrix.to links and find yourself needing to URL-hack to get to where you need to be.
<h2 id="thatsallfornow">That's all for now</h2>
We're going to shift this week's Matrix Live to Monday, alongside the upcoming blog post on the spec release progress. Have a good weekend!

                
            </div>
        </article>
        
        <article class="post">
            <header>
                <h2><a href="&#x2F;blog&#x2F;2018&#x2F;08&#x2F;31&#x2F;so-long-half-shot-thanks-for-all-the-bridges&#x2F;" title="So long Half-Shot, thanks for all the bridges">So long Half-Shot, thanks for all the bridges</a></h2>
                <span>
                    31.08.2018 00:00
                    —
                    <a href="/category/thoughts">
                        Thoughts
                    </a>
                    —
                    <a
                        href="/author/ben-parsons">
                        Ben Parsons
                    </a>
                </span>
                
            </header>
            <div>
                
                <p>Thank you to Half-Shot for all your work on Bridges over the last months and beyond. Today is your last day, but I'm sure we'll see you again before long. Text below is from Half-Shot.</p>
<hr />
<p>Today marks my last day of my 3 month internship at New Vector (the startup which hires many of the core Matrix team). For those of you who haven't been reading Ben's fabulous blog posts, I've been working exclusively on bridges; in particular the IRC bridge.</p>
<p>Tasked with the goal of making it crash less and run faster, I hope that the evidence is visible and people are generally having a better experience on it!</p>
<p>Some stats pulled from the matrix-appservice-irc repo:</p>
<ul>
 	<li>39 PRs closed (4 remain open)</li>
 	<li>27 issues closed, 27 issues opened.</li>
 	<li>334 commits, averaging 7.6 commits a PR.</li>
</ul>
Commits this year:
<img class="alignnone size-full wp-image-3506" src="/blog/wp-content/uploads/2018/08/commits_year.png" alt="Commits this year" width="751" height="179" />
<hr />
<p>But aside from showing off some stats, I wanted to mention all the new features:</p>
<ul>
 	<li>Replies on Matrix translate well to IRC, or as well as IRC allows.</li>
 	<li>People mentioning your IRC nick now ping your matrix user, finally!</li>
 	<li>So. Many. Metrics. Everything you wanted to know about the internals of the bridge, but were too afraid to <code>--inspect</code>.</li>
 	<li>Not spamming homeservers with join requests on startup (it makes for a happy ops team).</li>
 	<li>No longer are IRC users shackled to a "(IRC)" extension on their displayname, you can be who you want
with group flairs!</li>
 	<li>Support for node 4 has been dropped, and support for 6,8 and 10 has been assured.</li>
</ul>
On the <a href="https://github.com/matrix-org/matrix-appservice-bridge">matrix-appservice-bridge</a> side, I optimised some calls to cache locally and avoid hitting the homeserver too often, and disabling presence for homeservers that don't support it.
<p>There are future plans to make bridging more visible to Matrix Clients as a first class citizen. Ideas like <a href="https://github.com/matrix-org/matrix-doc/issues/1410">speccing a state event (MSC1410)</a> so that bridges can interact with each other properly and clients can create full bridge management views which are still decentralised from an integration manager.</p>
<p>I'd like to give a shoutout to Travis who has reviewed nearly all my changes that have made their way into the bridge, on top of all the other tasks he has on his plate. And of course a thank you to all of the Matrix team who have been very supportive during my time here.</p>

                
            </div>
        </article>
        
        <nav class="pagination">
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;ben-parsons&#x2F;">‹ Previous</a>
        
    </div>
    <span class="page-number">2 / 4</span>
    <div class="prev">
        
        <a href="&#x2F;author&#x2F;ben-parsons&#x2F;page&#x2F;3&#x2F;">Next ›</a>
        
    </div>
</nav>

    </div>
</div>

    </main>

    <footer class="site-footer">
    <div class="internal-links">
        
        <a href="&#x2F;faq">FAQs</a>
        
        <a href="&#x2F;security-disclosure-policy">Security Disclosure Policy</a>
        
        <a href="&#x2F;hall-of-fame">Security Hall of Fame</a>
        
        <a href="&#x2F;legal&#x2F;code-of-conduct">Code of Conduct for Matrix.org</a>
        
        <a href="&#x2F;legal">Legal</a>
        
        <a href="&#x2F;contact">Contact</a>
        
        <a href="https:&#x2F;&#x2F;github.com&#x2F;matrix-org&#x2F;matrix.org&#x2F;">Site Source</a>
        
    </div>
    <div class="external-links">
        <div>
            
            <a href="&#x2F;code"><img src="/assets/github.svg" alt="GitHub"></a>
            
            <a href="https:&#x2F;&#x2F;gitlab.matrix.org&#x2F;"><img src="/assets/gitlab.svg" alt="GitLab"></a>
            
            <a href="https:&#x2F;&#x2F;mastodon.matrix.org&#x2F;@matrix"><img src="/assets/mastodon.svg" alt="Mastodon"></a>
            
            <a href="https:&#x2F;&#x2F;twitter.com&#x2F;matrixdotorg"><img src="/assets/twitter.svg" alt="Twitter"></a>
            
            <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCVFkW-chclhuyYRbmmfwt6w"><img src="/assets/youtube.svg" alt="YouTube"></a>
            
        </div>
    </div>
    <p>© 2022 The Matrix.org Foundation C.I.C.</p>
</footer>

</body>

</html>
